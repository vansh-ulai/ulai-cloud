"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[33675],{38864:(e,t,n)=>{n.d(t,{I:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1,direction:"back"}}}const i=new o},63467:(e,t,n)=>{n.d(t,{y:()=>d});var o=()=>n(637997),i=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222)),th:()=>n.e(17278).then(n.bind(n,796137)),id:()=>n.e(51872).then(n.bind(n,443716)),vi:()=>n.e(51872).then(n.bind(n,443716)),he:()=>n.e(51872).then(n.bind(n,443716)),ar:()=>n.e(51872).then(n.bind(n,443716))};let a=!1,s=!1;async function l(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((({emojiByName:t,...n})=>({...n,emojiByName:{...t,...e.emojiByName}})))}async function c(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const d=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await c()}))},72307:(e,t,n)=>{n.d(t,{A:()=>o});const o={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3,aiChatSidebar:4}}},75368:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const i=new o},75600:(e,t,n)=>{n.d(t,{O:()=>r,t:()=>i});var o=()=>n(645873);const i=(0,o()._h)(new(o().O2)("PeekRenderer",(async()=>{const{default:e}=await Promise.all([n.e(9304),n.e(71003),n.e(55753),n.e(28866),n.e(70359),n.e(3165),n.e(65741),n.e(55639),n.e(2752),n.e(39438),n.e(21912),n.e(49268),n.e(43151)]).then(n.bind(n,334111));return{PeekRenderer:e}})),(e=>e.PeekRenderer)),r=(0,o()._h)(new(o().O2)("RestrictedAccess",(async()=>{const{RestrictedAccessComponent:e}=await Promise.all([n.e(22114),n.e(57314)]).then(n.bind(n,260775));return{RestrictedAccessComponent:e}})),(e=>e.RestrictedAccessComponent))},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},175947:(e,t,n)=>{n.d(t,{$C:()=>r,Hi:()=>i,Qy:()=>a,Uu:()=>s,ek:()=>c,jq:()=>d,pz:()=>u});var o=()=>n(418135);const i=52,r=45,a=44,s=44,l=30;function c(e){return e?s:a}function d(e){return 2*c(e)}function u(e,t,n){return(e&&!t?(0,o().n$)(n):12)+l}},200562:(e,t,n)=>{n.d(t,{z:()=>r});var o=()=>n(645873);const i=new(o().O2)("topbarSidebarButton",(async()=>await n.e(62033).then(n.bind(n,81292)))),r=(0,o()._h)(i,(e=>e.TopbarSidebarButton))},208993:(e,t,n)=>{n.d(t,{W:()=>u});n(296540);var o=()=>n(401497),i=()=>n(699143),r=()=>n(718827),a=()=>n(493552),s=()=>n(246760),l=()=>n(460292),c=()=>n(859428),d=n(474848);function u({tooltipTitle:e,tooltipDescription:t,buttonProps:n,iconSize:o="small",iconColorVariant:r="tertiary",tooltipWidth:u}){return(0,d.jsx)(c().A,{placement:"top",style:u?{width:u}:void 0,renderTooltip:()=>(0,d.jsxs)(i().Y1,{gap:2,direction:"vertical",children:[(0,d.jsx)(a().D,{styleKey:"Caption/Medium",colorVariant:"inversePrimary",children:e}),t?(0,d.jsx)(a().D,{styleKey:"Caption/Regular",colorVariant:"inverseSecondary",children:t}):null]}),render:e=>(0,d.jsx)(p,{buttonProps:n,...e,children:(0,d.jsx)(l().Q,{iconGroup:s().G,colorVariant:r,variantName:o})}),textWrap:Boolean(u)})}function p({children:e,buttonProps:t,...n}){const i=(0,o().IS)((()=>({button:{borderRadius:2}})),[]);return t?(0,d.jsx)(r().Ay,{style:i.button,...t,...n,children:e}):(0,d.jsx)("span",{...n,children:e})}},212473:(e,t,n)=>{n.r(t),n.d(t,{arrowUpRightSquareIcon:()=>r,iconDefinition:()=>i});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M7.875 7c0-.345.28-.625.625-.625H13c.345 0 .625.28.625.625v4.5a.625.625 0 1 1-1.25 0V8.509l-5.12 5.12a.625.625 0 1 1-.884-.883l5.12-5.121H8.5A.625.625 0 0 1 7.875 7"}),(0,o.jsx)("path",{d:"M3.125 5.25c0-1.174.951-2.125 2.125-2.125h9.5c1.174 0 2.125.951 2.125 2.125v9.5a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875v-9.5a.875.875 0 0 0-.875-.875z"})]})},r=(0,n(340498).wt)("arrowUpRightSquare",i)},224011:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(20022);class i extends(()=>n(757695))().Store{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await o().Y5.get();void 0!==e&&this.setState({isFullScreen:e})},o().Y5.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const r=new i},240865:(e,t,n)=>{n.d(t,{V:()=>r});var o=()=>n(56366),i=()=>n(765957);function r(e){return(0,o().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},241181:(e,t,n)=>{n.d(t,{p:()=>r});var o=n(296540),i=()=>n(56366);function r({collectionStore:e,layoutModule:t}){const n=(0,i().K8)((()=>Boolean(null==e?void 0:e.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0}))),[e]);return(0,o.useMemo)((()=>!(!t||!e)&&("properties"===t.type&&"pinned"!==t.variant&&n)),[e,n,t])}},246760:(e,t,n)=>{n.d(t,{G:()=>o});const o=(0,n(340498).xh)("questionMarkCircled",{default:{loader:()=>n.e(35839).then(n.bind(n,835839))},small:{loader:()=>n.e(83633).then(n.bind(n,183633))},mini:{loader:()=>n.e(58431).then(n.bind(n,658431))},large:{loader:()=>n.e(38405).then(n.bind(n,838405))}})},253448:(e,t,n)=>{n.d(t,{d:()=>D});var o=n(296540),i=()=>n(59226),r=()=>n(726637),a=()=>n(484714),s=()=>n(56366),l=()=>n(929219),c=()=>n(718827),d=()=>n(98126),u=()=>n(69708),p=()=>n(896628),g=()=>n(231297),m=()=>n(608581),v=()=>n(145214),h=()=>n(559273),f=()=>n(401497),b=()=>n(534177),y=n(474848);function S({src:e,placeholderSrc:t,placeholderBehavior:n,imageStyle:i,containerStyle:r,onLoadComplete:a,testId:s}){const[l,c]=(0,o.useState)(!0);let d;switch(n){case"force-show-placeholder":d=!0;break;case"force-show-src":d=!1;break;case"show-placeholder-if-loading-src":d=!!t&&(l||void 0===e);break;default:(0,b().HB)(n)}const u=(0,f().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...r},srcWrapper:{...d&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[r,d]);(0,o.useEffect)((()=>{void 0!==e&&c(!0)}),[e]);const p=(0,o.useCallback)((e=>{c(!1),null==a||a()}),[a]);return(0,y.jsxs)("div",{style:u.container,children:[(0,y.jsx)(h().A,{src:e,onLoad:p,style:i,placeholderStyle:u.srcWrapper,placeholderLoadedStyle:u.srcWrapper,testId:s}),t?(0,y.jsx)(h().A,{src:t,style:i,placeholderStyle:u.placeholderWrapper,placeholderLoadedStyle:u.placeholderWrapper}):void 0]})}var w=()=>n(773382),x=()=>n(360083),A=()=>n(801678),I=()=>n(454305),k=()=>n(600871),C=()=>n(393686),M=()=>n(568365),P=()=>n(77246),j=()=>n(867772),_=()=>n(478726);var B=()=>n(645873);const E=new(B().O2)("AnimatedCoverImageActionBar",(async()=>n.e(40454).then(n.bind(n,166913)))),T=(0,B()._h)(E,(e=>e.AnimatedCoverImageActionBar)),L=280,R={display:"flex",alignItems:"center",justifyContent:"center",padding:"4px 6px",borderInlineEnd:`1px solid ${n(100622).IF.whiteWithAlpha(.2)}`};function D(e){const{store:t,disabled:n,paddingRight:r,paddingLeft:l,height:c,proxyWidth:u}=e,m=(0,i().X)("action_bar_reskin"),v=(0,a().v3)(),f=(0,a().Y0)(),b=(0,s().uB)(void 0,I().A),C=(0,s().K8)((()=>n||"suggest"===P().Uv.getMode(t)||(0,k().aD)(f)),[n,t,f]),_=(0,s().K8)((()=>t.getCover()),[t]),B=(0,s().O$)(M().M),[E,R]=(0,o.useState)(void 0);if(!_)return null;const D=B.loadingMode!==j().pF&&B.loadingMode!==j().Wc;return(0,y.jsx)(A().A,{mouseStore:b,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:o,reset:i}=e;g().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{p().yY({store:t,coverPosition:o,transaction:e}),i()}})}(e,t,v),renderControl:({handleRepositionClick:e,handleSavePositionClick:n,handleCancelClick:o,isVisible:i,isRepositioning:a})=>m?C?null:(0,y.jsx)(T,{store:t,mouseStore:b,imageUrl:E,handleRepositionClick:e,handleSavePositionClick:n,handleCancelClick:o,visible:i,isRepositioning:a,paddingLeft:l,paddingRight:r}):(0,y.jsx)(W,{handleRepositionClick:e,handleSavePositionClick:n,handleCancelClick:o,isVisible:i,isRepositioning:a,lastProxiedUrl:E,store:t,disabled:C,paddingRight:r,paddingLeft:l,mouseStore:b}),source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:c,maxHeight:L,cursor:"default"},preventClickPropagation:!0,render:e=>(0,y.jsxs)(o.Fragment,{children:[(0,y.jsx)(x().A,{url:_.cover,isAuthenticated:!0,permissionRecord:_.pointer,width:u,onFinishedLoadingProxyUrl:R,render:(t,n)=>{const o={width:"100%",height:c,maxHeight:L,objectFit:"cover",opacity:D?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:c,maxHeight:L};return(0,y.jsx)(S,{src:n,placeholderSrc:D?B.dataURL:void 0,placeholderBehavior:D?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:o,onLoadComplete:H,testId:"pageCover"})}},_.pointer.id),D?(0,y.jsxs)("div",{style:h().f,children:[(0,y.jsx)(d().A,{size:"md",style:{marginInlineEnd:4}}),(0,y.jsx)("div",{style:{minWidth:30,textAlign:"end"},children:void 0!==B.uploadProgress?(0,y.jsx)(w().A,{percentage:B.uploadProgress}):B.progressText?(0,y.jsx)("span",{children:B.progressText}):null})]}):void 0]})})}function H(){M().M.reset()}function W({isVisible:e,isRepositioning:t,handleCancelClick:n,handleRepositionClick:i,handleSavePositionClick:d,lastProxiedUrl:p,store:g,disabled:h,paddingRight:f,paddingLeft:b,mouseStore:S}){const w=(0,a().v3)(),x=(0,u().tz)(),A=(0,o.useCallback)((e=>function(e,t,n,o,i){i.reset();const r=e.target.getBoundingClientRect();C().W({environment:t,intl:n,store:o,rect:r,from:"cover_actions"})}(e,w,x,g,S)),[w,x,g,S]),I=(0,s().K8)((()=>M().M.state.loadingMode),[]),k=(0,s().K8)((()=>function(e){return e.isFullWidth()?"100%":_().x6}(g)),[g]),P=(0,s().O$)(l().e);return h||I!==j().pF||!P?null:(0,y.jsx)(v().A,{animate:{width:k,opacity:e?1:0},style:{position:"absolute",pointerEvents:e?"auto":"none",maxWidth:"100%",top:48},children:(0,y.jsxs)(m().A,{isVisible:e,position:"bottom",style:{marginInlineEnd:f,marginInlineStart:b},children:[t?void 0:(0,y.jsx)(c().Ay,{style:{borderInlineEnd:r().A.isMobile?"none":void 0,...R},onClick:A,children:(0,y.jsx)(u().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),t||r().A.isMobile?void 0:(0,y.jsx)(c().Ay,{style:{...R,borderInlineEnd:"none"},onClick:e=>i(e,p),children:(0,y.jsx)(u().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),t&&!r().A.isMobile?(0,y.jsx)(c().Ay,{style:R,onClick:d,children:(0,y.jsx)(u().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}):void 0,t&&!r().A.isMobile?(0,y.jsx)(c().Ay,{style:{...R,borderInlineEnd:"none"},onClick:n,children:(0,y.jsx)(u().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})}):void 0]})})}},271084:(e,t,n)=>{n.d(t,{k:()=>i});n(581454);class o extends(()=>n(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort((([e,t],[n,o])=>o-t)).map((([e,t])=>e))}}const i=new o;(0,n(852832).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,n)=>{function o(e){let t,n,o;return async(...i)=>t?(o=i,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...i),t)}n.d(t,{A:()=>o})},318088:(e,t,n)=>{n.d(t,{_:()=>L});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(75435),l=()=>n(30537),c=()=>n(526278),d=()=>n(940563),u=()=>n(617668),p=()=>n(340498),g=()=>n(69708),m=()=>n(899963),v=()=>n(44551),h=()=>n(758356);var f=()=>n(502907),b=()=>n(855813),y=()=>n(659715),S=()=>n(109488),w=()=>n(492553),x=()=>n(38864),A=()=>n(712505),I=()=>n(285790),k=()=>n(35392),C=()=>n(417392),M=()=>n(859428),P=n(474848);const j=(0,g().YK)({newTabButton:{id:"desktopTopbarBrowserHistoryButton.newTabButton.label",defaultMessage:"New tab"},goBackButton:{id:"desktopTopbarBrowserHistoryButtons.goBackButton.label",defaultMessage:"Go back"},goForwardButton:{id:"desktopTopbarBrowserHistoryButton.goForwardButton.label",defaultMessage:"Go forward"}});function _(){const e=(0,g().tz)(),t=(0,r().K8)((()=>s().A.state.isTabPositionSupported),[]);return(0,P.jsx)(M().A,{renderTooltip:()=>(0,P.jsxs)("div",{style:{display:"flex"},children:[e.formatMessage(j.newTabButton),(0,P.jsx)(k().A,{name:"newTab",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:n=>(0,P.jsx)(I().A,{ariaLabel:e.formatMessage(j.newTabButton),icon:e=>(0,u().plusIcon)({...e,width:p().Ev.lg,height:p().Ev.lg}),colorVariant:"primary",className:"notion-new-tab-button",style:{position:"relative"},onClick:()=>function(e){v().electronApi&&null!==v().electronApi&&void 0!==v().electronApi&&v().electronApi.newTab?v().electronApi.newTab():(0,h().V)({url:"",makeTabActive:!0,position:e?"end":"start"})}(t),...n})})}function B({isNavigationHistorySupported:e}){const t=(0,g().tz)(),n=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,c().w)({...e,width:p().Ev.lg,height:p().Ev.lg})),[]),s=(0,r().K8)((()=>!w().H.canGoBack()),[]);return(0,P.jsx)(M().A,{renderTooltip:()=>(0,P.jsxs)("div",{style:{display:"flex"},children:[t.formatMessage(j.goBackButton),(0,P.jsx)(k().A,{name:"goBack",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:o=>(0,P.jsx)(I().A,{ariaLabel:t.formatMessage(j.goBackButton),icon:a,colorVariant:"primary",className:"notion-history-back-button",disabled:s,style:{position:"relative",width:24,height:24},onClick:t=>function(e,t,n){m().Lt(t,{type:"back"});const o=e.metaKey||e.ctrlKey;n&&o?(0,b().Y)(t,"back"):(0,f().a)(t)}(t,n,e),onContextMenu:()=>{!s&&e&&x().I.setState({direction:"back",open:!0})},...o})})}function E({isNavigationHistorySupported:e}){const t=(0,g().tz)(),n=(0,i().v3)(),a=(0,o.useCallback)((e=>(0,d().arrowStraightRightIcon)({...e,width:p().Ev.lg,height:p().Ev.lg})),[]),s=(0,r().K8)((()=>!w().H.canGoForward()),[]);return(0,P.jsx)(M().A,{renderTooltip:()=>(0,P.jsxs)("div",{style:{display:"flex"},children:[t.formatMessage(j.goForwardButton),(0,P.jsx)(k().A,{name:"goForward",style:{opacity:.5,marginInlineStart:4}})]}),placement:"bottom",alignment:"center",originGap:6,render:o=>(0,P.jsx)(I().A,{ariaLabel:t.formatMessage(j.goForwardButton),icon:a,colorVariant:"primary",className:"notion-history-forward-button",disabled:s,style:{position:"relative",width:24,height:24},onClick:t=>function(e,t,n){m().Lt(t,{type:"forward"});const o=e.metaKey||e.ctrlKey;n&&o?(0,b().Y)(t,"forward"):(0,y().s)(t)}(t,n,e),onContextMenu:()=>{!s&&e&&x().I.setState({direction:"forward",open:!0})},...o})})}function T(e){const{topbarFeatureController:t}=e,n=(0,r().K8)((()=>{var e;return(null===(e=s().A.state.preferences)||void 0===e?void 0:e.isNavigationHistoryEnabled)&&s().A.state.isNavigationHistorySupported}),[]),o=(0,a().IS)((e=>({container:{position:"relative",display:"flex",flexShrink:0,gap:4}})),[]);return(0,P.jsx)(S().A,{capture:!0,render:e=>(0,P.jsxs)("div",{style:o.container,...e,children:[(0,P.jsx)(B,{isNavigationHistorySupported:n}),(0,P.jsx)(E,{isNavigationHistorySupported:n}),t.showNewTabButton?(0,P.jsx)(_,{}):null]})})}function L(e){const{topbarFeatureController:t}=e,{isElectron:n}=(0,i().Y0)(),o=(0,r().O$)(s().b),a=(0,r().K8)((()=>A().default.isCenterPeekOpen()),[]);return!n||o?null:(0,P.jsx)(C().Ay,{trapFocus:!1,style:{background:"transparent",borderRadius:0,boxShadow:"none"},origin:(0,P.jsx)(T,{topbarFeatureController:t}),render:()=>(0,P.jsx)(T,{topbarFeatureController:t}),placementToOrigin:"center",alignmentToOrigin:"center",open:a,disableMouseCapture:!0,preventCaptureEsc:!0,preventScaleTransition:!0,preventOpacityTransition:!0,popupType:l().n.Popup})}},332751:(e,t,n)=>{n.d(t,{I:()=>r});var o=()=>n(170722),i=()=>n(369241);function r(){o().A.state.isActive&&(i().A.setState({...i().A.state,open:!1}),o().A.setState({...o().A.state,isActive:!1,isAnimatingClosed:!0}))}},369241:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(463830).A)},393686:(e,t,n)=>{n.d(t,{W:()=>v});var o=()=>n(726637),i=()=>n(901389),r=()=>n(896628),a=()=>n(383594),s=()=>n(675925),l=()=>n(231297),c=()=>n(892632),d=()=>n(972435),u=()=>n(867772),p=()=>n(568365);const g=1500,m=(0,n(69708).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function v({environment:e,intl:t,store:n,rect:o,from:d}){a().W(e,{originGap:8,originRect:o,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:t.formatMessage(m.pageCover),onDelete:()=>{!function({environment:e,store:t}){a().I(),l().createAndCommit({userAction:"PageCover.handleDelete",environment:e,canUndo:!0,perform:e=>{r().PT({store:t,transaction:e})}})}({environment:e,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:({url:t,position:o})=>{(0,s().o)(e,{action:"edit_cover",block_type:"page",from:d},(i=>{f({environment:e,store:n,url:{originUrl:t},position:o,callback:i})}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:t.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:o=>{(0,s().o)(e,{action:"edit_cover",block_type:"page",from:d},(r=>{var s;a().I(),c().QM({environment:e,file:o[0],bucket:"secure",record:(null===(s=n.getCoverStore())||void 0===s?void 0:s.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:b,onProgress:y,onComplete:t=>{var o;o={environment:e,store:n,url:{originUrl:t},callback:r},h({...o,position:.5})},onError:()=>{i().f1(t.formatMessage(m.uploadFailed))}})}))}},{type:"embed",title:t.formatMessage(m.embedTitle),inputPlaceholder:t.formatMessage(m.embedPlaceholder),caption:t.formatMessage(m.embedCaption),buttonText:t.formatMessage(m.embedSubmit),onChange:t=>{(0,s().o)(e,{action:"edit_cover",block_type:"page",from:d},(o=>{var i;i={environment:e,store:n,url:t,callback:o},h({...i,position:.5}),a().I()}))}},{type:"unsplash",onChange:({url:t,position:o})=>{(0,s().o)(e,{action:"edit_cover",block_type:"page",from:d},(i=>{f({environment:e,store:n,url:{originUrl:t},position:o,callback:i})}))}}]})}async function h(e){const{environment:t,store:n,url:o,position:i,callback:a}=e,{serverCommitResult:s}=l().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{r().fg({store:n,url:o,position:i||.5,transaction:e})}});await s,a(),p().M.state.loadingMode===u().vS&&p().M.setState({loadingMode:u().Gi,dataURL:p().M.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:d().A.formatMessage(m.downloading)})}function f(e){h(e),o().A.isMobile&&a().I()}function b(e){const{file:t,name:n,size:o}=e;if(a().I(),p().M.setState({loadingMode:u().Wc,file:t,name:n,size:o}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{var t;const n=(null===(t=e.target)||void 0===t?void 0:t.result)??void 0;n&&"string"!=typeof n||p().M.state.loadingMode!==u().Wc||p().M.setState({...p().M.state,loadingMode:u().vS,uploadProgress:0,dataURL:n})},e.readAsDataURL(t)}else p().M.state.loadingMode===u().Wc&&p().M.setState({...p().M.state,loadingMode:u().vS,dataURL:t.dataURL,progressText:d().A.formatMessage(m.preparing)});else p().M.state.loadingMode===u().Wc&&p().M.setState({...p().M.state,loadingMode:u().vS,progressText:d().A.formatMessage(m.preparing)})}function y(e){const{progressPercent:t,progressText:n}=e;p().M.state.loadingMode===u().vS&&p().M.setState({...p().M.state,uploadProgress:t,progressText:n})}},395546:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,infoCircleSmallIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M7.9 4.425a.775.775 0 1 0 0 1.55.775.775 0 0 0 0-1.55M6.95 6.5a.625.625 0 1 0 0 1.25h.425V10H6.95a.625.625 0 1 0 0 1.25h2.1a.625.625 0 1 0 0-1.25h-.425V7.125A.625.625 0 0 0 8 6.5z"}),(0,o.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},r=(0,n(340498).wt)("infoCircleSmall",i)},396896:(e,t,n)=>{n.d(t,{VP:()=>l,fI:()=>s});n(296540);var o=()=>n(401497),i=n(474848);function r(e,t){const n={};if(e.margin)if("number"==typeof e.margin||"auto"===e.margin)n.marginInlineStart=e.margin,n.marginInlineEnd=e.margin,n.marginTop=e.margin,n.marginBottom=e.margin;else{const t=e.margin.split(/\s+/);1===t.length?(n.marginInlineStart=t[0],n.marginInlineEnd=t[0],n.marginTop=t[0],n.marginBottom=t[0]):2===t.length?(n.marginTop=t[0],n.marginBottom=t[0],n.marginInlineStart=t[1],n.marginInlineEnd=t[1]):3===t.length?(n.marginTop=t[0],n.marginInlineStart=t[1],n.marginInlineEnd=t[1],n.marginBottom=t[2]):4===t.length&&(n.marginTop=t[0],n.marginInlineEnd=t[1],n.marginBottom=t[2],n.marginInlineStart=t[3])}if(t.padding)if("number"==typeof t.padding)n.paddingInlineStart=t.padding,n.paddingInlineEnd=t.padding,n.paddingTop=t.padding,n.paddingBottom=t.padding;else{const e=t.padding.split(/\s+/);1===e.length?(n.paddingInlineStart=e[0],n.paddingInlineEnd=e[0],n.paddingTop=e[0],n.paddingBottom=e[0]):2===e.length?(n.paddingTop=e[0],n.paddingBottom=e[0],n.paddingInlineStart=e[1],n.paddingInlineEnd=e[1]):3===e.length?(n.paddingTop=e[0],n.paddingInlineStart=e[1],n.paddingInlineEnd=e[1],n.paddingBottom=e[2]):4===e.length&&(n.paddingTop=e[0],n.paddingInlineEnd=e[1],n.paddingBottom=e[2],n.paddingInlineStart=e[3])}return e.marginInlineStart&&(n.marginInlineStart=e.marginInlineStart),e.marginInlineEnd&&(n.marginInlineEnd=e.marginInlineEnd),e.marginTop&&(n.marginTop=e.marginTop),e.marginBottom&&(n.marginBottom=e.marginBottom),t.paddingInlineStart&&(n.paddingInlineStart=t.paddingInlineStart),t.paddingInlineEnd&&(n.paddingInlineEnd=t.paddingInlineEnd),t.paddingTop&&(n.paddingTop=t.paddingTop),t.paddingBottom&&(n.paddingBottom=t.paddingBottom),n}function a(e){const t=(0,o().IS)((t=>{const n=function(e){const t={};return void 0!==e.margin&&(t.margin=e.margin),void 0!==e.marginTop&&(t.marginTop=e.marginTop),void 0!==e.marginBottom&&(t.marginBottom=e.marginBottom),void 0!==e.marginInlineStart&&(t.marginInlineStart=e.marginInlineStart),void 0!==e.marginInlineEnd&&(t.marginInlineEnd=e.marginInlineEnd),t}({margin:e.margin,marginTop:e.marginTop,marginBottom:e.marginBottom,marginInlineStart:e.marginInlineStart,marginInlineEnd:e.marginInlineEnd}),o=function(e){const t={};return void 0!==e.padding&&(t.padding=e.padding),void 0!==e.paddingTop&&(t.paddingTop=e.paddingTop),void 0!==e.paddingBottom&&(t.paddingBottom=e.paddingBottom),void 0!==e.paddingInlineStart&&(t.paddingInlineStart=e.paddingInlineStart),void 0!==e.paddingInlineEnd&&(t.paddingInlineEnd=e.paddingInlineEnd),t}({padding:e.padding,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingInlineStart:e.paddingInlineStart,paddingInlineEnd:e.paddingInlineEnd});return{root:{display:"flex",flexDirection:e.flexDirection,alignItems:e.alignItems,justifyContent:e.justifyContent,alignSelf:e.alignSelf,gap:e.gap??"inherit",flexGrow:e.grow,flexWrap:e.wrap,height:e.height,width:e.width,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:e.minHeight,...r(n,o)}}}),[e.flexDirection,e.alignItems,e.justifyContent,e.alignSelf,e.gap,e.margin,e.padding,e.grow,e.wrap,e.height,e.marginTop,e.marginBottom,e.marginInlineStart,e.marginInlineEnd,e.paddingTop,e.paddingBottom,e.paddingInlineStart,e.paddingInlineEnd,e.width,e.maxWidth,e.maxHeight,e.minWidth,e.minHeight]);return(0,i.jsx)("div",{style:t.root,children:e.children})}function s(e){return(0,i.jsx)(a,{flexDirection:"row",...e})}function l(e){return(0,i.jsx)(a,{flexDirection:"column",...e})}},418135:(e,t,n)=>{n.d(t,{n$:()=>s,rx:()=>a,yA:()=>l});var o=()=>n(496603);const i=.5,r=4.9,a=1;function s(e){switch(o().qE(o().LI(e,1),i,r)){case i:return 155;case.6:return 128;case.7:return 108;case.8:return 94;case.9:return 83;default:return 75}}function l(e){const t=o().qE(o().LI(e,1),i,r);switch(t){case i:return 273;case.6:return 228;case.7:return 195;case.8:return 171;case.9:return 151;case 1:return 136;case 1.1:return 123;case 1.2:return 113;case 1.3:return 105;case 1.4:return 97;case 1.5:return 91;case 1.6:return 85;default:return Math.max(85-Math.floor(10*(t-1.6)*5),0)}}},426388:(e,t,n)=>{n.d(t,{S:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("notionLogo",{viewBox:"0 0 120 126",svg:(0,o.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},441467:(e,t,n)=>{n.d(t,{DZ:()=>U,Ek:()=>z,hN:()=>N,i5:()=>K,of:()=>F});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(672577),n(803949);var o=()=>n(779315),i=()=>n(700500),r=()=>n(179034),a=()=>n(197959),s=()=>n(161479),l=()=>n(798880),c=()=>n(201980),d=()=>n(878523),u=()=>n(182641),p=()=>n(383594),g=()=>n(384944),m=()=>n(332751),v=()=>n(538527),h=()=>n(231297),f=()=>n(892632),b=()=>n(594794),y=()=>n(972435),S=()=>n(962845),w=()=>n(299545),x=()=>n(953418),A=()=>n(906537),I=()=>n(486666),k=()=>n(372154),C=()=>n(261358),M=()=>n(148832),P=()=>n(404783),j=()=>n(555776),_=()=>n(116008),B=()=>n(543225),E=()=>n(59320),T=()=>n(528787),L=()=>n(681634),R=()=>n(583824),D=()=>n(36088),H=()=>n(807060),W=()=>n(405981);const U=(0,n(69708).YK)({emojiPicker:{defaultMessage:"Reaction",id:"ReactionBar.emojiModalMenu.title"},emojiTitle:{id:"recordIcon.emojiTab.title",defaultMessage:"Emoji"}});function F(e){const{environment:t,blockStore:n,multiSelection:o,rect:i,formulasModule:r}=e;let a=i;if(!a){const e=A().get();if(!e)return;a=A().getRect(e)}if(!a)return;const s=a.width,l=a.height,c=a.right-s;_().A.setState({open:!0,rect:new DOMRect(c,a.top,s,l),type:"inline",content:"reaction",blockStore:n,blockId:n.id,multiSelection:o,emoji:void 0}),p().W(t,{originGap:4,originRect:a,popupWidth:I().jv,popupHeight:I().GF,isSmallWidth:!1,title:y().A.formatMessage(U.emojiPicker),currentTab:"emoji",onCancel:()=>_().A.reset(),tabs:[{type:"emoji",title:y().A.formatMessage(U.emojiTitle),hideRandomButton:!0,onChange:e=>{const n=_().A.state;n.open&&"reaction"===n.content&&(_().A.setState({...n,emoji:e}),K({environment:t,formulasModule:r}),p().I())}}]})}async function N(e){var t;const{environment:n,blockStore:i,multiSelection:r,rect:a,from:l,property_id:c}=e;if(_().A.hasContent())return void(0,W()._y)({environment:n,reason:"starting_new"});let u=a;if(!u){const e=A().get();if(!e)return;u=A().getRect(e)}if(!u)return;const p=u.width,g=u.height,v=u.right-p,h=new(P().A)(n,(0,s().e)(i.pointer.spaceId));_().A.setState({open:!0,rect:new DOMRect(v,u.top,p,g),type:"inline",content:"comment",blockStore:i,lastKnownBlockStore:i,blockId:i.id,multiSelection:r,lastEditables:(0,S().$W)(r),discussionInputStore:h,property_id:c,from:l}),x().VG({element:null===(t=o().A.UpdateSidebarCommentScroller)||void 0===t?void 0:t.getNode(),environment:n,options:{top:0,behavior:"smooth"}}),j().A.setActiveWithSource("text_annotation"),m().I(),await(0,D().M)({discussionInputStore:h,environment:n}),d().z0(n,{from:l})}function K(e){const{environment:t,allowActionsWhileCommenting:n,skipOpeningDiscussion:o,formulasModule:s}=e,p=_().A.state;if(p.open){const e="comment"===p.content?p.property_id:void 0,g=_().A.getBlockStore()??_().A.getLastKnownBlockStore();if(_().A.hasContent()&&(!n||g))if("inline"===p.type)h().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:o=>{const s=function(e){const{environment:t,multiSelection:n,transaction:o,allowActionsWhileCommenting:s}=e,{id:l}=t.currentUser;if(!l)return;const d=s?_().A.getLastSelectedEditables():(0,S().$W)(n).filter((({store:e})=>e.table===r().ev));if(!d||0===d.length)return;const u=(0,C().zH)(d[0].store),p=(0,b().Z1)({environment:t,table:a().$Y,spaceId:u.pointer.spaceId}),g=[],m=new Set;d.forEach((({store:e,selection:n},r)=>{m.add(e.id);const a=(0,C().zH)(e);if(!(a instanceof M().B))return;const s=a.getType(),l=a.getFormat();if(s&&(0,i().pD)(s,l))return;let d=e.getValue();const u=c().xbM(d,n);v().Mw({environment:t,store:e,selection:u,annotation:[c().Ifu.Discussion,p],transaction:o}),d=e.getValue();const h=c().Ffo(d,u.startIndex,u.endIndex),f=0===r?[]:[c().Ey_("\n")];g.push(...f,...h)}));const h=(0,S().ZS)({multiSelection:n,filterCommonAncestors:!1,focus:void 0});if(h)for(const r of h.stores){if(m.has(r.id))continue;const e=r.getType(),t=r.getFormat();e&&(0,i().pD)(e,t)||(0,B().B)({blockStore:r,discussionId:p,transaction:o})}return{blockStore:u,context:g,discussionId:p}}({environment:t,multiSelection:p.multiSelection,transaction:o,allowActionsWhileCommenting:n});if(!s)return;const{context:l,blockStore:u,discussionId:m}=s;if("comment"===p.content){const i=p.discussionInputStore.state.textStore.getValue()||[],r=p.discussionInputStore.state.files,{discussionStore:a,commentStore:s}=(0,E().G)({createDiscussionArgs:{type:"default",context:l,property_id:e},blockStore:u,environment:t,transaction:o,commentTextValue:i,files:f().JC(r),discussionId:m}),{property_type:c,collection_id:v,collection_view_id:h,view_type:b,collection_view_block_id:y}=(0,H().q)(e,g);d().bJ(t,{discussion_id:a.id,discussion_type:a.getType(),comment_id:s.id,parent_block_id:a.getParentId(),from:_().A.state.open&&"comment"===_().A.state.content?_().A.state.from:void 0,property_id:e,property_type:c,collection_view_id:h,view_type:b,collection_id:v,collection_view_block_id:y}),n&&k().A.addNewDiscussionId(m)}else p.emoji&&V({context:l,blockStore:u,environment:t,transaction:o,icon:p.emoji,discussionId:m})},skipUpdatingEditedMetadata:!0});else if("block"===p.type)if("comment"===p.content){const o=p.discussionInputStore.state.textStore.getValue()||[],i=p.discussionInputStore.state.files;n?g&&h().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:n=>{(0,R().i)({environment:t,type:"default",blockStore:g,commentTextValue:o||[],files:i,transaction:n,property_id:e,formulasModule:s})},skipUpdatingEditedMetadata:!0}):h().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDiscussion",environment:t,canUndo:!0,perform:n=>{(0,R().i)({environment:t,type:"default",blockStore:p.blockStore,commentTextValue:o||[],files:i,transaction:n,property_id:e,formulasModule:s})},skipUpdatingEditedMetadata:!0})}else{const e=t.currentUser.id,{emoji:n,blockStore:o}=p,i=w().O3(o,{recursivelyLoadAllDiscussions:!1}).find((e=>e.getReactions().length>0));n&&e&&h().createAndCommit({userAction:"newDiscussionMenuActions.submitNewDefaultDiscussion.addReaction",environment:t,canUndo:!0,perform:r=>{null!=i&&i.isDefined()?T().createReaction({environment:t,transaction:r,store:i,icon:n,currentActorPointer:{table:l().oo,id:e},discussionLocation:"block_menu"}):V({context:void 0,blockStore:o,environment:t,transaction:r,icon:n})},skipUpdatingEditedMetadata:!0})}(0,L().c)(t);const m=n?g&&g.getAssociatedCollectionStore():p.blockStore.getAssociatedCollectionStore();o||e||!m||u().B4({environment:t,blockStore:n?g??p.blockStore:p.blockStore,shouldFocusDiscussion:!0,analyticsFrom:"db_page_comments",rect:_().A.state.rect,recursivelyLoadAllDiscussions:!1})}}function V(e){const{context:t,blockStore:n,environment:o,transaction:i,icon:r}=e,c=e.discussionId??(0,b().Z1)({environment:o,table:a().$Y,spaceId:n.pointer.spaceId});if(void 0===o.currentUser.id)return;const d=g().vt({environment:o,table:"discussion",args:{type:"default",id:c,parent:n.pointer,context:t,space_id:(0,s().e)(n.pointer.spaceId)},inMemoryRecordCache:n.inMemoryRecordCache,transaction:i});(0,B().B)({transaction:i,blockStore:n,discussionId:d.id});const u={table:l().oo,id:o.currentUser.id};return T().createReaction({environment:o,transaction:i,store:d,icon:r,currentActorPointer:u,discussionLocation:"block_menu"}),d}function z(e){const{environment:t}=e;if(!t.currentUser.id)return;const n=_().A.getPropertyId();if(n){var o;const e=null===(o=_().A.getBlockStore())||void 0===o?void 0:o.getPropertyStore(n);if(e)return{blockStore:e,context:e.getValue()}}const r=_().A.getLastSelectedEditables();if(!r||0===r.length)return;const a=(0,C().zH)(r[0].store),s=[],l=new Set;return r.forEach((({store:e,selection:t},n)=>{l.add(e.id);const o=(0,C().zH)(e);if(!(o instanceof M().B))return;const r=o.getType(),a=o.getFormat();if(r&&(0,i().pD)(r,a))return;const d=e.getValue(),u=c().xbM(d,t),p=c().Ffo(d,u.startIndex,u.endIndex),g=0===n?[]:[c().Ey_("\n")];s.push(...g,...p)})),{blockStore:a,context:s}}},517288:(e,t,n)=>{n.d(t,{O:()=>c});var o=()=>n(383594),i=()=>n(972435),r=()=>n(486666),a=()=>n(129522),s=()=>n(116008),l=()=>n(441467);function c(e){const{environment:t,blockStore:n,rect:c,skipOpeningDiscussionOnSubmit:d,formulasModule:u}=e,p=c??a().K.getRect(n);if(!p)return;const g=p.width,m=p.height,v=p.right-g;s().A.setState({open:!0,rect:new DOMRect(v,p.top,g,m),type:"block",content:"reaction",blockStore:n,blockId:n.id,emoji:void 0}),o().W(t,{originGap:4,originRect:p,popupWidth:r().jv,popupHeight:r().GF,isSmallWidth:!1,title:i().A.formatMessage(l().DZ.emojiPicker),currentTab:"emoji",onCancel:()=>s().A.reset(),tabs:[{type:"emoji",title:i().A.formatMessage(l().DZ.emojiTitle),hideRandomButton:!0,onChange:e=>{const n=s().A.state;n.open&&"reaction"===n.content&&(s().A.setState({...n,emoji:e}),(0,l().i5)({environment:t,skipOpeningDiscussion:d,formulasModule:u}),o().I())}}]})}},526278:(e,t,n)=>{n.d(t,{w:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.97 15.26 12.06",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},i=(0,n(340498).wt)("arrowStraightLeft",o)},528787:(e,t,n)=>{n.r(t),n.d(t,{createReaction:()=>x,toggleReaction:()=>w});n(898992),n(354520),n(672577),n(581454),n(737550);var o=()=>n(785082),i=()=>n(343666),r=()=>n(197959),a=()=>n(204384),s=()=>n(161479),l=()=>n(798880),c=()=>n(534177),d=()=>n(878523),u=()=>n(722101),p=()=>n(384944),g=()=>n(231297),m=()=>n(594794),v=()=>n(285068),h=()=>n(878710),f=()=>n(606846),b=()=>n(741817),y=()=>n(725332),S=()=>n(807060);function w(e){const{discussionLocation:t,environment:n,transaction:i,store:u,icon:p}=e,m=function({store:e,icon:t}){const n=(0,h().G_)(e,e.pointer,"reactions").getValue();if(void 0===n)return;return n.map((t=>{const n=v().L.createChildStore(e,{table:a().ez,id:t,spaceId:(0,s().e)(e.pointer.spaceId)});if(n.isDefined())return n})).filter(c().O9).find((e=>e.getIcon()===t))}({store:u,icon:p});if(void 0===n.currentUser.id)return;const S={table:l().oo,id:n.currentUser.id};return null!=m&&m.isDefined()?function({store:e,actorPointer:t,transaction:n,environment:i,discussionLocation:a}){var s;const l={store:e,actorPointer:t,transaction:n,environment:i,discussionLocation:a},c=e.getParentStore(),u=(null==c?void 0:c.table)===r().$Y?c:null==c?void 0:c.getParentStore(),p=(null===(s=e.getActors())||void 0===s?void 0:s.some((e=>e.id===t.id)))??!1;u&&A(u,c)&&(0,y().U)({transaction:n,discussionStore:u});return p?(function(e){var t,n;const{store:i,actorPointer:a,discussionLocation:s,transaction:l,environment:c}=e;if(!i.isDefined())return;const u=i.getParentStore(),p=(null==u?void 0:u.table)===r().$Y?u:null==u?void 0:u.getParentStore(),m=o().eR.includes(s),h=null==p||null===(t=p.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),y=v().L.getUserVisibleReactions(u),S=1===y.length&&1===i.getActors().length&&i.getActors()[0].id===c.currentUser.id;d().fq({environment:c,reaction_value:i.getIcon(),comment_id:i.getParentId(),discussion_id:null==p?void 0:p.id,discussion_type:null==p?void 0:p.getType(),parent_block_id:null==p?void 0:p.getParentId(),parent_collection_id:null==p||null===(n=p.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),reaction_count:i.getActors().length??0,from:s,...m&&{inbox_session_id:f().Ay.state.sessionId,notification_page_id:null==h?void 0:h.id}});const w=i.getModel();g().applyOperation({transaction:l,store:i,operation:w.ops.removeActor(a)}),S&&u&&u.table===r().$Y&&(0,b().v)({environment:c,discussionStore:u,transaction:l})}(l),"Removed"):(function(e){var t,n;const{store:i,actorPointer:a,discussionLocation:s,transaction:l,environment:c}=e;if(!i.isDefined())return;const u=i.getParentStore(),p=(null==u?void 0:u.table)===r().$Y?u:null==u?void 0:u.getParentStore(),m=o().eR.includes(s),v=null==p||null===(t=p.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();d().MP({environment:c,reaction_value:i.getIcon(),comment_id:i.getParentId(),discussion_id:null==p?void 0:p.id,discussion_type:null==p?void 0:p.getType(),parent_block_id:null==p?void 0:p.getParentId(),parent_collection_id:null==p||null===(n=p.getParentStore())||void 0===n?void 0:n.getParentCollectionIdUpToTwoLevels(),reaction_count:i.getActors().length??0,from:s,...m&&{inbox_session_id:f().Ay.state.sessionId,notification_page_id:null==v?void 0:v.id}});const h=i.getModel();g().applyOperation({transaction:l,store:i,operation:h.ops.appendActor(a)})}(l),"Added")}({environment:n,store:m,actorPointer:S,transaction:i,discussionLocation:t}):(x({environment:n,transaction:i,store:u,icon:p,currentActorPointer:S,discussionLocation:t}),"Added")}function x({environment:e,transaction:t,store:n,icon:i,currentActorPointer:l,discussionLocation:c}){var g,v;const b=(0,m().JH)({environment:e,table:a().ez,spaceId:(0,s().e)(n.pointer.spaceId)}),w=n.table===r().$Y?n:n.getParentStore(),x=o().eR.includes(c),I=null==w||null===(g=w.getParentStore())||void 0===g?void 0:g.getNavigableBlockStore(),k=null==w?void 0:w.getPropertyId(),C=null==w?void 0:w.getParentStore(),{property_type:M,collection_id:P,collection_view_id:j,view_type:_,collection_view_block_id:B}=(0,S().q)(k,C);d().MP({environment:e,reaction_value:i,comment_id:n.id,discussion_id:null==w?void 0:w.id,discussion_type:null==w?void 0:w.getType(),parent_block_id:null==w?void 0:w.getParentId(),parent_collection_id:null==w||null===(v=w.getParentStore())||void 0===v?void 0:v.getParentCollectionIdUpToTwoLevels(),reaction_count:0,from:c,...x&&{inbox_session_id:f().Ay.state.sessionId,notification_page_id:null==I?void 0:I.id},property_type:M,collection_id:P,collection_view_id:j,view_type:_,collection_view_block_id:B});const E=p().vt({environment:e,table:b.table,args:{id:b.id,spaceId:b.spaceId,commentId:n.id,icon:i,actorPointer:l},inMemoryRecordCache:n.inMemoryRecordCache,transaction:t}),T=(0,h().G_)(n,n.pointer,"reactions");u().BC({parentStore:T,appendStore:E,transaction:t}),w&&A(w,n)&&(0,y().U)({transaction:t,discussionStore:w})}function A(e,t){var n;if(!e||!t||t.table!==i().SN)return!1;const o=null===(n=e.getUserSeenRecordStore())||void 0===n?void 0:n.getLastSeenAt();return!o||o<t.getCreatedTime()}},529803:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{}const i=new o},539412:(e,t,n)=>{n.d(t,{$y:()=>b,jc:()=>f,x9:()=>h});n(296540);var o=()=>n(564884),i=()=>n(484714),r=()=>n(56366),a=()=>n(212473),s=()=>n(922189),l=()=>n(69708),c=()=>n(209660),d=()=>n(511393),u=()=>n(529803),p=()=>n(780262),g=()=>n(807778),m=()=>n(671812),v=n(474848);function h(){const e=(0,r().K8)((()=>{const{editsBlocked:e}=p().A.state;return e??!1}),[]),t=(0,i().v3)();return(0,r().K8)((()=>(0,g().Jq)(t)),[t])&&e}function f(){return(0,r().K8)((()=>{var e;const t=u().A.state;return null==t||null===(e=t.data)||void 0===e?void 0:e.invoiceHostedUrl}),[])}function b(){const e=(0,i().v3)(),t=f(),n=(0,r().K8)((()=>{var e;const t=u().A.state;return(null==t||null===(e=t.data)||void 0===e?void 0:e.overdueInvoiceCount)??0}),[]),o=(0,r().K8)((()=>(0,d().h)(e)),[e]),p=function(e,t){if(e)return t>1?(0,v.jsx)(l().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",id:"uncollectibleExperience.uncollectibleExperienceOverlay.multipleInvoicesMessageContent",values:{overdueInvoiceCount:t}}):(0,v.jsx)(l().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"uncollectibleExperience.uncollectibleExperienceOverlay.messageContent"});return(0,v.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberMessageContent",defaultMessage:"Access to Notion is limited"})}(o,n),g=function(e){if(e)return;return(0,v.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberSecondaryLabel",defaultMessage:"Contact a workspace owner to update your workspace’s payment method"})}(o),h=function(e,t,n){if(t){const o=(0,m().a)(n);return n=>{o&&(y(t,e),o(n))}}return n=>{y(t,e),c().Ow()}}(e,o,t),b=function(e){if(e)return(0,v.jsx)(l().sA,{defaultMessage:"View unpaid invoice",id:"uncollectibleExperience.uncollectibleExperienceOverlay.buttonLabel"});return(0,v.jsx)(l().sA,{id:"uncollectibleExperience.uncollectibleExperienceOverlay.memberButtonLabel",defaultMessage:"View workspace owner"})}(o);return{clickAction:h,ctaMessage:b,primaryMessage:p,secondaryMessage:g,ctaIcon:o?a().arrowUpRightSquareIcon:s().personCircleFillIcon,tooltipBodyMessage:o?b:g,isWorkspaceOwner:o,overdueInvoiceCount:n}}function y(e,t){(0,o().u)({environment:t,event:{eventName:"subscription_uncollectible_blurred_experience_cta_clicked",eventProperties:{is_workspace_owner:e}}})}},568365:(e,t,n)=>{n.d(t,{M:()=>o});const o=new(n(867772).Ay)},573792:(e,t,n)=>{n.d(t,{DW:()=>a,R1:()=>s,lx:()=>r});var o=()=>n(418135),i=()=>n(175947);function r(){return{height:"100%",flexGrow:0,marginInlineEnd:8,fontSize:14,minWidth:0}}function a({environment:e,isShowingTabBar:t,shouldShowSidebar:n,isSidebarExpanded:r,isSecondarySidebarVisible:a,isBrowserFullScreen:s,shouldRenderTemplateGalleryTopbar:l,allowOverflow:c,zoom:d}){const{device:u}=e,p=u.isElectronMac&&(!n||!r&&!a)&&!s&&!t,g=u.isElectronWindows&&!t,m=g&&(!n||!r&&!a);let v=i().ek(u.isElectronMac);return l&&(v=i().Hi),{display:"flex",justifyContent:"space-between",alignItems:"center",overflow:c?"visible":"hidden",height:v,paddingInlineStart:p?(0,o().n$)(d):m?46:u.isMobile?4:12,paddingInlineEnd:g?(0,o().yA)(d)+4:u.isMobile?4:10}}function s(e){return{flex:"none",width:1,height:16,marginInlineStart:8,marginInlineEnd:8,background:e.darkDividerColor}}},584535:(e,t,n)=>{n.d(t,{K:()=>p});n(296540);var o=()=>n(56366),i=()=>n(75435),r=()=>n(426388),a=()=>n(69708),s=()=>n(44551);var l=()=>n(285790),c=()=>n(745766),d=n(474848);const u=(0,a().YK)({menu:{defaultMessage:"Menu",id:"topbar.appMenuButton.title"}});function p(){const e=(0,a().tz)();return(0,o().O$)(i().b)?null:(0,d.jsx)(l().A,{style:{position:"absolute",top:"10px",insetInlineStart:"14px",width:24,height:24,zIndex:1e5,...(0,c().g)({noDrag:!0})},iconStyle:{width:16,height:16},colorVariant:"primary",onClick:()=>{var e;null===s().electronApi||void 0===s().electronApi||null===(e=s().electronApi.openAppMenu)||void 0===e||e.call(s().electronApi)},icon:r().S,ariaLabel:e.formatMessage(u.menu)})}},608581:(e,t,n)=>{n.d(t,{A:()=>u});n(898992),n(354520),n(581454),n(941795);var o=n(296540),i=()=>n(726637),r=()=>n(401497),a=()=>n(451306),s=()=>n(284371),l=()=>n(963575),c=n(474848);function d(e){const{button:t,isLast:n}=e,i=(0,r().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:s().Wy.medium,borderInlineEnd:`1px solid ${e.regularDividerColor}`,color:e.text.secondary,fill:e.text.secondary},buttonLast:{borderInlineEnd:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,a().AH)(t.props.style,i.button,n&&i.buttonLast),hoveredStyle:(0,a().AH)(i.buttonHovered,n&&i.buttonLast).style,pressedStyle:i.buttonPressed})}const u=function({children:e,isVisible:t,position:u,style:p}){const g=(0,r().IS)((e=>({container:{color:e.text.secondary,fill:e.text.secondary,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:i().A.isMobile?"auto":"none",opacity:i().A.isMobile?1:0,fontFamily:s().vc(n(662303).locale).sans,position:"absolute",insetInlineEnd:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),m=o.Children.toArray(e).filter(n(534177).O9),v=m.length;return(0,c.jsx)(n(145214).A,{animate:{opacity:t?1:0},...(0,a().AH)(g.container,p,t&&g.containerHover,"top"===u&&g.containerTop),children:m.map(((e,t)=>{const i=t===v-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,n)=>{const o=e.props.render(t,n);return(0,c.jsx)(d,{isLast:i,button:o},e.key)}});if(e.type===n(718827).Ay&&o.isValidElement(e))return(0,c.jsx)(d,{isLast:i,button:e},e.key)}}))})}},623186:(e,t,n)=>{n.d(t,{Od:()=>f,U$:()=>b,aN:()=>v,z7:()=>h});n(16280),n(898992),n(354520),n(672577),n(581454);var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(69708),s=()=>n(496603),l=()=>n(896628),c=()=>n(231297),d=()=>n(33791),u=()=>n(862292),p=()=>n(645873),g=()=>n(395963),m=()=>n(517223);function v(e){return(0,r().K8)((()=>!!e&&(0,d().v)({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[e])}function h({store:e,format:t,schema:n,collectionStore:o,propertyIds:s,propertyGroupId:l}){const c=(0,i().v3)(),d=(0,a().tz)(),{value:g}=(0,p().fJ)(u().T.formulas);return(0,r().K8)((()=>(0,m().e7)({store:e,format:t,schema:n,collectionStore:o,propertyIds:s,propertyGroupId:l,intl:d,environment:c,formulasModule:g})),[e,t,n,o,s,l,d,c,g])}function f({collectionStore:e,format:t}){const n=(0,i().v3)();return(0,o.useCallback)((o=>{const i=t.collection_page_properties||[],r=[...(0,s().oE)(o.map((e=>i.find((t=>t.property===e))))),...i.filter((e=>!o.includes(e.property)))];c().createAndCommit({userAction:"PageProperties.handleReorder",environment:n,canUndo:!0,perform:t=>{l().zA({stores:[e],update:{collection_page_properties:r},transaction:t})}})}),[e,n,t.collection_page_properties])}function b({collectionStore:e,propertyGroupId:t}){const n=(0,i().v3)();return(0,o.useCallback)((o=>{if(!t)throw new Error("cannot reorder properties for property group -- no property group id provided");c().createAndCommit({userAction:"PagePropertiesGroup.handleReorder",environment:n,canUndo:!0,perform:n=>{(0,g()._h)({collectionStore:e,newPartialPropertyIds:o,groupId:t,transaction:n})}})}),[e,n,t])}},659715:(e,t,n)=>{n.d(t,{s:()=>r});var o=()=>n(492553),i=()=>n(940847);function r(e){o().H.canGoForward()&&(0,i().o)({environment:e,offset:1})}},741817:(e,t,n)=>{n.d(t,{v:()=>a});var o=()=>n(18387),i=()=>n(299545),r=()=>n(588836);function a(e){const{discussionStore:t,transaction:n}=e,a=i().No(t);a&&(0,r().u)({discussionIds:[t.id],transaction:n,blockStore:a});const s=(0,o().Z)();if(s){const e=i().zo({blockStore:s,transclusionReferences:"recurseInto",childPages:"omit"});for(const o of e){if(a&&o.table===a.table&&o.id===a.id)continue;const e=i().bN(o).getValue();null!=e&&e.includes(t.id)&&(0,r().u)({discussionIds:[t.id],transaction:n,blockStore:o})}}}},748539:(e,t,n)=>{n.d(t,{f:()=>o});const o=new(n(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await n.e(40198).then(n.bind(n,519737));return e}))},765974:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleFillIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.02 2.5 15.95 14.38",svg:(0,n(474848).jsx)("path",{d:"M11.84 3.563c-.817-1.417-2.862-1.417-3.68 0L2.314 13.688c-.818 1.416.205 3.187 1.84 3.187h11.692c1.636 0 2.658-1.77 1.84-3.187zM9.876 6.75c.345 0 .625.28.625.625v3.5a.625.625 0 1 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},i=(0,n(340498).wt)("exclamationMarkTriangleFill",o)},777932:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{isDuplicating:!1}}}const i=new o},780863:(e,t,n)=>{n.d(t,{p:()=>l});var o=n(296540),i=()=>n(40845),r=()=>n(496603),a=()=>n(778417);const s={isRepositioning:!1};function l(e){const{currentPosition:t,imageUrl:n,onSavePosition:l,onPositionChange:c,rootRef:d,environment:u}=e,[p,g]=(0,o.useState)(s),{isRepositioning:m}=p,v=(0,o.useCallback)((()=>{g(s)}),[]),h=(0,o.useMemo)((()=>void 0!==p.temporaryPosition?p.temporaryPosition:t),[p.temporaryPosition,t]);(0,o.useEffect)((()=>{c&&c(h)}),[h,c]);const f=(0,o.useCallback)((e=>{a().IU({environment:u});const t=new Image;t.onload=()=>{g((e=>({...e,isRepositioning:!0,image:t})))};const o=e||n;o&&(t.src=o)}),[u,n]),b=(0,o.useCallback)((()=>{l(h),v()}),[l,h,v]),y=(0,o.useCallback)((()=>{v()}),[v]);(0,o.useEffect)((()=>{const e=e=>{const t=d.current;t&&e.target instanceof Node&&!t.contains(e.target)&&m&&b()};return m&&window.addEventListener("mousedown",e),()=>{window.removeEventListener("mousedown",e)}}),[m,b,d]);const S=(0,o.useCallback)((e=>{const{image:t}=p;if(!t||!m)return;const n=d.current;if(n&&n instanceof Element){const e=n.getBoundingClientRect().width/t.width*t.height;g((t=>({...t,startDragImageScreenHeight:e,startDragRenderedPosition:h})))}}),[p,m,h,d]),w=(0,o.useCallback)((e=>{if(!m)return;const{startDragImageScreenHeight:t,startDragRenderedPosition:n}=p,o=e.diffY/(t||0)+(n||0);g((e=>({...e,temporaryPosition:(0,r().LI)((0,i().A)(o,0,1),4)})))}),[m,p]),x=(0,o.useCallback)((()=>{g((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),A=(0,o.useMemo)((()=>m?"ns-resize":"inherit"),[m]);return{isRepositioning:m,currentImagePosition:h,handleDragStart:S,handleDragMove:w,handleDragEnd:x,handleStartReposition:f,handleSavePosition:b,handleCancelReposition:y,repositioningCursor:A}}},786702:(e,t,n)=>{n.d(t,{w:()=>r});var o=()=>n(726637),i=()=>n(651784);function r(e){const t=(0,i().parseRoute)({url:e,baseUrl:o().A.domainBaseUrl,publicDomainName:o().A.publicDomainName,isMobile:!1,protocol:o().A.protocol,currentUrl:void 0});return"page"===t.name?t.blockId:"team"===t.name?t.peekViewBlockId:void 0}},801678:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(296540),i=()=>n(662303),r=()=>n(56366),a=()=>n(69708),s=()=>n(100622),l=()=>n(496603),c=()=>n(284371),d=()=>n(720665),u=()=>n(145214),p=n(474848);const g=function(e){const t=(0,o.useRef)(null),i=(0,n(484714).v3)(),{renderControl:a,onFlushTemporaryPosition:s,style:c,source:u,store:g}=e,v=(0,r().K8)((()=>0===n(502438).default.state.stores.length),[]),[h,f]=(0,o.useState)(!1),b=(0,r().uB)(e.mouseStore,n(454305).A),y=(0,r().K8)((()=>b.state.mouseEntered),[b]),S=(0,r().K8)((()=>function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStoreIfSingleSource();if(e){const t=e.getFormat().collection_cover_position;return(0,d().pN)(t)?n:t}}const o=t.getFormat(),i=o.page_cover_position;if((0,l().Et)(i))return i;return n}(u,g)),[u,g]),{isRepositioning:w,currentImagePosition:x,handleDragStart:A,handleDragMove:I,handleDragEnd:k,handleStartReposition:C,handleSavePosition:M,handleCancelReposition:P,repositioningCursor:j}=(0,n(780863).p)({currentPosition:S,onSavePosition:e=>{s({imagePosition:e,reset:()=>{b.reset()}})},rootRef:t,environment:i}),_=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:j},container:{position:"relative",width:"100%",zIndex:1}})),[j]);w&&!v&&P();const B=(0,o.useMemo)((()=>(0,l().nF)((e=>{b.setState({...b.state,mouseEntered:!0})}),100)),[b]),E=(0,o.useMemo)((()=>(0,l().sg)((e=>{b.setState({...b.state,mouseEntered:!1})}),100)),[b]),T=(0,o.useCallback)(((e,t)=>{C(t)}),[C]),L=(0,o.useCallback)((e=>{M()}),[M]),R=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&f(!0)}),[]),D=(0,o.useCallback)((()=>{f(!0)}),[]),H=(0,r().K8)((()=>a({handleRepositionClick:T,handleSavePositionClick:L,handleCancelClick:P,isVisible:y||h||w,isRepositioning:w})),[T,L,P,h,w,y,a]),W=(0,n(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:R,onBlur:D,onMouseEnter:B,onMouseMove:B,onMouseLeave:E,...W,...(0,n(451306).AH)(_.container,c),children:[(0,p.jsx)(n(603820).A,{onDraggableDragStart:A,onDraggableDragMove:I,onDraggableDragEnd:k,onDraggableDragCancel:k,disabled:!w,render:t=>(0,p.jsx)("div",{style:_.dragContainer,...t,children:e.render({imagePosition:x,isRepositioning:w})})}),(0,p.jsx)(m,{small:e.small,isRepositioning:w}),H]})};function m({small:e,isRepositioning:t}){if(e)return null;const n={background:s().IF.blackWithAlpha(.4),borderRadius:4,color:s().Tj.white,fontSize:12,fontFamily:c().vc(i().locale).sans,width:180,insetInlineStart:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},817942:(e,t,n)=>{n.d(t,{A5:()=>p,MR:()=>b,Mx:()=>l,Pb:()=>v,WL:()=>f,hg:()=>c,kZ:()=>h,pv:()=>d,vV:()=>m});n(581454);var o=n.n(n(32485)),i=n(296540),r=()=>n(11048),a=()=>n(455994),s=n(474848);const l=i.forwardRef((function(e,t){const{children:i,type:l,gap:c,withBottomPadding:d,style:u,onMouseDown:p,onClick:g,onDoubleClick:m,onContextMenu:v,suppressMargin:h}=e,f=(0,n(551619).n$)(l),b=(0,n(56366).K8)((()=>a().A.getPanelState("peek").isOpen&&"static_sidebar"===a().A.getPanelState("peek").displayStyle),[]);return(0,s.jsx)(r().A,{name:"PageLayout",children:(0,s.jsx)("div",{className:o()("layout",{"layout-wide":"wide"===l,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===l,"layout-side-peek":"side-peek"===l,"layout-center-peek":"center-peek"===l&&!b,"layout-center-peek-with-layout-panel":"center-peek"===l&&b,"layout-home":"home"===l,"layout-meet":"meet"===l,"layout-home-phone":"home-phone"===l,"layout-home-redesign-desktop":"home-redesign-desktop"===l,"layout-form":"form"===l,"layout-form-viewer":"form-viewer"===l,"layout-form-viewer-embed":"form-viewer-embed"===l,"layout-phone":"phone"===l,"layout-tablet":"tablet"===l,"layout-template-preview":"template-preview"===l,"layout-chat":"chat"===l,"layout-layout-editor":"layout-editor"===l,"layout-layout-editor-wide":"layout-editor-wide"===l,"layout-layout-editor-narrow":"layout-editor-narrow"===l,"layout-marketplace":"marketplace"===l,"layout-marketplace-mobile":"marketplace-mobile"===l,"layout-team-home":"team-home"===l,"layout-team-home-mobile":"team-home-mobile"===l,"layout-create-post":"create-post"===l,"layout-fullscreen-ai":"fullscreen-ai"===l,"layout-narrowscreen-ai":"narrowscreen-ai"===l,"layout-presentation-mode":"presentation-mode"===l,"layout-person-profile":"person-profile"===l,"layout-suppress-margin":h}),style:{paddingBottom:d?f:void 0,gap:c,...u},ref:t,onMouseDown:p,onClick:g,onDoubleClick:m,onContextMenu:v,children:i})})})),c="layout-content",d="layout-full",u="layout-margin-right",p="hide-scrollbar",g="layout-column",m=i.forwardRef((function(e,t){return(0,s.jsx)(r().A,{name:"PageLayoutContent",children:(0,s.jsx)("div",{className:o()(c,e.className),style:e.style,ref:t,children:e.children})})}));function v(e){return(0,s.jsx)(r().A,{name:"PageLayoutFull",children:(0,s.jsx)("div",{className:d,style:e.style,children:e.children})})}function h(e){return(0,s.jsx)(r().A,{name:"PageLayoutMarginRight",children:(0,s.jsx)("div",{className:u,style:{...e.style,pointerEvents:"none"},children:e.children})})}function f(e){return(0,s.jsx)(r().A,{name:"PageLayoutColumn",children:(0,s.jsx)("div",{className:o()(g,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})})}function b(e){return(0,s.jsx)(r().A,{name:"PageLayoutTwoColumn",children:(0,s.jsxs)(f,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})})}},855813:(e,t,n)=>{n.d(t,{Y:()=>s,x:()=>l});var o=()=>n(492553),i=()=>n(883046),r=()=>n(24962),a=()=>n(940847);function s(e,t){const n="back"===t?-1:1,r=o().H.peekEntry(n);r&&(0,i().x)(e,{url:r.url,position:"after-children"})}function l(e,t,n){const i=function(e){const{entries:t,activeIndex:n}=o().H.getState();if(void 0===n)return;const i=t.findIndex((t=>t.historyId===e));if(-1===i)return;return i-n}(t);if(void 0===i)return;const s=o().H.peekEntry(i);s&&(n?(0,r().B)({environment:e,url:s.url,makeTabActive:!1,position:"after-children",openInNew:n}):(0,a().o)({environment:e,offset:i}))}},863059:(e,t,n)=>{n.d(t,{Hh:()=>M,Kh:()=>A,Nq:()=>x,U:()=>I,gQ:()=>P,nh:()=>C,u7:()=>k});var o=n(296540),i=()=>n(726637),r=()=>n(484714),a=()=>n(56366),s=()=>n(401497),l=()=>n(75435),c=()=>n(418135),d=()=>n(340498),u=()=>n(175947),p=()=>n(180252),g=()=>n(614949),m=()=>n(696746),v=()=>n(900652),h=()=>n(441199),f=()=>n(644914),b=()=>n(224011),y=()=>n(150193),S=()=>n(965833);const w=10;function x(){const{isElectronWindows:e}=(0,r().Y0)(),t=(0,a().O$)(l().b),n=(0,a().K8)((()=>l().A.state.zoomFactor||c().rx),[]),s=e&&!t;return(0,o.useMemo)((()=>s?(0,c().yA)(n)+4:i().A.isMobile?4:w),[s,n])}function A({shouldRenderTemplateGalleryTopbar:e}){const t=(0,r().v3)(),n=(0,a().K8)((()=>l().A.state.zoomFactor),[]),s=(0,a().O$)(l().b),d=(0,a().K8)((()=>(0,g().X)(t).shouldShowSidebar),[t]),p=(0,a().K8)((()=>(0,f().KB)(t)),[t]),m=(0,a().K8)((()=>h().default.isPanelPinnedState()),[]),v=(0,a().K8)((()=>b().A.state.isFullScreen),[]),{device:y}=t,S=n||c().rx,w=y.isElectronMac&&(!d||!p&&!m)&&!v&&!s,x=y.isElectronWindows&&!s,A=x&&(!d||!p&&!m);let I=u().ek(y.isElectronMac);e&&(I=u().Hi);return(0,o.useMemo)((()=>({display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",height:I,paddingInlineStart:w?(0,c().n$)(S):A?46:i().A.isMobile?4:12,paddingInlineEnd:x?(0,c().yA)(S)+4:i().A.isMobile?4:10})),[I,w,S,A,x])}function I({store:e,shouldRenderTemplateGalleryTopbar:t,isBrowserFullScreen:n}){const o=(0,r().v3)(),i=(0,r().Y0)(),d=(0,r().WS)(),g=(0,a().K8)((()=>(0,m().lU)(e)&&0===y().A.state.banners.length),[e]);let h=u().ek(i.isElectronMac);t&&(h=2*u().Hi);const b=(0,a().K8)((()=>v().Z8()),[]),w=(0,a().O$)((0,p().$o)(o)),x=(0,a().K8)((()=>l().A.state.zoomFactor),[]),A=u().pz(i.isElectronMac,n,x||c().rx);return(0,s().IS)((e=>({header:{background:g&&!d?"transparent":e.background.primary,maxWidth:"100vw",zIndex:100,WebkitUserSelect:"none",userSelect:"none",position:"relative"},container:{width:`calc(100% - ${b}px)`,maxWidth:"100vw",height:h,opacity:w?0:1,transition:`\n\t\t\t\t\t\topacity ${S().L}ms,\n\t\t\t\t\t\tcolor ${S().L}ms\n\t\t\t\t\t`,position:"relative",insetInlineStart:b},electronTopbarSidebarMousePeekArea:{position:"absolute",top:0,bottom:-f().qe,width:`${A}px`}})),[g,d,b,w,h,A])}const k=34,C=28;function M(e){return{iconButton:{width:k,height:C,marginInlineEnd:2},icon:{height:d().Ev.lg,width:d().Ev.lg,fill:e.icon.primary},tabletIcon:{height:d().lD.lg,width:d().lD.lg,fill:e.icon.primary}}}function P(){return(0,s().IS)(M,[])}},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>a,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},940563:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightRightIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.97 15.26 12.06",directional:!0,svg:(0,n(474848).jsx)("path",{d:"m17.442 9.558-5.4-5.4a.625.625 0 0 0-.884.884l4.333 4.333H3a.625.625 0 1 0 0 1.25h12.491l-4.333 4.333a.625.625 0 1 0 .884.884l5.4-5.4a.62.62 0 0 0 0-.884"})},i=(0,n(340498).wt)("arrowStraightRight",o)},965833:(e,t,n)=>{n.d(t,{L:()=>o});const o=700},976582:(e,t,n)=>{n.d(t,{m:()=>r});var o=n(296540);class i{constructor(e){this.topbarRenderLocation=void 0;const{topbarRenderLocation:t}=e;this.topbarRenderLocation=t}get showNewTabButton(){return{AIChat:!0,DefaultTopbar:!0,Marketplace:!0,PersonProfile:!0,PersonalHome:!0,PersonalHomeScrolled:!0,PublicPage:!0,PublicSharing:!0,TeamHome:!0,TrustedDomainPage:!0,WorkflowEditor:!0,AssistantMenuHeader:!1,Meet:!1}[this.topbarRenderLocation]}get topbarActionsDisplayStyle(){return{PersonalHome:"transparent",PersonalHomeScrolled:"bordered",AIChat:"solid",AssistantMenuHeader:"solid",DefaultTopbar:"solid",Marketplace:"solid",PersonProfile:"solid",PublicPage:"solid",PublicSharing:"solid",TeamHome:"solid",TrustedDomainPage:"solid",WorkflowEditor:"solid",Meet:"solid"}[this.topbarRenderLocation]}get showDesktopAppMenuIconButton(){return{AIChat:!0,AssistantMenuHeader:!1,DefaultTopbar:!1,Marketplace:!1,PersonProfile:!1,PersonalHome:!1,PersonalHomeScrolled:!1,PublicPage:!1,PublicSharing:!1,TeamHome:!1,TrustedDomainPage:!1,WorkflowEditor:!1,Meet:!1}[this.topbarRenderLocation]}}function r(e){const{location:t}=e;return(0,o.useMemo)((()=>new i({topbarRenderLocation:t})),[t])}},995847:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,xMarkSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,n(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},i=(0,n(340498).wt)("xMarkSmall",o)}}]);