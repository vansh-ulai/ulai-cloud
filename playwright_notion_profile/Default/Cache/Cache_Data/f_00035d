"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[75104],{205809:(e,t,i)=>{i.d(t,{A:()=>$});var n=i(296540),o=()=>i(564884),a=()=>i(59226),r=()=>i(381175),s=()=>i(484714),l=()=>i(56366),d=()=>i(401497),c=()=>i(584262),u=()=>i(803960),p=()=>i(859384),g=()=>i(619403),h=()=>i(585608),v=()=>i(300755),f=()=>i(551171),m=()=>i(340498),b=()=>i(116225),y=()=>i(69708),S=()=>i(153094),x=()=>i(24962),w=()=>i(760217),I=()=>i(406699),M=()=>i(285790),j=()=>i(35392),A=()=>i(404277),k=()=>i(939740),B=()=>i(89924),P=()=>i(859428),C=()=>i(549500),O=()=>i(47373),T=()=>i(492414),_=()=>i(722872),E=()=>i(272509),N=()=>i(645873),R=()=>i(477293),U=()=>i(1130),F=()=>i(978510),V=()=>i(310526),W=()=>i(356204),z=()=>i(765957),L=()=>i(551694),D=()=>i(599412),G=()=>i(749687),K=i(474848);const H=(0,y().YK)({moreOptionsTooltip:{id:"sidebar.createPageButton.moreOptions",defaultMessage:"More options"},moreOptionsSecondaryTooltip:{id:"sidebar.createPageButton.moreOptionsSecondary",defaultMessage:"Pick a type"}});function $({from:e,onClick:t,iconStyle:i}){const $=(0,s().v3)(),J=(0,y().tz)(),Y=(0,l().O$)(z().AppStoreSidebarSpaceStore),q=(0,n.useRef)(null),{currentUserRootStore:Q,currentUserStore:X}=(0,l().K8)((()=>({currentUserRootStore:z().default.state.currentUserRootStore,currentUserStore:z().default.state.currentUserStore})),[]),Z=(0,l().K8)((()=>(0,E().I)(Y)),[Y]),ee=(0,N().fJ)(C().$0),te=(0,N().fJ)(S().BC),ie=(0,N().fJ)(S().R1),ne=(0,l().O$)(z().AppStoreSidebarSpaceViewStore),oe=(0,l().K8)((()=>(0,O().i3)({spaceStore:Y,spaceViewStore:ne,userRootStore:Q,currentUserStore:X})),[Y,Q,X,ne]),{showNoWorkspaceExperience:ae}=(0,F().R)(),re=(0,a().X)("sidebar_add_new_pages_to_bottom"),se=(0,R().r)("meeting_notes_entrypoints_button_dropdown"),le=(0,n.useCallback)((()=>{(0,o().u)({environment:$,event:{eventName:"open_sidebar_new_page_menu",eventProperties:{from:e}}})}),[$,e]);(0,n.useEffect)((()=>{const e=()=>{G().sidebarAnimatingStore.state&&q.current&&q.current.setOpen(!1)};return G().sidebarAnimatingStore.addListener(e),()=>{G().sidebarAnimatingStore.removeListener(e)}}),[]);const de=(0,d().IS)((e=>({shortcutLabel:{color:e.text.inverseSecondary},button:{width:"control"!==se?"fit-content":28,height:28,borderRadius:4},icon:{width:m().Ev.lg,height:m().Ev.lg,fill:e.text.primary,...i},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground},combinedIcon:{display:"flex",alignItems:"center"},chevron:{width:m().Ev.sm,height:m().Ev.sm,fill:e.text.secondary},createPageIcon:{width:m().Ev.default,height:m().Ev.default,fill:e.blue.icon.accentPrimary},meetingNoteIcon:{width:m().Ev.default,height:m().Ev.default,fill:e.red.icon.accentPrimary},databaseIcon:{width:m().Ev.default,height:m().Ev.default,fill:e.orange.icon.accentPrimary},templateIcon:{width:m().Ev.default,height:m().Ev.default,fill:e.icon.secondary},splitButtonContainer:{display:"flex",alignItems:"center",gap:2},mainButton:{width:28,height:28,borderRadius:4},chevronButton:{width:20,height:28,borderRadius:4},chevronIcon:{width:m().Ev.sm,height:m().Ev.sm,fill:e.text.secondary},secondaryTooltip:{color:e.text.inverseSecondary}})),[i,se]),ce=(0,l().K8)((()=>(0,W().w)(ne)),[ne]);if("sidebar_new_page_button"===e&&oe&&(Z&&!ae||ce))return(0,K.jsx)(M().A,{icon:p().M,ariaLabel:J.formatMessage(D().e.label),onClick:()=>{L().A.open()},style:de.button,iconStyle:{...de.icon,...de.iconDisabled}});const ue=e=>(0,K.jsxs)("div",{style:de.combinedIcon,children:[(0,p().M)(e),(0,u().arrowChevronSingleDownIcon)(de.chevron)]}),pe=async i=>{const n=(0,V().U)(ne);if(ae||Z&&!n)U().createOrJoinSpace($,"sidebar_switcher");else{if(Y){const t=$.device.isElectron&&(0,r().V)(i),n=await(0,D().M)({environment:$,from:e,event:i,navigateOnCreate:!t,prependPrivatePage:!re});if(t&&n){const e=(0,T().Ay)({store:n,pageVisitSource:c().y8.SidebarQuickAdd});(0,x().B)({makeTabActive:!0,url:e,position:"end",openInNew:t,isNewPage:!0,environment:$})}"sidebar_private_pane"===e&&b().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}t&&t()}},ge=[{key:"new_page",action:async({event:e})=>{await pe(e)},render:e=>(0,K.jsx)(w().A,{...e,title:J.formatMessage({id:"sidebar.createPageButton.page",defaultMessage:"Page"}),icon:(0,g().w)(de.createPageIcon)})},{key:"meeting_note",action:()=>{if(ae||Z)return void U().createOrJoinSpace($,"sidebar_switcher");if("resolved"!==ee.status)return;const{createAndNavigateToTranscriptionBlock:i}=ee.value;i({environment:$,from:e,title:"none"})&&"sidebar_private_pane"===e&&b().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}}),t&&t()},render:e=>(0,K.jsx)(w().A,{...e,title:J.formatMessage({id:"sidebar.createPageButton.meetingNote",defaultMessage:"AI Meeting Notes"}),icon:(0,h().$)(de.meetingNoteIcon),loading:"pending"===ee.status,..."resolved"!==ee.status?{disabled:!0,disabledFeedback:!0}:{}})},{key:"new_database",action:({event:e})=>{if(ae||Z&&!ce)return void U().createOrJoinSpace($,"sidebar_switcher");if("resolved"!==te.status)return;const{createNewDatabase:t}=te.value;t($)},render:e=>(0,K.jsx)(w().A,{...e,title:J.formatMessage({id:"sidebar.createPageButton.database",defaultMessage:"Database"}),icon:(0,f().C)(de.databaseIcon),loading:"pending"===te.status,..."resolved"!==te.status?{disabled:!0,disabledFeedback:!0}:{}})},{key:"browse_templates",action:()=>{if("resolved"!==ie.status)return;const{navigate:e}=ie.value;e({environment:$,url:"/marketplace"})},render:e=>(0,K.jsx)(w().A,{...e,title:J.formatMessage({id:"sidebar.createPageButton.browseTemplates",defaultMessage:"Templates"}),icon:(0,v().templatesFillIcon)(de.templateIcon),loading:"pending"===ie.status,..."resolved"!==ie.status?{disabled:!0,disabledFeedback:!0}:{}})}],he=[{key:"create_page_options",render:e=>(0,K.jsx)(B().A,{...e}),items:ge.slice(0,3)},{key:"templates_section",render:e=>(0,K.jsx)(B().A,{...e,topBorder:!0}),items:ge.slice(3)}];if("control"!==se){const e=e=>(0,K.jsx)(A().A,{menuType:_().gu.Popup,width:200,children:(0,K.jsx)(k().Ay,{type:k().Oh.Vertical,sections:he,initialFocus:0,onAccept:()=>{e.close()}})}),t=()=>(0,K.jsxs)(K.Fragment,{children:[J.formatMessage(D().e.tooltip),$.device.isNative?(0,K.jsx)("div",{children:(0,K.jsx)(j().A,{style:de.shortcutLabel,name:"newPage"})}):void 0]});return"double_button"===se?(0,K.jsxs)("div",{style:de.splitButtonContainer,children:[(0,K.jsx)(P().A,{renderTooltip:t,originGap:6,placement:"right",render:e=>(0,K.jsx)(M().A,{...e,icon:p().M,ariaLabel:J.formatMessage(D().e.label),onClick:pe,style:de.mainButton,iconStyle:de.icon,hoveredStyle:de.hovered})}),(0,K.jsx)(I().A,{ref:q,popupType:I().z.Popup,placementToOrigin:"bottom",originGap:6,originRectTransform:e=>new DOMRect(e.x-37,e.y,e.width,e.height),onClick:le,renderOrigin:e=>(0,K.jsx)(P().A,{renderTooltip:()=>(0,K.jsxs)("div",{children:[J.formatMessage(H.moreOptionsTooltip),(0,K.jsx)("div",{style:de.secondaryTooltip,children:J.formatMessage(H.moreOptionsSecondaryTooltip)})]}),originGap:6,placement:"right",render:t=>(0,K.jsx)(M().A,{...t,...e,icon:u().arrowChevronSingleDownIcon,ariaLabel:J.formatMessage(H.moreOptionsTooltip),style:de.chevronButton,iconStyle:de.chevronIcon,hoveredStyle:de.hovered})}),render:e})]}):(0,K.jsx)(I().A,{ref:q,popupType:I().z.Popup,placementToOrigin:"bottom",originGap:6,originRectTransform:e=>new DOMRect(e.x-10,e.y,e.width,e.height),renderOrigin:e=>(0,K.jsx)(P().A,{renderTooltip:t,originGap:6,placement:"right",render:t=>(0,K.jsx)(M().A,{...t,...e,icon:ue,ariaLabel:J.formatMessage(D().e.label),style:de.button,iconStyle:de.icon,hoveredStyle:de.hovered})}),render:e})}return(0,K.jsx)(P().A,{renderTooltip:()=>(0,K.jsxs)(K.Fragment,{children:[J.formatMessage(D().e.tooltip),$.device.isNative?(0,K.jsx)("div",{children:(0,K.jsx)(j().A,{style:de.shortcutLabel,name:"newPage"})}):void 0]}),originGap:6,placement:"right",render:e=>(0,K.jsx)(M().A,{...e,icon:p().M,ariaLabel:J.formatMessage(D().e.label),onClick:pe,style:de.button,iconStyle:de.icon,hoveredStyle:de.hovered})})}},277201:(e,t,i)=>{i.d(t,{I:()=>x,i:()=>I});var n=i(296540),o=()=>i(726637),a=()=>i(484714),r=()=>i(56366),s=()=>i(401497),l=()=>i(75435),d=()=>i(387964),c=()=>i(340498),u=()=>i(69708),p=()=>i(180252),g=()=>i(38337),h=()=>i(869562),v=()=>i(749687),f=()=>i(145214),m=()=>i(285790),b=()=>i(35392),y=()=>i(859428),S=i(474848);function x(e){const t=(0,a().v3)(),i=(0,a().Y0)(),n=(0,u().tz)(),o=(0,r().O$)(v().sidebarMouseEnteredStore),s=(0,r().O$)(l().b),c=(0,r().O$)((0,p().$o)(t)),g=n.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!i.isElectronMac||!c)&&!s&&o;return(0,S.jsx)(I,{isVisible:f,icon:d().S,caption:g,onClick:()=>{h().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const w={width:c().Ev.lg,height:c().Ev.lg,fill:"inherit"};function I(e){const t=(0,a().Y0)(),i=(0,s().IS)((e=>({keyboardShortcut:{color:e.text.inverseSecondary},button:{fill:e.icon.secondary}})),[]),r=(0,n.useMemo)((()=>({position:"relative",marginInlineStart:10,...o().A.isMobile&&{height:"100%"},...i.button,...e.style})),[e.style,i.button]);return e.isVisible?(0,S.jsx)(y().A,{renderTooltip:()=>(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:e.caption}),e.keyboardShortcutName?(0,S.jsx)(b().A,{style:i.keyboardShortcut,name:e.keyboardShortcutName}):void 0]}),originGap:6,placement:t.isElectron?"right":"bottom",render:t=>(0,S.jsx)(f().A,{tag:m().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:r,hoveredStyle:e.hoveredStyle,iconStyle:w,onClick:e.onClick,className:g().P7S,...t})}):null}},300755:(e,t,i)=>{i.r(t),i.d(t,{iconDefinition:()=>o,templatesFillIcon:()=>a});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.71 3.25 14.58 13.51",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m14.636 8.765 1.003 1.737a.93.93 0 0 0 .355-.73v-5.59a.934.934 0 0 0-.932-.932H9.239a.934.934 0 0 0-.932.932v5.6c0 .502.41.921.923.921h.752L11.1 8.765q.048-.083.109-.155a2.035 2.035 0 0 1 3.425.152z"}),(0,n.jsx)("path",{d:"M9.347 11.803H9.23a2.024 2.024 0 0 1-2.022-2.022V6.284a4.195 4.195 0 1 0 .538 8.295zm2.706-2.488L8.57 15.353a.931.931 0 0 0 .81 1.397h6.978a.934.934 0 0 0 .811-1.398l-3.484-6.037a.936.936 0 0 0-1.622 0z"})]})},a=(0,i(340498).wt)("templatesFill",o)},343916:(e,t,i)=>{i.d(t,{i:()=>n});const n=(0,i(340498).xh)("arrowUpRightSquare",{default:{loader:()=>i.e(43459).then(i.bind(i,443459))},small:{loader:()=>i.e(97517).then(i.bind(i,497517))},mini:{loader:()=>i.e(60475).then(i.bind(i,260475))},large:{loader:()=>i.e(3953).then(i.bind(i,303953))}})},347930:(e,t,i)=>{i.d(t,{H:()=>a});var n=()=>i(645873);const o=new(n().O2)("permissionsInviteWithModal",(async()=>await Promise.all([i.e(75134),i.e(99223),i.e(9304),i.e(9773),i.e(36556),i.e(40537),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(44711),i.e(53321),i.e(90825),i.e(16471),i.e(37353),i.e(29151),i.e(87248),i.e(62475),i.e(3151),i.e(98629),i.e(58550),i.e(67539),i.e(42838),i.e(22900),i.e(27634),i.e(85128),i.e(49889),i.e(20108),i.e(95555),i.e(87249),i.e(71621),i.e(92845),i.e(56369),i.e(2411),i.e(89296),i.e(46414),i.e(9294),i.e(11676),i.e(91256),i.e(40563),i.e(67494),i.e(44584),i.e(53141),i.e(4422),i.e(4330),i.e(55162),i.e(71003),i.e(55753),i.e(28866),i.e(22001),i.e(71386),i.e(4351),i.e(6331),i.e(69144),i.e(42660),i.e(55997),i.e(40828),i.e(12341),i.e(96402),i.e(84166),i.e(70359),i.e(29595),i.e(16448),i.e(10442),i.e(16434),i.e(45769),i.e(46080),i.e(75902),i.e(99809),i.e(58636),i.e(78405),i.e(33675),i.e(74562),i.e(47160),i.e(37384),i.e(91598),i.e(48046),i.e(3259),i.e(13955),i.e(42056),i.e(3165),i.e(76677),i.e(31842),i.e(43223),i.e(45147),i.e(15517),i.e(94995),i.e(98339),i.e(55639),i.e(1966),i.e(35738),i.e(6642),i.e(55776),i.e(51444),i.e(21727),i.e(58209),i.e(13297),i.e(4802),i.e(65197),i.e(81768),i.e(94300),i.e(62032),i.e(72122),i.e(32487),i.e(28058),i.e(90638),i.e(75422),i.e(97859),i.e(50856),i.e(65014),i.e(49175),i.e(36359),i.e(2752),i.e(11571),i.e(92924),i.e(42525),i.e(25204),i.e(52273),i.e(52986),i.e(45732),i.e(46817),i.e(70442),i.e(28656),i.e(37160),i.e(30443),i.e(9426),i.e(76690),i.e(63248),i.e(39457),i.e(21912),i.e(80668),i.e(12507),i.e(6626),i.e(26497),i.e(61016),i.e(91629),i.e(61858),i.e(63053),i.e(34399),i.e(89379),i.e(34974),i.e(75332),i.e(95103),i.e(75681)]).then(i.bind(i,317655)))),a=(0,n()._h)(o,(e=>e.PermissionsInviteWithModal))},387964:(e,t,i)=>{i.d(t,{S:()=>a});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,n.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},a=(0,i(340498).wt)("arrowChevronDoubleBackward",o)},417123:(e,t,i)=>{i.d(t,{z:()=>l});var n=()=>i(842599),o=()=>i(798880),a=()=>i(495989),r=()=>i(519979),s=()=>i(870092);async function l({userId:e,spaceStore:t,environment:i}){var l,d;if(!e||!t)return;const c=new(r().G)(i,{table:a().xM,id:e}),u=new(s().L)(i,{table:o().oo,id:e});await Promise.all([c.load(),u.load()]);const p=u.getEmail(),g=p?(0,n().zN)(p):void 0,h=null===(l=c.getSettings())||void 0===l?void 0:l.domain_type,v=g&&(0,n().Ff)(g),f=h?"professional"!==h:v,m=null===(d=t.getPublicSpaceData())||void 0===d?void 0:d.createdByDomain;return f||g!==m?"personal":"work"}},562866:(e,t,i)=>{i.d(t,{$c:()=>l,Xd:()=>s,aI:()=>r,cx:()=>a,uf:()=>o});var n=()=>i(645873);const o={RequestMembersModal:new(n().O2)("RequestMembersModal",(()=>Promise.all([i.e(75134),i.e(9773),i.e(36556),i.e(40537),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(44711),i.e(53321),i.e(90825),i.e(16471),i.e(37353),i.e(29151),i.e(87248),i.e(48762),i.e(87249),i.e(71621),i.e(88924),i.e(92845),i.e(56369),i.e(5834),i.e(48486),i.e(2411),i.e(89296),i.e(46414),i.e(9294),i.e(11676),i.e(91256),i.e(40563),i.e(67494),i.e(44584),i.e(53141),i.e(4422),i.e(4330),i.e(55162),i.e(71003),i.e(55753),i.e(28866),i.e(22001),i.e(71386),i.e(4351),i.e(6331),i.e(69144),i.e(42660),i.e(55997),i.e(40828),i.e(12341),i.e(96402),i.e(84166),i.e(70359),i.e(29595),i.e(16448),i.e(10442),i.e(16434),i.e(45769),i.e(46080),i.e(75902),i.e(99809),i.e(58636),i.e(78405),i.e(33675),i.e(42056),i.e(34442),i.e(77282)]).then(i.bind(i,123350)))),GoogleImportsInviteWithModal:new(n().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([i.e(55162),i.e(42056),i.e(51226)]).then(i.bind(i,720193)))),MicrosoftImportsInviteWithModal:new(n().O2)("MicrosoftImportsInviteWithModal",(()=>Promise.all([i.e(55162),i.e(42056),i.e(64981)]).then(i.bind(i,72468)))),InviteDropdownMenuItemLabel:new(n().O2)("InviteDropdownMenuItemLabel",(()=>i.e(25171).then(i.bind(i,726799)))),personPropertyInviteActions:new(n().O2)("personPropertyInviteActions",(()=>Promise.all([i.e(55162),i.e(42056),i.e(57613)]).then(i.bind(i,980270))))},a=(0,n()._h)(o.RequestMembersModal,(e=>e.RequestMembersModal)),r=(0,n()._h)(o.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),s=(0,n()._h)(o.MicrosoftImportsInviteWithModal,(e=>e.MicrosoftImportsInviteWithModal)),l=(0,n()._h)(o.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},575104:(e,t,i)=>{i.d(t,{QH:()=>F,z_:()=>U,Ay:()=>L});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(672577),i(803949);var n=i(296540),o=()=>i(726637),a=()=>i(484714),r=()=>i(56366),s=()=>i(401497),l=()=>i(929219),d=()=>i(175947),c=()=>i(69708),u=()=>i(899963),p=()=>i(496414),g=()=>i(664713),h=()=>i(406699),v=()=>i(765957),f=()=>i(51781),m=()=>i(320460),b=()=>i(214006),y=(i(354520),i(581454),()=>i(187174)),S=()=>i(763824),x=()=>i(534177),w=()=>i(559506),I=()=>i(665381),M=()=>i(646736);var j=()=>i(30537),A=()=>i(406094),k=()=>i(66913),B=()=>i(553034),P=()=>i(100622),C=()=>i(284371),O=()=>i(285790),T=()=>i(417392),_=()=>i(964848),E=i(474848);const N=(0,c().YK)({offlineIcon:{id:"offlineIndicator.icon",defaultMessage:"No internet connection"},closeIcon:{id:"offlineIndicator.popup.closeIcon",defaultMessage:"Close"}});function R(){const[e,t]=(0,n.useState)(!1),i=(0,c().tz)(),o=(0,P().O4)({theme:"dark"}),a=(0,s().IS)((e=>({iconButton:{width:28,height:28},icon:{width:22,height:22,fill:e.text.primary},iconHover:{background:e.sidebarItemSelectedBackground},popup:{background:e.background.accentPrimary,color:e.text.inversePrimary,width:280,padding:12,fontSize:14},title:{fontWeight:C().Wy.medium},subtitle:{color:e.text.secondary},closeButton:{width:24,height:24,position:"absolute",insetInlineEnd:8,top:8},closeIcon:{width:14,height:14,fill:o.palette.translucentGray[800]},closeHovered:{background:o.state.hover},closePressed:{background:o.state.pressed},settingsButtonContainer:{display:"flex",justifyContent:"end",paddingTop:10},settingsButton:{border:`1px solid ${o.outlineButtonBorder}`},settingsHover:{background:o.state.hover},settingsPressed:{background:o.state.pressed}})),[o]),l=(0,n.useCallback)((()=>t(!e)),[e]),d=(0,n.useCallback)((()=>t(!1)),[]),u=(0,r().K8)((()=>(0,E.jsx)(O().A,{icon:B().C,ariaLabel:i.formatMessage(N.offlineIcon),onClick:l,style:a.iconButton,iconStyle:a.icon,hoveredStyle:a.iconHover})),[i,l,a]);return(0,E.jsx)(T().Ay,{origin:u,originGap:2,open:e,onClosed:d,onDismiss:d,popupType:j().n.Popup,placementToOrigin:"bottom",alignmentToOrigin:"start",popupWrapStyle:a.popup,render:()=>(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{style:a.title,children:(0,E.jsx)(c().sA,{id:"offlineIndicator.popup.title",defaultMessage:"No internet connection"})}),(0,E.jsx)(O().A,{ariaLabel:i.formatMessage(N.closeIcon),icon:()=>(0,k().V)(a.closeIcon),style:a.closeButton,hoveredStyle:a.closeHovered,pressedStyle:a.closePressed,onClick:d}),(0,E.jsx)("div",{style:a.subtitle,children:(0,E.jsx)(c().sA,{id:"offlineIndicator.popup.subtitle",defaultMessage:"Return online for full access, or manage your offline settings."})}),(0,E.jsx)("div",{style:a.settingsButtonContainer,children:(0,E.jsx)(A().A,{style:a.settingsButton,hoveredStyle:a.settingsHover,pressedStyle:a.settingsPressed,size:"sm",onClick:()=>{(0,_().c)("sidebar_offline_indicator"),d()},children:(0,E.jsx)(c().sA,{id:"offlineIndicator.popup.manageOfflinePagesButton",defaultMessage:"Manage offline pages"})})})]}),trapFocus:!0})}let U=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const F=300,V={[U.Regular]:d().$C-8,[U.DesktopMac]:d().Uu,[U.Mobile]:"auto"},W={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},z=i(757695).Store.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const L=function({shouldShowUnexpandButton:e,shouldShowCreatePageButton:t,disabled:d,format:j,buttonStyle:A,buttonContent:k,redirectURL:B,disableLoginLink:P,onSpaceClick:C,hideEmail:O,shouldShowCreateOrJoinWorkspaceButtonInFooter:T=!1,shouldShowConfigurationOptions:_=!0,shouldShowHeader:N=!0,width:U=F}){const L=(0,a().v3)(),G=(0,r().uB)(void 0,z),K=(0,i(477293).r)("meeting_notes_entrypoints_button_dropdown"),H=(0,r().uB)(void 0,i(791627).A),$=(0,r().uB)(void 0,i(20489).A),{isTablet:J}=(0,a().Y0)(),{currentSpaceStore:Y,currentUserStore:q,currentSpaceViewStore:Q}=(0,r().K8)((()=>{const{sidebarSpaceStore:e,currentUserStore:t,sidebarSpaceViewStore:i}=v().default.state;return{currentSpaceStore:e,currentUserStore:t,currentSpaceViewStore:i}}),[]),X=L.currentUser.loggedInUserIds,Z=(0,r().K8)((()=>{if(!O)return X.length>1?null==q?void 0:q.getEmail():void 0}),[X,q,O]),ee=(0,r().O$)(G),te=(0,r().K8)((()=>i(846955).default.isTutorialStepActive("create_page_sidebar")&&t),[t]),{organizationsInfo:ie}=(0,i(926938).q)(),{spaceInfo:ne}=function(e){const{userId:t}=e,i=(0,a().v3)(),n=(0,r().K8)((()=>t?b().A.getSpaceViewStores(i,t):[]),[i,t]),o=(0,r().K8)((()=>n.map((e=>e.getSpaceStore())).filter(x().O9)),[n]),s=(0,r().K8)((()=>t?o.map((e=>{const i=(0,M().dp)(e,t).isWorkspaceOwner(),n="enterprise"===e.getSubscriptionTier();if(i&&n)return e})).filter(x().O9):[]),[o,t]),[{value:l,status:d}]=(0,y().Yb)((async()=>(await(0,S().lX)(s,10,(e=>{const t=e.id;return w().callApi({eventName:"getOrganizationOnboardingInfo",environment:i,data:{spaceId:t}}).then((n=>{if("success"===n.type)return"ineligible"===n.data.result.onboardingStatus||"completed"===n.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,I().G)(i,e)}}))}))).filter(x().O9)),[i,s]);return{spaceInfo:l??[],isLoading:"resolved"!==d}}({userId:L.currentUser.id}),oe=(0,n.useMemo)((()=>({organizationsInfo:ie,spaceInfo:ne})),[ie,ne]),ae=(0,n.useMemo)((()=>(0,i(406999).nc)()),[]),re=(0,r().K8)((()=>ae.state.modalOpen),[ae]),se=(0,i(135055).y6)(),le=(0,r().O$)(l().e),de=(0,s().IS)((e=>({popup:{...o().A.isMobile?{}:{width:U,overflow:"hidden"}},button:{...W,height:V[j],marginInlineStart:4,marginInlineEnd:4,marginTop:o().A.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:Z?o().A.isMobile?0:8:0,padding:0,...A},spaceName:{marginInlineStart:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginInlineEnd:4},unexpandHover:{fill:e.text.primary,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginInlineStart:"auto",marginInlineEnd:0},rightButtons:{alignItems:"center",display:"inline-flex",marginInlineEnd:2,gap:2}})),[Z,A,j,U]),ce=async()=>(0,i(599412).M)({environment:L,from:"home_checklist"}),ue=(0,n.useCallback)((()=>{const e=(0,c().YK)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updatingâ€¦"}});p().m({message:e.invitingMembers})}),[]),pe=(0,n.useCallback)(((e,t)=>{p().V();const n=e?(0,E.jsx)(c().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,E.jsx)(c().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});i(471995).D6({label:n})}),[]),ge=(0,i(923455).Rx)(),he=(0,r().K8)((()=>{var e;return Y||(null===(e=v().default.state)||void 0===e||null===(e=e.mainEditorCurrentBlockStore)||void 0===e?void 0:e.getSpaceStore())||ge&&i(842677).RecordStores.createUniqueRootStore(L,{table:i(96689).NX,id:ge.spaceId})}),[Y,ge,L]),ve=(0,r().K8)((()=>Q||(L.currentUser.id&&he?b().A.getSpaceViewStores(L,L.currentUser.id).find((e=>e.getSpaceId()===he.id)):void 0)),[L,Q,he]),fe=Boolean(d)||te,me=(0,r().K8)((()=>!!(0,i(548863).CB)()||X.length>1),[X]),[{value:be}]=(0,i(799836).P)({environment:L,skipServerFetch:me});return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(h().A,{popupType:(()=>{switch(!0){case J:return h().z.BottomSheet;case o().A.isMobile:return h().z.SlideUp;default:return h().z.Popup}})(),bottomSheetInitialState:J?"half":void 0,buttonPopupStore:m().A,renderOrigin:()=>(0,E.jsx)(i(718827).Ay,{style:de.button,onClick:()=>function(e){m().A.setState({...m().A.state,open:!0}),u().PL(e),e.currentUser.loggedInUserIds.forEach((t=>{b().A.getSpaceViewStores(e,t).forEach((i=>{const n=i.getSpaceId();if(!n)return;g().Z({environment:e,spaceId:n,userId:t}),(0,f().Vs)();l().A.state.online&&(0,f().VO)({userId:t,spaceId:n,teamTypes:new Set(["Joined"]),environment:e})}))}))}(L),disabled:fe,className:i(38337).eGX,hovered:ee,hoveredStyle:de.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>G.setState(!0),onMouseLeave:()=>G.setState(!1),children:k||(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(i(771660).A,{isMobile:D(j),spaceStore:he,spaceViewStore:ve,activeUserEmailAddress:Z,showExpand:!fe&&(!K||"control"===K||ee),type:"store",style:de.spaceName}),(0,E.jsx)("div",{style:de.rightButtonsContainer,children:(0,E.jsxs)("div",{style:de.rightButtons,children:[e?(0,E.jsx)(i(277201).I,{style:de.unexpand,hoveredStyle:de.unexpandHover}):void 0,se&&!le?(0,E.jsx)(R,{}):null,!J&&t?(0,E.jsx)(i(998109).n,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:ce,wrapperStyle:{display:"flex"},children:(0,E.jsx)(i(205809).A,{from:"sidebar_new_page_button"})}):void 0]})})]})}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:de.popup,render:e=>(0,E.jsx)(i(362749).UL,{permissionsInviteStore:ae,parent:e,redirectURL:B,disableLoginLink:P,onSpaceClick:C,loginStore:$,loginPermissionsStore:H,organizationEntryPointProps:oe,shouldShowCreateOrJoinWorkspaceButtonInFooter:T,shouldShowConfigurationOptions:_,shouldShowHeader:N,width:U,joinableSpacesCount:null!=be&&be.hasJoinableSpaces?be.joinableSpacesCount:0})}),re&&he?(0,E.jsx)(i(347930).H,{targetStore:he,spaceStore:he,permissionsInviteStore:ae,origin:(0,E.jsx)(E.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:ue,onInviteComplete:pe,analyticsFrom:"space_switcher_invite_button"}):void 0,he?(0,E.jsx)(i(562866).cx,{spaceStore:he,origin:(0,E.jsx)(E.Fragment,{}),analyticsFrom:"space_switcher_add_members"}):void 0]})};function D(e){return e===U.Mobile}},585608:(e,t,i)=>{i.d(t,{$:()=>a});i(296540);var n=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.91 1.23 15.18 17.53",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M16.958 13.771a.625.625 0 0 1 1.028.71 4.8 4.8 0 0 1-3.326 2.033v.997h2.21a.625.625 0 0 1 0 1.25H11.2a.625.625 0 1 1 0-1.25h2.21v-.997a4.8 4.8 0 0 1-3.326-2.032.626.626 0 0 1 1.029-.711 3.55 3.55 0 0 0 2.922 1.535 3.55 3.55 0 0 0 2.923-1.535"}),(0,n.jsx)("path",{d:"M12.535 1.239c1.174 0 2.125.951 2.125 2.125v3.032a4 4 0 0 0-.447-.053l-.178-.005a3.45 3.45 0 0 0-3.45 3.45v2.464a1.875 1.875 0 0 0-1.53 2.94c.338.49.747.926 1.212 1.297H5.035a2.125 2.125 0 0 1-2.125-2.125v-11c0-1.174.951-2.125 2.125-2.125zm-6.25 5.663a.55.55 0 1 0 0 1.1H9a.55.55 0 0 0 0-1.1zm0-2.5a.55.55 0 1 0 0 1.1h5a.55.55 0 0 0 0-1.1z"}),(0,n.jsx)("path",{d:"M14.035 7.664c1.173 0 2.125.951 2.125 2.125v2.52a2.125 2.125 0 0 1-4.25 0v-2.52c0-1.174.951-2.125 2.125-2.125"})]})},a=(0,i(340498).wt)("paperMicrophoneFill",o)},751348:(e,t,i)=>{i.d(t,{n:()=>a});var n=()=>i(56366),o=()=>i(303742);function a(e){return(0,n().K8)((()=>(0,o().o)(e)),[e])}},771660:(e,t,i)=>{i.d(t,{A:()=>x});var n=i(296540),o=()=>i(484714),a=()=>i(56366),r=()=>i(401497),s=()=>i(343916),l=()=>i(264154),d=()=>i(69708),c=()=>i(284371),u=()=>i(625247),p=()=>i(665381),g=()=>i(179534),h=()=>i(802963),v=()=>i(460292),f=()=>i(187820),m=()=>i(490044),b=i(474848);const y=function(e){const{showIcon:t}=e,n=(0,r().DP)(),o=(0,r().IS)((e=>{const i=Math.ceil(60),n=Math.floor(85),o=`${Math.floor(Math.random()*(n-i+1))+i}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginInlineStart:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:o}}}),[t]);return(0,b.jsxs)("div",{style:o.placeholderPageStyle,children:[t?(0,i(235773).notionTemplateTintableIcon)({width:16,height:16,fill:n.buttonHoveredBackground}):void 0,(0,b.jsx)("div",{style:o.placeholderTextWrapStyle,children:(0,b.jsx)("div",{style:o.placeholderTextStyle})})]})},S={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const x=function(e){const t=(0,o().v3)(),{device:s}=t,u=(0,i(923455).Rx)(),g="name"===e.type?e.spaceName:void 0,h="store"===e.type?e.spaceStore:void 0,f="store"===e.type?e.spaceViewStore:void 0,{showNoWorkspaceExperience:y,userType:x}=(0,i(978510).R)(),j=(0,i(751348).n)(f),k=(0,a().K8)((()=>"store"===e.type&&h&&h.isDefined()?(0,p().G)(t,h):"store"===e.type&&(null==h?void 0:h.id)===(null==u?void 0:u.spaceId)?null==u?void 0:u.spaceName:g),[t,e.type,g,h,u]);(0,n.useEffect)((()=>{"store"===e.type&&(null==h||h.getValue())}),[h,e.type]);const B=function(e){const{style:t,isMobile:i,activeUserEmailAddress:n,isAndroid:o}=e;return(0,r().IS)((e=>({iconWrapper:{backgroundColor:e.background.secondaryTranslucent,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},externalPagesTitle:{display:"flex",alignItems:"center",justifyContent:"start",color:e.text.primary},container:{overflow:"hidden",paddingInlineStart:8,paddingInlineEnd:8,...i&&{fontSize:14,padding:0,marginInlineEnd:12},...t},icon:{width:20,height:20,color:e.icon.primary},titleContainer:{display:"flex",alignItems:"center",justifyContent:n?"space-between":"start"},titleContent:{display:"flex",flexDirection:"column",marginInlineEnd:6,marginTop:o?3:0,...S},titleText:{color:e.text.primary,fontWeight:c().Wy.medium,...S,lineHeight:"20px"},emailText:{color:e.text.secondary,fontSize:11,lineHeight:"16px",fontWeight:c().Wy.regular,...S},expandIcon:{flexGrow:0,flexShrink:0,width:10,height:10,marginInlineStart:2,fill:e.icon.secondary}})),[i,t,o,n])}({style:e.style,isMobile:e.isMobile,activeUserEmailAddress:e.activeUserEmailAddress,isAndroid:s.isAndroid});if(j){if(y&&"personal"===x)return(0,b.jsx)(m().A,{style:B.container,left:(0,i(426388).S)(B.icon),children:(0,b.jsxs)("div",{style:B.externalPagesTitle,children:[(0,b.jsx)(d().sA,{defaultMessage:"Your workspace",id:"sidebarSwitcher.yourWorkspaceButton.title"}),e.showExpand?(0,b.jsx)("div",{style:{marginInlineStart:4},children:(0,b.jsx)(v().Q,{iconGroup:l().l,variantName:"small",colorVariant:"secondary"})}):void 0]})});if(!y)return(0,b.jsx)(m().A,{left:(0,b.jsx)(A,{}),children:(0,b.jsxs)("div",{style:B.externalPagesTitle,children:[(0,b.jsx)(d().sA,{defaultMessage:"External Pages",id:"sidebarSwitcher.externalPagesButton.title"}),e.showExpand?(0,b.jsx)("div",{style:{marginInlineStart:4},children:(0,b.jsx)(v().Q,{iconGroup:l().l,variantName:"small",colorVariant:"secondary"})}):void 0]})})}return(0,b.jsxs)(m().A,{style:B.container,left:k?(0,b.jsx)(M,{title:k,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,b.jsx)(w,{}),disableMobileBorder:!0,children:[k?void 0:(0,b.jsx)(I,{}),k?(0,b.jsxs)("div",{style:B.titleContainer,className:"notranslate",children:[(0,b.jsxs)("div",{style:B.titleContent,children:[(0,b.jsx)("div",{style:B.titleText,children:k}),(0,b.jsx)("div",{style:B.emailText,children:e.activeUserEmailAddress})]}),e.showExpand?(0,b.jsx)(v().Q,{iconGroup:l().l,variantName:"small",colorVariant:"secondary"}):void 0]}):void 0]})};function w(){return(0,b.jsx)("div",{style:{opacity:.25},children:(0,b.jsx)(h().A,{size:20,title:void 0})})}function I(){return(0,b.jsx)(y,{showIcon:!1})}function M({title:e,icon:t,isMobile:i,spaceStore:n}){const s=(0,r().DP)(),l=(0,o().v3)(),d=(0,a().K8)((()=>n?(0,u().c)(l,n):t?{icon:t,pointer:{table:"space",id:"undefined"}}:void 0),[n,l,t]),h=(0,a().K8)((()=>n?(0,p().G)(l,n):e),[n,l,e]),v=(0,a().K8)((()=>g().A.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)(f().B6,{disabled:!0,icon:d,iconRecordCategory:"workspace",isEmptyPage:!1,title:h,size:i?24:22,style:{marginTop:1,color:s.text.primary,fontWeight:c().Wy.medium}}),v?(0,b.jsx)(j,{}):void 0]})}function j(){const e=(0,r().IS)((e=>({unreadBadge:{backgroundColor:e.red.icon.accentPrimary,position:"absolute",top:0,insetInlineEnd:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.background.secondary}`}})),[]);return(0,b.jsx)("div",{style:e.unreadBadge})}function A(){const e=(0,r().IS)((e=>({iconWrapper:{backgroundColor:e.background.secondaryTranslucent,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,b.jsx)("div",{style:e.iconWrapper,children:(0,b.jsx)(v().Q,{overrideSize:()=>24,colorVariant:"primary",iconGroup:s().i,variantName:"default"})})}},791627:(e,t,i)=>{i.d(t,{A:()=>o});class n extends(()=>i(757695))().Store{getInitialState(){return{contacts:!1}}}const o=n},799836:(e,t,i)=>{i.d(t,{P:()=>a});var n=()=>i(187174),o=()=>i(559506);function a({environment:e,skipServerFetch:t}){return(0,n().Yb)((async()=>{if(t)return;const i=await o().callApi({eventName:"hasJoinableSpaces",environment:e,data:{}});return"failed"!==i.type?i.data:void 0}),[e,t])}},926938:(e,t,i)=>{i.d(t,{q:()=>s});var n=()=>i(484714),o=()=>i(187174),a=()=>i(534177),r=()=>i(559506);function s(){const e=(0,n().v3)(),[{status:t,error:i,value:s},l]=(0,o().Yb)((async()=>{const t=await r().callApi({eventName:"getUserOrganizations",environment:e,data:{}});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,a().HB)(t)}),[e]);return{organizationsInfo:(null==s?void 0:s.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:i,refresh:l}}},964848:(e,t,i)=>{i.d(t,{c:()=>o});i(296540);var n=()=>i(209660);i(474848);(0,i(69708).YK)({togglePageAvailableOfflineSuccessTitle:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessTitle",defaultMessage:"Page now available offline"},togglePageAvailableOfflineSuccessBody:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessBody",defaultMessage:"This page and all inline databases within it are available offline."},toggleCollectionViewBlockAvailableOfflineTitle:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineSuccess",defaultMessage:"Database now available offline"},toggleCollectionViewBlockAvailableOfflineBody:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineBody",defaultMessage:"The top 50 pages in the first view are available offline. To guarantee offline access to a page, make it available manually."},togglePageAvailableOfflineFailedTitle:{id:"offlinePagesActions.togglePageAvailableOfflineFailedTitle",defaultMessage:"Download failed. Please try again"},togglePageAvailableOfflineFailedBody:{id:"offlinePagesActions.togglePageAvailableOfflineFailedBody",defaultMessage:"Tap to manage offline pages"}});function o(e){n().Ow({currentTab:"offline",openedFrom:e})}},978510:(e,t,i)=>{i.d(t,{R:()=>c});var n=()=>i(484714),o=()=>i(56366),a=()=>i(187174),r=()=>i(588703),s=()=>i(765957),l=()=>i(417123),d=()=>i(266615);function c(){const e=(0,o().O$)(s().AppStoreSidebarSpaceStore),t=(0,n().v3)(),i=(0,o().K8)((()=>(0,d().J)({environment:t})),[t]),[{value:c,status:u}]=(0,a().Yb)((async()=>await(0,l().z)({userId:t.currentUser.id,spaceStore:e,environment:t})),[e,t]),p=(0,o().K8)((()=>!(!s().default.state.mainEditorCurrentBlockStore||!i)&&(0,r().r)({environment:t,store:s().default.state.mainEditorCurrentBlockStore})),[t,i]);return"pending"===u?{showNoWorkspaceExperience:i,userType:void 0}:{showNoWorkspaceExperience:i,userType:c,isOnGettingStartedPage:p&&i}}}}]);