"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[47160],{56739:(e,t,s)=>{s.d(t,{k:()=>d});s(296540);var i=()=>s(484714),n=()=>s(859428),o=()=>s(553965),a=()=>s(991249),r=()=>s(112698),l=s(474848);function d(e){const t=(0,i().v3)(),{render:s,upsell:d,analyticsName:c,renderUpgradeTooltip:u,onUpgradeClick:p,alwaysAllowClick:m,tooltipPlacement:b,upgradeButtonDesktopStyle:f,upgradeButtonMobileStyle:g}=e;let v,{onClick:y,renderTooltip:x}=e;return d&&"product"===d.type&&(v=(0,l.jsx)(r().B,{upsell:d,analyticsName:c,desktopStyle:{display:"inline-block",pointerEvents:"none",...f},mobileStyle:{display:"inline-block",pointerEvents:"none",...g}}),m||(y=e=>{a().K(t,{from:c,upsell:d}),p&&p(e)},x=u)),(0,l.jsx)(n().A,{renderTooltip:x||(()=>null),render:e=>s((0,o().A)(e,{onClick:y}),v),disableTooltip:!x,placement:b})}},103448:(e,t,s)=>{s.d(t,{A:()=>o});s(296540);var i=()=>s(284371),n=s(474848);const o=function({imageURL:e,imageWidth:t,imageHeight:i,caption:o,title:r,imageContainerStyle:l}){if(e){const d=(0,s(478184).L)(e);return(0,n.jsxs)("div",{style:{width:t||200,marginTop:4,marginBottom:4},children:[(0,n.jsx)("div",{style:{width:"100%",height:i||100,borderRadius:4,backgroundImage:`url(${d})`,backgroundSize:"cover",marginBottom:6,...l}}),(0,n.jsx)(a,{caption:o,title:r})]})}return(0,n.jsx)(a,{caption:o,title:r,style:{width:t}})};function a({style:e,caption:t,title:s}){return(0,n.jsxs)("div",{style:{whiteSpace:"normal",lineHeight:1.4,...e},children:[s?(0,n.jsx)("header",{style:{fontWeight:i().Wy.bold,marginBottom:4},children:s}):void 0,t]})}},112698:(e,t,s)=>{s.d(t,{B:()=>f});s(296540);var i=()=>s(484714),n=()=>s(56366),o=()=>s(401497),a=()=>s(69708),r=()=>s(100622),l=()=>s(534177),d=()=>s(284371),c=()=>s(824160),u=()=>s(859428),p=()=>s(765957),m=()=>s(991249),b=s(474848);function f({upsell:e,mobileStyle:t,desktopStyle:s,analyticsName:r,onClick:d,disableTooltip:f}){const v=(0,o().DP)(),y=(0,i().v3)(),{device:x}=y,h=(0,n().K8)((()=>{const{sidebarSpaceStore:e}=p().default.state;return null==e?void 0:e.canAdmin()}),[]);if("none"===e.type)return null;if(x.isMobileNative)return null;const A=(()=>{switch(e.product){case"personal":return(0,b.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,b.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,b.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,b.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,b.jsx)(a().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"ai_credits_pack":return(0,b.jsx)(a().sA,{defaultMessage:"AI Credits Pack ↗",id:"upgradeButton.ai_credits_pack.textWithArrow"});case"sites_custom_hostnames":return(0,b.jsx)(a().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:e.product,(0,l().HB)(e.product)}})();return x.isMobile||!h?(0,b.jsx)(c().A,{mobileStyle:t,children:A}):(0,b.jsx)(u().A,{delayThreshold:120,disableTooltip:f,placement:"bottom",renderTooltip:()=>(0,b.jsx)("div",{style:{maxWidth:500},children:(0,b.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:t=>(0,b.jsx)(c().A,{desktopStyle:s,innerStyle:g(e.product,v),onClick:t=>function(e,t,s,i,n){m().K(i,{from:t,upsell:s}),n&&n(e)}(t,r,e,y,d),...t,children:A})})}function g(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blue.text.accentPrimary,background:"light"===t.mode?r().Tj.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Wy.medium};default:return{}}}},192421:(e,t,s)=>{s.d(t,{F:()=>c});s(296540);var i=()=>s(484714),n=()=>s(493552),o=()=>s(433847),a=()=>s(69708),r=()=>s(583690),l=()=>s(678553),d=s(474848);function c(e){const{role:t}=e,s=(0,a().tz)(),{device:c}=(0,i().v3)(),u=(0,r().I2)(t);return(0,d.jsx)(l().Ay,{...e,title:(0,d.jsx)(n().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:s.formatMessage((0,o().sK)(t,void 0).label)}),shouldWrapCaption:!0,style:c.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,d.jsx)("div",{children:u})})}},268153:(e,t,s)=>{s.d(t,{Y:()=>y,R:()=>x});s(296540);var i=()=>s(484714),n=()=>s(401497),o=()=>s(252291),a=()=>s(631524),r=()=>s(324254),l=()=>s(589407),d=()=>s(236262),c=()=>s(273900),u=()=>s(433847),p=()=>s(743246),m=()=>s(69708),b=()=>s(100622),f=()=>s(534177);const g=(0,m().YK)({fullAccessLabel:{id:"workflowPermissions.fullAccess.label",defaultMessage:"Full Access"},fullAccessCaption:{id:"workflowPermissions.fullAccess.caption",defaultMessage:"Edit settings, interact, and share agent with others"},canEditAndInteractLabel:{id:"workflowPermissions.canEditAndInteract.label",defaultMessage:"Can Edit"},canEditAndInteractCaption:{id:"workflowPermissions.canEditAndInteract.caption",defaultMessage:"Edit settings and interact with agent"},canInteractLabel:{id:"workflowPermissions.canInteract.label",defaultMessage:"Can Interact"},canInteractCaption:{id:"workflowPermissions.canInteract.caption",defaultMessage:"Interact anywhere agent is accessible"}});var v=s(474848);function y({type:e,role:t,events:s,disabled:d,buttonStyle:c,buttonContents:u,buttonColorPalette:p,buttonIconColorPalette:b,icon:f,table:g,isCurrentUser:y,from:h,isNoneOverride:A}){const{isMobile:w}=(0,i().Y0)(),_=(0,n().IS)((e=>({button:{...c},icon:{width:14,height:14,marginInlineStart:4,fill:"blue"===b?e.blue.text.secondary:e.icon.secondary},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:"blue"===b?e.blue.text.secondary:e.icon.secondary,padding:2}})),[c,b]),M=f||!d&&r().arrowChevronSingleDownSmallIcon;return w&&"shareMenu"===h?d?null:(0,v.jsx)(a().p,{...s,disabled:d,style:_.iconContainer,colorPalette:p,children:(0,v.jsx)(o().I,{icon:l().ellipsisIcon,size:"lg",colorPalette:b})}):(0,v.jsxs)(a().p,{id:void 0,...s,disabled:d,style:_.button,colorPalette:p,children:[u||(0,v.jsx)("span",{className:"notranslate",style:_.label,children:(0,v.jsx)(m().sA,{...x({type:e,role:t,table:g,isRemovable:!1,isNoneOverride:A}).label})}),M?M(_.icon):void 0]})}function x({type:e,role:t,table:s,isRemovable:i,isNoneOverride:n}){if(s===p().C0&&function(e){return"access"!==e&&"limited"!==e}(t)){const e=function(e){switch(e){case"editor":return{label:g.fullAccessLabel,caption:g.fullAccessCaption};case"read_and_write":return{label:g.canEditAndInteractLabel,caption:g.canEditAndInteractCaption};case"reader":case"comment_only":return{label:g.canInteractLabel,caption:g.canInteractCaption};default:return{label:u().Sf.noAccessLabel,caption:void 0}}}(t);if("none"!==t||!i)return e}if("access"===t)return{label:u().Sf.variousAccessLabel};if("limited"===t)return{label:u().Sf.limitedAccessLabel};if((0,c().II)(t)){const e="workflow"===s?"block":s;return(0,u().sK)(t,e)}switch(t){case"editor":return{label:u().Sf.fullAccessLabel,caption:u().Sf.fullAccessCaptionV2};case"membership_admin":case"read_and_write":return{label:u().Sf.canEditLabel,caption:u().Sf.canEditCaptionV2};case"content_only_editor":return{label:u().Sf.canEditContentLabel,caption:u().Sf.canEditContentCaption};case"reader":return{label:u().Sf.canReadLabel,caption:void 0};case"comment_only":return{label:u().Sf.canCommentLabel,caption:u().Sf.canCommentCaptionV2};case"none":if("public_permission"===e)return{label:i?u().Sf.publicShareLinkRemoveLabel:u().Sf.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:i};if(i){const t="collection_property_permission"===e;return{label:t?u().Sf.removePermissionRuleLabel:u().Sf.removeWorkspaceLabel,style:{color:b().Tj.red},icon:t?(0,d().trashIcon)({height:20,width:20,marginInlineEnd:4}):void 0}}return n?{label:u().Sf.customAgentsNoneLabel,style:{color:b().Tj.red}}:{label:u().Sf.noAccessLabel,style:{color:b().Tj.red}};default:(0,f().HB)(t)}}},347160:(e,t,s)=>{s.d(t,{Ay:()=>G});s(944114),s(898992),s(354520),s(672577),s(430670);var i=s(296540),n=()=>s(726637),o=()=>s(484714),a=()=>s(56366),r=()=>s(401497),l=()=>s(584262),d=()=>s(148307),c=()=>s(273900),u=()=>s(68263),p=()=>s(519831),m=()=>s(946064),b=()=>s(96689),f=()=>s(743246),g=()=>s(69708),v=()=>s(534177),y=()=>s(701763),x=()=>s(901389),h=()=>s(857783),A=()=>s(601866),w=()=>s(972435),_=()=>s(722872),M=()=>s(553965),j=()=>s(232930),S=()=>s(977863),C=()=>s(152197),I=()=>s(765957),k=()=>s(991249),P=()=>s(56739),T=()=>s(807778),R=()=>s(329304),B=()=>s(134217),O=()=>s(10984),E=()=>s(760217),U=()=>s(406699),L=()=>s(939740),W=()=>s(824160),N=()=>s(89924),D=()=>s(859428),F=()=>s(125565),K=()=>s(719147),V=()=>s(268153),Y=()=>s(103448),H=s(474848);const z=(0,g().YK)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can’t have full access."}});const G=function({isUserPermission:e,workflowId:t,type:d,table:u,role:m,isInvite:b,availableRoleItems:y,roleItemOverrides:x,blockType:h,onClick:A,onClose:M,origin:j,isMenuItem:S,isRemovableOverride:C,isNoneOverride:I,disabled:k,buttonContents:P,buttonPopupStore:T,buttonStyle:R,buttonColorPalette:B,buttonIconColorPalette:O,placementToOrigin:W,alignmentToOrigin:D="end",upgradeButtonName:F,onUpgradeButtonClick:K,onChange:Y,onRemoveMemberClick:G,onRemoveSelfClick:$,header:X,footer:ee,showPermissionOverrideWarning:te,from:se}){const{navigate:ie}=(0,i.useContext)(s(312788).E),ne=(0,o().v3)(),oe=(0,a().uB)(T,s(463830).A),ae=Boolean(e),re=(0,a().K8)((()=>function({type:e,table:t,role:s,isInvite:i,availableRoleItems:n,roleItemOverrides:o,blockType:a}){if(n&&n.length>0)return n;if("trusted_domain_permission"===e)return[{role:"reader"},{role:"none"}];if("collection_property_permission"===e)return[{role:"read_and_write"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(t===p().Vl)return[{role:"editor"},{role:"read_and_write"},{role:"content_only_editor"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(t===f().C0)return[{role:"editor"},{role:"read_and_write"},{role:"reader"},{role:"none"}];const r=[];"explicit_team_guest_permission"===e?r.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:w().A.formatMessage(z.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==e&&"public_permission"!==e&&r.push({role:"editor"});r.push({role:"read_and_write"}),"collection_view"!==a&&"collection_view_page"!==a||"bot_permission"===e&&"content_only_editor"!==s||"public_permission"===e||r.push({role:"content_only_editor"});"bot_permission"!==e&&r.push({role:"comment_only"});"bot_permission"===e&&"reader"!==s||r.push({role:"reader"});i||r.push({role:"none"});if(!o)return r;return r.map((e=>{const t=o.find((t=>t.role===e.role));return t||e}))}({type:d,table:u,role:m,isInvite:b,availableRoleItems:y,roleItemOverrides:x,blockType:h})),[d,u,m,b,y,x,h]),le="shareMenu"===se,de=(0,a().K8)((()=>oe.state.open),[oe]),ce=(0,r().IS)((()=>({viewSettingsMenuItem:n().A.isMobile?Z:{},viewSettingsTitle:{display:"flex",alignItems:"center"}})),[]);return(0,H.jsx)(U().A,{onClick:e=>{e.preventDefault(),e.stopPropagation(),A&&A()},onClose:M,popupType:n().A.isMobile?U().z.BottomSheet:U().z.Popup,bottomSheetInitialState:"half",buttonPopupStore:oe,open:de,renderOrigin:e=>j||(S?(0,H.jsx)(E().A,{...e,title:(0,H.jsx)(g().sA,{...(0,V().R)({type:d,role:m,table:u,isRemovable:!1,isNoneOverride:I}).label}),focused:!1,showExtensionArrow:!0}):(0,H.jsx)(V().Y,{type:d,role:m,events:e,disabled:k,buttonContents:P,buttonStyle:R,buttonColorPalette:B,buttonIconColorPalette:O,table:u,isCurrentUser:ae,from:se,isNoneOverride:I})),placementToOrigin:W||"bottom",alignmentToOrigin:D,originGap:4,render:i=>{let o,a;if((0,c().II)(m))o=[{key:"mixed_role_section",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,H.jsx)(s(192421).F,{role:m}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,H.jsx)(s(678553).Ay,{...e,shouldWrapCaption:!0,caption:t?(0,H.jsx)(g().sA,{id:"PermissionRoleSelect.workflowRole.capabilitiesWarning",defaultMessage:"This agent’s permissions cannot be changed from this page. You can manage its permissions on its settings page."}):(0,H.jsx)(g().sA,{id:"PermissionRoleSelect.botRole.capabilitiesWarning",defaultMessage:"Integration permissions cannot be changed on a page. You can manage integrations in settings."})}),action:()=>{}}]},...t?[{key:"view_agent_settings",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!0}),items:[{key:"settings",render:e=>(0,H.jsx)(E().A,{...e,style:ce.viewSettingsMenuItem,title:(0,H.jsx)("div",{style:ce.viewSettingsTitle,children:(0,H.jsx)("div",{children:(0,H.jsx)(g().sA,{id:"PermissionRoleSelect.workflowBot.viewSettings",defaultMessage:"View agent settings"})})})}),action:()=>{ie({environment:ne,url:(0,s(496703).L)({workflowId:t,pageVisitSource:l().y8.ShareMenu,params:{workflowViewType:"settings"}})}),i.close()}}]}]:[{key:"remove_bot",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,H.jsx)(J,{role:m,upgradeButtonName:F,onUpgradeButtonClick:K,focused:e.focused,props:e,availableRole:{role:"none"},isRemovableOverride:C,table:u,type:d,isFromShareMenu:le}),action:()=>{q("none",u,m,d,F,ne,re,!0,Y,K,e,G,$),i.close()}}]}]];else if(o=[{key:"roles",render:e=>(0,H.jsx)(N().A,{...e,topBorder:0!==e.index}),items:re.flatMap((t=>{const s={key:t.role,render:e=>(0,H.jsx)(J,{role:m,upgradeButtonName:F,onUpgradeButtonClick:K,focused:e.focused,props:e,availableRole:t,isRemovableOverride:C,isNoneOverride:I,table:u,type:d,isFromShareMenu:le}),action:()=>{q(t.role,u,m,d,F,ne,re,!0,Y,K,e,G,$),i.close()}};return le&&"none"===t.role?[]:[t.prefixItem,s].filter(v().O9)}))}],le){const t=re.find((e=>"none"===e.role));(null==t?void 0:t.prefixItem)&&!n().A.isMobile&&o.push({key:"prefix-item",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!0}),items:[null==t?void 0:t.prefixItem].filter(v().O9)});const s=re.filter((e=>"none"===e.role));s.length>0&&o.push({key:"none-role",render:e=>(0,H.jsx)(N().A,{...e,topBorder:!(n().A.isMobile&&le)}),items:s.flatMap((t=>{const s={key:t.role,render:e=>(0,H.jsx)(J,{role:m,upgradeButtonName:F,onUpgradeButtonClick:K,focused:e.focused,props:e,availableRole:t,isRemovableOverride:C,isNoneOverride:I,table:u,type:d,isFromShareMenu:le}),action:()=>{q(t.role,u,m,d,F,ne,re,!0,Y,K,e,G,$),i.close()}};return n().A.isMobile?[t.prefixItem,s].filter(v().O9):[s].filter(v().O9)}))})}return a=n().A.isMobile?{menuType:_().gu.Modal,title:(0,H.jsx)(g().sA,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"}),right:(0,H.jsx)(s(45552).MobileModalExitButton,{}),onClickRight:i.close,height:"100%"}:{menuType:_().gu.Popup,width:264},(0,H.jsx)(s(404277).A,{className:s(38337).yw8,header:X,footer:(0,H.jsxs)(H.Fragment,{children:[ee,te?(0,H.jsx)(Q,{}):void 0]}),...a,children:(0,H.jsx)(L().Ay,{type:L().Oh.Vertical,initialFocus:void 0,sections:o})})}})};function $(e,t,s){const i=u().p2(e)&&!u().Km(e);return!s&&(!(!i||"public_permission"===t||"bot_permission"===t)&&(0,H.jsx)(Y().A,{imageURL:d().A.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,H.jsx)(g().sA,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,H.jsx)(g().sA,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})}))}function X(e,t){if(void 0!==t)return t;switch(e){case"user_permission":case"bot_permission":case"group_permission":case"collection_property_permission":return!0;case"space_permission":case"space_owner_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,v().HB)(e)}}async function q(e,t,s,i,o,a,r,d,u,p,f,v,w){var _,M;if(s===e)return;const C=()=>{u&&u(e)};y().Uo({newRole:e,availableRoles:r});const P=await(0,R().Se)(a,{name:"block_read_and_write_role",spaceId:null===(_=I().default.state.sidebarSpaceStore)||void 0===_?void 0:_.id,userId:null===(M=I().default.state.currentUserStore)||void 0===M?void 0:M.id});if($(e,i,P)&&!n().A.isAdminMode)k().K(a,{from:o,upsell:{type:"product",product:B().Si(a)||"plus",limit:{type:"none"},trialability:"none"}}),p&&p();else if(function(e,t,s){return s&&(0,c().$q)(t,e)===t&&"none"===e}(e,s,f))w?w():x().ui({showCancel:!0,keepFocus:!1,message:t===b().NX||t===m().y7?(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:async()=>{C();const e=I().default.state.sidebarSpaceViewStore;if(!e)return;const t=(0,S().c)(a,e,I().default.state.currentUserSettingsStore);t.length>0?h().uK({environment:a,store:t[0],pageVisitSource:l().y8.LeaveOrRemove}):await A().tR({environment:a,spaceViewStore:e,userSettingsStore:I().default.state.currentUserSettingsStore,userRootStore:I().default.state.currentUserRootStore,pageVisitSource:l().y8.LeaveOrRemove,navigationType:"switchingToOrLoadingSpace"})}}]});else if(function(e,t,s){return s&&(0,c().$q)(t,e)===t}(e,s,f))x().ui({showCancel:!0,keepFocus:!1,message:(0,H.jsx)(g().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,H.jsx)(g().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:C}]});else if(function(e,t){return(t===b().NX||t===m().y7)&&"none"===e}(e,t))if(v)v();else{await async function(e){const{message:t}=e;return new Promise((e=>{x().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:t,items:[{label:(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(T=!0,T&&(0,O().OX)()?(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,H.jsx)(K().A,{href:(0,j().x)("guides.transferContent"),external:!0,children:e})}}):T?(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,H.jsx)(g().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&C()}else C();var T}function J(e){var t;const{availableRole:s,role:i,table:l,type:d,isRemovableOverride:c,isNoneOverride:u,upgradeButtonName:p,onUpgradeButtonClick:m,isFromShareMenu:b}=e,{label:f,caption:v,hideSelectionCheckIcon:y,icon:x}=(0,V().R)({type:d,role:s.role,table:l,isRemovable:X(d,c),isNoneOverride:u}),h=(0,o().v3)(),A=(0,C().r)(),w=null===(t=h.currentUser)||void 0===t?void 0:t.id,_=(0,o().Y0)(),{onClick:j,key:S,...k}=e.props,B=s.disabledInfo,O=(0,R()._X)({name:"block_read_and_write_role",spaceId:A,userId:w}),U=(0,a().K8)((()=>$(s.role,d,"available"===(null==O?void 0:O.type))),[s,d,O]),L=(0,a().K8)((()=>n().A.isMobile&&!T().S$()),[]),N=Boolean(U),F=(0,a().K8)((()=>{var e;return null===(e=I().default.getState().sidebarSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),K=N&&(!F||L),Y=(0,r().IS)((e=>({buttonMenuItem:{...Z},redButtonMenuItem:{...Z,color:e.red.text.accentPrimary},disabledButtonMenuItem:{...Z,color:e.text.tertiary}})),[]);return _.isMobileNative&&N?null:B&&B.isDisabled?(0,H.jsx)(D().A,{delayThreshold:0,renderTooltip:e=>(0,H.jsx)("div",{...e,children:B.disabledMessage}),placement:"right",textWrap:!0,render:t=>(0,H.jsx)(E().A,{style:n().A.isMobile?Y.disabledButtonMenuItem:void 0,...t,focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:i===s.role&&!y,title:(0,H.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,H.jsx)("div",{style:{...e.style,marginInlineEnd:U?6:0},children:(0,H.jsx)(g().sA,{...f})})}),caption:v&&(0,H.jsx)(g().sA,{...v}),shouldWrapCaption:!0})}):(0,H.jsx)(P().k,{upsell:N&&("unavailable"===(null==O?void 0:O.type)?O.upsell:void 0),analyticsName:p,renderUpgradeTooltip:()=>U,tooltipPlacement:"left",onClick:j,onUpgradeClick:m,render:(t,o)=>{const{focused:a,...r}=(0,M().A)(k,t);return(0,H.jsx)(E().A,{...r,style:n().A.isMobile?"none"===s.role?Y.redButtonMenuItem:Y.buttonMenuItem:void 0,focused:a||e.focused,isChecked:i===s.role&&!y,title:(0,H.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,H.jsxs)("div",{style:{...e.style,marginInlineEnd:U?6:0,display:"flex",alignItems:"center"},children:[x,(0,H.jsx)(g().sA,{...f})]}),o,e.availableRole.tag?(0,H.jsx)(W().A,{desktopStyle:{marginInlineStart:7},children:e.availableRole.tag}):void 0]}),caption:v&&(0,H.jsx)(g().sA,{...v}),shouldWrapCaption:!0,disabled:K,isRedOnHover:b&&!K&&"none"===s.role})}})}function Q(){const e=(0,r().IS)((e=>({label:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:n().A.isMobile?28:1}})),[]);return(0,H.jsx)(F().A,{style:e.label,isMultiline:!0,isSmall:!0,children:(0,H.jsx)(g().sA,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}const Z={paddingTop:12,paddingBottom:12}},583690:(e,t,s)=>{s.d(t,{AC:()=>p,I2:()=>c,YC:()=>u});s(296540);var i=()=>s(401497),n=()=>s(493552),o=()=>s(212050),a=()=>s(413267),r=()=>s(69708),l=s(474848);function d(e){const{enabled:t,labelIfEnabled:s,labelIfDisabled:r}=e,d=(0,i().IS)((e=>({container:{color:t?e.text.secondary:e.text.tertiary,display:"flex",alignItems:"center",gap:5},iconStyles:{width:12,display:"inline",verticalAlign:"middle",color:t?e.blue.icon.accentPrimary:e.text.tertiary}})),[t]);return(0,l.jsxs)("div",{style:d.container,children:[t?(0,a().b)(d.iconStyles):(0,o().u)(d.iconStyles),(0,l.jsx)(n().D,{styleKey:"Caption/Regular",children:t?s:r})]})}function c(e){const t="none"!==e;return[(0,l.jsx)(d,{enabled:t&&e.read_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content"})},"read_content"),(0,l.jsx)(d,{enabled:t&&e.insert_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,l.jsx)(d,{enabled:t&&e.update_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content"})},"update_content"),(0,l.jsx)(d,{enabled:t&&e.insert_comment,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment"})},"insert_comment"),(0,l.jsx)(d,{enabled:t&&e.read_comment,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments"})},"read_comment")]}function u(e){return[(0,l.jsx)(d,{enabled:e.read_user_without_email,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users"})},"read_user_without_email"),(0,l.jsx)(d,{enabled:e.read_user_with_email,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses"})},"read_user_with_email")]}function p(e){return[(0,l.jsx)(d,{enabled:e.link_preview,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,l.jsx)(d,{enabled:e.synced_database,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}}}]);