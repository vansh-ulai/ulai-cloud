"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[52786],{8741:(e,t,n)=>{n.r(t),n.d(t,{arrowDiagonalUpRightSmallIcon:()=>o,iconDefinition:()=>a});n(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"3.65 3.66 8.68 8.68",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M5.603 3.663a.625.625 0 1 0 0 1.25h4.6l-6.37 6.371a.615.615 0 0 0 .013.87.616.616 0 0 0 .87.014l6.371-6.372v4.601a.625.625 0 1 0 1.25 0v-6.11a.625.625 0 0 0-.625-.624z"})},o=(0,n(340498).wt)("arrowDiagonalUpRightSmall",a)},12591:(e,t,n)=>{n.d(t,{C:()=>i});var a=()=>n(726637),o=()=>n(401497),r=()=>n(284371);function i(){return(0,o().IS)((e=>({popup:{...a().A.isMobile&&{borderStartStartRadius:12,borderStartEndRadius:12,overflow:"hidden"}},menuScroller:a().A.isMobile?{background:e.background.secondary}:{},header:a().A.isMobile?{display:"flex",justifyContent:"center",alignItems:"center",fontSize:16,fontWeight:r().Wy.semibold,background:e.background.secondary,height:45}:{paddingInlineStart:12,paddingInlineEnd:12,paddingTop:8,fontWeight:r().Wy.medium},subheader:a().A.isMobile?{display:"flex",justifyContent:"start",alignItems:"center",fontSize:15,fontWeight:r().Wy.medium,background:e.background.secondary,height:45,color:e.text.secondary,paddingInlineStart:16,paddingInlineEnd:16}:{paddingInlineStart:16,paddingInlineEnd:16,paddingTop:10,fontWeight:r().Wy.semibold},sectionMenuItem:a().A.isMobile?{overflow:"hidden",background:e.background.elevated,borderRadius:12,marginInlineStart:16,marginInlineEnd:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.border.secondary,padding:void 0}:{},buttonMenuItem:a().A.isMobile?{backgroundColor:e.background.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.border.secondary}:{},buttonMenuItemPressed:{background:e.buttonPressedBackground},transparentButtonMenuItemBorder:{borderBottomColor:"transparent"},title:a().A.isMobile?{fontSize:16}:{},icon:{...a().A.isMobile?{height:24,width:24}:{height:20,width:20}},checkIcon:{...a().A.isMobile?{height:20,width:20}:{height:16,width:16}}})),[])}},22634:(e,t,n)=>{n.d(t,{O:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"4.42 3.97 12.16 12.06",directional:!0,svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m5.492 4.158 5.4 5.4a.625.625 0 0 1 0 .884l-5.4 5.4a.625.625 0 1 1-.884-.884L9.566 10 4.608 5.042a.625.625 0 1 1 .884-.884"}),(0,a.jsx)("path",{d:"m16.392 10.442-5.4 5.4a.625.625 0 0 1-.884-.884L15.066 10l-4.958-4.958a.625.625 0 0 1 .884-.884l5.4 5.4a.625.625 0 0 1 0 .884"})]})},r=(0,n(340498).wt)("arrowChevronDoubleForward",o)},65767:(e,t,n)=>{n.d(t,{l:()=>o});n(296540);var a=n(474848);const o=(0,n(340498).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,a.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},73223:(e,t,n)=>{n.r(t),n.d(t,{checkIsTutorialDone:()=>v,dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c,tutorialGoToStep:()=>m});var a=()=>n(541235),o=()=>n(231297),r=()=>n(755199),i=()=>n(739135),s=()=>n(765957);function l(e,t,n){var a;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const l=null===(a=o.getSettings())||void 0===a?void 0:a.tutorials;n?r().mJ({userSettingsStore:o,transaction:n,data:{tutorials:{...l,[t]:(0,i().i9)(o,t)}}}):h({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...l,[t]:(0,i().i9)(o,t)}}})},userId:o.id})}function c(e,t){var n;const{currentUserSettingsStore:a}=s().default.state;if(!a)return;const o=null===(n=a.getSettings())||void 0===n?void 0:n.tutorials;h({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:a,transaction:e,data:{tutorials:{...o,[t]:(0,i().KD)(a,t)}}})},userId:a.id})}function d(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const i=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;(null==i?void 0:i[t])!==a().YD&&h({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...i,[t]:a().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&h({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var o;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,i().x$)(l,t))return;const c=(0,i().gt)(l,t);a().c$[t].steps.findIndex((e=>e.id===c))>=a().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function g(e,t,n){if((0,i().ll)(n))return;const a=(0,i().tb)(t,n);a&&p(e,t,a)}function m(e,t,n,a){var o;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const l=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;a?r().mJ({userSettingsStore:i,transaction:a,data:{tutorials:{...l,[t]:n}}}):h({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...l,[t]:n}}})},userId:i.id})}function v(e){const{currentUserSettingsStore:t}=s().default.state;return!!t&&(0,i().x$)(t,e)}function h(e){return o().createAndCommit({...e,canUndo:!1})}},77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});class a extends(()=>n(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const o=new a},77395:(e,t,n)=>{n.d(t,{A:()=>C});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var a=n(296540),o=()=>n(484714),r=()=>n(56366),i=()=>n(401497),s=()=>n(69708),l=()=>n(209199),c=()=>n(496603),d=()=>n(534177),u=()=>n(720665),p=()=>n(661920),g=()=>n(778417),m=()=>n(747100),v=()=>n(906537),h=()=>n(770906),f=()=>n(900652),S=()=>n(941463),b=()=>n(441199),y=()=>n(869562),x=()=>n(644914),w=()=>n(749687),M=()=>n(737230),A=()=>n(712505),k=()=>n(35392),_=n(474848);const j=new Set(["page","secondary_sidebar"]);const C=function({type:e,sidebarRef:t}){const i=(0,s().tz)(),u=(0,o().v3)(),[p,m]=(0,n(819121).A)(),h=(0,a.useRef)(null),f=(0,n(93583).A)(p,h),b=(0,a.useRef)(!1),M=(0,a.useCallback)((()=>function(e){B({isResizing:!1},e)}(e)),[e]),A=(0,a.useCallback)((()=>function(e,t,n,a){n.current||O(t,e);B({isResizing:!1},t)}(u,e,b)),[u,e]),k=(0,a.useCallback)((n=>{if(t.current)return function(e,t,n,a,o){switch(v().clear(t),o.current=!0,a){case"page":y().setWidth({width:E(e.currentX,n,a),environment:t});break;case"update":y().setUpdateWidth({width:E(e.currentX,n,a),environment:t});break;case"peek":y().setPeekWidth({width:E(e.currentX,n,a),environment:t});break;case"secondary_sidebar":S().Ay.setWidth(E(e.currentX,n,a));break;default:(0,d().HB)(a)}}(n,u,t.current,e,b)}),[u,e,t]),C=(0,a.useCallback)((()=>function(e,t,n){g().IU({environment:e}),n.current=!1,B({...w().sidebarResizingStore.state,isResizing:!0},t)}(u,e,b)),[u,e]),{device:V}=u,U=(0,r().O$)(n(230062).A),D=(0,r().K8)((()=>({cursor:"col-resize",height:"100%",width:12})),[e]),L=(0,r().K8)((()=>function(e,t){const n=(0,x().KB)(t),a="peek"===e||"update"===e;return{position:"absolute",insetInlineStart:a?0:void 0,insetInlineEnd:a?void 0:0,width:1,flexGrow:0,zIndex:"peek"===e?109:1,top:n?0:-1,bottom:n?0:-1,pointerEvents:"auto"}}(e,u)),[e,u]),H=(0,r().K8)((()=>{const t=z(e),n=function(e,t){const n=T(e),a=I(e);if(a===n)return 0;return(t-a)/(n-a)}(e,t);return n}),[e]),N=(0,a.useRef)(!1),[F,K]=(0,a.useState)(null);function W(e){K(e.clientY)}const G=(0,a.useCallback)((()=>{B({isResizerHovered:N.current||m},e)}),[m,e]);function Y(){N.current=!0,G()}function $(){N.current=!1,G()}(0,a.useEffect)((()=>{G()}),[m,G]);const J=(0,a.useCallback)((()=>{t.current&&P(10,t.current,e,u)}),[e,u,t]),Z=(0,a.useCallback)((()=>{t.current&&P(-10,t.current,e,u)}),[e,u,t]),X=(0,l().A1)()&&!j.has(e)||!(0,l().A1)()&&j.has(e)?"left":"right",Q="left"===X?Z:J,q="left"===X?J:Z,ee=(0,a.useCallback)((()=>{O(e,u)}),[e,u]);return U||V.isChromebook?null:(0,_.jsx)(n(998531).N,{capture:m,debugName:"SidebarResizer",onLeft:Q,onRight:q,onUp:c().D_,onDown:c().D_,onTab:c().D_,onUntab:c().D_,onEnter:ee,children:(0,_.jsx)(n(859428).A,{renderTooltip:()=>(0,_.jsx)(R,{type:e}),delayThreshold:0,originRectTransform:e=>F?new DOMRect(e.left,F,0,0):e,placement:"page"===e||"secondary_sidebar"===e?"right":"left",originGap:10,render:e=>(0,_.jsx)("div",{style:L,...(0,n(553965).A)(e,{onMouseMove:Y,onMouseLeave:$,onMouseEnter:W}),children:(0,_.jsx)(n(603820).A,{onDraggableDragStart:C,onDraggableDragMove:k,onDraggableDragEnd:A,onDraggableDragCancel:M,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,_.jsx)("div",{ref:f,role:"separator",tabIndex:0,"aria-label":i.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*H),"aria-valuemin":0,"aria-valuemax":100,style:D,...e})})})})})};function I(e){switch(e){case"page":return w().SIDEBAR_MIN_WIDTH;case"update":return M().Iz;case"peek":return A().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return S().WR;default:(0,d().HB)(e)}}function T(e){switch(e){case"page":return 480;case"secondary_sidebar":return S().y8;case"update":return x().aL;case"peek":return(0,m().QX)();default:(0,d().HB)(e)}}function z(e){switch(e){case"page":return w().sidebarWidthStore.state;case"secondary_sidebar":const t=w().sidebarExpandedStore.state,n=f().n5();return t?w().sidebarWidthStore.state+n:n;case"update":return M().Ay.state.width;case"peek":return A().default.state.preferredSidePeekWidth;default:(0,d().HB)(e)}}function B(e,t){switch(t){case"page":w().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":M().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":b().default.update((t=>({...t,...e})));break;case"peek":break;default:(0,d().HB)(t)}}function V(e,t){const n=T(t),a=I(t);return(0,u().qE)(e,a,n)}function E(e,t,n){let a;const o=(0,l().A1)();switch(n){case"page":a=o?window.innerWidth-e:e;break;case"secondary_sidebar":const r=w().sidebarExpandedStore.state?w().sidebarWidthStore.state:0;a=o?window.innerWidth-e-r:e-r;break;case"peek":case"update":const i=t.getBoundingClientRect();a=o?e-i.left:i.right-e;break;default:(0,d().HB)(n)}return V(a,n)}function R({type:e}){const t=(0,i().DP)(),n=(0,o().v3)(),a=(0,r().K8)((()=>function(e,t){switch(e){case"page":return(0,x().KB)(t);case"update":return(0,x().Nk)(t);case"peek":return A().default.state.open;case"secondary_sidebar":return b().default.isOpen();default:(0,d().HB)(e)}}(e,n)),[e,n]),l=t.text.inverseSecondary,c=(0,_.jsx)(k().A,{name:"toggleSidebar"}),u=e=>(0,_.jsx)("span",{style:{color:l},children:e});let p;if(a)switch(e){case"secondary_sidebar":case"update":p=(0,_.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:u,keyboardShortcut:c}});break;default:p=(0,_.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:u,keyboardShortcut:c}})}else p=(0,_.jsx)(s().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:u,keyboardShortcut:c}});return(0,_.jsxs)(_.Fragment,{children:[p?(0,_.jsxs)(_.Fragment,{children:[p,(0,_.jsx)("br",{})]}):null,(0,_.jsx)(s().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:u,keyboardShortcut:c}})]})}function O(e,t){switch(e){case"page":y().setExpand({environment:t,isExpanded:!w().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),w().sidebarOpenStore.setState(!1);break;case"update":y().setUpdateExpand({environment:t,isExpanded:!(0,x().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":p().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":h().VI({environment:t});break;default:(0,d().HB)(e)}}function P(e,t,n,a){const o=z(n)+e;switch(n){case"page":y().setWidth({width:V(o,n),environment:a});break;case"update":y().setUpdateWidth({width:V(o,n),environment:a});break;case"peek":y().setPeekWidth({width:V(o,n),environment:a});break;case"secondary_sidebar":const e=w().sidebarExpandedStore.state?w().sidebarWidthStore.state:0;S().Ay.setWidth(V(o-e,n));break;default:(0,d().HB)(n)}}},97059:(e,t,n)=>{n.d(t,{s:()=>o});n(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"1.82 1.82 12.68 12.68",svg:(0,n(474848).jsx)("path",{d:"M8 1.825a.575.575 0 0 0-.575.575V4a.575.575 0 0 0 1.15 0V2.4A.575.575 0 0 0 8 1.825m4.367 1.809a.575.575 0 0 0-.814 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.132-1.131a.575.575 0 0 0 0-.813m-7.92 0a.575.575 0 0 0-.813.813l1.13 1.131a.575.575 0 1 0 .814-.813zm3.248 3.071a.7.7 0 1 0-.99.99l.77.77.99-.99zm4.305.72a.575.575 0 0 0 0 1.15h1.6a.575.575 0 1 0 0-1.15zm-9.6 0a.575.575 0 1 0 0 1.15H4a.575.575 0 0 0 0-1.15zm11.895 5.88-5.37-5.37-.99.99 5.37 5.37a.7.7 0 0 0 .99-.99m-8.717-2.883a.575.575 0 0 0-.813 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.131-1.131a.575.575 0 0 0 0-.813M8 11.425a.575.575 0 0 0-.575.575v1.6a.575.575 0 1 0 1.15 0V12A.575.575 0 0 0 8 11.425"})},o=(0,n(340498).wt)("magicWandSmall",a)},112282:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightUpIcon:()=>o,iconDefinition:()=>a});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.37 12.06 15.26",svg:(0,n(474848).jsx)("path",{d:"M9.792 2.41a.6.6 0 0 0-.234.148l-5.4 5.4a.625.625 0 1 0 .884.884l4.333-4.333V17a.625.625 0 1 0 1.25 0V4.509l4.333 4.333a.625.625 0 1 0 .884-.884l-5.4-5.4a.62.62 0 0 0-.65-.147"})},o=(0,n(340498).wt)("arrowStraightUp",a)},137840:(e,t,n)=>{n.r(t),n.d(t,{OutlinerDropdownMenuButton:()=>J,useSortActions:()=>Q});n(581454);var a=n(296540),o=()=>n(564884),r=()=>n(59226),i=()=>n(484714),s=()=>n(56366),l=()=>n(401497),c=()=>n(718827),d=()=>n(252291),u=()=>n(582684),p=()=>n(29037),g=()=>n(126617),m=()=>n(170350),v=()=>n(813197),h=()=>n(617668),f=()=>n(946065),S=()=>n(116225),b=()=>n(69708),y=()=>n(12956),x=()=>n(10521),w=()=>n(899963),M=()=>n(384944),A=()=>n(231297),k=()=>n(664713),_=()=>n(722872),j=()=>n(396301),C=()=>n(37433),I=()=>n(494526),T=()=>n(154060),z=()=>n(976644),B=()=>n(644914),V=()=>n(655923),E=()=>n(112282),R=()=>n(575143),O=()=>n(47373),P=()=>n(765957),U=()=>n(923455),D=n(474848);const L=(0,b().YK)({move:{id:"useMoveSidebarAction.title.moveSection",defaultMessage:"Move section"},moveUp:{id:"useMoveSidebarAction.option.moveUp",defaultMessage:"Move up"},moveDown:{id:"useMoveSidebarAction.option.moveDown",defaultMessage:"Move down"}});var H=()=>n(852678),N=()=>n(620149),F=()=>n(848237),K=()=>n(452558),W=()=>n(406699),G=()=>n(404277),Y=()=>n(89924);const $=(0,b().YK)({manual:{id:"outlinerDropdownMenuButton.sort.manual",defaultMessage:"Manual"},lastEdited:{id:"outlinerDropdownMenuButton.sort.lastEdited",defaultMessage:"Last edited"}});function J(e){const{type:t,spaceViewStore:n}=e,r=(0,i().v3)(),s=(0,l().IS)((()=>({button:{display:"flex",alignItems:"center",justifyContent:"center",height:20,width:20,borderRadius:4}})),[]),u=(0,a.useCallback)((()=>{H().A.setState({open:!0}),function(e,t){const{outliner_type:n}=t;(0,o().u)({environment:e,event:{eventName:"open_outliner_section_menu",eventProperties:{outliner_type:n,...(0,B().hX)({environment:e})}}})}(r,{outliner_type:j().BP[t]})}),[r,t]),p=(0,a.useCallback)((()=>{H().A.setState({open:!1})}),[]),m=(0,b().tz)().formatMessage({id:"outlinerDropdownMenuButton.ariaLabel",defaultMessage:"Open menu"});return n?(0,D.jsx)(W().A,{popupType:W().z.Popup,alignmentToOrigin:"start",renderOrigin:e=>(0,D.jsx)(c().Ay,{style:s.button,ariaLabel:m,...e,children:(0,D.jsx)(d().I,{icon:g().ellipsisSmallIcon,size:"sm",colorVariant:r.device.isMobile?"tertiary":"secondary"})}),onClick:u,onClose:p,render:e=>(0,D.jsx)(X,{type:t,spaceViewStore:n,onClose:()=>{e.close()}}),originGap:2}):null}const Z=(0,b().YK)({sort:{id:"outlinerDropdownMenu.sort",defaultMessage:"Sort"},truncationLimit:{id:"outlinerDropdownMenu.truncationLimit",defaultMessage:"Show"},addTeam:{id:"outlinerDropdownMenu.addTeam",defaultMessage:"New teamspace"},workspaceFilter:{id:"outlinerDropdownMenu.workspaceFilter",defaultMessage:"Filter workspace"}});function X(e){const{type:t,spaceViewStore:n,onClose:a}=e,o=(0,i().v3)(),r=(0,s().O$)(P().AppStoreCurrentUserSettingsStore),c=(0,b().tz)(),d=(0,l().IS)((e=>({rightText:{fontSize:12,color:e.text.secondary}})),[]),g=(0,s().K8)((()=>(0,j().RQ)({spaceViewStore:n,type:t,userSettingsStore:r})),[n,t,r]),k=(0,z().o)(),B=g.sortOption,H=g.truncationLimit,W="shared"===t||"private"===t||"teamspaces"===t||"agents"===t,J="private"===t||"shared"===t,X=(0,s().K8)((()=>"shared"===t&&(0,T().A)()),[t]),ee=(0,s().K8)((()=>!N().l.state),[]),te=(0,s().K8)((()=>{const{sidebarSpaceStore:e}=P().default.state;return!!e&&(0,C().sx)({environment:o,spaceStore:e})}),[o]),ne=ee&&"teamspaces"===t&&te,ae=Q({type:t,onSelect:a,spaceViewStore:n,outlinerLocation:"sidebar"}),oe=function(e){const{type:t,spaceViewStore:n,onSelect:a}=e,o=(0,s().O$)(P().AppStoreCurrentUserSettingsStore),r=(0,i().v3)(),c=(0,l().IS)((()=>({icon:{width:16,height:16},right:{width:16}})),[]),d=(0,s().K8)((()=>(0,j().RQ)({type:t,spaceViewStore:n,userSettingsStore:o}).truncationLimit),[t,n,o]);return f().AQ.map((e=>(0,x().Ls)({key:e.toString(),displayName:void 0,analyticsName:e.toString(),validators:[],closeParentMenu:!0,action:()=>{A().createAndCommit({userAction:"OutlinerDropdownMenuButton.setTruncationLimit",environment:r,canUndo:!0,perform:a=>{const r=(0,I().y)({spaceViewStore:n,userSettingsStore:o,configType:"truncationLimit",sectionType:t});r&&M().KY({transaction:a,store:r,value:e})}}),S().u4({name:"update_sidebar_section_option",args:{option:"show",type:t}}),w().nT(r,{outliner_type:j().BP[t],option:e}),a()},render:t=>(0,D.jsx)(R().A,{...t,title:(0,D.jsx)(q,{limit:e,withItems:!0}),right:d===e&&(0,p().checkmarkIcon)(c.icon),rightStyle:c.right})})))}({type:t,onSelect:a,spaceViewStore:n}),re=function(e){const{type:t,onSelect:n}=e,a=(0,s().O$)(P().AppStoreSidebarSpaceStore),o=(0,s().O$)(P().AppStoreSidebarSpaceViewStore),{currentUserRootStore:r,currentUserStore:i}=(0,s().K8)((()=>({currentUserRootStore:P().default.state.currentUserRootStore,currentUserStore:P().default.state.currentUserStore})),[]),l=(0,b().tz)(),c=(0,U().Rx)(),d=(null==c?void 0:c.sidebarOrder)??[],u=(0,s().K8)((()=>(0,O().i3)({spaceStore:a,spaceViewStore:o,userRootStore:r,currentUserStore:i})),[a,r,i,o]),p=(0,j().KP)({sidebarOrder:d,sidebarState:c,showLockedSidebar:u});if(!o)return[];const g=p.indexOf(t),m=0===g,v=g===p.length-1,h=(null==c?void 0:c.shownSidebarSectionCount)??0;return["moveUp","moveDown"].map((e=>{const a=L[e];return(0,x().Ls)({key:e,displayName:void 0,analyticsName:a.defaultMessage,validators:[()=>h>1],closeParentMenu:!0,action:({environment:a})=>{const r=function({sidebarSection:e,selectedMoveOption:t,sidebarOrder:n,visibleSidebarOrder:a}){const o=[...n],r=n.indexOf(e),i=a.indexOf(e);if("moveUp"===t&&i>0){const t=a[i-1];o[n.indexOf(t)]=e,o[r]=t}if("moveDown"===t&&i<a.length-1){const t=a[i+1];o[n.indexOf(t)]=e,o[r]=t}return o}({sidebarSection:t,selectedMoveOption:e,sidebarOrder:d,visibleSidebarOrder:p});A().createAndCommit({userAction:`useMoveSidebarAction.${e}`,environment:a,canUndo:!0,perform:e=>{M().zv({store:o,data:{sidebar_order:r},transaction:e})}}),w().ub(a,{section:t,previous_order:d,new_order:r,from:"outliner_section_menu"}),n()},render:t=>{const n="moveUp"===e&&m||"moveDown"===e&&v,o="moveUp"===e?E().arrowStraightUpIcon:V().arrowStraightDownIcon;return(0,D.jsx)(R().A,{...t,disabled:n,disabledFeedback:n,title:l.formatMessage(a),svg:o})}})}))}({type:t,onSelect:a}),ie=[(0,y().u)({key:"sort",displayName:Z.sort,analyticsName:Z.sort.defaultMessage,validators:[()=>J],svg:u().arrowUpDownIcon,right:c.formatMessage($[B]),rightStyle:d.rightText,subActions:()=>[(0,x().gy)({key:"sort",render:e=>(0,D.jsx)(Y().A,{...e}),actions:ae})]}),(0,y().u)({key:"workspaceFilter",displayName:Z.workspaceFilter,analyticsName:Z.workspaceFilter.defaultMessage,validators:[()=>X],svg:m().filterIcon,subActions:()=>k}),(0,y().u)({key:"truncationLimit",displayName:Z.truncationLimit,analyticsName:Z.truncationLimit.defaultMessage,validators:[()=>W],svg:v().L,right:(0,D.jsx)(q,{limit:H}),rightStyle:d.rightText,subActions:()=>[(0,x().gy)({key:"truncationLimit",render:e=>(0,D.jsx)(Y().A,{...e}),actions:oe})]}),...re],se=[(0,x().gy)({key:"all",render:e=>(0,D.jsx)(Y().A,{...e}),actions:ie}),(0,x().gy)({key:"addTeam",render:e=>(0,D.jsx)(Y().A,{...e}),actions:[(0,x().Ls)({key:"addTeam",displayName:Z.addTeam,analyticsName:Z.addTeam.defaultMessage,validators:[()=>ne],svg:h().plusIcon,closeParentMenu:!0,action:()=>{(0,F().vn)("sidebar_team_section"),a()}})]})];return(0,D.jsx)(G().A,{menuType:_().gu.Popup,minWidth:220,children:(0,D.jsx)(K().A,{context:{blocks:[],environment:o,publicEditMode:void 0},sections:se,initialFocus:void 0})})}function Q(e){const{type:t,spaceViewStore:n,onSelect:a,outlinerLocation:o}=e,c=(0,i().v3)(),d=(0,b().tz)(),{sidebarSpaceStore:u,currentUserSettingsStore:g}=(0,s().K8)((()=>({sidebarSpaceStore:P().default.state.sidebarSpaceStore,currentUserSettingsStore:P().default.state.currentUserSettingsStore})),[]),m=c.currentUser.id,v=(0,r().X)("sidebar_add_new_pages_to_bottom"),h=(0,s().K8)((()=>(0,j().RQ)({type:t,spaceViewStore:n,userSettingsStore:g}).sortOption),[t,n,g]),f=(0,l().IS)((()=>({icon:{width:16,height:16},right:{width:16}})),[]);return["manual","lastEdited"].map((e=>{const r=$[e];return(0,x().Ls)({key:e,displayName:void 0,analyticsName:r.defaultMessage,validators:[],closeParentMenu:!0,action:async()=>{A().createAndCommit({userAction:"OutlinerDropdownMenuButton.setSortOption",environment:c,canUndo:!0,perform:a=>{const o=(0,I().y)({spaceViewStore:n,userSettingsStore:g,configType:"sortOption",sectionType:t});o&&M().KY({transaction:a,store:o,value:e})}}),"manual"===e&&"shared"===t&&!v&&m&&u&&await k().Z({environment:c,spaceId:u.id,userId:m}),S().u4({name:"update_sidebar_section_option",args:{option:"sort",type:t}}),w().Rf(c,{outliner_type:j().BP[t],outliner_location:o,option:e}),a()},render:t=>(0,D.jsx)(R().A,{...t,title:d.formatMessage(r),right:h===e&&(0,p().checkmarkIcon)(f.icon),rightStyle:f.right})})}))}function q(e){const{withItems:t}=e,n=(0,r().X)("enable_max_outliner_size"),a=(0,f().Fl)({setting:e.limit,enableMaxOutlinerSize:n});return a===1/0?(0,D.jsx)(b().sA,{id:"outlinerDropdownMenuButton.truncationLimit.noTruncation",defaultMessage:"All"}):t?(0,D.jsx)(b().sA,{id:"outlinerDropdownMenuButton.truncationLimit",defaultMessage:"{limit} items",values:{limit:a}}):(0,D.jsx)("span",{children:a})}},172339:(e,t,n)=>{n.d(t,{g:()=>l});var a=()=>n(56366),o=()=>n(762433),r=()=>n(272509),i=()=>n(765957),s=()=>n(324561);function l(){const{sidebarSpaceStore:e,currentUserSettingsStore:t,sidebarSpaceViewStore:n}=(0,a().K8)((()=>({sidebarSpaceStore:i().default.state.sidebarSpaceStore,currentUserSettingsStore:i().default.state.currentUserSettingsStore,sidebarSpaceViewStore:i().default.state.sidebarSpaceViewStore})),[]),l=(0,s().lh)({spaceId:null==e?void 0:e.id}),c=(0,a().K8)((()=>(0,o().N8)(l)),[l]),d=(0,a().K8)((()=>(0,r().I)(e)),[e]);return(0,a().K8)((()=>{var a,o,r;if(d)return null==t||null===(r=t.getSettings())||void 0===r||null===(r=r.external_pages_settings)||void 0===r?void 0:r.last_filter_state;const i=null==n||null===(a=n.getSettings())||void 0===a?void 0:a.external_pages_settings;return!c||null!=i&&i.last_filter_state||null==e||!e.id?null==n||null===(o=n.getSettings())||void 0===o||null===(o=o.external_pages_settings)||void 0===o?void 0:o.last_filter_state:{type:"selection",space_pointers:[null==e?void 0:e.id]}}),[t,n,d,c,null==e?void 0:e.id])}},173783:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var a=()=>n(658985),o=()=>n(903047),r=n(474848);function i(e){const t=(0,o().E)(e),n=(0,a().$)(t.icon);return(0,r.jsx)("div",{style:t.iconContainer,children:n})}},175882:(e,t,n)=>{n.r(t),n.d(t,{exclamationMarkTriangleSmallIcon:()=>r,iconDefinition:()=>o});n(296540);var a=n(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"1.49 1.87 13.01 11.75",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M7.9 5.281a.625.625 0 0 0-.625.625v2.5a.625.625 0 0 0 1.25 0v-2.5a.625.625 0 0 0-.625-.625m0 4.7a.725.725 0 1 0 0 1.45.725.725 0 0 0 0-1.45"}),(0,a.jsx)("path",{d:"M9.58 2.788c-.702-1.217-2.458-1.217-3.16 0l-4.677 8.1c-.702 1.216.176 2.737 1.58 2.737h9.354c1.405 0 2.283-1.52 1.58-2.738zm-2.078.625a.575.575 0 0 1 .996 0l4.677 8.1a.575.575 0 0 1-.498.862H3.324a.575.575 0 0 1-.498-.863z"})]})},r=(0,n(340498).wt)("exclamationMarkTriangleSmall",o)},176412:(e,t,n)=>{n.d(t,{L:()=>o});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"0.97 2.72 18.06 14.56",svg:(0,n(474848).jsx)("path",{d:"M3.893 2.875a.626.626 0 0 1 .79-.02l.091.088.128.148.015.033.072.105 11.27 13.148a.623.623 0 0 1-1.033.68l-1.616-1.884c-1.12.408-2.338.633-3.61.633-3.757 0-7.049-1.946-8.707-4.843l-.155-.283a1.46 1.46 0 0 1 0-1.359l.155-.283c.89-1.554 2.25-2.834 3.898-3.687L3.825 3.757l-.072-.105a.626.626 0 0 1 .14-.777M7.41 7.941a3.3 3.3 0 0 0-.717 2.056l.004.17A3.307 3.307 0 0 0 9.83 13.3l.17.004c.595 0 1.151-.161 1.634-.437l-1.52-1.773a1.104 1.104 0 0 1-1.18-1.377zM10 4.194c3.878 0 7.26 2.075 8.862 5.127l.074.164c.125.332.125.7 0 1.032l-.074.163a9.3 9.3 0 0 1-2.987 3.327l-2.69-3.138a3.3 3.3 0 0 0 .116-.702l.005-.17a3.31 3.31 0 0 0-3.136-3.303L10 6.691a3 3 0 0 0-.377.022L7.682 4.447A10.7 10.7 0 0 1 10 4.194"})},o=(0,n(340498).wt)("eyeSlashFill",a)},205809:(e,t,n)=>{n.d(t,{A:()=>Y});var a=n(296540),o=()=>n(564884),r=()=>n(59226),i=()=>n(381175),s=()=>n(484714),l=()=>n(56366),c=()=>n(401497),d=()=>n(584262),u=()=>n(803960),p=()=>n(859384),g=()=>n(619403),m=()=>n(585608),v=()=>n(300755),h=()=>n(551171),f=()=>n(340498),S=()=>n(116225),b=()=>n(69708),y=()=>n(153094),x=()=>n(24962),w=()=>n(760217),M=()=>n(406699),A=()=>n(285790),k=()=>n(35392),_=()=>n(404277),j=()=>n(939740),C=()=>n(89924),I=()=>n(859428),T=()=>n(549500),z=()=>n(47373),B=()=>n(492414),V=()=>n(722872),E=()=>n(272509),R=()=>n(645873),O=()=>n(477293),P=()=>n(1130),U=()=>n(978510),D=()=>n(310526),L=()=>n(356204),H=()=>n(765957),N=()=>n(551694),F=()=>n(599412),K=()=>n(749687),W=n(474848);const G=(0,b().YK)({moreOptionsTooltip:{id:"sidebar.createPageButton.moreOptions",defaultMessage:"More options"},moreOptionsSecondaryTooltip:{id:"sidebar.createPageButton.moreOptionsSecondary",defaultMessage:"Pick a type"}});function Y({from:e,onClick:t,iconStyle:n}){const Y=(0,s().v3)(),$=(0,b().tz)(),J=(0,l().O$)(H().AppStoreSidebarSpaceStore),Z=(0,a.useRef)(null),{currentUserRootStore:X,currentUserStore:Q}=(0,l().K8)((()=>({currentUserRootStore:H().default.state.currentUserRootStore,currentUserStore:H().default.state.currentUserStore})),[]),q=(0,l().K8)((()=>(0,E().I)(J)),[J]),ee=(0,R().fJ)(T().$0),te=(0,R().fJ)(y().BC),ne=(0,R().fJ)(y().R1),ae=(0,l().O$)(H().AppStoreSidebarSpaceViewStore),oe=(0,l().K8)((()=>(0,z().i3)({spaceStore:J,spaceViewStore:ae,userRootStore:X,currentUserStore:Q})),[J,X,Q,ae]),{showNoWorkspaceExperience:re}=(0,U().R)(),ie=(0,r().X)("sidebar_add_new_pages_to_bottom"),se=(0,O().r)("meeting_notes_entrypoints_button_dropdown"),le=(0,a.useCallback)((()=>{(0,o().u)({environment:Y,event:{eventName:"open_sidebar_new_page_menu",eventProperties:{from:e}}})}),[Y,e]);(0,a.useEffect)((()=>{const e=()=>{K().sidebarAnimatingStore.state&&Z.current&&Z.current.setOpen(!1)};return K().sidebarAnimatingStore.addListener(e),()=>{K().sidebarAnimatingStore.removeListener(e)}}),[]);const ce=(0,c().IS)((e=>({shortcutLabel:{color:e.text.inverseSecondary},button:{width:"control"!==se?"fit-content":28,height:28,borderRadius:4},icon:{width:f().Ev.lg,height:f().Ev.lg,fill:e.text.primary,...n},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground},combinedIcon:{display:"flex",alignItems:"center"},chevron:{width:f().Ev.sm,height:f().Ev.sm,fill:e.text.secondary},createPageIcon:{width:f().Ev.default,height:f().Ev.default,fill:e.blue.icon.accentPrimary},meetingNoteIcon:{width:f().Ev.default,height:f().Ev.default,fill:e.red.icon.accentPrimary},databaseIcon:{width:f().Ev.default,height:f().Ev.default,fill:e.orange.icon.accentPrimary},templateIcon:{width:f().Ev.default,height:f().Ev.default,fill:e.icon.secondary},splitButtonContainer:{display:"flex",alignItems:"center",gap:2},mainButton:{width:28,height:28,borderRadius:4},chevronButton:{width:20,height:28,borderRadius:4},chevronIcon:{width:f().Ev.sm,height:f().Ev.sm,fill:e.text.secondary},secondaryTooltip:{color:e.text.inverseSecondary}})),[n,se]),de=(0,l().K8)((()=>(0,L().w)(ae)),[ae]);if("sidebar_new_page_button"===e&&oe&&(q&&!re||de))return(0,W.jsx)(A().A,{icon:p().M,ariaLabel:$.formatMessage(F().e.label),onClick:()=>{N().A.open()},style:ce.button,iconStyle:{...ce.icon,...ce.iconDisabled}});const ue=e=>(0,W.jsxs)("div",{style:ce.combinedIcon,children:[(0,p().M)(e),(0,u().arrowChevronSingleDownIcon)(ce.chevron)]}),pe=async n=>{const a=(0,D().U)(ae);if(re||q&&!a)P().createOrJoinSpace(Y,"sidebar_switcher");else{if(J){const t=Y.device.isElectron&&(0,i().V)(n),a=await(0,F().M)({environment:Y,from:e,event:n,navigateOnCreate:!t,prependPrivatePage:!ie});if(t&&a){const e=(0,B().Ay)({store:a,pageVisitSource:d().y8.SidebarQuickAdd});(0,x().B)({makeTabActive:!0,url:e,position:"end",openInNew:t,isNewPage:!0,environment:Y})}"sidebar_private_pane"===e&&S().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}t&&t()}},ge=[{key:"new_page",action:async({event:e})=>{await pe(e)},render:e=>(0,W.jsx)(w().A,{...e,title:$.formatMessage({id:"sidebar.createPageButton.page",defaultMessage:"Page"}),icon:(0,g().w)(ce.createPageIcon)})},{key:"meeting_note",action:()=>{if(re||q)return void P().createOrJoinSpace(Y,"sidebar_switcher");if("resolved"!==ee.status)return;const{createAndNavigateToTranscriptionBlock:n}=ee.value;n({environment:Y,from:e,title:"none"})&&"sidebar_private_pane"===e&&S().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}}),t&&t()},render:e=>(0,W.jsx)(w().A,{...e,title:$.formatMessage({id:"sidebar.createPageButton.meetingNote",defaultMessage:"AI Meeting Notes"}),icon:(0,m().$)(ce.meetingNoteIcon),loading:"pending"===ee.status,..."resolved"!==ee.status?{disabled:!0,disabledFeedback:!0}:{}})},{key:"new_database",action:({event:e})=>{if(re||q&&!de)return void P().createOrJoinSpace(Y,"sidebar_switcher");if("resolved"!==te.status)return;const{createNewDatabase:t}=te.value;t(Y)},render:e=>(0,W.jsx)(w().A,{...e,title:$.formatMessage({id:"sidebar.createPageButton.database",defaultMessage:"Database"}),icon:(0,h().C)(ce.databaseIcon),loading:"pending"===te.status,..."resolved"!==te.status?{disabled:!0,disabledFeedback:!0}:{}})},{key:"browse_templates",action:()=>{if("resolved"!==ne.status)return;const{navigate:e}=ne.value;e({environment:Y,url:"/marketplace"})},render:e=>(0,W.jsx)(w().A,{...e,title:$.formatMessage({id:"sidebar.createPageButton.browseTemplates",defaultMessage:"Templates"}),icon:(0,v().templatesFillIcon)(ce.templateIcon),loading:"pending"===ne.status,..."resolved"!==ne.status?{disabled:!0,disabledFeedback:!0}:{}})}],me=[{key:"create_page_options",render:e=>(0,W.jsx)(C().A,{...e}),items:ge.slice(0,3)},{key:"templates_section",render:e=>(0,W.jsx)(C().A,{...e,topBorder:!0}),items:ge.slice(3)}];if("control"!==se){const e=e=>(0,W.jsx)(_().A,{menuType:V().gu.Popup,width:200,children:(0,W.jsx)(j().Ay,{type:j().Oh.Vertical,sections:me,initialFocus:0,onAccept:()=>{e.close()}})}),t=()=>(0,W.jsxs)(W.Fragment,{children:[$.formatMessage(F().e.tooltip),Y.device.isNative?(0,W.jsx)("div",{children:(0,W.jsx)(k().A,{style:ce.shortcutLabel,name:"newPage"})}):void 0]});return"double_button"===se?(0,W.jsxs)("div",{style:ce.splitButtonContainer,children:[(0,W.jsx)(I().A,{renderTooltip:t,originGap:6,placement:"right",render:e=>(0,W.jsx)(A().A,{...e,icon:p().M,ariaLabel:$.formatMessage(F().e.label),onClick:pe,style:ce.mainButton,iconStyle:ce.icon,hoveredStyle:ce.hovered})}),(0,W.jsx)(M().A,{ref:Z,popupType:M().z.Popup,placementToOrigin:"bottom",originGap:6,originRectTransform:e=>new DOMRect(e.x-37,e.y,e.width,e.height),onClick:le,renderOrigin:e=>(0,W.jsx)(I().A,{renderTooltip:()=>(0,W.jsxs)("div",{children:[$.formatMessage(G.moreOptionsTooltip),(0,W.jsx)("div",{style:ce.secondaryTooltip,children:$.formatMessage(G.moreOptionsSecondaryTooltip)})]}),originGap:6,placement:"right",render:t=>(0,W.jsx)(A().A,{...t,...e,icon:u().arrowChevronSingleDownIcon,ariaLabel:$.formatMessage(G.moreOptionsTooltip),style:ce.chevronButton,iconStyle:ce.chevronIcon,hoveredStyle:ce.hovered})}),render:e})]}):(0,W.jsx)(M().A,{ref:Z,popupType:M().z.Popup,placementToOrigin:"bottom",originGap:6,originRectTransform:e=>new DOMRect(e.x-10,e.y,e.width,e.height),renderOrigin:e=>(0,W.jsx)(I().A,{renderTooltip:t,originGap:6,placement:"right",render:t=>(0,W.jsx)(A().A,{...t,...e,icon:ue,ariaLabel:$.formatMessage(F().e.label),style:ce.button,iconStyle:ce.icon,hoveredStyle:ce.hovered})}),render:e})}return(0,W.jsx)(I().A,{renderTooltip:()=>(0,W.jsxs)(W.Fragment,{children:[$.formatMessage(F().e.tooltip),Y.device.isNative?(0,W.jsx)("div",{children:(0,W.jsx)(k().A,{style:ce.shortcutLabel,name:"newPage"})}):void 0]}),originGap:6,placement:"right",render:e=>(0,W.jsx)(A().A,{...e,icon:p().M,ariaLabel:$.formatMessage(F().e.label),onClick:pe,style:ce.button,iconStyle:ce.icon,hoveredStyle:ce.hovered})})}},219348:(e,t,n)=>{n.d(t,{DV:()=>f,EQ:()=>m,Mu:()=>v,Nr:()=>h,cP:()=>u,m0:()=>g,m2:()=>d,s8:()=>p});n(898992),n(354520),n(672577);var a=()=>n(242422),o=()=>n(56366),r=()=>n(84520),i=()=>n(821062),s=()=>n(72234),l=()=>n(231297),c=()=>n(765957);const d={"baseball-cap":"permanent",bow:"permanent",cat:"permanent",cherry:"permanent",cowboy:"permanent",crown:"permanent",duck:"permanent",firefighter:"permanent",flower:"permanent",glasses:"permanent",headphone:"permanent",leaf:"permanent",magician:"permanent",mustache:"permanent",paprika:"permanent",pencil:"permanent",propeller:"permanent","safety-hat":"permanent",scarf:"permanent","seasonal-bat":"october25","seasonal-demon":"october25","seasonal-frankenstein":"october25","seasonal-pumpkin":"october25"};function u(e){const{store:t,from:n}=e;if(t.update((e=>({...e,isOpen:!0,openCount:e.openCount+1,from:n||"unknown"}))),e.shouldSetSeenPersonalizationSettingsModal){const{sidebarSpaceViewStore:t}=c().default.state;t&&l().createAndCommit({environment:e.environment,userAction:"AgentPersonalizationSettings.markSeen",canUndo:!1,perform:e=>{const n=t.getSettings()||{},a={...n,agent_personalization_settings:{...n.agent_personalization_settings||{},has_already_seen_personalization_settings_modal:!0}};s().AG(t,e,a)}})}}function p(e){const{store:t}=e;t.update((e=>({...e,isOpen:!1})))}function g(e){const{store:t}=e;return t.state.isOpen}function m(e){const{store:t}=e;return t.state.from||"unknown"}function v(e){var t;const{environment:n,agentName:a,customizationItems:o,newPageIdToAdd:r,contextPageId:d}=e,{sidebarSpaceViewStore:u}=c().default.state;if(!u)return;const p=null===(t=u.getSettings())||void 0===t?void 0:t.agent_personalization_settings;let g=(null==p?void 0:p.recently_used_pages)||[];r&&(g=g.filter((e=>e.page_id!==r)),g.unshift({page_id:r,used_at:Date.now()}),g=g.slice(0,10));const m={name:a,customization_items:o,context_page_id:d,recently_used_pages:g.length>0?g:void 0,has_already_seen_personalization_settings_modal:(null==p?void 0:p.has_already_seen_personalization_settings_modal)||!0};(0,i().A)(m,p)||l().createAndCommit({environment:n,userAction:"AgentPersonalizationSettings.save",canUndo:!0,perform:e=>{const t=u.getSettings()||{},n={...t,agent_personalization_settings:{...t.agent_personalization_settings||{},...m}};s().AG(u,e,n)}})}function h(){return(0,o().K8)((()=>{const e=a().default.getConfigKey("agent_seasonal_accessories","batch"),t=a().default.getConfigKey("agent_seasonal_accessories","batch_expiration_time"),n=t&&new Date(t)<new Date;return r().sy.filter((t=>{const a=d[t];return"permanent"===a||a===e&&!n}))}),[])}function f(e){const t=h();return(0,o().K8)((()=>{var n,o;const i=null==e||null===(n=e.getSettings())||void 0===n?void 0:n.agent_personalization_settings;if(null!=i&&null!==(o=i.customization_items)&&void 0!==o&&o[0]){const e=i.customization_items[0];if(t.includes(e))return e}const s=a().default.getEligibleGroup({experimentId:"nosy_default_accessory"}),l=(null==i?void 0:i.has_already_seen_personalization_settings_modal)??!1;if(s&&"control"!==s&&!l){const e=r().sy.find((e=>e===s));if(e)return e}}),[e,t])}},265665:(e,t,n)=>{n.d(t,{j:()=>c});var a=n(296540),o=()=>n(484714),r=()=>n(401497),i=()=>n(284371),s=()=>n(859428);var l=n(474848);function c({children:e,style:t,tooltipStyle:n,placement:c="bottom"}){const{isSafari:d}=(0,o().Y0)(),u=(0,a.useRef)(null),p=function(e){const[t,n]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const{current:t}=e;if(!t)return void n(!1);const a="ResizeObserver"in window?new ResizeObserver((([e])=>{n(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==a||a.observe(t),()=>null==a?void 0:a.unobserve(t)}),[]),t}(u),g=(0,r().IS)((()=>({overflowText:{...i().RC,...t}})),[t]);return(0,l.jsx)(s().A,{delayThreshold:500,placement:c,textWrap:!0,style:n,forceVisibleState:!(d||!p)&&void 0,renderTooltip:()=>p?e:void 0,render:t=>(0,l.jsx)("div",{ref:u,style:g.overflowText,...t,children:e})})}},289190:(e,t,n)=>{n.d(t,{m:()=>o});class a extends(()=>n(757695))().Store{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){const{propertySchema:t,stores:a,sessionIdForAnalytics:o,collectionId:r}=e,i=o||n(206267).JW();return this.setState({type:"filling",propertySchema:t,collectionId:r,numBlocksToAutofill:a.length,numBlocksAutofilled:0,sessionId:i,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),i}}const o=new a},300755:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,templatesFillIcon:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.71 3.25 14.58 13.51",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"m14.636 8.765 1.003 1.737a.93.93 0 0 0 .355-.73v-5.59a.934.934 0 0 0-.932-.932H9.239a.934.934 0 0 0-.932.932v5.6c0 .502.41.921.923.921h.752L11.1 8.765q.048-.083.109-.155a2.035 2.035 0 0 1 3.425.152z"}),(0,a.jsx)("path",{d:"M9.347 11.803H9.23a2.024 2.024 0 0 1-2.022-2.022V6.284a4.195 4.195 0 1 0 .538 8.295zm2.706-2.488L8.57 15.353a.931.931 0 0 0 .81 1.397h6.978a.934.934 0 0 0 .811-1.398l-3.484-6.037a.936.936 0 0 0-1.622 0z"})]})},r=(0,n(340498).wt)("templatesFill",o)},301948:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var a=()=>n(970236),o=()=>n(69708),r=n(474848);function i(e){return(0,r.jsx)(a().E,{color:"blue",style:e.style,content:(0,r.jsx)(o().sA,{id:"AlphaBadgeComponent.label",defaultMessage:"Alpha"})})}},371513:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.62 3.62 16.75 12.75",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M16.25 3.625c1.174 0 2.125.951 2.125 2.125v8.5a2.125 2.125 0 0 1-2.125 2.125H3.75a2.125 2.125 0 0 1-2.125-2.125v-8.5c0-1.174.951-2.125 2.125-2.125zm-12.5 1.25a.875.875 0 0 0-.875.875v8.5c0 .483.392.875.875.875h2.7V4.875zm3.8 10.25h8.7a.875.875 0 0 0 .875-.875v-8.5a.875.875 0 0 0-.875-.875h-8.7z"})},o=(0,n(340498).wt)("sidebarLeft",a)},387964:(e,t,n)=>{n.d(t,{S:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,a.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,n(340498).wt)("arrowChevronDoubleBackward",o)},388182:(e,t,n)=>{n.d(t,{A:()=>a});const a=n(757695).Store.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},417123:(e,t,n)=>{n.d(t,{z:()=>l});var a=()=>n(842599),o=()=>n(798880),r=()=>n(495989),i=()=>n(519979),s=()=>n(870092);async function l({userId:e,spaceStore:t,environment:n}){var l,c;if(!e||!t)return;const d=new(i().G)(n,{table:r().xM,id:e}),u=new(s().L)(n,{table:o().oo,id:e});await Promise.all([d.load(),u.load()]);const p=u.getEmail(),g=p?(0,a().zN)(p):void 0,m=null===(l=d.getSettings())||void 0===l?void 0:l.domain_type,v=g&&(0,a().Ff)(g),h=m?"professional"!==m:v,f=null===(c=t.getPublicSpaceData())||void 0===c?void 0:c.createdByDomain;return h||g!==f?"personal":"work"}},427636:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var a=n(474848);const o=function(e){const{botStore:t,avatarSize:o,shouldShowBadge:r,style:i,inline:s}=e,l=(0,n(69708).tz)(),c=(0,n(484714).Y0)(),d=(0,n(56366).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:g}=(0,n(401497).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...i},avatarWrapStyle:s?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:n(726637).A.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[i,s,c]);return(0,a.jsxs)("div",{style:u,children:[(0,a.jsx)("div",{style:p,children:(0,a.jsx)(n(256863).A,{botStore:t,size:o})}),(0,a.jsx)("div",{style:{...n(284371).RC},children:d}),r?(0,a.jsx)("div",{style:g,children:"Bot"}):void 0]})}},443194:(e,t,n)=>{n.d(t,{Q:()=>be});n(944114);var a=n(296540),o=()=>n(484714),r=()=>n(56366),i=()=>n(401497),s=()=>n(75435),l=()=>n(718827),c=()=>n(863330),d=()=>n(69708),u=()=>n(534177),p=()=>n(284371),g=()=>n(617668),m=()=>n(107527),v=()=>n(36951),h=()=>n(166442),f=()=>n(890754),S=()=>n(285790),b=()=>n(859428),y=()=>n(900652),x=()=>n(150984),w=n(474848);const M=(0,d().YK)({newChatPlusIcon:{id:"assistantFullPageChat.newChat.ariaLabel",defaultMessage:"New AI chat"}});function A(){const e=(0,d().tz)(),t=(0,o().v3)(),n=y().zg(),a=(0,f().useThreadStoreFromCurrentRoute)();return(0,w.jsx)(b().A,{renderTooltip:()=>e.formatMessage(M.newChatPlusIcon),render:o=>(0,w.jsx)(S().A,{...o,icon:g().plusIcon,iconStyle:n.icon,style:n.button,ariaLabel:e.formatMessage(M.newChatPlusIcon),onClick:()=>{!function(e){const{environment:t,currentThreadStore:n}=e;(0,x().performSecondarySidebarAction)({environment:t,action:()=>{(0,m().Wq)({environment:t,clientStore:h().defaultClientAIChatStore}),(0,v().VK)({environment:t,oldThreadStore:n,newThreadStore:void 0})}})}({environment:t,currentThreadStore:a})}})})}var k=()=>n(301948),_=()=>n(38337),j=()=>n(590707),C=()=>n(920546),I=()=>n(885247),T=()=>n(154060),z=()=>n(205809),B=()=>n(563615),V=()=>n(623187),E=()=>n(770906),R=()=>n(848237);const O=(0,d().YK)({newTeamPlusIcon:{id:"sidebarTeamBrowser.newTeam.button",defaultMessage:"New teamspace"}});function P(){const e=(0,d().tz)(),t=y().zg(),n=(0,a.useCallback)((()=>R().vn("team_browser")),[]);return(0,w.jsx)(b().A,{renderTooltip:()=>e.formatMessage(O.newTeamPlusIcon),render:a=>(0,w.jsx)(S().A,{...a,icon:g().plusIcon,iconStyle:t.icon,style:t.button,ariaLabel:e.formatMessage(O.newTeamPlusIcon),onClick:n})})}var U=()=>n(745766),D=()=>n(644914);const L=30;function H(e){const t=(0,o().v3)(),n=(0,o().Y0)(),{isElectron:a}=n,l=(0,r().O$)(s().b),c=(0,r().K8)((()=>(0,D().KB)(t)),[t]),d=!l&&!c&&a,u=(0,i().IS)((()=>({container:{...(0,U().g)({drag:!0}),flexShrink:0,height:L,width:"100%"}})),[]);return d?(0,w.jsx)("div",{style:u.container}):null}var N=()=>n(340498);const F=(0,N().wt)("hamburgerMenuRound",{viewBox:"0 0 20 20",svg:(0,w.jsx)("path",{d:"M17.266 5.758H2.734a.713.713 0 0 1-.523-.219A.719.719 0 0 1 2 5.023a.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.22.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.21ZM17.266 10.742H2.734a.713.713 0 0 1-.523-.219.719.719 0 0 1-.211-.515.737.737 0 0 1 .734-.75h14.532c.209 0 .383.073.523.219.14.145.211.322.211.53 0 .204-.07.378-.21.524a.71.71 0 0 1-.524.211ZM17.266 15.727H2.734a.713.713 0 0 1-.523-.22.719.719 0 0 1-.211-.515c0-.208.07-.385.21-.531a.713.713 0 0 1 .524-.219h14.532c.209 0 .383.073.523.219.14.146.211.323.211.531 0 .203-.07.378-.21.524a.71.71 0 0 1-.524.21Z"})});var K=()=>n(371513),W=()=>n(35392),G=()=>n(869562);function Y(e){const{style:t}=e,n=(0,o().v3)(),a=(0,d().tz)(),l=(0,r().O$)(s().b),{isTablet:c}=(0,o().Y0)(),u=(0,r().K8)((()=>!(0,D().KB)(n)&&!l),[n,l]),p=(0,y().zg)(),g=(0,i().IS)((e=>({button:{...p.button,...t,marginInlineStart:-7},keyboardShortcut:{color:e.text.inverseSecondary}})),[p,t]),m=a.formatMessage({defaultMessage:"Lock sidebar open",id:"sidebarExpandButton.tooltip"});return u?(0,w.jsx)(b().A,{renderTooltip:()=>(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:m}),(0,w.jsx)(W().A,{style:g.keyboardShortcut,name:"toggleSidebar"})]}),placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:e=>(0,w.jsx)(S().A,{ariaLabel:m,icon:c?K().b:F,iconStyle:p.icon,style:g.button,onClick:()=>G().setExpand({environment:n,isExpanded:!0,from:"topbar_sidebar_button",saveDetailsSidebarPreference:!0}),className:_().l5X,...e})}):null}var $=()=>n(387964),J=()=>n(22634),Z=()=>n(899963),X=()=>n(572080),Q=()=>n(145214),q=()=>n(212326),ee=()=>n(606846),te=()=>n(441199);function ne(e){const{type:t}=e,n=(0,o().v3)(),{peekModeTooltipMessage:s,panelModeTooltipMessage:l}=function(e){const t=(0,d().tz)(),n={peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockInbox.tooltip",defaultMessage:"Lock inbox pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeInbox.tooltip",defaultMessage:"Close inbox pane"})};switch(e){case"inbox":case"none":return n;case"assistant":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockChatHistory.tooltip",defaultMessage:"Lock chat history open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeChatHistory.tooltip",defaultMessage:"Close chat history"})};case"private_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockPrivate.tooltip",defaultMessage:"Lock private pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closePrivate.tooltip",defaultMessage:"Close private pane"})};case"shared_pages":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockShared.tooltip",defaultMessage:"Lock shared pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeShared.tooltip",defaultMessage:"Close shared pane"})};case"teams":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockTeams.tooltip",defaultMessage:"Lock teamspaces pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeTeams.tooltip",defaultMessage:"Close teamspaces pane"})};case"agents":return{peekModeTooltipMessage:t.formatMessage({id:"secondarySidebar.lockAgents.tooltip",defaultMessage:"Lock agents pane open"}),panelModeTooltipMessage:t.formatMessage({id:"secondarySidebar.closeAgents.tooltip",defaultMessage:"Close agents pane"})};default:(0,u().HB)(e)}}(t),c=(0,r().K8)((()=>te().default.state.isMouseEntered),[]),p=(0,a.useCallback)((()=>{const e=E().oe();switch("peek"===e&&E().VI({environment:n}),t){case"inbox":const a={tab:(0,q().dl)(),unread_notifications_count:X().j0(),sessionId:ee().Ay.state.sessionId,...(0,D().hX)({environment:n})};return void Z().x7(n,{view_type:e,section:t,...a});case"private_pages":case"shared_pages":case"assistant":case"teams":case"agents":return void Z().x7(n,{view_type:e,section:t,...(0,D().hX)({environment:n})});case"none":return;default:(0,u().HB)(t)}}),[n,t]),g=(0,r().K8)((()=>te().default.state.mode),[]),m=y().zg(),v=(0,i().IS)((e=>({icon:{transform:"rotate(180deg)",...m.icon}})),[m]),h="peek"===g?s:l,f="panel"===g?J().O:$().S;return(0,w.jsx)(b().A,{renderTooltip:()=>h,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:e=>(0,w.jsx)(Q().A,{tag:S().A,animate:{opacity:c?1:0},ariaLabel:h,onClick:p,icon:f,iconStyle:v.icon,style:m.button,...e})})}var ae=()=>n(582684),oe=()=>n(406699),re=()=>n(765957),ie=()=>n(10521),se=()=>n(452558),le=()=>n(404277),ce=()=>n(89924),de=()=>n(125565),ue=()=>n(137840),pe=()=>n(722872);function ge(e){const{type:t,spaceViewStore:n,onClick:a}=e,r=(0,o().v3)(),s=(0,i().IS)((e=>({header:{display:"flex",alignItems:"center",paddingInlineStart:16,paddingInlineEnd:16,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:p().Wy.semibold,color:e.text.secondary}})),[]),l=(0,ue().useSortActions)({type:t,spaceViewStore:n,onSelect:a,outlinerLocation:"pane"}),c=[(0,ie().gy)({key:"sort",render:e=>(0,w.jsx)(ce().A,{...e}),actions:l})];return(0,w.jsxs)(le().A,{menuType:pe().gu.Popup,children:[(0,w.jsx)(de().A,{style:s.header,children:(0,w.jsx)(d().sA,{id:"secondarySidebar.sortMenu.headerLabel",defaultMessage:"Sort"})}),(0,w.jsx)(se().A,{context:{blocks:[],environment:r,publicEditMode:void 0,analyticsFrom:"sidebar_sort_menu"},sections:c,initialFocus:void 0})]})}function me({type:e}){const t=(0,d().tz)(),n=(0,r().O$)(re().AppStoreSidebarSpaceViewStore),a=(0,y().zg)(),o=(0,i().IS)((e=>({icon:{fill:e.icon.secondary,width:N().Ev.lg,height:N().Ev.lg}})),[]),s=t.formatMessage({defaultMessage:"Sort {type} pages",id:"secondarySidebar.sortButton.tooltip"},{type:e});return n?(0,w.jsx)(oe().A,{popupType:oe().z.Popup,renderOrigin:({onClick:e})=>(0,w.jsx)(b().A,{renderTooltip:()=>s,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:t=>(0,w.jsx)(S().A,{ariaLabel:s,icon:ae().arrowUpDownIcon,iconStyle:o.icon,onClick:e,style:a.button,...t})}),render:t=>(0,w.jsx)(ge,{onClick:t.close,type:e,spaceViewStore:n}),alignmentToOrigin:"start",originGap:2}):(0,w.jsx)(w.Fragment,{})}var ve=()=>n(112412),he=()=>n(976644);function fe(e){const t=(0,o().v3)(),n=(0,he().o)(),a=(0,i().IS)((e=>({header:{display:"flex",alignItems:"center",paddingInlineStart:12,paddingInlineEnd:12,paddingTop:10,fontSize:12,lineHeight:"16px",fontWeight:p().Wy.medium,color:e.text.secondary}})),[]);return(0,w.jsxs)(le().A,{menuType:pe().gu.Popup,width:257,children:[(0,w.jsx)(de().A,{style:a.header,children:(0,w.jsx)(d().sA,{id:"secondarySidebar.workspaceFilterMenu.headerLabel",defaultMessage:"Filter"})}),(0,w.jsx)(se().A,{context:{blocks:[],environment:t,publicEditMode:void 0,analyticsFrom:"sidebar_workspace_filter_menu"},sections:n,initialFocus:-1})]})}function Se(){const e=(0,d().tz)(),t=(0,r().K8)((()=>te().default.state.isMouseEntered),[]),n=(0,y().zg)(),a=e.formatMessage({defaultMessage:"Filter shared pages by workspace",id:"secondarySidebar.filterWorkspace.tooltip"});return(0,w.jsx)(oe().A,{popupType:oe().z.Popup,renderOrigin:({onClick:e})=>(0,w.jsx)(b().A,{renderTooltip:()=>a,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:o=>(0,w.jsx)(Q().A,{tag:S().A,animate:{opacity:t?1:0},ariaLabel:a,onClick:e,icon:ve().filterSmallIcon,iconStyle:n.icon,style:n.button,...o})}),render:e=>(0,w.jsx)(fe,{onClick:e.close}),alignmentToOrigin:"start",originGap:2})}function be(e){const{type:t,titleId:n}=e,l=(0,o().v3)(),{isElectron:c,isTablet:d}=(0,o().Y0)(),g=(0,r().O$)(s().b),m=c&&!g,v=(0,r().K8)((()=>(0,T().A)()),[]),h=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{paddingTop:d?32:8,paddingInlineStart:16,paddingInlineEnd:10,paddingBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},title:{display:"flex",alignItems:"center",gap:4,fontSize:d?16:14,fontWeight:p().Wy.medium},titleText:{font:"inherit",margin:0},actions:{display:"flex",alignItems:"center",gap:4},createPageButtonIcon:{fill:e.icon.secondary}})),[d]),f=(0,a.useCallback)((()=>{"peek"===te().default.state.mode&&(0,E().VI)({environment:l})}),[l]),S=[];switch(t){case"inbox":d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(C().F,{},"inbox_filter"),(0,w.jsx)(j().C,{},"inbox_ellipsis"));break;case"private_pages":d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(me,{type:"private"},"sort"),(0,w.jsx)(z().A,{from:"sidebar_private_pane",onClick:f,iconStyle:h.createPageButtonIcon},"create_page"));break;case"shared_pages":v&&S.push((0,w.jsx)(Se,{},"filter_workspace")),d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(me,{type:"shared"},"sort"));break;case"assistant":d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(A,{},"add_chat"));break;case"teams":d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(P,{},"add_team"));break;case"agents":d||S.push((0,w.jsx)(ne,{type:t},"mode_toggle")),S.push((0,w.jsx)(xe,{},"new_agent"));break;case"none":break;default:(0,u().HB)(t)}return(0,w.jsxs)("div",{className:m?_().sbV:void 0,style:h.container,children:[(0,w.jsx)(H,{type:t}),(0,w.jsxs)("div",{style:h.header,children:[(0,w.jsxs)("div",{style:h.title,children:[(0,w.jsx)(Y,{}),(0,w.jsx)("h2",{style:h.titleText,id:n,children:(0,w.jsx)(ye,{type:t})})]}),(0,w.jsx)("div",{style:h.actions,children:S})]})]})}function ye(e){const{type:t}=e;switch(t){case"inbox":return(0,w.jsx)(I().R,{});case"private_pages":return(0,w.jsx)(d().sA,{id:"secondarySidebarHeader.title.privatePages",defaultMessage:"Private"});case"shared_pages":return(0,w.jsx)(d().sA,{id:"secondarySidebarHeader.title.sharedPages",defaultMessage:"Shared"});case"assistant":return(0,w.jsx)(d().sA,{id:"secondarySidebarHeader.title.assistantChatHistory",defaultMessage:"Chat history"});case"teams":return(0,w.jsx)(d().sA,{defaultMessage:"All teamspaces",id:"sidebarTeamBrowserHeader.title"});case"agents":return(0,w.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[(0,w.jsx)(d().sA,{id:"secondarySidebarHeader.title.agents",defaultMessage:"Agents"}),(0,w.jsx)(l().Ay,{href:"https://notion.notion.site/Custom-Agents-Alpha-Overview-278efdeead0580f085acd7e4ae6502b0",style:{borderRadius:4},children:(0,w.jsx)(k().A,{style:{marginInlineStart:0}})})]});case"none":return null;default:(0,u().HB)(t)}}function xe(){const e=(0,d().tz)(),t=(0,y().zg)(),{canCreate:n,tooltipMessage:o}=(0,V().$)(),r=(0,i().IS)((()=>({icon:{...t.icon,width:16,height:16}})),[t]),s=(0,a.useCallback)((async()=>{const e=await B().WorkflowDeps.agentActions.load();await e.showCreationModal()}),[]),l=e.formatMessage({id:"agents.topbar.newAgent",defaultMessage:"Create new agent"}),u=!n;return(0,w.jsx)(b().A,{disableTooltip:!u,renderTooltip:()=>o,render:e=>(0,w.jsx)(S().A,{...e,icon:c().plusSmallIcon,onClick:s,ariaLabel:l,style:t.button,iconStyle:r.icon,disabled:u,disabledFeedback:!0})})}},448693:(e,t,n)=>{n.d(t,{Ay:()=>y,t_:()=>x,v7:()=>w});n(296540);var a=()=>n(484714),o=()=>n(56366),r=()=>n(764880),i=()=>n(784892),s=()=>n(534177),l=()=>n(313364),c=()=>n(258836),d=()=>n(842677),u=()=>n(870092),p=()=>n(427636),g=()=>n(256863),m=()=>n(848401),v=()=>n(994006),h=()=>n(453697),f=n(474848);function S(e){const t=(0,a().v3)(),{actor:n,format:r,hasTooltip:S,tooltipHeader:y,hasPersonHoverCard:x}=e,w=(0,o().K8)((()=>{const e=n.asActor;return e&&d().RecordStores.createUniqueRootStore(t,e.pointer)}),[n,t]);return(0,f.jsx)(m().Ay,{...e,renderAvatar:e=>{if(w)return w instanceof c().v?r===i().NY.Inline?(0,f.jsx)(g().A,{botStore:w,size:e,style:b}):(0,f.jsx)(p().A,{botStore:w,avatarSize:e,inline:!0,style:b}):w instanceof u().L?r===i().NY.Inline?(0,f.jsx)(h().A,{userStore:w,size:e,avatarShouldShowShadow:!0,hasTooltip:S??!0,style:b,tooltipHeader:y,hasPersonHoverCard:x}):(0,f.jsx)(v().A,{userStore:w,avatarSize:e,inline:!0,hasTooltip:S,hasPersonHoverCard:x,style:b,tooltipHeader:y}):void(w instanceof l().p||(0,s().HB)(w))}})}const b={minWidth:0};S.Format=i().NY;const y=S;function x(e){const{userValue:t,...n}=e;return(0,f.jsx)(S,{actor:(0,r().MR)(t),...n})}function w(e){const{botValue:t,...n}=e;return(0,f.jsx)(S,{actor:(0,r().oC)(t),...n})}x.Format=m().mI,w.Format=m().mI},448801:(e,t,n)=>{n.d(t,{i:()=>o});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var a=()=>n(371562);a();function o(e,t){const n=a().create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!n)return{beforeOps:{},removeOps:new Set};let o=[],r=[];for(const a in n)"_t"!==a&&("_"===a[0]?o.push(parseInt(a.slice(1),10)):1===n[a].length&&r.push({index:parseInt(a,10),value:n[a][0]}));const i={},s=new Set,l=[...e];o=o.sort(((e,t)=>e-t));for(let a=o.length-1;a>=0;a--){const e=o[a],t=l.splice(e,1)[0];s.add(t)}r=r.sort(((e,t)=>e.index-t.index));for(let a=0;a<r.length;a++){const e=r[a];i[e.value]=l[e.index],l.splice(e.index,0,e.value)}return{beforeOps:i,removeOps:s}}},482871:(e,t,n)=>{n.d(t,{z:()=>d});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(430670),n(581454);var a=()=>n(898244),o=()=>n(448801),r=()=>n(179034),i=()=>n(722101),s=()=>n(878710),l=(n(354520),()=>n(496603));function c(e){const{collectionContextStore:t,collectionViewStore:n,transaction:o}=e,c=n.getPageSortStore(),d=c.getValue(),u=t.groupsStore.getAllGroupStates(),p=function(e){const{pageSort:t,currentResults:n}=e;if(!t||t.length<=a().WF)return[];const o=t.filter((e=>!n.has(e)));return l().sb([...o.reverse(),...l().o8(t).reverse()]).slice(0,t.length-a().WF)}({pageSort:d,currentResults:new Set(u.flatMap((e=>e.resultsStore.state.map((e=>e.id)))))});for(const a of p)i().TF({parentStore:c,childToRemoveStore:(0,s().v3)(c,{table:r().ev,id:a}),transaction:o})}function d(e){const{resultIds:t,collectionViewStore:n,collectionContextStore:l,transaction:d}=e,u=n.getPageSortStore(),p=u.getValue()||[],{beforeOps:g}=(0,o().i)(p,t.slice(0,a().WF));for(const[a,o]of Object.entries(g))if(o){const e=(0,s().v3)(n,{table:r().ev,id:o});i().nc({parentStore:u,insertStore:(0,s().v3)(n,{table:r().ev,id:a}),beforeStore:e,transaction:d})}else{const e=t.findIndex((e=>e===a)),o=t[e-1],l=o?(0,s().v3)(n,{table:r().ev,id:o}):void 0;i().WH({parentStore:u,insertStore:(0,s().v3)(n,{table:r().ev,id:a}),afterStore:l,transaction:d})}c({collectionContextStore:l,collectionViewStore:n,transaction:d})}},491848:(e,t,n)=>{n.d(t,{w:()=>o});n(898992),n(672577);var a=()=>n(755199);function o({collectionContextStore:e,transaction:t}){const n="collectionTypedView"===e.contextType,o=e.databaseType,r=e.collectionStoresStore.state,i=r.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||r[0];!n&&i&&a().ee({transaction:t,databaseType:o,collectionId:i.id})}},563884:(e,t,n)=>{n.d(t,{k:()=>o});n(296540);var a=n(474848);const o=(0,n(340498).wt)("calendar",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M3.24902 14.7764H12.6621C14.1455 14.7764 14.918 14.0107 14.918 12.5479V4.22852C14.918 2.76562 14.1455 2 12.6621 2H3.24902C1.77246 2 1 2.75879 1 4.22852V12.5479C1 14.0107 1.77246 14.7764 3.24902 14.7764ZM3.24219 13.416C2.6748 13.416 2.36035 13.1221 2.36035 12.5205V6.23145C2.36035 5.62988 2.6748 5.33594 3.24219 5.33594H12.6689C13.2363 5.33594 13.5508 5.62988 13.5508 6.23145V12.5205C13.5508 13.1221 13.2363 13.416 12.6689 13.416H3.24219ZM6.63965 7.69434H7.04297C7.28906 7.69434 7.37109 7.61914 7.37109 7.37988V6.97656C7.37109 6.73047 7.28906 6.65527 7.04297 6.65527H6.63965C6.39355 6.65527 6.31152 6.73047 6.31152 6.97656V7.37988C6.31152 7.61914 6.39355 7.69434 6.63965 7.69434ZM8.875 7.69434H9.27832C9.51758 7.69434 9.59961 7.61914 9.59961 7.37988V6.97656C9.59961 6.73047 9.51758 6.65527 9.27832 6.65527H8.875C8.62891 6.65527 8.54688 6.73047 8.54688 6.97656V7.37988C8.54688 7.61914 8.62891 7.69434 8.875 7.69434ZM11.1035 7.69434H11.5068C11.7529 7.69434 11.835 7.61914 11.835 7.37988V6.97656C11.835 6.73047 11.7529 6.65527 11.5068 6.65527H11.1035C10.8643 6.65527 10.7822 6.73047 10.7822 6.97656V7.37988C10.7822 7.61914 10.8643 7.69434 11.1035 7.69434ZM4.41113 9.89551H4.80762C5.05371 9.89551 5.13574 9.82031 5.13574 9.57422V9.1709C5.13574 8.93164 5.05371 8.85645 4.80762 8.85645H4.41113C4.16504 8.85645 4.08301 8.93164 4.08301 9.1709V9.57422C4.08301 9.82031 4.16504 9.89551 4.41113 9.89551ZM6.63965 9.89551H7.04297C7.28906 9.89551 7.37109 9.82031 7.37109 9.57422V9.1709C7.37109 8.93164 7.28906 8.85645 7.04297 8.85645H6.63965C6.39355 8.85645 6.31152 8.93164 6.31152 9.1709V9.57422C6.31152 9.82031 6.39355 9.89551 6.63965 9.89551ZM8.875 9.89551H9.27832C9.51758 9.89551 9.59961 9.82031 9.59961 9.57422V9.1709C9.59961 8.93164 9.51758 8.85645 9.27832 8.85645H8.875C8.62891 8.85645 8.54688 8.93164 8.54688 9.1709V9.57422C8.54688 9.82031 8.62891 9.89551 8.875 9.89551ZM11.1035 9.89551H11.5068C11.7529 9.89551 11.835 9.82031 11.835 9.57422V9.1709C11.835 8.93164 11.7529 8.85645 11.5068 8.85645H11.1035C10.8643 8.85645 10.7822 8.93164 10.7822 9.1709V9.57422C10.7822 9.82031 10.8643 9.89551 11.1035 9.89551ZM4.41113 12.0898H4.80762C5.05371 12.0898 5.13574 12.0146 5.13574 11.7754V11.3721C5.13574 11.126 5.05371 11.0508 4.80762 11.0508H4.41113C4.16504 11.0508 4.08301 11.126 4.08301 11.3721V11.7754C4.08301 12.0146 4.16504 12.0898 4.41113 12.0898ZM6.63965 12.0898H7.04297C7.28906 12.0898 7.37109 12.0146 7.37109 11.7754V11.3721C7.37109 11.126 7.28906 11.0508 7.04297 11.0508H6.63965C6.39355 11.0508 6.31152 11.126 6.31152 11.3721V11.7754C6.31152 12.0146 6.39355 12.0898 6.63965 12.0898ZM8.875 12.0898H9.27832C9.51758 12.0898 9.59961 12.0146 9.59961 11.7754V11.3721C9.59961 11.126 9.51758 11.0508 9.27832 11.0508H8.875C8.62891 11.0508 8.54688 11.126 8.54688 11.3721V11.7754C8.54688 12.0146 8.62891 12.0898 8.875 12.0898Z"})})},585608:(e,t,n)=>{n.d(t,{$:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.91 1.23 15.18 17.53",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M16.958 13.771a.625.625 0 0 1 1.028.71 4.8 4.8 0 0 1-3.326 2.033v.997h2.21a.625.625 0 0 1 0 1.25H11.2a.625.625 0 1 1 0-1.25h2.21v-.997a4.8 4.8 0 0 1-3.326-2.032.626.626 0 0 1 1.029-.711 3.55 3.55 0 0 0 2.922 1.535 3.55 3.55 0 0 0 2.923-1.535"}),(0,a.jsx)("path",{d:"M12.535 1.239c1.174 0 2.125.951 2.125 2.125v3.032a4 4 0 0 0-.447-.053l-.178-.005a3.45 3.45 0 0 0-3.45 3.45v2.464a1.875 1.875 0 0 0-1.53 2.94c.338.49.747.926 1.212 1.297H5.035a2.125 2.125 0 0 1-2.125-2.125v-11c0-1.174.951-2.125 2.125-2.125zm-6.25 5.663a.55.55 0 1 0 0 1.1H9a.55.55 0 0 0 0-1.1zm0-2.5a.55.55 0 1 0 0 1.1h5a.55.55 0 0 0 0-1.1z"}),(0,a.jsx)("path",{d:"M14.035 7.664c1.173 0 2.125.951 2.125 2.125v2.52a2.125 2.125 0 0 1-4.25 0v-2.52c0-1.174.951-2.125 2.125-2.125"})]})},r=(0,n(340498).wt)("paperMicrophoneFill",o)},590707:(e,t,n)=>{n.d(t,{C:()=>C});n(944114);var a=n(296540),o=()=>n(484714),r=()=>n(56366),i=()=>n(401497),s=n(474848);const l={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 15.25 15.57",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v3.904l-1.25 2.084V7.945h-9.25v7.305c0 .207.168.375.375.375h4.329c.05.338.192.667.431.945l.261.305H5.75a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm12.5 1.57V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375",clipRule:"evenodd"}),(0,s.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25zm10.282 2.697a.625.625 0 0 0-1.072-.644l-3.041 5.07-1.76-2.055a.625.625 0 1 0-.95.814l2.325 2.712a.625.625 0 0 0 1.01-.085z"})]})},c=(0,n(340498).wt)("archiveBoxCheck",l);var d=()=>n(589407),u=()=>n(69708),p=()=>n(534177),g=()=>n(848259),m=()=>n(572080),v=()=>n(760217),h=()=>n(406699),f=()=>n(285790),S=()=>n(404277),b=()=>n(939740),y=()=>n(89924),x=()=>n(859428),w=()=>n(125565),M=()=>n(722872),A=()=>n(12591),k=()=>n(900652),_=()=>n(606846),j=()=>n(212326);function C(){const e=(0,o().Y0)(),t=(0,u().tz)(),n=(0,r().K8)((()=>{const e=j().dl(),{currentTab:t,isCurrentTabEmpty:n}=_().Ay.state;if("all_updates"===e||"archived_only"===e||"mentions"!==t||n)return;const{containsUnreadNotifications:a,containsBothReadAndUnreadNotifications:o}=_().Ay.state;return{containsUnreadNotifications:a,containsBothReadAndUnreadNotifications:o,showOnlyUnreadNotifications:"unread_only"===e}}),[]),a=(0,k().zg)(),l=(0,i().IS)((t=>({button:e.isMobile?{height:30,width:30}:a.button,popup:{...e.isMobile&&{borderStartStartRadius:12,borderStartEndRadius:12,overflow:"hidden"}},ellipsisIcon:{...a.icon,...e.isMobile&&{fill:t.icon.primary}}})),[e,a]);if(!n)return null;const c=t.formatMessage({defaultMessage:"More actions",id:"inbox.ellipsisButton.tooltip"});return(0,s.jsx)(h().A,{style:l.popup,popupType:e.isMobile?h().z.SlideUp:h().z.Popup,renderOrigin:({onClick:e})=>(0,s.jsx)(x().A,{renderTooltip:()=>c,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:n=>(0,s.jsx)(f().A,{ariaLabel:t.formatMessage(B.moreActionsButtonAriaLabel),icon:d().ellipsisIcon,iconStyle:l.ellipsisIcon,style:l.button,onClick:e,...n})}),render:e=>(0,s.jsx)(I,{...n,closePopup:e.close}),alignmentToOrigin:"start",originGap:2})}function I(e){const{containsUnreadNotifications:t,containsBothReadAndUnreadNotifications:n,showOnlyUnreadNotifications:r,closePopup:i}=e,l=(0,o().v3)(),c=(0,o().Y0)(),d=["markAllAsRead"];r?d.push("archiveUnread"):(d.push("archiveAll"),n&&d.push("archiveRead"));const v=(0,a.useCallback)((()=>{g().cZ(l),m().hY(l)}),[l]),h=(0,a.useCallback)((e=>{let t="none";"archiveAll"===e?t="none":"archiveUnread"===e?t="unread":"archiveRead"===e&&(t="read"),g().xd(l,{readFilter:t}),m().Sy(l,"mentions",t)}),[l]),f=(0,A().C)();return(0,s.jsx)(S().A,{menuType:M().gu.Popup,height:c.isTablet?"100%":c.isMobile?"50vh":void 0,maxWidth:c.isMobile?"100vw":void 0,maxHeight:c.isTablet?"100%":void 0,header:c.isMobile?(0,s.jsx)(w().A,{style:f.header,isSmall:!c.isMobile,isSecondaryColor:!c.isMobile,children:(0,s.jsx)(u().sA,{id:"inbox.moreActionsMenu.header",defaultMessage:"Actions"})}):void 0,minWidth:250,scrollerStyle:f.menuScroller,children:(0,s.jsx)(b().Ay,{type:b().Oh.Vertical,sections:[{key:"inbox global actions",render:e=>(0,s.jsx)(y().A,{...e,topBorder:0!==e.index,style:f.sectionMenuItem}),items:d.map(((e,n)=>({key:e,render:a=>{const o=n===d.length-1,r=c.isMobile&&o;return"archiveAll"===e||"archiveRead"===e||"archiveUnread"===e?(0,s.jsx)(z,{...a,archiveActionType:e,showTransparentButtonMenuItemDivider:r}):"markAllAsRead"===e?(0,s.jsx)(T,{...a,showTransparentButtonMenuItemDivider:r,containsUnreadNotifications:t}):void(0,p().HB)(e)},action:()=>{i(),"archiveAll"===e||"archiveUnread"===e||"archiveRead"===e?h(e):"markAllAsRead"===e?v():(0,p().HB)(e)}})))}],initialFocus:void 0,onAccept:()=>i()})})}const T=a.forwardRef(((e,t)=>{const{containsUnreadNotifications:a,showTransparentButtonMenuItemDivider:o,...i}=e,l=(0,r().K8)((()=>n(179534).A.getUnreadCountForSidebarSpace().mentions>0),[]),c=!(a||l),d=(0,A().C)();return(0,s.jsx)(x().A,{placement:"left",disableTooltip:!c,renderTooltip:()=>(0,s.jsx)(u().sA,{defaultMessage:"All notifications have been marked as read.",id:"updatesModal.spaceUpdatesTab.markAllReadButton.disabledTooltip"}),render:e=>(0,s.jsx)(v().A,{...(0,n(553965).A)(i,e),ref:t,icon:(0,n(29037).checkmarkIcon)(d.icon),title:(0,s.jsx)(u().sA,{defaultMessage:"Mark all as read",id:"updatesModal.spaceUpdates.mentionsTab.markAllReadButtonTitle"}),titleStyle:d.title,disabled:c,disabledFeedback:c,style:{...d.buttonMenuItem,...o&&d.transparentButtonMenuItemBorder}})})}));T.displayName="InboxMarkReadButtonMenuItem";const z=a.forwardRef(((e,t)=>{const{archiveActionType:a,showTransparentButtonMenuItemDivider:o,...r}=e,i=(0,A().C)(),l="archiveRead"===a;return(0,s.jsx)(v().A,{...r,ref:t,icon:l?c(i.icon):(0,n(934999).B)(i.icon),title:(()=>{switch(a){case"archiveAll":return(0,s.jsx)(u().sA,{defaultMessage:"Archive all",id:"updatesModal.spaceUpdatesTab.archiveAll.tooltip"});case"archiveUnread":return(0,s.jsx)(u().sA,{defaultMessage:"Archive unread",id:"updatesModal.spaceUpdatesTab.archiveUnread.tooltip"});case"archiveRead":return(0,s.jsx)(u().sA,{defaultMessage:"Archive read",id:"updatesModal.spaceUpdatesTab.archiveRead.tooltip"});default:(0,p().HB)(a)}})(),titleStyle:i.title,style:{...i.buttonMenuItem,...o&&i.transparentButtonMenuItemBorder}})}));z.displayName="InboxArchiveButtonMenuItem";const B=(0,u().YK)({moreActionsButtonAriaLabel:{defaultMessage:"More actions",id:"inbox.button.moreActionsButtonAriaLabel"}})},623187:(e,t,n)=>{n.d(t,{V:()=>h,$:()=>f});n(898992),n(672577),n(581454);var a=()=>n(59226),o=()=>n(484714),r=()=>n(56366),i=(n(737550),()=>n(979340)),s=()=>n(68263);var l=()=>n(69708),c=()=>n(496603),d=()=>n(124749),u=()=>n(369955),p=()=>n(646736),g=()=>n(605402),m=()=>n(486130);const v=(0,l().YK)({permissionDeniedTooltip:{id:"permissions.agentCreation.denied",defaultMessage:"Contact a workspace owner to create agents"}});function h(){const e=(0,u().L)(),t=(0,d().$)(),n=(0,o().v3)(),l=(0,a().X)("agent_creation_permissions");return(0,r().K8)((()=>{if(!l)return{canCreate:!0};const a=null==e?void 0:e.getModel(),o=null==a?void 0:a.getSettings();if(!(e&&t&&a&&o))return{canCreate:!1,reason:"feature_disabled"};const r=(0,p().dp)(e,t.id).getMembershipTypeAsRoleOrNone(),d=m()._.getSpacePermissionGroupIds({userId:n.currentUser.id,spaceId:e.id}),u=(0,c().oE)(Array.from(d).map((e=>{const t=g().A.state.permissionGroupsAndMemberCounts.find((t=>t.group.getGroupId()===e));if(null!=t&&t.group){const e=t.group.getSettings();return{settings:e?{can_create_custom_agents:e.can_create_custom_agents}:void 0}}})));return function(e){const{policy:t,userRole:n,subscriptionTier:a,userPermissionGroups:o}=e,r=(0,i().OX)(a),l=t??(r?"workspace_owners_only":"all_workspace_members"),c=n&&(0,s().Km)(n);switch(l){case"workspace_owners_only":if(!c)return{canCreate:!1,reason:"policy_restriction"};break;case"all_workspace_members":break;case"custom":if(!(null==o?void 0:o.some((e=>{var t;return!0===(null===(t=e.settings)||void 0===t?void 0:t.can_create_custom_agents)})))&&!c)return{canCreate:!1,reason:"policy_restriction"}}return{canCreate:!0}}({policy:o.custom_agent_creation_policy,userRole:r&&"none"!==r?r:void 0,subscriptionTier:e.getSubscriptionTier(),userPermissionGroups:u})}),[e,t,l,n])}function f(){const e=h(),t=(0,l().tz)().formatMessage(v.permissionDeniedTooltip);return{canCreate:e.canCreate,reason:e.reason,tooltipMessage:t}}},627503:(e,t,n)=>{n.d(t,{a:()=>o});n(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"1.37 1.37 13.25 13.25",svg:(0,n(474848).jsx)("path",{d:"M3.25 1.375c-1.036 0-1.875.84-1.875 1.875v6c0 1.036.84 1.875 1.875 1.875h1.625v1.625c0 1.036.84 1.875 1.875 1.875h6c1.036 0 1.875-.84 1.875-1.875v-6c0-1.036-.84-1.875-1.875-1.875h-1.625V3.25c0-1.036-.84-1.875-1.875-1.875zM2.625 3.25c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v1.625H6.75c-1.036 0-1.875.84-1.875 1.875v3.125H3.25a.625.625 0 0 1-.625-.625zm3.5 3.5c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v6c0 .345-.28.625-.625.625h-6a.625.625 0 0 1-.625-.625z"})},o=(0,n(340498).wt)("duplicateSmall",a)},655923:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightDownIcon:()=>o,iconDefinition:()=>a});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.37 12.06 15.26",svg:(0,n(474848).jsx)("path",{d:"M10.625 3a.625.625 0 1 0-1.25 0v12.491l-4.333-4.333a.625.625 0 1 0-.884.884l5.4 5.4a.62.62 0 0 0 .884 0l5.4-5.4a.625.625 0 0 0-.884-.884l-4.333 4.333z"})},o=(0,n(340498).wt)("arrowStraightDown",a)},658985:(e,t,n)=>{n.d(t,{$:()=>o});n(296540);var a=n(474848);const o=(0,n(340498).wt)("membersFilled",{viewBox:"0 0 30 30",svg:(0,a.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},766854:(e,t,n)=>{n.d(t,{H:()=>x,Q:()=>y});n(898992),n(672577);var a=()=>n(242422),o=()=>n(929219),r=()=>n(700500),i=()=>n(179034),s=()=>n(201980),l=()=>n(557281),c=()=>n(384944),d=()=>n(381678),u=()=>n(476492),p=()=>n(646736),g=()=>n(406792),m=()=>n(765957),v=()=>n(148832),h=()=>n(622811),f=()=>n(491848),S=()=>n(482871);function b(e,t,n){const o=(0,d()._)(e),r=null==o?void 0:o.id;if(!r||!n)return;if(!a().default.checkGate({gateName:"full_access_for_created_collection_pages"}))return;if(t.canAdmin())return;const i=t.getSpaceStore();return i&&(0,p().dp)(i,r).isMember()?[{role:"editor",type:"user_permission",user_id:r}]:void 0}function y(e){const{collectionContextStore:t,transaction:n}=e;return(0,f().w)({collectionContextStore:t,transaction:n}),x(e)}function x(e){var t,n,a;const{environment:d,collectionContextStore:p,groupsPointer:f,insertAtIndex:y,shouldCoerce:x,templateStore:w,transaction:M,from:A,tracker:k,inMemoryRecordCache:_,isKeyboard:j,title:C}=e,I=g().default.DO_NOT_USE_markLegacy("collections.add_item_lag");g().default.DO_NOT_USE_measureAfterNextFlushLegacy(I,{environment:d,getData:()=>({...u().kz(p),from:A.createBlock})});const T="collectionTypedView"===p.contextType,z=p.databaseType,B=p.collectionStoresStore.state,V=B.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||B[0],E=null===(t=m().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,R=m().default.state.currentUserSettingsStore,O=T&&z&&E&&R&&[...R.getAllPreferredCollections(E),...R.getPreferredCollectionsOfType(E,z)]||[];let P;const U=f[0];if("group_header"===A.createBlock&&"location"===U.value.type){const e=U.value.value;if(e){P=B.find((t=>t.id===e.id&&(t.canEdit()||t.canEditCollection()||t.canEditContentOnly())))}}else P=function(e,t){for(const n of e){const e=t.find((e=>e.id===n&&(e.canEdit()||e.canEditCollection()||e.canEditContentOnly())));if(e)return e}}(O,B);const D=P??V,L=null==D?void 0:D.getSpaceId(),H=p.collectionViewStore(),N=p.getViewType(),F=c().Wv({environment:d,type:r().xd.page,inMemoryRecordCache:_,transaction:M,spaceId:L,tracker:k,permissions:b(d,D,L),properties:{title:(0,s().x9d)(C)}});if(!D||!H||!N)return{coercionSucceeded:!0,newStore:F};const K=null===(n=p.groupsStore.getGroupState(f))||void 0===n?void 0:n.groupUiParentStore;if(!K)return{coercionSucceeded:!0,newStore:F};const W=v().B.createChildStore(K,{table:i().ev,id:F.id});w&&o().A.state.online&&l().n5({title:"template",environment:d,store:F,templateStore:w,isKeyboard:j??!1,isCreateIn:!1,transaction:M,from:A.initCollection??"collection_group_actions"});const G=(0,h().j)({environment:d,store:F,collectionStore:D,collectionContextStore:p,groupsPointer:f,shouldCoerce:x,transaction:M}),Y=(null===(a=p.groupsStore.getGroupState(f))||void 0===a||null===(a=a.reducerResultStore.state)||void 0===a?void 0:a.blockIds)||[],$=void 0!==y?y:Y.length;if(p.permissionScopesStore.state.canEditContent||T){const e=[...Y.slice(0,$),W.id,...Y.slice($)];(0,S().z)({resultIds:e,collectionViewStore:H,collectionContextStore:p,transaction:M})}return{coercionSucceeded:G,newStore:W}}},848401:(e,t,n)=>{n.d(t,{Ay:()=>g,mI:()=>u,vb:()=>p});n(296540);var a=()=>n(401497),o=()=>n(718827),r=()=>n(784892),i=()=>n(65767),s=()=>n(69708),l=()=>n(284371),c=n(474848);const d=(0,s().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=r().NY,p={[r().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[r().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[r().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[r().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[r().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:24}};function g({avatarSize:e,format:t,isSingle:n,onClickRemove:r,renderAvatar:u,showRemoveButton:g,shouldShrink:m,style:v,title:h}){const f=(0,s().tz)(),{height:S,fontSize:b,margin:y,marginEditState:x,closeIconSize:w,avatarSize:M}=p[t],A=e??M,k=(0,a().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:m?1:0,minWidth:0,height:S,borderRadius:6,fontSize:b,lineHeight:"120%",margin:n?0:g?x:y,...v}})),[b,S,n,y,x,m,g,v]);return(0,c.jsxs)("div",{style:k.root,children:[null==u?void 0:u(A),(0,c.jsx)("div",{className:"notranslate",style:{...l().RC},children:h}),g?(0,c.jsx)(o().Ay,{ariaLabel:void 0!==h?f.formatMessage(d.removeTokenLabel,{title:h}):f.formatMessage(d.removeTokenLabelGeneric),onClick:r,style:{display:"flex",alignItems:"center",justifyContent:"center",width:S,height:S,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,i().l)({width:w,height:w,opacity:.5})}):null]})}},863522:(e,t,n)=>{n.d(t,{C:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 1.25 15.63 15.63",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M16.25 6.25a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5"}),(0,a.jsx)("path",{d:"M5.25 3.125h7.302a3.8 3.8 0 0 0 0 1.25H5.25a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h9.5a.875.875 0 0 0 .875-.875V7.448a3.8 3.8 0 0 0 1.25 0v7.302a2.125 2.125 0 0 1-2.125 2.125h-9.5a2.125 2.125 0 0 1-2.125-2.125v-9.5c0-1.174.951-2.125 2.125-2.125"})]})},r=(0,n(340498).wt)("markUnread",o)},885247:(e,t,n)=>{n.d(t,{R:()=>l});n(296540);var a=()=>n(56366),o=()=>n(69708),r=()=>n(534177),i=()=>n(212326),s=n(474848);function l(){const e=(0,a().K8)((()=>(0,i().dl)()),[]);switch(e){case"unread_and_read":return(0,s.jsx)(o().sA,{id:"inbox.unreadAndUnreadFilter.title",defaultMessage:"Inbox"});case"unread_only":return(0,s.jsx)(o().sA,{id:"inbox.unreadOnlyFilter.title",defaultMessage:"Unread"});case"archived_only":return(0,s.jsx)(o().sA,{id:"inbox.archivedFilter.title",defaultMessage:"Archived"});case"all_updates":return(0,s.jsx)(o().sA,{id:"inbox.allUpdatesFilter.title",defaultMessage:"All workspace updates"});default:return(0,r().HB)(e)}}},888643:(e,t,n)=>{n.d(t,{k:()=>o});var a=()=>n(402014);function o(e){(0,a().SQ)({event:e,context:a().y$.Click,callback:()=>{}})}},903047:(e,t,n)=>{n.d(t,{E:()=>o});var a=()=>n(401497);function o(e){const{size:t,style:n}=e;return(0,a().IS)((e=>({icon:{width:.6*t,height:.6*t,fill:e.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:e.regularDividerColor,display:"flex",alignItems:"center",justifyContent:"center",...n}})),[t,n])}},920546:(e,t,n)=>{n.d(t,{F:()=>V});var a=n(296540),o=()=>n(484714),r=()=>n(56366),i=()=>n(401497),s=()=>n(170350),l=()=>n(506166),c=()=>n(340498),d=()=>n(69708),u=()=>n(406699),p=()=>n(285790),g=()=>n(859428),m=()=>n(12591),v=()=>n(212326),h=()=>n(900652),f=(n(581454),()=>n(252291)),S=()=>n(934999),b=()=>n(349679),y=()=>n(274570),x=()=>n(829548),w=()=>n(863522),M=()=>n(760217),A=()=>n(404277),k=()=>n(939740),_=()=>n(89924),j=()=>n(125565),C=()=>n(722872),I=()=>n(848259),T=()=>n(424039);var z=n(474848);function B(e){const{closePopup:t}=e,n=(0,o().v3)(),s=(0,o().Y0)(),l=(0,r().K8)((()=>v().dl()),[]),c=(0,a.useCallback)((e=>function(e,t){T().Ay.setState({...T().Ay.state,filter:t}),I().DK(e,{tab:t})}(n,e)),[n]),u=(0,i().IS)((e=>({iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",...s.isMobile&&{height:20}},icon:{...s.isMobile?{height:24,width:24}:{height:20,width:20}}})),[s]),p=(0,m().C)(),g=[{type:"unread_and_read",title:(0,z.jsx)(d().sA,{id:"inboxFilterMenu.readAndUnreadOption.label",defaultMessage:"Unread & read"}),icon:x().y},{type:"unread_only",title:(0,z.jsx)(d().sA,{id:"inboxFilterMenu.unreadOption.label",defaultMessage:"Unread"}),icon:w().C},{type:"archived_only",title:(0,z.jsx)(d().sA,{id:"inboxFilterMenu.archivedOption.label",defaultMessage:"Archived"}),icon:S().B},{type:"all_updates",title:(0,z.jsx)(d().sA,{id:"inboxFilterMenu.allUpdatesOption.label",defaultMessage:"All workspace updates"}),icon:y().clockIcon}];return(0,z.jsx)(A().A,{menuType:C().gu.Popup,height:s.isTablet?"100%":s.isMobile?"50vh":void 0,minWidth:250,maxWidth:s.isMobile?"100vw":void 0,maxHeight:s.isTablet?"100%":void 0,scrollerStyle:p.menuScroller,header:(0,z.jsx)(j().A,{style:p.header,isSmall:!s.isMobile,isSecondaryColor:!s.isMobile,children:(0,z.jsx)(d().sA,{id:"inbox.filterOptionsMenu.headerMobile",defaultMessage:"Filter"})}),children:(0,z.jsx)(k().Ay,{type:k().Oh.Vertical,sections:[{key:"inbox filters",render:e=>(0,z.jsx)(_().A,{...e,topBorder:0!==e.index,style:p.sectionMenuItem}),items:g.map(((e,n)=>{const a=e.type===l,o=n===g.length-1,r=s.isMobile&&o;return{key:e.type,render:t=>(0,z.jsx)(M().A,{...t,style:{...p.buttonMenuItem,...r&&p.transparentButtonMenuItemBorder},pressedStyle:p.buttonMenuItemPressed,title:e.title,titleStyle:p.title,icon:(0,z.jsx)("div",{style:u.iconContainer,children:e.icon(u.icon)}),right:a?(0,z.jsx)(f().I,{icon:b().checkmarkSmallIcon,size:"sm"}):void 0}),action:()=>{t(),c(e.type)}}}))}],initialFocus:void 0,onAccept:()=>t()})})}function V(){const e=(0,o().Y0)(),t=(0,d().tz)(),n=(0,r().K8)((()=>v().dl()),[]),a=(0,h().zg)(),f=(0,i().IS)((t=>({button:e.isMobile?{height:30,width:30}:a.button,icon:{...a.icon,...e.isMobile&&{fill:t.icon.primary,width:c().lD.default,height:c().lD.default},..."unread_and_read"!==n?{fill:t.blue.icon.accentPrimary}:{}}})),[e.isMobile,n,a.button,a.icon]),S=(0,m().C)(),b=t.formatMessage({defaultMessage:"Filter notifications",id:"inbox.filterButton.tooltip"});return(0,z.jsx)(u().A,{style:S.popup,popupType:e.isMobile?u().z.SlideUp:u().z.Popup,renderOrigin:({onClick:t})=>(0,z.jsx)(g().A,{renderTooltip:()=>b,placement:"bottom",alignment:"start",delayThreshold:0,originGap:6,render:n=>(0,z.jsx)(p().A,{ariaLabel:b,icon:e.isMobile?l().E:s().filterIcon,iconStyle:f.icon,onClick:t,style:f.button,...n})}),render:e=>(0,z.jsx)(B,{closePopup:e.close}),alignmentToOrigin:"start",originGap:2})}},934999:(e,t,n)=>{n.d(t,{B:()=>r});n(296540);var a=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.76",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"}),(0,a.jsx)("path",{d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v7.43c0 .898-.727 1.625-1.625 1.625h-8.5a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm11.5 3.195h-9.25v7.305c0 .207.168.375.375.375h8.5a.375.375 0 0 0 .375-.375zm1-1.625V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375"})]})},r=(0,n(340498).wt)("archiveBox",o)},976644:(e,t,n)=>{n.d(t,{o:()=>B});n(581454);var a=n(296540),o=()=>n(484714),r=()=>n(56366),i=()=>n(401497),s=()=>n(729108),l=()=>n(858141),c=()=>n(69708),d=()=>n(496603),u=()=>n(10521),p=()=>n(575143),g=()=>n(187820),m=()=>n(89924),v=()=>n(21140),h=()=>n(625247),f=()=>n(665381),S=(n(898992),n(354520),()=>n(564884)),b=()=>n(482083),y=()=>n(72234),x=()=>n(231297),w=()=>n(755199),M=()=>n(272509),A=()=>n(765957),k=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(803949),()=>n(977863)),_=()=>n(802059);function j(e){const{environment:t,previousOrder:n,currentFilterState:a,currentUserSettingsStore:o}=e,r=function(e){const{environment:t,spaceIds:n,userSettingsStore:a}=e,o=(0,_().B)(),r=n?o.filter((e=>n.includes(e.getSpaceId()))):o,i=new Map;return r.forEach((e=>{const n=e.getSpaceId();(0,k().c)(t,e,a).forEach((e=>{i.set(e.id,n)}))})),i}({environment:t,spaceIds:"all"===a.type?void 0:a.space_pointers,userSettingsStore:o}),i=new Set(r.keys());if(!n||0===n.length)return Array.from(i);const s=n.filter((e=>i.has(e))),l=new Set(s),c=Array.from(i).filter((e=>!l.has(e)));return[...s,...c]}function C(e){const{environment:t,currentState:n}=e,{currentUserSettingsStore:a,sidebarSpaceViewStore:o,sidebarSpaceStore:r}=A().default.state,i=(0,M().I)(r);let s;var l;if(i&&a)s=null===(l=a.getSettings())||void 0===l||null===(l=l.external_pages_settings)||void 0===l?void 0:l.manual_sort_order;else if(o){var c;s=null===(c=o.getSettings())||void 0===c||null===(c=c.external_pages_settings)||void 0===c?void 0:c.manual_sort_order}const d=j({environment:t,previousOrder:s,currentFilterState:n,currentUserSettingsStore:a});x().createAndCommit({userAction:"workspaceFilterActions.handleUpdateWorkspaceFilter",environment:t,canUndo:!0,perform:e=>{const t={external_pages_settings:{last_filter_state:n,last_updated_at:Date.now(),manual_sort_order:d}};var o;i&&a?w().mJ({transaction:e,userSettingsStore:a,data:{external_pages_settings:{...t.external_pages_settings,shared_sidebar_section_menu_config:{...b().t,...(null===(o=a.getSettings())||void 0===o||null===(o=o.external_pages_settings)||void 0===o?void 0:o.shared_sidebar_section_menu_config)??{}}}}}):A().default.state.sidebarSpaceViewStore&&y().AG(A().default.state.sidebarSpaceViewStore,e,t)}}),(0,S().u)({event:{eventName:"cross_workspace_filter_updated",eventProperties:{space_id:null==r?void 0:r.getSpaceId()}},environment:t})}var I=()=>n(172339),T=n(474848);const z=(0,c().YK)({filterWorkspace:{id:"secondarySidebar.workspaceFilterMenu.checkboxLabel",defaultMessage:"Filter workspace"}});function B(){const e=(0,o().v3)(),t=(0,I().g)(),n=(0,r().K8)((()=>!t||"all"===t.type),[t]),s=(0,r().K8)((()=>(0,_().B)()),[]),g=(0,a.useCallback)((()=>{!function(e){const{state:t,environment:n,spaceViewStores:a}=e,o=t?{...t}:void 0,r="all"!==(null==o?void 0:o.type);C({environment:n,currentState:{type:r?"all":"selection",space_pointers:r?a.map((e=>e.getSpaceId())):[]}})}({state:t,environment:e,spaceViewStores:s})}),[e,t,s]),v=(0,a.useCallback)((n=>{!function(e){const{state:t,environment:n,spaceId:a,spaceViewStores:o}=e,r=t?{...t}:void 0,i=r&&"all"!==r.type?r.space_pointers:o.map((e=>e.getSpaceId()));let s=[];s=null!=i&&i.includes(a)?i.filter((e=>e!==a)):[...i??[],a],C({environment:n,currentState:{type:s.length===o.length?"all":"selection",space_pointers:s}})}({state:t,environment:e,spaceId:n,spaceViewStores:s})}),[e,t,s]),S=(0,i().IS)((e=>({gridIcon:{height:20,width:20,color:e.icon.secondary},item:{height:28,marginTop:2,marginBottom:2}})),[]),b=(0,u().Ls)({key:"all-spaces",displayName:void 0,analyticsName:"all-spaces",validators:[],closeParentMenu:!0,action:async()=>{},render:e=>(0,T.jsx)(p().A,{...e,style:S.item,left:(0,T.jsx)(V,{icon:(0,l().squareGrid2X2Icon)(S.gridIcon),spaceName:void 0,spaceIcon:void 0,checked:n,onClick:e=>{e.stopPropagation(),g()}}),title:(0,T.jsx)(c().sA,{id:"secondarySidebar.workspaceFilterMenu.allSpaces",defaultMessage:"All workspaces"}),onClick:e=>{e.stopPropagation(),g()}})}),y=(0,r().K8)((()=>{const a=(null==t?void 0:t.space_pointers)??[];return(0,d().oE)(s.map((t=>{const o=t.getSpaceStore();if(!o)return;const r=o.id,i=(0,f().G)(e,o),s=(0,h().c)(e,o),l=a.includes(r)||n;return(0,u().Ls)({key:r,displayName:void 0,analyticsName:r,validators:[],closeParentMenu:!0,action:async()=>{},render:e=>(0,T.jsx)(p().A,{...e,style:S.item,left:(0,T.jsx)(V,{icon:void 0,spaceName:i,spaceIcon:s,checked:l,onClick:e=>{e.stopPropagation(),v(r)}}),title:i,onClick:e=>{e.stopPropagation(),v(r)}})})})))}),[e,s,v,t,n,S.item]);return[(0,u().gy)({key:"workspaceFilterAll",render:e=>(0,T.jsx)(m().A,{...e}),actions:[b]}),(0,u().gy)({key:"workspaceFilterSpaces",render:e=>(0,T.jsx)(m().A,{...e}),actions:y})]}function V(e){const{icon:t,spaceName:n,spaceIcon:a,checked:o,onClick:r}=e,i=(0,c().tz)();return(0,T.jsxs)(v().Ye,{alignItems:"center",justifyContent:"center",gap:8,children:[(0,T.jsx)(s().S,{checked:o,size:14,onClick:r,"aria-label":i.formatMessage(z.filterWorkspace)}),t||(0,T.jsx)(g().B6,{icon:a,isEmptyPage:!1,title:n,size:22,disabled:!0})]})}},977870:(e,t,n)=>{n.d(t,{c:()=>o});class a extends(()=>n(757695))().Store{getInitialState(){return{wasGetVisibleUsersCalled:!1}}}const o=new a;n(852832).exposeDebugValue("GetVisibleUsersStore",o)},978510:(e,t,n)=>{n.d(t,{R:()=>d});var a=()=>n(484714),o=()=>n(56366),r=()=>n(187174),i=()=>n(588703),s=()=>n(765957),l=()=>n(417123),c=()=>n(266615);function d(){const e=(0,o().O$)(s().AppStoreSidebarSpaceStore),t=(0,a().v3)(),n=(0,o().K8)((()=>(0,c().J)({environment:t})),[t]),[{value:d,status:u}]=(0,r().Yb)((async()=>await(0,l().z)({userId:t.currentUser.id,spaceStore:e,environment:t})),[e,t]),p=(0,o().K8)((()=>!(!s().default.state.mainEditorCurrentBlockStore||!n)&&(0,i().r)({environment:t,store:s().default.state.mainEditorCurrentBlockStore})),[t,n]);return"pending"===u?{showNoWorkspaceExperience:n,userType:void 0}:{showNoWorkspaceExperience:n,userType:d,isOnGettingStartedPage:p&&n}}},981305:(e,t,n)=>{n.d(t,{B:()=>r});n(16280);var a=n(296540),o=()=>n(472090);function r(e,t,n=0){(0,a.useEffect)((()=>{const a=new(o().E)({throttleMs:n});if(!e.current)throw new Error("ref.current is null");return a.observe(e.current),a.rect.addListener(t),()=>{a.destroy()}}),[t])}}}]);