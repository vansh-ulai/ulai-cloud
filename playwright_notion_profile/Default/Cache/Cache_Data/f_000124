"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[84166],{102777:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("sendArrow",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M9.79883 18.5894C14.6216 18.5894 18.5894 14.6216 18.5894 9.79883C18.5894 4.96777 14.6216 1 9.79053 1C4.95947 1 1 4.96777 1 9.79883C1 14.6216 4.96777 18.5894 9.79883 18.5894ZM9.79883 14.3062C9.20947 14.3062 8.76953 13.9077 8.76953 13.3433V9.69922L8.86914 8.00586L8.25488 8.84424L7.3916 9.81543C7.23389 10.0063 6.98486 10.1143 6.72754 10.1143C6.21289 10.1143 5.84766 9.75732 5.84766 9.25928C5.84766 8.99365 5.92236 8.79443 6.12158 8.58691L8.96045 5.61523C9.19287 5.35791 9.4585 5.2417 9.79883 5.2417C10.1309 5.2417 10.4048 5.36621 10.6372 5.61523L13.4761 8.58691C13.667 8.79443 13.75 8.99365 13.75 9.25928C13.75 9.75732 13.3848 10.1143 12.8618 10.1143C12.6128 10.1143 12.3638 10.0063 12.2061 9.81543L11.3428 8.86914L10.7202 7.99756L10.8281 9.69922V13.3433C10.8281 13.9077 10.3799 14.3062 9.79883 14.3062Z"})})},103975:(e,t,n)=>{n.d(t,{M:()=>u});n(296540);var o=()=>n(484714),i=()=>n(56366),r=()=>n(430483),s=()=>n(783793),a=()=>n(645873);const l=new(a().O2)("assistantAnimatedFace",(()=>Promise.all([n.e(32257),n.e(15961)]).then(n.bind(n,995062))));var c=n(474848);function d(e){const{sizeVariant:t,highLevelState:n,includeBoxShadow:o,onMouseEnter:i}=e,{value:r}=(0,a().fJ)(l);if(!r)return(0,c.jsx)(s().o1,{variant:t});const d=r.AssistantAnimatedFace,u=r.AssistantAnimatedFaceInner;return n?(0,c.jsx)(u,{sizeVariant:t,highLevelState:n,includeBoxShadow:o??!1,onMouseEnter:i}):(0,c.jsx)(d,{sizeVariant:t,includeBoxShadow:o??!1,onMouseEnter:i})}function u(e){const{variant:t,highLevelState:n,includeBoxShadow:a}=e,l=(0,o().Y0)(),u=(0,i().K8)((()=>r().zD.shouldShowAnimatedAssistantFace(l)),[l]);return n||u?(0,c.jsx)(d,{sizeVariant:t,highLevelState:n,includeBoxShadow:a}):(0,c.jsx)(s().x_,{variant:t})}},108184:(e,t,n)=>{n.r(t),n.d(t,{COMPLETION_THROTTLE:()=>y,PREVIEW_STEP_DELAY:()=>x,maybeUpdateAiEligibility:()=>C,postProcessAICreatedStores:()=>_,showCompletionErrorWithCode:()=>b,wrapTemporaryBlocksInList:()=>S});n(18107),n(967357);var o=()=>n(386164),i=()=>n(179034),r=()=>n(720665),s=()=>n(559506),a=()=>n(722101),l=()=>n(384944),c=()=>n(471995),d=()=>n(324089),u=()=>n(412669),p=()=>n(556122),g=()=>n(594794),m=()=>n(972435),f=()=>n(878710),h=()=>n(668721),v=()=>n(661077);const y=300,x=250;function b(e){const t=m().A.getIntl();return 451===e?c().D6({label:t.formatMessage({id:"completionActions.moderationError",defaultMessage:"AI does not allow content that is harmful or illegal. Please revise your input and try again. (451)"})}):413===e?c().D6({label:t.formatMessage({id:"completionActions.promptOrAttachmentTooLarge",defaultMessage:"Query or attachment is too large. Please revise your input and try again. (413)"})}):502===e||503===e||504===e?c().D6({label:t.formatMessage({id:"completionActions.providerError",defaultMessage:"We’re experiencing issues with our AI provider. Try again in a few minutes. ({errorCode})"},{errorCode:e})}):void c().D6({label:t.formatMessage({id:"completionActions.genericError",defaultMessage:"AI is temporarily unavailable. Try again in a few minutes. ({errorCode})"},{errorCode:e})})}function _(e,t){for(const n of t)d().In({environment:e,blockStore:n})}async function C(e,t,n){let i;const a=p().TI();if(a.debug)i=402!==a.showErrorCode;else{if(h().A.state&&h().A.state.isEligible&&"unlimited"===h().A.state.type&&!n){const e=h().A.state.lastUpdatedAt;if(Date.now()-e<10*r().Xb)return!0}const a=await s().callApi({eventName:"getAIUsageEligibility",environment:e,data:{spaceId:t},headers:(0,o().WS)({cellId:void 0,spaceId:t})});if("success"===a.type){var l,c;i=a.data.isEligible,i&&u().K.state&&u().K.setState(!1);const e=!1===(null===(l=h().A.state)||void 0===l?void 0:l.isEligible)&&(null===(c=h().A.state)||void 0===c?void 0:c.requestedAccess),t=a.data.researchModeUsage??0;h().A.setState({...a.data,lastUpdatedAt:Date.now(),researchModeUsage:t,...!1===a.data.isEligible&&{requestedAccess:e}})}}return void 0!==i&&v().P.setState(i),i}function S(e){var t;const{environment:n,stores:o,listId:r,inMemoryRecordCache:s,transaction:c}=e,d=(null===(t=o.at(0))||void 0===t?void 0:t.getSpaceId())??c.spaceId,u=new(f().pm)({environment:n,pointer:{table:i().ev,id:r||(0,g().Z1)({environment:n,table:i().ev,spaceId:d}),spaceId:d},recordStoreOptions:{inMemoryRecordCache:s,userId:n.currentUser.id},path:["content"]});for(const i of o)a().BC({parentStore:u,appendStore:i,transaction:c}),l().zv({store:i,data:{parent_id:u.id,parent_table:u.table,alive:!0},transaction:c});return u}},201145:(e,t,n)=>{n.d(t,{y:()=>c});var o=()=>n(726637),i=()=>n(56366),r=()=>n(762433),s=()=>n(979340),a=()=>n(369955),l=()=>n(646736);function c(e){const t=(0,l().I_)(),n=(0,i().K8)((()=>Boolean((null==t?void 0:t.isMember())&&!(null!=t&&t.isWorkspaceOwner()))),[t]),c=(0,a().L)(),d=(0,i().K8)((()=>null==c?void 0:c.getDisableMemberUpgradeRequests()),[c]);return!o().A.isMobile&&(!d&&(!!(0,s().jR)((0,r().AI)(e))&&(!(0,r().et)(e)&&n)))}},248730:(e,t,n)=>{n.d(t,{j:()=>o});n(898992),n(672577);function o(e,t,n){var o;if(!t||!n)return"unrequested";const i=null===(o=t[e])||void 0===o?void 0:o.find((e=>e.created_by_id===n));return i&&i.request_status||"unrequested"}},270812:(e,t,n)=>{n.d(t,{E:()=>v});var o=n(296540),i=()=>n(564884),r=()=>n(484714),s=()=>n(232802),a=()=>n(762433),l=()=>n(985529),c=()=>n(496603),d=()=>n(249847),u=()=>n(369955),p=()=>n(324561),g=()=>n(568688),m=()=>n(201145),f=()=>n(398304),h=()=>n(516116);function v(e){const{type:t,analyticsEntrypoint:n,entrypoint:v,isOptimisticUpsell:y}=e,x=(0,r().v3)(),b=(0,u().L)(),_=null==b?void 0:b.id,C=(0,d().T)(),S=(0,p().lh)({spaceId:_}),I=(0,m().y)(S);let M,w;if("product"!==t||(0,a().eh)(S,e.product)){if("feature"===t&&(y||!(0,l().e2)(e.featureAvailability))){var k;const t=null===(k=e.featureAvailability)||void 0===k?void 0:k.upsell;"product"===(null==t?void 0:t.type)&&(M=t.product)}}else M=e.product;M&&(0,s().rU)(M)&&(w=M);const{requests:j}=(0,g().I)({spaceId:_}),[A,B]=(0,h().k)({feature:w,requests:j,userId:C}),R=I&&"unrequested"===A,D=(0,o.useCallback)((()=>{if(!w||!R)return c().lQ;(0,i().u)({environment:x,event:{eventName:"upgrade_request_button_clicked",eventProperties:{feature:w,entrypoint:n}}}),f().Q.update((e=>({open:!0,feature:w,userId:C,setRequestState:B,entrypoint:v})))}),[R,x,w,n,C,B,v]);return w?{openModal:D,requestState:A,canUserRequestUpgrade:R,isUserEligibleToRequestUpgrade:I,userHasPendingRequest:"pending"===A}:{openModal:D,requestState:"unrequested",canUserRequestUpgrade:!1,isUserEligibleToRequestUpgrade:!1,userHasPendingRequest:!1}}},274894:(e,t,n)=>{n.d(t,{f:()=>r});n(296540);var o=()=>n(401497),i=n(474848);function r(e){const t=(0,o().IS)((e=>({assistantBlueLink:{color:e.blue.text.accentPrimary,cursor:"pointer",fontWeight:600}})),[]);return(0,i.jsx)("span",{style:t.assistantBlueLink,onClick:e.onClick,children:e.children})}},322972:(e,t,n)=>{n.d(t,{P:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.18 1.3 11.63 11.45",svg:(0,n(474848).jsx)("path",{d:"M8.45 12.75a3.66 3.66 0 0 1-1.643-.387v-.008l-1.132-.387h-.097v-6.15l1.399-1.492c.233-.298.458-.745.672-1.172.143-.283.28-.557.413-.773l.287-.589a1.024 1.024 0 0 1 1.232-.418c.496.193.76.728.612 1.24l-.403 1.41c-.079.272-.192.5-.305.73-.11.22-.22.441-.3.704a.32.32 0 0 0 .31.41h3.256a.97.97 0 0 1 .969.97c0 .333-.179.62-.442.79a.94.94 0 0 1 .534.852.955.955 0 0 1-.65.907.96.96 0 0 1 .364.744.96.96 0 0 1-.961.969.97.97 0 0 1-.69 1.65zM4.61 6.334H2.913a.727.727 0 0 0-.727.726v4.181c0 .402.326.727.727.727H4.61z"})},i=(0,n(340498).wt)("handThumbsUpFillSmall",o)},362976:(e,t,n)=>{function o(e){const t=e.getSchema();if(t)for(const[o,i]of Object.entries(t)){var n;if(i&&"text"===i.type&&"summarize"===(null===(n=i.ai_inference)||void 0===n?void 0:n.type)){const t=e.getPropertyValue(o);if(t)return t}}}n.d(t,{E:()=>o})},398304:(e,t,n)=>{n.d(t,{Q:()=>o});const o=n(757695).Store.createValue({open:!1},{name:"UpgradeRequestFormModalStore"})},412669:(e,t,n)=>{n.d(t,{K:()=>o});const o=n(757695).Store.createValue(!1)},450859:(e,t,n)=>{n.d(t,{mA:()=>S});n(16280),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520);var o=()=>n(242422),i=()=>n(329199),r=()=>n(416504),s=()=>n(696706),a=()=>n(179034),l=()=>n(973647),c=()=>n(534177),d=()=>n(193994),u=()=>n(862292),p=()=>n(180252),g=()=>n(909470),m=()=>n(972435),f=()=>n(148832),h=()=>n(543665),v=()=>n(559506);const y=1e3;class x extends Error{constructor(e,t){super(t),this.type=e}}class b extends x{constructor(){super("query_collection_limit_outside_range",`Query collection limit must be between 0 and ${y}`)}}class _ extends x{constructor(e){super("query_collection_failed",`Query collection failed: ${e.reason}`),this.data=e}}class C extends x{constructor(){super("query_collection_too_many_items","Query collection updating too many items")}}async function S(e,t){const{source:n,parentRecordStore:x,collectionPointer:S,filter:I,sort:M,limit:w}=t,k=w??y;if(k<0||k>y)return{error:new b};const j=h().m.createChildStore(x,S);await j.load();const A=j.getModel();if(!A)return{error:new _({reason:"no collection value"})};const B=j.getParentBlockStore();if(!B)return{error:new _({reason:"no collection parent"})};await B.load();const R=B.getCollectionViewStores()[0],D=R.getSpaceId();if(!R||!D)return{error:new _({reason:"no first collection view"})};const E="results",q={[E]:{type:"results",limit:k}},z=Object.keys(t.aggregations??{});for(const o of z){var P;if(o===E)return{error:new _({reason:`${E} is a reserved reducer keyword.`})};const e=null===(P=t.aggregations)||void 0===P?void 0:P[o];if(!e)return{error:new _({reason:`no aggregation provided for ${o}.`})};e&&(q[o]={type:"aggregation",aggregation:e})}const L=j.getSchema(),T={filter:I&&i().SK(I,L),sort:M&&i().g4(M,L),userId:e.currentUser.id,userTimeZone:(0,r().P)(),searchQuery:void 0,reducers:q},F=await v().callApi({eventName:"queryCollection",environment:e,data:{source:{type:"collection",id:S.id,spaceId:S.spaceId},collectionView:{id:R.id,spaceId:D},loader:T},tracking:{src:n}});if("failed"===F.type)return{error:new _({reason:"server query failed",cause:F.error})};const U=F.data.result.reducerResults[E];if(!U||"results"!==U.type)return{error:new _({reason:"unexpected server result"})};if(U.blockIds.length===y&&U.hasMore)return{error:new C};const{groupsReducerIds:V,reducerIdsWithNoGroupDependencies:W}=i().M(T.reducers,T.reducerDependencies),H=o().default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs"),K=Date.now(),O=await u().T.formulas.load(),Y=e.idCreator.getSpaceIdCreatorSync(S.spaceId),G={pageSort:[],schema:L,loader:T,userId:e.currentUser.id,userStartOfWeek:p().XX.state,currentTime:K,getRecordModel:x.getRecordModel,getRecordRole:x.getRecordRole,intl:m().A.getIntl(),isSorted:!1,visibleProperties:void 0,relativeVariableResult:null==F?void 0:F.data.relativeVariableResult,currentPageInRelatedCollection:void 0,isSprintPlanningView:!1,source:{type:"collection",id:S.id,spaceId:S.spaceId},groupsReducerIds:V,reducerIdsWithNoGroupDependencies:W,formulaTimeoutMs:H,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:o().default,collectionFeatureGates:(0,g().i)(),formulasModule:O,spaceIdCreator:Y},Q=i().zl(G);for(const o of U.blockIds){var $;const e=f().B.createChildStore(x,{table:a().ev,id:o}),t=null===($=e.getAssociatedCollectionStore())||void 0===$?void 0:$.pointer;if(!(t&&s().L3.isEqualIdTable(t,j.pointer)))continue;const n=x.getRecordModel(e);n&&i().UC(n,A,G,Q,void 0)}const N=d().A.getEditedBlocksForCollection(A.id),X=new Set(U.blockIds);for(const o of N){if(X.has(o))continue;const e=x.getRecordModel({table:a().ev,id:o});e&&i().UC(e,A,G,Q,void 0)}const{result:Z}=i().Mo(G,Q),J=i().uX({result:Z}),ee={};for(const o of z){var te;const e=i().VI({expectedAggregator:null===(te=t.aggregations)||void 0===te||null===(te=te[o])||void 0===te?void 0:te.aggregator,aggregationReducerResult:F.data.result.reducerResults[o]});if(l().Q.isFail(e)){const t="no aggregation provided"===e.error?`no aggregation provided for ${o}`:"unexpected response returned for aggregation"===e.error?`unexpected response returned for aggregation ${o}`:(0,c().HB)(e.error);return{error:new _({reason:t})}}ee[o]=e.value}return{value:{blockIds:J,...ee}}}},490242:(e,t,n)=>{n.d(t,{f:()=>h});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(206267),a=()=>n(201980),l=()=>n(567141),c=()=>n(837622),d=()=>n(358006),u=()=>n(362976),p=()=>n(990261),g=()=>n(871830),m=n(474848);const f=20;function h(e){const t=(0,i().v3)(),{store:n,startBlockId:h,size:v,isDiscussion:y}=e,x=(0,g().O)(),b=(0,r().K8)((()=>u().E(n)),[n]),_=b&&a().FAw(b)>=f,C=(0,o.useMemo)((()=>s().JW()),[]),S=(0,r().K8)((()=>{var e;if("tall"===v)return 200;const t=n.getModel();return!t||!t.isCollectionView()||t.hasWikiBlockUri()||null!==(e=n.getAssociatedCollectionStore())&&void 0!==e&&e.isPageTreeCollection()?84:125}),[v,n]);return(0,o.useEffect)((()=>{const e=p().uk.getCurrentPageVisitId();return l().Z3(t,{hover_session_id:C,mentioned_page_id:n.pointer.id,hover_content_type:_?"ai_summary":"content_preview",page_visit_id:e}),()=>{l().Q_(t,{hover_session_id:C,hover_content_type:_?"ai_summary":"content_preview",mentioned_page_id:n.pointer.id,page_visit_id:e})}}),[t,C,_,n.pointer.id]),h||!_?(0,m.jsx)(d().z,{variant:"default",store:n,coverFormat:{type:"page_content"},coverContentFadedOverlay:!0,coverContentFadedOverlayStyle:x.contentCoverFade,coverHeight:S,startBlockId:h,contentWrapStyle:x.contentCover,imageCoverWrapStyle:x.imageCoverWrap,emptyGalleryCoverStyle:x.contentCoverEmpty,loadingShimmerStyle:x.loadingShimmer,showLoadingShimmer:!0,showEmptyGalleryCover:!0,onLoadProxiedImage:()=>{},rendererBlockStyle:x.rendererBlockStyle,renderAdditionalBlocks:!0,exactBlockOnlyNoContentCover:y}):(0,m.jsx)("div",{children:(0,m.jsx)("div",{style:x.summary,children:(0,m.jsx)(c().A,{textValue:b,parentStore:n})})})}},516116:(e,t,n)=>{n.d(t,{k:()=>r});var o=n(296540),i=()=>n(248730);function r({requests:e,feature:t,userId:n}){const[r,s]=(0,o.useState)("loading");return(0,o.useEffect)((()=>{if(!t)return;const o=(0,i().j)(t,e,n);s(o)}),[e,t,n]),[r,s]}},532945:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{}}}const i=new o},556122:(e,t,n)=>{n.d(t,{QJ:()=>g,TI:()=>c});n(944114),n(581454);var o=()=>n(726637),i=()=>n(763824);let r=0;const s="clipboard",a={debug:Boolean(o().A.isDevelopingInAirplaneMode),responseText:s,showErrorCode:!1,delayBetweenChunks:20,chunkSize:5,numLoremIpsums:3},l="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec porta auctor sem vel efficitur. Vivamus efficitur eros sed erat efficitur efficitur. Vivamus et augue vel est efficitur efficitur.";function c(){return a}function d(e){return{async*[Symbol.asyncIterator](){for(const t of e)await(0,i().wR)(a.delayBetweenChunks),yield t}}}function u(e,t){const n=Math.ceil(e.length/t),o=new Array(n);for(let i=0,r=0;i<n;++i,r+=t)o[i]=e.substr(r,t);return o}function p(e){return e.map((e=>({type:"success",p:"padding",completion:e,inferenceId:"mock"})))}async function g({environment:e,data:t}){console.log("Retrieving fake completion for data",t);const{context:n}=t,i=n.selectedText,c=[];let{responseText:g}=a;if(g===s&&(g=await async function(){try{return await navigator.clipboard.readText()}catch(e){return}}()??"Unable to retrieve clipboard text."),void 0===g&&(c.push({type:"success",p:"padding",completion:"\n",inferenceId:"mock"},{type:"success",p:"padding",completion:"this is ",inferenceId:"mock"},{type:"success",p:"padding",completion:"fake ",inferenceId:"mock"},{type:"success",p:"padding",completion:`streaming response ${r++}.`,inferenceId:"mock"}),o().A.isDevelopingInAirplaneMode&&c.push({type:"success",p:"padding",completion:"\n\nTo see a real AI response, run the server with `--airplaneMode=false`.",inferenceId:"mock"}),"string"==typeof i)){c.push({type:"success",p:"padding",completion:"\n\nHere is the text you selected:\n\n",inferenceId:"mock"});for(const e of u(i,a.chunkSize))c.push({type:"success",completion:e,p:"padding",inferenceId:"mock"})}if(a.showErrorCode)c.push({type:"error",message:"alas",errorCode:a.showErrorCode});else if(void 0===g)for(let o=0;o<a.numLoremIpsums;o++)c.push(...p([`\n\n${o+1}. `,...u(l,0===a.delayBetweenChunks?l.length:a.chunkSize)]));else if(g.length>0){const e=u(g,a.chunkSize);c.push(...p(e))}return Promise.resolve({type:"success",data:d(c),status:200,headers:{}})}(0,n(852832).exposeDebugValue)("completionDebugSettings",a)},557943:(e,t,n)=>{n.d(t,{s:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.56 0.68 12.88 12.7",svg:(0,n(474848).jsx)("path",{d:"M9.8.788a1.65 1.65 0 0 0-2.013.73l-.274.563c-.143.237-.29.53-.427.802v.002l-.103.203c-.178.35-.336.639-.483.833L4.823 5.709H2.914c-.746 0-1.352.605-1.352 1.351v4.181c0 .747.606 1.352 1.352 1.352h2.657l.945.324.01.005h.001c.598.3 1.252.454 1.923.454h3.425a1.594 1.594 0 0 0 1.562-1.912c.432-.286.714-.779.714-1.333 0-.213-.044-.413-.119-.593.251-.278.406-.645.406-1.058a1.56 1.56 0 0 0-.284-.901c.12-.218.19-.47.19-.742 0-.88-.713-1.593-1.593-1.593H9.94q.05-.106.11-.225l.002-.004c.11-.222.243-.491.338-.817v-.002l.403-1.41A1.65 1.65 0 0 0 9.808.791zM8.623 2.655l.27-.556a.4.4 0 0 1 .464-.141.4.4 0 0 1 .235.483L9.19 3.85a3.5 3.5 0 0 1-.26.612l-.011.025c-.106.214-.236.475-.33.787a.946.946 0 0 0 .907 1.219h3.255c.19 0 .344.154.344.343 0 .1-.052.198-.157.266a.625.625 0 0 0 .066 1.087.32.32 0 0 1 .184.29.33.33 0 0 1-.231.317.625.625 0 0 0-.192 1.073.34.34 0 0 1 .136.261.34.34 0 0 1-.336.344.625.625 0 0 0-.452 1.057.344.344 0 0 1-.238.594H8.45c-.45 0-.886-.097-1.29-.286a.6.6 0 0 0-.151-.076l-1.131-.387a.6.6 0 0 0-.203-.034h-.006V6.634l1.764-1.88.037-.043c.236-.302.449-.705.627-1.057l.117-.232a10 10 0 0 1 .41-.767M2.812 7.06c0-.056.046-.101.102-.101H4.52v4.384H2.914a.1.1 0 0 1-.102-.102z"})},i=(0,n(340498).wt)("handThumbsUpSmall",o)},568688:(e,t,n)=>{n.d(t,{I:()=>s});var o=()=>n(484714),i=()=>n(56366),r=()=>n(920370);function s({spaceId:e}){const t=(0,o().v3)(),n=(0,i().K8)((()=>e?r().L.getData(t,{spaceId:e}):"no_space_id"),[t,e]);return"no_space_id"===n?{isLoading:!1,requests:{}}:{isLoading:void 0===n,requests:n??{}}}},661077:(e,t,n)=>{n.d(t,{P:()=>o});const o=n(757695).Store.createValue(!0,{name:"IsAiEligibleStore"})},661764:(e,t,n)=>{n.d(t,{f:()=>b,l:()=>w});n(581454),n(296540);var o=()=>n(726637),i=()=>n(401497),r=()=>n(699143),s=()=>n(406094),a=()=>n(493552),l=()=>n(846523),c=()=>n(995847),d=()=>n(340498),u=()=>n(69708),p=()=>n(285790),g=()=>n(859428),m=()=>n(460292),f=n(474848);const h=(0,u().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"},dismiss:{id:"banner.dismiss",defaultMessage:"Dismiss"}});function v(e,t){return(0,i().IS)((n=>({container:{backgroundColor:n[e].background.secondary,padding:"8px 12px"},icon:{width:o().A.isMobile?d().Ev.default:d().Ev.sm,height:o().A.isMobile?d().Ev.default:d().Ev.sm,fill:t?n[t].icon.accentPrimary:n[e].icon.secondary},content:{color:n[e].text.secondary},learnMoreIcon:{fill:n[e].icon.secondary},titleIcon:{marginInlineEnd:8}})),[e,t])}function y(e){const{onDismiss:t}=e,n=(0,u().tz)();return t?(0,f.jsx)(p().A,{size:"xs",onClick:t,icon:c().xMarkSmallIcon,colorVariant:"primary",ariaLabel:n.formatMessage(h.dismiss)}):(0,f.jsx)("div",{})}function x(e){const{tint:t,iconGroup:n,style:o}=e;return n?(0,f.jsx)(m().Q,{iconGroup:n,variantName:"small",colorPalette:t,colorVariant:"secondary",style:o}):null}function b(e){const{tint:t,action:n}=e,{label:o,onClick:r,icon:l}=n,c=(0,i().IS)((e=>({button:{color:"gray"===t?e.text.primary:e[t].text.secondary,borderWidth:1,borderStyle:"solid",borderColor:e[t].border.strong,padding:l?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:l&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"},buttonHovered:{backgroundColor:e[t].background.secondaryTranslucent},buttonPressed:{backgroundColor:e[t].background.tertiaryTranslucent}})),[t,l]);return(0,f.jsx)(s().A,{size:"lg",iconLeading:l?{icon:l,size:"sm",colorPalette:t,colorVariant:"secondary"}:void 0,onClick:r,style:c.button,hoveredStyle:c.buttonHovered,pressedStyle:c.buttonPressed,children:(0,f.jsx)(a().D,{styleKey:"Body/Medium",style:c.buttonContent,children:o})})}function _(e){const{label:t,iconGroup:n,tint:o,onDismiss:i,actions:s,onLearnMoreClick:c}=e,d=v(o),g=(0,u().tz)();return(0,f.jsxs)(r().Y1,{style:d.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,f.jsxs)(r().Y1,{style:d.content,direction:"horizontal",align:"center",width:"hug",children:[(0,f.jsx)(x,{tint:o,iconGroup:n,style:d.titleIcon}),(0,f.jsx)(a().D,{styleKey:"Body/Medium",children:t}),c?(0,f.jsx)(p().A,{onClick:c,icon:()=>(0,f.jsx)(m().Q,{iconGroup:l().u,variantName:"default",colorPalette:o,colorVariant:"secondary"}),ariaLabel:g.formatMessage(h.learnMore)}):void 0]}),(0,f.jsxs)(r().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,f.jsx)(r().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==s?void 0:s.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(b,{tint:o,action:e},t)))}),(0,f.jsx)(y,{onDismiss:i})]})]})}function C(e){const{label:t,iconGroup:n,staticIcon:o,iconColor:i,tint:s,onDismiss:c,actions:d,onLearnMoreClick:_}=e,C=v(s,i),S=(0,u().tz)(),I=n?(0,f.jsx)(x,{tint:s,iconGroup:n,style:C.titleIcon}):o?o({...C.icon,...C.titleIcon}):null;return(0,f.jsxs)(r().Y1,{style:C.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,f.jsx)("div",{}),(0,f.jsxs)(r().Y1,{style:C.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,f.jsxs)(r().Y1,{direction:"horizontal",align:"center",width:"hug",children:[I,(0,f.jsx)(a().D,{styleKey:"Body/Medium",children:t}),_?(0,f.jsx)(g().A,{renderTooltip:()=>S.formatMessage(h.learnMore),render:e=>(0,f.jsx)(p().A,{onClick:_,icon:()=>(0,f.jsx)(m().Q,{iconGroup:l().u,variantName:"default",colorPalette:s,colorVariant:"secondary"}),ariaLabel:S.formatMessage(h.learnMore),...e})}):void 0]}),d?(0,f.jsx)(r().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==d?void 0:d.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(b,{tint:s,action:e},t)))}):null]}),(0,f.jsx)(y,{onDismiss:c})]})}function S(e){const{label:t,description:n,iconGroup:o,staticIcon:s,iconColor:l,tint:c,onDismiss:d,actions:u,noRoundedCorners:p}=e,g=v(c,l),m=(0,i().IS)((e=>({container:{backgroundColor:e[c].background.secondary,padding:16,borderRadius:p?0:8},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[c,p]),h=o?(0,f.jsx)(x,{tint:c,iconGroup:o}):s?s(g.icon):null;return(0,f.jsxs)(r().Y1,{style:m.container,gap:8,direction:"horizontal",children:[h?(0,f.jsx)("div",{style:m.iconContainer,children:h}):null,(0,f.jsxs)(r().Y1,{style:g.content,gap:8,children:[(0,f.jsxs)(r().Y1,{gap:4,children:[(0,f.jsx)(a().D,{styleKey:"Body/Medium",colorVariant:"gray"===c?"primary":void 0,children:t}),n?(0,f.jsx)(a().D,{styleKey:"Body/Regular",children:n}):null]}),u?(0,f.jsx)(r().Y1,{direction:"horizontal",gap:8,children:null==u?void 0:u.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(b,{tint:c,action:e},t)))}):null]}),(0,f.jsx)(y,{onDismiss:d})]})}function I(e){const{label:t,staticIcon:n,tint:o,iconColor:s,onDismiss:l,actions:c}=e,d=v(o,s),u=(0,i().IS)((e=>({container:{backgroundColor:e[o].background.secondary,paddingTop:8,paddingInlineEnd:8,paddingBottom:8,paddingInlineStart:12,borderRadius:8},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[o]);return(0,f.jsxs)(r().Y1,{style:u.container,gap:8,direction:"horizontal",align:c?"center":void 0,children:[n?(0,f.jsx)("div",{style:u.iconContainer,children:n(d.icon)}):null,(0,f.jsxs)(r().Y1,{style:d.content,gap:"auto",direction:"horizontal",align:"center",children:[(0,f.jsx)(r().Y1,{gap:4,children:(0,f.jsx)(a().D,{styleKey:"Body/Regular",children:t})}),c?(0,f.jsx)(r().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==c?void 0:c.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(b,{tint:o,action:e},t)))}):null]}),(0,f.jsx)(y,{onDismiss:l})]})}function M(e){const{tint:t,onDismiss:n,content:o}=e,i=v(t);return(0,f.jsxs)(r().Y1,{style:i.container,align:"center",gap:8,direction:"horizontal",children:[(0,f.jsx)("div",{style:{flex:1,...i.content},children:o}),(0,f.jsx)(y,{onDismiss:n})]})}function w(e){const{display:t}=e;switch(t){case"inline":return(0,f.jsx)(S,{...e});case"full-width":return o().A.isMobile?(0,f.jsx)(_,{...e}):(0,f.jsx)(C,{...e});case"full-width-no-content":return(0,f.jsx)(M,{...e});case"inline-compact":return(0,f.jsx)(I,{...e})}return(0,f.jsx)(f.Fragment,{})}},676370:(e,t,n)=>{n.d(t,{CT:()=>r,uv:()=>i,zL:()=>s,zj:()=>o});const o=["ai_unified_find_search_modal","ai_unified_find_chat","ai_chat_with_model","ai_assistant_limit_in_app","ai_autofill_fill_all_pages","ai_autofill_bulk_fill","ai_autofill_on_page_edit","ai_autofill_try_on_view","ai_limit_in_app","ai_limit_property_autofill","ai_limit_sidebar","ai_limit_settings","ai_limited_qna_no_results","ai_limited_qna_upsell_action_button","ai_qna_waitlist","ai_qna_limit_in_app","ai_upsell_notice","ai_upsell_settings","ai_page_translation","ai_plans_page","ai_formulas"],i=["ai_research_mode"],r=["ai_meeting_notes","ai_meeting_notes_custom_transcript_retention"],s=["ai_agent"]},768631:(e,t,n)=>{n.d(t,{k:()=>o,w:()=>i});const o=260,i=24},811979:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(205262),r=()=>n(56366),s=n(474848);function a(e,t){const{onClose:a,persistOnClose:l,render:u,stopClickPropagation:p,onClick:g,disablePopup:m,disabled:f,forceInitialInbound:h,renderOrigin:v,originGap:y,borderRadius:x,popupWrapStyle:b}=e,_=(0,r().uB)(e.buttonPopupStore,n(463830).A);(0,o.useEffect)((()=>()=>{_.setState({open:!1})}),[_]);const C=(0,o.useCallback)((()=>c(a,l,_)),[a,l,_]),S=(0,o.useCallback)((()=>(0,s.jsx)(d,{onClose:a,persistOnClose:l,render:u,buttonPopupStore:_})),[a,l,u,_]),I=(0,o.useCallback)((e=>function(e,t,n,o,r){t&&(null==e||e.stopPropagation());if(e&&(0,i().V)(e))return;n&&n(e);o||r.setState({...r.state,open:!0})}(e,p,g,m,_)),[p,g,m,_]),M=(0,r().K8)((()=>v({...e,onClick:f?n(496603).D_:I})),[f,I,e,v]),w=(0,r().K8)((()=>_.state.open),[_]);return(0,s.jsx)(n(417392).Ay,{ref:t,...e,forceInitialInbound:Boolean(h),render:S,open:w,onDismiss:C,origin:M,originGap:y,borderRadius:x,popupWrapStyle:b,trapFocus:!0})}const l=o.forwardRef(a);function c(e,t,n){e&&e(),t||n.reset()}function d({onClose:e,persistOnClose:t,render:n,buttonPopupStore:i}){const a=(0,o.useCallback)((()=>c(e,t,i)),[e,t,i]),l=(0,r().K8)((()=>n({close:a})),[n,a]);return(0,s.jsx)(s.Fragment,{children:l})}},846523:(e,t,n)=>{n.d(t,{u:()=>o});const o=(0,n(340498).xh)("questionMarkCircle",{default:{loader:()=>n.e(82106).then(n.bind(n,406533))},small:{loader:()=>n.e(82106).then(n.bind(n,721479))},fill:{loader:()=>n.e(82106).then(n.bind(n,299733))},fillSmall:{loader:()=>n.e(82106).then(n.bind(n,182060))}},["question","query","inquiry","uncertain","unknown","help","circle"])},871830:(e,t,n)=>{n.d(t,{O:()=>l,d:()=>a});var o=()=>n(401497),i=()=>n(284371),r=()=>n(115512),s=()=>n(768631);function a(){return(0,o().IS)((e=>({wrapper:{width:s().k},coverContainer:{height:36,zIndex:1},content:{padding:"0 16px"},breadcrumb:{color:e.text.tertiary,fontSize:11,marginBottom:-2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},pageTitle:{display:"inline",fontWeight:i().Wy.semibold,color:e.text.primary,fontSize:13,lineHeight:1.15},pageTitleIcon:{zIndex:2,position:"relative",marginInlineStart:16,marginTop:-15,marginBottom:8},pageTitleContainer:{...(0,r().pA)(2),verticalAlign:"top",lineHeight:1.15},empty:{height:16},highlightedBlockWrapper:{display:"flex",marginBottom:8}})),[])}function l(){return(0,o().IS)((e=>({icon:{height:16,width:16,fill:e.purple.icon.accentPrimary,marginInlineEnd:2},title:{fontSize:12,color:e.purple.icon.accentPrimary},summary:{...(0,r().pA)(4),fontSize:12,lineHeight:1.35,color:e.text.secondary,marginBottom:12},contentCover:{color:e.text.primary,fontSize:11,lineHeight:1.5,marginBottom:0,width:"110%",transform:"translateX(-13px) translateY(-2px) scale(0.91)"},contentCoverEmpty:{height:16},imageCoverWrap:{marginBottom:16},contentCoverFade:{height:48,background:`linear-gradient(to bottom, transparent, ${e.background.elevated} 100%)`},loadingShimmer:{marginBottom:0},rendererBlockStyle:{fontSize:9}})),[])}},877349:(e,t,n)=>{n.d(t,{y:()=>g});n(581454),n(296540);var o=()=>n(56366),i=()=>n(253448),r=()=>n(187820),s=()=>n(128295),a=()=>n(16006),l=()=>n(21140),c=()=>n(768631),d=()=>n(871830),u=()=>n(490242),p=n(474848);function g(e){const{store:t,contentBlocks:n,events:g,size:m="regular",isDiscussion:f,hideCover:h=!1,hideIcon:v=!1,hideTitle:y=!1}=e,x=(0,d().d)(),{icon:b,isEmptyPage:_,content:C}=(0,o().K8)((()=>{if(!t)return{icon:void 0,isEmptyPage:!1,content:null};const e=t.isEmptyPage(),o=e?(0,p.jsx)("div",{style:{height:c().w}}):n?n.map(((e,n)=>(0,p.jsx)("div",{style:x.highlightedBlockWrapper,children:(0,p.jsx)(u().f,{store:t,startBlockId:null==e?void 0:e.id,size:m,isDiscussion:f})},`${e.id}_${n}`))):(0,p.jsx)(u().f,{store:t,size:m});return{icon:t.getIcon(),isEmptyPage:e,content:o}}),[t,n,x.highlightedBlockWrapper,m,f]),S=(0,o().K8)((()=>(0,r().Te)(t)),[t]);return t?(0,p.jsxs)("div",{style:x.wrapper,...g,children:[h?void 0:(0,p.jsx)("div",{style:x.coverContainer,children:(0,p.jsx)(i().d,{store:t,disabled:!0,paddingLeft:0,paddingRight:0,height:36,proxyWidth:260})}),v?void 0:(0,p.jsx)(r().B6,{disabled:!0,icon:b,iconRecordCategory:S,isEmptyPage:_,isLarge:!0,disableShrinking:!0,size:26,emojiSize:26,largeIcon:!0,style:x.pageTitleIcon}),(0,p.jsxs)(l().wt,{gap:4,style:x.content,children:[y?void 0:(0,p.jsxs)(l().wt,{gap:2,children:[(0,p.jsx)(s().Ay,{store:t,style:x.breadcrumb}),(0,p.jsx)("div",{style:x.pageTitleContainer,children:(0,p.jsx)(a().A,{shouldWrap:!0,maxLines:2,store:t,style:x.pageTitle})})]}),C]})]}):null}},949305:(e,t,n)=>{n.d(t,{x:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(427704),l=()=>n(676370),c=()=>n(69708),d=()=>n(534177),u=()=>n(843014),p=()=>n(274894),g=()=>n(719147),m=()=>n(991249),f=()=>n(803025),h=()=>n(270812),v=n(474848);function y(e){const{featureAvailability:t,upgradeRequestAnalyticsEntrypoint:n,upgradeRequestEntrypoint:y,upsellFrom:x,sunsetCheckSource:b,showOptimisticUpsell:_}=e,C=(0,i().v3)(),S=(0,c().tz)(),I=(0,f().q)(),M=(0,s().IS)((e=>({assistantBlueLink:{color:e.blue.text.accentPrimary,cursor:"pointer",fontWeight:600,textDecoration:"none"}})),[]),w=(0,r().K8)((()=>!!t&&("available"===t.type&&void 0!==t.expiry&&"sunset"===t.expiry.type)),[t]),k=(0,r().K8)((()=>(0,d().Xk)(l().uv,x)),[x]),j="ai_formulas"===x,{userHasPendingRequest:A,canUserRequestUpgrade:B,openModal:R}=(0,h().E)({type:"feature",featureAvailability:t,entrypoint:y,analyticsEntrypoint:n,isOptimisticUpsell:Boolean(_)}),D="sales_assisted"===I;return(0,o.useMemo)((()=>{if(!t)return{upsellHeader:void 0,upsellMessage:S.formatMessage(u().D.noAccessFeatureMessage),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:w};if("available"===t.type&&!_){const e=t.expiry;if(void 0!==b&&w&&void 0!==t&&void 0!==e){const t=()=>{(0,m().K)(C,{from:x,upsell:e.upsell})};return{upsellHeader:S.formatMessage(u().D.upgradeToBusiness),upsellMessage:S.formatMessage(u().D.aiConnectorsSunsetUpsellBanner,{date:e.endDate.toFormat("MMMM d"),bold:e=>(0,v.jsx)(g().A,{external:!0,href:a().JZ.pricing,hoverColor:"blue",style:M.assistantBlueLink,children:e}),breakLine:"assistant_overflow_menu_add_connectors"===b,br:(0,v.jsx)("br",{})}),actionButtonMsg:S.formatMessage(u().D.upgradeButton),actionForFeatureAvailability:t,isSunset:w}}return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:w}}const e=t.upsell;if(!e||"none"===e.type)return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:w};const n=function(e){const{isMemberWithPendingUpgradeRequest:t,isMemberCanRequestUpgrade:n,salesAssistedUpgradeRequired:o}=e,i=n?"memberCanRequest":t?"memberRequested":"adminUpsell",r=o?"salesAssisted":"selfService",s=`${i}.${r}`;return u().D[s]}({isMemberWithPendingUpgradeRequest:A,isMemberCanRequestUpgrade:B,salesAssistedUpgradeRequired:D});if(A)return{upsellHeader:void 0,upsellMessage:S.formatMessage(n,{isResearchMode:k,isFormulas:j}),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:w};if(B)return{upsellHeader:void 0,upsellMessage:S.formatMessage(n,{isResearchMode:k,isFormulas:j,bold:e=>(0,v.jsx)(p().f,{onClick:R,children:e})}),actionButtonMsg:"ai_meeting_notes"===x?S.formatMessage(u().D.requestAccessButtonShort):S.formatMessage(u().D.requestAccessButton),actionForFeatureAvailability:R,isSunset:w};{const t=()=>{(0,m().K)(C,{from:x,upsell:e})},o=D?S.formatMessage(u().D.contactSalesButton):"ai_meeting_notes"===x?S.formatMessage(u().D.upgradeButton):S.formatMessage(u().D.getNotionAI);return{upsellHeader:void 0,upsellMessage:S.formatMessage(n,{isResearchMode:k,isFormulas:j,bold:e=>(0,v.jsx)(p().f,{onClick:t,children:e})}),actionButtonMsg:o,actionForFeatureAvailability:t,isSunset:w}}}),[C,S,D,x,t,A,B,R,w,b,_,k,j,M])}}}]);