"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[76677],{29118:(e,t,o)=>{o.d(t,{K:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("collectionTable",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M2.39697 14.4634H13.5964C15.0532 14.4634 15.8311 13.6921 15.8311 12.2485V4.24609C15.8311 2.80249 15.0532 2.03125 13.5964 2.03125H2.39697C0.940186 2.03125 0.162354 2.7959 0.162354 4.24609V12.2485C0.162354 13.6987 0.940186 14.4634 2.39697 14.4634ZM1.63232 4.39771C1.63232 3.79126 1.94214 3.50122 2.52222 3.50122H7.28809V5.74243H1.63232V4.39771ZM13.4712 3.50122C14.0447 3.50122 14.3611 3.79126 14.3611 4.39771V5.74243H8.70532V3.50122H13.4712ZM1.63232 9.3811V7.10693H7.28809V9.3811H1.63232ZM8.70532 9.3811V7.10693H14.3611V9.3811H8.70532ZM2.52222 12.9934C1.94214 12.9934 1.63232 12.7034 1.63232 12.0969V10.7522H7.28809V12.9934H2.52222ZM14.3611 12.0969C14.3611 12.7034 14.0447 12.9934 13.4712 12.9934H8.70532V10.7522H14.3611V12.0969Z"})})},93745:(e,t,o)=>{o.d(t,{C:()=>r});var n=()=>o(534177);function r(e){const t=e.use_end;return void 0===t||!1===t?"start_date":!0===t?"end_date":void(0,n().HB)(t)}},108791:(e,t,o)=>{o.d(t,{Kp:()=>i,Nf:()=>l});o(296540);var n=()=>o(69708),r=o(474848);function i(){return(0,r.jsx)(n().sA,{defaultMessage:"Add filter rule",id:"database.filterMenu.addFilterRuleButtonTitle"})}function l(){return(0,r.jsx)(n().sA,{id:"database.filterValue.mergeIntoAdvancedFilter.tooltip",defaultMessage:"Use an advanced filter to group filter rules and use AND/OR conditions."})}},170350:(e,t,o)=>{o.r(t),o.d(t,{filterIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,o(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},r=(0,o(340498).wt)("filter",n)},249947:(e,t,o)=>{o.d(t,{td:()=>nt,mL:()=>et,Ti:()=>yt,r9:()=>rt,Ul:()=>lt});o(944114),o(898992),o(354520),o(672577),o(581454),o(737550);var n=o(296540),r=()=>o(242422),i=()=>o(726637),l=()=>o(484714),a=()=>o(121924),s=()=>o(56366),d=()=>o(401497),c=()=>o(611648),u=()=>o(718827),p=()=>o(252291),h=()=>o(998531),g=()=>o(729108),m=()=>o(764880),f=()=>o(754195),x=()=>o(93745),v=()=>o(404070),C=()=>o(335452),y=()=>o(359889),A=()=>o(343462),S=()=>o(927826),F=()=>o(478367),j=()=>o(662149),b=()=>o(214388),T=()=>o(898244),M=()=>o(713998),k=()=>o(784892),w=()=>o(597777),I=()=>o(604995),P=()=>o(416504),D=()=>o(854705),R=()=>o(30626),V=()=>o(170350),B=()=>o(236262),_=()=>o(799829),O=()=>o(179034),H=()=>o(824862),L=()=>o(869558),K=()=>o(437607),z=()=>o(798880),E=()=>o(931075),q=()=>o(69708),N=()=>o(778078),Y=()=>o(496603),W=()=>o(534177),G=()=>o(284371),U=()=>o(106065),$=()=>o(251126),Z=()=>o(760217),X=()=>o(406699),Q=()=>o(285790),J=()=>o(419357),ee=()=>o(404277),te=()=>o(939740),oe=()=>o(64e3),ne=()=>o(45552),re=()=>o(417392),ie=()=>o(305390),le=()=>o(89924),ae=()=>o(933117),se=()=>o(859428),de=()=>o(448693),ce=()=>o(125565),ue=()=>o(712677),pe=()=>o(986431),he=()=>o(573351),ge=()=>o(427711),me=()=>o(862139),fe=()=>o(320865),xe=()=>o(990736),ve=()=>o(399762),Ce=()=>o(881690),ye=()=>o(856952),Ae=()=>o(180252),Se=()=>o(522827),Fe=()=>o(722872),je=()=>o(553965),be=()=>o(668766),Te=()=>o(685889),Me=()=>o(857437),ke=()=>o(152197),we=()=>o(106628),Ie=()=>o(792415),Pe=()=>o(463830),De=()=>o(970585),Re=()=>o(148832),Ve=()=>o(913530),Be=()=>o(878710),_e=()=>o(790515),Oe=()=>o(649746),He=()=>o(108791),Le=()=>o(98126),Ke=()=>o(29118),ze=()=>o(854150),Ee=()=>o(201980),qe=()=>o(436696),Ne=()=>o(908201),Ye=()=>o(448061),We=()=>o(422366),Ge=()=>o(765957),Ue=()=>o(543665),$e=()=>o(95758),Ze=()=>o(486130),Xe=o(474848);function Qe(e){const{filter:t,parentStore:o,updateValue:r,onClose:i,desktopTopActions:a,mobileMenuTitle:c,mobileMoreActions:u}=e,p=(0,l().v3)(),h=(0,Ne().ET)(),[m,f]=(0,n.useState)([]),[x,v]=(0,n.useState)(!1),C=(0,n.useMemo)((()=>(0,b().gc)(t)?(0,b().GK)(t):[]),[t]),y=(0,l().Y0)(),A=(0,s().K8)((()=>Y().oE(C.map((e=>{if(e.value)return Ue().m.createChildStore(o,{table:"collection",id:e.value})})))),[C,o]),S=(0,s().K8)((()=>A.map((e=>(0,Xe.jsx)(Ce().A,{format:y.isMobile?k().NY.Large:k().NY.Small,value:(0,Xe.jsx)(Ye().A,{collectionStore:e}),onClickRemove:()=>{const t=C.find((t=>t.value===e.id));if(t){const e=Y().FF(C,t);r(e)}},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showTooltip:"overflow"},e.id)))),[A,C,y.isMobile,r]),[F,j]=(0,n.useState)(""),T=(0,q().tz)(),M=(0,s().K8)((()=>{var e;return null===(e=Ge().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),w=(0,s().K8)((()=>h.collectionStoresStore.state??[]),[h]),I=(0,s().K8)((()=>x?w:h.collectionStoreResultsInViewOrder()),[x,h,w]),P=(0,s().K8)((()=>(0,N().Ay)(F,w,(e=>Ee().q4_(e.getName()??[])))),[F,w]),D=(0,s().K8)((()=>w.filter((e=>!m.some((t=>t.id===e.id)))).length),[w,m]),R=(0,s().uB)(void 0,De().A);(0,n.useEffect)((()=>{f((()=>""===F?Y().hS([...I,...A,...m],"id"):P))}),[F,x,I,P,A]);const V=(0,d().IS)((e=>({checkboxIcon:{fill:e.icon.primary}})),[]),B=(0,n.useCallback)(((e,t)=>{const o=Boolean(t.find((t=>"exact"===t.type&&t.value===e.id))),n=()=>{const o=Y().Iy(t,[{type:"exact",value:e.id}],(e=>e.value));r(o)};return{key:e.id,render:t=>(0,Xe.jsx)(Z().A,{...t,icon:(0,Xe.jsx)(g().S,{checked:o,size:14,onClick:n,style:V.checkboxIcon}),title:(0,Xe.jsx)(Ye().A,{collectionStore:e}),isTokenTitle:!0}),action:n}}),[V.checkboxIcon,r]),_=(0,n.useCallback)((()=>({key:"hidden-items-button",render:e=>(0,Xe.jsx)(Z().A,{...e,icon:(0,Ke().K)({width:13,height:13}),title:(0,Xe.jsx)(q().sA,{id:"collectionFilterValueMenu.locationFilterValueMenu.hiddenLocationsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other source} other {{numHiddenOptions} other sources}}",values:{numHiddenOptions:D}})}),action:()=>{v(!0),(0,qe().X)({environment:p,collectionContextStore:h,action:"expand_property_filter",original_view_type:void 0,property_type:"location"})}})),[D,h,p]),O=(0,s().K8)((()=>{const e=[],t={},n=[];for(const o of m){const e=(0,We().U)(o);e?M&&e.isMemberOrGuest(M,Ze()._.getSpacePermissionGroupIds({userId:M,spaceId:e.getSpaceId()}))&&(t[e.id]=[...t[e.id]??[],o]):n.push(o)}for(const[r,i]of Object.entries(t)){const t=$e().h.createChildStore(o,{table:ze().yK,id:r});e.push({key:r,items:i.map((e=>B(e,C))),render:e=>(0,Xe.jsx)(le().A,{topBorder:!0,...e,title:(0,Xe.jsx)(Xe.Fragment,{children:t.getName()??""})})})}return n.length>0&&e.push({key:"private",items:n.map((e=>B(e,C))),render:e=>(0,Xe.jsx)(le().A,{topBorder:!0,...e,title:(0,Xe.jsx)(q().sA,{id:"collectionFilterValueMenu.privateLocationSection",defaultMessage:"Private"})})}),D>0&&!x&&e.push({key:"hidden",items:[_()],render:e=>(0,Xe.jsx)(le().A,{topBorder:!0,...e})}),e}),[D,x,m,M,o,B,C,_]),H=(0,Xe.jsx)(ye().Ay,{focus:!y.isMobile||void 0,focusAfterAnimation:!0,format:ye().le.FilterValue,tokens:S,placeholder:T.formatMessage({defaultMessage:"Search for one or more sources",id:"database.filterValue.locationType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=C.slice(0,C.length-1);r(e)},onClearButtonClick:()=>{r([]),null==i||i()},value:F,onChange:e=>{j(e.target.value)},dontShowBorderBottom:y.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),L=(0,Xe.jsxs)(le().A,{desktopStyle:{paddingBottom:0},children:[y.isMobile?void 0:a,H]});let K;return K=y.isMobile?{menuType:Fe().gu.Modal,title:c,left:u,right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:i,header:L}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:260,header:L,disableHeaderBorder:!0},(0,Xe.jsx)(ee().A,{...K,children:(0,b().gc)(t)?(0,Xe.jsxs)(Xe.Fragment,{children:[h?void 0:(0,Xe.jsx)(le().A,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 0px"},children:(0,Xe.jsx)(Le().k,{})}),h?(0,Xe.jsxs)(Xe.Fragment,{children:[0===w.length||""!==F&&0===m.length?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}):null,w.length>0?(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:O,store:R,onAccept:()=>{j("")}}):void 0]}):void 0]}):void 0})}var Je=()=>o(974619);let et=function(e){return e[e.AdvancedFilter=0]="AdvancedFilter",e[e.PropertyFilter=1]="PropertyFilter",e[e.ConditionalColorRule=2]="ConditionalColorRule",e}({});const tt=(0,q().YK)({startingMessage:{defaultMessage:"Select or type a date...",id:"search.dateMenu.dateMessage"},chevronDownAriaLabel:{id:"filterDateMenu.chevronDownAriaLabel.ariaLabel",defaultMessage:"Dropdown to select a date relative to today"},pageContainingThisView:{defaultMessage:"This page",id:"database.filterValue.pageContainingThisView"}}),ot=o(757695).Store.createClass("",{name:"QueryStore"});function nt(e){const{schema:t,propertyFilter:o,parentStore:r,onClose:i,onChange:l,onChangeDebounced:d,userCanConfigureFilters:u,onDelete:p,onAddToCombinatorFilter:g,context:m,collectionViewId:f,collectionContextStore:x,allowRelativePersonFilter:v,allowRelativeDateFilter:C,hideTopActions:y}=e,A=(0,s().uB)(void 0,Pe().A),S=(0,s().uB)(void 0,Pe().A),F=(0,s().uB)(void 0,De().A),j=(0,s().uB)(void 0,ot),b=(0,s().K8)((()=>{var e;return"form_editor"===(null==x||null===(e=x.collectionViewStore())||void 0===e?void 0:e.getType())}),[x]);(0,a().A)({capture:!b,preventType:c().A.Y});const T=(0,n.useCallback)((e=>{null==i||i()}),[i]);return(0,Xe.jsx)(h().N,{debugName:"CollectionFilterValueMenu",capture:!0,onEsc:T,children:(0,Xe.jsx)(zt,{propertyFilter:o,schema:t,parentStore:r,onChange:l,onChangeDebounced:d,userCanConfigureFilters:u,onDelete:p,onAddToCombinatorFilter:g,context:m,onClose:i,collectionViewId:f,collectionContextStore:x,allowRelativePersonFilter:v,allowRelativeDateFilter:C,queryStore:j,menuListStore:F,dateFilterPopupStore:S,dateRangeFilterPopupStore:A,hideTopActions:y})})}function rt(e){const{query:t,propertySchema:o,selectedValues:n,updateValue:r,isMobile:i,styles:l,isFormEditorView:a}=e,s=o.options||[];return(t?(0,N().Ay)(t,s,(e=>e.value)):s).map((e=>{const t=Boolean(n.find((t=>t.value===e.value))),o={key:e.value,render:o=>(0,Xe.jsx)(Z().A,{icon:(0,Xe.jsx)(g().S,{onClick:o.onClick,checked:t,size:14,style:l.checkboxIcon,disallowTabbing:!0}),title:a?e.value:(0,Xe.jsx)(ve().O,{format:i?k().NY.Large:k().NY.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1}),isTokenTitle:!0,...o}),action:()=>{const o=t?n.filter((({value:t})=>t!==e.value)):[...n,{type:"exact",value:e.value}];r(o)}};return o}))}function it(e){return Array.isArray(e)?0===e.length?{type:"exact",value:void 0}:1===e.length?e[0]:e:e}function lt(e){return e===et.AdvancedFilter||e===et.PropertyFilter}function at(e,t){return Boolean(e.find((e=>Y().n4(e,t))))}function st(){return(0,Xe.jsx)(q().sA,{defaultMessage:"Me",id:"database.filterValue.personType.firstPersonPropertyValue.title"})}function dt(e,t,o){const{filter:n}=o;(0,b().s1)(n)?null==t||t({...n,subfilter:{...n.subfilter,value:it(e)}}):null==t||t({...n,value:it(e)})}function ct(e,t,o){const{filter:n}=o;(0,b().s1)(n)?null==t||t({...n,subfilter:e}):null==t||t(e)}function ut(e,t,o,n,r){return()=>{dt(e?t.filter((e=>!Y().n4(e,o))):[...t,o],r,n)}}function pt({filter:e,onChange:t,propertyFilter:o,onClose:n}){return(0,b().t6)(e.value)?null:(0,Xe.jsx)(le().A,{topBorder:!0,children:(0,Xe.jsx)(Z().A,{focused:!1,title:(0,Xe.jsx)(q().sA,{defaultMessage:"Clear",id:"database.filterValue.clear.message"}),onClick:()=>{dt({type:"exact",value:void 0},t,o),null==n||n()}})})}function ht({filter:e}){const t=(0,d().DP)();return(0,Xe.jsx)("span",{style:{color:t.text.tertiary},children:(0,Oe().J)(e.operator).toLocaleLowerCase()})}function gt({propertySchema:e,propertyFilter:t,onChange:o}){const n=(0,d().DP)(),r=t.filter;if(!(0,b().gc)(r)||!(0,C().n)(r))return(0,Xe.jsx)(Xe.Fragment,{children:e.name});const l={width:190,items:f().$N,selectedItem:(0,x().C)(r),getKey:e=>e,onSelect:e=>{ct({...r,use_end:(0,v().Z)(e)},o,t)},renderItem:e=>(0,Xe.jsx)(se().A,{renderTooltip:()=>(0,Oe().WG)(e.value),render:t=>(0,Xe.jsx)(Z().A,{title:(0,Oe().h0)(e.value),...(0,je().A)(e,t)}),placement:"right",textWrap:!0,style:{width:"260px"}}),renderOrigin:e=>(0,Xe.jsx)(u().Ay,{...e,style:{marginInlineEnd:4,marginInlineStart:2,paddingInlineStart:2,paddingInlineEnd:2,borderRadius:6,flexShrink:0},children:(0,Xe.jsxs)("div",{style:{display:"flex",alignItems:"center",...!i().A.isMobile&&{color:n.text.secondary,fill:n.icon.tertiary,fontWeight:500,fontSize:12}},children:[(0,Xe.jsx)("span",{style:{marginInlineEnd:4},children:(0,Oe().h0)((0,x().C)(r))}),(0,Xe.jsx)(p().I,{icon:D().arrowChevronSingleDownFillSmallIcon,size:"xxs"})]})})};return(0,Xe.jsx)(ae().A,{...l,menuTypeOverride:(0,Fe().PK)()})}function mt({propertyFilter:e,onChange:t}){const o=(0,q().tz)(),n=(0,d().DP)(),{filter:r}=e;if(!(0,b().s1)(r))return null;const l={width:190,items:b().$X,getKey:e=>e,selectedItem:r.operator,onSelect:e=>{null==t||t({...r,operator:e})},renderItem:e=>(0,Xe.jsx)(Z().A,{title:(0,Oe().wE)(e.value,o),...e}),renderOrigin:e=>(0,Xe.jsx)(u().Ay,{...e,style:{marginInlineEnd:4,marginInlineStart:2,paddingInlineStart:2,paddingInlineEnd:2,borderRadius:6,flexShrink:0},children:(0,Xe.jsxs)("div",{style:{display:"flex",alignItems:"center",...!i().A.isMobile&&{color:n.text.tertiary,fontSize:12}},children:[(0,Xe.jsx)("span",{style:{marginInlineEnd:4},children:(0,Oe().wE)(r.operator,o).toLocaleLowerCase()}),(0,Xe.jsx)(p().I,{icon:D().arrowChevronSingleDownFillSmallIcon,size:"xxs"})]})})};return(0,Xe.jsx)(ae().A,{...l,menuTypeOverride:(0,Fe().PK)()})}function ft({propertyFilter:e,schema:t,parentStore:o,onChange:n,context:r}){const l=(0,d().DP)(),{property:a}=e,c=t[a],h=(0,b().s1)(e.filter)?e.filter.subfilter:e.filter,g=(0,s().K8)((()=>(0,b().HF)({schema:t,property:a,getRecordModel:o.getRecordModel})),[o,a,t]);if((0,b().s1)(h))return null;const m={width:190,items:(0,b().U6)({filterValueType:g,isConditionalColorRuleContext:r===et.ConditionalColorRule,propertySchema:c}),selectedItem:h.operator,getKey:e=>e,onSelect:t=>{ct((0,Oe().iI)(g,h,t,"propertyFilter"),n,e)},renderItem:e=>(0,Xe.jsx)(Z().A,{title:(0,Oe().J)(e.value),...e}),renderOrigin:e=>(0,Xe.jsx)(u().Ay,{...e,style:{marginInlineEnd:4,marginInlineStart:2,paddingInlineStart:2,paddingInlineEnd:2,borderRadius:6,flexShrink:0},children:(0,Xe.jsxs)("div",{style:{display:"flex",alignItems:"center",...!i().A.isMobile&&{color:l.text.secondary,fill:l.icon.tertiary,fontWeight:500,fontSize:12}},children:[(0,Xe.jsx)("span",{style:{marginInlineEnd:4},children:(0,Oe().J)(h.operator).toLocaleLowerCase()}),(0,Xe.jsx)(p().I,{icon:D().arrowChevronSingleDownFillSmallIcon,size:"xxs"})]})})};return(0,Xe.jsx)(ae().A,{...m,menuTypeOverride:(0,Fe().PK)()})}function xt({parent:e,userCanConfigureFilters:t,onDelete:o,onAddToCombinatorFilter:r}){const l=i().A.isMobile?{menuType:Fe().gu.ActionSheet}:{menuType:Fe().gu.Popup,maxHeight:b().mi},a=(0,n.useMemo)((()=>[{key:"actions",render:e=>(0,Xe.jsx)(le().A,{disableMobilePadding:!0,...e}),items:t?Y().oE([{key:"delete",render:e=>(0,Xe.jsx)(Z().A,{...e,title:(0,Xe.jsx)(q().sA,{id:"database.filterValue.deleteFilter.title",defaultMessage:"Delete filter"}),icon:(0,Xe.jsx)(p().I,{icon:B().trashIcon}),isRedOnHover:!0}),action:()=>{e.close(),null==o||o()}},{key:"merge",render:e=>(0,Xe.jsx)(se().A,{placement:"right",style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,Xe.jsx)("div",{children:(0,Xe.jsx)(He().Nf,{})}),render:t=>(0,Xe.jsx)(Z().A,{...(0,je().A)(e,t),title:(0,Xe.jsx)(q().sA,{id:"database.filterValue.mergeIntoAdvancedFilter.title",defaultMessage:"Add to advanced filter"}),icon:(0,Xe.jsx)(p().I,{icon:V().filterIcon})})}),action:()=>{e.close(),null==r||r()}}]):[]}]),[r,o,e,t]);return(0,Xe.jsx)(ee().A,{...l,children:(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,sections:a,initialFocus:void 0})})}function vt({propertySchema:e,propertyFilter:t,onChange:o}){return(0,y().q)(e)?(0,Xe.jsx)(gt,{propertyFilter:t,onChange:o,propertySchema:e}):(0,Xe.jsx)(Xe.Fragment,{children:e.name})}function Ct({userCanConfigureFilters:e,onDelete:t,onAddToCombinatorFilter:o,context:n}){const r=(0,q().tz)();return n===et.ConditionalColorRule?(0,Xe.jsx)(Q().A,{icon:B().trashIcon,onClick:t,ariaLabel:r.formatMessage({id:"database.filterValue.deleteConditionalColorRule.title",defaultMessage:"Delete conditional color rule"}),iconStyle:{width:16,height:16},colorVariant:"secondary",style:{marginInlineEnd:-4}}):(0,Xe.jsx)(X().A,{popupType:i().A.isMobile?re().nl.SlideUp:re().nl.Popup,render:n=>(0,Xe.jsx)(xt,{parent:n,userCanConfigureFilters:e,onDelete:t,onAddToCombinatorFilter:o}),renderOrigin:t=>e&&(0,Xe.jsx)(Q().A,{ariaLabel:r.formatMessage({id:"database.filterValue.dotsIcon.ariaLabel",defaultMessage:"More actions"}),icon:R()._,style:{...!i().A.isMobile&&{height:20,width:20}},...t}),style:{width:240},originGap:2,placementToOrigin:"right",alignmentToOrigin:"start"})}function yt({propertyFilter:e,onChange:t,schema:o,parentStore:n,userCanConfigureFilters:r,onDelete:i,onAddToCombinatorFilter:l,context:a,hideTopActions:s}){if(s||a===et.AdvancedFilter)return null;const{property:d}=e,c=o[d];if(!c)return null;const u=()=>(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)("span",{style:{flexShrink:1,...G().RC},children:(0,Xe.jsx)(vt,{propertyFilter:e,onChange:t,propertySchema:c})}),(0,b().s1)(e.filter)?(0,Xe.jsx)(mt,{propertyFilter:e,onChange:t}):void 0,(0,Xe.jsx)(ft,{propertyFilter:e,schema:o,parentStore:n,onChange:t,context:a})]}),p=()=>(0,Xe.jsx)(Ct,{userCanConfigureFilters:r,onDelete:i,onAddToCombinatorFilter:l,context:a});return a===et.ConditionalColorRule?(0,Xe.jsx)(At,{renderPropertyComponents:u,renderMoreActionsComponent:p}):(0,Xe.jsx)(St,{renderPropertyComponents:u,renderMoreActionsComponent:p})}function At({renderPropertyComponents:e,renderMoreActionsComponent:t}){const o=(0,d().IS)((e=>({container:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingInlineEnd:8,paddingInlineStart:8},propertyComponents:{display:"flex",color:e.text.tertiary,fontSize:12,alignItems:"flex-start",paddingTop:4,paddingBottom:4}})),[]);return(0,Xe.jsxs)("div",{style:o.container,children:[(0,Xe.jsx)("div",{style:o.propertyComponents,children:e()}),t()]})}function St({renderPropertyComponents:e,renderMoreActionsComponent:t}){const o=(0,d().IS)((e=>({container:{display:"flex",color:e.text.tertiary,fontSize:12,alignItems:"flex-start",paddingTop:4,paddingInlineEnd:8,paddingBottom:2,paddingInlineStart:8},spacer:{flexGrow:1}})),[]);return(0,Xe.jsxs)("div",{style:o.container,children:[e(),(0,Xe.jsx)("div",{style:o.spacer}),t()]})}function Ft({propertyFilter:e,schema:t,context:o,onChange:n,parentStore:r}){const{property:i}=e,l=t[i];return l?o===et.PropertyFilter?(0,Xe.jsxs)("div",{style:{display:"flex"},children:[(0,Xe.jsx)("span",{style:{fontWeight:G().Wy.medium,flexShrink:1,marginInlineStart:8,maxWidth:150,...G().RC},children:(0,Xe.jsx)(vt,{propertyFilter:e,onChange:n,propertySchema:l})}),(0,b().s1)(e.filter)?(0,Xe.jsx)(mt,{propertyFilter:e,onChange:n}):void 0,(0,Xe.jsx)(ft,{propertyFilter:e,schema:t,parentStore:r,onChange:n,context:o})]}):(0,Xe.jsx)(Xe.Fragment,{children:l.name}):null}function jt({context:e,userCanConfigureFilters:t,onDelete:o,onAddToCombinatorFilter:n}){return e!==et.PropertyFilter?null:(0,Xe.jsx)(Ct,{userCanConfigureFilters:t,onDelete:o,onAddToCombinatorFilter:n,context:e})}function bt({filter:e,onChange:t,propertyFilter:o,schema:n,parentStore:r,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s,context:d,onClose:c}){const u=(0,q().tz)(),p=(0,Xe.jsx)(J().Ay,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,b().gc)(e)&&e.value.value?e.value.value:"",onChange:e=>{dt({type:"exact",value:e.target.value},t,o)},onClearButtonClick:()=>{dt({type:"exact",value:void 0},t,o)},placeholder:u.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.textType.searchPlaceholder"}),showClearButton:!0,style:{paddingBottom:8}}),h=(0,Xe.jsxs)(le().A,{disableMobileBorders:!0,disableMobilePadding:!0,children:[i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:t,schema:n,parentStore:r,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s,context:d}),(0,b().gc)(e)?p:void 0]});let g;return g=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:n,context:d,onChange:t,parentStore:r}),left:(0,Xe.jsx)(jt,{context:d,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:c,header:h}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(d)?220:void 0,header:h},(0,Xe.jsx)(ee().A,{...g})}function Tt({filter:e,onChange:t,propertyFilter:o,schema:n,parentStore:r,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s,context:d,onClose:c}){const u=(0,q().tz)(),p=(0,Xe.jsx)(J().Ay,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,b().gc)(e)&&"number"==typeof e.value.value?e.value.value.toString():"",inputLeft:(0,Xe.jsx)(ht,{filter:e}),onChange:e=>{dt({type:"exact",value:(0,be().q)(e.target.value,u)},t,o)},onClearButtonClick:()=>{dt({type:"exact",value:void 0},t,o)},placeholder:u.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.numberType.searchPlaceholder"}),showClearButton:!0,style:{paddingBottom:8}}),h=(0,Xe.jsxs)(le().A,{disableMobileBorders:!0,disableMobilePadding:!0,children:[i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:t,schema:n,parentStore:r,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s,context:d}),(0,b().gc)(e)?p:void 0]});let g;return g=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:n,context:d,onChange:t,parentStore:r}),left:(0,Xe.jsx)(jt,{context:d,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:s}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:c,header:h}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(d)?220:void 0,header:h},(0,Xe.jsx)(ee().A,{...g})}function Mt(e,t,o){t.setState(e),o.setState({focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}function kt({filter:e,schema:t,propertyFilter:o,parentStore:r,onChange:a,onClose:c,userCanConfigureFilters:u,onDelete:p,onAddToCombinatorFilter:h,context:g,queryStore:m,menuListStore:f,collectionContextStore:x,hideTopActions:v}){const C=(0,q().tz)(),y=(0,d().DP)(),{isAndroid:A}=(0,l().Y0)(),S=(0,s().O$)(m),F=(0,s().K8)((()=>(0,_e().YF)(t,o,r)),[t,o,r]),[j,w]=(0,Me().$)(),I=(0,s().K8)((()=>{const e=null==x?void 0:x.collectionViewStore();return"form_editor"===(null==e?void 0:e.getType())}),[x]),{items:P,tokenizedInput:D}=(0,n.useMemo)((()=>{if(!F||!(0,T().lx)(F))return{items:[],tokenizedInput:null};const t=F.options||[],n=(0,b().gc)(e)?(0,b().v0)(e)?(0,b().Zl)(e):(0,b().SM)(e):[],r=n.map((e=>{if(void 0===e.value)return null;const r=(0,M().jy)(t,e.value);return r?(0,Xe.jsx)(ve().O,{format:i().A.isMobile?k().NY.Large:k().NY.Small,isSingle:!0,value:r.value,color:r.color,showRemoveButton:!0,onClickRemove:()=>{dt(Y().FF(n,e),a,o)}},r.id):null})),l=(0,Xe.jsx)("div",{style:{...!i().A.isMobile&&{paddingTop:0,paddingRight:8,paddingBottom:8,paddingLeft:8}},children:(0,Xe.jsx)(ye().Ay,{focus:!i().A.isMobile||void 0,focusAfterAnimation:!0,format:ye().le.FilterValue,tokens:I?[]:r,placeholder:C.formatMessage({defaultMessage:"Select one or more options…",id:"database.filterValue.selectType.searchPlaceholder"}),onRemoveLastToken:()=>{dt(n.slice(0,n.length-1),a,o)},onClearButtonClick:()=>{dt([],a,o),null==c||c()},value:S,onChange:e=>{Mt(e.target.value,m,f)},dontShowBorderBottom:A,showClearButton:!0,tokenWrapStyle:{paddingTop:2,gap:4},...j})});return{items:rt({query:S,propertySchema:F,selectedValues:n,updateValue:e=>{dt(e,a,o)},isMobile:Boolean(i().A.isMobile),styles:{checkboxIcon:{fill:y.icon.primary,pointerEvents:"none"}},isFormEditorView:I}),tokenizedInput:l}}),[F,e,I,C,S,A,j,y.icon.primary,a,o,c,m,f]);if(!F||!(0,T().lx)(F))return null;const R=(0,Xe.jsxs)(le().A,{desktopStyle:{paddingBottom:g===et.ConditionalColorRule?4:0,marginTop:I?8:0},children:[i().A.isMobile||I?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:a,schema:t,parentStore:r,userCanConfigureFilters:u,onDelete:p,onAddToCombinatorFilter:h,context:g,hideTopActions:v}),(0,b().gc)(e)?D:void 0]}),V=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:t,context:g,onChange:a,parentStore:r}),left:(0,Xe.jsx)(jt,{context:g,userCanConfigureFilters:u,onDelete:p,onAddToCombinatorFilter:h}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:c,header:R}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(g)?260:void 0,header:R,disableHeaderBorder:!0,tokenInputHeader:!0};return(0,Xe.jsx)(ee().A,{...V,children:(0,b().gc)(e)?(0,Xe.jsxs)(Xe.Fragment,{children:[0===P.length?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}):void 0,P.length>0?(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,Xe.jsx)(le().A,{...e}),items:P}],store:f,onAccept:()=>{Mt("",m,f)},comboboxProps:w}):void 0]}):void 0})}function wt({filter:e,error:t,results:o,schema:r,propertyFilter:a,parentStore:c,onChange:u,allowRelativePersonFilter:p,onClose:h,userCanConfigureFilters:g,onDelete:f,onAddToCombinatorFilter:x,context:v,queryStore:C,menuListStore:y,hideTopActions:A}){const F=(0,l().v3)(),j=(0,q().tz)(),{device:T}=F,M=(0,s().O$)(C),w=(0,s().K8)((()=>(0,_e().YF)(r,a,c)),[r,a,c]),I=(0,d().IS)((()=>({tokenInputContainer:{...!i().A.isMobile&&{paddingTop:4,paddingInlineEnd:8,paddingBottom:8,paddingInlineStart:8}},inputStyle:{maxHeight:"20vh"}})),[]),[P,D]=(0,Me().$)(),R=(0,n.useMemo)((()=>(0,b().gc)(e)?(0,S().W)(e):[]),[e]),V=(0,s().K8)((()=>Y().oE(R.map(((e,t)=>{if("exact"===e.type&&e.value&&e.value.table!==K().n){const t=(0,m().xC)({pointer:e.value,getRecordValue:c.getRecordValue});return(0,Xe.jsx)(de().Ay,{actor:t,format:i().A.isMobile?de().Ay.Format.Large:de().Ay.Format.Small,showRemoveButton:!0,onClickRemove:()=>{dt(Y().FF(R,e),u,a)},shouldShrink:!0,isSingle:!1,hasPersonHoverCard:!1},e.value.id)}if("exact"===e.type&&e.value&&e.value.table===K().n){const t=(0,K().S4)({spacePermissionGroupId:e.value.id,spaceId:e.value.spaceId});return(0,Xe.jsx)(U().AQ,{groupPointer:t,parentStore:c,format:i().A.isMobile?de().Ay.Format.Large:de().Ay.Format.Small,showRemoveButton:!0,onClickRemove:()=>{dt(Y().FF(R,e),u,a)},shouldShrink:!0,isSingle:!1},t.id)}if("relative"===e.type&&"me"===e.value&&p)return(0,Xe.jsx)(Ce().A,{format:i().A.isMobile?k().NY.Large:k().NY.Small,value:(0,Xe.jsx)(st,{}),onClickRemove:()=>{dt(Y().FF(R,e),u,a)},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showTooltip:"overflow"},t)})))),[p,R,u,a,c]);if(!w)return null;const B=(0,Xe.jsx)("div",{style:I.tokenInputContainer,children:(0,Xe.jsx)(ye().Ay,{focus:!i().A.isMobile||void 0,focusAfterAnimation:!0,format:ye().le.FilterValue,tokens:V,placeholder:j.formatMessage({defaultMessage:"Search for one or more people…",id:"database.filterValue.personType.searchPlaceholder"}),style:I.inputStyle,onRemoveLastToken:()=>{dt(R.slice(0,R.length-1),u,a)},onClearButtonClick:()=>{dt([],u,a),null==h||h()},value:M,onChange:e=>{Mt(e.target.value,C,y)},dontShowBorderBottom:T.isAndroid,showClearButton:!0,...P})}),_=(0,Xe.jsxs)(le().A,{desktopStyle:{paddingBottom:v===et.ConditionalColorRule?4:0},children:[i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:a,onChange:u,schema:r,parentStore:c,userCanConfigureFilters:g,onDelete:f,onAddToCombinatorFilter:x,context:v,hideTopActions:A}),(0,b().gc)(e)?B:void 0]});let O;O=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:a,schema:r,context:v,onChange:u,parentStore:c}),left:(0,Xe.jsx)(jt,{context:v,userCanConfigureFilters:g,onDelete:f,onAddToCombinatorFilter:x}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:h,header:_}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(v)?260:void 0,header:_,disableHeaderBorder:!0};const L=Y().oE((o&&o.users||[]).map((e=>function(e,t,o,n,r){const l=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,Xe.jsx)(Z().A,{...t,title:(0,Xe.jsx)(de().t_,{isSingle:!0,shouldShrink:!0,format:i().A.isMobile?de().t_.Format.Large:de().t_.Format.Medium,userValue:e,showRemoveButton:!1,hasPersonHoverCard:!1}),isTokenTitle:!0,isChecked:l}),action:()=>{dt(l?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:z().oo,id:e.id}}],r,o)}}}(e,R,a,0,u)))),E=Y().oE((o&&o.groups||[]).map((e=>function(e,t,o,n){const r=t.some((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})),i=e.getGroupPointer();return{key:i.id,render:t=>(0,Xe.jsx)(me()._,{group:e,menuListItemProps:t}),action:()=>{dt(r?t.filter((e=>{var t;return!("exact"===e.type&&(null===(t=e.value)||void 0===t?void 0:t.id)===i.id)})):[...t,{type:"exact",value:i}],n,o)}}}(e,R,a,u)))),N=["created_by","last_edited_by"].includes(w.type)?Y().oE((o&&o.bots||[]).map((e=>function(e,t,o,n,r){const l=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,Xe.jsx)(Z().A,{...t,title:(0,Xe.jsx)(de().v7,{isSingle:!0,shouldShrink:!0,format:i().A.isMobile?de().v7.Format.Large:de().v7.Format.Medium,botValue:e,showRemoveButton:!1,hasPersonHoverCard:!1}),isTokenTitle:!0,isChecked:l}),action:()=>{dt(l?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:H().GP,id:e.id}}],r,o)}}}(e,R,a,0,u)))):[];if(p&&o&&(!M||"me".includes(M))){const e=Boolean(R.find((e=>"relative"===e.type&&"me"===e.value)));L.unshift({key:"me",render:t=>(0,Xe.jsx)(Z().A,{...t,title:(0,Xe.jsx)(st,{}),isChecked:e,style:i().A.isMobile?void 0:{fontSize:14}}),action:()=>{dt(e?R.filter((({value:e})=>"me"!==e)):[...R,{type:"relative",value:"me"}],u,a)}})}const W=[];return(L.length>0||E.length>0)&&W.push({key:"user property",render:e=>(0,Xe.jsx)(le().A,{...e}),items:[...L,...E]}),N.length>0&&W.push({key:"bot property",render:e=>(0,Xe.jsx)(le().A,{...e,title:"Pick a bot"}),items:N}),(0,Xe.jsx)(ee().A,{...O,children:(0,b().gc)(e)?(0,Xe.jsxs)(Xe.Fragment,{children:[t?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"Something went wrong.",id:"database.filterValue.personType.searchPersonPropertyMenuItem.errorMessage"})})}):void 0,0===W.length&&o&&!t?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"No results",id:"database.filterValue.personType.noResults.message"})})}):void 0,o||t?void 0:(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(fe().A,{})}),W.length>0?(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:W,store:y,onAccept:()=>{Mt("",C,y)},comboboxProps:D}):void 0]}):void 0})}function It({filter:e,context:t,propertyFilter:o,schema:n,onChange:r,parentStore:l,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,onClose:u,menuListStore:p,collectionContextStore:h}){var g;const m=(0,s().K8)((()=>{const e=null==h?void 0:h.collectionViewStore();return"form_editor"===(null==e?void 0:e.getType())}),[h]);let f;f=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:n,context:t,onChange:r,parentStore:l}),left:(0,Xe.jsx)(jt,{context:t,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:u}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(t)?220:void 0,footer:(0,Xe.jsx)(pt,{onChange:r,propertyFilter:o,onClose:u,filter:e})};const x=null===(g=e.value)||void 0===g?void 0:g.value;return(0,Xe.jsxs)(ee().A,{...f,children:[t===et.PropertyFilter?(0,Xe.jsx)(le().A,{disableMobilePadding:!0,children:i().A.isMobile||m?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:r,schema:n,parentStore:l,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:t})}):void 0,(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,Xe.jsx)(le().A,{style:t===et.PropertyFilter?{paddingTop:0}:void 0,...e}),items:[{key:"unchecked",render:e=>(0,Xe.jsx)(Z().A,{...e,title:(0,Xe.jsx)(q().sA,{defaultMessage:"Unchecked",id:"database.filterValue.checkboxType.unchecked.title"}),isTokenTitle:!0,isChecked:!1===x}),action:()=>{dt({type:"exact",value:!1},r,o)}},{key:"checked",render:e=>(0,Xe.jsx)(Z().A,{...e,title:(0,Xe.jsx)(q().sA,{defaultMessage:"Checked",id:"database.filterValue.checkboxType.checked.title"}),isTokenTitle:!0,isChecked:!0===x}),action:()=>{dt({type:"exact",value:!0},r,o)}}]}],store:p,onAccept:u,captureKeyboardOnlyWhenFocused:!0}),i().A.isMobile?(0,Xe.jsx)(pt,{onChange:r,propertyFilter:o,onClose:u,filter:e}):void 0]})}function Pt({filter:e,error:t,results:o,schema:r,propertyFilter:a,parentStore:c,onChange:u,onClose:p,userCanConfigureFilters:h,onDelete:g,onAddToCombinatorFilter:m,context:f,collectionViewId:x,queryStore:v,menuListStore:C,allowCurrentPageInRelatedCollectionFilter:y,hideTopActions:A}){const S=(0,l().v3)(),F=(0,q().tz)(),{device:j}=S,M=(0,s().O$)(v),w=(0,s().K8)((()=>(0,_e().YF)(r,a,c)),[r,a,c]),I=(0,s().K8)((()=>function(e,t){if(!e)return;const o=Ve().p.createChildStore(t,{table:L().Gy,id:e}).getParentBlockStore();return o?o.getNearestAncestorTemplateStore():void 0}(x,c)),[x,c]),P=(0,s().K8)((()=>null==I?void 0:I.getAssociatedCollectionId()),[I]),D=(0,n.useMemo)((()=>(0,b().gc)(e)?(0,b().Rh)(e):[]),[e]),R=(0,s().K8)((()=>{const e=(0,_e().YF)(r,a,c);return e&&(0,T().nC)(e)?{appConfigUri:(0,Te().LQ)(e,c),schema:(0,Te().D3)(e,S)}:{}}),[r,a,c,S]),V=(0,s().K8)((()=>function(e,t,o,n,r){const{appConfigUri:i,schema:l}=n;if(!l)return[];if(!i||!(0,Se().KN)(l,i))return[];const a=(0,_().qk)(l,i),s=_().n$[i];return Y().oE(a.map((n=>{if(!e||n.includes(e)){const e={type:"relative",value:{type:"builtin",variable:n}},i=at(t,e);return{key:n,render:e=>(0,Xe.jsx)(Z().A,{...e,title:(0,Xe.jsx)(q().sA,{...s[n].messageDescriptor}),isChecked:i}),action:ut(i,t,e,o,r)}}})))}(M,D,a,R,u)),[M,D,a,R,u]),B=(0,s().K8)((()=>y?function(e,t,o,n,r){const i=e.formatMessage(tt.pageContainingThisView);if(!t||i.toLowerCase().includes(t)){const e={type:"relative",value:{type:"current_page_in_related_collection"}},t=at(o,e);return{key:e.value.type,render:e=>(0,Xe.jsx)(Z().A,{...e,title:i,isChecked:t}),action:ut(t,o,e,n,r)}}}(F,M,D,a,u):void 0),[F,M,D,a,u,y]),[H,K]=(0,Me().$)(),z=(0,d().IS)((()=>({tokenInputContainer:{...!i().A.isMobile&&{paddingTop:4,paddingInlineEnd:8,paddingBottom:8,paddingInlineStart:8}},tokenWrapStyle:{paddingTop:2,gap:"5px 3px"},tokenStyle:{margin:0},inputStyle:{maxHeight:"20vh",overflowY:"auto"}})),[]);if(!w||!(0,T().nC)(w))return null;const E=(0,T().zO)(w);if(!E)return null;const N=Y().oE(D.map(((e,t)=>{if(!e.value)return null;const o={format:i().A.isMobile?k().NY.Large:k().NY.Small,shouldWrap:!1,showRemoveButton:!0,isSingle:!1,shouldShrink:!0,onClickRemove:()=>{dt(Y().FF(D,e),u,a)},style:z.tokenStyle},{appConfigUri:n}=R;return(0,Xe.jsx)(xe().g,{value:e,tokenProps:o,parentStore:c,relatedCollectionAppConfigUri:n},t)}))),W=(0,Xe.jsx)("div",{style:z.tokenInputContainer,children:(0,Xe.jsx)(ye().Ay,{focus:!i().A.isMobile||void 0,focusAfterAnimation:!0,format:ye().le.FilterValue,tokens:N,placeholder:F.formatMessage({defaultMessage:"Search for one or more pages…",id:"database.filterValue.relationType.searchPlaceholder"}),onRemoveLastToken:()=>{dt(D.slice(0,D.length-1),u,a)},onClearButtonClick:()=>{dt([],u,a),null==p||p()},value:M,onChange:e=>{Mt(e.target.value,v,C)},dontShowBorderBottom:j.isAndroid,style:z.inputStyle,tokenWrapStyle:z.tokenWrapStyle,showClearButton:!0,...H})}),G=(0,Xe.jsxs)(le().A,{desktopStyle:{paddingBottom:0},children:[i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:a,onChange:u,schema:r,parentStore:c,userCanConfigureFilters:h,onDelete:g,onAddToCombinatorFilter:m,context:f,hideTopActions:A}),(0,b().gc)(e)?W:void 0]});let U;U=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:a,schema:r,context:f,onChange:u,parentStore:c}),left:(0,Xe.jsx)(jt,{context:f,userCanConfigureFilters:h,onDelete:g,onAddToCombinatorFilter:m}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:p,header:G}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(f)?260:void 0,header:G,disableHeaderBorder:!0},o&&!M&&I&&E&&P===E&&(o=Y().sb([I.id,...o]));let $=[];if(o){const e=function(e,t,o,n,r){return e.map((e=>{const i={type:"exact",value:e},l=at(t,i),a=Re().B.createChildStore(o,{table:O().ev,id:e});return{key:e,action:ut(l,t,i,n,r),render:e=>(0,Xe.jsx)(ie().A,{store:a,isChecked:l,hidePath:!0,...e})}}))}(o,D,c,a,u);$=((0,b().s1)(a.filter)?[]:V).concat(e),B&&($=[B,...$])}return(0,Xe.jsx)(ee().A,{...U,children:(0,b().gc)(e)?(0,Xe.jsxs)(Xe.Fragment,{children:[t?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"Something went wrong.",id:"database.filterValue.relationType.searchRelationPropertyMenuItem.errorMessage"})})}):void 0,0===$.length&&o&&!t?(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(oe().A,{title:(0,Xe.jsx)(q().sA,{defaultMessage:"No results",id:"database.filterValue.relationType.noResults.message"})})}):void 0,o||t?void 0:(0,Xe.jsx)(le().A,{children:(0,Xe.jsx)(fe().A,{})}),$.length>0?(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:[{key:"results",render:e=>(0,Xe.jsx)(le().A,{...e}),items:$}],store:C,onAccept:()=>{Mt("",v,C)},comboboxProps:K}):void 0]}):void 0})}function Dt({filter:e,schema:t,propertyFilter:o,parentStore:n,onChange:r,allowRelativeDateFilter:i,dateRangeFilterPopupStore:l}){const a=(0,s().K8)((()=>(0,_e().YF)(t,o,n)),[t,o,n]);if(!a)return null;let d;if((0,b().Cw)(e)&&"exact"===e.value.type&&e.value.value){const t=e.value.value;d={starting:t.start_date?{type:"date",start_date:t.start_date}:void 0,ending:t.end_date?{type:"date",start_date:t.end_date}:void 0}}else d=(0,b().Cw)(e)&&"relative"===e.value.type?e.value:{starting:void 0,ending:void 0};const c={disableMenuWrap:!0,title:a.name,value:d,onUpdate:t=>{var n,i;if(t.error)return null;const l={...d,...t.value},a=null===(n=l.starting)||void 0===n?void 0:n.start_date,s=null===(i=l.ending)||void 0===i?void 0:i.start_date;ct({operator:"date_is_within",use_end:"use_end"in e?null==e?void 0:e.use_end:void 0,value:{type:"exact",value:a||s?{type:"daterange",start_date:a,end_date:s}:void 0}},r,o)},allowRelativeRangeFilter:i,relativeRangePopupStore:l,onUpdateRelativeFilter:t=>{ct({...e,value:t},r,o)}};return(0,Xe.jsx)(ge().A,{...c})}function Rt({filter:e,events:t,onChange:o,propertyFilter:n,allowRelativeDateFilter:r,dateFilterPopupStore:l}){const a=(0,d().DP)(),s=(0,q().tz)();return(0,Xe.jsx)(ue().A,{...t,placeholder:s.formatMessage(tt.startingMessage),focused:"exact"===e.value.type,value:e.value,onUpdate:t=>{var r;if(t.error)return null;const i=null===(r=t.value)||void 0===r?void 0:r.start_date;ct({...e,value:{type:"exact",value:i?{type:"date",start_date:i}:void 0}},o,n)},inputRight:r&&(0,Xe.jsx)(Q().A,{icon:D().arrowChevronSingleDownFillSmallIcon,iconStyle:{width:12,height:12},ariaLabel:s.formatMessage(tt.chevronDownAriaLabel),style:{...!i().A.isMobile&&{height:20,width:20},color:a.icon.secondary},onClick:()=>{l.setState({open:!0})}}),hideClearButton:"relative"===e.value.type||void 0,isRightLastElementOfInput:!0})}function Vt({filter:e,context:t,onChange:o,propertyFilter:n,schema:r,parentStore:l,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:c,onClose:u,menuListStore:p}){const h=(0,d().DP)(),m=(0,b().gc)(e)?(0,b().ms)(e):[],f=m.map((({value:e})=>e)),x=E().FG.map((e=>{const t=f.includes(e);return{key:e,render:o=>(0,Xe.jsx)(Z().A,{icon:(0,Xe.jsx)(g().S,{checked:t,size:14,style:{fill:h.icon.primary,pointerEvents:"none"},disallowTabbing:!0}),title:(0,Oe().w0)({type:"exact",value:e}),...o}),action:()=>{if(t)dt(m.filter((({value:t})=>t!==e)),o,n);else{const t={type:"exact",value:e};dt([...m,t],o,n)}}}}));let v;return v=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:n,schema:r,context:t,onChange:o,parentStore:l}),left:(0,Xe.jsx)(jt,{context:t,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:c}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:u}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:220,footer:(0,Xe.jsx)(pt,{onChange:o,propertyFilter:n,onClose:u,filter:e})},(0,Xe.jsxs)(ee().A,{...v,children:[t===et.PropertyFilter?(0,Xe.jsx)(le().A,{disableMobilePadding:!0,children:i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:n,onChange:o,schema:r,parentStore:l,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:c,context:t})}):void 0,(0,Xe.jsx)(te().Ay,{type:te().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,Xe.jsx)(le().A,{style:{paddingTop:0},...e}),items:x}],store:p})]})}function Bt({filter:e,parentStore:t,schema:o,propertyFilter:n,onChange:i,allowRelativePersonFilter:a,onClose:d,userCanConfigureFilters:c,onDelete:u,onAddToCombinatorFilter:p,context:h,queryStore:g,menuListStore:m,hideTopActions:f}){const x=(0,l().v3)(),v=(0,q().tz)(),C=(0,s().O$)(g);return(0,Xe.jsx)($().A,{request:C,performRequest:e=>async function(e,t,o,n){const i=await we().T.searchActions.load(),l=n.locale,{users:a,bots:s}=await i.searchSpaceActors({environment:o,query:e,membersOnly:!1,userLocale:l,shouldUseEdgeCacheRollout:r().default.checkGate({gateName:"edge_cache_person_property"}),limit:20}),d=i.searchSpaceGroups({query:e,intl:n});return await Promise.all([...a.map((async({id:e})=>{const o=(0,Be().v3)(t,{table:z().oo,id:e});await o.load()})),...s.map((async e=>{const o=(0,Be().v3)(t,{table:H().GP,id:e.id,spaceId:e.space_id});await o.load()}))]),{users:a,bots:s,groups:d}}(e,t,x,v),render:(r,l)=>(0,Xe.jsx)(wt,{schema:o,propertyFilter:n,parentStore:t,onChange:i,allowRelativePersonFilter:a,onClose:d,userCanConfigureFilters:c,onDelete:u,onAddToCombinatorFilter:p,context:h,queryStore:g,menuListStore:m,filter:e,error:r,results:l,hideTopActions:f})})}function _t({filter:e,schema:t,propertyFilter:o,parentStore:n,onChange:r,onClose:i,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u,collectionViewId:p,queryStore:h,menuListStore:g,allowCurrentPageInRelatedCollectionFilter:m,hideTopActions:f}){const x=(0,l().v3)(),v=(0,s().O$)(h),C=(0,ke().r)(),y=(0,s().K8)((()=>{var e;return null===(e=Ie().A.state.publicPageData)||void 0===e?void 0:e.spaceId}),[]),A=(0,s().K8)((()=>(0,_e().YF)(t,o,n)),[t,o,n]),S=C||y;if(!A||!(0,T().nC)(A)||!S)return null;const F=(0,T().zO)(A);return F?(0,Xe.jsx)($().A,{request:{query:v,spaceId:S,collectionId:F},performRequest:e=>async function(e,t,o){const{query:n,spaceId:r,collectionId:i}=e;if(!r||!i)return[];const l=await we().T.searchActions.load(),{results:a}=await l.searchPagesInCollection({environment:o,query:n,collectionId:i,limit:20,spaceId:r,excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!0,boostRecentlyViewedPages:!1});return 0===a.length?[]:(await Promise.all(a.map((async e=>{const o=(0,Be().v3)(t,{table:O().ev,id:e});await o.load()}))),a)}(e,n,x),render:(l,s)=>(0,Xe.jsx)(Pt,{schema:t,propertyFilter:o,parentStore:n,onChange:r,onClose:i,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u,collectionViewId:p,queryStore:h,menuListStore:g,filter:e,error:l,results:s,allowCurrentPageInRelatedCollectionFilter:m,hideTopActions:f})}):null}function Ot({filter:e,onChange:t,propertyFilter:o,allowRelativeDateFilter:n,dateFilterPopupStore:r}){const i=(0,s().O$)(Ae().XX);if(!(0,b().gc)(e))return null;const l="exact"===e.value.type?e.value.value:(0,I().fN)(e.value);return l&&!(0,w().$P)(l)?null:(0,Xe.jsxs)(Xe.Fragment,{children:[(0,Xe.jsx)(le().A,{disableMobileBorders:!0,children:(0,Xe.jsx)(he().A,{firstDayOfWeek:i,selectValue:void 0!==l,value:l?I().C6.notionDateToLuxon(l).toMillis():Date.now(),onChange:e=>{dt({type:"exact",value:(0,I().p6)(e,(0,P().P)())},t,o)}})}),"relative"===e.value.type?(0,Xe.jsx)(le().A,{topBorder:!0,children:(0,Xe.jsx)(ce().A,{isSmall:!0,style:{marginInlineStart:4,marginTop:4},children:(0,Xe.jsx)(q().sA,{id:"collectionFilterMenu.dateFilter.relativeDateFilter.description",defaultMessage:"Filter will update with the current date"})})}):void 0]})}function Ht({filter:e,context:t,propertyFilter:o,schema:n,onChange:r,parentStore:l,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:d,onClose:c,allowRelativeDateFilter:u,dateFilterPopupStore:p,dateRangeFilterPopupStore:h,hideTopActions:g}){let m;return m=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:n,context:t,onChange:r,parentStore:l}),left:(0,Xe.jsx)(jt,{context:t,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:d}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:c}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:lt(t)?260:void 0},(0,Xe.jsxs)(ee().A,{...m,children:[(0,Xe.jsxs)(le().A,{disableMobilePadding:!0,disableMobileBorders:!0,isInput:t!==et.PropertyFilter,children:[i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:r,schema:n,parentStore:l,userCanConfigureFilters:a,onDelete:s,onAddToCombinatorFilter:d,context:t,hideTopActions:g}),(0,b().gc)(e)&&!(0,b().Cw)(e)?(0,Xe.jsx)(pe().A,{type:"date",filterValue:e.value,onUpdate:t=>{ct({...e,value:t},r,o)},renderOrigin:t=>(0,Xe.jsx)(Rt,{onChange:r,propertyFilter:o,allowRelativeDateFilter:u,dateFilterPopupStore:p,filter:e,events:t}),disabled:"exact"===e.value.type&&u,buttonPopupStore:p}):void 0]}),(0,b().gc)(e)?(0,b().Cw)(e)?(0,Xe.jsx)(Dt,{schema:n,propertyFilter:o,parentStore:l,onChange:r,allowRelativeDateFilter:u,dateRangeFilterPopupStore:h,filter:e}):(0,Xe.jsx)(Ot,{onChange:r,propertyFilter:o,allowRelativeDateFilter:u,dateFilterPopupStore:p,filter:e}):void 0]})}function Lt({filter:e,schema:t,propertyFilter:o,parentStore:n,onChange:r,onClose:l,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u}){const p=(0,s().K8)((()=>(0,_e().YF)(t,o,n)),[t,o,n]);if(!p||"file"!==p.type)return null;const h=(0,Xe.jsx)(le().A,{desktopStyle:{paddingBottom:0},children:i().A.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:r,schema:t,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u})});let g;return g=i().A.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:t,context:u,onChange:r,parentStore:n}),left:(0,Xe.jsx)(jt,{context:u,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:l,header:h}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:260,header:h,disableHeaderBorder:!0,tokenInputHeader:!0},(0,Xe.jsx)(ee().A,{...g})}function Kt({filter:e,schema:t,propertyFilter:o,parentStore:n,onChange:r,onClose:i,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u}){const p=(0,l().v3)(),{device:h}=p,g=(0,s().K8)((()=>(0,_e().YF)(t,o,n)),[t,o,n]);if(!g||"place"!==g.type)return null;const m=(0,Xe.jsx)(le().A,{desktopStyle:{paddingBottom:u===et.ConditionalColorRule?4:0},children:h.isMobile?void 0:(0,Xe.jsx)(yt,{propertyFilter:o,onChange:r,schema:t,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c,context:u})});let f;return f=h.isMobile?{menuType:Fe().gu.Modal,title:(0,Xe.jsx)(Ft,{propertyFilter:o,schema:t,context:u,onChange:r,parentStore:n}),left:(0,Xe.jsx)(jt,{context:u,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:c}),right:(0,Xe.jsx)(ne().DoneMenuText,{}),onClickRight:i,header:m}:{menuType:Fe().gu.Popup,maxHeight:b().mi,width:260,header:m,disableHeaderBorder:!0,tokenInputHeader:!0},(0,Xe.jsx)(ee().A,{...f})}function zt({propertyFilter:e,schema:t,parentStore:o,onChange:n,onChangeDebounced:r,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,onClose:c,collectionViewId:u,collectionContextStore:p,allowRelativePersonFilter:h,allowRelativeDateFilter:g,queryStore:m,menuListStore:f,dateFilterPopupStore:x,dateRangeFilterPopupStore:v,hideTopActions:y}){const{property:S,filter:M}=e,k=(0,s().K8)((()=>(0,b().HF)({schema:t,property:S,getRecordModel:o.getRecordModel})),[o,S,t]),w=t[S],I=(0,s().K8)((()=>!(!p||!w)&&function({collectionContextStore:e,propertySchema:t}){var o;if(void 0===e.viewsModuleContextStore.state)return!1;const n=null===(o=e.viewsModuleContextStore.getCurrentPageCollectionStore())||void 0===o?void 0:o.id;return!!n&&(0,T().nC)(t)&&(0,T().zO)(t)===n}({collectionContextStore:p,propertySchema:w})),[p,w]),P=(0,b().s1)(M)?M.subfilter:M;return"text"===k?(0,j().Y)(P)?(0,Xe.jsx)(bt,{onChange:r,propertyFilter:e,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,onClose:c,filter:P}):null:"relation"===k?(0,b().Pq)(P)?(0,Xe.jsx)(_t,{schema:t,propertyFilter:e,parentStore:o,onChange:n,onClose:c,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,collectionViewId:u,queryStore:m,menuListStore:f,filter:P,allowCurrentPageInRelatedCollectionFilter:I,hideTopActions:y}):null:"checkbox"===k?(0,b().Ui)(P)?(0,Xe.jsx)(It,{context:d,propertyFilter:e,schema:t,onChange:n,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,menuListStore:f,filter:P,collectionContextStore:p}):null:"select"===k||"multi_select"===k?(0,b().v0)(P)||(0,b().as)(P)?(0,Xe.jsx)(kt,{schema:t,propertyFilter:e,parentStore:o,onChange:n,onClose:c,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,queryStore:m,menuListStore:f,filter:P,collectionContextStore:p,hideTopActions:y}):null:"status"===k?(0,b().H$)(P)?(0,Xe.jsx)(Je().A,{propertyFilter:e,schema:t,filter:P,parentStore:o,updateValue:t=>dt(t,n,e),onClose:c,desktopTopActions:(0,Xe.jsx)(yt,{propertyFilter:e,onChange:n,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,hideTopActions:y}),mobileMenuTitle:(0,Xe.jsx)(Ft,{propertyFilter:e,schema:t,context:d,onChange:n,parentStore:o}),mobileMoreActions:(0,Xe.jsx)(jt,{context:d,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a}),collectionContextStore:p,context:d}):null:"person"===k?(0,F().I)(P)?(0,Xe.jsx)(Bt,{parentStore:o,schema:t,propertyFilter:e,onChange:n,allowRelativePersonFilter:h,onClose:c,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,queryStore:m,menuListStore:f,filter:P,hideTopActions:y}):null:"number"===k?(0,A().M)(P)?(0,Xe.jsx)(Tt,{onChange:r,propertyFilter:e,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,onClose:c,filter:P}):null:"date"===k?(0,C().n)(P)?(0,Xe.jsx)(Ht,{context:d,propertyFilter:e,schema:t,onChange:n,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,allowRelativeDateFilter:g,dateFilterPopupStore:x,dateRangeFilterPopupStore:v,filter:P,hideTopActions:y}):null:"file"===k?(0,b().B6)(P)?(0,Xe.jsx)(Lt,{onChange:n,propertyFilter:e,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,onClose:c,filter:P}):null:"location"===k?(0,b().G)(P)?(0,Xe.jsx)(Qe,{filter:P,parentStore:o,updateValue:t=>dt(t,n,e),onClose:c,desktopTopActions:(0,Xe.jsx)(yt,{propertyFilter:e,onChange:n,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d}),mobileMenuTitle:(0,Xe.jsx)(Ft,{propertyFilter:e,schema:t,context:d,onChange:n,parentStore:o}),mobileMoreActions:(0,Xe.jsx)(jt,{context:d,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a})}):null:"verification"===k?(0,b().uU)(P)?(0,Xe.jsx)(Vt,{context:d,onChange:n,propertyFilter:e,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,onClose:c,menuListStore:f,filter:P}):null:"place"===k?(0,b().Ol)(P)?(0,Xe.jsx)(Kt,{onChange:n,propertyFilter:e,schema:t,parentStore:o,userCanConfigureFilters:i,onDelete:l,onAddToCombinatorFilter:a,context:d,onClose:c,filter:P}):null:void(0,W().HB)(k)}},308631:(e,t,o)=>{o.d(t,{OR:()=>g,RS:()=>f});o(296540);var n=()=>o(401497),r=()=>o(252291),i=()=>o(254947),l=()=>o(424920),a=()=>o(338862),s=()=>o(340498),d=()=>o(69708),c=()=>o(117293),u=()=>o(132389),p=()=>o(859428),h=o(474848);const g={[i().QV]:(0,h.jsx)(d().sA,{...i().oz.statusGroupNameTodo}),[i().jc]:(0,h.jsx)(d().sA,{...i().oz.statusGroupNameInProgress}),[i().P0]:(0,h.jsx)(d().sA,{...i().oz.statusGroupNameComplete}),[i().nX]:(0,h.jsx)(d().sA,{...c().DZ.current}),[i().p7]:(0,h.jsx)(d().sA,{...c().DZ.future})},m={[i().QV]:l().y,[i().jc]:o(874177).p,[i().P0]:o(671089).checkmarkCircleIcon};function f(e){const{group:t,disableGroup:o,style:d,showIcon:c,showColor:f}=e,x=(0,n().DP)(),v=m[t.name]??l().y,C=t.color??i().ml[t.name];return(0,h.jsxs)("div",{style:{...d,display:"inline-flex",alignItems:"center"},children:[c?v({display:"inline-block",width:s().Ev.default,height:s().Ev.default,fill:f?x[C].icon.accentPrimary:x.icon.secondary}):void 0,(0,h.jsx)("span",{style:{paddingInlineStart:c?4:void 0,color:f?x[C].text.accentPrimary:void 0},children:g[t.name]??t.name}),o?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u().A,{size:4}),(0,h.jsx)(p().A,{placement:"bottom",render:e=>(0,h.jsx)("div",{...e,children:(0,h.jsx)(r().I,{icon:a().N,size:"xs"})}),renderTooltip:e=>(0,h.jsx)("div",{...e,children:o.tooltipCaption}),disableTooltip:void 0===o.tooltipCaption})]}):null]})}},359889:(e,t,o)=>{o.d(t,{q:()=>r});var n=()=>o(708685);function r(e){return"date"===e.type||"formula"===e.type&&"date"===(0,n().getFormulaPropertySchemaResultType)(e)||"rollup"===e.type&&void 0!==e.aggregation&&"date_range"===e.aggregation}},399762:(e,t,o)=>{o.d(t,{O:()=>d,q:()=>c});o(296540);var n=()=>o(401497),r=()=>o(100622),i=()=>o(284371),l=()=>o(288722),a=()=>o(881690),s=o(474848);function d(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:h,shouldShrink:g,hideTooltip:m,description:f,tooltipPlacement:x,removeBackground:v,...C}=e,y=(0,n().DP)(),A=(0,n().IS)((e=>({token:{...c&&i().RC,...v&&{paddingInlineStart:0,paddingInlineEnd:0}}})),[c,v]),{textColor:S,backgroundColor:F}=(0,r().LD)(y,o),j=v?"transparent":F;return t?(0,s.jsx)(a().A,{format:d,value:(0,s.jsx)(l().A,{children:t}),description:f,onClickRemove:u,showRemoveButton:p,isSingle:h,color:S,backgroundColor:j,shouldShrink:g,tooltipPlacement:x,showTooltip:m?"never":"overflow",style:A.token,...C}):null}function c(e){const{value:t,color:o,format:d,showEllipsis:c,onClickRemove:u,showRemoveButton:p,isSingle:h,shouldShrink:g,groupColor:m,tooltipPlacement:f,description:x,hideTooltip:v,...C}=e,y=(0,n().DP)(),A=(0,n().IS)((()=>({token:{...c&&i().RC}})),[c]);if(!t)return null;const{textColor:S,backgroundColor:F}=(0,r().LD)(y,o??m??"gray");let j;return j=o||(m||"gray"),(0,s.jsx)(a().A,{format:d,value:(0,s.jsx)(l().A,{children:t}),description:x,onClickRemove:u,showRemoveButton:p,isSingle:h,color:S,backgroundColor:F,shouldShrink:g,showTooltip:v?"never":"overflow",style:A.token,isRound:!0,showColoredDot:j,tooltipPlacement:f,...C})}},404070:(e,t,o)=>{o.d(t,{Z:()=>r});var n=()=>o(754195);function r(e){return n().D$[e]}},424920:(e,t,o)=>{o.d(t,{y:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.25",svg:(0,o(474848).jsx)("path",{d:"M9.501 2.391a8 8 0 0 1 .998 0 .625.625 0 0 1-.081 1.247 7 7 0 0 0-.836 0 .625.625 0 0 1-.08-1.247m3.034 1.053a.625.625 0 0 1 .838-.284q.45.222.863.5a.625.625 0 0 1-.695 1.038 6 6 0 0 0-.722-.417.625.625 0 0 1-.284-.837m-5.072 0a.625.625 0 0 1-.284.837q-.375.185-.722.417a.625.625 0 0 1-.695-1.038q.414-.278.863-.5a.625.625 0 0 1 .838.284m8.009 2.147a.625.625 0 0 1 .867.172q.278.414.5.863a.625.625 0 0 1-1.12.554 6 6 0 0 0-.418-.722.625.625 0 0 1 .171-.867m-10.946 0c.287.192.363.58.171.867q-.232.346-.417.722a.625.625 0 1 1-1.12-.554q.221-.45.499-.863a.625.625 0 0 1 .867-.172m12.418 3.327a.625.625 0 0 1 .664.583 8 8 0 0 1 0 .998.625.625 0 0 1-1.248-.081 6 6 0 0 0 0-.836.625.625 0 0 1 .584-.664m-13.89 0c.345.022.606.32.583.664a7 7 0 0 0 0 .836.625.625 0 0 1-1.247.08 8 8 0 0 1 0-.997.625.625 0 0 1 .664-.583m13.501 3.618c.31.153.437.528.284.838q-.222.45-.5.863a.625.625 0 1 1-1.038-.695q.231-.346.417-.722a.625.625 0 0 1 .837-.284m-13.112 0a.625.625 0 0 1 .837.284q.185.375.417.722a.625.625 0 0 1-1.038.695 8 8 0 0 1-.5-.864.625.625 0 0 1 .284-.837m2.147 2.937a.625.625 0 0 1 .867-.171q.346.231.722.417a.625.625 0 1 1-.554 1.12 8 8 0 0 1-.863-.499.625.625 0 0 1-.172-.867m8.818 0a.625.625 0 0 1-.172.867 8 8 0 0 1-.864.5.625.625 0 0 1-.553-1.12q.375-.187.722-.418a.625.625 0 0 1 .867.171m-5.491 1.472a.625.625 0 0 1 .664-.584 6 6 0 0 0 .836 0 .625.625 0 0 1 .08 1.248 8 8 0 0 1-.997 0 .625.625 0 0 1-.583-.664"})},r=(0,o(340498).wt)("circleDotted",n)},448061:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(e){const{collectionStore:t}=e,r=(0,o(56366).K8)((()=>t.getIcon()),[t]);return(0,n.jsxs)("div",{style:{display:"flex",columnGap:4,alignItems:"center"},children:[(0,n.jsx)(o(187820).B6,{disabled:!0,icon:r,iconRecordCategory:"collection",isEmptyPage:!1,size:20}),(0,n.jsx)(o(16006).A,{store:t,style:{maxWidth:180}})]})}},573351:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(296540),r=o(474848);const i=function({firstDayOfWeek:e,value:t,selectValue:i=!0,onChange:l,onFocus:a,onBlur:s,disabledDays:d,className:c}){const u=(0,n.useMemo)((()=>new Date(t)),[t]),[p,h]=(0,n.useState)(u),g=(0,n.useRef)(t);(0,n.useLayoutEffect)((()=>{g.current!==t&&(h(new Date(t)),g.current=t)}),[t]);const m=(0,n.useCallback)(((e,t,o)=>{l(e.getTime())}),[l]);return(0,r.jsx)("div",{style:{paddingInlineEnd:8,paddingBottom:8,paddingInlineStart:8,paddingTop:4},children:(0,r.jsx)(o(541181).n,{locale:o(662303).locale,className:c??"notion-calendar-picker",numberOfMonths:1,weekStartsOn:e,modifiers:i?{value:u}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:m,onMonthSelected:h,disabled:d,month:p,onDayBlur:s,onDayFocus:a})})}},668766:(e,t,o)=>{o.d(t,{q:()=>i});var n=()=>o(242422),r=()=>o(72135);function i(e,t){return(0,r().$J)(e,n().default.checkGate({gateName:"localized_parse_number"})?t:void 0)}},790515:(e,t,o)=>{o.d(t,{S2:()=>M,tG:()=>T,AU:()=>F,SO:()=>x,LQ:()=>f,MI:()=>v,YF:()=>j,Pi:()=>C,$4:()=>y,Ze:()=>S,vu:()=>b,fe:()=>A});o(944114),o(898992),o(823215),o(354520),o(672577),o(581454),o(737550);var n=()=>o(214388),r=()=>o(898244),i=()=>o(713998),l=()=>o(455348),a=()=>o(416504),s=()=>o(496603),d=()=>o(534177),c=()=>o(66689);var u=()=>o(180252),p=()=>o(932704),h=()=>o(909470),g=()=>o(972435),m=()=>o(649746);function f(e){const{schema:t,filters:o,getRecordModel:r,spaceIdCreator:i,collectionSource:l}=e,a=[];for(const n of Object.keys(t)){const e=x({property:n,schema:t,getRecordModel:r,spaceIdCreator:i,collectionSource:l});e&&a.push(e)}const d=a.filter((e=>!o.find((t=>(0,n().yX)(t.filter)&&t.filter.property===e.property))));return s().Ul(d,(e=>{const o=t[e.property];return(null==o?void 0:o.name)||""}))}function x(e){const{property:t,schema:o,getRecordModel:n,spaceIdCreator:r,collectionSource:l}=e,a=o[t];if(a&&!(0,i().ah)(a,l))return;return{property:t,filter:(0,m().SN)({property:t,schema:o,getRecordModel:n,spaceIdCreator:r})}}function v(e){return{property:(0,r().ol)(e),filter:{operator:"string_contains",value:{type:"exact",value:void 0}}}}function C(e){const t=e.currentCombinatorFilterStore.state,o=e.currentPropertyFiltersStore.state.filter((e=>!b(e.id))).map((e=>e.filter)),n=[...(null==t?void 0:t.filters)||[],...o];return{...t,filters:n,operator:"and"}}function y(e,t){const o=e.currentCombinatorFilterStore.state,n=e.currentPropertyFiltersStore.state.filter((e=>e.id!==t.id)),r=[...(null==o?void 0:o.filters)||[],t.filter];return{combinatorFilter:{operator:"and",...o,filters:r},propertyFilters:n}}function A(e,t,o,n){let r=o.filter((e=>"is_group"===e.type)).map((t=>e.find((e=>e.name===t.value)))).filter(d().O9),i=o.filter((e=>"is_option"===e.type)).map((e=>t.find((t=>t.value===e.value)))).filter(d().O9);for(const l of e){const e=l.optionIds??[];if(r.some((e=>e.id===l.id)))i=i.filter((t=>!e.includes(t.id)));else if(e.length>0){const t=i.filter((t=>!e.includes(t.id)));t.length+e.length===i.length&&(i=t,r=[...r,l])}}if("is_option"===n.type){const o=t.find((e=>e.value===n.value));if(!o)return;const l=i.filter((e=>e.id!==o.id));if(l.length<i.length)i=l;else{const n=e.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(o.id)})),l=r.find((e=>e.id===(null==n?void 0:n.id)));if(l){const e=t.filter((e=>{var t;return(null===(t=l.optionIds)||void 0===t?void 0:t.includes(e.id))&&e.id!==o.id}));r=r.filter((e=>e.id!==l.id)),i=[...i,...e]}else{i=[...i,o];const e=(null==n?void 0:n.optionIds)??[];if(n&&e.length>0){const t=i.filter((t=>!e.includes(t.id)));t.length+e.length===i.length&&(i=t,r=[...r,n])}}}}else if("is_group"===n.type){const t=e.find((e=>e.name===n.value));if(!t)return;const o=r.filter((e=>e.id!==t.id));if(o.length<r.length)r=o;else{const e=t.optionIds??[];r=[...r,t],i=i.filter((t=>!e.includes(t.id)))}}else(0,d().HB)(n.type);return[...r.map((e=>({type:"is_group",value:e.name}))),...i.map((e=>({type:"is_option",value:e.value})))]}function S(e){const{group:t,options:o,filterValues:n}=e,r=n.some((e=>"is_group"===e.type&&e.value===t.name)),i=o.filter((e=>{var o;return null===(o=t.optionIds)||void 0===o?void 0:o.includes(e.id)})),l=new Map;for(const c of i){const e=n.some((e=>"is_option"===e.type&&e.value===c.value))||r;l.set(c.id,e)}const a=Array.from(l.values()),s=a.some((e=>e)),d=a.every((e=>e))&&a.length>0;return{groupCheckState:!(!r&&!d)||!!s&&"partial",optionCheckedInfo:l}}function F(e){var t,o;const{collectionStore:r,collectionContextStore:i,environment:s}=e,d=i.relativeVariableStore.state,c=i.currentPropertyFiltersStore.state,p=i.currentCombinatorFilterStore.state,m=c.filter((e=>!(0,n().t_)(e.filter))).map((e=>e.filter));if(0===m.length&&!p)return;const f=null==r?void 0:r.getModel(),x=null===(t=i.collectionViewStore())||void 0===t?void 0:t.getCollectionSource(),v=i.normalizedSchemaStore.state,C=null===(o=i.viewsModuleContextStore.currentPageStore())||void 0===o?void 0:o.id,y={schema:f&&x?(0,l().zC)(x.type,v,f):v,userId:s.currentUser.id,userTimeZone:(0,a().P)(),userStartOfWeek:u().XX.state,intl:g().A.getIntl(),relativeVariableResult:d,currentPageInRelatedCollection:C,collectionFeatureGates:(0,h().i)()};return{filter:{filters:p?[...m,p]:m,operator:"and"},propertyMapping:void 0,context:y}}function j(e,t,o){const{property:n}=t,i=e[n];if(!(i&&"rollup"===i.type&&i.relation_property&&i.target_property))return i;{const t=e[i.relation_property];if(t&&(0,r().nC)(t)){const e=(0,r().Nv)(t);if(e){const t=o.getRecordModel(e);if(!t)return;const n=t.getNormalizedSchema();if(n){const e=n[i.target_property];if(e&&"rollup"!==e.type)return e}}}}}function b(e){return function(e){return e===c().IZ||e===c().QW}(e)||e===p().O||e===p().j}function T(e){return e.currentPropertyFiltersStore.state.filter((e=>!(0,n().t_)(e.filter))).length+(e.currentCombinatorFilterStore.state&&e.permissionScopesStore.state.canConfigureBlock?1:0)}function M(e){var t;const o=e.currentCombinatorFilterStore.state;return(null==o||null===(t=o.filters)||void 0===t?void 0:t.length)||0}},862139:(e,t,o)=>{o.d(t,{_:()=>g});var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(69708),a=()=>o(698449),s=()=>o(765957),d=()=>o(760217),c=()=>o(173783),u=()=>o(678553),p=()=>o(187820),h=o(474848);function g(e){const t=(0,r().Y0)(),{group:o,menuListItemProps:g,spaceStore:m,iconSizeOverride:f}=e,x=(0,l().tz)(),v=(0,i().K8)((()=>{const e=m??s().AppStoreSidebarSpaceStore.state;if(e&&o.icon)return{pointer:{table:e.table,id:e.id},icon:o.icon}}),[o,m]),C=(0,n.useMemo)((()=>(0,a().Pf)({intl:x,groupName:o.name})),[o.name,x]),y=f||(t.isMobile?u().nd:u().pg);return(0,h.jsx)(d().A,{...g,icon:v?(0,h.jsx)(p().B6,{disabled:!0,size:y,icon:v,isEmptyPage:!1,title:C}):(0,h.jsx)(c().A,{size:y}),title:C})}},874177:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.25",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8.954 12.856a.718.718 0 0 1-1.079-.62V7.764c0-.554.6-.9 1.08-.62l3.833 2.236a.718.718 0 0 1 0 1.24z"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 0 15.25 0 7.625 7.625 0 0 0-15.25 0M10 16.375a6.375 6.375 0 1 1 0-12.75 6.375 6.375 0 0 1 0 12.75"})]})},i=(0,o(340498).wt)("arrowTriangleRightCircle",r)},974619:(e,t,o)=>{o.d(t,{A:()=>T,T:()=>M});o(944114),o(898992),o(354520),o(737550);var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(401497),a=()=>o(252291),s=()=>o(729108),d=()=>o(214388),c=()=>o(784892),u=()=>o(585930),p=()=>o(69708),h=()=>o(496603),g=()=>o(436696),m=()=>o(308631),f=()=>o(760217),x=()=>o(404277),v=()=>o(939740),C=()=>o(45552),y=()=>o(89924),A=()=>o(399762),S=()=>o(722872),F=()=>o(790515),j=()=>o(249947),b=o(474848);function T(e){const{propertyFilter:t,schema:o,filter:s,parentStore:c,updateValue:m,onClose:A,desktopTopActions:T,mobileMenuTitle:k,mobileMoreActions:w,collectionContextStore:I,context:P}=e,D=(0,r().v3)(),R=(0,r().Y0)(),[V,B]=(0,n.useState)([]),[_,O]=(0,n.useState)(!1),H=(0,i().K8)((()=>(0,F().YF)(o,t,c)),[o,t,c]),L=(0,l().IS)((e=>({checkboxIcon:{fill:e.icon.primary}})),[]),K=(0,i().K8)((()=>(0,d().gc)(s)?(0,d().V6)(s):[]),[s]),z=(0,i().K8)((()=>{if(!H||"status"!==H.type)return[];const e=H.options??[],t=null==I?void 0:I.collectionStoreResultsInViewOrder();return!_&&t?e.filter((e=>t.some((t=>{var o;return null===(o=e.collectionIds)||void 0===o?void 0:o.includes(t.id)})))):e}),[H,_,I]),E=(0,i().K8)((()=>{if(!H||"status"!==H.type)return[];const e=[],t=H.groups??[],o=H.options??[];for(const n of t){const t=(0,F().Ze)({group:n,options:o,filterValues:K});if("partial"!==t.groupCheckState)continue;const r=o.filter((e=>{var t;return null===(t=n.optionIds)||void 0===t?void 0:t.includes(e.id)})).filter((e=>t.optionCheckedInfo.get(e.id)));e.push(...r)}return e}),[H,K]),q=(0,i().K8)((()=>{if(!H||"status"!==H.type)return[];const e=H.options??[];return V?e.filter((e=>!V.some((t=>t.id===e.id)))):[]}),[H,V]);(0,n.useEffect)((()=>{B((()=>h().hS([...z,...V,...E],"id")))}),[z]);const N=(0,i().K8)((()=>H&&"status"===H.type?M({propertySchema:H,statusFilterValues:K,updateValue:m,isMobile:R.isMobile,styles:{checkboxIcon:L.checkboxIcon},visibleOptions:V,shouldShowHiddenSources:_,setShouldShowHiddenSources:O}):[]),[R.isMobile,H,L.checkboxIcon,m,V,_,O,K]);if(!H||"status"!==H.type)return null;const Y=(0,b.jsx)(y().A,{desktopStyle:{paddingBottom:P===j().mL.ConditionalColorRule?4:0},children:R.isMobile?void 0:T});let W;W=R.isMobile?{menuType:S().gu.Modal,title:k,left:w,right:(0,b.jsx)(C().DoneMenuText,{}),onClickRight:A,header:Y}:{menuType:S().gu.Popup,maxHeight:d().mi,width:(0,j().Ul)(P)?260:void 0,header:Y,disableHeaderBorder:!0,tokenInputHeader:!0};const G=(0,b.jsx)(v().Ay,{type:v().Oh.Vertical,initialFocus:0,sections:[{key:"groups",items:N,render:e=>(0,b.jsx)(y().A,{...e,title:"",style:{paddingTop:0}})}]}),U=q&&q.length>0&&!_?(0,b.jsx)(y().A,{topBorder:!0,children:(0,b.jsx)(f().A,{icon:(0,b.jsx)(a().I,{icon:u().a}),title:(0,b.jsx)(p().sA,{id:"collectionFilterValueMenu.statusFilterValueMenu.hiddenStatusOptionsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other status option} other {{numHiddenOptions} other status options}}",values:{numHiddenOptions:q.length}}),focused:!1,onClick:()=>{O(!0),I&&(0,g().X)({environment:D,collectionContextStore:I,action:"expand_property_filter",original_view_type:void 0,property_type:"status"})}})}):null,$=(0,b.jsx)(y().A,{topBorder:!0,children:(0,b.jsx)(f().A,{title:(0,b.jsx)(p().sA,{defaultMessage:"Clear selection",id:"database.filterValue.selectType.clearSelection.message"}),focused:!1,onClick:()=>{m([])}})});return(0,b.jsx)(x().A,{...W,children:(0,d().gc)(s)?(0,b.jsxs)(b.Fragment,{children:[G,U,$]}):void 0})}function M(e){const{propertySchema:t,statusFilterValues:o,updateValue:n,isMobile:r,styles:i,visibleOptions:l,shouldShowHiddenSources:a}=e,d=t.groups??[],u=t.options??[],p=[];for(const h of d){const e=()=>{const e=(0,F().fe)(d,u,o,{type:"is_group",value:h.name});e&&n(e)},t=(0,F().Ze)({group:h,options:u,filterValues:o}),g=u.filter((e=>{var t;return(null===(t=h.optionIds)||void 0===t?void 0:t.includes(e.id))&&(a||(null==l?void 0:l.some((t=>t.id===e.id))))})),x=[];for(const l of g){const e=()=>{const e=(0,F().fe)(d,u,o,{type:"is_option",value:l.value});e&&n(e)};x.push({key:`option-${l.id}`,action:e,render:o=>(0,b.jsx)(f().A,{...o,icon:(0,b.jsx)(s().S,{checked:t.optionCheckedInfo.get(l.id)??!1,size:14,onClick:e,style:i.checkboxIcon}),title:(0,b.jsx)(A().q,{format:r?c().NY.Large:c().NY.Medium,isSingle:!0,value:l.value,color:l.color,showRemoveButton:!1,groupColor:h.color}),style:{paddingInlineStart:16}})})}p.push({key:`group-${h.id}`,action:e,render:o=>(0,b.jsx)(f().A,{...o,icon:(0,b.jsx)(s().S,{checked:t.groupCheckState,size:14,onClick:e,style:i.checkboxIcon}),title:(0,b.jsx)(m().RS,{style:{fontWeight:500,marginTop:2},group:h,showIcon:!0,showColor:!0}),textWrapperStyle:{marginInlineStart:3}})},...x)}return p}},990736:(e,t,o)=>{o.d(t,{g:()=>u});o(296540);var n=()=>o(726637),r=()=>o(784892),i=()=>o(799829),l=()=>o(69708),a=()=>o(534177),s=()=>o(204358),d=()=>o(881690),c=o(474848);function u({value:e,tokenProps:t={},parentStore:o,relatedCollectionAppConfigUri:u,key:p}){if(!e.value)return null;const h={format:n().A.isMobile?r().NY.Large:r().NY.Small,isSingle:!1,...t},g=e.type;return"exact"===g?(0,c.jsx)(s().A,{blockId:e.value,parentStore:o,...h},p):"relative"===g?"current_page_in_related_collection"===e.value.type?(0,c.jsx)(d().A,{value:(0,c.jsx)(l().sA,{defaultMessage:"This page",id:"database.filterValue.pageContainingThisView"}),backgroundColor:"transparent",showTooltip:"overflow",...h},p):u&&"builtin"===e.value.type?(0,c.jsx)(d().A,{value:(0,c.jsx)(l().sA,{...null===(m=i().n$[u])||void 0===m||null===(m=m[e.value.variable])||void 0===m?void 0:m.messageDescriptor}),backgroundColor:"transparent",showTooltip:"overflow",...h},p):null:void(0,a().HB)(g);var m}}}]);