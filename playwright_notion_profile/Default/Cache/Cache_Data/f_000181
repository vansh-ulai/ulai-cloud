"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95103],{149257:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(296540),o=()=>a(69708),s=a(474848);const i=(0,o().YK)({message_placeholder:{id:"teamInviteLinkRequestPage.message.placeholder",defaultMessage:"Message (optional)"}});const r=function(e){const{teamStore:t,teamName:r,teamId:l,isModalOpen:d,onDismiss:c}=e,[u,m]=(0,n.useState)(""),p=(0,a(484714).v3)(),v=(0,o().tz)(),g=async()=>{await a(350648).Ip({environment:p,teamId:l,message:u}),c()},h=(0,a(401497).IS)((()=>({modal:{alignSelf:"center",overflow:"visible",padding:15,width:420},requestTitle:{display:"inline-flex",marginBottom:10},icon:{marginInlineStart:4,marginInlineEnd:4},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:15},requestInvitesButton:{marginInlineStart:20},input:{padding:8}})),[]);return(0,s.jsx)(a(676007).a,{open:d,onDismiss:c,innerStyle:h.modal,preventHideChildrenWhileOpening:!0,render:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:h.requestTitle,children:(0,s.jsx)(o().sA,{id:"teamInviteLinkRequestModal.reasonForRequest.title",defaultMessage:"Request access to {icon} {teamName}",values:{teamName:r,icon:(0,s.jsx)(a(898808).x,{style:h.icon,store:t,disabled:!0,size:22})}})}),(0,s.jsx)(a(623580).A,{textarea:!0,style:h.input,value:u,onChange:e=>{m(e.target.value)},placeholder:v.formatMessage(i.message_placeholder)}),(0,s.jsxs)("div",{style:h.footer,children:[(0,s.jsx)(a(125565).A,{isSecondaryColor:!0,isSmall:!0,isMultiline:!0,children:(0,s.jsx)(o().sA,{id:"teamInviteLinkRequestModal.caption",defaultMessage:"Your teamspace owners will approve or decline your request."})}),(0,s.jsx)(a(160432).A,{colorPalette:"blue",size:"lg",style:h.requestInvitesButton,onClick:g,children:(0,s.jsx)(o().sA,{id:"teamInviteLinkRequestModal.requestAccessButton.label",defaultMessage:"Request"})})]})]})})}},192940:(e,t,a)=>{a.d(t,{h:()=>s});var n=()=>a(56366),o=()=>a(37433);function s(e){return(0,n().K8)((()=>{var t;return void 0===e?0:(null===(t=(0,o().PF)({teamStore:e}))||void 0===t?void 0:t.totalMembersAndGuestsCount)??0}),[e])}},211825:(e,t,a)=>{a.d(t,{G:()=>i});var n=()=>a(484714),o=()=>a(56366),s=()=>a(486130);function i(e){const t=(0,n().v3)().currentUser.id;return(0,o().K8)((()=>Boolean(void 0!==t&&e.isNonGuestMember(t,s()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()})))),[t,e])}},235741:(e,t,a)=>{a.d(t,{P:()=>i});a(296540);var n=()=>a(69708),o=()=>a(534177),s=a(474848);function i(e){if(e.canArchive)return null;const t=e.reason;switch(t){case"isNotOwnerOfTeam":return(0,s.jsx)("div",{style:{whiteSpace:"normal"},children:(0,s.jsx)(n().sA,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.notOwner",defaultMessage:"Only teamspace owners can archive teamspaces"})});case"multipleUnarchivedTeams":return(0,s.jsx)("div",{style:{whiteSpace:"normal"},children:(0,s.jsx)(n().sA,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.multipleUnarchivedTeams",defaultMessage:"To archive, make another teamspace default or archive all other teamspaces"})});case"multipleWorkspaceMembers":case"invalidUserOrSpaceView":return(0,s.jsx)("div",{style:{whiteSpace:"normal"},children:(0,s.jsx)(n().sA,{id:"sidebar.outlinerTeamToggleButton.cannotArchiveTooltip.moreThanOneMember",defaultMessage:"To archive, there must only be one member in the workspace"})});default:(0,o().HB)(t)}}},341974:(e,t,a)=>{a.r(t),a.d(t,{TeamJoinLeaveButton:()=>T});var n=a(296540),o=()=>a(484714),s=()=>a(56366),i=()=>a(401497),r=()=>a(284371),l=()=>a(511393),d=()=>a(37433),c=()=>a(515512),u=()=>a(211825),m=()=>a(631524),p=()=>a(69708),v=a(474848);const g=function(e){const{teamStore:t,from:i,navigateToTeamHomeOnJoin:r,style:l,hoveredStyle:d,icon:c,isRed:u}=e,g=(0,o().v3)(),h=(0,s().O$)(a(765957).AppStoreSidebarSpaceStore),f=(0,n.useCallback)((async()=>{h&&await a(848237).e2({environment:g,teamStore:t,currentSpaceStore:h,from:i,andNavigateToTeamHome:r??!1})}),[h,g,t,i,r]);return(0,v.jsxs)(m().p,{style:l,hoveredStyle:d,onClick:f,colorPalette:u?"red":void 0,children:[c?c():void 0,(0,v.jsx)(p().sA,{id:"outlinerTeamToggleButton.joinTeamButton",defaultMessage:"Join"})]})};var h=()=>a(655784);const f=function(e){const{teamStore:t,style:o,hoveredStyle:i}=e,[r,l]=(0,n.useState)(!1),d=(0,s().K8)((()=>t.getName()),[t]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m().p,{style:o,hoveredStyle:i,onClick:()=>l(!0),children:(0,v.jsx)(p().sA,{id:"teamRequestButton.requestButton.label",defaultMessage:"Request"})}),(0,v.jsx)(a(149257).A,{teamStore:t,teamName:d,teamId:t.id,isModalOpen:r,onDismiss:()=>l(!1)})]})};function T(e){const{teamStore:t,style:a,hoveredStyle:n}=e,m=(0,o().v3)(),p=(0,c().Q)(),T=(0,u().G)(t),b=(0,s().K8)((()=>t.getTeamAccessLevel()),[t]),S=(0,i().IS)((e=>({joinTeamButton:{maxHeight:26,marginInlineStart:10,paddingInlineStart:10,paddingInlineEnd:10,borderRadius:100,fontSize:13,fontWeight:r().Wy.semibold,background:e.buttonHoveredBackground,alignSelf:"center",...a},joinTeamButtonHoveredStyle:{background:e.buttonPressedBackground,...n}})),[a,n]),w=(0,s().K8)((()=>(0,d().A2)({membership:t.getRawMembership()})&&(0,l().h)(m)),[m,t]),j=!T&&"open"===b||w,x=!T&&"closed"===b;return p?null:T?(0,v.jsx)(h().A,{...e,style:S.joinTeamButton,hoveredStyle:S.joinTeamButtonHoveredStyle}):j?(0,v.jsx)(g,{...e,style:S.joinTeamButton,hoveredStyle:S.joinTeamButtonHoveredStyle}):x?(0,v.jsx)(f,{teamStore:t,style:S.joinTeamButton,hoveredStyle:S.joinTeamButtonHoveredStyle}):null}},418426:(e,t,a)=>{a.d(t,{$:()=>l});a(898992),a(354520),a(581454);var n=()=>a(484714),o=()=>a(56366),s=()=>a(468006),i=()=>a(605402),r=()=>a(486130);function l(e){const t=(0,n().v3)().currentUser.id;return(0,o().K8)((()=>{if(!e.isDefined())return[];return(0,s().ri)({rawMembers:e.getRawMembership(),groupsInSpace:i().A.state.permissionGroupsAndMemberCounts.map((e=>e.group))}).filter((a=>r()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()}).has(a.getGroupId())))}),[t,e])}},515512:(e,t,a)=>{a.d(t,{Q:()=>l});var n=()=>a(484714),o=()=>a(56366),s=()=>a(272509),i=()=>a(950332),r=()=>a(765957);function l(){const e=function(){const e=(0,n().v3)();return(0,o().K8)((()=>{const t=r().default.state.sidebarSpaceStore;if(!t)return{loading:!0};if(!(0,s().I)(t))return{loading:!1,isUserTeamGuestOfSpace:!1};const a=r().default.state.sidebarSpaceViewStore;if(!a||!e.currentUser.id)return{loading:!0};const n=(0,i().v)({userId:e.currentUser.id,spaceViewStore:a});return n.isLoaded?{loading:!1,isUserTeamGuestOfSpace:n.isTeamGuestInSpace}:{loading:!0}}),[e])}();return(0,o().K8)((()=>e.loading||e.isUserTeamGuestOfSpace),[e])}},569047:(e,t,a)=>{a.r(t),a.d(t,{OutlinerTeamOverflow:()=>se,TeamOverflowMenu:()=>ie});a(898992),a(354520),a(581454);var n=a(296540),o=()=>a(484714),s=()=>a(792485),i=()=>a(56366),r=()=>a(401497),l=()=>a(718827),d=()=>a(252291),c=()=>a(934999),u=()=>a(26440),m=()=>a(764781),p=()=>a(126617),v=()=>a(212727),g=()=>a(35588),h=()=>a(97835),f=()=>a(835607),T=a(474848);const b={viewBox:"0 0 16 16",fittedViewBox:"2.89 1.85 12.97 14",svg:(0,T.jsx)("path",{d:"M12.875 9.374a.44.44 0 0 1 .297.035l.513.257c.522.26 1.098.396 1.682.396h.058c.243.001.44.198.44.44v2.313a2.77 2.77 0 0 1-1.68 2.548l-1.037.445a.44.44 0 0 1-.347 0l-1.035-.445a2.78 2.78 0 0 1-1.682-2.548v-2.312a.44.44 0 0 1 .441-.44h.059c.583 0 1.16-.136 1.681-.397l.513-.257zm1.237 1.964a.294.294 0 0 0-.402.1l-1.072 1.785-.588-.686a.294.294 0 0 0-.445.382l.854.995a.294.294 0 0 0 .474-.04l1.28-2.133a.294.294 0 0 0-.101-.403M8 9.254c.511 0 1.01.06 1.483.17-.27.262-.442.623-.456 1.025A5.5 5.5 0 0 0 8 10.354c-1.854 0-3.362.903-3.961 2.073-.073.143-.052.262.047.377a.8.8 0 0 0 .594.247h4.354q.037.573.232 1.1H4.68c-.557 0-1.09-.236-1.43-.632a1.405 1.405 0 0 1-.19-1.593C3.884 10.313 5.824 9.254 8 9.254M8 1.85c.925 0 1.674.382 2.18 1.012.494.617.73 1.436.73 2.291s-.236 1.674-.73 2.29c-.506.63-1.255 1.012-2.18 1.012-.924 0-1.673-.382-2.178-1.012-.495-.616-.73-1.435-.73-2.29s.235-1.674.73-2.29C6.327 2.232 7.076 1.85 8 1.85m0 1.1c-.595 0-1.027.234-1.32.6-.305.38-.489.939-.489 1.603 0 .665.184 1.223.488 1.602.294.366.726.6 1.322.6.595 0 1.026-.234 1.32-.6.304-.38.489-.937.49-1.602 0-.664-.186-1.223-.49-1.602-.294-.366-.725-.6-1.32-.6"})},S=(0,a(340498).wt)("personShieldSmall",b);var w=()=>a(617668),j=()=>a(979340),x=()=>a(468006),y=()=>a(69708),A=()=>a(534177),O=()=>a(12956),M=()=>a(10521),I=()=>a(946141),B=()=>a(575143),C=()=>a(452558),L=()=>a(406699),k=()=>a(404277),D=()=>a(89924),P=()=>a(859428),N=()=>a(986863),K=()=>a(38337),G=()=>a(722872),R=()=>a(37433),_=()=>a(632709),H=()=>a(765957),q=()=>a(463830),z=()=>a(205618),U=()=>a(486130),F=()=>a(475355),V=()=>a(848237);a(517642),a(658004),a(733853),a(845876),a(432475),a(515024),a(731698);function W({adminStatus:e,accessLevel:t,isArchivedTeam:a}){if("adminThatCanPerformPrivilegedActions"===e)return new Set(["join","joinAsOwner"]);if(a)switch(e){case"none":return new Set;case"admin":return new Set("open"===t?["join"]:[]);default:(0,A().HB)(e)}switch(t){case"open":return new Set(["join"]);case"closed":case"private":return new Set;default:(0,A().HB)(t)}}var J=()=>a(931956),E=()=>a(605685),$=()=>a(685781),Y=()=>a(233510),Q=()=>a(976519),X=()=>a(211825),Z=()=>a(418426),ee=()=>a(235741);const te=["join","view","add","duplicate","leave","archive","restore"],ae=["add"],ne=["join","joinAsOwner","upgradeSelfToOwner","leave"],oe=(0,y().YK)({add:{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel"},leave:{defaultMessage:"Leave teamspace",id:"sidebar.outlinerTeamToggleButton.leaveLabel"},joinAsOwner:{defaultMessage:"Join as owner",id:"sidebar.outlinerTeamToggleButton.joinAsOwnerLabel"},joinAsMember:{defaultMessage:"Join as member",id:"sidebar.outlinerTeamToggleButton.joinAsMemberLabel"},joinTeamspace:{defaultMessage:"Join teamspace",id:"sidebar.outlinerTeamToggleButton.joinLabel"},upgradeSelfToOwner:{defaultMessage:"Become owner",id:"sidebar.outlinerTeamToggleButton.upgradeSelfToOwnerLabel"},archive:{defaultMessage:"Archive teamspace",id:"sidebar.outlinerTeamToggleButton.archiveLabel"},restore:{defaultMessage:"Restore teamspace",id:"outlinerTeamOverflow.teamActions.restoreLabel"},duplicate:{defaultMessage:"Duplicate teamspace",id:"sidebar.outlinerTeamToggleButton.duplicateLabel"},teamspaceSettings:{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel"},viewMembers:{defaultMessage:"View members",id:"sidebar.outlinerTeamToggleButton.unjoinedMemberViewLabel"}});function se({teamStore:e,style:t,from:a,hideJoin:n,onPopupClick:s,onPopupClose:c}){const u=(0,o().Y0)(),m=(0,y().tz)(),v=(0,i().uB)(void 0,z().A),g=(0,i().O$)(H().AppStoreSidebarSpaceStore),h=(0,i().uB)(void 0,q().A),f=(0,r().IS)((e=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:4,height:20,width:20,...t}})),[t]),b=m.formatMessage({defaultMessage:"Teamspace settings and members...",id:"sidebar.outlinerTeamToggleButton.tooltip"});return g?u.isMobile?null:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(P().A,{textWrap:!1,renderTooltip:()=>b,placement:"bottom",render:t=>(0,T.jsx)(L().A,{popupType:L().z.Popup,buttonPopupStore:h,alignmentToOrigin:"start",originGap:2,renderOrigin:e=>(0,T.jsx)(l().Ay,{ariaLabel:b,className:K()._Oc,style:f.buttonStyle,...t,...e,children:(0,T.jsx)(d().I,{icon:p().ellipsisSmallIcon,size:"sm",colorVariant:"secondary"})}),render:t=>(0,T.jsx)(ie,{teamStore:e,permissionsInviteStore:v,onDismiss:t.close,from:a,hideJoin:n,buttonPopupStore:h}),onClick:s,onClose:c})}),(0,T.jsx)(N().u,{permissionsInviteStore:v,store:e})]}):null}function ie(e){const{teamStore:t,permissionsInviteStore:a,onDismiss:l,from:p,hideJoin:b,buttonPopupStore:L}=e,N=(0,r().DP)(),q=(0,o().v3)(),z=(0,r().IS)((()=>({menuItemButton:{minWidth:200},caption:{minWidth:230}})),[]),se=(0,i().O$)(H().AppStoreSidebarSpaceStore),ie=(0,X().G)(t),re=(0,i().K8)((()=>(0,x().Sh)({archived_by:t.getArchivedBy()})),[t]),le=q.currentUser.id,de=(0,i().K8)((()=>U()._.getSpacePermissionGroupIds({userId:le,spaceId:null==se?void 0:se.id})),[le,se]),ce=(0,i().K8)((()=>le?t.getTeamRoleForUser(le,de)??"none":"none"),[le,t,de]),ue=(0,i().K8)((()=>!(!t.isDefined()||!le)&&Boolean(t.isOwner(le))),[le,t]),me=(0,Q().q)(t.id),pe=(0,J().X)(t),{id:ve,name:ge,isDefault:he}=(0,i().K8)((()=>({id:t.id,name:t.getName(),isDefault:t.isDefault()})),[t]),fe=(0,E().c)(),Te=(0,i().K8)((()=>(0,R().sx)({environment:q,spaceStore:se})),[se,q]),be=(0,$().a)(p),Se=function(e){const{isDefault:t,accessLevel:a,settings:n}=(0,i().K8)((()=>({isDefault:e.isDefault(),accessLevel:e.getTeamAccessLevel(),settings:e.getSettings()})),[e]),o="private"===a,s=(0,Y().c)(),r=o&&!s?"business":void 0,l=(null==n?void 0:n.disable_public_access)||(null==n?void 0:n.disable_export)||(null==n?void 0:n.disable_guests),d=(0,Y().Z)(),c=l&&!d?"enterprise":void 0,u=(0,j().hW)([c,r]);if(t)return"isDefault";if(u)return u}(t),we="isDefault"===(je=Se)?(0,T.jsx)(y().sA,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateDefaultTeamspace",defaultMessage:"Cannot duplicate a default teamspace"}):"business"===je?(0,T.jsx)(y().sA,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateTeamspaceWithBusinessFeaturesOnDowngradedAccount",defaultMessage:"Cannot duplicate a teamspace with settings only allowed on Business plans or above"}):"enterprise"===je?(0,T.jsx)(y().sA,{id:"sidebar.outlinerTeamToggleButton.cannotDuplicateTeamspaceWithEnterpriseFeaturesOnDowngradedAccount",defaultMessage:"Cannot duplicate a teamspace with settings only allowed on Enterprise plans or above"}):void 0===je?void 0:(0,A().HB)(je);var je;const xe=(0,i().K8)((()=>t.getTeamAccessLevel()),[t]),ye=(0,Z().$)(t),Ae=(0,n.useCallback)((e=>{I().ks(q,{store:t,from:p,option:e})}),[q,t,p]),Oe=me&&!fe.canArchive,Me=(0,i().K8)((()=>Boolean(null==se?void 0:se.canAdmin())),[se]),{joinLeaveOptionsToShow:Ie,leaveOptionDisabledState:Be}=function({teamRole:e,adminStatus:t,isDefaultTeam:a,accessLevel:n,isArchivedTeam:o}){switch(e){case"owner":case"member":const s=new Set,i=!o;return i&&s.add("leave"),"owner"!==e&&"adminThatCanPerformPrivilegedActions"===t&&s.add("upgradeSelfToOwner"),{joinLeaveOptionsToShow:s,leaveOptionDisabledState:i&&a?{disabled:!0,disabledReasonKey:"defaultTeam"}:void 0};case"team_level_guest":return{joinLeaveOptionsToShow:new Set,leaveOptionDisabledState:void 0};case"none":return{joinLeaveOptionsToShow:W({adminStatus:t,accessLevel:n,isArchivedTeam:o}),leaveOptionDisabledState:void 0};default:(0,A().HB)(e)}}({teamRole:ce,adminStatus:be?"adminThatCanPerformPrivilegedActions":Me?"admin":"none",isArchivedTeam:re,isDefaultTeam:he,accessLevel:xe}),Ce=Ie.has("joinAsOwner"),Le=be&&!(1===Ie.size&&Ie.has("leave")),ke=(0,i().K8)((()=>(0,R().mN)(t)),[t]),De={add:{type:"action",show:!re&&pe,handle:()=>{a.update((e=>({...e,modalOpen:!0})))},title:oe.add,icon:(0,T.jsx)(d().I,{icon:h().inviteMemberIcon})},leave:{type:"action",...Le&&{colorOverride:N.red.text.accentPrimary},show:Ie.has("leave"),handle:()=>{V().JC({environment:q,teamStore:t,from:p,userGroupsInTeam:ye})},title:oe.leave,disabled:Boolean(null==Be?void 0:Be.disabled),icon:(0,T.jsx)(d().I,{icon:g()._}),disabledTooltipText:"defaultTeam"===(null==Be?void 0:Be.disabledReasonKey)&&(0,T.jsx)(y().sA,{id:"sidebar.outlinerTeamToggleButton.cannotLeaveDefaulTeamTooltip",defaultMessage:"Cannot leave a default teamspace"})},join:{type:"action",show:!b&&Ie.has("join"),handle:async()=>{if(se)switch(xe){case"open":await V().e2({environment:q,teamStore:t,currentSpaceStore:se,from:p,andNavigateToTeamHome:!1});break;case"closed":case"private":await V().z9({environment:q,teamStore:t,currentSpaceStore:se,from:p,action:"joinClosedOrPrivateTeamAsMember"});break;default:(0,A().HB)(xe)}},title:Ce?oe.joinAsMember:oe.joinTeamspace,icon:(0,T.jsx)(d().I,{icon:w().plusIcon,colorVariant:"secondary"})},joinAsOwner:{type:"action",show:Ce,handle:()=>V().z9({environment:q,teamStore:t,currentSpaceStore:se,from:p,action:"joinTeamAsOwner"}),title:oe.joinAsOwner,icon:(0,T.jsx)(d().I,{icon:S,size:"sm"})},upgradeSelfToOwner:{type:"action",show:Ie.has("upgradeSelfToOwner"),handle:()=>V().z9({environment:q,teamStore:t,currentSpaceStore:se,from:p,action:"upgradeToOwner"}),title:oe.upgradeSelfToOwner,icon:(0,T.jsx)(d().I,{icon:S,size:"sm"})},archive:{type:"action",show:!re&&ue,colorOverride:N.red.text.accentPrimary,handle:async()=>{Oe||await V().mm({teamStore:t,environment:q,from:p})},title:oe.archive,disabled:Oe,disabledTooltipText:(0,ee().P)(fe),icon:(0,T.jsx)(d().I,{icon:c().B})},restore:{type:"action",show:re,handle:async()=>{ue&&ke&&await V().Q8({environment:q,teamStore:t,teamName:ge,from:p})},title:oe.restore,icon:(0,T.jsx)(d().I,{icon:u().w}),disabled:!ke||!ue,disabledTooltipText:ke?(0,T.jsx)(y().sA,{id:"outlinerTeamOverflow.restoreArchivedTeam.disabledTooltipText.notOwner",defaultMessage:"Only teamspace owners can restore archived teamspaces."}):(0,T.jsx)(y().sA,{id:"outlinerTeamOverflow.restoreArchivedTeam.disabledTooltipText.noDefaultTeam",defaultMessage:"You must have an active default teamspace to restore this {accessLevel} teamspace.",values:{accessLevel:xe}})},duplicate:{type:"action",show:!re&&Te,handle:()=>{F().hX({environment:q,teamStore:t,from:p,buttonPopupStore:L})},title:oe.duplicate,disabled:void 0!==Se,icon:(0,T.jsx)(d().I,{icon:m().V}),disabledTooltipText:we,caption:(0,T.jsx)(y().sA,{id:"sidebar.outlinerTeamToggleButton.duplicateCaption",defaultMessage:"Duplicates permissions and other settings but not pages and members"})},view:{type:"action",show:!re,handle:()=>V().F2({environment:q,teamId:ve,tab:_().p.Members,from:p}),title:ie&&!re?oe.teamspaceSettings:oe.viewMembers,icon:ie?(0,T.jsx)(d().I,{icon:v().gearIcon}):(0,T.jsx)(d().I,{icon:f().F})}},Pe=(Le?[{sectionName:"join/leave section",orderedOptions:ne},{sectionName:"other actions",orderedOptions:te.filter((e=>!ne.includes(e)))}]:[{sectionName:"add section",orderedOptions:ae},{sectionName:"other actions section",orderedOptions:te.filter((e=>!ae.includes(e)))}]).map((e=>{const t=e.orderedOptions.filter((e=>De[e].show));if(0!==t.length)return{sectionName:e.sectionName,filteredOptions:t}})).filter(A().O9).map((e=>{const t=e.filteredOptions.map((e=>{const t=De[e],{type:a}=t;return"action"===a?(0,M().Ls)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,validators:[],closeParentMenu:!0,action:()=>{l(),Ae(e),t.handle()},render:e=>(0,T.jsx)(P().A,{placement:"left",textWrap:!1,disableTooltip:!(t.disabled&&t.disabledTooltipText),renderTooltip:()=>t.disabledTooltipText,render:a=>(0,T.jsx)(B().A,{...e,...a,svg:()=>t.icon,title:(0,T.jsx)(y().sA,{...t.title}),buttonStyle:{...z.menuItemButton,...!t.disabled&&t.colorOverride?{fill:t.colorOverride,color:t.colorOverride}:{fill:N.icon.primary,color:N.text.primary}},disabled:t.disabled,disabledFeedback:t.disabled,caption:t.caption,captionStyle:z.caption,shouldWrapCaption:!0})})}):"extensionAction"===a?(0,O().u)({key:e,displayName:t.title,analyticsName:t.title.defaultMessage,svg:()=>t.icon,width:250,validators:[],subActions:()=>t.subActionSections.map((t=>({...t,actions:t.actions.map((t=>({...t,action:a=>{l(),Ae(e),t.action(a)}})))})))}):void(0,A().HB)(a)}));return(0,M().gy)({key:e.sectionName,render:e=>(0,T.jsx)(D().A,{...e}),actions:t})})),Ne=(0,s().S)();return(0,T.jsx)(k().A,{className:K()._En,menuType:G().gu.Popup,minWidth:"100%",children:(0,T.jsx)(C().A,{context:{blocks:[],environment:q,publicEditMode:void 0,pageContext:Ne},sections:Pe,initialFocus:void 0})})}},605685:(e,t,a)=>{a.d(t,{c:()=>d});a(898992),a(354520),a(581454);var n=()=>a(484714),o=()=>a(56366),s=()=>a(433847),i=()=>a(534177),r=()=>a(240865),l=()=>a(765957);function d(){const e=(0,n().v3)().currentUser.id,t=(0,o().O$)(l().AppStoreSidebarSpaceViewStore),a=(0,r().V)()??1;return(0,o().K8)((()=>e&&null!=t&&t.isDefined()?(0,s().z8)({userId:e,teamsThatUserIsANonGuestMemberOf:t.getNonGuestTeamsStores().map((e=>e.getModel())).filter(i().O9),spaceMembersCount:a}):{canArchive:!1,reason:"invalidUserOrSpaceView"}),[e,t,a])}},655784:(e,t,a)=>{a.d(t,{A:()=>u,v:()=>c});a(581454);var n=a(296540),o=()=>a(484714),s=()=>a(56366),i=()=>a(69708),r=()=>a(496603),l=()=>a(418426),d=a(474848);function c({teamStore:e}){const t=(0,o().v3)().currentUser.id,a=(0,s().K8)((()=>e.isDefault()),[e]),n=(0,l().$)(e);return function({isDefaultTeam:e,isOnlyTeamOwner:t,userGroupsInTeam:a}){if(e)return(0,d.jsx)(i().sA,{id:"teamBrowser.teamCard.leaveTeam.defaultTeamTooltip",defaultMessage:"You can’t leave this teamspace because everyone in the workspace must be a member"});if(t)return(0,d.jsx)(i().sA,{id:"teamJoinLeaveButton.leaveTeam.onlyOwnerTooltip",defaultMessage:"Invite another teamspace owner to leave this teamspace"});if(a.length>0)return(0,d.jsx)(i().sA,{id:"teamBrowser.teamCard.leaveTeam.groupTooltip",defaultMessage:"{groupNames, plural, one {You can’t leave this teamspace because you’re a member of multiple groups, {groupNames}.} other {You can’t leave this teamspace because you’re a member of the group, {groupNames}.}}",values:{groupNames:r().oE(a.map((e=>e.name))).join()}})}({isDefaultTeam:a,isOnlyTeamOwner:(0,s().K8)((()=>{if(!e.isReady())return!1;const{ownerUserIds:a,ownerGroupIds:n}=e.getAllOwnerIds();return Boolean(t&&e.isOwner(t)&&a.length+n.length===1)}),[e,t]),userGroupsInTeam:n})}const u=function(e){const{teamStore:t,from:r,onLeavingTeam:u,style:m,hoveredStyle:p,icon:v,isRed:g,placement:h,alignment:f,buttonInternals:T}=e,b=(0,o().v3)(),S=(0,s().O$)(a(765957).AppStoreSidebarSpaceStore),w=(0,l().$)(t),j=(0,n.useCallback)((async()=>{if(!S)return;await a(848237).JC({environment:b,teamStore:t,from:r,userGroupsInTeam:w})&&(null==u||u())}),[S,b,t,r,w,u]),x=(0,d.jsx)(i().sA,{id:"teamJoinLeaveButton.leaveTeam.enabledTooltip",defaultMessage:"Click to leave teamspace"}),y=c({teamStore:t}),A=Boolean(y),O=A?y:x;return(0,d.jsx)(a(859428).A,{style:A?{width:240}:void 0,disableTooltip:!Boolean(O),renderTooltip:e=>(0,d.jsx)("div",{...e,children:O}),textWrap:A,placement:h,alignment:f,render:e=>(0,d.jsxs)(a(631524).p,{...e,style:m,hoveredStyle:p,onClick:j,disabled:A,disabledFeedback:A,colorPalette:g?"red":void 0,children:[v?v():void 0,T||(0,d.jsxs)(d.Fragment,{children:[(0,a(73956).checkmarkFillSmallIcon)({width:a(340498).Ev.sm,marginInlineEnd:2}),(0,d.jsx)(i().sA,{id:"teamBrowser.teamCard.button.joined",defaultMessage:"Joined"})]})]})})}},931956:(e,t,a)=>{a.d(t,{X:()=>l});var n=()=>a(56366),o=()=>a(534177),s=()=>a(10984),i=()=>a(211825),r=()=>a(43450);function l(e){const t=(0,r().R)(e),a=(0,i().G)(e);return(0,n().K8)((()=>{if(!(0,s().El)())return!1;const n=e.getSetting("invite_access");switch(n){case void 0:return!1;case"team_members":return a;case"team_owners":return t;default:(0,o().HB)(n)}}),[e,t,a])}},934999:(e,t,a)=>{a.d(t,{B:()=>s});a(296540);var n=a(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.76",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"}),(0,n.jsx)("path",{d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v7.43c0 .898-.727 1.625-1.625 1.625h-8.5a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm11.5 3.195h-9.25v7.305c0 .207.168.375.375.375h8.5a.375.375 0 0 0 .375-.375zm1-1.625V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375"})]})},s=(0,a(340498).wt)("archiveBox",o)},986863:(e,t,a)=>{a.d(t,{u:()=>s});var n=()=>a(645873);const o=new(n().O2)("teamPermissionsInviteWithModal",(async()=>await Promise.all([a.e(75134),a.e(99223),a.e(9304),a.e(9773),a.e(36556),a.e(40537),a.e(55373),a.e(36192),a.e(71562),a.e(96346),a.e(44711),a.e(53321),a.e(90825),a.e(16471),a.e(37353),a.e(29151),a.e(87248),a.e(62475),a.e(3151),a.e(98629),a.e(58550),a.e(67539),a.e(42838),a.e(22900),a.e(27634),a.e(85128),a.e(49889),a.e(20108),a.e(95555),a.e(87249),a.e(71621),a.e(92845),a.e(56369),a.e(2411),a.e(89296),a.e(46414),a.e(9294),a.e(11676),a.e(91256),a.e(40563),a.e(67494),a.e(44584),a.e(53141),a.e(4422),a.e(4330),a.e(55162),a.e(71003),a.e(55753),a.e(28866),a.e(22001),a.e(71386),a.e(4351),a.e(6331),a.e(69144),a.e(42660),a.e(55997),a.e(40828),a.e(12341),a.e(96402),a.e(84166),a.e(70359),a.e(29595),a.e(16448),a.e(10442),a.e(16434),a.e(45769),a.e(46080),a.e(75902),a.e(99809),a.e(58636),a.e(78405),a.e(33675),a.e(74562),a.e(47160),a.e(37384),a.e(91598),a.e(48046),a.e(94562),a.e(13955),a.e(42056),a.e(3165),a.e(76677),a.e(31842),a.e(43223),a.e(45147),a.e(15517),a.e(94995),a.e(98339),a.e(55639),a.e(1966),a.e(35738),a.e(6642),a.e(55776),a.e(51444),a.e(21727),a.e(58209),a.e(13297),a.e(4802),a.e(65197),a.e(81768),a.e(94300),a.e(62032),a.e(72122),a.e(32487),a.e(28058),a.e(90638),a.e(75422),a.e(97859),a.e(50856),a.e(65014),a.e(49175),a.e(36359),a.e(2752),a.e(11571),a.e(92924),a.e(42525),a.e(25204),a.e(52273),a.e(52986),a.e(45732),a.e(46817),a.e(70442),a.e(28656),a.e(37160),a.e(30443),a.e(9426),a.e(76690),a.e(63248),a.e(39457),a.e(21912),a.e(80668),a.e(12507),a.e(6626),a.e(26497),a.e(61016),a.e(91629),a.e(61858),a.e(63053),a.e(34399),a.e(89379),a.e(34974),a.e(75332),a.e(95103),a.e(75681)]).then(a.bind(a,487443)))),s=(0,n()._h)(o,(e=>e.TeamPermissionsInviteWithModal))}}]);