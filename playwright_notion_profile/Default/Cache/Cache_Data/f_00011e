"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28866],{35394:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().Store{constructor(e={}){super();const t={...this.getInitialState()};e.initialDateRange&&(t.temporaryDateRange=e.initialDateRange),e.shouldAlsoUpdateSearchStore&&(t.shouldAlsoUpdateSearchStore=e.shouldAlsoUpdateSearchStore),this.setState(t)}getInitialState(){return{isOpen:!1,focus:"starting",temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,dateFilterType:"lastEditedTime",shouldAlsoUpdateSearchStore:!1}}getFocus(){return this.state.focus}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const o=i},44935:(e,t,n)=>{n.d(t,{H:()=>h,i:()=>m});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454);var i=n(296540),o=n(440961),a=()=>n(507707),r=()=>n(624919),s=()=>n(587682),l=()=>n(56366),u=()=>n(998531),d=()=>n(496603),c=()=>n(745875),p=n(474848);const g=i.createContext(void 0);g.displayName="DynamicMenuContext";const v={Up:{x:0,y:-1},Down:{x:0,y:1},Left:{x:-1,y:0},Right:{x:1,y:0}},f=n(757695).Store.createValue(void 0);function m(e){const t=e.debug,n=(0,i.useRef)(void 0),o=(0,i.useRef)(new Set),r=(0,l().uB)(f),d=(0,i.useCallback)((()=>Array.from(o.current)),[]),c=(0,i.useCallback)((()=>d().map((e=>({entry:e,element:e.getDomElement()}))).filter((({element:e})=>void 0!==e)).sort(((e,t)=>(0,a().A)(e.element,t.element))).map((({entry:e})=>e))),[d]),m=(0,i.useCallback)((e=>{o.current.add(e)}),[]),y=(0,i.useCallback)(((e,t)=>{e&&!o.current.has(e)||e!==r.state&&(e&&e.disabled||(r.setState(e),n.current=t))}),[r]),h=(0,i.useCallback)((e=>{const t=r.state,n=c(),i=t?n.indexOf(t):-1,o=e>0?n.length:-1;for(let a=i+e;e>0?a<o:a>o;a+=e){const e=n[a];if(e&&!e.disabled)return e}}),[r,c]),x=(0,i.useCallback)(((e,t)=>{const n=h(e);if(n)return null==t||t.preventDefault(),y(n,void 0),n}),[h,y]),D=(0,i.useCallback)(((e,i)=>{const o=r.state,a=n.current,l=d().filter((e=>!e.disabled));if(0===l.length)return;i&&i.preventDefault&&i.preventDefault();const u=o&&o.getRect();if(!u){const t=e.x*e.y>0?1:-1;return x(t,void 0)||x(1,void 0)}const c=l.map((e=>({entry:e,rect:e.getRect()}))).filter((e=>void 0!==e.rect&&e.entry!==o));let p;if(0===e.x&&void 0!==a&&a.left>u.left){const n=u.top-a.top,i=new(s().z8)(a.left,a.top+n,a.width,u.height);i.height=u.height,b("maxLeftRect",i,"orange",t),p=S(i,e,c,t),p&&b("found from maxLeft",p.rect,"yellow",t)}p||(p=S(u,e,c,t),p&&b("found from originRect",p.rect,"yellow",t));const g=0!==e.x||void 0===a;if(p){const e=p.rect;return y(p.entry,g?e:a),p.entry}g&&(n.current=u)}),[t,r,d,y,x]),k=(0,i.useCallback)((e=>{const t=r.state;if(o.current.delete(e),e===t){if(D({x:-1,y:-1},void 0))return;y(void 0,void 0)}}),[r,y,D]),C=(0,i.useCallback)((e=>{const t=r.state;t&&t.onAction(e,void 0)}),[r]),A=(0,i.useCallback)((()=>{var t;r.state?y(void 0,void 0):(t=e.onClose)&&t()}),[r,y,e.onClose]),w=(0,i.useCallback)((()=>{y(void 0,void 0)}),[y]),M=(0,i.useCallback)((e=>D(v.Up,e)),[D]),R=(0,i.useCallback)((e=>D(v.Right,e)),[D]),j=(0,i.useCallback)((e=>D(v.Down,e)),[D]),F=(0,i.useCallback)((e=>D(v.Left,e)),[D]),T=(0,i.useCallback)((e=>x(1,e)),[x]),B=(0,i.useCallback)((e=>x(-1,e)),[x]),I=(0,i.useMemo)((()=>({registerEntry:m,unregisterEntry:k,onFocusEvent:y,focusedEntryStore:r})),[m,k,y,r]);return(0,p.jsx)(u().N,{debugName:"DynamicMenu",capture:!e.disableKeyboard,onUp:M,onDown:j,onLeft:F,onRight:R,onEnter:C,onCommandEnter:C,onEsc:A,onTab:T,onUntab:B,children:(0,p.jsx)("div",{onMouseLeave:w,children:(0,p.jsx)(g.Provider,{value:I,children:e.children})})})}function y(e){const{action:t,render:n,dynamicMenuContext:a}=e,r=(0,i.useRef)(null);(0,i.useEffect)((()=>{const t=e.dynamicMenuContext,n=m.current;if(t)return t.registerEntry(n),()=>{t.unregisterEntry(n)}}),[]);const s=(0,i.useCallback)((e=>{a&&a.onFocusEvent(m.current,e)}),[a]),u=(0,i.useCallback)((e=>{t(e,a)}),[t,a]),d=(0,i.useCallback)((e=>{if(!e)return void(r.current=null);if(e instanceof Element)return void(r.current=e);const t=o.findDOMNode(e);t instanceof Element?r.current=t:r.current=null}),[]),c=(0,i.useCallback)((()=>r.current||void 0),[]),g=(0,i.useCallback)((()=>{if(r.current)return r.current.getBoundingClientRect()}),[]),v=Boolean(e.disabled),f=(0,i.useCallback)((e=>{t(e,a)}),[t,a]),m=(0,i.useRef)({getDomElement:c,getRect:g,disabled:v,onAction:f}),y=(0,l().K8)((()=>!!a&&a.focusedEntryStore.state===m.current),[a]);return(0,p.jsx)(p.Fragment,{children:n({onMouseEnter:s,onClick:u,ref:d,focused:y,disabled:v},e.dynamicMenuContext)})}function h(e){const t=(0,i.useContext)(g);return(0,p.jsx)(y,{...e,dynamicMenuContext:t})}function S(e,t,n,i){const o=(0,s().GL)(e),a=[o.top,o.left];let r=(0,s().fT)(e,-5);t.x>0&&(r=new(s().z8)(o.left,r.top,1/0,r.height)),t.x<0&&(r=new(s().z8)(0,r.top,o.right,r.height)),t.y>0&&(r=new(s().z8)(r.left,o.top,r.width,1/0)),t.y<0&&(r=new(s().z8)(r.left,0,r.width,o.bottom)),i&&b("search space",r,"magenta");const l=n.filter((e=>(0,s().HY)(r,e.rect))),u=d().Ul(l.map((e=>{const t=(0,s().GL)(e.rect);return{entry:e,distance:c().Io(a,[t.top,t.left])}})),(e=>e.distance))[0];if(u)return u.entry}function b(e,t,n="magenta",i){i&&async function(e,t,n="magenta"){await(0,r().Iz)(t,e,n)}(e,t,n)}},117586:(e,t,n)=>{n.d(t,{Ay:()=>r,dz:()=>o,xQ:()=>i});let i=function(e){return e.StartDate="startDate",e.StartTime="startTime",e.EndDate="endDate",e.EndTime="endTime",e}({}),o=function(e){return e.InvalidDate="Invalid date",e.InvalidTime="Invalid time",e.InvalidRange="Invalid range",e}({});class a extends(()=>n(757695))().Store{getInitialState(){return{focus:i.StartDate,inputIsFocused:!1,inputTemporaryValue:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0},error:{startDate:void 0,startTime:void 0,endDate:void 0,endTime:void 0}}}}const r=a},141025:(e,t,n)=>{n.d(t,{Ah:()=>a,Ay:()=>s,yL:()=>o});var i=()=>n(117586);const o={[i().xQ.StartDate]:"starting",[i().xQ.StartTime]:"starting",[i().xQ.EndDate]:"ending",[i().xQ.EndTime]:"ending"},a={starting:i().xQ.StartDate,ending:i().xQ.EndDate};class r extends(()=>n(757695))().Store{getInitialState(){return{isOpen:!1,focus:i().xQ.StartDate,temporaryDateRange:{starting:void 0,ending:void 0},displayMonth:void 0,hovered:void 0,showTime:!1}}getFocus(){return this.state.focus}toggleShowTime(){this.setState({...this.state,showTime:!this.state.showTime})}clearTemporaryDateRange(){this.setState({...this.state,temporaryDateRange:{starting:void 0,ending:void 0}})}}const s=r},272630:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var i=()=>n(726637),o=()=>n(401497),a=n(474848);const r=function({title:e,disabled:t,innerStyle:r,placeholder:s,onClick:l,disableMargins:u,desktopStyle:d}){const c=(0,o().DP)(),p=Boolean(e),g=(0,o().IS)((()=>({title:{display:"flex",alignItems:"center",...i().A.isMobile&&{marginInlineStart:32},...r}})),[r]);if(i().A.isMobile)return(0,a.jsx)(n(760217).A,{showExtensionArrow:!t,focused:!1,title:p?(0,a.jsx)("div",{style:g.title,children:e}):(0,a.jsx)("div",{style:{...g.title,color:n(100622).Tj.uiGray},children:s}),onClick:l});{const i="dark"===c.mode?c.text.tertiary:c.text.secondary;return(0,a.jsx)(n(44935).H,{action:()=>function(e){e&&e()}(l),disabled:t,render:o=>(0,a.jsxs)(n(406094).A,{...o,hovered:o.focused,size:"lg",hasSolidBackground:!0,style:{marginInlineEnd:8,maxWidth:180,padding:"0 8px",...o.disabled&&{opacity:.5},...u&&{marginInlineEnd:0,maxWidth:"100%",justifyContent:"space-between"},...d},children:[(0,a.jsx)("div",{style:{display:"flex",minWidth:0,color:p?c.text.primary:i,...r},children:p?e:s}),t?void 0:(0,n(668725).b)({width:10,marginInlineStart:6,fill:c.icon.tertiary})]})})}}},427711:(e,t,n)=>{n.d(t,{A:()=>j});n(898992),n(354520);var i=n(296540),o=()=>n(484714),a=()=>n(56366),r=()=>n(401497),s=()=>n(214388),l=()=>n(604995),u=()=>n(416504),d=()=>n(69708),c=()=>n(534177),p=()=>n(180252),g=()=>n(972435),v=()=>n(722872),f=()=>n(780865),m=()=>n(513488),y=()=>n(35394),h=()=>n(678553),S=()=>n(45552),b=()=>n(89924),x=()=>n(125565),D=()=>n(712677),k=()=>n(986431),C=()=>n(539320),A=()=>n(903400),w=n(474848);const M={pickerSectionMobile:{paddingTop:16,paddingBottom:8}},R=(0,d().YK)({startingMessage:{defaultMessage:"Starting",id:"search.dateRangeMenu.startingMessage"},endingMessage:{defaultMessage:"Ending",id:"search.dateRangeMenu.endingMessage"}});const j=function({disableMenuWrap:e,hideDateInputMenuItems:t,value:i,relativeRangePopupStore:r,onUpdateRelativeFilter:s,disabled:l,allowRelativeRangeFilter:u,onUpdate:c,onDismiss:p,title:g,store:v,maxDate:f,minDate:m}){const h=(0,o().v3)(),S=(0,d().tz)(),b=(0,a().uB)(v,y().A),{device:x}=h;return e?(0,w.jsxs)(w.Fragment,{children:[t?void 0:(0,w.jsx)(U,{value:i,relativeRangePopupStore:r,onUpdateRelativeFilter:s,disabled:l,allowRelativeRangeFilter:u,intl:S,onUpdate:c,onDismiss:p,store:b}),(0,w.jsx)(E,{value:i,onUpdate:c,store:b,maxDate:f,minDate:m})]}):(0,w.jsxs)(n(404277).A,{...O(h,g,i,S,c,b,p,r,s,l,u),children:[x.isMobile||t?void 0:(0,w.jsx)(U,{value:i,relativeRangePopupStore:r,onUpdateRelativeFilter:s,disabled:l,allowRelativeRangeFilter:u,intl:S,onUpdate:c,onDismiss:p,store:b}),(0,w.jsx)(E,{value:i,onUpdate:c,store:b,maxDate:f,minDate:m})]})};function F(e){return{type:"date",start_date:l().hp(Date.now(),l().Lm(),e).toFormat(l().tr)}}function T(e){return"custom"===e.value?function(e,t,n){const i=(0,s().k0)(e,t,n,(0,u().P)());switch(e){case"past":return{starting:l().lN(i),ending:l().Ec((0,u().P)())};case"future":return{starting:l().Ec((0,u().P)()),ending:l().lN(i)};default:(0,c().HB)(e)}}(e.direction,e.count,e.unit):"surrounding"===e.value?function(e){const{start:t,end:n}=(0,s().yM)(e,(0,u().P)(),p().XX.state);return{starting:l().lN(t),ending:l().lN(n)}}(e.unit):function(e){switch(e.value){case"this_week":return{starting:(t=(0,u().P)(),{type:"date",start_date:l().iB(Date.now(),l().Lm(),t).toFormat(l().tr)}),ending:F((0,u().P)())};case"the_past_month":return{starting:l().ZG((0,u().P)()),ending:l().Ec((0,u().P)())};case"the_past_week":return{starting:l().t0((0,u().P)()),ending:l().Ec((0,u().P)())};case"the_past_year":return{starting:l().Yz((0,u().P)()),ending:l().Ec((0,u().P)())};case"the_next_month":return{starting:l().Ec((0,u().P)()),ending:l().wc((0,u().P)())};case"the_next_week":return{starting:l().Ec((0,u().P)()),ending:l().En((0,u().P)())};case"the_next_year":return{starting:l().Ec((0,u().P)()),ending:l().le((0,u().P)())};default:(0,c().HB)(e)}var t}(e)}function B({events:e,onUpdateFilter:t,filter:n}){const i=(0,o().v3)();return(0,w.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexWrap:i.device.isMobile?"wrap":void 0,padding:"0px 12px"},children:(0,w.jsx)(A().i,{onUpdate:t,filter:n})})}function I(e,t,n){if("type"in n)return{value:{starting:void 0,ending:void 0}};if(t.error)return t;const i=t.value&&"date"!==t.value.type?l().fN(t.value):t.value;return function(e){if(e.starting&&e.ending){const t=l().C6.notionDateToLuxon(e.starting);return l().C6.notionDateToLuxon(e.ending)>=t?{value:e}:{error:m().$.INVALID_RANGE}}return{value:e}}({...n,[e]:i})}function E({value:e,onUpdate:t,store:n,maxDate:i,minDate:s}){const l=(0,r().DP)(),u=(0,o().v3)(),c=(0,a().uB)(n,y().A),{device:p}=u,g=function(e){return{pickerSectionMobile:{background:e.popoverBackground,boxShadow:`0 1px 0 ${e.regularDividerColor}`,marginBottom:1}}}(l),v={paddingInlineStart:8,paddingInlineEnd:8,paddingBottom:8,paddingTop:4,...p.isMobile&&M.pickerSectionMobile,...p.isMobile&&g.pickerSectionMobile},f=(0,a().K8)((()=>"type"in e?T(e):e),[e]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b().A,{disableMobilePadding:!0,disableMobileBorders:!0,children:(0,w.jsx)("div",{style:v,children:(0,w.jsx)(C().A,{value:f,store:c,onUpdate:t,validate:(t,n)=>I(t,n,e),readonly:"type"in e,maxDate:i,minDate:s})})}),"type"in e?(0,w.jsx)(b().A,{disableMobilePadding:!0,disableMobileBorders:!0,topBorder:!0,children:(0,w.jsx)(h().Ay,{title:(0,w.jsx)(x().A,{isSmall:!0,isSecondaryColor:!0,children:(0,w.jsx)(d().sA,{id:"collectionFilterMenu.dateRangeFilter.relativeDateRangeFilter.description",defaultMessage:"Filter will update with the current date"})})})}):void 0]})}function P(e,t){t.setState({...t.state,focus:e})}function W({events:e,value:t,disabled:n,allowRelativeRangeFilter:r,onUpdate:s,onDismiss:l,store:u}){const c=(0,o().v3)(),p=(0,d().tz)(),v=(0,i.useCallback)(((e,t)=>function(e,t,n){t&&t.error||n.setState({...n.state,focus:"ending"})}(0,t,u)),[u]),m=(0,a().K8)((()=>u.getFocus()),[u]),y=function(e,t){if("type"in e)return;return{earliestValidEnding:e.starting&&f().Yq(e.starting,t,"YYYY-MM-DD"),latestValidStarting:e.ending&&f().Yq(e.ending,t,"YYYY-MM-DD")}}(t,p),h="type"in t?{starting:void 0,ending:void 0}:t;return(0,w.jsxs)("div",{...e,style:{display:"flex",flexDirection:r&&!c.device.isMobile?"row":"column",alignItems:"center",gap:8,paddingTop:1,paddingInlineEnd:12,paddingBottom:8,paddingInlineStart:12,width:void c.device.isMobile},children:[(0,w.jsx)(D().A,{disabled:n,placeholder:c.device.isMobile?void 0:g().A.formatMessage(R.startingMessage),focused:"starting"===m,value:h.starting,validate:e=>function(e,t){const n=I("starting",e,t);return n.error?n:{value:n.value.starting}}(e,t),onUpdate:e=>function(e,t){e.error||t({value:{starting:e.value}})}(e,s),onFocus:()=>P("starting",u),onSubmit:v,inputElementAttributes:y?{max:y.latestValidStarting}:void 0,desktopDateFormat:r?"YYYY/MM/DD":void 0,style:{padding:0}}),(0,w.jsx)(D().A,{disabled:n,placeholder:c.device.isMobile?void 0:g().A.formatMessage(R.endingMessage),focused:"ending"===m,value:h.ending,validate:e=>function(e,t){const n=I("ending",e,t);return n.error?n:{value:n.value.ending}}(e,t),onUpdate:e=>function(e,t){e.error||t({value:{ending:e.value}})}(e,s),onFocus:()=>P("ending",u),onSubmit:(e,t)=>function(e,t,n){t&&t.error||n&&n(e)}(e,t,l),inputElementAttributes:y?{min:y.earliestValidEnding}:void 0,textWrapperStyle:r&&!c.device.isMobile?{marginInlineStart:2}:{},desktopDateFormat:r?"YYYY/MM/DD":void 0,style:{padding:0}})]})}function U({value:e,relativeRangePopupStore:t,onUpdateRelativeFilter:n,disabled:i,allowRelativeRangeFilter:o,intl:a,onUpdate:r,onDismiss:s,store:l}){if(t&&n){const a="type"in e?e:{type:"exact",value:void 0};return(0,w.jsx)(k().A,{type:"daterange",filterValue:a,onUpdate:n,renderOrigin:t=>"exact"===a.type?(0,w.jsx)(W,{value:e,disabled:i,allowRelativeRangeFilter:o,onUpdate:r,onDismiss:s,store:l,events:t}):"relative"!==a.type||"surrounding"!==a.value&&"custom"!==a.value?void 0:(0,w.jsx)(B,{events:t,onUpdateFilter:n,filter:a}),disabled:"exact"===a.type,buttonPopupStore:t})}return(0,w.jsx)(W,{value:e,disabled:i,allowRelativeRangeFilter:o,onUpdate:r,onDismiss:s,store:l})}function O(e,t,n,i,o,a,r,s,l,u,d){const{device:c}=e;if(c.isMobile){return{menuType:v().gu.Modal,title:t,right:(0,w.jsx)(S().DoneMenuText,{}),onClickRight:r,header:(0,w.jsx)(U,{value:n,relativeRangePopupStore:s,onUpdateRelativeFilter:l,disabled:u,allowRelativeRangeFilter:d,intl:i,onUpdate:o,onDismiss:r,store:a})}}return{menuType:v().gu.Popup,onClickOutside:r}}},431955:(e,t,n)=>{function i(e){return"exact"===e.type?e.type:"surrounding"===e.value?`${e.type}-${e.unit}`:"custom"===e.value?`${e.type}-${e.unit}-${e.count}-${e.direction}`:e.value}n.d(t,{q:()=>i})},539320:(e,t,n)=>{n.d(t,{A:()=>p});n(944114);var i=n.n(n(32485)),o=n(296540),a=()=>n(56366),r=()=>n(604995),s=()=>n(100622),l=()=>n(284371),u=()=>n(180252),d=()=>n(141025),c=n(474848);const p=function({readonly:e,store:t,value:p,validate:g,onUpdate:v,disabled:f,dateTimeStore:m,minDate:y,maxDate:h}){const S=(0,n(401497).DP)(),b=(0,o.useRef)(),x=(0,a().K8)((()=>{if(t.state.displayMonth)return t.state.displayMonth.toJSDate();if("starting"===t.getFocus()){if(p.starting)return r().C6.notionDateToJsDate(p.starting);if(p.ending)return r().C6.notionDateToJsDate(p.ending)}if("ending"===t.getFocus()){if(p.ending)return r().C6.notionDateToJsDate(p.ending);if(p.starting)return r().C6.notionDateToJsDate(p.starting)}if(!b.current){const e=r().Ec((0,n(416504).P)());b.current=r().C6.notionDateToJsDate(e)}return b.current}),[b,t,p]),D=(0,a().K8)((()=>u().XX.state),[]),k=(0,a().K8)((()=>function(e){const{store:t,value:n,componentIsDisabled:i,minDate:o,maxDate:a}=e,s=function(e){const{store:t,value:n,componentIsDisabled:i,minDate:o,maxDate:a}=e;if(i)return[!0];const s=[];o&&s.push({before:o.toJSDate()});a&&s.push({after:a.toJSDate()});const l=e=>"ending"===t.getFocus()&&{before:e},u=e=>"starting"===t.getFocus()&&{after:e};if(n.starting){const e=r().C6.notionDateToJsDate(n.starting);s.push(l(e))}if(n.ending){const e=r().C6.notionDateToJsDate(n.ending);s.push(u(e))}return s}({value:n,store:t,componentIsDisabled:i,minDate:o,maxDate:a}),{hovered:l}=t.state;if(i)return{disabled:s};if(n.starting&&n.ending){const e=r().C6.notionDateToJsDate(n.starting),t=r().C6.notionDateToJsDate(n.ending);return{range:{from:e,to:t},start:e,end:t,disabled:s}}if(n.starting){const e=r().C6.notionDateToJsDate(n.starting);return{range:l&&{from:e,to:l},start:e,end:l,disabled:s,selected:[e,l]}}if(n.ending){const e=r().C6.notionDateToJsDate(n.ending);return{range:l&&{from:l,to:e},start:l,end:e,disabled:s,selected:[e,l]}}return{disabled:s}}({store:t,value:p,componentIsDisabled:f,minDate:y,maxDate:h})),[t,p,f,y,h]),C=(0,a().K8)((()=>function(e,t){const n={monthControl:{position:"absolute",top:0,insetInlineEnd:0,display:"flex"},selectedRange:{backgroundColor:"transparent"},active:{backgroundColor:s().Tj.blue,color:s().Tj.white},inactive:{backgroundColor:s().IF.blueWithAlpha(.43)},disabled:{pointerEvents:"none"},today:{fontWeight:l().Wy.regular}},i=function(e){return{disabled:{color:e.text.tertiary},today:{color:s().Tj.white}}}(t),o=e.getFocus(),a=n.selectedRange,r={...n.disabled,...i.disabled},u={...n.today,...i.today};return{range:a,start:"starting"===o?n.active:n.inactive,end:"ending"===o?n.active:n.inactive,disabled:r,today:u}}(t,S)),[t,S]);return(0,c.jsx)(n(541181).n,{className:i()("notion-calendar-picker",{"is-readonly":e}),defaultMonth:x,month:x,numberOfMonths:1,weekStartsOn:D,locale:n(662303).locale,showOutsideDays:!0,fixedWeeks:!0,onDayClick:n=>function(e,t,n,i,o,a,s,l){if(a||l)return;const u=t.getFocus(),c=r().C6.toPersistedDate(e.valueOf()),p=i(u,{value:c}),g=p.error?p:{value:{[u]:p.value[u]}};o(g),t.setState({...t.state,hovered:void 0}),s&&s.setState({...s.state,hovered:void 0});if(p.error)return;"starting"!==u||n.ending||(t.setState({...t.state,focus:"ending"}),s&&s.setState({...s.state,focus:d().Ah.ending}));const v="starting"===u?"ending":"starting";t.setState({...t.state,focus:v}),s&&s.setState({...s.state,focus:d().Ah[v]})}(n,t,p,g,v,f,m,e),onDayMouseEnter:n=>function(e,t,n,i,o,a){const s=t.getFocus(),l=r().C6.jsDateToLuxon(e);if(i||a)return;if("starting"===s&&n.ending&&!n.starting){r().C6.notionDateToLuxon(n.ending)>=l&&(t.setState({...t.state,hovered:e}),o&&o.setState({...o.state,hovered:e}))}else if("ending"===s&&n.starting&&!n.ending){r().C6.notionDateToLuxon(n.starting)<=l&&(t.setState({...t.state,hovered:e}),o&&o.setState({...o.state,hovered:e}))}}(n,t,p,f,m,e),onMonthSelected:e=>function(e,t,n){t.setState({...t.state,displayMonth:r().C6.jsDateToLuxon(e)}),n&&n.setState({...n.state,displayMonth:r().C6.jsDateToLuxon(e)})}(e,t,m),modifiers:k,modifiersStyles:C,disabled:!!e||void 0})}},856952:(e,t,n)=>{n.d(t,{Ay:()=>f,le:()=>v,sA:()=>g});var i=n(296540),o=()=>n(726637),a=()=>n(484714),r=()=>n(56366),s=()=>n(401497),l=()=>n(998531),u=()=>n(496603),d=()=>n(722872),c=()=>n(623580),p=n(474848);const g="20px";let v=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e[e.Place=6]="Place",e}({});const f=i.forwardRef((function(e,t){const{disabled:i,value:o,message:a,right:r,showClearButton:s,format:d,focus:c,dontShowBorderBottom:g,showBorder:v,style:f,onClick:m,inputAndTokenWrapRightStyle:y,tokens:h,hideInput:S,onRemoveLastToken:b,onKeyDown:x,onChange:k,focusInitial:C,focusAfterAnimation:A,preventScrollOnFocus:w,inputFullWidth:M,inputDivStyle:R,inputStyle:j,rightWrapStyle:F,tokenWrapStyle:T,type:B,placeholder:I,onEmptySubmit:E,onSubmit:P,textarea:W,autoComplete:U,onClearButtonClick:O,inputElementAttributes:L,suppressFocusRing:_,onFocus:Y,onBlur:z}=e;return(0,p.jsx)(l().N,{debugName:"TokenInputMenuItem",capture:!i,onLeft:u().D_,onRight:u().D_,onSelectAll:u().D_,onRedo:u().D_,onUndo:u().D_,onToggleBold:u().D_,onToggleItalics:u().D_,onToggleCode:u().D_,onCut:u().D_,onCopy:u().D_,onPaste:u().D_,onKeypress:u().D_,children:(0,p.jsx)(l().N,{debugName:"TokenInputMenuItem",capture:!i&&o.length>0,onDelete:u().D_,onBackspace:u().D_,children:(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:a?4:void 0},children:[(0,p.jsx)(D,{ref:t,right:r,showClearButton:s,format:d,focus:c,dontShowBorderBottom:g,disabled:i,showBorder:v,style:f,rightWrapStyle:F,onClick:m,inputAndTokenWrapRightStyle:y,tokens:h,hideInput:S,value:o,onRemoveLastToken:b,onKeyDown:x,onChange:k,focusInitial:C,focusAfterAnimation:A,preventScrollOnFocus:w,inputFullWidth:M,inputDivStyle:R,inputStyle:j,type:B,placeholder:I,onEmptySubmit:E,onSubmit:P,textarea:W,autoComplete:U,onClearButtonClick:O,inputElementAttributes:L,suppressFocusRing:_,onFocus:Y,onBlur:z,tokenWrapStyle:T}),a?(0,p.jsx)(n(125565).A,{isSmall:!0,children:a}):void 0]})})})}));function m(e){return e===v.Group}function y(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden",fontSize:14,minHeight:28,padding:4,borderRadius:6}}function h(e){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:o().A.isMobile?17:16,background:e.popoverBackground}}const S={borderRadius:4};function b(e){return{[v.Select]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.Person]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.Relation]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.Group]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.FilterValue]:{desktopWrapStyleOverride:{padding:"4px 6px",boxShadow:e.inputBoxShadow,background:e.inputBackground},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.Place]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:S,inputDivDesktopFocusStyle:{}},[v.Share]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:{marginTop:0,marginInlineEnd:0,marginBottom:0,marginInlineStart:2,borderStartStartRadius:4,borderStartEndRadius:4},inputDivDesktopFocusStyle:{}}}}const x=i.forwardRef((function({tokens:e,disabled:t,value:n,onRemoveLastToken:o,onKeyDown:r,onChange:l,focus:u,focusInitial:d,focusAfterAnimation:g,preventScrollOnFocus:v,format:f,inputFullWidth:m,inputDivStyle:y,inputStyle:h,type:S,placeholder:b,onEmptySubmit:x,onSubmit:D,textarea:k,autoComplete:A,inputMenuItemStore:w,onFocus:M,onBlur:R,inputElementAttributes:j,suppressFocusRing:F},T){const B=(0,s().DP)(),I=(0,a().v3)(),E=(0,i.useCallback)((e=>{"Backspace"===e.key&&0===n.length&&o(),r&&r(e)}),[n,o,r]),P=(0,i.useCallback)((e=>{0===n.length&&x&&x(),D&&D(e)}),[n,x,D]),W=(0,i.useCallback)((()=>{w.setState({focused:!1}),null==R||R()}),[w,R]),U=(0,i.useCallback)((()=>{w.setState({focused:!0}),null==M||M()}),[w,M]),O=0===e.length;return(0,p.jsx)(c().A,{disabled:t,format:c().C.Transparent,onKeyDown:E,onChange:l,value:n,focus:u,focusInitial:d,focusAfterAnimation:g,preventScrollOnFocus:v,style:C(f,I,B,m,y),inputStyle:h||{height:I.device.isMobile?24:20},size:1,ref:T,type:S,placeholder:O?b:"",onSubmit:P,onFocus:U,onBlur:W,textarea:k,autoComplete:A,inputElementAttributes:j,suppressFocusRing:F})})),D=i.forwardRef((function(e,t){const{right:o,showClearButton:l,format:u,focus:c,dontShowBorderBottom:g,disabled:v,showBorder:f,style:S,onClick:D,inputAndTokenWrapRightStyle:C,tokenWrapStyle:A,tokens:w,hideInput:M,value:R,onRemoveLastToken:j,onKeyDown:F,onChange:T,focusInitial:B,focusAfterAnimation:I,preventScrollOnFocus:E,inputFullWidth:P,inputDivStyle:W,inputStyle:U,rightWrapStyle:O,type:L,placeholder:_,onEmptySubmit:Y,onSubmit:z,textarea:K,autoComplete:G,onClearButtonClick:N,onFocus:J,onBlur:V,inputElementAttributes:Q,suppressFocusRing:H}=e,$=(0,s().DP)(),q=(0,a().v3)(),X=(0,i.useContext)(d().xu),[Z,ee]=i.useState(!1),te=(0,r().uB)(void 0,n(995444).A);(0,n(852507).l)((()=>{(c||B)&&te.setState({focused:!0})})),(0,i.useEffect)((()=>{E&&ee(!0),void 0!==c&&te.setState({focused:c})}),[c,te,E]);const ne=(0,r().K8)((()=>te.state.focused),[te]),ie=(0,i.useRef)(null),[oe,ae]=(0,n(819121).A)(),re=(0,n(93583).A)(t,ie,oe),se=(0,i.useCallback)((()=>{var e;v||(null===(e=ie.current)||void 0===e||e.focus(),null==D||D())}),[v,D,ie]),le="combobox"===(null==Q?void 0:Q.role)&&ae&&!H,ue=function({environment:e,theme:t,format:n,focus:i,dontShowBorderBottom:o,disabled:a,showBorder:s,menuContext:l,showFocusRing:u}){return(0,r().K8)((()=>{const{WindowSizeStore:r}=e,c=b(t)[n];return e.device.isMobile?{...h(t),paddingTop:14,paddingBottom:14,paddingInlineStart:(null==l?void 0:l.menuType)!==d().gu.Popup?r.getSafePaddingLeftCSS(16):16,paddingInlineEnd:(null==l?void 0:l.menuType)!==d().gu.Popup?r.getSafePaddingRightCSS(16):16,...o&&{borderBottom:"none"}}:{...y(t,a),...c.desktopWrapStyleOverride,...s&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...s&&i&&{boxShadow:t.inputBlueFocusRing},...i&&c.inputDivDesktopFocusStyle,...u&&{boxShadow:t.buttonBlueFocusRing}}}),[a,o,e,i,n,null==l?void 0:l.menuType,s,t,u])}({environment:q,theme:$,format:u,focus:c,dontShowBorderBottom:g,disabled:v,showBorder:f,menuContext:X,showFocusRing:le}),{inputElementAttributes:de,wrapperElementAttributes:ce}=(0,i.useMemo)((()=>{if("combobox"===(null==Q?void 0:Q.role)){const{role:e,"aria-expanded":t,"aria-haspopup":n,"aria-controls":i,"aria-orientation":o,...a}=Q;return{inputElementAttributes:a,wrapperElementAttributes:{role:e,"aria-expanded":t,"aria-haspopup":n,"aria-controls":i,"aria-orientation":o}}}return{inputElementAttributes:Q,wrapperElementAttributes:{}}}),[Q]);return!q.device.isMobile||o||l?(0,p.jsxs)(n(2143).H,{type:n(611648).A.All,style:{...ue,flexWrap:"nowrap",...S},onClick:se,...ce,children:[(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...A,...o||l?C:null},children:[w,M?void 0:(0,p.jsx)(x,{ref:re,tokens:w,disabled:v,value:R,onRemoveLastToken:j,onKeyDown:F,onChange:T,focus:c,focusInitial:B,focusAfterAnimation:I,preventScrollOnFocus:Z,format:u,inputFullWidth:P,inputDivStyle:W,inputStyle:U,type:L,placeholder:_,onEmptySubmit:Y,onSubmit:z,textarea:K,autoComplete:G,inputMenuItemStore:te,onFocus:J,onBlur:V,inputElementAttributes:de,suppressFocusRing:H})]}),o||l?(0,p.jsx)("div",{style:{flexShrink:0,...O},children:(0,p.jsx)(k,{showClearButton:l,right:o,onClearButtonClick:N,tokens:w,value:R})}):null]}):(0,p.jsxs)("div",{style:{...ue,flexWrap:"nowrap",...S},onClick:se,tabIndex:-1,role:"none",...ce,children:[(0,p.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,gap:6,overflow:"hidden",marginInlineEnd:m(u)?6:0},children:[w,M?void 0:(0,p.jsx)(x,{ref:re,tokens:w,disabled:v,value:R,onRemoveLastToken:j,onKeyDown:F,onChange:T,focus:c,focusInitial:B,focusAfterAnimation:I,format:u,inputFullWidth:P,inputDivStyle:W,inputStyle:U,type:L,placeholder:_,onEmptySubmit:Y,onSubmit:z,textarea:K,autoComplete:G,inputMenuItemStore:te,onFocus:J,onBlur:V,inputElementAttributes:de,suppressFocusRing:H})]}),(0,p.jsx)(n(594739).A,{show:ne})]})}));function k({showClearButton:e,right:t,onClearButtonClick:i,tokens:o,value:r}){const l=(0,n(69708).tz)(),u=(0,s().DP)(),d=(0,a().v3)(),{isMobile:c}=d.device;return t?(0,p.jsx)(p.Fragment,{children:t}):e&&(o.length>0||r.length>0)?(0,p.jsx)(n(718827).Ay,{"aria-label":l.formatMessage({id:"tokenInputMenuItem.clearButton",defaultMessage:"Clear"}),onClick:i,style:{flexShrink:0,flexGrow:0,borderRadius:c?24:20,marginTop:2},children:(0,n(931121).J)({width:c?16:14,height:c?16:14,fill:u.icon.tertiary})}):null}function C(e,t,n,i,o){return{flexGrow:1,flexShrink:1,flexBasis:i?"100%":60,minWidth:60,width:"auto",lineHeight:g,...t.device.isMobile?{margin:"0 8px 0 0"}:b(n)[e].inputDivDesktopStyle,...o}}},903400:(e,t,n)=>{n.d(t,{i:()=>M});n(898992),n(354520),n(296540);var i=()=>n(484714),o=()=>n(56366),a=()=>n(401497),r=()=>n(150161),s=()=>n(406094),l=()=>n(668725),u=()=>n(69708),d=()=>n(720665),c=()=>n(649746),p=()=>n(972435),g=()=>n(722872),v=()=>n(463830),f=()=>n(760217),m=()=>n(406699),y=()=>n(285790),h=()=>n(419357),S=()=>n(404277),b=()=>n(939740),x=()=>n(417392),D=()=>n(89924),k=()=>n(125565),C=()=>n(272630),A=n(474848);function w(e){const{humanReadableLabel:t,placeholder:n,outlineButtonStyle:i,buttonWrapperStyle:o,renderAsQueryDropdown:r,events:u,isMobile:d,openMenuAriaLabel:c}=e,p=(0,a().IS)((e=>({iconStyle:{...!d&&{height:12,width:12},color:e.icon.secondary},textStyle:{marginInlineStart:6,color:e.text.primary}})),[d]);return r?(0,A.jsx)(C().A,{...u,placeholder:n,title:(0,A.jsx)(k().A,{isMobile:d,children:t}),disableMargins:!0}):(0,A.jsx)("div",{style:o,...u,children:(0,A.jsxs)(s().A,{size:d?"lg":void 0,style:i,children:[(0,A.jsx)("div",{style:p.textStyle,children:t}),(0,A.jsx)(y().A,{disableBackground:!0,icon:l().b,iconStyle:p.iconStyle,ariaLabel:c})]})})}function M(e){const{onUpdate:t,filter:n,renderAsQueryDropdown:s}=e,l=(0,i().Y0)(),y=(0,u().tz)(),k=(0,o().uB)(void 0,v().A),C=(0,o().uB)(void 0,v().A),M="count"in n,R=(0,a().IS)((e=>({directionButtonStyle:{paddingInlineStart:4,paddingInlineEnd:4,width:"100%",justifyContent:"space-between",...l.isMobile&&{marginTop:12,width:"100%",paddingInlineStart:12,marginBottom:6}},unitButtonStyle:{paddingInlineStart:4,paddingInlineEnd:4,justifyContent:"space-between",width:"100%",...l.isMobile&&{paddingInlineStart:12,marginTop:6}},directionButtonWrapperStyle:{...l.isMobile&&{width:"100%"},flexGrow:1},unitButtonWrapperStyle:{...l.isMobile&&{width:"100%"},flexGrow:1},inputStyle:{padding:0},inputOuterStyle:{minWidth:60,height:r().RO.md},container:{display:"flex",justifyContent:"start",alignItems:"center",flexDirection:l.isMobile?"column":"row",width:"100%",gap:4},textWrapper:{marginInlineEnd:6,marginInlineStart:s?16:6}})),[l.isMobile,s]);function j(e){return"this"===e?p().A.formatMessage(c().Cj[e]):p().A.formatMessage(c().zZ[e])}function F(e,t){return t&&t>1?p().A.formatMessage(c().o1[e]):p().A.formatMessage(c().EA[e])}const T=["day","week","month","year"].map((e=>({key:e,render:t=>(0,A.jsx)(f().A,{...t,title:F(e,M?n.count:void 0),isChecked:e===n.unit}),action:i=>{t({...n,unit:e}),k.setState({open:!1})}}))),B=["past","future","this"].map((e=>({key:e,render:t=>(0,A.jsx)(f().A,{...t,isChecked:"surrounding"===n.value?"this"===e:e===n.direction,title:j(e)}),action:i=>{"this"===e&&"custom"===n.value?t({type:"relative",value:"surrounding",unit:n.unit}):"this"!==e&&"surrounding"===n.value?t({type:"relative",value:"custom",count:1,direction:e,unit:n.unit}):"this"!==e&&"custom"===n.value&&t({...n,direction:e}),C.setState({open:!1})}})));return(0,A.jsxs)("div",{style:R.container,children:[(0,A.jsx)(m().A,{buttonPopupStore:C,popupType:l.isMobile?x().nl.SlideUp:x().nl.Popup,renderOrigin:e=>(0,A.jsx)(w,{events:e,placeholder:y.formatMessage(c().ql.direction),renderAsQueryDropdown:s,isMobile:l.isMobile,outlineButtonStyle:R.directionButtonStyle,buttonWrapperStyle:R.directionButtonWrapperStyle,humanReadableLabel:j("direction"in n?n.direction:"this"),openMenuAriaLabel:y.formatMessage(c().ql.iconButtonDirectionDropdown)}),render:()=>(0,A.jsx)(S().A,{menuType:l.isMobile?g().gu.ActionSheet:g().gu.Popup,children:(0,A.jsx)(b().Ay,{initialFocus:void 0,type:b().Oh.Vertical,sections:[{key:"directionOptions",render:e=>(0,A.jsx)(D().A,{disableMobilePadding:!0,...e}),items:B}]})})}),M?(0,A.jsx)(h().Ay,{type:"number",style:R.inputStyle,textWrapperStyle:R.textWrapper,inputOuterStyle:R.inputOuterStyle,min:"1",value:n.count.toString(),onChange:e=>{const i=parseInt(e.target.value);!(0,d().Et)(i)||i<1||t({...n,count:i})}}):void 0,(0,A.jsx)(m().A,{buttonPopupStore:k,popupType:l.isMobile?x().nl.SlideUp:x().nl.Popup,renderOrigin:e=>(0,A.jsx)(w,{events:e,placeholder:y.formatMessage(c().ql.unit),renderAsQueryDropdown:s,isMobile:l.isMobile,outlineButtonStyle:R.unitButtonStyle,buttonWrapperStyle:R.unitButtonWrapperStyle,humanReadableLabel:F(n.unit,"count"in n?n.count:void 0),openMenuAriaLabel:y.formatMessage(c().ql.iconButtonUnitDropdown)}),render:()=>(0,A.jsx)(S().A,{menuType:l.isMobile?g().gu.ActionSheet:g().gu.Popup,children:(0,A.jsx)(b().Ay,{initialFocus:void 0,type:b().Oh.Vertical,sections:[{key:"unitOptions",render:e=>(0,A.jsx)(D().A,{disableMobilePadding:!0,...e}),items:T}]})})})]})}},986431:(e,t,n)=>{n.d(t,{A:()=>m});n(898992),n(354520),n(581454),n(296540);var i=()=>n(484714),o=()=>n(754195);var a=()=>n(431955),r=()=>n(649746),s=()=>n(972435),l=()=>n(722872),u=()=>n(760217),d=()=>n(406699),c=()=>n(404277),p=()=>n(939740),g=()=>n(417392),v=()=>n(89924),f=n(474848);function m(e){const{filterValue:t,renderOrigin:n,buttonPopupStore:m}=e,y=(0,i().v3)(),h=e=>"relative"===e.filter.type&&"custom"===e.filter.value?s().A.formatMessage(r().IZ[e.filter.value]):"date"===e.type?(0,r().RR)(e.filter):(0,r().kz)(e.filter),S=()=>{const e=o().mP;return[...e.filter((e=>"relative"===e.type)),...e.filter((e=>"exact"===e.type))]};return(0,f.jsx)(d().A,{popupType:y.device.isMobile?g().nl.SlideUp:g().nl.Popup,buttonPopupStore:m,render:()=>{let n;n=y.device.isMobile?{menuType:l().gu.ActionSheet}:{menuType:l().gu.Popup};const i="date"===e.type?(()=>{const e=o().ty;return[...e.filter((e=>"relative"===e.type)),...e.filter((e=>"exact"===e.type))]})().map((n=>({key:"relative"===n.type?n.value:n.type,render:e=>(0,f.jsx)(u().A,{...e,title:h({type:"date",filter:n}),isChecked:n.type===t.type&&(void 0===n.value||n.value===t.value)}),action:()=>{e.onUpdate(n),m.setState({open:!1})}}))):S().map((n=>({key:(0,a().q)(n),render:e=>(0,f.jsx)(u().A,{...e,title:h({type:"daterange",filter:n}),isChecked:n.type===t.type&&(void 0===n.value||n.value===t.value)}),action:()=>{e.onUpdate(n),m.setState({open:!1})}})));return(0,f.jsx)(c().A,{...n,children:(0,f.jsx)(p().Ay,{type:p().Oh.Vertical,sections:[{key:"filterOperators",render:e=>(0,f.jsx)(v().A,{disableMobilePadding:!0,...e}),items:i}],initialFocus:void 0})})},renderOrigin:n,style:{width:240},originGap:2,placementToOrigin:"bottom",alignmentToOrigin:"center",disabled:e.disabled})}}}]);