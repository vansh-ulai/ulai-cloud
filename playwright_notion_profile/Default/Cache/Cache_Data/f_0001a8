"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[65741,92903],{3284:(e,t,n)=>{n.r(t),n.d(t,{arrowSquarePathUpDownIcon:()=>o,iconDefinition:()=>s});n(296540);const s={viewBox:"0 0 20 20",fittedViewBox:"0.64 3.12 18.71 13.76",svg:(0,n(474848).jsx)("path",{d:"M6.475 3.125a.625.625 0 1 0 0 1.25h7.975c.65 0 1.175.526 1.175 1.175v6.057l-1.408-1.408a.625.625 0 1 0-.884.884l2.475 2.475a.625.625 0 0 0 .884 0l2.475-2.475a.625.625 0 0 0-.884-.884l-1.408 1.408V5.55a2.425 2.425 0 0 0-2.425-2.425zM3.308 6.442a.625.625 0 0 1 .884 0l2.475 2.475a.625.625 0 1 1-.884.884L4.375 8.393v6.057c0 .649.526 1.175 1.175 1.175h7.975a.625.625 0 0 1 0 1.25H5.55a2.425 2.425 0 0 1-2.425-2.425V8.393L1.717 9.801a.625.625 0 1 1-.884-.884z"})},o=(0,n(340498).wt)("arrowSquarePathUpDown",s)},58180:(e,t,n)=>{n.d(t,{E:()=>o});var s=()=>n(310526);function o(e,t){var n;if(!t)return!1;if(!(0,s().U)(t))return!1;const o=null===(n=e.getTopLevelAncestorBlockStore())||void 0===n?void 0:n.id;return!!o&&!!t.getPrivatePageIds().includes(o)}},90907:(e,t,n)=>{n.d(t,{h:()=>i});n(296540);var s=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.06 15.66",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,s.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,n(340498).wt)("lock",o)},98205:(e,t,n)=>{n.d(t,{DG:()=>p,Yg:()=>d,Yx:()=>m,_N:()=>u,fY:()=>f,h8:()=>g,wG:()=>c});n(944114),n(898992),n(803949);var s=()=>n(31503),o=()=>n(500993),i=()=>n(37165),a=()=>n(131448),r=()=>n(597368),l=()=>n(237775);const c="forms_add_conditional_logic_tooltip";function d({currentModule:e,nestedModules:t,includePlaceholders:n}){const s=[{currentModule:e,depth:1}],o=[];let i=0;for(;s.length>0;){const e=s.shift();if(!e)continue;const{currentModule:r,depth:l}=e;var a;if(o.push(r),l>i&&(i=l),"formQuestion"===r.type)null===(a=r.conditionalGroups)||void 0===a||a.forEach((e=>{const o=e.children??[];for(const i of o){const e=t[i];e&&("formQuestion"===e.type||n&&"placeholder"===e.type)&&s.push({currentModule:e,depth:l+1})}}))}return{formQuestionDescendants:o,maxDepth:i}}function u(e,t,n){if(!e)return;const s=(0,o().A)(e,t.getModules());if(!s)return;const a=l().c.createChildStore(t,{table:i().lo,id:s.module.formQuestionId,spaceId:t.getSpaceId()??""}).getPropertyId();if(!a)return;const r=n.getSchema()[a],c=null==r?void 0:r.type;return"select"===c||"multi_select"===c||"checkbox"===c?c:void 0}function p({mouseEntered:e,currentQuestionModule:t,modulesByArea:n,featureAvailable:o,inputFocused:i,isDragging:a,showTutorialTooltip:r}){if(void 0===n)return!1;const l=(0,s().Cg)({moduleId:null==t?void 0:t.id,modulesByArea:n}).length>=s().mh,c=(e||r)&&!l&&!i&&!a;return c}function m(e){const{formQuestionId:t,formAddConditionalLogicTooltipStore:n}=e;if(r().A.state.open||!t||!n)return!1;if("multi_select"===e.type){const s=e.optionValue;if(!s||n.state.openTooltip!==f({formQuestionId:t,optionValue:s}))return!1}else if(n.state.openTooltip!==f({formQuestionId:t}))return!1;return a().default.isVisible(c)}function f({formQuestionId:e,optionValue:t}){return t?`fqid:${e} value:${t}`:`fqid:${e}`}function g(e,t){return`${e}:${t}`}},192421:(e,t,n)=>{n.d(t,{F:()=>d});n(296540);var s=()=>n(484714),o=()=>n(493552),i=()=>n(433847),a=()=>n(69708),r=()=>n(583690),l=()=>n(678553),c=n(474848);function d(e){const{role:t}=e,n=(0,a().tz)(),{device:d}=(0,s().v3)(),u=(0,r().I2)(t);return(0,c.jsx)(l().Ay,{...e,title:(0,c.jsx)(o().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:n.formatMessage((0,i().sK)(t,void 0).label)}),shouldWrapCaption:!0,style:d.isMobile?{padding:"12px 4px"}:{padding:4,marginTop:2,marginBottom:2},captionStyle:{marginTop:4},caption:(0,c.jsx)("div",{children:u})})}},250202:(e,t,n)=>{n.d(t,{G:()=>r,e:()=>a});var s=n(296540),o=()=>n(401497),i=n(474848);let a=function(e){return e[e.Name=0]="Name",e}({});const r=s.forwardRef((function(e,t){const{propertySchema:s,format:r}=e,{name:l,type:c,icon:d}=s,{isMobile:u}=(0,n(484714).Y0)(),p=(0,o().IS)((e=>({propertyIcon:{fill:e.icon.primary,marginInlineStart:6,marginInlineEnd:2}})),[]),m=(0,o().DP)(),f=r===a.Name?l:n(852353).dC[c];return(0,i.jsx)(n(760217).A,{title:f,icon:(0,i.jsx)(n(852424).zB,{icon:d,type:c,size:u?18:16,theme:m,style:p.propertyIcon}),...e})}))},309770:(e,t,n)=>{n.d(t,{P:()=>m,U:()=>p});var s=()=>n(56366),o=()=>n(557155),i=()=>n(792002),a=()=>n(301421),r=()=>n(765957),l=()=>n(693202),c=()=>n(231297),d=()=>n(755199);function u(){const e=l().default.state;if("editing"===e.mode){const t=(0,o().H)(e.multiSelection);if(t&&(0,i().gE)(t.selection)){const e=t.store,n=a().n.findEditableWithStore(e);if(n){return e.getValue()?void 0:n}}}}function p(){return(0,s().K8)(u,[])}function m(e){const{currentUserSettingsStore:t}=r().default.state;t&&c().createAndCommit({userAction:"educationTooltipsActions.completePressSlashTooltip",environment:e,perform:e=>{d().mJ({userSettingsStore:t,transaction:e,data:{pressed_slash_tooltip:!0}})},canUndo:!0,userId:t.id})}},334684:(e,t,n)=>{n.d(t,{$:()=>r});var s=()=>n(898244),o=()=>n(713998),i=()=>n(534177);const a=["button","formula","auto_increment_id","file"];function r(e){const{propertyType:t,propertySchema:n,allowAIProperty:r}=e,l=(0,i().O9)(n)&&(0,s().$M)(n)&&(0,i().O9)((0,s().om)(n)),c=!r&&l,d=(0,i().O9)((0,o().Dz)(n));return a.includes(t)||c||d}},454099:(e,t,n)=>{n.d(t,{Mj:()=>v,WQ:()=>x,gh:()=>M});var s=()=>n(726637),o=()=>n(584262),i=()=>n(96330),a=()=>n(201980),r=()=>n(970330),l=()=>n(857783),c=()=>n(281948),d=()=>n(319975),u=()=>n(231297),p=()=>n(755199),m=()=>n(766854),f=()=>n(357643),g=()=>n(177618),h=()=>n(476492),b=()=>n(765957),y=()=>n(50764);function v(e){const{environment:t,place:n,collectionContextStore:i,query:a,schema:d,isFullScreen:p,store:b}=e,v="map_add_item";u().createAndCommit({userAction:"CollectionMapView.handleClick",environment:t,canUndo:!0,perform:e=>{const u=function(e){const{environment:t,transaction:n,place:i,query:a,isFullScreen:r,groupFormat:d,collectionContextStore:u,from:p}=e;if(!(0,y().E)(t))return;const h=d?[d]:[],b=u.groupsStore.getGroupState(h);if(!b)return;u.searchQueryStore.state&&(0,f().S)({searchQuery:"",collectionContextStore:u,isFullScreen:r});const v=(0,m().Q)({environment:t,collectionContextStore:u,groupsPointer:h,shouldCoerce:!0,templateStore:u.defaultPageTemplateStore.state,transaction:n,from:{createBlock:p},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!v)return;const M=v.newStore,A=a.map_by;if(!A)return;x({environment:t,store:M,property:A,place:i,transaction:n}),s().A.isMobile?l().uK({environment:t,store:M,pageVisitSource:o().y8.Create}):c().VU({environment:t,store:M,peekMode:(0,g().hH)(u),resultsStore:null==b?void 0:b.resultsStore,collectionContextStore:u,pageVisitSource:o().y8.Create});return M}({environment:t,transaction:e,store:b,query:a,schema:d,place:n,isFullScreen:p,groupFormat:void 0,collectionContextStore:i,from:v});r().vH(t,{from:v,type:"page",new_page_id:null==u?void 0:u.id,creating_block_id:null==u?void 0:u.id,...(0,h().sl)(i)})}})}function x(e){const{environment:t,store:n,place:s,transaction:o,property:r}=e,l=n.getAssociatedCollectionStore(),c=(null==l?void 0:l.getMappedProperty(r))??r,u=n.getPropertyStore(c),p=n.getTitleStore(),m=(null==s?void 0:s.name)??(null==s?void 0:s.address),f=null==p?void 0:p.getValue(),g=(0,i().eC)(u.getValue()),h=(0,i().X1)(g),b=!f&&m||(0,a().AGB)(f,[[String(h)]]);return p&&b&&d().R9({environment:t,store:p,value:m?[[m]]:void 0,transaction:o}),d().R9({environment:t,store:u,value:(0,i().tk)(s),transaction:o}),n}function M(e){const{environment:t,transaction:n}=e,{currentUserSettingsStore:s}=b().default.state;if(!s)return;const o=e=>{p().mJ({userSettingsStore:s,transaction:e,data:{map_view_new_button_clicked_at:Date.now()}})};n?o(n):u().createAndCommit({environment:t,userAction:"collectionMapActions.markMapViewNewButtonClicked",canUndo:!1,cellTarget:"main",perform:e=>o(e)})}},465741:(e,t,n)=>{n.d(t,{C0:()=>w,CK:()=>F,Dx:()=>I,Fc:()=>D,Gi:()=>A,Hd:()=>N,KU:()=>K,TW:()=>B,Vm:()=>R,YA:()=>k,d0:()=>x,eb:()=>M,ls:()=>T,mY:()=>S,px:()=>j});n(16280),n(296540);var s=()=>n(56366),o=()=>n(584262),i=()=>n(31503),a=()=>n(898244),r=()=>n(713998),l=()=>n(69708),c=()=>n(284371),d=()=>n(720665),u=()=>n(901389),p=()=>n(476492),m=()=>n(492414),f=()=>n(972435),g=()=>n(329443),h=()=>n(543665),b=()=>n(808655),y=()=>n(98205),v=n(474848);const x=5e3,M=500,A=(0,l().YK)({characterLimitReached:{defaultMessage:"Character limit reached.",id:"form.characterLimitReached"},questionLimitReachedTitle:{defaultMessage:"Question limit reached",id:"form.questionLimitReached.title"},questionLimitReachedSubtitle:{defaultMessage:"Please delete a question before creating a new one.",id:"form.questionLimitReached.subtitle"},questionLimitReachedFullMessage:{defaultMessage:"Question limit reached. Please delete a question before creating a new one.",id:"form.questionLimitReached.fullMessage"}}),_=(0,l().YK)({title:{defaultMessage:"Title",id:"database.questionTypeName.title"},text:{defaultMessage:"Text",id:"database.questionTypeName.text"},number:{defaultMessage:"Number",id:"database.questionTypeName.numberTypeLabel"},url:{defaultMessage:"URL",id:"database.questionTypeName.url"},multi_select:{defaultMessage:"Multiple choice",id:"database.questionTypeName.multi_select"},person:{defaultMessage:"Person",id:"database.questionTypeName.person"},email:{defaultMessage:"Email",id:"database.questionTypeName.email"},phone_number:{defaultMessage:"Phone",id:"database.questionTypeName.phone_number"},date:{defaultMessage:"Date",id:"database.questionTypeName.dateTypeLabel"},file:{defaultMessage:"Files & media",id:"database.questionTypeName.file"},checkbox:{defaultMessage:"Checkbox",id:"database.questionTypeName.checkbox"},relation:{defaultMessage:"Relation",id:"database.questionTypeName.relation"},place:{defaultMessage:"Place",id:"database.questionTypeName.place"}}),S={title:f().A.formatMessage(_.title),text:f().A.formatMessage(_.text),number:f().A.formatMessage(_.number),url:f().A.formatMessage(_.url),multi_select:f().A.formatMessage(_.multi_select),person:f().A.formatMessage(_.person),email:f().A.formatMessage(_.email),phone_number:f().A.formatMessage(_.phone_number),date:f().A.formatMessage(_.date),file:f().A.formatMessage(_.file),checkbox:f().A.formatMessage(_.checkbox),relation:f().A.formatMessage(_.relation),place:f().A.formatMessage(_.place)},C=["relation","person"];function w(e,t){return t?"closed":e?"shared_to_web":"shared_to_space"}function T(e){const{formSharingState:t,isOverBlockLimit:n,spaceName:s}=e;if(n)return(0,v.jsx)(l().sA,{id:"editorFormResponderWarning.overBlockLimit.message",defaultMessage:"You are over the block limit. No new responses can be submitted through this form."});switch(t){case"closed":return(0,v.jsx)(l().sA,{id:"editorFormResponderWarning.closed.message",defaultMessage:"This form is closed. No new responses can be submitted."});case"shared_to_web":return(0,v.jsx)(l().sA,{id:"editorFormResponderWarning.public.message",defaultMessage:"This form is public. Anyone with the link can submit a response."});case"shared_to_space":return(0,v.jsx)(l().sA,{id:"editorFormResponderWarning.internal.message",defaultMessage:"Only members at {spaceName} can fill out this form.",values:{spaceName:s}})}}function j(e,t=!1){return e.getIsFormPublic()?(0,m().Ay)({store:e,preferPublicLink:!0,pageVisitSource:o().y8.FormPublicPage}):(0,m().Ay)({store:e,openInCenterPeek:t,pageVisitSource:o().y8.FormInternalPage})}function k({collectionContextStore:e,propertyId:t,questionId:n,area:s,parentModuleId:o,layoutStore:i}){var a,r;const l=e?(0,p().sl)(e):void 0,c=null==e?void 0:e.collectionViewStore(),d=null==e?void 0:e.collectionStore(),u=null==c?void 0:c.getFormat(),m=null==u||null===(a=u.form_block_pointer)||void 0===a?void 0:a.id,f=null==e||null===(r=e.normalizedSchemaStore.state)||void 0===r||null===(r=r[t])||void 0===r?void 0:r.type;if(!d)throw new Error("Collection store is undefined");return{question_type:f,question_id:n,form_id:m,is_conditional:"form_conditional_modules"===s,parent_question_type:(0,y()._N)(o,i,d),...l??{}}}function I(e){const t=null==e?void 0:e.getFormat().form_layout_pointer;if(t)return b().K.createChildStore(e,t)}const E=new(n(178624).R)({key:"opt_out_form_content_warning",namespace:n(553737).cd,important:!1,trackingType:"preference"});function B(e){const t=E.getState(),n=void 0===t||Date.now()-t>d().nD,s="file"===e.propertyType?(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.file.message",defaultMessage:"Download file?"}):(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.url.message",defaultMessage:"Open link?"}),o=(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.description",defaultMessage:"This content was submitted anonymously. Only proceed if you trust the source."}),i="file"===e.propertyType?(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.file.confirmLabel",defaultMessage:"Download anyway"}):(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.url.confirmLabel",defaultMessage:"Open anyway"});n?u().ui({showCancel:!1,showCloseButton:!0,keepFocus:!0,mode:"wide",message:(0,v.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",fontWeight:c().Wy.medium},children:s}),description:(0,v.jsx)("div",{style:{textAlign:"center",fontSize:14},children:o}),items:[{label:i,onAccept:e.onConfirm,color:"red",buttonType:"solid"}],selectionItems:[{key:"opt_out",showBelowButtons:!0,text:(0,v.jsx)("span",{style:{fontWeight:c().Wy.regular},children:(0,v.jsx)(l().sA,{id:"collectionFormHelpers.maybeWarnAboutMaliciousContent.optOut",defaultMessage:"Don’t show again for 24 hours"})}),onSelect:e=>{!0===e?E.setState(Date.now()):E.setState(void 0)}}]}):e.onConfirm()}function F(e){const{environment:t,propertyType:n,propertySchema:s,isPublicForm:o}=e;if(o&&C.includes(n)){if("person"===n)return"invalid_property_type_for_public_form";if("relation"===(null==s?void 0:s.type)){const e=(0,a().Nv)(s);if(e){const n=new(h().m)(t,e);if(n.isDefined()){if(!(0,g().qw)(n))return"related_collection_not_public"}}}}}const P=(0,l().YK)({checkboxYes:{id:"FormResponseSnapshotModal.Checkbox.Yes",defaultMessage:"Yes"},checkboxNo:{id:"FormResponseSnapshotModal.Checkbox.No",defaultMessage:"No"}});function D(e){return"true"===e?f().A.formatMessage(P.checkboxYes):f().A.formatMessage(P.checkboxNo)}function R(e){const{formQuestionStore:t,propertySchema:n}=e;return(0,s().K8)((()=>{const e=null==t?void 0:t.getModel();return!(!e||!n)&&((0,i().Fi)({formQuestionModel:e,propertySchema:n})||"select"===(null==n?void 0:n.type))}),[t,n])}function N(e){const{draftFormBlockStore:t,formQuestionStore:n,propertyId:s,propertySchema:o}=e;if(!t||!s||!o)return;if("multi_select"!==o.type&&"select"!==o.type)return;const a=t.getPropertyValue(s);if("select"===o.type)return(0,r().L3)(a,o.options??[]);const l=n.getModel();if(l&&!(0,i().Fi)({formQuestionModel:l,propertySchema:o}))return;const c=(0,r().o2)(a,o.options??[]);return 1===c.length?c[0]:void 0}function K(e){var t;const{formQuestionStore:n,propertySchema:s}=e;if(s&&(0,a().lx)(s))return(null===(t=n.getPropertyTypeSpecificConfig(s.type))||void 0===t?void 0:t.displayMode)??"list"}},574506:(e,t,n)=>{n.d(t,{t:()=>r});var s=()=>n(242422),o=()=>n(726637),i=()=>n(765957),a=()=>n(680074);function r(){if(o().A.isMobile)return!1;const{currentUserSettingsStore:e}=i().default.state;if(!e)return!1;const t=(0,a().iZ)(e);return!("number"==typeof t&&t>7)&&"on"===s().default.getEligibleGroup({experimentId:"slash_menu_tooltip",defaultGroup:"control"})}},583690:(e,t,n)=>{n.d(t,{AC:()=>p,I2:()=>d,YC:()=>u});n(296540);var s=()=>n(401497),o=()=>n(493552),i=()=>n(212050),a=()=>n(413267),r=()=>n(69708),l=n(474848);function c(e){const{enabled:t,labelIfEnabled:n,labelIfDisabled:r}=e,c=(0,s().IS)((e=>({container:{color:t?e.text.secondary:e.text.tertiary,display:"flex",alignItems:"center",gap:5},iconStyles:{width:12,display:"inline",verticalAlign:"middle",color:t?e.blue.icon.accentPrimary:e.text.tertiary}})),[t]);return(0,l.jsxs)("div",{style:c.container,children:[t?(0,a().b)(c.iconStyles):(0,i().u)(c.iconStyles),(0,l.jsx)(o().D,{styleKey:"Caption/Regular",children:t?n:r})]})}function d(e){const t="none"!==e;return[(0,l.jsx)(c,{enabled:t&&e.read_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content"})},"read_content"),(0,l.jsx)(c,{enabled:t&&e.insert_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,l.jsx)(c,{enabled:t&&e.update_content,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content"})},"update_content"),(0,l.jsx)(c,{enabled:t&&e.insert_comment,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment"})},"insert_comment"),(0,l.jsx)(c,{enabled:t&&e.read_comment,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments"})},"read_comment")]}function u(e){return[(0,l.jsx)(c,{enabled:e.read_user_without_email,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users"})},"read_user_without_email"),(0,l.jsx)(c,{enabled:e.read_user_with_email,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses"}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses"})},"read_user_with_email")]}function p(e){return[(0,l.jsx)(c,{enabled:e.link_preview,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,l.jsx)(c,{enabled:e.synced_database,labelIfEnabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,l.jsx)(r().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}},655923:(e,t,n)=>{n.r(t),n.d(t,{arrowStraightDownIcon:()=>o,iconDefinition:()=>s});n(296540);const s={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.37 12.06 15.26",svg:(0,n(474848).jsx)("path",{d:"M10.625 3a.625.625 0 1 0-1.25 0v12.491l-4.333-4.333a.625.625 0 1 0-.884.884l5.4 5.4a.62.62 0 0 0 .884 0l5.4-5.4a.625.625 0 0 0-.884-.884l-4.333 4.333z"})},o=(0,n(340498).wt)("arrowStraightDown",s)},701751:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);var s=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,s.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,n(340498).wt)("lockOpen",o)},788621:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,personCircleIcon:()=>i});n(296540);var s=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("path",{d:"M7.755 6.169C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"}),(0,s.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.267c.789-1.397 2.333-2.33 4.087-2.33s3.298.933 4.087 2.33A6.375 6.375 0 0 0 10 3.625M13.049 15.6c-.547-1.049-1.697-1.789-3.05-1.789-1.351 0-2.501.74-3.048 1.789a6.35 6.35 0 0 0 3.049.775 6.34 6.34 0 0 0 3.049-.775"})]})},i=(0,n(340498).wt)("personCircle",o)},809437:(e,t,n)=>{n.r(t),n.d(t,{SlashMenu:()=>pe});var s=n(296540),o=()=>n(564884),i=()=>n(484714),a=()=>n(56366),r=()=>n(92601),l=()=>n(309770),c=()=>n(574506),d=()=>n(794144),u=()=>n(333665),p=()=>n(406792),m=()=>n(765957),f=()=>n(693202),g=()=>n(697393),h=()=>n(393255),b=()=>n(69708),y=()=>n(972435),v=()=>n(110955);const x=(0,b().YK)({addButtonPlaceholder:{defaultMessage:"Type to filter…",id:"text.commandsMenuOpen.placeholder"},slashInsertionPlaceholder:{defaultMessage:"Filter…",id:"slashMenu.slashInsertion.placeholder"}});var M=()=>n(662303),A=()=>n(30537),_=()=>n(417392),S=()=>n(722872),C=()=>n(998109),w=()=>n(231297),T=()=>n(452558),j=()=>n(404277),k=()=>n(89924),I=()=>n(970585),E=()=>n(502438),B=()=>n(50764),F=()=>n(541056),P=()=>n(59226),D=()=>n(401497),R=()=>n(699143),N=()=>n(493552),K=()=>n(916833),V=()=>n(760217),q=()=>n(802790),L=()=>n(460292),O=()=>n(991249),U=()=>n(204330),Q=n(474848);function Y(){const e=(0,D().IS)((e=>({upgradeItem:{marginTop:6,marginBottom:6},upgradeTitle:{color:e.blue.text.accentPrimary},divider:{color:e.regularDividerColor}})),[]),[t,n]=(0,s.useState)(!1),o=(0,i().v3)(),a=(0,P().X)("upgrade_system_page"),r={type:"product",product:"plus",limit:{type:"none"},trialability:"none"};return a?(0,Q.jsxs)(R().Y1,{direction:"vertical",gap:8,padding:"10px 12px",align:"center-left",children:[(0,Q.jsx)("div",{style:{paddingTop:2,paddingInlineEnd:8,paddingBottom:2,paddingInlineStart:2},children:(0,Q.jsx)(N().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:(0,Q.jsx)(b().sA,{id:"blockLimitUpsell.label",defaultMessage:"Unlimited blocks on Plus"})})}),(0,Q.jsx)(U().R,{source:"slash_menu",display:"button",width:"fill",upsell:r})]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(V().A,{focused:t,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onClick:()=>{O().K(o,{from:"slash_menu",upsell:r})},buttonStyle:e.upgradeItem,icon:(0,Q.jsx)(L().Q,{iconGroup:K().z,colorPalette:"blue",colorVariant:"accentPrimary",variantName:"default"}),title:(0,Q.jsx)(b().sA,{id:"slashMenuBlockLimit.title",defaultMessage:"<span>Upgrade plan</span> to add content",values:{span:t=>(0,Q.jsx)("span",{style:e.upgradeTitle,children:t})}})}),(0,Q.jsx)(q().A,{size:2,style:e.divider})]})}var W=()=>n(807778),z=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454),()=>n(700500)),H=()=>n(187174);const $=2;n(430670),n(908872);var G=()=>n(845955),J=()=>n(906745);class X{constructor(){this.UNVISITED_FRECENCY_SCORE=1}getFrecencyRankedActions(e,t){const n=Date.now();return Object.keys(e).sort(((s,o)=>{const i=e=>Math.ceil(e.frequency*this.getWeightForVisit(n,e.lastAccessed,t)),a=e[s],r=e[o],l=void 0!==(null==a?void 0:a.frequency)&&void 0!==(null==a?void 0:a.lastAccessed)?i(a):this.UNVISITED_FRECENCY_SCORE,c=void 0!==(null==r?void 0:r.frequency)&&void 0!==(null==r?void 0:r.lastAccessed)?i(r):this.UNVISITED_FRECENCY_SCORE;return l===c?0:c-l}))}getWeightForVisit(e,t,n){const{TIME_BUCKETS:s,DEFAULT_BUCKET_WEIGHT:o}=n,i=J().c9.fromMillis(e).diff(J().c9.fromMillis(t),"hours").as("hours");for(const a of s){if(i<=a.hours)return a.weight}return o}}var Z=()=>n(878855);function ee(e){const{sections:t,isEmptyBlock:n,suggestionCount:s,context:o,suggestedActionBoosts:i}=e,a=t.flatMap((e=>e.actions)).reduce(((e,t)=>(e[t.key]=t,e)),{}),r=function(e){const{actions:t}=e,n={TIME_BUCKETS:[{hours:4,weight:100},{hours:12,weight:80},{hours:24,weight:70},{hours:72,weight:60},{hours:168,weight:50},{hours:336,weight:40},{hours:672,weight:30}],DEFAULT_BUCKET_WEIGHT:20},s=new X;return s.getFrecencyRankedActions(t,n)}({actions:Z().A.get()}),l=function(e){const{suggestionCount:t,actionsByKey:n,frecencyRankedActions:s,isEmptyBlock:o,context:i}=e;let a=0;const r=Object.entries(n).filter((([e,t])=>{if(!(0,G().F6)(t,i))return!1;if(!s.includes(e))return!1;if(se.includes(e))return!1;if(e.match(ne)){if(o)return!0;a++}if(e.match(te)){if(o)return!1;a--}return a++,!0}));if(!o&&a<t)return[];const l=r.sort((([e,t],[n,o])=>s.indexOf(e)-s.indexOf(n))).slice(0,t).map((([e,t])=>e));if(l.length<t)return[];return l}({suggestionCount:s,actionsByKey:a,frecencyRankedActions:r,isEmptyBlock:n,context:o}),c=function(e){const{suggestedActions:t,suggestedActionBoosts:n,allAvailableActionsByKey:s}=e,o=n.filter((e=>e.isEnabled()&&s[e.actionKey])).slice(0,$);if(0===o.length)return t;const i=o.map((e=>({...s[e.actionKey],isBoosted:!0,boostPosition:e.position}))),a=new Set(o.map((e=>e.actionKey))),r=t.filter((e=>!a.has(String(e.key)))),l=Math.max(0,o.length-(t.length-r.length)),c=r.slice(0,r.length-l);return[...i.filter((e=>"first"===e.boostPosition)),...c,...i.filter((e=>"last"===e.boostPosition))]}({suggestedActions:l.map((e=>a[e])),suggestedActionBoosts:i,allAvailableActionsByKey:a});return c}const te="(turn into|action).*",ne="(action color).*",se=["action more"];var oe=()=>n(793531);function ie(e){const{filter:t,sectionsIsEmpty:n,focused:s,onClick:o,isAddMenu:i}=e,l=(0,b().tz)(),c=(0,D().IS)((e=>({divider:{color:e.lightDividerColor},shortcut:{color:e.text.tertiary,fontSize:12,whiteSpace:"nowrap"},titleText:{color:e.text.tertiary},titleFilterText:{color:e.text.primary}})),[]),d=l.formatMessage({id:"slashMenuItems.typeOnPage.message",defaultMessage:"Type '/{filter}' on the page"},{filter:t}),u=(0,Q.jsx)("div",{children:d.split("'").map(((e,n)=>{if(e===`/${t}`){const t=i?e.slice(1):e;return(0,Q.jsxs)("span",{style:c.titleText,children:["‘",(0,Q.jsx)("span",{style:c.titleFilterText,children:t}),"’"]},n)}return(0,Q.jsx)("span",{style:c.titleText,children:e},n)}))}),p=(0,a().K8)((()=>(0,r().jO)()),[]);return(0,Q.jsxs)(Q.Fragment,{children:[n?void 0:(0,Q.jsx)(q().A,{size:2,style:c.divider}),(0,Q.jsx)(k().A,{children:(0,Q.jsx)(V().A,{focused:s,onClick:o,title:u,right:(0,Q.jsx)("span",{style:c.shortcut,children:"esc"}),desktopTitleStyle:p})})]})}const ae=4,re=(0,b().YK)({suggestedSectionTitle:{id:"slashMenu.suggestedSection.title",defaultMessage:"Suggested"}});function le(e){const{sections:t,slashMenuState:l,menuProps:c,isEmptyBlock:d}=e,u=(0,i().v3)(),p=(0,a().K8)((()=>h().Tj(l)),[l]),m=(0,a().K8)((()=>E().default.state.stores),[]),f=(0,a().K8)((()=>(0,B().E)(u)),[u]),x=(0,a().K8)((()=>(0,W().Km)(u)),[u]),M=(0,s.useMemo)((()=>({environment:u,blocks:m,originRect:l.selectionRect,publicEditMode:void 0,analyticsFrom:"slash_menu"})),[u,m,l.selectionRect]),A=(0,a().O$)(v().rA),_=void 0!==p,S=(0,a().uB)(void 0,I().A),C=(0,a().K8)((()=>S.getState().focus.footerFocused),[S]),w=(0,s.useCallback)((()=>{(0,o().u)({environment:u,event:{eventName:"close_slash_menu",eventProperties:{id:l.id,source:"click_type_on_page"}}}),(0,g().V)({environment:u,dismissed:!0})}),[u,l.id]),D=_?(0,Q.jsx)(ie,{focused:C??!1,filter:p,sectionsIsEmpty:A,onClick:w,isAddMenu:l.isAddMenu}):void 0,R=_?{onFooterEnter:w}:{},N=Boolean(p)&&!A,K=(0,a().K8)((()=>({desktopTitleStyle:(0,r().jO)(),itemMarginLeft:0,itemMarginRight:4})),[]),V=!p,q=function({showSuggestedSection:e}){const t=(0,P().X)("slash_menu_suggested_meeting_notes"),[{value:s}]=(0,H().Yb)((async()=>{const{assistantDependency:e}=await Promise.resolve().then(n.bind(n,650829));return(await e.load()).AssistantFeatureGateStore}),[]),o=(0,a().K8)((()=>(null==s?void 0:s.isAiBlockConfigurationMenuEnabledForUser())??!1),[s]);return e?[{actionKey:`insert ${z().xd.transcription}`,isEnabled:()=>t,position:"first"},{actionKey:`insert ${z().sh.aiFreePromptBlock}`,isEnabled:()=>o,position:"first"}]:[]}({showSuggestedSection:V}),L=(0,a().K8)((()=>{if(V){const e=function(e){const{sections:t,isEmptyBlock:n,context:s,suggestedActionBoosts:o}=e,i=ee({suggestionCount:ae,sections:t,isEmptyBlock:n,context:s,suggestedActionBoosts:o});return i.length?{key:oe().IZ,title:y().A.formatMessage(re.suggestedSectionTitle),actions:i,render:e=>(0,Q.jsx)(k().A,{...e})}:void 0}({sections:t,isEmptyBlock:d,context:M,suggestedActionBoosts:q});return e?[e,...t]:t}return t}),[M,d,t,V,q]);return(0,Q.jsxs)(j().A,{...c,footer:D,children:[x&&!f?(0,Q.jsx)(Y,{}):null,N?(0,Q.jsx)(k().A,{title:(0,Q.jsx)(b().sA,{id:"slashMenuItems.filteredResults",defaultMessage:"Filtered results"}),children:(0,Q.jsx)(T().A,{sections:L,onAccept:(e,t,n,s,o)=>{if(!f)return(0,F().Q)(u);ce(e,u,s,o)},context:M,filter:p,flattenSectionsOnSearch:!0,initialFocus:0,resetFocusOnMouseOut:!0,useLimit:!0,showNoResultsMessage:!1,menuListStore:S,renderItemStyles:K,...R})}):(0,Q.jsx)(T().A,{sections:L,onAccept:(e,t,n,s,o)=>{if(!f)return(0,F().Q)(u);ce(e,u,s,o)},context:M,filter:p,flattenSectionsOnSearch:!0,initialFocus:0,resetFocusOnMouseOut:!0,useLimit:!0,showNoResultsMessage:!1,menuListStore:S,renderItemStyles:K,...R})]})}function ce(e,t,n,s){w().createAndCommit({userAction:"SlashMenu.handleAccept",environment:t,canUndo:!0,perform:o=>{h().Ju({environment:t,transaction:o,action:e,sectionKey:n,itemIndex:s})}})}function de(e){const{sections:t,slashMenuState:n,isEmptyBlock:s}=e,a=(0,i().v3)(),r=(0,i().Y0)(),l=n.isAddMenu?8:12,c=r.isMobileNative&&!r.isTablet&&!r.isIpad,d=`min(448px, ${r.isMobile?"25vh":"40vh"})`;return(0,Q.jsx)(_().Ay,{popupType:r.isMobileNative&&!r.isTablet?A().n.SlideUp:A().n.Popup,open:!0,originRect:n.selectionRect,placementToOrigin:"bottom",alignmentToOrigin:"start",originGap:l,disableMouseCapture:!0,disableContentScroll:!0,preventBlockRenderQueueOnEnter:!0,onDismiss:()=>{(0,o().u)({environment:a,event:{eventName:"close_slash_menu",eventProperties:{id:n.id,source:"esc"}}}),(0,g().V)({environment:a,dismissed:!0})},render:()=>(0,Q.jsx)(C().n,{step:"create_page_beyond_text",showSidebarOverlays:!1,onBackButtonClick:()=>(0,g().V)({environment:a,dismissed:!0}),onNextButtonClick:()=>(0,g().V)({environment:a,dismissed:!0}),children:(0,Q.jsx)(ue,{sections:t,slashMenuState:n,isMobileNative:c,environment:a,menuMaxHeight:d,isEmptyBlock:s})}),trapFocus:!1})}function ue(e){const{sections:t,slashMenuState:n,isMobileNative:s,environment:i,menuMaxHeight:a,isEmptyBlock:r}=e;let l;return l=s?{menuType:S().gu.ActionSheet}:{menuType:S().gu.Popup,width:"fr-FR"===M().locale?375:324,maxHeight:a,onClickOutside:()=>{(0,o().u)({environment:i,event:{eventName:"close_slash_menu",eventProperties:{id:n.id,source:"click_outside"}}}),(0,g().V)({environment:i,dismissed:!0})}},(0,Q.jsx)(le,{sections:t,slashMenuState:n,menuProps:l,isEmptyBlock:r})}function pe(){const e=(0,i().v3)(),t=(0,a().O$)(v().Ay),n=t.open&&t.isAddMenu,b=function(){const e=(0,a().O$)(v().Ay);return(0,s.useCallback)((t=>{if(!e.open)return;if(!t)return void e.temporaryInputDataStore.setState(void 0);const n=t.input===t.prefix?"addMenu"===t.type?y().A.formatMessage(x.addButtonPlaceholder):y().A.formatMessage(x.slashInsertionPlaceholder):"";e.temporaryInputDataStore.setState({prefix:t.prefix,suffix:"",completion:n,prefixIcon:void 0})}),[e])}(),M=(0,a().K8)((()=>t.open?f().default.state:void 0),[t]),A=function(e){const{slashMenuState:t,environment:n}=e,o=(0,s.useMemo)((()=>t.open?(0,r().s7)(n):void 0),[n,t.open]);return(0,a().K8)((()=>t.open&&o?t.isAddMenu?o.state.insertActions:o.state.slashActions:[]),[t,o])}({slashMenuState:t,environment:e}),_=(0,s.useRef)(!0),S=(0,a().K8)((()=>t.open&&!t.oldTextValue),[t]);return(0,s.useEffect)((()=>{let e=v().Ay.state.open;function t(t){if(t.state.open&&e!==t.state.open){const e=_.current?"slash_menu_first_open_lag":"slash_menu_open_lag";p().default.mark(e)}e=t.state.open}return v().Ay.addListener(t),()=>{v().Ay.removeListener(t)}}),[]),(0,s.useEffect)((()=>{if(t.open&&M){var s;if("editing"!==M.mode)return;const i=h().Tj(t);b(void 0!==i?n?{type:"addMenu",input:i,prefix:""}:{type:"slash",input:`/${i}`,prefix:"/"}:void 0);const a=v().rA.state;let r=0,p=t;i&&(a?r=i.length-t.lettersAtLastResult:(p={...t,lettersAtLastResult:(null==i?void 0:i.length)??0,filter:i},v().Ay.setState(p)));const{currentUserSettingsStore:f}=m().default.state;!f||null!==(s=f.getSettings())&&void 0!==s&&s.pressed_slash_tooltip||!(0,c().t)()||l().P(e);const{multiSelection:y}=M;!t.open||(0,d().K)(y)&&y.start.store===p.textStore&&!u().ZC(i,!0,a,r,p.textStore)||((0,o().u)({environment:e,event:{eventName:"close_slash_menu",eventProperties:{id:t.id,source:i?"auto_close":"backspace"}}}),(0,g().V)({environment:e,dismissed:!0}))}}),[e,A,M,t,b,n]),(0,s.useEffect)((()=>{if(t.open){const t=_.current?"slash_menu_first_open_lag":"slash_menu_open_lag";p().default.measure(t,{environment:e}),_.current=!1}}),[e,t]),t.open?(0,Q.jsx)(de,{sections:A,slashMenuState:t,isEmptyBlock:S}):null}}}]);