"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88924],{88975:(e,t,i)=>{i.r(t),i.d(t,{codegenIcon:()=>s,iconDefinition:()=>o});i(296540);var a=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"0 -0.01 20 20.01",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{fill:"#3730A3",clipPath:"url(#clip0_12504_10693)",children:[(0,a.jsx)("path",{d:"M14.181 6.786a.5.5 0 0 0 0 .705l2.137 2.131a.5.5 0 0 1 0 .706l-2.137 2.131a.5.5 0 0 0 0 .706l1.06 1.058a.5.5 0 0 0 .708 0l3.904-3.895a.5.5 0 0 0 0-.706L15.95 5.728a.5.5 0 0 0-.707 0zm-1.768 8.142a.5.5 0 0 0-.707 0l-1.353 1.35a.5.5 0 0 1-.707 0l-5.964-5.95a.5.5 0 0 1 0-.706l5.964-5.95a.5.5 0 0 1 .707 0l1.353 1.35a.5.5 0 0 0 .707 0l1.061-1.058a.5.5 0 0 0 0-.705L10.354.146a.5.5 0 0 0-.708 0l-9.5 9.476a.5.5 0 0 0 0 .706l9.5 9.476a.5.5 0 0 0 .707 0l3.121-3.113a.5.5 0 0 0 0-.705z"}),(0,a.jsx)("path",{d:"M12.5 9.975A2.497 2.497 0 0 1 10 12.47c-1.38 0-2.5-1.117-2.5-2.494A2.497 2.497 0 0 1 10 7.481c1.38 0 2.5 1.117 2.5 2.494"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12504_10693",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]})},s=(0,i(340498).wt)("codegen",o)},188924:(e,t,i)=>{i.d(t,{Tc:()=>h,jK:()=>y,C7:()=>b,Nh:()=>k});var a=()=>i(534177),o=()=>i(638681),s=()=>i(651784),r=()=>i(715256);const n={type:"calendar",config:{},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a,isCustomAgentContext:o})=>{if(o||e.isCustomAgent){return t.getConfig({actor:i?{id:i,table:"notion_user"}:r().S3,configName:"custom_agent_sub_features",customIDs:{spaceId:a,workflowId:e.workflowId}}).allowed_module_types.includes("calendar")}return Boolean(t.checkGate({gateName:"workflows_calendar_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}}))},triggers:{},effects:{"calendar.runTool":{versionAvailability:"*"},"calendar.fetchPlaybook":{versionAvailability:"*"}},authentication:void 0,latestVersion:"1.0.0",stateDuplicator:({original:e})=>{},getModuleConfigurationStatus:e=>"ready",getDescription:e=>e.formatMessage({id:"workflows.modules.calendar.description",defaultMessage:"Manage calendar events connected to Notion Calendar."}),getName:e=>e.formatMessage({id:"workflows.modules.calendar.name",defaultMessage:"Notion Calendar"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.calendar.notConnected",defaultMessage:"Calendar is not connected to {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(16789).notionCalendarIcon};const l={type:"codegen",config:{},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a})=>Boolean(e.enableExperimentalIntegrations&&t.checkGate({gateName:"agent_codegen_integration",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}})),authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"codegen.run":{versionAvailability:"*"},"codegen.runStatus":{versionAvailability:"*"}},stateDuplicator:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"},getDescription:e=>e.formatMessage({id:"workflows.modules.codegen.description",defaultMessage:"Integration with Codegen, a coding agent. Supports accessing and modifying code repositories, such as creating Github PRs or answering questions about the codebase."}),getName:e=>e.formatMessage({id:"workflows.modules.codegen.name",defaultMessage:"Codegen"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.codegen.notConnected",defaultMessage:"Codegen is not configured for {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(88975).codegenIcon};const d={type:"files",config:{},authentication:void 0,latestVersion:"1.0.0",triggers:{},effects:{"files.getFileContent":{versionAvailability:"*"},"files.getFileUrl":{versionAvailability:"*"},"files.getFileName":{versionAvailability:"*"}},isAvailable:()=>!1,stateDuplicator:({original:e})=>e,getModuleConfigurationStatus:()=>"ready",getDescription:e=>e.formatMessage({defaultMessage:"This integration allows working with files in your Workflow.",id:"workflow.module.files.description"}),getName:e=>e.formatMessage({defaultMessage:"Files",id:"workflow.module.files.title"}),getModuleConfigSection:()=>"system",getIcon:()=>i(767499).B};const c={type:"github",config:{scopes:[]},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a})=>Boolean(e.enableExperimentalIntegrations&&t.checkGate({gateName:"workflows_github_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}})),authentication:{type:"oauth2"},latestVersion:"1.0.0",triggers:{},effects:{"github.getPullRequest":{versionAvailability:"*"},"github.getUser":{versionAvailability:"*"},"github.listPullRequests":{versionAvailability:"*"},"github.listOrganizationRepositories":{versionAvailability:"*"},"github.parseGithubUrlToParts":{versionAvailability:"*"}},stateDuplicator:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"},getDescription:e=>e.formatMessage({id:"workflows.modules.github.description",defaultMessage:"Fetch information about pull requests, issues, repositories, and more."}),getName:e=>e.formatMessage({id:"workflows.modules.github.name",defaultMessage:"Github"}),getMessageIfNotValid:e=>e.formatMessage({id:"workflows.modules.github.notConnected",defaultMessage:"Please connect to Github"}),getModuleConfigSection:()=>"connections",getIcon:()=>i(564613).gitHubIcon};const g={type:"mail",config:{},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a,isCustomAgentContext:o})=>{if(o||e.isCustomAgent){return t.getConfig({actor:i?{id:i,table:"notion_user"}:r().S3,configName:"custom_agent_sub_features",customIDs:{spaceId:a,workflowId:e.workflowId}}).allowed_module_types.includes("mail")}return Boolean(t.checkGate({gateName:"workflows_mail_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}}))},triggers:{},effects:{"mail.runTool":{versionAvailability:"*"},"mail.getPrompt":{versionAvailability:"*"}},authentication:void 0,latestVersion:"1.0.0",stateDuplicator:({original:e})=>{},getModuleConfigurationStatus:e=>"ready",getDescription:e=>e.formatMessage({id:"workflows.modules.mail.description",defaultMessage:"Manage emails connected to Notion Mail."}),getName:e=>e.formatMessage({id:"workflows.modules.mail.name",defaultMessage:"Notion Mail"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.mail.notConnected",defaultMessage:"Mail is not connected to {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(705464).notionMailIcon};const u={type:"mcpServer",config:{},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a})=>Boolean(e.enableExperimentalIntegrations&&t.checkGate({gateName:"workflows_mcp_server_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}})),authentication:void 0,latestVersion:"1.0.0",stateDuplicator:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.serverUrl?"ready":"invalid"},triggers:{},effects:{"mcpServer.runTool":{versionAvailability:"*"},"mcpServer.listResources":{versionAvailability:"*"},"mcpServer.readResource":{versionAvailability:"*"},"mcpServer.listPrompts":{versionAvailability:"*"},"mcpServer.getPrompt":{versionAvailability:"*"}},getDescription:e=>e.formatMessage({id:"workflows.modules.mcpServer.description",defaultMessage:"Integration with MCP server for AI inference with tools"}),getName:e=>e.formatMessage({id:"workflows.modules.mcpServer.name",defaultMessage:"MCP Server"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.mcpServer.notConnected",defaultMessage:"MCP Server is not configured in {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(818541).V};const f={type:"pipedream",config:{scopes:["read","write"]},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a})=>Boolean(e.enableExperimentalIntegrations&&t.checkGate({gateName:"workflows_pipedream_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}})),authentication:{type:"pipedream"},latestVersion:"1.0.0",triggers:{"pipedream.trigger":{isTriggerConfigured:()=>!0,triggerDuplicator:({original:e})=>e,versionAvailability:"0.0.0",createDefaultState:()=>({type:"pipedream.trigger"})}},effects:{"pipedream.action":{versionAvailability:"*"}},stateDuplicator:({original:e})=>e,getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"},getDescription:e=>e.formatMessage({id:"workflows.modules.pipedream.description",defaultMessage:"Integration with external service"}),getName:e=>e.formatMessage({id:"workflows.modules.pipedream.name",defaultMessage:"integration"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.pipedream.notConnected",defaultMessage:"Integration is not connected to {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(824375).sparklesIcon};i(898992),i(672577);function m(e){var t;return Boolean(null===(t=e.channelIds)||void 0===t?void 0:t.length)||Boolean(e.allChannels)}const p={type:"slack",config:{scopes:{local:["app_mentions:read","channels:history","channels:read","chat:write.customize","chat:write","emoji:read","files:read","files:write","groups:history","groups:read","im:history","im:read","im:write","mpim:history","mpim:read","reactions:read","reactions:write","users:read.email","users:read"],production:["app_mentions:read","channels:history","channels:read","chat:write.customize","chat:write","emoji:read","reactions:read","reactions:write","users:read.email","users:read"]}},authentication:{type:"oauth2"},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a,isCustomAgentContext:o})=>{if(o||e.isCustomAgent){return t.getConfig({actor:i?{id:i,table:"notion_user"}:r().S3,configName:"custom_agent_sub_features",customIDs:{spaceId:a,workflowId:e.workflowId}}).allowed_module_types.includes("slack")}return Boolean(e.enableAgentIntegrations&&t.checkGate({actor:i?{id:i,table:"notion_user"}:r().S3,customIDs:{spaceId:a},gateName:"workflows_slack_module_available"}))},latestVersion:"1.0.0",triggers:{"slack.message":{isTriggerConfigured:m,fields:{channels:{required:()=>!0,isConfigured:m}},triggerDuplicator:({original:e})=>({type:e.type}),versionAvailability:"*",createDefaultState:()=>({type:"slack.message"}),getTriggerDedupKey:({workflowId:e,triggerId:t,triggerVariables:i})=>{var a;const o=null===(a=i.message)||void 0===a?void 0:a.id;if(o)return`${e}-${t}-${o}`}},"slack.thread.created":{isTriggerConfigured:m,fields:{channels:{required:()=>!0,isConfigured:m}},triggerDuplicator:({original:e})=>({type:e.type}),versionAvailability:"*",createDefaultState:()=>({type:"slack.thread.created"}),getTriggerDedupKey:({workflowId:e,triggerId:t,triggerVariables:i})=>{var a;const o=null===(a=i.thread)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.id;if(o)return`${e}-${t}-${o}`}},"slack.reaction.added":{isTriggerConfigured:m,fields:{channels:{required:()=>!0,isConfigured:m},reactions:{required:()=>!1,isConfigured:e=>Boolean(e.reactions&&e.reactions.length>0)},from:{required:()=>!1,isConfigured:e=>Boolean(e.from)}},triggerDuplicator:({original:e})=>({type:e.type,reactions:e.reactions,threadIds:e.threadIds,from:e.from}),versionAvailability:"*",createDefaultState:()=>({type:"slack.reaction.added"}),getTriggerDedupKey:({workflowId:e,triggerId:t,triggerVariables:i})=>{var a,o;const s=i.isFollowUpMessage?null===(a=i.thread[0])||void 0===a?void 0:a.id:null===(o=i.message)||void 0===o?void 0:o.id;if(s)return`${e}-${t}-${s}`}},"slack.app.mention":{isTriggerConfigured:m,fields:{channels:{required:()=>!0,isConfigured:m}},triggerDuplicator:({original:e})=>({type:e.type}),versionAvailability:"*",createDefaultState:()=>({type:"slack.app.mention"}),getTriggerDedupKey:({workflowId:e,triggerId:t,triggerVariables:i})=>{var a;const o=null===(a=i.message)||void 0===a?void 0:a.id;if(o)return`${e}-${t}-${o}`}}},effects:{"slack.createThreadInChannel":{versionAvailability:"*"},"slack.createThreadInDirectMessage":{versionAvailability:"*"},"slack.replyInThread":{versionAvailability:"*"},"slack.updateMessage":{versionAvailability:"*"},"slack.addReactionToMessage":{versionAvailability:"*"},"slack.removeReactionFromMessage":{versionAvailability:"*"},"slack.getThreadsInChannelSince":{versionAvailability:"*"},"slack.queryChannels":{versionAvailability:"*"},"slack.getUser":{versionAvailability:"*"},"slack.findUserByEmail":{versionAvailability:"*"},"slack.parseSlackMessageUrlToId":{versionAvailability:"*"}},stateDuplicator:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"},getDescription:e=>e.formatMessage({defaultMessage:"Fetch information about available users, channels, and messages, read messages from a channel, as well as sending messages, editing messages, and receiving message triggers from a connected Slack workspace.",id:"workflow.module.slack.description"}),getName:e=>e.formatMessage({defaultMessage:"Slack",id:"workflow.module.slack.title"}),getMessageIfNotValid:(e,t)=>e.formatMessage({defaultMessage:"Slack is not connected to {workflowName}",id:"workflow.module.slack.notConnected"},{workflowName:t}),getDefaultPermissions:()=>[{moduleType:"slack",type:"slack",identifier:"public:*",actions:["read","replyInThread"]}],getAIConfigurableDefaultPermissions:({type:e})=>"workflow"===e?[{identifier:"public:*",actions:["read","replyInThread"]}]:[{identifier:"*",actions:["read","write"]}],getModuleConfigSection:()=>"connections",getIcon:()=>i(888382).slackIcon,autoGrantPermissions:async({module:e,workflow:t,uriContext:i})=>{var a;let o=e;const s=t.triggers||[];if("slack"!==o.type)return o;const r=null===(a=o.permissions)||void 0===a?void 0:a.find((e=>{var t;return"public:*"===e.identifier&&(null===(t=e.actions)||void 0===t?void 0:t.includes("read"))}));for(const n of s){const e=n.state;if(e&&("slack.message"===e.type||"slack.app.mention"===e.type||"slack.reaction.added"===e.type||"slack.thread.created"===e.type)&&e.channelIds&&!r)for(const t of e.channelIds)o=v({module:o,channelId:t})}return await Promise.resolve(o)}};function v(e){var t;const{module:i,channelId:a}=e;if(null===(t=i.permissions)||void 0===t?void 0:t.find((e=>Array.isArray(e.identifier)?e.identifier.includes(a):e.identifier===a)))return i;const o={moduleType:"slack",type:"slack",identifier:a,actions:["read"]};return{...i,permissions:[...i.permissions||[],o]}}const w={type:"zendesk",config:{scopes:["read","write"]},isAvailable:({configStep:e,experimentService:t,userId:i,spaceId:a})=>Boolean(e.enableExperimentalIntegrations&&t.checkGate({gateName:"workflows_zendesk_module_available",actor:i?{table:"notion_user",id:i}:r().S3,customIDs:{spaceId:a}})),authentication:{type:"oauth2"},latestVersion:"1.0.0",triggers:{"zendesk.ticket":{isTriggerConfigured:()=>!0,triggerDuplicator:({original:e})=>({type:e.type,status:e.status,priority:e.priority,tags:e.tags}),versionAvailability:"*",createDefaultState:()=>({type:"zendesk.ticket"})}},effects:{"zendesk.getTicket":{versionAvailability:"*"},"zendesk.addTicket":{versionAvailability:"*"},"zendesk.addComment":{versionAvailability:"*"},"zendesk.getComments":{versionAvailability:"*"},"zendesk.updateTicket":{versionAvailability:"*"}},stateDuplicator:()=>{},getModuleConfigurationStatus:e=>{var t;return null!==(t=e.state)&&void 0!==t&&t.connectionPointer?"ready":"invalid"},getDescription:e=>e.formatMessage({id:"workflows.modules.zendesk.description",defaultMessage:"Integration with Zendesk Support"}),getName:e=>e.formatMessage({id:"workflows.modules.zendesk.name",defaultMessage:"Zendesk"}),getMessageIfNotValid:(e,t)=>e.formatMessage({id:"workflows.modules.zendesk.notConnected",defaultMessage:"Zendesk is not connected to {workflowName}"},{workflowName:t}),getModuleConfigSection:()=>"connections",getIcon:()=>i(295434).zendeskIcon},k={calendar:n,codegen:l,config:i(788060).$,files:d,github:c,mail:g,mcpServer:u,notion:i(71621).IN,pipedream:f,slack:p,zendesk:w};function y(e){return k[e]}function b(e,t){var i;return null===(i=y(e))||void 0===i?void 0:i.triggers[t]}function h(e){for(const t of Object.values(k))if(t)for(const[i,o]of(0,a().WP)(t.triggers))if(i===e)return o}o().union([o().object({optional:{callbackType:o().literals(...s().Bi),moduleSpecific:o().string(),redirectToAuth:o().literal("true"),transcriptId:o().string(),workflowId:o().string()},required:{moduleId:o().string(),spaceId:o().string(),type:o().literal("workflow"),userId:o().string()}}),o().object({optional:{callbackType:o().literals(...s().Bi),moduleSpecific:o().string(),redirectToAuth:o().literal("true")},required:{integrationId:o().string(),spaceId:o().string(),transcriptId:o().string(),type:o().literal("agent"),userId:o().string()}})])},342967:(e,t,i)=>{i.d(t,{v:()=>o});i(898992),i(354520);var a=()=>i(534177);function o(e,t){return Object.fromEntries((0,a().WP)({}).filter((([e,i])=>i.moduleId===t)))}},735790:(e,t,i)=>{i.d(t,{M:()=>s});i(296540);var a=i(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},s=(0,i(340498).wt)("sliders",o)},788060:(e,t,i)=>{i.d(t,{$:()=>o,J:()=>a});function a(e){return void 0===e.value&&"string"!==e.rootType}const o={type:"config",config:{},isAvailable:({experimentService:e,userId:t,spaceId:a})=>e.checkGate({gateName:"workflows_config_module_available",actor:t?{table:"notion_user",id:t}:i(715256).S3,customIDs:{spaceId:a}}),latestVersion:"1.0.0",triggers:{},effects:{},stateDuplicator:({original:e})=>e,getModuleConfigurationStatus:(e,t)=>{if(!t)return"invalid";const{modules:o}=t;if(!o)return"ready";for(const s of o){const e=(0,i(342967).v)(t,s.id);for(const t of Object.values(e))if(a(t))return"invalid"}return"ready"},getDescription:e=>e.formatMessage({id:"workflows.modules.config.description",defaultMessage:"Access configuration values"}),getName:e=>e.formatMessage({id:"workflows.modules.config.name",defaultMessage:"Configuration variables"}),getMessageIfNotValid:void 0,getModuleConfigSection:()=>"connections",getIcon:()=>i(735790).M}},818541:(e,t,i)=>{i.d(t,{V:()=>o});i(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.87 2.62 12.26 14.76",svg:(0,i(474848).jsx)("path",{d:"M3.875 3.25c0-.345.28-.625.625-.625h4c.345 0 .625.28.625.625v4c0 .345-.28.625-.625.625H7.125v.596c0 .179.126.333.302.368l5.39 1.075c.76.152 1.308.819 1.308 1.594v.617H15.5c.345 0 .625.28.625.625v4c0 .345-.28.625-.625.625h-4a.625.625 0 0 1-.625-.625v-4c0-.345.28-.625.625-.625h1.375v-.617a.375.375 0 0 0-.302-.368l-5.39-1.076a1.625 1.625 0 0 1-1.308-1.593v-.596H4.5a.625.625 0 0 1-.625-.625zm4 3.375v-2.75h-2.75v2.75zm4.25 6.75v2.75h2.75v-2.75z"})},o=(0,i(340498).wt)("connections",a)}}]);