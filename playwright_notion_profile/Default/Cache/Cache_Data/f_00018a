"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28958,71204],{4688:(e,t,u)=>{u.r(t),u.d(t,{arrowStraightUpSmallIcon:()=>n,iconDefinition:()=>o});u(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,u(474848).jsx)("path",{d:"M8.442 2.308a.625.625 0 0 0-.884 0l-4.32 4.32a.625.625 0 0 0 .884.884l3.253-3.253v9.017c0 .334.283.599.625.599a.61.61 0 0 0 .625-.599V4.26l3.253 3.253a.625.625 0 0 0 .884-.884z"})},n=(0,u(340498).wt)("arrowStraightUpSmall",o)},43371:e=>{e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68(?:\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83E\uDDD1(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC3B\u200D\u2744|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},158115:(e,t,u)=>{u.r(t),u.d(t,{arrowChevronSingleRightFillSmallIcon:()=>n,iconDefinition:()=>o});u(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,u(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},n=(0,u(340498).wt)("arrowChevronSingleRightFillSmall",o)},164992:(e,t,u)=>{u.d(t,{d:()=>S,A:()=>_});var o=u(296540),n=()=>u(484714),i=()=>u(401497),r=()=>u(718827),a=()=>u(252291),D=()=>u(158115),l=()=>u(66913),c=()=>u(284371),s=()=>u(614415),d=()=>u(38337),p=()=>u(645873),m=()=>u(732067),F=()=>u(56366),f=()=>u(665638),C=()=>u(965833),g=()=>u(180252),y=()=>u(644914),v=()=>u(661179);function E(e){const{rightEdgeDistance:t,environment:u,isInPeekRenderer:o,alwaysVisible:n,bottomEdgeDistance:r,overrides:a}=e,D=(0,F().K8)((()=>(0,y().zo)(u,o)-(0,y().Ql)(u)),[u,o]),l=(0,F().K8)((()=>t+v().A.state),[t]),c=(0,F().K8)((()=>(0,f().S)(u,(r??16)+v().A.state)),[r,u]),s=(0,F().K8)((()=>(0,g().$o)(u).state&&!n?0:1),[n,u]),{ovalButtonStyle:d}=(0,i().IS)((e=>({ovalButtonStyle:{position:"absolute",bottom:c,insetInlineEnd:l,borderRadius:100,fontSize:20,boxShadow:e.shadowSM,zIndex:111,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",backgroundBlendMode:"overlay, normal",opacity:s,transform:`translateX(-${D}px) translateZ(0)`,transition:`\n\t\t\t\topacity ${C().L}ms,\n\t\t\t\tcolor ${C().L}ms,\n\t\t\t\ttransform 200ms\n\t\t\t`,...null==a?void 0:a(e)}})),[D,l,c,s,a]);return d}var h=u(474848);function _(e){const{onClick:t,children:u,onClose:F,disableShimmerAnimation:f}=e,C=(0,n().v3)(),[g,y]=(0,o.useState)(!1),[v,_]=(0,o.useState)(!1),b=(0,o.useCallback)((()=>{y(!1),_(!1)}),[]),B=(0,o.useCallback)((()=>{b(),window.removeEventListener("mouseup",B)}),[b]),A=(0,o.useCallback)((()=>{y(!0)}),[]),x=(0,o.useCallback)((()=>{y(v),_(!1)}),[v]),M=(0,o.useCallback)((()=>{_(!0),window.addEventListener("mouseup",B)}),[B]),k=(0,o.useCallback)((()=>{_(!1)}),[]),I=function(e){const{environment:t,isHovered:u,isPressed:n,shouldDisableShimmerAnimation:r}=e,a=E({rightEdgeDistance:S,isInPeekRenderer:!1,environment:t,alwaysVisible:!0,overrides:e=>({width:void 0,height:45,background:e.whiteButtonBackground})}),[D,l]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{r||setTimeout((()=>{l(!0)}),2e3)}),[r]),(0,i().IS)((e=>({buttonStyle:{...a,cursor:"pointer",overflow:"hidden",userSelect:"none",display:"flex",alignItems:"center"},shimmerButtonStyle:{paddingInlineEnd:10,paddingTop:10,paddingBottom:10,display:"flex",alignItems:"center",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:"dark"===e.mode?"linear-gradient(270deg, rgba(255, 255, 255, 0.4) 13.84%, rgba(255, 255, 255, 1) 59.7%, rgba(255, 255, 255, 0.4) 93.89%)":"linear-gradient(270deg, rgba(0, 0, 0, 0.4) 13.84%, rgba(0, 0, 0, 1) 59.7%, rgba(0, 0, 0, 0.4) 93.89%)",backgroundSize:"200% 100%",backgroundRepeat:"no-repeat",...!D&&{background:void 0,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...u&&{background:e.whiteButtonHoveredBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0},...n&&{background:e.whiteButtonPressedBackground,backgroundImage:void 0,backgroundSize:void 0,backgroundClip:void 0,WebkitBackgroundClip:void 0,WebkitTextFillColor:void 0}},sparklesIcon:{height:22,width:22,padding:"4px 4px"},inner:{display:"flex",alignItems:"center",flexWrap:"nowrap"},chevronIcon:{marginInlineStart:8},message:{fontSize:c().J.UIRegular.desktop,textWrap:"nowrap",fontWeight:500}})),[u,n,D,a])}({environment:C,isHovered:g,isPressed:v,shouldDisableShimmerAnimation:f}),w=E({rightEdgeDistance:16,bottomEdgeDistance:65,isInPeekRenderer:!1,environment:C,alwaysVisible:!0,overrides:e=>({width:void 0,height:20,background:e.whiteButtonBackground})}),T=(0,i().IS)((e=>({closeButtonContainer:{...w},closeButton:{zIndex:10,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",width:20,height:20,padding:4},closeButtonHover:{background:e.buttonPressedBackground},closeButtonIcon:{width:16,fill:e.icon.tertiary}})),[w]),{value:R}=(0,p().fJ)(s().fM);if(!R)return null;const{motion:P}=R;return(0,h.jsxs)(h.Fragment,{children:[F?(0,h.jsx)("div",{style:T.closeButtonContainer,children:(0,h.jsx)(r().Ay,{onClick:F,style:T.closeButton,hoveredStyle:T.closeButtonHover,children:(0,l().V)(T.closeButtonIcon)})}):void 0,(0,h.jsx)(P.div,{style:I.buttonStyle,variants:{initial:{width:36},animate:{width:"auto",transition:{ease:[.87,0,.13,1],type:"spring",stiffness:90,damping:16,mass:1}}},initial:"initial",animate:"animate",onMouseMove:A,onMouseLeave:x,onMouseDown:M,onMouseUp:k,onClick:t,className:d().E4Q,children:(0,h.jsxs)(P.div,{style:I.shimmerButtonStyle,animate:{backgroundPosition:["150% 0","-50% 0"]},transition:{ease:"easeInOut",duration:1.5,repeat:1/0},children:[(0,h.jsx)(m().T5,{variant:"small"}),(0,h.jsxs)("div",{style:I.inner,children:[(0,h.jsx)(P.div,{style:I.message,variants:{initial:{opacity:0},animate:{opacity:1,transition:{ease:[.16,1,.3,1],duration:.75}}},initial:"initial",animate:"animate",children:u}),(0,h.jsx)("span",{style:I.chevronIcon,children:(0,h.jsx)(a().I,{icon:D().arrowChevronSingleRightFillSmallIcon,size:"sm",colorVariant:"tertiary"})})]})]})})]})}const S=16},175213:(e,t,u)=>{u.d(t,{G:()=>i});var o=()=>u(314529),n=()=>u(242422);function i(e,t){(0,o().DO_NOT_USE_trackLegacy)(e,"delete_property",t),n().default.logEvent("delete_property")}},241319:(e,t,u)=>{u.d(t,{y:()=>i});u(898992),u(672577);var o=()=>u(534177),n=()=>u(239381);function i(e){var t;const{actionModels:u,id:i}=e,r=(0,n().y5)(i),a="action"===r.source?u.find((e=>e.id===r.action_id)):void 0,D=(0,o().O9)(a)&&a.isType("create_page")?null===(t=a.getConfig())||void 0===t?void 0:t.collection:void 0;return{automationValueInfo:r,collectionPointer:D,actionModel:a}}},299177:(e,t,u)=>{u.d(t,{A:()=>i});class o extends(()=>u(757695))().Store{getInitialState(){return{}}}const n=new o;u(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",n);const i=n},377967:(e,t,u)=>{u.r(t),u.d(t,{InPageFind:()=>Be});u(898992),u(672577),u(430670);var o=u(296540),n=()=>u(833744),i=()=>u(395361),r=()=>u(484714),a=()=>u(56366),D=()=>u(401497),l=()=>u(998531),c=()=>u(396896),s=()=>u(124092),d=()=>u(160432),p=()=>u(591779),m=()=>u(740689),F=()=>u(403733),f=()=>u(4688),C=()=>u(40457),g=()=>u(995847),y=()=>u(340498),v=()=>u(201980),E=()=>u(175947),h=()=>u(69708),_=()=>u(496603),S=()=>u(284371),b=()=>u(182641),B=()=>u(555102),A=()=>u(650829),x=()=>u(164992),M=()=>u(118078),k=()=>u(614415),I=()=>u(180252),w=()=>u(38337),T=()=>u(792540),R=()=>u(375555),P=()=>u(231722),O=()=>u(794144),V=()=>u(645873),j=()=>u(644914),N=()=>u(430483),U=()=>u(295169),z=()=>u(77246),W=()=>u(735372),L=()=>u(712505),H=()=>u(177097),G=()=>u(46986),K=()=>u(145214),$=()=>u(285790),Q=()=>u(805751),Y=()=>u(623580),q=()=>u(35392),X=()=>u(859428),Z=(u(354520),u(803949),u(941795),()=>u(908006)),J=()=>u(779315),ee=()=>u(643707),te=()=>u(534177),ue=()=>u(620689),oe=()=>u(255460),ne=()=>u(471995),ie=()=>u(223393),re=()=>u(319975),ae=()=>u(231297),De=()=>u(516430),le=()=>u(953418),ce=()=>u(792002),se=()=>u(712287),de=()=>u(455994),pe=()=>u(656219),me=()=>u(143857),Fe=()=>u(171018),fe=()=>u(21915);function Ce(){W().Ay.update((e=>({...e,showReplaceInput:!e.showReplaceInput,focused:e.showReplaceInput})))}const ge=200;function ye(e){const{environment:t,matches:u,replace:o,find:n,intl:i,editorViewEditorModeMap:r}=e,{pageDetails:{activePageDetails:a,secondaryPageDetails:D}}=e,l=o.length-n.length,c=u.filter(te().O9).filter((e=>(0,T().M5)({environment:t,match:e,pageStore:e.view===a.view?a.store:null==D?void 0:D.store}))),s={id:"",columnId:void 0,offset:0};0!==c.length?(c.length>1&&fe().V({clearQuery:!1}),_().iv(c,ge).forEach((e=>{ae().createAndCommit({userAction:"findAndReplaceInstance",environment:t,canUndo:!0,perform:u=>{e.forEach((e=>{if(!e.allowReplace)return;const{blockStore:i,selection:a}=e,D="block"===e.type,c=D?e.propertyType:e.propertyId,d=i.getPropertyStore(c);if(!d)return;const p=e.blockStore.id,m=D?void 0:e.propertyId;s.id!==p||s.columnId!==m?(s.id=p,s.columnId=m,s.offset=0):s.offset+=l;const F=a.startIndex+s.offset,f=a.endIndex+s.offset,C=("main"===e.view?r.main:r.side_peek)??"default",g=(0,ce().DX)({startIndex:F,endIndex:f},d,C).toArray().filter(v().Ta1);if("suggest"===C){const o={start:{store:d,index:F},end:{store:d,index:f}},i=(0,De().RR)(t,u,e.blockStore);(0,De().rY)({environment:t,multiSelection:o,transaction:u,discussionStore:i}),s.offset+=n.length}else re().jQ({environment:t,selection:{startIndex:F,endIndex:f},store:d,transaction:u});const y=g.length>0?[o,g]:[o];re().yr({environment:t,index:"default"===C?F:F+n.length,store:d,tokens:[y],transaction:u,editorMode:C})}))}}),(0,ie().r)({item:{label:i.formatMessage({id:"inPageFind.replaceAll.snackbarCopy",defaultMessage:"{numMatches, plural, one {Replaced {numMatches} match} other {Replaced {numMatches} matches}}"},{numMatches:e.length})},undoFunc:()=>{W().Ay.update((e=>({...e,open:!0,showReplaceInput:!0})))}})}))):ne().D6({label:i.formatMessage({id:"inPageFind.replaceAll.noMatches",defaultMessage:"No matches replaced"})})}async function ve(e){var t;const{match:u,pagePropertiesStore:o,pageStore:n,environment:i}=e;if(!n)return;function r({isPeek:e}){const t=e?"peek":"mainPage";"popup"===de().A.getPanelState(t).displayStyle&&(0,se().F)({environment:i,from:"search",panelLocation:t,layoutStore:void 0})}const a="main"!==u.view;switch(u.type){case"block":case"simple_table_cell":await oe().NH(i,n,[u.blockStore.id]),r({isPeek:a});break;case"page_property_name":case"page_property_value":const e=n.getAssociatedCollectionStore(),D=null==e||null===(t=e.getNormalizedPropertyGroups())||void 0===t?void 0:t.find((({propertyIds:e})=>null==e?void 0:e.includes(u.propertyId)));u.visible||!o||o.state.forceShowProperties||o.update((e=>({...e,forceShowProperties:!0})));if(!(null==e?void 0:e.getLayoutStore()))break;u.isMatchInLayoutPageDetails?(0,se().j)({environment:i,from:"search",panelLocation:a?"peek":"mainPage",layoutStore:void 0}):r({isPeek:a}),u.isPropertyInGroup&&D&&pe().A.setPropertyGroupExpandedOverride({groupId:D.id,override:"open"});break;case"comment":r({isPeek:a}),await oe().NH(i,n,[u.blockStore.id]);const l=me().A.find((e=>e.getStore().id===u.discussionId)),c=null==l?void 0:l.getNode();if(!(c&&c instanceof Element))return;const s=c.getBoundingClientRect();await b().B4({analyticsFrom:"in_page_find",blockStore:u.blockStore,environment:i,shouldFocusDiscussion:!1,recursivelyLoadAllDiscussions:!1,rect:s}),await Z().default.afterNextFlush((()=>{const e=null==l?void 0:l.getMarginDiscussionScrollContainer();if(e){const t=e.getNode();t&&le().VG({element:t,environment:i,options:{top:t.scrollHeight,behavior:"smooth"}})}}))}("page_property_name"!==u.type&&"page_property_value"!==u.type||!u.isMatchInLayoutPageDetails)&&await async function(e,t){await Z().default.afterNextFlush();const u=document.getElementsByClassName(ee().wT).item(0);if(!u)return;const o="main"===e.view?J().A.PageScroller:J().A.PeekViewScroller;if(!o)return;ue().hT({element:u,environment:t,scrollerContext:{verticalScroller:o,horizontalScroller:void 0},vertical:{reveal:"closest"},horizontal:void 0,animate:!1})}(u,i)}function Ee(e,t){var u;if("page_property_name"!==t.type&&"page_property_value"!==t.type)return;const o=t.propertyId,n=e.getAssociatedCollectionStore(),i=null==n||null===(u=n.getNormalizedPropertyGroups())||void 0===u?void 0:u.find((({propertyIds:e})=>null==e?void 0:e.includes(o)));return(0,Fe().es)(null==i?void 0:i.id)}var he=()=>u(765957),_e=()=>u(502438);const Se=(0,h().YK)({inputPlaceHolder:{id:"inPageFind.find.inputPlaceholder",defaultMessage:"Find, replace, ask..."},replaceInputPlaceHolder:{id:"inPageFind.replace.inputPlaceHolder",defaultMessage:"Replace with..."},close:{id:"inPageFind.close",defaultMessage:"Close"},previousMatch:{id:"inPageFind.navigation.previousMatch",defaultMessage:"Previous match"},nextMatch:{id:"inPageFind.navigation.nextMatch",defaultMessage:"Next match"},toggleReplace:{id:"inPageFind.navigation.replaceToggle",defaultMessage:"Replace"},replaceAll:{id:"inPageFind.matches.replaceAll",defaultMessage:"Replace all"},replace:{id:"inPageFind.matches.individualReplace",defaultMessage:"Replace"},noMatches:{id:"inPageFind.noMatches",defaultMessage:"Not found"},askAi:{id:"inPageFind.askAi",defaultMessage:"Ask AI"},ofSpacer:{id:"inPageFind.ofSpacer",defaultMessage:"of"},lockedPage:{id:"inPageFind.lockedPage",defaultMessage:"Page is locked"}});var be=u(474848);function Be(){const{activePageDetails:e,secondaryPageDetails:t}=function(){const{mainPageDetails:e,peekPageDetails:t}=(0,a().K8)((()=>{const e=he().default.state.mainEditorCurrentBlockStore,t=L().default.peekTargetStore.state;return{mainPageDetails:e?{store:e,view:"main"}:void 0,peekPageDetails:t?{store:t,view:L().default.state.mode}:void 0}}),[],{useDeepEqual:!0}),u=(0,a().K8)((()=>{var e;return Boolean(null===(e=_e().default.getCurrentDefaultContainer())||void 0===e?void 0:e.isPeekRenderer())}),[]);return{activePageDetails:u?t:e,secondaryPageDetails:u?e:t}}();return e?(0,be.jsx)(Ae,{activePageDetails:e,secondaryPageDetails:t}):null}function Ae(e){const{activePageDetails:t,secondaryPageDetails:u}=e,[c,s]=(0,o.useState)(-1),[d,m]=(0,o.useState)(""),F=(0,o.useRef)(void 0),f=(0,o.useRef)(null),C=(0,o.useRef)(null),y=(0,r().v3)(),S=(0,h().tz)(),{focused:k,findQuery:$,showReplaceInput:q,open:X,textSelectionOnOpen:Z}=(0,a().O$)(W().Ay),J=(0,p().ZC)($),ee=(0,p().ZC)(Z),te=(0,p().ZC)(c),ue=$===J,oe=(0,a().K8)((()=>t.store.id),[t.store.id]),ne=(0,p().ZC)(oe),ie=(0,o.useRef)();(0,o.useEffect)((()=>{ne===oe||u||(fe().V({clearQuery:!0}),F.current=void 0)}),[oe,ne,u]),(0,n().L)({active:X,closeHandler:()=>{fe().V({clearQuery:!1})},ref:f,ignoreKeydown:!0,excludedSelectors:[`.${w().OO1}`,`.${w().rgg}`]});const re=(0,a().K8)((()=>{if(!X)return!1;F.current=void 0;const e=null==Z?void 0:Z.multiSelection,t=!(0,P().OH)(e,null==ee?void 0:ee.multiSelection),u=!!e&&((0,O().K)(e)&&e.start.index!==e.end.index);return t&&u}),[X,null==ee?void 0:ee.multiSelection,null==Z?void 0:Z.multiSelection]),ae=(0,a().K8)((()=>L().default.state.open),[]),De=(0,o.useCallback)((async e=>{var o;const n=null===(o=[t,u].find((t=>(null==t?void 0:t.view)===(null==e?void 0:e.view))))||void 0===o?void 0:o.store;if(!e||!n)return void W().wb.setState(void 0);const i=Ee(n,e),r="comment"===ie.current&&(!e||"comment"!==e.type),a=i&&i.state.forceShowProperties&&("page_property_name"===ie.current||"page_property_value"===ie.current)&&(!e||"page_property_name"!==e.type&&"page_property_value"!==e.type);if(r?b().xl():a&&i.reset(),"block"===e.type)W().wb.setState({type:"block",id:e.blockStore.id,selection:e.selection});else if("page_property_name"===e.type){const t=e.propertyId;W().wb.setState({type:"page_property_name",propertyId:t})}else"page_property_value"===e.type?W().wb.setState({type:"page_property_value",id:e.blockStore.id,inlineCollectionId:e.inlineCollectionId,inlineCollectionViewId:e.inlineCollectionViewId,propertyId:e.propertyId,selection:e.selection}):"comment"===e.type?W().wb.setState({type:"comment",id:e.commentId,selection:e.selection}):"simple_table_cell"===e.type&&W().wb.setState({type:"simple_table_cell",id:e.blockStore.id,propertyId:e.propertyId,selection:e.selection});ie.current=e.type,ue&&c===te||await ve({environment:y,match:e,pageStore:n,pagePropertiesStore:i})}),[t,u,ue,c,te,y]),le=(0,a().K8)((()=>{if(!X||0===$.length)return[];return _().oE([t,u]).flatMap((e=>(0,T().OM)({pageDetails:e,find:$,intl:S})))}),[X,$,t,u,S]),ce=le.length;(0,o.useEffect)((()=>{if(re){const e=le.findIndex((e=>{const t=null==Z?void 0:Z.multiSelection;if("block"!==e.type||!t||e.blockStore.id!==t.start.store.id)return!1;const{startIndex:u,endIndex:o}=e.selection;return u===t.start.index&&o===t.end.index}));s(Math.max(e,0))}else c>=le.length&&!ue&&s(0);const e=le[c];De(e)}),[c,le,ue,re,null==Z?void 0:Z.multiSelection,De]);const se=(0,a().K8)((()=>-1!==c?le[c]:void 0),[c,le]),de=function({activePageDetails:e,find:t}){const u=(0,a().K8)((()=>N().zD.isInPageFindQnaOptionEnabledForUser()),[]),{value:n}=(0,V().fJ)(A().assistantDependency),i=(0,r().v3)(),D=(0,o.useCallback)((async u=>{if(!n)return;const o=await n.assistantActions.resetAndInitializeAssistantSession({environment:i,makeActiveSession:!0});if(!o)return;const r=U().default.getSessionContext(o.sessionId);r&&(r.assistantConfigurationStore.setSearchScope({pageId:e.store.id,type:"page"}),fe().V({clearQuery:!1}),n.assistantMenuStore.setState({open:!0,currentView:"chat",from:"find_and_replace",isAssistantInputEmpty:n.assistantMenuStore.state.isAssistantInputEmpty}),u&&u.length>0&&await n.handleSubmitNewQuestion({currentClientSkillWithSettings:void 0,newValue:(0,v().x9d)(t),environment:i,shouldForceStartNewSession:!1,source:"in_page_find",assistantSurfaceType:"corner"}))}),[n,i,e.store.id,t]);return u?D:void 0}({activePageDetails:t,find:$}),pe=function(){const e=(0,r().v3)(),t=(0,G().i7)(),u=(0,a().O$)(B().bX),n=(0,o.useCallback)((t=>{if(!u||!u.blockStore)return;if(!t||0===t.length)return;fe().V({clearQuery:!1});const o=(0,B().Kf)({environment:e,spaceStore:u.spaceStore,userStore:u.userStore,value:(0,v().x9d)(t)}),n=(0,B().Xd)({environment:e,inferenceContext:u,addSteps:[o],surface:"find_and_replace",config:{type:"workflow"}}),i=(0,H().addTranscriptToNewThreadAndRun)({environment:e,spaceStore:u.spaceStore,transcript:n});(0,M().showChatSidebar)({environment:e,store:u.blockStore,chatSidebarRouteData:{isOpen:!0,threadId:i.id}})}),[e,u]);return t?n:void 0}(),me=pe??de,Fe=Boolean(me),ge=(0,i().Y)((e=>{W().Ay.update((t=>({...t,findQuery:e})))}),300),ye=(0,o.useCallback)((async e=>{var o;const{location:n}=e;if(0===ce)return;if(1===ce){var i;const e=null===(i=[t,u].find((e=>(null==e?void 0:e.view)===le[0].view)))||void 0===i?void 0:i.store;if(!e)return;const o=Ee(e,le[0]);return void(await ve({environment:y,match:le[0],pagePropertiesStore:o,pageStore:e}))}const r=c+("next"===n?1:-1),a=r>=0&&r<ce?r:"next"===n?0:ce-1,D=le[a];s(a);const l=null===(o=[t,u].find((e=>(null==e?void 0:e.view)===D.view)))||void 0===o?void 0:o.store;if(!l)return;const d=Ee(l,D);d&&await ve({environment:y,match:D,pagePropertiesStore:d,pageStore:l})}),[le,ce,c,t,u,y]),he=(0,a().K8)((()=>X?{main:z().Uv.getMode(t.store),side_peek:u?z().Uv.getMode(u.store):void 0}:{main:void 0,side_peek:void 0}),[t,X,u]),_e=(0,a().K8)((()=>t.store.isLocked()&&(!u||u.store.isLocked())),[t.store,u]),Be=y.device.isElectron,Ae=(0,a().K8)((()=>(0,I().$o)(y).state?0:(0,E().ek)(y.device.isElectronMac)),[y]),Te=(0,a().K8)((()=>(0,j().zo)(y,ae)),[y,ae]),Re=(0,o.useCallback)((()=>{const e=se&&("block"===se.type||"simple_table_cell"===se.type)&&se.blockStore.getTitleStore(),t=e?se.blockStore.getTitleStore():void 0,u=e&&t?{start:{store:t,index:se.selection.startIndex},end:{store:t,index:se.selection.endIndex}}:void 0;fe().V({clearQuery:!1,overridePreviousTextSelection:u})}),[se]),Pe=(0,o.useCallback)((e=>{e.preventDefault&&e.preventDefault();const t=C.current;t&&(0,R().G)(y,t)}),[y,C]),Oe=(0,D().IS)((e=>({findInputContainer:{display:"flex",alignItems:"center",gap:10,padding:"0px 10px"},container:{boxShadow:e.shadowMD,position:"absolute",top:0,insetInlineEnd:x().d,zIndex:1e3,backgroundColor:e.background.elevated,borderRadius:12,width:280,outline:`3px solid ${e.blue.border.secondaryTranslucent}`},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},findInput:{paddingTop:10,paddingBottom:10},input:{fontSize:14}})),[]);return(0,be.jsxs)(K().A,{visible:X,initial:{opacity:0,translateY:0,translateX:-Te},animate:{opacity:1,translateY:Ae+x().d,translateX:-Te},config:{duration:150},exit:{translateY:Ae,opacity:0,translateX:-Te},style:Oe.container,ref:f,children:[(0,be.jsx)("div",{style:Oe.findInputContainer,children:(0,be.jsx)(Q().A,{debugName:"FindAndReplace",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,children:(0,be.jsxs)(l().N,{debugName:"FindAndReplace",capture:!0,onShiftEnter:()=>ye({location:"previous"}),onUp:()=>ye({location:"previous"}),onDown:()=>ye({location:"next"}),onGroup:e=>{e.preventDefault&&e.preventDefault(),ye({location:"next"})},onUngroup:e=>{e.preventDefault&&e.preventDefault(),ye({location:"previous"})},onEsc:()=>Re(),onCommandJ:()=>null==me?void 0:me(),onCommandEnter:()=>null==me?void 0:me($),onSearch:e=>Pe(e),onToggleInPageFindReplace:()=>{!Be||_e||0===$.length&&!q||$.length>0&&0===ce&&!q||Ce()},children:[(0,be.jsx)(Y().A,{value:F.current??$,onChange:e=>{const t=e.target.value;if(F.current=t.length>0?t:void 0,ge.cancel(),F.current&&F.current.length>0)return ge(F.current),void s(0);W().Ay.update((e=>({...e,findQuery:""}))),W().wb.setState(void 0)},format:Y().C.Transparent,placeholder:S.formatMessage(Se.inputPlaceHolder),selectAll:!0,focus:k,onFocus:()=>{W().Ay.state.focused||W().Ay.update((e=>({...e,focused:!0})))},focusInitial:!0,onSubmit:()=>ye({location:"next"}),inputStyle:{...Oe.input,...Oe.findInput},style:Oe.inputContainer,ref:C},"find-input-element"),0===ce?(0,be.jsx)(Me,{hasQuery:$.length>0,isQnaEnabled:Fe,onClick:()=>null==me?void 0:me($),isShowingReplaceInput:q}):(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)(we,{currentSelectionIndex:c,numberOfMatches:ce}),(0,be.jsx)(ke,{jumpToBlockFn:ye,numberOfMatches:ce,isShowingReplaceInput:q,onReplaceIconClick:()=>{_e||Ce()},hasFindQuery:$.length>0,isPageLocked:_e})]}),(0,be.jsx)(Ie,{onClick:()=>fe().V({clearQuery:!1}),icon:g().xMarkSmallIcon,shortcut:"esc",caption:Se.close,active:!1})]})})}),(0,be.jsx)(xe,{currentSelectedMatchIndex:c,findInput:$,replaceInput:d,setReplaceInput:m,highlightMatches:le,shouldShow:q,editorViewEditorModeMap:he,pageDetails:{activePageDetails:t,secondaryPageDetails:u}})]})}function xe(e){const{findInput:t,replaceInput:u,setReplaceInput:o,highlightMatches:n,currentSelectedMatchIndex:i,shouldShow:l,editorViewEditorModeMap:p,pageDetails:{activePageDetails:m,secondaryPageDetails:F}}=e,f=(0,h().tz)(),g=(0,r().v3)(),v=t===u,E=(0,a().K8)((()=>-1!==i?n[i]:void 0),[i,n]),_=(0,a().K8)((()=>{if(0===t.length||v||!E)return!1;const e=E.view===m.view?m.store:(null==F?void 0:F.store)??void 0;return(0,T().M5)({environment:g,match:E,pageStore:e})}),[m.store,m.view,E,g,t.length,v,F]),b=(0,D().IS)((e=>({divider:{height:1,backgroundColor:e.border.secondaryTranslucent},replaceButton:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},replaceAll:{fontWeight:S().Wy.regular,color:e.text.secondary},replaceInputContainer:{display:"flex",padding:10,flexDirection:"column",alignItems:"flex-end",gap:3},inputContainer:{boxShadow:"none",border:"none",outline:"none",flexGrow:1},input:{fontSize:14}})),[]),{value:B}=(0,V().fJ)(k().fM);if(!B)return null;const{AnimatePresence:A,motion:x}=B;return(0,be.jsx)(A,{children:l?(0,be.jsxs)(x.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},style:{overflowY:"hidden"},transition:{duration:.1},children:[(0,be.jsx)("div",{style:b.divider}),(0,be.jsxs)("div",{style:b.replaceInputContainer,children:[(0,be.jsx)(Y().A,{value:u,onChange:e=>{o(e.target.value)},format:Y().C.Transparent,placeholder:f.formatMessage(Se.replaceInputPlaceHolder),inputStyle:b.input,style:b.inputContainer,focusInitial:!0,onSubmit:()=>{_&&E&&ye({matches:[E],environment:g,replace:u,find:t,intl:f,editorViewEditorModeMap:p,pageDetails:e.pageDetails})}},"replace-input-element"),(0,be.jsxs)(c().fI,{gap:4,children:[(0,be.jsx)(s().p,{onClick:()=>ye({matches:n,environment:g,replace:u,find:t,intl:f,editorViewEditorModeMap:p,pageDetails:e.pageDetails}),style:{...b.replaceButton,...b.replaceAll},disabled:0===t.length||v,...0===t.length||v?{colorPalette:"gray",colorVariant:"tertiary"}:{},children:f.formatMessage(Se.replaceAll)}),(0,be.jsx)(d().A,{colorPalette:"blue",onClick:()=>{E&&ye({matches:[E],environment:g,replace:u,find:t,intl:f,editorViewEditorModeMap:p,pageDetails:e.pageDetails})},style:{...b.replaceButton,cursor:_?"pointer":"not-allowed"},disabled:!_,children:(0,be.jsxs)(c().fI,{gap:4,alignItems:"center",children:[f.formatMessage(Se.replace),(0,C().arrowTurnDownLeftSmallIcon)({height:y().Ev.sm,width:y().Ev.sm})]})})]})]})]}):void 0})}function Me(e){const{hasQuery:t,isQnaEnabled:u,onClick:o,isShowingReplaceInput:n}=e,i=(0,h().tz)(),r=(0,D().IS)((e=>({container:{fontSize:13,display:"flex",borderRadius:8,height:void 0,paddingTop:7,paddingBottom:7},notFound:{whiteSpace:"nowrap",fontSize:12,color:e.text.tertiary}})),[]);return t?(0,be.jsxs)(be.Fragment,{children:[(0,be.jsx)("span",{style:r.notFound,children:i.formatMessage(Se.noMatches)}),u&&!n?(0,be.jsx)(X().A,{placement:"bottom",originGap:18,renderTooltip:()=>(0,be.jsx)(q().A,{name:"commandEnter"}),allowHover:!1,render:e=>(0,be.jsx)(d().A,{colorPalette:"blue",style:r.container,...e,onClick:o,children:i.formatMessage(Se.askAi)})}):null]}):null}function ke(e){const{jumpToBlockFn:t,isShowingReplaceInput:u,onReplaceIconClick:o,isPageLocked:n}=e,i=(0,r().Y0)().isElectron;return(0,be.jsxs)(c().fI,{alignItems:"center",gap:2,children:[(0,be.jsx)(Ie,{active:!1,caption:Se.previousMatch,icon:f().arrowStraightUpSmallIcon,onClick:()=>t({location:"previous"}),shortcut:"shiftEnter"}),(0,be.jsx)(Ie,{active:!1,caption:Se.nextMatch,icon:F().arrowStraightDownSmallIcon,onClick:()=>t({location:"next"}),shortcut:"enter"}),(0,be.jsx)(Ie,{active:u,icon:m().o,onClick:o,caption:n?Se.lockedPage:Se.toggleReplace,shortcut:i?"toggleInPageFindReplace":void 0,disable:n})]})}function Ie(e){const{onClick:t,caption:u,icon:o,active:n,shortcut:i,disable:r}=e,a=(0,h().tz)(),l=(0,D().IS)((e=>({icon:{width:y().Ev.sm,height:y().Ev.sm,color:n?e.blue.icon.accentPrimary:e.icon.secondary},iconWrapper:{padding:3,width:void 0,height:void 0,cursor:r?"not-allowed":"pointer"},description:{color:e.text.inverseSecondary},hoveredBackground:{background:e[n?"blue":"gray"].background.secondaryTranslucent},active:{}})),[n,r]);return(0,be.jsx)(X().A,{placement:"bottom",originGap:18,renderTooltip:e=>(0,be.jsxs)("div",{...e,children:[(0,be.jsx)("div",{children:a.formatMessage(u)}),!r&&i?(0,be.jsx)("div",{style:l.description,children:(0,be.jsx)(q().A,{name:i})}):null]}),allowHover:!1,render:e=>(0,be.jsx)($().A,{...e,icon:e=>o({...l.icon,...l.active}),ariaLabel:a.formatMessage(u),hoveredStyle:l.hoveredBackground,onClick:()=>t(),style:l.iconWrapper,disabled:r})})}function we(e){const{numberOfMatches:t,currentSelectionIndex:u}=e,o=(0,h().tz)(),n=(0,D().IS)((e=>({container:{fontSize:".8rem",color:e.text.tertiary,userSelect:"none",cursor:"default"}})),[]);return 0===t?null:(0,be.jsx)("div",{style:n.container,children:(0,be.jsxs)(c().fI,{gap:4,alignItems:"center",children:[(0,be.jsx)("span",{children:u+1}),o.formatMessage(Se.ofSpacer),(0,be.jsx)("span",{children:t})]})})}},390527:(e,t,u)=>{u.r(t),u.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>I,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>_,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>h,MAX_RECURRENCE_INTERVAL:()=>C,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>g,RRULE_WEEKDAYS_MAP:()=>f,adjustedStartDateIfPossible:()=>b,areRecurrenceSchedulesEqual:()=>O,convertFromUnpersistedRecurrenceConfig:()=>P,convertToUnpersistedRecurrenceConfig:()=>w,getFormattedEndCondition:()=>k,getFormattedNextRecurrenceTime:()=>M,getNewEndTimestamp:()=>T,getNextDateUtc:()=>x,getRecurrenceAfter:()=>B,isRunningBetweenMidnightAnd3AM:()=>A,isValidRecurrenceInterval:()=>y,isValidRecurrenceNumberOfRuns:()=>v,rruleFromRecurrence:()=>E,templateAncestorsViolateRecurrenceNesting:()=>S});u(898992),u(354520),u(581454);var o=()=>u(906745);u(944114);function n(e,...t){if(0===t.length)return e.map((e=>[e]));const u=[];for(const o of e)u.push(...n(t[0],...t.slice(1)).map((e=>[o,...e])));return u}var i=()=>u(496603),r=()=>u(534177),a=()=>u(720665),D=()=>u(597777),l=()=>u(869190),c=()=>u(416504),s=()=>u(402390);class d extends(()=>u(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var p=()=>u(912720);const m=(0,u(69708).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),F={day:d.DAILY,week:d.WEEKLY,month:d.MONTHLY,year:d.YEARLY},f={MO:d.MO,TU:d.TU,WE:d.WE,TH:d.TH,FR:d.FR,SA:d.SA,SU:d.SU},C=99,g=999;function y(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=C}function v(e){return(0,a().Et)(e)&&Number.isInteger(e)&&e>0&&e<=g}function E(e){const{start_date:t,frequency:u,interval:o,weekdays:i,timezone:a,hour:l,minute:c}=e,s="week"===u&&i?i.map((e=>f[e])):void 0,p={};return(0,r().O9)(e.end_condition)&&("date"===e.end_condition.type?p.until=(0,D().eU)(e.end_condition.end_at):"number"===e.end_condition.type?p.count=e.end_condition.number_of_occurrences:(0,r().HB)(e.end_condition)),"month"===e.frequency&&(0,r().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?p.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?p.byweekday=n(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((([e,t])=>f[e].nth(t))):(0,r().HB)(e.monthly_restriction)),new d({freq:F[u],dtstart:(0,D().eU)(t),interval:o,byweekday:s,tzid:a,byhour:l??0,byminute:c??0,bysecond:0,...p})}const h=1,_=1;function S(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const u=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),o=e.length,n=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=o>h,r=u.length>=_;return{violatesConstraint:i||r,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:r,nestedDepthOfAutomationAncestors:o,immediateAncestorRecurrenceType:n}}function b(e){var t;const{recurrence:u,afterDate:n}=e;if("number"===(null===(t=u.end_condition)||void 0===t?void 0:t.type)||u.start_date>=n)return u;let i=o().c9.fromMillis(u.start_date,{zone:"utc"});const r=o().c9.fromMillis(n,{zone:"utc"});switch(u.frequency){case"year":{const e=Math.floor(r.diff(i,"years").years/u.interval);i=i.plus({years:e*u.interval});break}case"month":{const e=Math.floor(r.diff(i,"months").months/u.interval);i=i.plus({months:e*u.interval});break}case"week":{const e=Math.floor(r.diff(i,"weeks").weeks/u.interval);i=i.plus({weeks:e*u.interval});break}case"day":{const e=Math.floor(r.diff(i,"days").days/u.interval);i=i.plus({days:e*u.interval});break}}return{...u,start_date:(0,D().DH)(i.toMillis())}}function B(e){const{recurrence:t,afterDate:u}=e;if((0,p().wt)(t)){const e=(0,D().l1)(u);return t.start_date>=e?new Date(t.start_date):void 0}{const e=E(b({recurrence:t,afterDate:u})).after((0,D().eU)(u));if(!e)return;return(0,D().h1)(e)}}function A(e){return 0===e.hour||1===e.hour||2===e.hour}function x(e){return E(e).after((0,D().eU)((0,D().Rz)()))||void 0}function M(e){const{recurrence:t,intl:u}=e,n=x(P(t));if(!n)return;const i=A(t),r=o().c9.fromJSDate(n).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,s().H)(u)).setZone(t.timezone),a=(0,l().Yq)({date:r,dateFormat:"relative",allowRelativeDates:!0,intl:u,shortenDate:!0});if(i)return u.formatMessage(m.dateBetweenMidnightAnd3AM,{date:a});{let e=r.toLocaleString(o().c9.TIME_SIMPLE);return t.timezone!==(0,c().P)()&&(e+=` ${r.toFormat("ZZZZ")}`),u.formatMessage(m.dateAtTime,{date:a,time:e})}}function k(e,t){return(0,r().O9)(e)?"number"===e.type?t.formatMessage(m.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,l().Yq)({date:o().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,r().HB)(e):t.formatMessage(m.noEndCondition)}const I=100;function w(e){return{...e,start_date:(0,D().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,D().l1)(e.end_condition.end_at)}:(0,r().HB)(e.end_condition):void 0}}function T(e,t,u){return e.plus(u-t)}function R(e,t){const u=o().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,D().Rz)(u.toJSDate())}}function P(e){return{...e,start_date:(0,D().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?R(e,e.end_condition):(0,r().HB)(e.end_condition):void 0}}function O(e,t){const u=i().fN(e,(e=>void 0!==e)),o=i().fN(t,(e=>void 0!==e));return i().n4(u,o)}},403733:(e,t,u)=>{u.r(t),u.d(t,{arrowStraightDownSmallIcon:()=>n,iconDefinition:()=>o});u(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,u(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},n=(0,u(340498).wt)("arrowStraightDownSmall",o)},422540:(e,t,u)=>{u.d(t,{$0:()=>C,Fx:()=>S,Ge:()=>m,I3:()=>d,Kj:()=>h,PP:()=>b,TK:()=>B,Yy:()=>s,aE:()=>A,cQ:()=>_,kH:()=>F,m7:()=>p,nq:()=>v,nv:()=>g,tj:()=>f});u(898992),u(354520),u(737550);var o=()=>u(496603),n=()=>u(534177),i=()=>u(381283),r=()=>u(898244),a=()=>u(651124),D=()=>u(349835),l=()=>u(390066);const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1},s={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(e){return Boolean(c[e.type]&&!(0,r().UU)(e)&&(!(0,r().$M)(e)||void 0===(0,r().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:u,filter:i,sort:D,sourcePropertyIds:c}=e,s=(c??(0,n().uv)(u)).filter(((t,o,n)=>{const a=u[t];return!(!a||!d(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,r().o2)(e.spaceId,a))&&(!i||i([t,a],o,u)))}));if(0===s.length)return[];if(!t||!1===D)return s;const p=(0,l().L)(t,u,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(s,(e=>p.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:u,sort:r}=e,D=(0,n().uv)(u).filter(((e,t,o)=>{const n=u[e];return!(!n||!(0,i().J)(n))}));if(0===D.length)return[];if(!t||!1===r)return D;const c=(0,l().L)(t,u,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(D,(e=>c.findIndex((t=>t.property===e))))}function F(e){return e.type===D().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===D().M9.TokenExpected?{type:e.type,token:e.token}:e.type===D().uW.MissingSchemaPropertyOnThisRow||e.type===D().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===D().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===D().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===D().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===D().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===D().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===D().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===D().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===D().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===D().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===D().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===D().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===D().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const f={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,place:!1};function C(e){return Boolean(f[e.type])}function g(e){const{collectionFormat:t,collectionSchema:u,filter:i,sort:D}=e,c=(0,n().uv)(u).filter(((e,t,o)=>{var n;const a=u[e];return!(!a||!f[a.type])&&((!(0,r().$M)(a)||null===(n=(0,r().om)(a))||void 0===n||!n.auto_update_on_edit)&&(!i||i([e,a],t,u)))}));if(0===c.length)return[];if(!t||!1===D)return c;const s=(0,l().L)(t,u,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(c,(e=>s.findIndex((t=>t.property===e))))}const y={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function v(e){return y[e.type]}const E={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function h(e){return E[e.type]}function _(e){return 0===e}function S(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function b(e){const{property:t,collectionSchema:u}=e;return!!u&&!u[t]}function B(e){const{collectionSchema:t,property:u,type:o}=e,n=null==t?void 0:t[u];return!n||("action"===o?!d(n):!f[n.type])}function A({automationTrigger:e,collectionSchema:t}){if("event"===(null==e?void 0:e.type)){const{pagesAdded:u,pagePropertiesEdited:o,source:i,relativeDate:r}=e.event;if(void 0===i)return!1;const a="some"===o.type&&o.some,D="all"===o.type&&o.all;if((a||D||[]).some((e=>b({collectionSchema:t,property:e.property})||B({collectionSchema:t,property:e.property,type:"trigger"}))))return!1;const l="some"===o.type&&(!(0,n().O9)(o.some)||0===o.some.length),c="all"===o.type&&(!(0,n().O9)(o.all)||0===o.all.length);if(!u&&("none"===o.type||l||c)&&!r)return!1}else{if("recurrence"!==(null==e?void 0:e.type))return!1;if(!e.recurrence)return!1}return!0}},448801:(e,t,u)=>{u.d(t,{i:()=>n});u(944114),u(517642),u(658004),u(733853),u(845876),u(432475),u(515024),u(731698);var o=()=>u(371562);o();function n(e,t){const u=o().create({arrays:{detectMove:!1,includeValueOnMove:!0}}).diff(e,t);if(!u)return{beforeOps:{},removeOps:new Set};let n=[],i=[];for(const o in u)"_t"!==o&&("_"===o[0]?n.push(parseInt(o.slice(1),10)):1===u[o].length&&i.push({index:parseInt(o,10),value:u[o][0]}));const r={},a=new Set,D=[...e];n=n.sort(((e,t)=>e-t));for(let o=n.length-1;o>=0;o--){const e=n[o],t=D.splice(e,1)[0];a.add(t)}i=i.sort(((e,t)=>e.index-t.index));for(let o=0;o<i.length;o++){const e=i[o];r[e.value]=D[e.index],D.splice(e.index,0,e.value)}return{beforeOps:r,removeOps:a}}},482871:(e,t,u)=>{u.d(t,{z:()=>c});u(517642),u(658004),u(733853),u(845876),u(432475),u(515024),u(731698),u(898992),u(430670),u(581454);var o=()=>u(898244),n=()=>u(448801),i=()=>u(179034),r=()=>u(722101),a=()=>u(878710),D=(u(354520),()=>u(496603));function l(e){const{collectionContextStore:t,collectionViewStore:u,transaction:n}=e,l=u.getPageSortStore(),c=l.getValue(),s=t.groupsStore.getAllGroupStates(),d=function(e){const{pageSort:t,currentResults:u}=e;if(!t||t.length<=o().WF)return[];const n=t.filter((e=>!u.has(e)));return D().sb([...n.reverse(),...D().o8(t).reverse()]).slice(0,t.length-o().WF)}({pageSort:c,currentResults:new Set(s.flatMap((e=>e.resultsStore.state.map((e=>e.id)))))});for(const o of d)r().TF({parentStore:l,childToRemoveStore:(0,a().v3)(l,{table:i().ev,id:o}),transaction:n})}function c(e){const{resultIds:t,collectionViewStore:u,collectionContextStore:D,transaction:c}=e,s=u.getPageSortStore(),d=s.getValue()||[],{beforeOps:p}=(0,n().i)(d,t.slice(0,o().WF));for(const[o,n]of Object.entries(p))if(n){const e=(0,a().v3)(u,{table:i().ev,id:n});r().nc({parentStore:s,insertStore:(0,a().v3)(u,{table:i().ev,id:o}),beforeStore:e,transaction:c})}else{const e=t.findIndex((e=>e===o)),n=t[e-1],D=n?(0,a().v3)(u,{table:i().ev,id:n}):void 0;r().WH({parentStore:s,insertStore:(0,a().v3)(u,{table:i().ev,id:o}),afterStore:D,transaction:c})}l({collectionContextStore:D,collectionViewStore:u,transaction:c})}},491848:(e,t,u)=>{u.d(t,{w:()=>n});u(898992),u(672577);var o=()=>u(755199);function n({collectionContextStore:e,transaction:t}){const u="collectionTypedView"===e.contextType,n=e.databaseType,i=e.collectionStoresStore.state,r=i.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||i[0];!u&&r&&o().ee({transaction:t,databaseType:n,collectionId:r.id})}},546461:(e,t,u)=>{u.d(t,{EC:()=>_,To:()=>h,YC:()=>S,or:()=>E,u:()=>v});u(16280);var o=u(296540),n=()=>u(484714),i=()=>u(792485),r=()=>u(56366),a=()=>u(496506),D=()=>u(322867),l=()=>u(69708),c=()=>u(534177),s=()=>u(813297),d=()=>u(862292),p=()=>u(698331),m=()=>u(645873),F=()=>u(190019),f=()=>u(76190),C=u(474848);const g=new WeakMap,y=(0,o.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});y.displayName="AutomationContext";function v(e){const{automationStore:t,children:u,contextType:o}=e,v=(0,n().v3)(),E=(0,l().tz)(),{value:h}=(0,m().fJ)(d().T.formulas),{value:_}=(0,m().fJ)(s().QV.automationTypecheck),S=(0,f().n)(t),b=(0,i().S)(),B=(0,r().K8)((()=>{if(!h)return{error:new(D().N9)("Missing formulas dependency")};if(!_)return{error:new(D().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:u,automationTypecheckModule:o,contextType:n,formulasModule:i,intl:r,isSubscribed:D,pageStore:l}=e,s=g.get(u);if(s)return s;{const e=new(a().ComputedStore)((()=>{const e=u.getTriggerType();let a=n;return(0,c().O9)(e)&&(0,p().x2)(e)&&(a=(0,p().H8)(e)),(0,F().Z)({environment:t,automationStore:u,automationTypecheckModule:o,contextType:a,formulasModule:i,intl:r,isSubscribed:D,pageStore:l})}),{debugName:"automationContextTypecheckResultCachedStore"});return g.set(u,e),e}}({environment:v,automationStore:t,automationTypecheckModule:_,contextType:o,formulasModule:h,intl:E,isSubscribed:S,pageStore:"button_block"===o?null==b?void 0:b.pageStore:void 0});return e.state}),[v,t,_,o,h,E,S,null==b?void 0:b.pageStore]);return(0,C.jsx)(y.Provider,{value:{automationStore:t,typecheckResult:B,contextType:o,defined:!0},children:u})}function E(e){const{automationStore:t,children:u}=e,o=(0,r().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,C.jsx)(v,{automationStore:t,contextType:(0,p().H8)(o??"event"),children:u})}function h(e){var t;return null===(t=g.get(e))||void 0===t?void 0:t.state}function _(){const e=o.useContext(y);if(!1===e.defined)throw new Error("No automation context found!");return e}function S(){return o.useContext(y)}},614415:(e,t,u)=>{u.d(t,{Wx:()=>i,fM:()=>o,sM:()=>n});const o=new(u(645873).O2)("framer-motion",(async()=>await Promise.all([u.e(44711),u.e(53321),u.e(37043)]).then(u.bind(u,301716))));function n(e){return e.useAnimation()}function i(e,...t){return e.useInView(...t)}},665638:(e,t,u)=>{u.d(t,{$:()=>c,S:()=>s});var o=()=>u(56366),n=()=>u(401497),i=()=>u(209199),r=()=>u(180252),a=()=>u(644914),D=()=>u(661179),l=()=>u(965833);function c(e){const{environment:t,rightEdgeDistance:u,isInPeekRenderer:c}=e,d=e.width??36,p=(0,o().K8)((()=>(0,a().zo)(t,c)-(0,a().Ql)(t)),[t,c]),m=(0,o().K8)((()=>s(t,16+D().A.state)),[t]),F=(0,o().K8)((()=>u+D().A.state),[u]),f=(0,o().K8)((()=>(0,r().$o)(t).state?0:1),[t]);return(0,n().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:m,insetInlineEnd:F,opacity:f,transform:`translateX(${(0,i().A1)()?"":"-"}${p}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${l().L}ms,\n\t\t\t\t\tcolor ${l().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:d,height:d,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[p,m,F,d,f])}function s(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},698331:(e,t,u)=>{u.d(t,{$X:()=>i,H8:()=>r,x2:()=>n});var o=()=>u(534177);function n(e){return"event"===e||"recurrence"===e}function i(e){const t=e.getTrigger();return(0,o().O9)(t)&&n(t.type)}function r(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,o().HB)(e)}},732067:(e,t,u)=>{u.d(t,{vF:()=>p,Su:()=>m,cG:()=>c,UY:()=>F,T5:()=>s});var o=u(296540),n=()=>u(401497),i=()=>u(783793);const r=u.p+"edfba4a6d1ff7acd.png",a=u.p+"c9223887dcb57b7d.gif",D=u.p+"7e9cbd56b1eca7b9.gif";var l=u(474848);function c(e){const{variant:t,style:u={}}=e;return(0,l.jsx)("div",{style:u,children:(0,l.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,l.jsx)(i().x_,{variant:t,shadowVariant:"light"})})})}function s(e){const{variant:t}=e,u=(0,n().IS)((()=>({faceWrapper:{marginInlineEnd:8}})),[]);return(0,l.jsx)("div",{style:u.faceWrapper,children:(0,l.jsx)(d,{variant:t})})}function d(e){const{variant:t}=e,u="dark"===(0,n().eP)(),[r,c]=(0,o.useState)(!0);(0,o.useEffect)((()=>{setTimeout((()=>{c(!1)}),6e3)}),[]);const s=(0,o.useMemo)((()=>{if(r)return u?a:D}),[u,r]);return(0,l.jsx)("div",{style:{marginInlineStart:8},children:(0,l.jsx)(i().x_,{variant:t,shadowVariant:"light",imgSource:s})})}function p(){const e=(0,n().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`}})),[]);return(0,l.jsx)("img",{style:e.faceImgStyles,src:r,role:"presentation",alt:"Notion AI Face"})}function m(){const e=(0,n().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`}})),[]);return(0,l.jsx)("img",{style:e.faceImgStyles,src:r,role:"presentation",alt:"Notion AI Face"})}function F(){const e=(0,n().IS)((e=>({faceImgStyles:{width:20,height:20,background:e.assistantCornerButtonBackground,borderRadius:"50%",border:`1px solid ${e.tableDividerColor}`,marginInlineStart:-2,marginInlineEnd:2}})),[]);return(0,l.jsx)("img",{style:e.faceImgStyles,src:r,role:"presentation",alt:"Notion AI Face"})}},740689:(e,t,u)=>{u.d(t,{o:()=>n});u(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.77 1.79 12.45 12.42",svg:(0,u(474848).jsx)("path",{d:"M8.709 1.978a.625.625 0 0 0-.884.884l.913.913H3.84c-1.14 0-2.065.925-2.065 2.065v4.78a.625.625 0 0 0 1.25 0V5.84c0-.45.365-.815.815-.815h4.898l-.913.913a.625.625 0 0 0 .884.884l1.98-1.98a.625.625 0 0 0 0-.884zM13.6 4.755a.625.625 0 0 0-.625.625v4.78c0 .45-.365.815-.815.815H7.263l.913-.913a.625.625 0 1 0-.884-.884l-1.98 1.98a.625.625 0 0 0 0 .884l1.98 1.98a.625.625 0 1 0 .884-.884l-.913-.913h4.897c1.14 0 2.065-.924 2.065-2.065V5.38a.625.625 0 0 0-.625-.625"})},n=(0,u(340498).wt)("arrowSquareLeftRightSmall",o)},766854:(e,t,u)=>{u.d(t,{H:()=>E,Q:()=>v});u(898992),u(672577);var o=()=>u(242422),n=()=>u(929219),i=()=>u(700500),r=()=>u(179034),a=()=>u(201980),D=()=>u(557281),l=()=>u(384944),c=()=>u(381678),s=()=>u(476492),d=()=>u(646736),p=()=>u(406792),m=()=>u(765957),F=()=>u(148832),f=()=>u(622811),C=()=>u(491848),g=()=>u(482871);function y(e,t,u){const n=(0,c()._)(e),i=null==n?void 0:n.id;if(!i||!u)return;if(!o().default.checkGate({gateName:"full_access_for_created_collection_pages"}))return;if(t.canAdmin())return;const r=t.getSpaceStore();return r&&(0,d().dp)(r,i).isMember()?[{role:"editor",type:"user_permission",user_id:i}]:void 0}function v(e){const{collectionContextStore:t,transaction:u}=e;return(0,C().w)({collectionContextStore:t,transaction:u}),E(e)}function E(e){var t,u,o;const{environment:c,collectionContextStore:d,groupsPointer:C,insertAtIndex:v,shouldCoerce:E,templateStore:h,transaction:_,from:S,tracker:b,inMemoryRecordCache:B,isKeyboard:A,title:x}=e,M=p().default.DO_NOT_USE_markLegacy("collections.add_item_lag");p().default.DO_NOT_USE_measureAfterNextFlushLegacy(M,{environment:c,getData:()=>({...s().kz(d),from:S.createBlock})});const k="collectionTypedView"===d.contextType,I=d.databaseType,w=d.collectionStoresStore.state,T=w.find((e=>e.canEdit()||e.canEditCollection()||e.canEditContentOnly()))||w[0],R=null===(t=m().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,P=m().default.state.currentUserSettingsStore,O=k&&I&&R&&P&&[...P.getAllPreferredCollections(R),...P.getPreferredCollectionsOfType(R,I)]||[];let V;const j=C[0];if("group_header"===S.createBlock&&"location"===j.value.type){const e=j.value.value;if(e){V=w.find((t=>t.id===e.id&&(t.canEdit()||t.canEditCollection()||t.canEditContentOnly())))}}else V=function(e,t){for(const u of e){const e=t.find((e=>e.id===u&&(e.canEdit()||e.canEditCollection()||e.canEditContentOnly())));if(e)return e}}(O,w);const N=V??T,U=null==N?void 0:N.getSpaceId(),z=d.collectionViewStore(),W=d.getViewType(),L=l().Wv({environment:c,type:i().xd.page,inMemoryRecordCache:B,transaction:_,spaceId:U,tracker:b,permissions:y(c,N,U),properties:{title:(0,a().x9d)(x)}});if(!N||!z||!W)return{coercionSucceeded:!0,newStore:L};const H=null===(u=d.groupsStore.getGroupState(C))||void 0===u?void 0:u.groupUiParentStore;if(!H)return{coercionSucceeded:!0,newStore:L};const G=F().B.createChildStore(H,{table:r().ev,id:L.id});h&&n().A.state.online&&D().n5({title:"template",environment:c,store:L,templateStore:h,isKeyboard:A??!1,isCreateIn:!1,transaction:_,from:S.initCollection??"collection_group_actions"});const K=(0,f().j)({environment:c,store:L,collectionStore:N,collectionContextStore:d,groupsPointer:C,shouldCoerce:E,transaction:_}),$=(null===(o=d.groupsStore.getGroupState(C))||void 0===o||null===(o=o.reducerResultStore.state)||void 0===o?void 0:o.blockIds)||[],Q=void 0!==v?v:$.length;if(d.permissionScopesStore.state.canEditContent||k){const e=[...$.slice(0,Q),G.id,...$.slice(Q)];(0,g().z)({resultIds:e,collectionViewStore:z,collectionContextStore:d,transaction:_})}return{coercionSucceeded:K,newStore:G}}},888325:(e,t,u)=>{function o(e){return`${e.table}:${e.id}`}u.d(t,{_:()=>o})},890409:(e,t,u)=>{u.d(t,{Ah:()=>C,Dk:()=>m,Iv:()=>f,SF:()=>F,YO:()=>v,_f:()=>h,c_:()=>d,dW:()=>y,gW:()=>p,sp:()=>_,vN:()=>g});u(16280),u(944114),u(898992),u(354520),u(803949),u(581454),u(737550);var o=()=>u(496603),n=()=>u(973647),i=()=>u(534177),r=()=>u(842599),a=()=>u(239381),D=()=>u(179034),l=()=>u(798880),c=()=>u(201980),s=()=>u(241319);function d(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"add_automation_step",properties:t})}function p(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"delete_automation_step",properties:t})}function m(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_create",properties:t})}function F(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_update",properties:t})}function f(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_delete",properties:t})}function C(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_enable",properties:t})}function g(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_disable",properties:t})}function y(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_create",properties:t})}function v(e,t){e.DO_NOT_USE_commonTrackEvent({eventName:"automation_action_delete",properties:t})}function E(e){const{formulaAnalyticsModule:t,formulasModule:u,formulaTypecheckContextValues:o,getRecordModel:r,spaceId:D,value:l,featureGates:c}=e;if("formula"===l.type){if(!(0,i().O9)(l.value))return;const e=n().Q.unwrapOr(u.parseFormulaInputToAst(l.value),void 0);if(e){const n=u.addTypesToFormulaAST(e,{handleDataRequest:(0,a().zg)(r),spaceId:D,valueTypes:o,featureGates:c});return{...t.getFormulaAnalytics(e,{getRecordModel:r,typecheckContextValues:o}),formula_return_type:n.node.type,redacted_formula:t.getRedactedFormulaAsStringSync(e,{getRecordModel:r,typecheckContextValues:o})}}}else{if("simple"===l.type){if(!(0,i().O9)(l.value))return;return t.getSimpleFormulaAnalytics(l.value,{getRecordModel:r,typecheckContextValues:o})}(0,i().HB)(l.type)}}function h(e){const{automationActionModel:t,automationActionModels:u,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m,simpleFormulasModule:F}=e;return t.isType("complete_sprint")?{automation_action_id:t.pointer.id,type:"complete_sprint"}:t.isType("create_page")?function(e){const{automationActionModel:t,formulaAnalyticsModule:u,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:r,featureGates:a}=e,D=t.getConfig();let l,c=[];const s=null==D?void 0:D.collection,d=null==D?void 0:D.properties;if((0,i().O9)(s)&&(0,i().O9)(d)&&d.length>0){const e=r(s),m=null==e?void 0:e.getNormalizedSchema();(0,i().O9)(m)&&(c=d.map((e=>{var t;return(null===(t=m[e])||void 0===t?void 0:t.type)??"unknown"})));const F=null==D?void 0:D.values;if(o&&(0,i().O9)(F)){l=[];for(const e of d){var p;const i=null===(p=F[e])||void 0===p?void 0:p.value;if(!i)continue;const D=E({formulaAnalyticsModule:u,formulasModule:o,getRecordModel:r,formulaTypecheckContextValues:n,spaceId:t.spaceId,value:i,featureGates:a});D&&l.push(D)}}}return{automation_action_id:t.pointer.id,property_formula_stats:l,property_types:c,type:"create_page"}}({automationActionModel:t,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m}):t.isType("duplicate_blocks")?{automation_action_id:t.pointer.id,type:"duplicate_blocks"}:t.isType("modal_confirmation")?function(e){const{automationActionModel:t,formulaAnalyticsModule:u,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:r,featureGates:a}=e,D=t.getConfig(),l=[];if(o&&(0,i().O9)(D)&&D.text){const e=E({formulasModule:o,formulaAnalyticsModule:u,getRecordModel:r,formulaTypecheckContextValues:n,spaceId:t.spaceId,value:D.text,featureGates:a});e&&l.push(e)}return{automation_action_id:t.pointer.id,formula_stats:l,type:"modal_confirmation"}}({automationActionModel:t,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m}):t.isType("open_page")?{automation_action_id:t.pointer.id,type:"open_page"}:t.isType("query_collection")?{automation_action_id:t.pointer.id,type:"query_collection"}:t.isType("send_in_app_notification")?function(e){var t;const{automationActionModel:u,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:D,simpleFormulasModule:l}=e,s={automation_action_id:u.pointer.id,messageCharacterCount:0,type:"send_in_app_notification"},d=u.getConfig();if(!(0,i().O9)(d))return s;if((0,i().O9)(d.target))if("formula"===d.target.type&&(0,i().O9)(d.target.value)){if(s.targetData={type:"formula",numUserFormulaTargets:(0,c().Fbh)(d.target.value.value).length,numFormulaContextTargets:l.getReferencedContextValueIds(d.target.value).length},n){const e=E({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:a,formulaTypecheckContextValues:r,spaceId:u.spaceId,value:d.target.value,featureGates:D});e&&(s.formula_stats??=[],s.formula_stats.push(e))}}else if("property"===d.target.type&&(0,i().O9)(d.target.propertyId)&&(0,i().O9)(d.target.collectionPointer)){const e=a(d.target.collectionPointer),t=null==e?void 0:e.getSchema();var p;(0,i().O9)(t)&&(s.targetData={type:"property",propertyType:null===(p=t[d.target.propertyId])||void 0===p?void 0:p.type})}if((0,i().O9)(null===(t=d.notification_message)||void 0===t?void 0:t.value)&&(s.messageCharacterCount=(0,c().FAw)(d.notification_message.value),n)){const e=E({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:a,formulaTypecheckContextValues:r,spaceId:u.spaceId,value:d.notification_message,featureGates:D});e&&(s.formula_stats??=[],s.formula_stats.push(e))}return s}({automationActionModel:t,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m,simpleFormulasModule:F}):t.isType("send_gmail_notification")?function(e){var t,u,n,a,D,s,d;const{automationActionModel:p,formulaAnalyticsModule:m,formulasModule:F,formulaTypecheckContextValues:f,getRecordModel:C,featureGates:g}=e,y=p.getConfig();if(!(0,i().O9)(y))return{automation_action_id:p.pointer.id,fields:{},recipient_domains:{},type:"send_gmail_notification"};const v=Object.fromEntries(Object.entries(y||{}).map((([e,t])=>{var u;return"formula"===(null==t?void 0:t.type)?[e,Boolean(null==t||null===(u=t.value)||void 0===u?void 0:u.value)]:"simple"===(null==t?void 0:t.type)?[e,Boolean(null==t?void 0:t.value)]:[e,Boolean(t)]}))),{to:h,cc:_,bcc:S}=y,b=[...(null==h||null===(t=h.value)||void 0===t?void 0:t.value)||[],...(null==_||null===(u=_.value)||void 0===u?void 0:u.value)||[],...(null==S||null===(n=S.value)||void 0===n?void 0:n.value)||[]],B=[...(0,c().Fbh)(b).map((e=>C({table:l().oo,id:e}))).map((e=>null==e?void 0:e.email)).filter(i().O9),...(0,r().C3)((0,c().k4p)(b))],A=o().Tr(B.map((e=>e.split("@")[1]))),x=[null===(a=y.to)||void 0===a?void 0:a.value,null===(D=y.cc)||void 0===D?void 0:D.value,null===(s=y.bcc)||void 0===s?void 0:s.value,null===(d=y.reply_to)||void 0===d?void 0:d.value,y.from_name,y.email_subject,y.email_body].map((e=>{if(F&&(0,i().O9)(e))return E({formulaAnalyticsModule:m,formulasModule:F,getRecordModel:C,formulaTypecheckContextValues:f,spaceId:p.spaceId,value:e,featureGates:g})})).filter(i().O9);return{automation_action_id:p.pointer.id,fields:v,formula_stats:x,recipient_domains:A,type:"send_gmail_notification"}}({automationActionModel:t,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m}):t.isType("slack_notification")?{automation_action_id:t.pointer.id,type:"slack_notification"}:t.isType("update_pages")?function(e){const{automationActionModel:t,automationActionModels:u,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:D,featureGates:l}=e,c=t.getConfig(),d=[],p=[],m=[];if((0,i().O9)(c)&&(0,i().O9)(c.target)&&(0,i().O9)(c.properties)&&c.properties.length>0){let e;if("variable"===c.target.type){const t=(0,a().y5)(c.target.id);if("action"===t.source){const t=(0,s().y)({actionModels:u,id:c.target.id}).collectionPointer;if((0,i().O9)(t)){const u=D(t);e=null==u?void 0:u.getNormalizedSchema()}}else{if("global"!==t.source||"button_page"!==t.global)throw new Error("Failed loading property schema");{const t=(0,a().IV)(r,c.target.id);if("block"===(null==t?void 0:t.type.type)&&(0,i().O9)(t.type.collection)){const u=D(t.type.collection);e=null==u?void 0:u.getNormalizedSchema()}}}}else if("collection"===c.target.type){const t=D(c.target.collection);e=null==t?void 0:t.getNormalizedSchema()}(0,i().O9)(e)&&c.properties.forEach((u=>{const a=e[u];if((0,i().O9)(a)&&(d.push(a.type),n&&(0,i().O9)(c.values))){const e=c.values[u];if((0,i().O9)(e)&&(p.push({type:a.type,operator:e.action}),e.value)){const u=E({formulasModule:n,formulaAnalyticsModule:o,getRecordModel:D,formulaTypecheckContextValues:r,spaceId:t.spaceId,value:e.value,featureGates:l});u&&m.push(u)}}}))}return{automation_action_id:t.pointer.id,property_configs:p,property_formula_stats:m,property_types:d,type:"update_pages"}}({automationActionModel:t,automationActionModels:u,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m}):t.isType("define_variables")?function(e){const{automationActionModel:t,formulaAnalyticsModule:u,formulasModule:o,formulaTypecheckContextValues:n,getRecordModel:r,featureGates:a}=e,D=t.getConfig(),l=[];if(o&&(0,i().O9)(D)&&D.values)for(const i of Object.values(D.values))if(i.value){const e=E({formulasModule:o,formulaAnalyticsModule:u,getRecordModel:r,formulaTypecheckContextValues:n,spaceId:t.spaceId,value:i.value,featureGates:a});e&&l.push(e)}return{automation_action_id:t.pointer.id,formula_stats:l,type:"define_variables"}}({automationActionModel:t,formulaAnalyticsModule:n,formulasModule:D,formulaTypecheckContextValues:d,getRecordModel:p,featureGates:m}):t.isType("http_request")?{automation_action_id:t.pointer.id,type:"http_request"}:t.isType("publish_site")?{automation_action_id:t.pointer.id,type:"publish_site"}:void(0,i().HB)(t)}function _(e){const{automationModel:t,builderType:u="sidebar",formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:l,simpleFormulasModule:c,source:s}=e,d=[],p=t.getActionPointers().map((e=>a(e))).filter(i().O9);for(const D of t.getActionPointers()){const e=a(D);(0,i().O9)(e)&&d.push(h({automationActionModel:e,automationActionModels:p,formulaAnalyticsModule:o,formulasModule:n,formulaTypecheckContextValues:r,getRecordModel:a,featureGates:l,simpleFormulasModule:c}))}const m=[];let F,f,C;if(t.isEventType()){var g;const e=t.getEventConfiguration(),u=a(t.getParentPointer());F=t.getParentId();const o=t.getEventConfiguration();if("collection_view"===(null===(g=o.source)||void 0===g?void 0:g.type)){const e=a(o.source.pointer);(null==e?void 0:e.parent_table)===D().ev&&(C=null==e?void 0:e.parent_id),f=null==o?void 0:o.source.pointer.id}const n=null==u?void 0:u.getNormalizedSchema();if((0,i().O9)(n)){const{pagesAdded:t,pagePropertiesEdited:u}=e;if(t&&m.push({type:"page"}),"any"===u.type)m.push({condition:"any",type:"property"});else if("none"===u.type)m.push({condition:"none",type:"property"});else{let e=[];"some"===u.type?e=u.some??[]:"all"===u.type&&(e=u.all??[]);const t=[],o=[];e.forEach((e=>{var u;const r=null===(u=n[e.property])||void 0===u?void 0:u.type;(0,i().O9)(r)&&(t.push({type:r,operator:e.filter.operator}),o.push(r))})),m.push({condition:u.type,property_configs:t,property_types:o,type:"property"})}}}else if(t.isButtonType())m.push({type:"button"});else if(t.isRecurrenceType()){var y;m.push({type:"recurrence",frequency:null===(y=t.getTrigger().recurrence)||void 0===y?void 0:y.frequency})}else(0,i().HB)(t);return{automation_actions:d,automation_id:t.id,automation_triggers:m,collection_id:F,collection_view_id:f,collection_view_block_id:C,builder_type:u,source:s}}},966759:(e,t,u)=>{u.d(t,{i:()=>i});var o=()=>u(476492),n=()=>u(175213);function i(e){const{environment:t,collectionContextStore:u,property_type:i,from:r,property:a,...D}=e,l=(0,o().sl)(u)||{};(0,n().G)(t,{property:a,property_type:i,from:r,...D,...l})}}}]);