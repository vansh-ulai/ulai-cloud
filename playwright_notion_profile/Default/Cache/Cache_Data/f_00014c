"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15499],{25500:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){return(0,o.jsx)("div",{style:{width:"100%",position:"relative",paddingBottom:100*e.ratio+"%"},children:e.children})}},51194:(e,t,n)=>{n.d(t,{a:()=>a});var o=n(296540),i=()=>n(525128);function a(){const e=(0,o.useRef)(!1);return(0,i().E)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}},51367:(e,t,n)=>{n.d(t,{Cu:()=>f,DL:()=>s,Jb:()=>c,Sq:()=>r,Y5:()=>l,gc:()=>u,wo:()=>d});var o=()=>n(564884),i=()=>n(242422),a=()=>n(917629);function s(e,t){const n=(0,a().h2)(t.callout_key);n&&(t.placement_key=(0,a().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_show",eventProperties:{...t,callout_src:n?"static":"cio"}}}),i().default.logEvent("callout_show",t.callout_key)}function l(e,t){const n=(0,a().h2)(t.callout_key);n&&(t.placement_key=(0,a().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_click",eventProperties:{...t,callout_src:n?"static":"cio"}}}),i().default.logEvent("callout_click",t.callout_key)}function r(e,t){const n=(0,a().h2)(t.callout_key);n&&(t.placement_key=(0,a().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:{...t,callout_src:n?"static":"cio"}}}),i().default.logEvent("callout_dismiss",t.callout_key)}function c(e,t){const n=(0,a().h2)(t.callout_key);n&&(t.placement_key=(0,a().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:{...t,callout_src:n?"static":"cio"}}})}function d(e,t){const{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:a,eligibility_timeouts:s,blocklist:l}=t;(0,o().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:i,required_args_run_duration:a,eligibility_timeouts:s,blocklist:l}}})}function u(e,t){(0,o().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}function f(e,t){(0,o().u)({environment:e,event:{eventName:"callout_skipped",eventProperties:t}})}},63728:(e,t,n)=>{n.d(t,{l:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return null}}const i=new o},112799:(e,t,n)=>{n.d(t,{a:()=>r,E:()=>l});n(16280);var o=n(296540),i=()=>n(484714),a=(n(898992),n(672577),()=>n(427704));a().GJ.downloadMac,a().GJ.downloadMacUniversal,a().GJ.downloadMacIntel,a().GJ.downloadMacAppleSilicon,a().GJ.downloadWindows,a().GJ.downloadWindowsArm;const s=[{route:a().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:a().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:a().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:a().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:a().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function l(){const e=(0,o.useRef)(null),t=(0,i().Y0)();return(0,o.useEffect)((()=>{r(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function r(e){var t;if(!("userAgentData"in navigator))return e.isMac?a().GJ.downloadMacUniversal:a().GJ.downloadWindows;const n=navigator.userAgentData,o=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),i=function(e,t){const n=function(e=""){const t=e.toLowerCase();return t.startsWith("arm")?"arm":t.startsWith("x86")||"intel"===t?"x86":null}(e);if(!n||"mac"!==t&&"windows"!==t)return null;const o=s.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==o?void 0:o.route)||null}(null==o?void 0:o.architecture,e.os);return i||null}},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},153861:(e,t,n)=>{n.d(t,{AE:()=>f,N5:()=>h,T:()=>p,ap:()=>g,pe:()=>m});var o=()=>n(242422),i=()=>n(762433),a=()=>n(367550),s=()=>n(979340),l=()=>n(496603),r=()=>n(534177),c=()=>n(600871),d=()=>n(155959),u=()=>n(324561);function f(){return((0,d().T)("isSamsungPreload")||(0,d().T)("isInstalledFromSamsungAppStore"))&&o().default.checkGate({gateName:"samsung_disable_all_upgrades"})}function p({upsell:e,intl:t}){return"product"===e.type?(0,s().u2)({product:e.product,intl:t}):void 0}function g(e){const{environment:t,upsell:n,spaceStore:o,salesStatus:a,offer:l,requestState:r,billingData:p,source:g}=e;if("none"===n.type)return{status:"not_eligible",reason:"feature_not_upsellable"};const h=n.product;if("sales_assisted"===a)return{status:"sales_assisted"};if((0,s().h0)(h)&&"sales_eligible"===a)return{status:"sales_eligible"};const{addOnFeature:y}=m({billingData:p,product:h});if(!(0,i().Gm)(p)&&["block_limit_sidebar","block_limit_settings","block_limit_banner","database_chart_paywall","delete_blocks_modal","slash_menu","out_of_blocks_toast","forms_increase_file_limit","forms_notion_branding","forms_customize_settings"].includes(g)&&!y)return{status:"eligible_for_upgrade",reason:"plans_page_redirect"};const v=function(e){const{product:t,environment:n,spaceStore:o}=e;if(f())return{status:"not_eligible",reason:"samsung_purchases_not_supported"};const i=(0,c().mM)({environment:n})&&("personal"===t||"ai"===t);if(i){if(((null==o?void 0:o.getMemberCountFromPublicSpaceData())??1)>1)return{status:"not_eligible",reason:"mobile_multi_member_workspace"}}if(n.device.isMobileNative)return"ai"!==t||(0,d().T)("supportsAiIAP")?i?{status:"eligible_for_upgrade",reason:"show_mobile_native_upgrade_modal"}:{status:"not_eligible",reason:"mobile_purchase_not_supported"}:{status:"not_eligible",reason:"mobile_ai_add_on_purchase_not_supported"}}({product:h,environment:t,spaceStore:o});return v||("app_store"===(null==p?void 0:p.provider)||"play_store"===(null==p?void 0:p.provider)?{status:"not_eligible",reason:"subscribed_via_in_app_purchase"}:"unrequested"===r?{status:"eligible_to_request"}:"pending"===r?{status:"request_pending"}:null!=o&&o.canAdmin()?(0,i().bO)((0,u().a9)(p))?{status:"not_eligible",reason:"unverified_payment"}:"preferred"===n.trialability&&"trial"===(null==l?void 0:l.type)&&l.subscriptionTier===n.product?{status:"eligible_for_trial"}:{status:"eligible_for_upgrade",reason:"show_upgrade_modal"}:{status:"not_eligible",reason:"not_workspace_owner"})}function m({billingData:e,product:t}){return(0,r().Xk)(a().xm,t)?{addOnFeature:t,for_subscription_tier:(0,i().AI)(e)}:{for_subscription_tier:t}}function h(e){const{messages:t,values:n}=e;return l().LG(t,(e=>({...e,interpolatedValues:n})))}},198048:(e,t,n)=>{n.d(t,{C:()=>s});var o=n(296540),i=()=>n(51194),a=()=>n(610104);function s(){const e=(0,i().a)(),[t,n]=(0,o.useState)(0),s=(0,o.useCallback)((()=>{e.current&&n(t+1)}),[t]);return[(0,o.useCallback)((()=>a().Gt.postRender(s)),[s]),t]}},203066:(e,t,n)=>{n.d(t,{N:()=>c});var o=n(296540);class i extends o.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function a({children:e,isPresent:t}){const n=(0,o.useId)(),a=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0});return(0,o.useInsertionEffect)((()=>{const{width:e,height:o,top:i,left:l}=s.current;if(t||!a.current||!e||!o)return;a.current.dataset.motionPopId=n;const r=document.createElement("style");return document.head.appendChild(r),r.sheet&&r.sheet.insertRule(`\n          [data-motion-pop-id="${n}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${o}px !important;\n            top: ${i}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(r)}}),[t]),o.createElement(i,{isPresent:t,childRef:a,sizeRef:s},o.cloneElement(e,{ref:a}))}const s=({children:e,initial:t,isPresent:i,onExitComplete:s,custom:r,presenceAffectsLayout:c,mode:d})=>{const u=(0,n(328601).M)(l),f=(0,o.useId)(),p=(0,o.useMemo)((()=>({id:f,initial:t,isPresent:i,custom:r,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;s&&s()},register:e=>(u.set(e,!1),()=>u.delete(e))})),c?void 0:[i]);return(0,o.useMemo)((()=>{u.forEach(((e,t)=>u.set(t,!1)))}),[i]),o.useEffect((()=>{!i&&!u.size&&s&&s()}),[i]),"popLayout"===d&&(e=o.createElement(a,{isPresent:i},e)),o.createElement(n(786719).t.Provider,{value:p},e)};function l(){return new Map}const r=e=>e.key||"";const c=({children:e,custom:t,initial:i=!0,onExitComplete:a,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{(0,n(285238).V)(!l,"Replace exitBeforeEnter with mode='wait'");const u=(0,o.useContext)(n(29473).L).forceRender||(0,n(198048).C)()[0],f=(0,n(51194).a)(),p=function(e){const t=[];return o.Children.forEach(e,(e=>{(0,o.isValidElement)(e)&&t.push(e)})),t}(e);let g=p;const m=(0,o.useRef)(new Map).current,h=(0,o.useRef)(g),y=(0,o.useRef)(new Map).current,v=(0,o.useRef)(!0);if((0,n(525128).E)((()=>{v.current=!1,function(e,t){e.forEach((e=>{const n=r(e);t.set(n,e)}))}(p,y),h.current=g})),(0,n(757491).l)((()=>{v.current=!0,y.clear(),m.clear()})),v.current)return o.createElement(o.Fragment,null,g.map((e=>o.createElement(s,{key:r(e),isPresent:!0,initial:!!i&&void 0,presenceAffectsLayout:c,mode:d},e))));g=[...g];const b=h.current.map(r),_=p.map(r),x=b.length;for(let n=0;n<x;n++){const e=b[n];-1!==_.indexOf(e)||m.has(e)||m.set(e,void 0)}return"wait"===d&&m.size&&(g=[]),m.forEach(((e,n)=>{if(-1!==_.indexOf(n))return;const i=y.get(n);if(!i)return;const l=b.indexOf(n);let v=e;if(!v){const e=()=>{m.delete(n);const e=Array.from(y.keys()).filter((e=>!_.includes(e)));if(e.forEach((e=>y.delete(e))),h.current=p.filter((t=>{const o=r(t);return o===n||e.includes(o)})),!m.size){if(!1===f.current)return;u(),a&&a()}};v=o.createElement(s,{key:r(i),isPresent:!1,onExitComplete:e,custom:t,presenceAffectsLayout:c,mode:d},i),m.set(n,v)}g.splice(l,0,v)})),g=g.map((e=>{const t=e.key;return m.has(t)?e:o.createElement(s,{key:r(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)})),o.createElement(o.Fragment,null,m.size?g:g.map((e=>(0,o.cloneElement)(e))))}},218429:(e,t,n)=>{n.d(t,{l:()=>b});var o=n(296540),i=()=>n(484714),a=()=>n(56366),s=()=>n(401497),l=()=>n(543906),r=()=>n(110750),c=()=>n(778417),d=()=>n(112204),u=()=>n(297872),f=()=>n(676007),p=()=>n(754002),g=()=>n(993130),m=()=>n(404141),h=()=>n(51367),y=()=>n(131448),v=n(474848);function b(e){const{messageKey:t,desktopRenderInner:n,desktopInnerStyle:o,desktopOnDismiss:c,phoneRenderInner:d,phoneInnerStyle:p,phoneOnly:b,calloutMetadata:x}=e,w=(0,i().v3)(),S=(0,i().Y0)(),k=(0,s().IS)((e=>({modalStyle:{background:e.background.secondary,borderRadius:12,...o}})),[o]),M=(0,a().K8)((()=>{var e;const t=(0,r().Xz)(w.TabbedRouterStore.state);return"web"===t.type&&((null===(e=t.redirectedTo)||void 0===e?void 0:e.route)||t.route)}),[w.TabbedRouterStore]),j=(0,a().K8)((()=>!(S.isPhone&&(0,g().A)(w)&&(!M||"page"!==M.name))&&!m().A.state.open),[S.isPhone,w,M]),A=(0,a().K8)((()=>y().default.isVisible(t)),[t])&&j;return(0,l().A)((()=>{h().DL(w,{callout_key:t,is_forced:y().default.isForced(t),placement_key:"Modal",callout_metadata:x})}),A),A?S.isPhone?(0,v.jsx)(_,{messageKey:t,renderInner:d,innerStyle:p}):b&&!S.isPhone?null:(0,v.jsx)(f().a,{open:!0,preventHideChildrenWhileOpening:!0,onDismiss:c,innerStyle:k.modalStyle,render:()=>(0,v.jsx)(u().A,{capture:!0,allowEsc:!0,render:n})}):null}function _(e){const{renderInner:t,innerStyle:n,messageKey:a}=e,s=(0,i().v3)(),l=(0,o.useCallback)((()=>{h().Sq(s,{callout_key:a,dismiss_type:"modal_background_clicked",placement_key:"Modal"})}),[s,a]),r=(0,o.useCallback)((()=>{h().Sq(s,{callout_key:a,dismiss_type:"modal_dismiss_clicked",placement_key:"Modal"})}),[s,a]);return(0,o.useEffect)((()=>{c().IU({environment:s}),(0,d().k)()}),[s]),(0,v.jsx)(p()._,{renderInner:t,innerStyle:n,onDismiss:l,onClosed:r})}},234485:(e,t,n)=>{n.d(t,{x:()=>l});var o=n(296540),i=()=>n(535446),a=()=>n(997346),s=()=>n(328601);function l({children:e,isValidProp:t,...n}){t&&(0,a().D)(t),(n={...(0,o.useContext)(i().Q),...n}).isStatic=(0,s().M)((()=>n.isStatic));const l=(0,o.useMemo)((()=>n),[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return o.createElement(i().Q.Provider,{value:l},e)}},289455:(e,t,n)=>{n.d(t,{h:()=>a});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"1.28 3.52 17.42 12.96",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.786 8.665a.625.625 0 1 0-1.072-.643L9.46 11.778l-1.235-1.441a.625.625 0 0 0-.95.813l1.8 2.1a.625.625 0 0 0 1.01-.085z"}),(0,o.jsx)("path",{d:"M10.45 3.525a6.48 6.48 0 0 0-6.384 5.39 3.856 3.856 0 0 0 1.056 7.56H15.2a3.494 3.494 0 0 0 1.725-6.532 6.475 6.475 0 0 0-6.475-6.418M5.25 9.49a5.226 5.226 0 0 1 10.417.803l-.024.443.41.17a2.245 2.245 0 0 1-.854 4.319H5.13a2.605 2.605 0 0 1-.405-5.178l.479-.075z"})]})},a=(0,n(340498).wt)("cloudCheck",i)},313633:(e,t,n)=>{n.d(t,{A:()=>l});n(296540);var o=()=>n(401497),i=()=>n(718827),a=()=>n(66913),s=n(474848);function l(e){const{top:t,right:n,onClick:l}=e,r=(0,o().IS)((e=>({buttonBackground:{position:"absolute",top:t??12,insetInlineEnd:n??12,width:22,height:22,borderRadius:"100%",background:e.background.elevated},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},buttonHovered:{background:e.buttonHoveredBackground},icon:{width:14,fill:e.icon.secondary}})),[t,n]);return(0,s.jsx)("div",{style:r.buttonBackground,children:(0,s.jsx)(i().Ay,{style:r.button,hoveredStyle:r.buttonHovered,onClick:l,children:(0,a().V)(r.icon)})})}},345781:(e,t,n)=>{var o=n(746518),i=n(497751),a=n(422812),s=n(500655),l=n(767416),r=i("URL");o({target:"URL",stat:!0,forced:!l},{parse:function(e){var t=a(arguments.length,1),n=s(e),o=t<2||void 0===arguments[1]?void 0:s(arguments[1]);try{return new r(n,o)}catch(i){return null}}})},350646:(e,t,n)=>{n.d(t,{k:()=>a});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"1.27 3.53 17.42 12.94",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.375 6.775c.345 0 .625.28.625.625v3.15a.625.625 0 1 1-1.25 0V7.4c0-.345.28-.625.625-.625m0 6.775a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"}),(0,o.jsx)("path",{d:"M4.066 8.914a6.477 6.477 0 0 1 12.859 1.029 3.494 3.494 0 0 1-1.725 6.532H5.121a3.855 3.855 0 0 1-1.056-7.56m6.384-4.14a5.226 5.226 0 0 0-5.2 4.716l-.047.482-.48.075a2.605 2.605 0 0 0 .406 5.178H15.2a2.244 2.244 0 0 0 .853-4.32l-.41-.169.024-.443q.008-.146.008-.293a5.225 5.225 0 0 0-5.225-5.225"})]})},a=(0,n(340498).wt)("cloudExclamation",i)},391657:(e,t,n)=>{n.d(t,{g:()=>u,r:()=>d});n(581454);var o=n(296540),i=()=>n(484714),a=()=>n(722559),s=()=>n(300789),l=()=>n(51367),r=()=>n(832895),c=n(474848);function d(e){const t=null==e?void 0:e.message,n=null==e?void 0:e.onDismiss,r=(0,i().v3)();(0,o.useEffect)((()=>{t&&l().DL(r,{callout_key:t.key,placement_key:(0,a().Q3)(t)})}),[r,t]);return{onClick:(0,o.useCallback)((e=>{t&&l().Y5(r,{callout_key:t.key,placement_key:(0,a().Q3)(t),click_type:"primary_cta"}),e&&e()}),[r,t]),onDismiss:(0,o.useCallback)((()=>{t&&(l().Sq(r,{callout_key:t.key,placement_key:(0,a().Q3)(t),dismiss_type:"sidebar_dismiss"}),s().OX(r,t)),n&&n()}),[r,t,n])}}function u(e){const{onClick:t,buttons:n,...o}=e,{onClick:i,onDismiss:a}=d(e),s=null==n?void 0:n.map((e=>({...e,onClick:()=>{i(e.onClick)}})));return(0,c.jsx)(r().Ue,{children:(0,c.jsx)(r().wY,{...o,...s?{buttons:s}:{onClick:t?()=>{i(t)}:void 0},onDismiss:a})})}},449789:(e,t,n)=>{function o(e){const{store:t,toggleSource:n}=e;t.update((e=>{const t=!e.isKeyboardShortcutsOpen;return{...e,isKeyboardShortcutsOpen:t,toggleSource:t?n:e.toggleSource,openCount:t?e.openCount+1:e.openCount}}))}function i(e){const{store:t}=e;return t.state.isKeyboardShortcutsOpen}n.d(t,{W:()=>i,j:()=>o})},523389:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,pencilLineSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.03 3.22 12.19 9.61",svg:(0,n(474848).jsx)("path",{d:"M11.243 3.457a.803.803 0 0 0-1.13 0l-.554.552a.075.075 0 0 0 0 .106l1.03 1.03a.075.075 0 0 0 .107 0l.547-.546a.1.1 0 0 0 .019-.032.804.804 0 0 0-.02-1.11m-2.246 1.22a.075.075 0 0 0-.106 0l-6.336 6.326a1.1 1.1 0 0 0-.237.393l-.27.87v.002c-.062.232.153.466.389.383l.863-.267q.221-.061.397-.239l6.332-6.331a.075.075 0 0 0 0-.106zm-3.355 6.898a.08.08 0 0 0-.053.022l-1.1 1.1a.075.075 0 0 0 .053.128h9.06a.625.625 0 1 0 0-1.25z"})},i=(0,n(340498).wt)("pencilLineSmall",o)},562042:(e,t,n)=>{n.d(t,{f:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.95 1.94 12.1 11.57",svg:(0,n(474848).jsx)("path",{d:"M8 1.95c-.27 0-.51.174-.594.431l-1.14 3.51H2.574a.625.625 0 0 0-.367 1.13l2.985 2.17-1.14 3.509a.625.625 0 0 0 .962.699L8 11.229l2.986 2.17a.625.625 0 0 0 .961-.699l-1.14-3.51 2.985-2.169a.625.625 0 0 0-.367-1.13h-3.69l-1.14-3.51A.625.625 0 0 0 8 1.95m-.686 4.759L8 4.597l.686 2.112a.625.625 0 0 0 .595.432h2.22L9.705 8.446a.625.625 0 0 0-.227.699l.686 2.112-1.797-1.305a.625.625 0 0 0-.734 0l-1.797 1.305.686-2.112a.625.625 0 0 0-.227-.699L4.5 7.141h2.22a.63.63 0 0 0 .595-.432"})},i=(0,n(340498).wt)("starSmall",o)},603867:(e,t,n)=>{n.d(t,{AJ:()=>_,I7:()=>C,Mu:()=>S,PM:()=>y,Rh:()=>x,Sm:()=>w,YD:()=>b,ho:()=>j,rI:()=>M,s3:()=>v,uc:()=>T,wc:()=>E,xg:()=>k});var o=()=>n(427704),i=()=>n(148024),a=()=>n(27579),s=()=>n(537941),l=()=>n(994877),r=()=>n(288782),c=()=>n(381678),d=()=>n(404482),u=()=>n(232930),f=()=>n(449789),p=()=>n(965142),g=()=>n(715854),m=()=>n(732797),h=()=>n(19575);function y(e,t){A(e,"help_feedback",t),l().SI({environment:e,from:"help_button"}),P()}function v(e,t){A(e,"sales_chat",t),(0,h().lK)({openedFrom:"help_menu"}),P()}function b(e,t){A(e,"guides",t),(0,a().L)({environment:e,url:(0,u().x)("guides.guides")}),C(e)}function _(e,t){A(e,"keyboard_shortcuts",t),C(e),f().j({store:p().V,toggleSource:"help_menu"})}function x(e,t){A(e,"twitter",t),(0,a().L)({environment:e,url:o().JZ.notionTwitter}),C(e)}function w(e,t){A(e,"status",t),(0,a().L)({environment:e,url:o().JZ.statusPage}),C(e)}function S(e,t){A(e,"join_us",t),(0,a().L)({environment:e,url:o().JZ.careers}),C(e)}function k(e,t,n){const i=(0,d().Nw)(n||o().JZ.releases);(0,a().L)({environment:e,url:i}),A(e,"whats_new",t),C(e)}function M(e,t){(0,a().L)({environment:e,url:o().JZ.termsAndPrivacy}),A(e,"terms",t),C(e)}function j(e){T(e)?s().navigateToHomeTab(e,P):P()}function A(e,t,n){i().wF(e,{item:t,from:n})}function C(e){T(e)||P()}function T(e){const{mobileNative:t}=e;return(null==t?void 0:t.supportsNativeHomeOnPhone())||!1}function P(){m().A.setState({...m().A.state,open:!1})}async function E(e){var t;const n=(0,r().s)(),o=null===(t=(0,c()._)(e))||void 0===t?void 0:t.id;if(!n||!o)return;const i=(0,g().getOPFSPageCacheInstance)();if(i)try{await i.delete(o,n),window.location.reload()}catch(a){}}},687039:(e,t,n)=>{n.d(t,{Ay:()=>l,VH:()=>a});n(898992),n(803949),n(814603),n(147566),n(198721);var o=n(296540),i=n(474848);const a={"en-US":"en","ja-JP":"ja","ko-KR":"ko","fr-FR":"fr","de-DE":"de","pt-BR":"pt-BR","es-ES":"es-ES"};function s(e){return e.src?(0,i.jsx)("img",{alt:"",style:e.style,src:e.src}):null}const l=o.forwardRef((function(e,t){const a=o.useRef(e);a.current=e;const l=o.useRef(void 0),[r,c]=o.useState(Boolean(e.customPlayButton)),[d,u]=o.useState(!1);o.useEffect((()=>{let t,n=!0;const o=()=>{const i=window.Vimeo;if(!i||!n)return;const s=document.getElementById(e.src);if(s)try{var r,d;if(t=new i.Player(s,{logging:!1}),l.current=t,!n||!t)return;t.on("play",(e=>{var t,n;c(!1),null===(t=(n=a.current).onPlay)||void 0===t||t.call(n,e)})),t.on("pause",(e=>{var t,n;null===(t=(n=a.current).onPause)||void 0===t||t.call(n,e)})),t.on("ended",(e=>{var t,n;null===(t=(n=a.current).onEnd)||void 0===t||t.call(n,e)})),null===(r=(d=a.current).onPlayerReady)||void 0===r||r.call(d,t),t.on("timeupdate",(e=>{var t,n;null===(t=(n=a.current).onTimeUpdate)||void 0===t||t.call(n,e)}))}catch(u){}else setTimeout(o,50)};if(window.Vimeo)o();else{const e=document.createElement("script");e.src="https://player.vimeo.com/api/player.js",e.onload=o,document.body.appendChild(e)}return()=>{if(n=!1,l.current=void 0,t)try{t.off("play"),t.off("pause"),t.off("ended"),t.off("timeupdate")}catch(e){}}}),[e.src]);const f=o.useCallback((()=>{const e=l.current;e&&(u(!0),e.play().catch((e=>{n(165358).log({level:"error",from:"VimeoVideoPlayer",type:"vimeo_play_failed",error:e})})))}),[]),p=function(e,t){const o=new URL(e);return(0,(()=>n(534177))().WP)(t).forEach((([e,t])=>{void 0!==t&&o.searchParams.set(e,String(t))})),o.toString()}(e.src,{texttrack:e.defaultTextTrack,playsinline:!1,...e.options}),g=(0,n(401497).IS)((e=>({innerStyle:{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",border:0,boxShadow:`0 1px 0 0 ${e.border.secondary}`},customPlayButtonOverlay:{position:"absolute",top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.4)",opacity:d?0:1,transition:"opacity 0.15s ease-out",pointerEvents:d?"none":"auto"}})),[d]);return(0,i.jsxs)(n(25500).A,{ratio:e.aspectRatioOverride??9/16,children:[(0,i.jsx)(s,{style:{...g.innerStyle,...e.preloadThumbnailStyle},src:e.preloadThumbnailSrc}),(0,i.jsx)("iframe",{ref:t,id:e.src,className:e.className,allowFullScreen:!0,src:p,style:{...g.innerStyle,...e.style}}),r&&e.customPlayButton?(0,i.jsx)("div",{style:g.customPlayButtonOverlay,children:(0,i.jsx)(n(160432).A,{onClick:f,size:"lg",colorPalette:"blue",children:e.customPlayButton})}):void 0]})}))},710096:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const i=new o},754002:(e,t,n)=>{n.d(t,{_:()=>g});n(296540);var o=()=>n(484714),i=()=>n(56366),a=()=>n(401497),s=()=>n(611648),l=()=>n(911988),r=()=>n(30537),c=()=>n(417392),d=()=>n(2143),u=()=>n(132389),f=()=>n(111043),p=n(474848);function g(e){const{renderInner:t,innerStyle:n,onDismiss:g,onClosed:m,fullscreen:h}=e,y=(0,o().v3)(),v=(0,o().Y0)(),b=(0,i().K8)((()=>y.WindowSizeStore.isLandscape()),[y.WindowSizeStore]),_=(0,a().IS)((e=>{let t;return(h||b)&&(t="100%"),{popupStyle:{background:e.background.secondary,borderStartEndRadius:"24px",borderStartStartRadius:"24px",overflow:"hidden",width:"100%",height:t,display:"flex",alignItems:"center",justifyContent:"center"},scrollerStyle:{background:e.background.secondary,width:b?"80%":"100%",height:t,display:"flex",flexDirection:b?"row":"column",alignItems:"center",...n}}}),[b,n,h]),x=(0,i().K8)((()=>y.WindowSizeStore.getSafePaddingTopCSS(l().s1)),[y.WindowSizeStore]),w=(0,f().o)();return(0,p.jsx)(c().Ay,{open:!0,hidesMobileNativeBottomBar:!0,preventBlockRenderQueueOnEnter:!0,popupType:r().n.SlideUp,onDismiss:g,onClosed:m,style:_.popupStyle,render:()=>(0,p.jsxs)(d().H,{type:b?s().A.Y:s().A.None,style:_.scrollerStyle,children:[(0,p.jsx)(u().A,{size:b?x:0}),t(),(0,p.jsx)(u().A,{size:w+(v.isMobileBrowser?32:0)})]})})}},757491:(e,t,n)=>{n.d(t,{l:()=>i});var o=n(296540);function i(e){return(0,o.useEffect)((()=>()=>e()),[])}},767416:(e,t,n)=>{var o=n(779039),i=n(978227),a=n(743724),s=n(996395),l=i("iterator");e.exports=!o((function(){var e=new URL("b?a=1&b=2&c=3","https://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),o="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),o+=n+e})),n.delete("a",2),n.delete("b",void 0),s&&(!e.toJSON||!n.has("a",1)||n.has("a",2)||!n.has("a",void 0)||n.has("b"))||!t.size&&(s||!a)||!t.sort||"https://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[l]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://тест").host||"#%D0%B1"!==new URL("https://a#б").hash||"a1c3"!==o||"x"!==new URL("https://x",void 0).host}))},778450:(e,t,n)=>{n.d(t,{e:()=>s});var o=()=>n(165358),i=()=>n(559506),a=()=>n(63728);async function s(e){if(null!==a().l.state)return a().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const n=await i().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===n.type)return o().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:n.error}),!1;const s=n.data.isRegistered||Boolean(n.data.isRegistered30Day);return a().l.setState(s),s}},821508:(e,t,n)=>{n.r(t),n.d(t,{MaybeOfflineModeLaunchModal:()=>ae,OfflineModeLaunchModal:()=>$,OfflineModeLaunchVideo:()=>Y,OfflineModeMenuItemTooltip:()=>ge,OfflineModeSidebarCallout:()=>ue,OfflineModeTopbarTooltip:()=>pe,OfflinePagesListener:()=>qe,isEligibleForOfflineModeMessage:()=>Se,isLocationEligibleForOfflineModeModal:()=>ke,offlineModeTourStore:()=>F().k,useOfflineToastsAreEnabled:()=>Oe});var o=()=>n(484714),i=()=>n(543906),a=()=>n(300789),s=(n(581454),n(345781),()=>n(234485)),l=()=>n(153321),r=n(296540),c=()=>n(56366),d=()=>n(401497),u=()=>n(699143),f=()=>n(252291),p=()=>n(631524),g=()=>n(160432),m=()=>n(493552),h=()=>n(218275),y=()=>n(340498),v=n(474848);const b={viewBox:"0 0 16 16",fittedViewBox:"1.08 2.82 13.83 10.36",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{d:"M10.272 7.033a.55.55 0 1 0-.944-.566L7.801 9.013l-.783-.914a.55.55 0 0 0-.836.716l1.28 1.493a.55.55 0 0 0 .89-.075z"}),(0,v.jsx)("path",{d:"M8.35 2.825a5.176 5.176 0 0 0-5.087 4.223 3.138 3.138 0 0 0 .95 6.127h7.831a2.856 2.856 0 0 0 1.48-5.3 5.175 5.175 0 0 0-5.174-5.05M4.444 7.617a3.926 3.926 0 0 1 7.825.603l-.024.443.41.17a1.607 1.607 0 0 1-.61 3.092H4.211a1.887 1.887 0 0 1-.294-3.751l.479-.075z"})]})},_=(0,y().wt)("cloudCheckSmall",b);var x=()=>n(562042),w=()=>n(762433),S=()=>n(69708),k=()=>n(209660),M=()=>n(27579),j=()=>n(577142),A=()=>n(767877),C=()=>n(313633),T=()=>n(603867),P=()=>n(778450),E=()=>n(597755),R=()=>n(232930),B=()=>n(112799),I=()=>n(152197),L=()=>n(51367),D=()=>n(218429),O=()=>n(795179),U=()=>n(324561),z=()=>n(717250),F=()=>n(481411),K=()=>n(242422),V=()=>n(687039),W=()=>n(765957);function N(){const e=(0,c().K8)((()=>{var e;const t=null===(e=W().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t.preferred_locale)??"en-US"}),[]);return{assets:(0,c().K8)((()=>K().default.getConfigKey("offline_nux_localized_assets","videos")),[])[e],locale:e}}function Y({aspectRatio:e,assets:t,locale:n,useSmallThumbnail:o}){const i=(0,c().K8)((()=>{if(o){return K().default.getConfigKey("offline_nux_localized_assets","videoQualitySmall")??"360p"}return K().default.getConfigKey("offline_nux_localized_assets","videoQualityDefault")??"auto"}),[o]),a=(0,d().IS)((()=>({thumbnail:{objectFit:"cover"},videoPlayer:{aspectRatio:"9 / 16",height:"auto",objectFit:"cover",position:"absolute",top:"50%",transform:"translateY(-50%)",width:"inherit"}})),[]);return t?(0,v.jsx)(V().Ay,{aspectRatioOverride:e,defaultTextTrack:V().VH[n]||"en",options:{autoplay:!0,background:!0,loop:!0,muted:!0,playsinline:!0,quality:i},preloadThumbnailSrc:o&&t.thumbnailSrcSmall?t.thumbnailSrcSmall:t.thumbnailSrc,preloadThumbnailStyle:a.thumbnail,src:t.src,style:a.videoPlayer}):null}const H="offline_mode_electron_launch_modal",G="offline_mode_web_launch_modal",J=460,q=512;function $(){const e=(0,o().v3)();return(0,v.jsx)(D().l,{messageKey:ee(e),desktopOnDismiss:()=>{(0,L().Sq)(e,{callout_key:ee(e),dismiss_type:"modal_background_clicked",placement_key:"Modal"}),Z(e)},desktopRenderInner:()=>(0,v.jsx)(Q,{}),phoneRenderInner:()=>null})}function Q(){const e=(0,o().v3)(),t=(0,I().r)(),{assets:n,locale:i}=N(),a=(0,U().lh)({spaceId:t}),r=(0,w().Gm)(a),f=(0,c().K8)((()=>e.WindowSizeStore.state.width>=900),[e.WindowSizeStore]),g=(0,d().IS)((e=>({container:{borderRadius:12,minHeight:480},mediaContent:{borderRadius:10,height:q,overflow:"hidden",width:J},title:{color:e.text.primary,fontSize:34,fontWeight:700,letterSpacing:.408,lineHeight:"37px",margin:0},textBody:{flexGrow:1},footerButtons:{marginTop:"24px"},learnMoreButton:{color:e.text.secondary,display:"flex",justifyContent:"center"}})),[]);return(0,v.jsx)(s().x,{reducedMotion:"user",children:(0,v.jsxs)(u().Y1,{direction:"horizontal",padding:12,style:g.container,children:[(0,v.jsxs)(u().Y1,{gap:16,padding:18,width:400,children:[(0,v.jsx)(l().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.2},children:(0,v.jsxs)(u().Y1,{direction:"vertical",gap:8,children:[(0,v.jsx)("h1",{style:g.title,children:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.title",defaultMessage:"Notion, now available offline."})}),(0,v.jsx)(m().D,{colorVariant:"secondary",styleKey:"Body/Regular",children:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.subTitle",defaultMessage:"Capture ideas, access pages, and keep projects moving anywhere you go."})})]})}),(0,v.jsx)(u().Y1,{direction:"vertical",gap:16,style:g.textBody,children:ne(r).map(((e,t)=>(0,v.jsx)(l().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.3+.1*t},children:(0,v.jsx)(oe,{...e})},e.key)))}),(0,v.jsx)(l().P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,type:"spring",bounce:0,delay:.6},children:(0,v.jsxs)(u().Y1,{direction:"vertical",gap:8,style:g.footerButtons,children:[(0,v.jsx)(ie,{isNativeApp:e.device.isElectron,isPaidTier:r}),(0,v.jsx)(p().p,{iconTrailing:h().arrowUpRightSquareSmallIcon,onClick:()=>{(0,L().Y5)(e,{callout_key:ee(e),click_type:"learn_more",placement_key:"Modal"}),function(e){(0,M().L)({environment:e,url:(0,R().x)("guides.offlineMode")}),(0,T().I7)(e)}(e)},size:"xl",style:g.learnMoreButton,children:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.link.learnMore",defaultMessage:"Learn more"})})]})})]}),void 0!==n&&f?(0,v.jsx)(u().Y1,{style:g.mediaContent,children:(0,v.jsx)(Y,{aspectRatio:q/J,assets:n,locale:i})}):null,(0,v.jsx)(C().A,{onClick:()=>{(0,L().Sq)(e,{callout_key:ee(e),dismiss_type:"modal_dismiss_clicked",placement_key:"Modal"}),Z(e)},right:18,top:18})]})})}function Z(e){(0,a().a)(e,ee(e))}function X(){k().Ow({currentTab:"offline",openedFrom:"offline_mode_launch_modal"})}function ee(e){const{device:t}=e;return t.isElectron?H:G}const te={download:{description:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.downloadDescription",defaultMessage:"Choose the pages you need and manage them from the Offline dashboard in Settings"}),icon:_,key:"download",title:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.downloadTitle",defaultMessage:"Download pages for offline use"})},haveAccessPaid:{description:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.haveAccessPaidDescription",defaultMessage:"Your recents and top favorites are automatically downloaded"}),icon:x().f,key:"haveAccessPaid",title:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.haveAccessTitle",defaultMessage:"Always have access to your most important pages"})},haveAccessFree:{description:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.haveAccessFreeDescription",defaultMessage:"For users on the paid plan, your recents and top favorites are automatically downloaded"}),icon:x().f,key:"haveAccessFree",title:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.haveAccessTitle",defaultMessage:"Always have access to your most important pages"})},keepBuilding:{description:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.keepBuildingDescription",defaultMessage:"Create, view, and edit pages without internet access on the Notion desktop and mobile app"}),icon:n(523389).pencilLineSmallIcon,key:"keepBuilding",title:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.body.keepBuildingTitle",defaultMessage:"Keep building, even offline"})}};function ne(e){return(e?["keepBuilding","haveAccessPaid","download"]:["keepBuilding","download","haveAccessFree"]).map((e=>te[e]))}function oe(e){const{description:t,icon:n,title:o}=e,i=(0,d().IS)((()=>({itemTitle:{margin:0},itemDescription:{margin:0}})),[]);return(0,v.jsxs)(u().Y1,{direction:"horizontal",gap:8,children:[(0,v.jsx)(f().I,{icon:n,size:"default"}),(0,v.jsxs)(u().Y1,{direction:"vertical",gap:2,children:[(0,v.jsx)(m().D,{as:"p",style:i.itemTitle,styleKey:"Body/Medium",children:o}),(0,v.jsx)(m().D,{as:"p",style:i.itemDescription,styleKey:"Body/Regular",children:t})]})]})}function ie(e){const t=(0,o().v3)(),{onClick:n,text:i}=function(e){const{environment:t,isNativeApp:n,isPaidTier:o}=e;return n?o?{onClick:X,text:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.primaryCta.paidTierApp",defaultMessage:"View offline pages"})}:{onClick:()=>{!function(e){O().A.setState({...O().A.state,open:!0}),F().k.setState({currentStep:"available_offline_item",numSteps:1}),(0,a().UW)(e,z().l)}(t)},text:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.primaryCta.freeTierApp",defaultMessage:"Try it"})}:{onClick:()=>{!async function(e){const{device:t}=e;if(await(0,P().e)(e)){const t=(0,E().P)(window.location.href),n=URL.parse(t);if(!n)return;n.searchParams.append("target",`inappmessage.${z().l}`),n.searchParams.append("origin","nux"),(0,A().e)({environment:e,url:n.toString()})}else{const n=await(0,B().a)(t);if(!n)return;(0,j().navigate)({environment:e,url:n,openInNew:"tab"})}}(t)},text:(0,v.jsx)(S().sA,{id:"offlineModeLaunchModal.primaryCta.web",defaultMessage:"Download the Notion app"})}}({environment:t,...e}),s=(0,r.useCallback)((()=>{(0,L().Y5)(t,{callout_key:ee(t),click_type:"primary_cta",placement_key:"Modal"}),Z(t),n()}),[t,n]);return(0,v.jsx)(g().A,{colorPalette:"blue",onClick:s,size:"xl",children:i})}function ae(){const e=(0,o().v3)();return(0,i().A)((()=>{(0,a().HH)(e,ee(e))}),!0),null}var se=()=>n(72234),le=()=>n(231297),re=()=>n(861243);const ce="offline_mode_sidebar_callout",de=9;function ue(){const e=(0,o().v3)(),t=(0,S().tz)(),{assets:n,locale:s}=N(),l=(0,r.useRef)(null);(0,i().A)((()=>{!function(e){const{sidebarSpaceViewStore:t}=W().default.state;if(!t)return;const n=null==t?void 0:t.getSettings(),o=(null==n?void 0:n.offline_mode_sidebar_callout_shown_count)||0;le().createAndCommit({environment:e,userAction:"OfflineModeSidebarCallout.incrementShownCount",canUndo:!1,cellTarget:"main",perform:e=>{se().AG(t,e,{offline_mode_sidebar_callout_shown_count:o+1,offline_mode_sidebar_callout_last_shown_at:Date.now()})}})}(e)}),!0);const c=(0,d().IS)((()=>({mediaContainer:{aspectRatio:"16/9",borderStartStartRadius:"inherit",borderStartEndRadius:"inherit",margin:-1*de,marginBottom:0,overflow:"hidden",position:"relative",width:`calc(100% + ${2*de}px)`}})),[]),u=(0,r.useCallback)((()=>{O().A.setState({...O().A.state,open:!0}),F().k.setState({currentStep:"available_offline_item",numSteps:1}),(0,a().UW)(e,z().l),(0,a().a)(e,ce)}),[e]),f=(0,r.useCallback)((()=>{(0,a().a)(e,ce)}),[e]);return(0,v.jsx)(re().Y,{messageKey:ce,body:(0,v.jsx)(S().sA,{id:"offlineModeSidebarCallout.description",defaultMessage:"Notion now works without internet access. Download pages for offline use to access them anytime."}),buttons:[{onClick:u,text:t.formatMessage({id:"offlineModeSidebarCallout.cta",defaultMessage:"Try it"})}],badge:{color:"blue",content:t.formatMessage({id:"newBadgeComponent.label",defaultMessage:"New"})},heroElement:n?(0,v.jsx)("div",{ref:l,style:c.mediaContainer,children:(0,v.jsx)(Y,{aspectRatio:9/16,assets:n,locale:s,useSmallThumbnail:!0})}):null,onDismiss:f,title:t.formatMessage({id:"offlineModeSidebarCallout.title",defaultMessage:"Went offline?"})})}var fe=()=>n(953006);function pe(e){const t=(0,o().v3)(),n=(0,r.useCallback)((()=>{me(t)}),[t]),i=(0,r.useCallback)((()=>{O().A.setState({...O().A.state,open:!0}),F().k.nextStep()}),[]);return(0,v.jsx)(fe().k,{alignmentToOrigin:"center",content:(0,v.jsx)(S().sA,{id:"offlineModeTour.topbarMoreButtonStep.content",defaultMessage:"Download this page for offline use here."}),currStepIndex:0,header:(0,v.jsx)(S().sA,{id:"offlineModeTour.topbarMoreButtonStep.title",defaultMessage:"Notion is now available offline"}),numSteps:2,onCloseClick:n,onPrimaryButtonClick:i,origin:e.originRef,placementToOrigin:"bottom",pointerLength:24,pointerPosition:"98%",shouldDismissUponOutsideClick:!0,style:{width:250}})}function ge(e){const t=(0,o().v3)(),n=(0,c().K8)((()=>F().k.state.numSteps),[]),i=(0,r.useCallback)((()=>{me(t)}),[t]);return(0,v.jsx)(fe().k,{alignmentToOrigin:"center",content:(0,v.jsx)(S().sA,{id:"offlineModeTour.offlineToggleStep.content",defaultMessage:"Download the page to edit and view it offline."}),currStepIndex:1,header:(0,v.jsx)(S().sA,{id:"offlineModeTour.offlineToggleStep.title",defaultMessage:"Make available offline"}),numSteps:n,onCloseClick:i,onPrimaryButtonClick:i,origin:e.originRef,placementToOrigin:"left",pointerLength:24,pointerPosition:"50%",shouldDismissUponOutsideClick:!0,style:{width:250}})}function me(e){(0,a().a)(e,z().l),F().k.reset()}n(814603),n(147566),n(198721);var he=()=>n(726637),ye=()=>n(700500),ve=()=>n(711059),be=()=>n(381678),_e=()=>n(272509),xe=()=>n(646736),we=()=>n(712505);function Se(e){const{spaceStore:t,environment:n,experimentStore:o,mainEditorCurrentBlockStore:i}=e;{const e=(0,ve().parseVersion)("23.13.0.4306"),t=(0,ve().parseVersion)(he().A.version);if(t&&e&&!(0,ve().isGreaterThanOrEqualToVersion)(t,e))return!1}const a=o.checkGate({gateName:"download_for_offline"}),s=o.checkGate({gateName:"offline_nux"});if(!a||!s)return!1;const l=(0,be()._)(n);return!(void 0===l||void 0===t||!(0,xe().dp)(t,l.id).isMember()||(0,_e().I)(t))&&(!(i.getType()!==ye().xd.page||null!=i&&i.pathIsDead())&&(!we().default.isSidePeekOpen()&&!we().default.isCenterPeekOpen()))}function ke(){const e=new URLSearchParams(window.location.search);return!e.has("d")&&"nux"!==e.get("origin")}n(898992),n(803949);var Me=()=>n(203066),je=()=>n(591779);const Ae={viewBox:"0 0 20 20",fittedViewBox:"1.27 3.53 17.42 12.94",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("path",{d:"M10.45 8.089v.936c0 .45-.54.672-.857.355L8.248 8.034a.495.495 0 0 1 0-.71L9.593 5.98a.501.501 0 0 1 .857.355v.654a3.46 3.46 0 1 1-3.461 3.46.55.55 0 1 1 1.1 0 2.36 2.36 0 1 0 2.361-2.36"}),(0,v.jsx)("path",{d:"M4.066 8.914a6.477 6.477 0 0 1 12.859 1.029 3.494 3.494 0 0 1-1.725 6.532H5.121a3.855 3.855 0 0 1-1.056-7.56m6.384-4.14a5.226 5.226 0 0 0-5.2 4.716l-.047.482-.48.075a2.605 2.605 0 0 0 .406 5.178H15.2a2.244 2.244 0 0 0 .853-4.32l-.41-.169.024-.443q.008-.146.008-.293a5.225 5.225 0 0 0-5.225-5.225"})]})},Ce=(0,y().wt)("cloudArrowCircleCounterclockwiseLeft",Ae);var Te=()=>n(289455),Pe=()=>n(350646),Ee=()=>n(812182),Re=()=>n(78901),Be=()=>n(959462),Ie=()=>n(964848),Le=()=>n(929219),De=()=>n(135055);function Oe(){const e=(0,o().v3)(),t=Boolean(e.device.isElectron),n=(0,De().y6)(),i=(0,c().O$)(Le().e);return t&&n&&i}n(354520);var Ue=()=>n(59226),ze=()=>n(973238),Fe=()=>n(615234),Ke=()=>n(991249),Ve=()=>n(153861),We=()=>n(810312),Ne=()=>n(968913);const Ye=new(n(178624).R)({key:"offlineToastSettings",namespace:n(553737).Bq,important:!1,trackingType:"preference"}),He="offlineUpgradeToast",Ge="offline_mode_limit_callout";function Je(){const e=(0,o().v3)(),t=(0,S().tz)(),n=(0,We().EW)(),i=(0,Ue().X)("offline_upgrade_toast"),a=Oe(),s=i&&a,l=(0,c().K8)((()=>{var e;const t=W().AppStoreSidebarSpaceStore.state;if(t)return null===(e=(0,Ne().di)())||void 0===e?void 0:e.filter((e=>e.space_id===t.id))}),[]),d=(0,je().ZC)(l),u=(0,c().K8)((()=>{var e;return null===(e=Ye.state)||void 0===e?void 0:e.upgradeShownTs}),[]),f=(0,c().K8)((()=>K().default.getConfigKey("offline_monetization_settings","manual_toggles_that_trigger_upsell_toast")),[]);(0,r.useEffect)((()=>{if(!s)return;if(!function(e){const{availability:t,manualTogglesThatTriggerUpsellToast:n,explicitlyOfflinedOriginPages:o,previousExplicitlyOfflinedOriginPages:i,lastShownTs:a}=e;if(a&&Date.now()-a<Fe().nD)return!1;if(null==t||!t.upsell)return!1;if(!o)return!1;if(!i)return!1;if(2!==n.length)return!1;const s=o.length,l=i.length||0,[r,c]=n;return s>l&&(s===r||s>=c)}({availability:n,manualTogglesThatTriggerUpsellToast:f,explicitlyOfflinedOriginPages:l,previousExplicitlyOfflinedOriginPages:d,lastShownTs:u}))return;const o=null==n?void 0:n.upsell;if("product"!==(null==o?void 0:o.type))return;const i={id:He,icon:ze().arrowInCircleDownIcon,actions:{primary:{title:(0,v.jsx)(S().sA,{id:"offline.upgradeToast.upgradeNow",defaultMessage:"Upgrade now"}),onAction:()=>{Ee().UW(He),(0,Ke().K)(e,{from:Ge,upsell:o})}}},jsxMessage:(0,v.jsx)(S().sA,{id:"offline.upgradeToast.message",defaultMessage:"Upgrade to the {product} plan and your Recents and Favorites will always be ready for offline use.",values:{product:(0,Ve().T)({intl:t,upsell:o})}}),onUserDismiss:()=>{(0,L().Sq)(e,{callout_key:Ge,dismiss_type:"toast_dismiss",placement_key:"SidebarFooter"})},presentationType:"persistent",title:(0,v.jsx)(S().sA,{id:"offline.upgradeToast.title",defaultMessage:"Auto-download your offline pages"})};Ee().HK(i),(0,L().DL)(e,{callout_key:Ge,placement_key:"SidebarFooter"}),Ye.setState({...Ye.state,upgradeShownTs:Date.now()})}),[e,t,l,d,f,n,s,u])}function qe(){const e=Oe();return Je(),e?(0,v.jsx)(Xe,{}):null}const $e="offlineInfoToast",Qe="offlineErrorToast",Ze=(0,n(100622).O4)({theme:"dark"});function Xe(){const[e,t]=(0,r.useState)({}),n=(0,I().r)(),o=(0,c().K8)((()=>Be().A.state.offlinePages),[]),i=(0,je().ZC)(o),[a,s]=(0,r.useState)(!0),l=(0,r.useRef)(),d=(0,r.useRef)();(0,r.useEffect)((()=>{o&&i&&t((e=>{const t={...e};let a=!1;for(const[l,r]of Object.entries(o)){if(null!=r&&r.is_explicitly_offlined_origin&&void 0!==(null==r?void 0:r.download_status)&&(null==r?void 0:r.space_id)===n){var s;const n=!i[l],o=!1===(null===(s=i[l])||void 0===s?void 0:s.is_explicitly_offlined_origin);(r.is_explicitly_offlined_origin&&(n||o)&&!(l in e)||l in e&&r.download_status!==e[l])&&(t[l]=r.download_status,a=!0)}!(l in t)||null!=r&&r.is_explicitly_offlined_origin||(delete t[l],a=!0)}for(const n of Object.keys(t))n in o||(delete t[n],a=!0);return a?t:e}))}),[o,i,n]);const u=(0,r.useCallback)((e=>{t((t=>{const n={...t};return Object.entries(t).forEach((([t,o])=>{e.includes(o)&&delete n[t]})),n}))}),[]),f=(0,r.useCallback)(((e,t)=>{const n=e+t;return{id:$e,actions:{primary:{onAction:()=>{d.current&&clearTimeout(d.current),Ee().UW($e),(0,Ie().c)("offline_mode_info_toast")},title:(0,v.jsx)(S().sA,{id:"offline.statusToast.primaryActionTitle",defaultMessage:"View all downloads"})}},disableBounceAnimation:!0,icon:e>0?Ce:Te().h,jsxMessage:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m().D,{colorVariant:"secondary",children:(0,v.jsx)(S().sA,{id:"offline.statusToast.infoMessage",defaultMessage:"{downloadedCount} of {totalCount} pages downloaded",values:{downloadedCount:t,totalCount:n}})}),(0,v.jsx)(et,{filledColor:Ze.text.primary,percentage:t/n*100,visible:a})]}),onDismiss:()=>{u(["downloading","success"])},presentationType:"persistent",title:e>0?(0,v.jsx)(S().sA,{id:"offline.statusToast.downloadingTitle",defaultMessage:"Download in progress"}):(0,v.jsx)(S().sA,{id:"offline.statusToast.successTitle",defaultMessage:"Download complete"})}}),[u,a]),p=(0,r.useCallback)((e=>({id:Qe,actions:{primary:{onAction:()=>{Ee().UW(Qe),(0,Ie().c)("offline_mode_error_toast")},title:(0,v.jsx)(S().sA,{id:"offline.statusToast.primaryActionTitle",defaultMessage:"View all downloads"})}},disableBounceAnimation:!0,icon:Pe().k,jsxMessage:(0,v.jsx)(m().D,{children:(0,v.jsx)(S().sA,{id:"offline.statusToast.failedMessage",defaultMessage:(0,S().LS)("failedCount",{one:"# page has failed to download",other:"# pages have failed to download"}),values:{failedCount:e}})}),onDismiss:()=>{u(["failed"])},presentationType:"persistent",title:(0,v.jsx)(S().sA,{id:"offline.statusToast.failedTitle",defaultMessage:(0,S().LS)("failedCount",{one:"# error",other:"# errors"}),values:{failedCount:e}}),variant:"error"})),[u]);return(0,r.useEffect)((()=>{let t=0,n=0,o=0;return Object.values(e).forEach((e=>{"downloading"===e?t+=1:"failed"===e?n+=1:"success"===e&&(o+=1)})),d.current&&(clearTimeout(d.current),d.current=void 0),l.current&&(clearTimeout(l.current),l.current=void 0),t>0||o>0?(Ee().HK(f(t,o)),0===t?(d.current=setTimeout((()=>{Ee().UW($e)}),1e4),l.current=setTimeout((()=>{s(!1)}),1e3)):s(!0)):0===t&&0===o&&Ee().UW($e),n>0&&Ee().HK(p(n)),()=>{d.current&&clearTimeout(d.current),l.current&&clearTimeout(l.current)}}),[p,f,e]),null}function et({animationDuration:e=.5,style:t={},visible:n,...o}){return(0,v.jsx)(Me().N,{initial:n,children:n?(0,v.jsx)(l().P.div,{animate:"open",exit:"collapsed",initial:"collapsed",style:{overflow:"hidden",...t},transition:{duration:e,ease:"easeOut"},variants:{open:{height:"auto",scaleY:1},collapsed:{height:0,scaleY:0}},children:(0,v.jsx)("div",{style:{paddingTop:8},children:(0,v.jsx)(Re().z,{...o})})},"animated-progress-bar"):void 0})}},832895:(e,t,n)=>{n.d(t,{Ue:()=>b,wY:()=>_});n(944114),n(898992),n(803949);var o=n(296540),i=()=>n(401497),a=()=>n(699143),s=()=>n(718827),l=()=>n(606712),r=()=>n(252291),c=()=>n(970236),d=()=>n(406094),u=()=>n(631524),f=()=>n(493552),p=()=>n(995847),g=()=>n(340498),m=()=>n(534177),h=n(474848);const y=(0,o.createContext)(void 0);y.displayName="AnimationDismissContext";const v=300;function b(e){const{children:t}=e,[n,a]=(0,o.useState)(100),s=(0,i().IS)((()=>({card:{marginBottom:`-${n}%`,transitionProperty:"margin-bottom",transitionDuration:`${v}ms`,transitionTimingFunction:"ease"}})),[n]);(0,o.useEffect)((()=>{a(0)}),[]);const l=(0,o.useCallback)((e=>{a(100),setTimeout(e,v)}),[]);return(0,h.jsx)(y.Provider,{value:l,children:(0,h.jsx)("div",{style:s.card,children:t})})}function _(e){const{onClick:t,onDismiss:n,...c}=e,d=(0,i().IS)((e=>({container:{background:"transparent",margin:8,display:"flex",position:"relative"},card:{width:"100%",position:"relative",padding:8,borderRadius:8,boxShadow:e.shadow.outline.sm,background:e.background.secondary,WebkitBackdropFilter:"blur(30px)",backdropFilter:"blur(30px)",overflow:"hidden"},cardHovered:{background:(0,l().R)({color:e.background.secondary,mode:e.mode,adjustmentFactor:.5})},cardPressed:{background:(0,l().y)({color:e.background.secondary,mode:e.mode,adjustmentFactor:1})},closeButton:{position:"absolute",top:8,insetInlineEnd:8,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[]),f=(0,o.useContext)(y),g=(0,o.useCallback)((e=>{e.stopPropagation(),f?f((()=>null==n?void 0:n())):null==n||n()}),[n,f]);let m;return n&&(m=(0,h.jsx)(u().p,{colorPalette:"gray",size:"xs",style:d.closeButton,onClick:g,children:(0,h.jsx)(r().I,{icon:p().xMarkSmallIcon,size:"xs",colorVariant:"secondary"})})),(0,h.jsx)("div",{style:d.container,children:t?(0,h.jsxs)(s().Ay,{onClick:t,style:d.card,hoveredStyle:d.cardHovered,pressedStyle:d.cardPressed,children:[(0,h.jsx)(a().Y1,{direction:"vertical",gap:8,children:(0,h.jsx)(x,{...c})}),m]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a().Y1,{direction:"vertical",style:d.card,gap:8,children:(0,h.jsx)(x,{...c})}),m]})})}function x(e){const{title:t,body:n,buttons:o,imageSources:s,imageHeight:l,imageMarginLeft:r,imageMarginTop:d,onDismiss:u,icon:p,iconColor:y,badge:v,heroElement:b}=e,_=(0,i().eP)(),x=(null==v?void 0:v.placement)??"inlineWithTitle",S=(0,i().IS)((e=>({content:{paddingTop:4},image:{height:l??56,alignSelf:"start",maxWidth:"100%",marginInlineStart:r??4,marginTop:d??0},icon:{width:g().Ev.default,height:g().Ev.default,fill:y?e[y].icon.accentPrimary:e.icon.primary},iconWrapper:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center"},title:{textWrap:"pretty"},badge:{display:"inline-flex",marginInlineStart:"aboveTitle"===x?0:6,alignSelf:"aboveTitle"===x?"flex-start":void 0}})),[y,l,r,d,x]),k=[];let M;return o&&(0,m().EI)(o)&&o.forEach(((e,t)=>k.push((0,h.jsx)(w,{...e},t)))),s?M=(0,h.jsx)("img",{src:s[_],style:S.image,alt:""}):b&&(M=b),(0,h.jsxs)(h.Fragment,{children:[M,(0,h.jsxs)(a().Y1,{direction:"horizontal",children:[p?(0,h.jsx)("span",{style:S.iconWrapper,children:p(S.icon)}):null,(0,h.jsxs)(a().Y1,{gap:4,style:S.content,children:[(0,h.jsxs)(a().Y1,{gap:4,padding:`0px ${u?32:8}px 0px 8px`,children:[v&&"aboveTitle"===x?(0,h.jsx)(c().E,{content:v.content,color:v.color,style:S.badge}):null,(0,h.jsxs)(f().D,{style:S.title,styleKey:"Caption/Semibold",colorVariant:"primary",children:[t,v&&"inlineWithTitle"===x?(0,h.jsx)(c().E,{content:v.content,color:v.color,style:S.badge}):null]}),(0,h.jsx)(f().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:n})]}),(0,h.jsx)("div",{children:k})]})]})]})}function w(e){const{text:t,onClick:n,leftIcon:o,rightIcon:l,disabled:r,variant:c="default"}=e,u="outline-fill"===c,p=(0,i().IS)((e=>({defaultIconStyles:{width:g().Ev.sm,height:g().Ev.sm,fill:e.icon.primary},button:{paddingTop:4,paddingInlineEnd:8,paddingBottom:4,paddingInlineStart:Boolean(o)?6:8,borderRadius:6,...u?{width:"100%"}:{}}})),[o,u]),m="default"===c?s().Ay:d().A,y=u?"fill":"hug",v=u?"center":"center-left";return(0,h.jsx)(a().Y1,{direction:"horizontal",children:(0,h.jsx)(m,{disabled:r,style:p.button,onClick:n,children:(0,h.jsxs)(a().Y1,{direction:"horizontal",align:v,gap:Boolean(o)?4:6,width:y,children:[o?o(p.defaultIconStyles):null,(0,h.jsx)(f().D,{styleKey:"Caption/Semibold",colorVariant:r?"tertiary":"primary",children:t}),l?l(p.defaultIconStyles):null]})})})}},861243:(e,t,n)=>{n.d(t,{Y:()=>s});n(296540);var o=()=>n(391657),i=()=>n(832895),a=n(474848);function s(e){const{messageKey:t}=e,n={id:"",key:t,type:"static",props:{}};return(0,a.jsx)(i().Ue,{children:(0,a.jsx)(o().g,{...e,message:n})})}},964848:(e,t,n)=>{n.d(t,{c:()=>i});n(296540);var o=()=>n(209660);n(474848);(0,n(69708).YK)({togglePageAvailableOfflineSuccessTitle:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessTitle",defaultMessage:"Page now available offline"},togglePageAvailableOfflineSuccessBody:{id:"offlinePagesActions.togglePageAvailableOfflineSuccessBody",defaultMessage:"This page and all inline databases within it are available offline."},toggleCollectionViewBlockAvailableOfflineTitle:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineSuccess",defaultMessage:"Database now available offline"},toggleCollectionViewBlockAvailableOfflineBody:{id:"offlinePagesActions.toggleCollectionViewBlockAvailableOfflineBody",defaultMessage:"The top 50 pages in the first view are available offline. To guarantee offline access to a page, make it available manually."},togglePageAvailableOfflineFailedTitle:{id:"offlinePagesActions.togglePageAvailableOfflineFailedTitle",defaultMessage:"Download failed. Please try again"},togglePageAvailableOfflineFailedBody:{id:"offlinePagesActions.togglePageAvailableOfflineFailedBody",defaultMessage:"Tap to manage offline pages"}});function i(e){o().Ow({currentTab:"offline",openedFrom:e})}},965142:(e,t,n)=>{n.d(t,{V:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{isKeyboardShortcutsOpen:!1,toggleSource:void 0,openCount:0}}}const i=new o;(0,n(852832).exposeDebugValue)("keyboardShortcutsModalStore",i)},970236:(e,t,n)=>{n.d(t,{E:()=>s});n(296540);var o=()=>n(401497),i=()=>n(284371),a=n(474848);function s(e){const{color:t="gray",style:n,content:s,...l}=e,r=(0,o().IS)((e=>({badge:{alignSelf:"center",marginInlineStart:6,padding:"2px 4px",background:e[t].background.secondaryTranslucent,color:e[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:i().Wy.medium,lineHeight:1.3,...n}})),[t,n]);return(0,a.jsx)("div",{style:r.badge,...l,children:s})}},995847:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,xMarkSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,n(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},i=(0,n(340498).wt)("xMarkSmall",o)}}]);