"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[23455,70593,75332,83627],{59400:(e,t,i)=>{i.d(t,{nR:()=>c,m$:()=>a,m4:()=>l,Dy:()=>d,_Q:()=>g,FZ:()=>p});i(296540);var o=()=>i(645873),r=i(474848);function n(e){const{innerContent:t,collectionSettingsProps:o}=e,n=(0,i(401497).IS)((e=>({offlineMessage:{color:e.text.secondary}})),[]);return(0,r.jsx)(i(735695).Ay,{collectionSettingsStore:o.collectionSettingsStore,fullHeight:o.fullHeight,hideDesktopHeader:o.hideDesktopHeader,title:"offlineError"===t?(0,r.jsx)("div",{style:n.offlineMessage,children:(0,r.jsx)(i(69708).sA,{defaultMessage:"Please go online.",id:"lazyCollectionSettings.offlineError"})}):void 0,children:"loadingSpinner"===t?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,r.jsx)(i(98126).k,{})}):void 0})}const s=new(o().O2)("collectionSettings",(()=>Promise.all([i.e(75134),i.e(9773),i.e(36556),i.e(40537),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(44711),i.e(53321),i.e(90825),i.e(62475),i.e(3151),i.e(98629),i.e(87249),i.e(71621),i.e(88924),i.e(92845),i.e(56369),i.e(5834),i.e(48486),i.e(2411),i.e(89296),i.e(46414),i.e(9294),i.e(11676),i.e(91256),i.e(40563),i.e(67494),i.e(44584),i.e(53141),i.e(4422),i.e(4330),i.e(55162),i.e(71003),i.e(55753),i.e(28866),i.e(22001),i.e(71386),i.e(4351),i.e(6331),i.e(69144),i.e(12341),i.e(96402),i.e(84166),i.e(16448),i.e(45769),i.e(74562),i.e(37384),i.e(3259),i.e(13955),i.e(76677),i.e(43223),i.e(45147),i.e(15517),i.e(94995),i.e(98339),i.e(1966),i.e(55776),i.e(51444),i.e(13297),i.e(4802),i.e(62032),i.e(32487),i.e(28058),i.e(75422),i.e(50856),i.e(36359),i.e(92924),i.e(25204),i.e(52986),i.e(45732),i.e(30443),i.e(99108)]).then(i.bind(i,409198)))),a=(0,o()._h)(s,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,r.jsx)(n,{innerContent:e?"loadingSpinner":"empty",collectionSettingsProps:t}),renderOfflineError:e=>(0,r.jsx)(n,{innerContent:"offlineError",collectionSettingsProps:e})}),l=(0,o()._h)(s,(e=>e.CollectionSettingsButtonOptions)),d=(0,o()._h)(s,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,o()._h)(s,(e=>e.CollectionEditButtonAutomationOption)),u=new(o().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([i.e(9773),i.e(36556),i.e(40537),i.e(55373),i.e(36192),i.e(71562),i.e(96346),i.e(87249),i.e(71621),i.e(88924),i.e(92845),i.e(56369),i.e(5834),i.e(48486),i.e(2411),i.e(89296),i.e(46414),i.e(9294),i.e(11676),i.e(91256),i.e(40563),i.e(67494),i.e(44584),i.e(53141),i.e(74562),i.e(37384),i.e(13955),i.e(50856),i.e(43935)]).then(i.bind(i,908800)))),p=(0,o()._h)(u,(e=>e.TableHeaderPropertyCreationMenu)),h=new(o().O2)("CollectionSettingsSaveControl",(()=>Promise.all([i.e(71562),i.e(21990)]).then(i.bind(i,615950)))),g=(0,o()._h)(h,(e=>e.CollectionSettingsSaveControl))},68350:(e,t,i)=>{i.d(t,{I:()=>y});var o=i(296540),r=()=>i(484714),n=()=>i(56366),s=()=>i(401497),a=()=>i(898244),l=()=>i(645873);const d=new(l().O2)("PagePropertiesRowNameMenu",(async()=>Promise.all([i.e(9773),i.e(36556),i.e(40537),i.e(96346),i.e(92845),i.e(46414),i.e(71003),i.e(74562),i.e(37384),i.e(13955),i.e(1423)]).then(i.bind(i,716547)))),c=(0,l()._h)(d,(e=>e.PagePropertiesRowNameMenu));var u=()=>i(795963),p=()=>i(735372),h=()=>i(59364),g=()=>i(417392),v=()=>i(398217),m=i(474848);const y=o.memo((function(e){const{property:t,blockStore:l,schema:d,disabled:p,locked:v,canConfigureCollection:y,isInPeekRenderer:S,labelComponent:b,hideDragHandle:I,pagePropertiesStore:x,styleVariants:w,disableRowNameInteractivity:P,dragHandleStyle:k,layoutModule:A,forceHighlight:C,forceFocusedHighlight:M,hideIcon:T,propertyNameAriaId:j,showDragHandleAsIcon:_}=e,L=(0,o.useRef)(null),B=(0,i(908201).Ks)(),R=(0,r().v3)(),{isPhone:D}=(0,r().Y0)(),[O,U]=(0,o.useState)(!1),N=d[t],K=(0,n().K8)((()=>x.state.hoveredProperty===t),[x,t]),{shouldShowDragHandle:H,shouldRenderDragHandle:W,shouldShowDragIcon:E}=(0,n().K8)((()=>{const e=!D&&!i(732770).A.state.isKeyboardMode&&!I&&!p&&!v&&y,t=e&&!_;return{shouldShowDragHandle:K&&t,shouldRenderDragHandle:t,shouldShowDragIcon:e&&K&&_&&!T}}),[K,D,I,p,v,y,_,T]),F=(0,n().K8)((()=>x.state.openProperty),[x]),$=(0,n().K8)((()=>null==B?void 0:B.collectionStore()),[B]),V=(0,s().IS)((e=>{const{size:t="medium",width:o={variant:"fixed",widthMobile:u().yN,widthDesktop:u().OQ},height:r,color:n="default"}=w||{},s="medium"!==(null==r?void 0:r.variant)&&(null!=r&&r.variant||"medium"!==t)?24:34;let a;if("fixed"===o.variant){const e=D?o.widthMobile||u().yN:o.widthDesktop||u().OQ;a={width:e,maxWidth:e,minWidth:0}}else if("hug-content"===o.variant){a={width:"min-content",maxWidth:D?o.maxWidthMobile||"100%":o.maxWidthDesktop||"100%",minWidth:0}}else(0,i(534177).HB)(o);return{propertyLabelContainerStyles:{display:"flex",alignItems:"center",color:"primary"===n?e.text.primary:e.text.secondary,height:s,...a},tooltipLockedIcon:{width:12,fill:e.text.inversePrimary,marginInlineStart:2,display:"inline-block",verticalAlign:"middle",paddingBottom:3},tooltipDescription:{color:e.text.inverseSecondary},tooltipAutoUpdatedByAi:{color:e.text.inverseSecondary},personPropertyPermissionsTooltip:{color:e.text.inverseSecondary}}}),[w,D]),z=(0,o.useCallback)((()=>{x.setState({...x.state,hoveredProperty:void 0})}),[x]),X=(0,o.useCallback)((()=>{x.setState({...x.state,hoveredProperty:t})}),[x,t]),G=(0,o.useMemo)((()=>W&&(0,m.jsx)(i(145214).A,{animate:{opacity:H?1:0},initial:{opacity:0},exit:{opacity:0},style:{width:h().Z+4,marginInlineStart:-(h().Z+4)},onMouseMove:X,onMouseLeave:z,children:(0,m.jsx)(i(348501).A,{role:"cell",disallowTabbing:!0,onClick:t=>function(e,t,o,r){(0,i(616068).Z)()||r.setState({...r.state,openProperty:{property:t,isInPeekRenderer:o}})}(0,e.property,e.isInPeekRenderer,x)})})),[x,e.isInPeekRenderer,e.property,z,X,H,W]),q=(0,o.useCallback)((e=>{if(!B)return;const o=B.permissionScopesStore.state,r={onClick:!P&&o.canConfigureBlock?()=>function(e,t,o,r){(0,i(749804).I)({environment:o}),i(778417).IU({environment:o}),(0,i(404779).y)(),r.setState({...r.state,openProperty:{property:e,isInPeekRenderer:t}})}(t,S,R,x):i(496603).D_};return(0,m.jsx)(f,{hideIcon:Boolean(T),showDragIcon:E,dragHandleStyle:k,schema:d,property:t,disabled:p||Boolean(P),locked:v,canConfigureCollection:y,events:(0,i(553965).A)(r,e),propertyNameAriaId:j,setIsDescriptionIconTooltipHovered:e=>U(e),styleVariants:w,layoutModule:A,forceHighlight:C,forceFocusedHighlight:M,collectionStore:$,blockStore:l})}),[B,P,T,E,k,d,t,p,v,y,j,w,A,C,M,$,l,S,R,x]),J=Boolean(F&&!p&&F.property===t&&F.isInPeekRenderer===S),Q=(0,o.useCallback)((()=>{if(!B)return;x.setState({...x.state,openProperty:void 0});const e=B.settingsStore;i(147503).os({collectionSettingsStore:e})}),[B,x]),Y=(0,o.useCallback)((()=>{const t=null==B?void 0:B.settingsStore;if(B&&t)return(0,m.jsx)("div",{ref:L,children:t.state.open?(0,m.jsx)(i(59400).m$,{context:i(527438).Bd.TopbarFilterPopup,collectionContextStore:B,collectionSettingsStore:t,hideDesktopHeader:!0}):(0,m.jsx)(c,{...e,popupContainerRef:L})})}),[B,e]),Z=(0,o.useCallback)((e=>{if(!B||!N)return null;const o=(0,a().$M)(N)&&(0,a().om)(N);return(0,m.jsxs)("div",{...e,style:i(673730).Q$,children:[(0,m.jsxs)("div",{children:[N.name,v?(0,i(315564).S)(V.tooltipLockedIcon):void 0]}),void 0!==(null==N?void 0:N.description)&&N.description.length>0?(0,m.jsx)("div",{style:V.tooltipDescription,children:N.description}):null,$?(0,m.jsx)(i(408839).t,{propertySchema:N,collectionStore:$,property:t,style:V.personPropertyPermissionsTooltip,blockStore:l}):void 0,o&&o.auto_update_on_edit?(0,m.jsx)("div",{style:V.tooltipAutoUpdatedByAi,children:(0,m.jsx)(i(69708).sA,{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"})}):void 0]})}),[B,N,$,V.tooltipLockedIcon,V.tooltipDescription,V.personPropertyPermissionsTooltip,V.tooltipAutoUpdatedByAi,v,t,l]);return B&&N?(0,m.jsx)(i(859428).A,{disableTooltip:D,renderTooltip:Z,delayThreshold:O?0:500,placement:"left",tooltipClassName:i(38337).StS,render:e=>(0,m.jsxs)("div",{style:V.propertyLabelContainerStyles,onMouseMove:X,onMouseLeave:z,children:[G,(0,m.jsx)(g().Ay,{popupType:D?g().nl.BottomSheet:g().nl.Popup,bottomSheetInitialState:"half",originGap:1,alignmentToOrigin:"start",render:Y,trapFocus:!1,open:J,onDismiss:Q,origin:b??q(e)})]},t)}):null})),f=o.memo((function(e){const{schema:t,property:r,disabled:a,locked:l,canConfigureCollection:d,events:c,styleVariants:u,forceHighlight:h,forceFocusedHighlight:g,showDragIcon:y,collectionStore:f,blockStore:S}=e,b=(null==u?void 0:u.color)||"default",I=(null==u?void 0:u.size)||"medium",x=null==u?void 0:u.fontWeight,w=t[r],P=(0,s().DP)(),k=(0,i(379771).Q)(r),A=o.useMemo((()=>{if(!k)return null;const e=P.background.primary;return"jira"===k?(0,i(280746).jiraIcon)({width:10,height:10,stroke:e,strokeWidth:1,paintOrder:"stroke fill",vectorEffect:"non-scaling-stroke"}):(0,i(769145).salesforceIcon)({width:10,height:10,stroke:e,strokeWidth:1,paintOrder:"stroke fill",vectorEffect:"non-scaling-stroke"})}),[k,P.background.primary]),C=(0,n().K8)((()=>{if(g)return!0;const e=p().wb.state;return!(!e||"page_property_name"!==e.type)&&e.propertyId===r}),[r,g]),M=(0,n().K8)((()=>{var e;if(h)return!0;const i=p().qu.state,o=null===(e=t[r])||void 0===e?void 0:e.name;if(!i||!o)return!1;return o.toLowerCase().includes(i.toLowerCase())}),[r,t,h]),T=(0,s().IS)((t=>{const o=C?t.findHighlightMatch.selectedBackground:t.findHighlightMatch.unselectedBackground;return{button:{display:"flex",alignItems:"center",height:"100%",width:(0,i(778781).gx)(e.layoutModule)?void 0:"100%",borderRadius:4,padding:"0 6px",maxWidth:"100%"},property:{backgroundColor:M?o:void 0,outline:M?`5px solid ${o}`:void 0,borderRadius:M?4:void 0,color:C?"black":void 0,..."medium"===I?{fontSize:14,lineHeight:"20px"}:{fontSize:13,lineHeight:"18px"},...x?{fontWeight:i(284371).Wy[x]}:{}},icon:{marginInlineEnd:2,..."primary"===b?{fill:t.icon.primary}:C?{fill:"black"}:{}}}}),[b,C,I,x,e.layoutModule,M]);return w?(0,m.jsx)(i(718827).Ay,{role:"cell",id:e.propertyNameAriaId,style:T.button,disabled:a||l||!d,...c,onContextMenu:e=>{e.preventDefault(),c.onClick(e)},children:(0,m.jsx)(v().mA,{propertySchema:w,showIcon:!e.hideIcon,showDragIcon:y,showIntegrationIconOverlay:A,badge:(0,m.jsxs)(m.Fragment,{children:[f?(0,m.jsx)(i(897941).$,{propertySchema:w,collectionStore:f,property:r,blockStore:S}):void 0,(0,m.jsx)(v().Jv,{propertySchema:w}),(0,m.jsx)(i(367424).D,{propertySchema:w})]}),style:T.property,property:r,className:C?i(643707).wT:void 0,labelSizeVariant:I,iconSize:"medium"===I?16:14,iconStyle:T.icon,dragHandleStyle:e.dragHandleStyle})}):null}))},115314:(e,t,i)=>{i.d(t,{v:()=>s});i(16280),i(296540);var o=()=>i(69708),r=()=>i(534177),n=i(474848);function s(e,t){switch(e){case"editor":return(0,n.jsx)(o().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.editor",defaultMessage:"Anyone selected in {propertyName} has full access to this page",values:{propertyName:t}});case"read_and_write":return(0,n.jsx)(o().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.readAndWrite",defaultMessage:"Anyone selected in {propertyName} can edit this page",values:{propertyName:t}});case"reader":return(0,n.jsx)(o().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.reader",defaultMessage:"Anyone selected in {propertyName} can view this page",values:{propertyName:t}});case"comment_only":return(0,n.jsx)(o().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.commentOnly",defaultMessage:"Anyone selected in {propertyName} can comment on this page",values:{propertyName:t}});case"content_only_editor":case"membership_admin":case"none":throw new Error(`Unhandled role in person property permissions badge: ${e}`);default:(0,r().HB)(e)}}},129546:(e,t,i)=>{i.d(t,{X:()=>d,r:()=>c});i(581454);var o=()=>i(604995),r=()=>i(161479),n=()=>i(496603),s=()=>i(559506);const a=20,l=20;async function d(e,t){const{store:i,activityIds:o,spaceId:d,filterActivityTypes:c,filterDateRange:p,navigableBlockId:h,collectionIds:g,authorId:v,source:m}=t,y=n().$1(o),f="person_profile"===m&&v?await s().callApi({eventName:"getRecentActivityFeed",environment:e,data:{spaceId:d,authorId:v,limit:l}}):await s().callApi({eventName:"getActivityLog",environment:e,data:{spaceId:d,navigableBlock:h?{id:h,spaceId:(0,r().e)(void 0)}:void 0,collections:g?g.map((e=>({id:e,spaceId:(0,r().e)(void 0)}))):void 0,endingBeforeId:y,limit:a,activityTypes:c,...u(p),authorId:v}});if("failed"===f.type)throw f.error;const S=f.data.activityIds;i.update((e=>({...e,shouldLoadNewerActivities:!1,activityIds:S.concat(o)})))}async function c(e,t){const{store:i,activityIds:o,spaceId:d,filterActivityTypes:c,filterDateRange:p,navigableBlockId:h,collectionIds:g,authorId:v,source:m}=t,y=n().HV(o),f="person_profile"===m&&v?await s().callApi({eventName:"getRecentActivityFeed",environment:e,data:{spaceId:d,startingAfterId:y,authorId:v,limit:l}}):await s().callApi({eventName:"getActivityLog",environment:e,data:{spaceId:d,navigableBlock:h?{id:h,spaceId:(0,r().e)(void 0)}:void 0,collections:g?g.map((e=>({id:e,spaceId:(0,r().e)(void 0)}))):void 0,startingAfterId:y,limit:a,activityTypes:c,...u(p),authorId:v}});if("failed"===f.type)throw f.error;const S=f.data.activityIds;i.update((e=>({...e,shouldLoadOlderActivities:!1,activityIds:o.concat(S),hasOlderActivities:S.length>0})))}function u(e){var t,i;const r=null!==(t=e.ending)&&void 0!==t&&t.start_date?o().C6.isoToUnixMs(e.ending.start_date):void 0;return{startingAfterTimeMs:null!==(i=e.starting)&&void 0!==i&&i.start_date?o().C6.isoToUnixMs(e.starting.start_date):void 0,endingBeforeTimeMs:r?o().K1({date:r,daysToAdd:1}):void 0}}},146594:(e,t,i)=>{i.d(t,{H:()=>n});var o=()=>i(645873);const r=new(o().O2)("UpdateSidebarTabInfo",(async()=>await Promise.all([i.e(75134),i.e(58636),i.e(78405),i.e(83627),i.e(21377)]).then(i.bind(i,722143)))),n=(0,o()._h)(r,(e=>e.UpdateSidebarTabInfo))},171018:(e,t,i)=>{i.d(t,{A6:()=>d,Ep:()=>l,YB:()=>n,es:()=>c});var o=()=>i(757695),r=()=>i(712505);class n extends o().Store{getInitialState(){return{forceShowProperties:!1,searchOpen:!1,searchQuery:""}}}const s="unnamed";class a extends o().Store{getInitialState(){return{pagePropertiesStoreMap:{}}}getNewEditorPagePropertiesStore(e){var t;const i=e||s;if(null!==(t=this.state.pagePropertiesStoreMap)&&void 0!==t&&t[i])return this.state.pagePropertiesStoreMap[i];const o=new n,r={pagePropertiesStoreMap:{...this.state.pagePropertiesStoreMap,[i]:o}};return this.setState(r),o}}const l=new a,d=new a;function c(e){const t=e||s;return(r().default.state.open?d:l).state.pagePropertiesStoreMap[t]}},198491:(e,t,i)=>{i.d(t,{A:()=>l,e:()=>a});i(296540);var o=()=>i(662303),r=()=>i(69708),n=()=>i(412236),s=i(474848);function a({upsellTier:e}){return(0,s.jsx)(r().sA,{defaultMessage:"Upgrade to {upsellTier, select, plus {Plus} business {Business} enterprise {Enterprise} other {connect}}",id:"collectionSettings.connectedRelationUpsell.title",values:{upsellTier:e}})}function l({upsellTier:e,expirationDate:t,hasLearnMore:i}){return t?(0,s.jsx)(r().sA,{defaultMessage:"{upsellTier, select, plus {Plus plan} business {Business plan} enterprise {Enterprise plan} other {Upgrade}} will be required to access this feature starting on {expirationDate} {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.expiration.description",values:{upsellTier:e,expirationDate:t.setLocale(o().locale).toLocaleString({month:"long",day:"numeric"}),hasLearnMore:i,learnMoreLink:(0,s.jsx)(n().V,{})}}):(0,s.jsx)(r().sA,{defaultMessage:"{upsellTier, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} plan is required to access this feature {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.noExpiration.description",values:{upsellTier:e,hasLearnMore:i,learnMoreLink:(0,s.jsx)(n().V,{})}})}},224239:(e,t,i)=>{i.d(t,{L:()=>o});class o extends(()=>i(757695))().Store{getInitialState(){return{activityIds:[],shouldLoadNewerActivities:!1,shouldLoadOlderActivities:!0,hasOlderActivities:!0,filterActivityTypes:[],filterDateRange:{starting:void 0,ending:void 0}}}}},367424:(e,t,i)=>{i.d(t,{D:()=>p});i(296540);var o=()=>i(401497),r=()=>i(252291),n=()=>i(532940),s=()=>i(284371),a=()=>i(198491),l=()=>i(859428),d=()=>i(553965),c=()=>i(817126),u=i(474848);function p({propertySchema:e}){const t=(0,c().kg)(e);return t?(0,u.jsx)(h,{featureName:t}):null}function h({featureName:e}){const t=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:4,width:200,textWrap:"wrap"},title:{lineHeight:s().K_.UISmall.desktop,fontSize:s().J.UISmall.desktop},description:{lineHeight:s().K_.UISmall.desktop,fontSize:s().J.UISmall.desktop,color:e.text.secondary}})),[]),i=(0,c().uF)({featureName:e});if(null==i||!i.upsell)return null;const{upsellTier:p,expirationDate:h}=i;return(0,u.jsx)(l().A,{placement:"top",render:e=>(0,u.jsx)("div",{...(0,d().A)(e),children:(0,u.jsx)(r().I,{icon:n().exclamationMarkTriangleIcon,colorPalette:"yellow",colorVariant:"accentPrimary",style:{padding:2}})}),renderTooltip:()=>(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)("div",{style:t.title,children:(0,u.jsx)(a().e,{upsellTier:p})}),(0,u.jsx)("div",{style:t.description,children:(0,u.jsx)(a().A,{expirationDate:h,upsellTier:p})})]})})}},408839:(e,t,i)=>{i.d(t,{t:()=>l});i(296540);var o=()=>i(56366),r=()=>i(112886),n=()=>i(115314),s=()=>i(763870),a=i(474848);function l({collectionStore:e,property:t,propertySchema:i,style:l,blockStore:d}){const c=(0,s().i)({collectionStore:e,property:t,propertySchema:i,blockStore:d}),u=(0,o().K8)((()=>{if(!c)return null;const{role:e}=c,t=i.name;return(0,n().v)(e,t)}),[c,i.name]),p=(0,r().keyFillSmallIcon)({width:12,height:12,verticalAlign:"middle",display:"inline-block",marginBottom:2});return u?(0,a.jsxs)("span",{style:l,children:[p," ",u]}):null}},412236:(e,t,i)=>{i.d(t,{V:()=>c});var o=i(296540),r=()=>i(401497),n=()=>i(69708),s=()=>i(284371),a=()=>i(719147),l=i(474848);const d="https://www.notion.com/pricing";function c(){const[e,t]=(0,o.useState)(!1),i=(0,r().IS)((t=>({default:{color:t.blue.text.accentPrimary,textDecoration:e?"underline":"none",fontWeight:s().Wy.medium}})),[e]);return(0,l.jsx)(a().A,{href:d,external:!0,style:{...i.default},hoverColor:"blue",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,l.jsx)(n().sA,{id:"PackingChangeLearnMore.learnMore",defaultMessage:"Learn more"})})}},479349:(e,t,i)=>{i.d(t,{cT:()=>P,Jf:()=>k});var o=i(296540),r=()=>i(484714),n=()=>i(56366),s=()=>i(757695),a=()=>i(51260),l=()=>i(765957),d=()=>i(961581),c=(i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(581454),()=>i(892736)),u=()=>i(58212),p=()=>i(842677),h=()=>i(564884),g=()=>i(553737);const v="1.3.0";class m{constructor(e){this.storageKeyPrefix="notion-sidebar-",this.store=new(g().Ay)({namespace:g().Bq,important:!1,trackingType:"performance"}),this.loggingEnabled=Math.random()<i(242422).default.getConfigKey("sidebar_cache_logging_config","sample_rate"),this.environment=e}async get(e){try{await this.store.waitUntilReady();const t=this.storageKeyPrefix+e,{duration:i,result:o}=y((()=>this.store.get(t)));return o?o.version!==v?(this.logRead({duration:i,status:"stale",result:o}),void this.clear(e)):(this.logRead({duration:i,status:"success",result:o}),o):void this.logRead({duration:i,status:"missing"})}catch(t){return void this.logRead({status:"failure"})}}set(e,t){try{const i=this.storageKeyPrefix+e,{duration:o}=y((()=>this.store.set(i,t)));this.logWrite({duration:o,status:"success",result:t})}catch(i){this.logWrite({status:"failure",result:t})}}clear(e){try{const t=this.storageKeyPrefix+e;this.store.remove(t)}catch(t){}}logRead({duration:e,status:t,result:i}){this.loggingEnabled&&(0,h().u)({environment:this.environment,event:{eventName:"sidebar.cache_access_attempt",eventProperties:{time:e,type:"read",status:t,size_kb:i&&"object"==typeof i?this.calculateSizeKb(i):0,source:"local_storage"}}})}logWrite({duration:e,status:t,result:i}){this.loggingEnabled&&(0,h().u)({environment:this.environment,event:{eventName:"sidebar.cache_access_attempt",eventProperties:{time:e,type:"write",status:t,size_kb:this.calculateSizeKb(i),source:"local_storage"}}})}calculateSizeKb(e){try{const t=JSON.stringify(e),i=new Blob([t]).size;return Math.round(i/1024)}catch{return 0}}}function y(e){const t=performance.now(),i=e();return{duration:Math.round(performance.now()-t),result:i}}function f(e,t){return`sidebar-state-${e}-${t}`}function S(e,t){const i=p().RecordStores.createUniqueRootStore(t,e.pointer);return void 0!==e.title||void 0!==e.icon?i.createFastRenderBlockStore(e.title??[],e.icon):i}function b(e){const t=e.isDefined()?e.getTitleValue():[],i=e.isDefined()?e.getIcon():void 0,o=null==i?void 0:i.icon;return{pointer:e.pointer,title:t,icon:o}}function I(e){const t=e.isDefined()?e.getName():"",i=e.isDefined()?e.getRawIcon():void 0,o=e.isDefined()?e.getTeamPagesStores():[];return{pointer:e.pointer,name:t,icon:i,pages:o.map(b)}}function x(e){const t=e.isDefined()?e.getData():void 0,i=null==t?void 0:t.name,o=null==t?void 0:t.icon;return{pointer:e.pointer,title:i,icon:o}}const w=new class{constructor(){this.cache=void 0,this.pendingResults=new Map,this.results=new Map,this.cachedThisSession=new Set,this.disabledCacheKeys=new Set}getCache(e){return this.cache||(this.cache=new m(e)),this.cache}getCachedSidebarStateResult(e,t){const i=`${e}:${t}`;if(!this.disabledCacheKeys.has(i))return this.results.get(i)}async getCachedSidebarState(e,t,i){const o=`${e}:${t}`;if(this.disabledCacheKeys.has(o))return;if(this.results.has(o))return this.results.get(o);if(this.pendingResults.has(o))return this.pendingResults.get(o);const r=this.readFromStorage(e,t,i).then((e=>{if(!this.disabledCacheKeys.has(o))return this.results.set(o,e),e})).catch((()=>{}));return this.pendingResults.set(o,r),r}async readFromStorage(e,t,i){const o=f(e,t),r=await this.getCache(i).get(o);if(r)try{return function(e,t){return{isCached:!0,spaceViewId:e.spaceViewId,spaceId:e.spaceId,spaceName:e.spaceName,userId:e.userId,isMember:e.isMember,isPersonalSpace:e.isPersonalSpace,showBookmarksSection:e.showBookmarksSection,showWorkspaceSection:e.showWorkspaceSection,showSharedSection:e.showSharedSection,showPrivateSection:e.showPrivateSection,showChatsSection:e.showChatsSection,showSharedOverflowButton:e.showSharedOverflowButton,showPrivateOverflowButton:e.showPrivateOverflowButton,showOnlyPrivateSection:e.showOnlyPrivateSection,shownSidebarSectionCount:e.shownSidebarSectionCount,showTeamsOverflowButton:e.showTeamsOverflowButton,stickTemplateItemsToBottom:e.stickTemplateItemsToBottom,showTeamSection:e.showTeamSection,showCrossWorkspaceGuestPagesPrototype:e.showCrossWorkspaceGuestPagesPrototype,showEmptySharedSection:e.showEmptySharedSection,documentationLinkLocation:e.documentationLinkLocation,allSharedPagesStores:[],allPrivatePagesStores:[],userJoinedTeamsStores:[],visibleSharedPagesStores:e.visibleSharedPagesStores.map((e=>S(e,t))),visiblePrivatePagesStores:e.visiblePrivatePagesStores.map((e=>S(e,t))),bookmarkedPagesStores:e.bookmarkedPagesStores.map((e=>S(e,t))),workspacePagesStores:e.workspacePagesStores.map((e=>S(e,t))),visibleTeamsStores:e.visibleTeamsStores.map((e=>function(e,t){const i=p().RecordStores.createUniqueRootStore(t,e.pointer);if(void 0!==e.name||void 0!==e.icon||e.pages.length>0)return(0,c().x)({store:i,environment:t,name:e.name??"",icon:e.icon,cachedTeamPagesStores:e.pages.map((e=>S(e,t)))});return i}(e,t))),visibleWorkflowStores:e.visibleWorkflowStores.map((e=>function(e,t){const i=p().RecordStores.createUniqueRootStore(t,e.pointer);if(void 0!==e.title||void 0!==e.icon)return(0,u().J)({store:i,environment:t,name:e.title??"",icon:e.icon});return i}(e,t))),isTeamContentReady:!0,userSharedPagesForSpaceHasLoaded:!0,sidebarOrder:e.sidebarOrder}}(r,i)}catch(n){return void this.getCache(i).clear(o)}}cacheSidebarState({spaceId:e,userId:t,sidebarState:i,environment:o}){const r=f(e,t),n=`${e}:${t}`;var s;if(!this.cachedThisSession.has(n))try{const e={spaceViewId:(s=i).spaceViewId,spaceId:s.spaceId,spaceName:s.spaceName,userId:s.userId,isMember:s.isMember,isPersonalSpace:s.isPersonalSpace,showBookmarksSection:s.showBookmarksSection,showWorkspaceSection:s.showWorkspaceSection,showSharedSection:s.showSharedSection,showPrivateSection:s.showPrivateSection,showChatsSection:s.showChatsSection,showSharedOverflowButton:s.showSharedOverflowButton,showPrivateOverflowButton:s.showPrivateOverflowButton,showOnlyPrivateSection:s.showOnlyPrivateSection,shownSidebarSectionCount:s.shownSidebarSectionCount,showTeamsOverflowButton:s.showTeamsOverflowButton,stickTemplateItemsToBottom:s.stickTemplateItemsToBottom,showTeamSection:s.showTeamSection,showCrossWorkspaceGuestPagesPrototype:s.showCrossWorkspaceGuestPagesPrototype,showEmptySharedSection:s.showEmptySharedSection,documentationLinkLocation:s.documentationLinkLocation,visibleSharedPagesStores:s.visibleSharedPagesStores.map(b),visiblePrivatePagesStores:s.visiblePrivatePagesStores.map(b),bookmarkedPagesStores:s.bookmarkedPagesStores.map(b),workspacePagesStores:s.workspacePagesStores.map(b),visibleTeamsStores:s.visibleTeamsStores.map(I),visibleWorkflowStores:s.visibleWorkflowStores.map(x),sidebarOrder:s.sidebarOrder,cachedAt:Date.now(),version:v};this.getCache(o).set(r,e),this.cachedThisSession.add(n)}catch(a){}}disableCache({spaceId:e,userId:t}){const i=`${e}:${t}`;this.disabledCacheKeys.has(i)||(this.disabledCacheKeys.add(i),this.pendingResults.delete(i),this.results.delete(i))}isCacheDisabled(e,t){const i=`${e}:${t}`;return this.disabledCacheKeys.has(i)}clearCachedSidebarState({spaceId:e,userId:t,environment:i}){const o=f(e,t),r=`${e}:${t}`;this.getCache(i).clear(o),this.pendingResults.delete(r),this.results.delete(r)}};function P({isFreshStateReady:e,userId:t,spaceId:i}){const{enableSidebarStateCache:n}=(0,a().b8)(t),[l]=(0,o.useState)((()=>s().Store.createValue(n&&t&&i?w.getCachedSidebarStateResult(i,t):void 0,{name:"cachedSidebarStateStore"})));(0,o.useEffect)((()=>{n&&e&&t&&i&&w.disableCache({spaceId:i,userId:t})}),[n,e,t,i]);const d=(0,r().v3)();return(0,o.useEffect)((()=>{n&&t&&i&&!w.isCacheDisabled(i,t)&&w.getCachedSidebarState(i,t,d).then((e=>l.setState(e)))}),[t,i,d,n,l]),l}function k({sidebarState:e}){const t=(0,r().v3)(),{userId:i,spaceId:s,isInitialPageRenderCompleted:c}=(0,n().K8)((()=>{var e,t;return{userId:null===(e=l().default.state.currentUserStore)||void 0===e?void 0:e.id,spaceId:null===(t=l().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,isInitialPageRenderCompleted:d().A.state.initialRenderCompleted}}),[]),{enableSidebarStateCache:u}=(0,a().b8)(i);(0,o.useEffect)((()=>{i&&s&&null!=e&&e.userSharedPagesForSpaceHasLoaded&&e.isTeamContentReady&&!e.isCached&&c&&(u?w.cacheSidebarState({spaceId:s,userId:i,sidebarState:e,environment:t}):w.clearCachedSidebarState({spaceId:s,userId:i,environment:t}))}),[i,s,c,e,u,t])}},569866:(e,t,i)=>{i.d(t,{A:()=>c});i(296540);var o=()=>i(726637),r=()=>i(401497),n=()=>i(252291),s=()=>i(829548),a=()=>i(284371),l=()=>i(125565),d=i(474848);function c(e){const{message:t,title:i,iconOptions:c}=e,u=o().A.isMobile,p=(0,r().IS)((e=>({wrapper:{textAlign:"center",paddingInlineStart:20,paddingInlineEnd:20,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",overflow:"hidden",minHeight:220},message:{marginTop:2,marginBottom:4,maxWidth:380,textWrap:"balance"},title:{fontWeight:a().Wy.medium,maxWidth:380,textWrap:"balance"}})),[]),h=c||{icon:s().y,colorPalette:"gray",colorVariant:"tertiary"};return(0,d.jsxs)("div",{style:p.wrapper,children:[(0,d.jsx)("div",{style:{paddingBottom:6},children:(0,d.jsx)(n().I,{...h,size:"xl"})}),(0,d.jsx)(l().A,{isMobile:u,style:p.title,isSecondaryColor:!0,children:i}),(0,d.jsx)(l().A,{isMobile:u,style:p.message,isSecondaryColor:!0,children:t})]})}},577466:(e,t,i)=>{i.d(t,{B:()=>n});var o=()=>i(59226),r=()=>i(401497);function n(e){const t=(0,o().X)("more_rounded_block_container");return(0,r().IS)((e=>({wrapper:{background:e.background.secondary,borderRadius:t?10:5,padding:"8px 12px",userSelect:"none",pointerEvents:"auto",width:"100%"}})),[t])}},586538:(e,t,i)=>{i.d(t,{A:()=>z});i(898992),i(354520),i(581454);var o=i(296540),r=()=>i(726637),n=()=>i(484714),s=()=>i(56366),a=()=>i(401497),l=()=>i(929219),d=()=>i(98126),c=()=>i(187174),u=()=>i(202017),p=()=>i(42583),h=()=>i(921997),g=()=>i(801634),v=()=>i(69708),m=()=>i(496603),y=()=>i(534177),f=()=>i(720665),S=()=>i(129546),b=()=>i(848259),I=()=>i(645873);const x=new(I().O2)("activityUpdate",(async()=>await Promise.all([i.e(42660),i.e(31842),i.e(11411),i.e(13319)]).then(i.bind(i,529446))));(0,I()._h)(x,(e=>e.ActivityUpdate));var w=()=>i(299545),P=()=>i(37433),k=()=>i(721273),A=()=>i(941541),C=()=>i(423817),M=()=>i(155959),T=()=>i(224239),j=()=>i(765957),_=()=>i(463830);class L extends(()=>i(757695))().Store{getInitialState(){return{selectedItems:[]}}}const B=L;var R=()=>i(606846),D=()=>i(228927),O=()=>i(575695),U=()=>i(760217),N=()=>i(297401),K=()=>i(821879),H=i(474848);const W=function({mode:e,title:t,onChange:i,disabled:r,focused:n,onMenuDismiss:a,items:l,addItemLabel:d,tokenInputPlaceholder:c,resultSectionTitle:u,componentDebugName:p,icon:h,getItemLabel:g,options:v,store:m}){const y=(0,s().uB)(m,B),f=(0,s().O$)(y);return(0,o.useEffect)((()=>{y.setState({selectedItems:l})}),[l,y]),(0,H.jsx)(K().A,{mode:e,hasItemsSelected:f.selectedItems.length>0,title:t,icon:h,items:l,onChange:e=>{i(e)},disabled:r,focused:n,renderFilter:(e,t)=>(0,H.jsx)($,{getItemLabel:g,item:e,args:t}),renderToken:e=>(0,H.jsx)(F,{item:e}),renderItemForSummary:e=>(0,H.jsx)(E,{item:e}),addItemLabel:d,labelText:{title:t,tokenInputPlaceholder:c,resultSectionTitle:u,componentDebugName:p},performRequest:e=>function({query:e},t){return Promise.resolve(t.filter((t=>t.includes(e))))}(e,v),renderResultMenuItem:(t,i)=>(0,H.jsx)(V,{getItemLabel:g,mode:e,store:y,item:t,props:i}),onMenuDismiss:a})};function E({item:e}){return(0,H.jsx)(H.Fragment,{children:`hello${e}`})}function F({item:e}){return(0,H.jsx)(H.Fragment,{children:e})}function $({item:e,args:t,getItemLabel:i}){const{disabled:o,onRemove:r,onClick:s}=t,a=function(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginInlineEnd:12},recordIcon:{marginInlineEnd:4}}}((0,n().v3)()),l=(0,H.jsx)(N().A,{disabled:o,onClick:r});return(0,H.jsx)(U().A,{title:(null==i?void 0:i(e))||e,disabled:o,focused:!1,right:l,style:a.menuItem,desktopTitleStyle:a.menuItemTitle,onClick:s})}function V({item:e,props:t,getItemLabel:i,mode:r,store:n}){const a=(0,s().uB)(n,B),l=(0,s().K8)((()=>a.state.selectedItems),[a]);return(0,o.createElement)(U().A,{...t,key:e,title:(null==i?void 0:i(e))||e,isChecked:r===K().C.Pill&&l.includes(e)})}function z(e){var t;const{spaceId:i,navigableBlockStore:r,collectionIds:d,authorId:u,source:p}=e,g=null==r?void 0:r.id,b=(0,n().v3)(),L=(0,s().uB)(void 0,T().L),B=(0,s().uB)(void 0,_().A),O=(0,a().IS)((e=>({placeholderContent:J(b,e)})),[b]),U=(0,o.useMemo)((()=>m().nF((e=>function(e,t){t.update((e=>({...e,shouldLoadNewerActivities:!0})))}(0,L)),1e3)),[L]),N=(0,o.useMemo)((()=>f().Hg(U)),[U]);(0,o.useEffect)((()=>{let e,t,i;if(g){const t=(0,h().O$)(g);e=A().Ay.addListener(t,void 0,N,void 0,b)}if(d&&(t=d.map((e=>{const t=(0,h().zB)(e);return A().Ay.addListener(t,void 0,N,void 0,b)})).filter(y().O9)),u){const e=(0,h().Ii)(u);i=A().Ay.addListener(e,void 0,N,void 0,b)}return()=>{if(e&&A().Ay.removeListener(e,b),t)for(const e of t)A().Ay.removeListener(e,b);i&&A().Ay.removeListener(i,b)}}),[d,b,N,g,u]);const K=(0,s().O$)(l().e),W=(0,s().K8)((()=>{const e=L.state;return 0===e.filterActivityTypes.length&&void 0===e.filterDateRange.ending&&void 0===e.filterDateRange.starting}),[L]),E=(0,s().K8)(P().XL,[]),{currentUserStore:F,currentSpaceStore:$}=(0,s().K8)((()=>{const{currentUserStore:e,sidebarSpaceStore:t}=j().default.state;return{currentUserStore:e,currentSpaceStore:t}}),[]),{shouldLoadOlderActivities:V,shouldLoadNewerActivities:z,filterActivityTypes:G,filterDateRange:Z,activityIds:ee,hasOlderActivities:te}=(0,s().O$)(L),ie=(0,I().fJ)(x),[oe]=(0,c().Yb)((async()=>{if(!K||!F||!$)return;const e=R().Ay.startLoading();z?await S().X(b,{store:L,activityIds:ee,spaceId:i,filterActivityTypes:G,filterDateRange:Z,navigableBlockId:g,collectionIds:d,authorId:u,source:p}):V&&te&&await S().r(b,{store:L,activityIds:ee,spaceId:i,filterActivityTypes:G,filterDateRange:Z,navigableBlockId:g,collectionIds:d,authorId:u,source:p}),R().Ay.endLoading(e)}),[ee,L,d,$,F,b,G,Z,te,K,g,z,V,i,p,u]),re=oe.error,ne="resolved"===oe.status,se=(0,s().K8)((()=>{if(!F)return[];const e=F.id,t=(0,M().T)("supportsNativeHome"),o={spaceId:i,userId:e,navigableBlockId:g,collectionIds:d,filterDateRange:Z,filterActivityTypes:G,authorId:u},r=t&&0===ee.length&&!ne?k().oV(o):ee;return t&&ne&&k().tK(o,ee),function(e){return m().oE(e.map((e=>function(e){const{currentUserStore:t,sidebarSpaceStore:i}=j().default.state;if(!t||!i)return;const o=(0,w().jA)(i,e,i.id),r=o.getModel();return r&&!r.invalid?r:null}(e))))}(r)}),[ee,d,F,G,Z,u,g,ne,i]);if(!K)return(0,H.jsx)(Q,{});if(!F||!$)return null;const ae=0===se.length&&!te&&ne,le=$;if(re||"rejected"===ie.status)return(0,H.jsx)("div",{style:O.placeholderContent,children:(0,H.jsx)(v().sA,{defaultMessage:"Something went wrong.",id:"activityUpdate.unknownErrorLoadingActivities.message"})});const de=Boolean(d&&d.length>0);if("resolved"!==ie.status||0===se.length&&!ne)return(0,H.jsxs)("div",{children:[E?(0,H.jsx)(X,{hasCollection:de,source:p,activityUpdatesStore:L,filterPopupStore:B}):void 0,(0,H.jsx)(C().J,{areaHeight:window.innerHeight})]});const{ActivityUpdate:ce}=ie.value;return(0,H.jsxs)("div",{children:[E?(0,H.jsx)(X,{hasCollection:de,source:p,activityUpdatesStore:L,filterPopupStore:B}):void 0,(0,H.jsxs)("div",{style:ae?O.placeholderContent:q(b,p),className:ae?"":"notranslate",children:[ae?null===(t=e.empty)||void 0===t?void 0:t.call(e,{hasFiltersOn:!W}):null,(0,H.jsx)("section",{role:"feed",children:se.map(((e,t,i)=>{const o=i.length-1===t,r="notifications_tab"===p?{tab:"all",source:p}:"updates_sidebar"===p?{tab:"pageUpdatesSidebar",source:p}:"person_profile"===p?{tab:"personProfile",source:p}:{tab:"homeTile",source:p};return(0,H.jsx)(ce,{activity:e,rootStore:le,isLast:o,tabArgs:r},e.id)}))}),(0,H.jsx)(D().A,{onChange:e=>{e<200&&ne&&!V&&te&&(W||se.length>0)&&L.update((e=>({...e,shouldLoadOlderActivities:!0})))},children:!ne&&te?(0,H.jsx)(Y,{isPaginated:!0}):null})]})]})}function X(e){const{hasCollection:t,source:i,activityUpdatesStore:o,filterPopupStore:r}=e,{currentUserStore:n,currentSpaceStore:a}=(0,s().K8)((()=>{const{currentUserStore:e,sidebarSpaceStore:t}=j().default.state;return{currentUserStore:e,currentSpaceStore:t}}),[]),l=(0,s().K8)((()=>o.state.filterActivityTypes.length>0||o.state.filterDateRange.ending||o.state.filterDateRange.starting),[o]);return n&&a?(0,H.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"12px 10px",width:"100%",gap:6},children:[(0,H.jsx)(G,{hasCollection:t,source:i,filterPopupStore:r,activityUpdatesStore:o}),(0,H.jsx)(oe,{source:e.source,activityUpdatesStore:o,filterPopupStore:r}),l?(0,H.jsx)(ie,{source:e.source,activityUpdatesStore:o}):void 0]}):null}function G(e){const{hasCollection:t,source:i,activityUpdatesStore:r,filterPopupStore:a}=e,l=(0,v().tz)(),d=(0,n().v3)(),c=t?g().Fv:g().IP,p=(0,s().uB)(void 0,B),h=(0,s().K8)((()=>r.state.filterActivityTypes),[r]),m=(0,o.useCallback)((()=>{ee(a)}),[a]);return(0,H.jsx)(W,{store:p,focused:!1,icon:u().n,options:[...c].sort(),items:h,mode:K().C.Pill,title:(0,H.jsx)(v().sA,{id:"activityUpdates.filterMenu.byType.title",defaultMessage:"Activity type"}),tokenInputPlaceholder:l.formatMessage({id:"activityUpdates.filterMenu.byType.search",defaultMessage:"Search for a type"}),resultSectionTitle:l.formatMessage({id:"activityUpdates.filterMenu.byType.resultSectionTitle",defaultMessage:"Activity Types"}),addItemLabel:l.formatMessage({id:"activityUpdates.filterMenu.byType.addItemLabel",defaultMessage:"Add an activity type"}),componentDebugName:"ActivityUpdatesSearchEditTypesFilter",onChange:e=>te((()=>r.update((t=>({...t,filterActivityTypes:e,activityIds:[],hasOlderActivities:!0,shouldLoadOlderActivities:!0,shouldLoadNewerActivities:!1})))),d,i,r),onMenuDismiss:m,getItemLabel:e=>e.split("-").map((e=>e.replace(/(^.)/,(e=>e.toUpperCase())))).join(" ")})}function q(e,t){return{minHeight:r().A.isMobile?void 0:"75vh"}}function J(e,t){return{...q(),paddingTop:r().A.isMobile?32:void 0,paddingBottom:r().A.isMobile?32:void 0,minHeight:r().A.isMobile?void 0:220,display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",fontSize:14,color:t.text.secondary,flexDirection:"column",flex:"1 1 0%"}}function Q(){const e=(0,n().v3)(),t=(0,a().IS)((e=>({offlineMessage:J(0,e)})),[e]);return(0,H.jsx)("div",{style:t.offlineMessage,children:(0,H.jsx)(v().sA,{defaultMessage:"Please go online to view updates.",id:"activityUpdates.offlineMessage"})})}function Y({isPaginated:e}){const t=(0,n().v3)(),i=(0,a().IS)((t=>({spinner:{...J(0,t),minHeight:e?64:220}})),[t,e]);return(0,H.jsx)("div",{style:i.spinner,children:(0,H.jsx)(d().k,{})})}function Z(e){var t,i;const{filterActivityTypes:o,filterDateRange:r}=e.state;return{activityTypes:o,dateRange:{start:null===(t=r.starting)||void 0===t?void 0:t.start_date,end:null===(i=r.ending)||void 0===i?void 0:i.start_date}}}function ee(e){e.setState({...e.state,open:!1})}function te(e,t,i,o){const r=Z(o);e();const n=Z(o);b().Xl({environment:t,activityUpdatesSource:i,filters:n,prevFilters:r})}function ie({source:e,activityUpdatesStore:t}){const i=(0,n().v3)(),o=(0,a().IS)((e=>({clearButton:{flexGrow:1,textAlign:"end",cursor:"pointer",fontSize:14,color:e.text.secondary,marginInlineEnd:8}})),[]);return(0,H.jsx)("div",{style:o.clearButton,onClick:()=>te((()=>t.reset()),i,e,t),children:(0,H.jsx)(v().sA,{defaultMessage:"Clear",id:"activityUpdates.clearFilters"})})}function oe({source:e,activityUpdatesStore:t,filterPopupStore:i}){const r=(0,n().v3)(),a=(0,o.useCallback)((()=>ee(i)),[i]),l=(0,s().K8)((()=>t.state.filterDateRange),[t]);return(0,H.jsx)(O().A,{mode:K().C.Pill,focused:!1,showButtons:!0,title:(0,H.jsx)(v().sA,{id:"activityUpdates.filterMenu.byDate",defaultMessage:"Date Range"}),icon:p().D,value:l,onMenuDismiss:a,onChange:i=>te((()=>t.update((e=>({...e,filterDateRange:i,activityIds:[],hasOlderActivities:!0,shouldLoadOlderActivities:!0})))),r,e,t)})}},650843:(e,t,i)=>{i.r(t),i.d(t,{LargeSurfaceRenderError:()=>a});i(296540);var o=()=>i(167355),r=()=>i(840071),n=()=>i(113414),s=i(474848);function a(e){return(0,s.jsx)(r().L,{...e,iconGroup:o().F,children:(0,s.jsx)(n().g,{})})}},671891:(e,t,i)=>{i.d(t,{l:()=>r});var o=()=>i(56366);function r(e){const t=(0,o().K8)((()=>function(e){if(!e)return;const t=null==e?void 0:e.getAssociatedCollectionStore();return null==t?void 0:t.getLayoutStore()}(e)),[e]);return t}},687110:(e,t,i)=>{i.r(t),i.d(t,{PageAnalyticsPageOptOut:()=>y,TopbarPageAnalyticsOptOutMenu:()=>m,TopbarPageAnalyticsOptOutMenuStore:()=>v});i(296540);var o=()=>i(484714),r=()=>i(56366),n=()=>i(30537),s=()=>i(396896),a=()=>i(69708),l=()=>i(72234),d=()=>i(232930),c=()=>i(765957),u=()=>i(417392),p=()=>i(719147),h=()=>i(702723),g=i(474848);const v=i(757695).Store.createValue({isOpen:!1,rect:void 0},{name:"TopbarPageAnalyticsOptOutMenuStore"});function m(){const e=(0,o().v3)(),t=(0,r().K8)((()=>v.state.isOpen),[]),i=(0,r().K8)((()=>v.state.rect),[]),l=(0,r().O$)(c().AppStoreMainEditorCurrentBlockStore);return l?(0,g.jsx)(u().Ay,{popupType:e.device.isMobile?n().n.SlideUp:n().n.Popup,alignmentToOrigin:"center",open:t,render:()=>(0,g.jsx)("div",{style:{minWidth:360,padding:16},children:(0,g.jsxs)(s().VP,{gap:16,children:[(0,g.jsx)("div",{style:{fontSize:16,fontWeight:500},children:(0,g.jsx)(a().sA,{id:"TopbarPageAnalyticsOptOutMenu.heading",defaultMessage:"Privacy settings"})}),(0,g.jsx)(y,{store:l})]})}),originRect:i,onDismiss:()=>v.setState({isOpen:!1,rect:void 0})}):null}function y(e){const t=(0,o().v3)(),i=(0,r().K8)((()=>{const e=c().default.state.sidebarSpaceViewStore;return null==e?void 0:e.getSettings()}),[]),n=(0,r().K8)((()=>{const t=null==i?void 0:i.page_analytics_opt_out_list;return null==t?void 0:t.includes(e.store.id)}),[i,e.store.id]);return(0,g.jsx)(h().A,{type:"dropdown",currentOption:n?"do_not_record":"record",options:[{key:"record",label:(0,g.jsx)(a().sA,{id:"page_analytics.opt_out.record",defaultMessage:"Record"})},{key:"do_not_record",label:(0,g.jsx)(a().sA,{id:"page_analytics.opt_out.do_not_record",defaultMessage:"Donâ€™t record"})}],onSelectOption:i=>{"do_not_record"===i?l().Oy(t,e.store.id):l().F3(t,e.store.id)},isMobile:t.device.isMobile,title:(0,g.jsx)(a().sA,{id:"page_analytics.opt_out.title",defaultMessage:"My view history"}),caption:(0,g.jsx)(a().sA,{id:"page_analytics.opt_out.caption",defaultMessage:"Page editors can see my view history for this page. <inlinelink>Learn more</inlinelink>.",values:{inlinelink:e=>(0,g.jsx)(p().A,{external:!0,href:(0,d().x)("guides.pageAnalytics"),children:e})}}),captionStyle:{maxWidth:270}})}},721273:(e,t,i)=>{i.d(t,{Cn:()=>r,oV:()=>a,tK:()=>s});i(581454);var o=()=>i(534177);let r=function(e){return e[e.Sidebar=0]="Sidebar",e[e.SidebarMobile=1]="SidebarMobile",e[e.TopbarMobile=2]="TopbarMobile",e[e.RenderAsPage=3]="RenderAsPage",e}({});const n=new Map;function s(e,t){n.set(l(e),t)}function a(e){return n.get(l(e))??[]}function l(e){return(0,o().uv)(e).sort().map((t=>{const i=e[t];return JSON.stringify(i)})).join("-")}},753721:(e,t,i)=>{i.d(t,{X:()=>n});var o=()=>i(56366),r=()=>i(961581);function n(){return(0,o().K8)((()=>r().A.state.initialRenderCompleted),[])}},795963:(e,t,i)=>{i.d(t,{Ge:()=>a,OQ:()=>r,aG:()=>l,yN:()=>s});var o=()=>i(864994);const r=160,n=120,s=120;function a({isMobile:e,stackPropertyLabelAndValue:t,isPropertyInPageDetails:i}){if(t||!i)return;const a=n/o().b*100;return e?s:`min(max(${a}%, ${n}px), ${r}px)`}function l({stackPropertyLabelAndValue:e}){return e?{variant:"hug-content"}:{variant:"fixed"}}},811558:(e,t,i)=>{var o=i(746518),r=i(439928),n=i(225397),s=Array;o({target:"Array",proto:!0},{with:function(e,t){return r(n(this),s,e,t)}})},817126:(e,t,i)=>{i.d(t,{G9:()=>p,Ld:()=>c,kg:()=>u,uF:()=>h});var o=()=>i(56366),r=()=>i(898244),n=()=>i(617871),s=()=>i(985529),a=()=>i(462853),l=()=>i(765957),d=()=>i(329304);function c({spaceId:e,userId:t}){const i=(0,d()._X)({name:"collection_connected_property_figma",spaceId:e,userId:t}),o=(0,d()._X)({name:"collection_connected_property_github",spaceId:e,userId:t}),r=(0,d()._X)({name:"collection_connected_property_google_drive",spaceId:e,userId:t}),s=(0,d()._X)({name:"collection_connected_property_zendesk",spaceId:e,userId:t}),a=(0,d()._X)({name:"collection_synced_database_salesforce_workspace",spaceId:e,userId:t});return{[n().e1]:i,[n().ob]:o,[n().Hd]:r,[n().k0]:s,[n().mn]:a}}function u(e){if(!e)return;const t=e&&(0,r().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,a().l)(t)}function p(e){const t=e.featureName,i=(0,o().K8)((()=>{var t;return e.spaceId??(null===(t=l().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),r=(0,o().K8)((()=>{var t;return e.userId??(null===(t=l().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,d()._X)({name:t,spaceId:i,userId:r})}function h({featureName:e}){const t=p({featureName:e});if(!t)return;const i=(0,s().e2)(t),o=(0,s().Xq)(t);let r,n;return!o||"product"!==o.type||"plus"!==o.product&&"business"!==o.product&&"enterprise"!==o.product||(r=o.product),i&&(n=i&&t.expiry&&"sunset"===t.expiry.type?t.expiry.endDate:void 0),{isAvailable:i,expirationDate:n,upsell:o,upsellTier:r}}},840071:(e,t,i)=>{i.d(t,{L:()=>a});i(296540);var o=()=>i(699143),r=()=>i(577466),n=()=>i(434663),s=i(474848);function a({backgroundColor:e,children:t,...i}){const a=(0,r().B)(e),l={wrapper:{...a.wrapper,background:e?a.wrapper.background:"initial",height:"100%",padding:"20px 12px"}};return(0,s.jsx)(o().Y1,{style:l.wrapper,align:"center",children:(0,s.jsx)(n().r,{...i,direction:"vertical",overrideSize:()=>48,children:t})})}},864994:(e,t,i)=>{i.d(t,{b:()=>n,g:()=>s});var o=()=>i(548821),r=()=>i(154807);const n=i(253658).YG;function s({environment:e,layoutArea:t,moduleType:i,pageViewBlockContext:s}){return("page_main"===t||"views_main_tab_modules"===t)&&"properties"===i||"properties"===i&&"page_details"===t&&(0,r().Wi)({environment:e,isInPeek:s===o().Rr.PeekView})>=n}},923455:(e,t,i)=>{i.d(t,{Lp:()=>v,Rx:()=>y,a$:()=>m});var o=i(296540),r=()=>i(59226),n=()=>i(484714),s=()=>i(56366),a=()=>i(753721),l=()=>i(765957),d=()=>i(82648),c=()=>i(126397),u=()=>i(479349),p=i(474848);const h=(0,o.createContext)(null);h.displayName="SidebarStateContext";const g=2e4;function v({children:e}){const t=(0,n().v3)(),i=(0,c().r)(t),[v,m]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=setTimeout((()=>{m(!0)}),g);return()=>{clearTimeout(e)}}),[]);const{currentUserId:y,spaceId:f,isFreshStateReady:S}=(0,s().K8)((()=>{var e,t,o,r,n;null!==(e=l().default.state.currentUserStore)&&void 0!==e&&e.id&&null!==(t=l().default.state.sidebarSpaceStore)&&void 0!==t&&t.id&&(0,d().yd)("user_and_space_stores_loaded");const s=i.state,a=Boolean((null===(o=l().default.state.sidebarSpaceStore)||void 0===o?void 0:o.id)&&(null==s?void 0:s.userSharedPagesForSpaceHasLoaded)&&s.isTeamContentReady);return{currentUserId:null===(r=l().default.state.currentUserStore)||void 0===r?void 0:r.id,spaceId:null===(n=l().default.state.sidebarSpaceStore)||void 0===n?void 0:n.id,isFreshStateReady:a}}),[i]),b=(0,r().X)("enable_greedy_sidebar_initial_render"),I=(0,a().X)(),x=(0,u().cT)({isFreshStateReady:S,userId:y,spaceId:f}),w=(0,s().K8)((()=>{const e=null==x?void 0:x.state;return Boolean(y===(null==e?void 0:e.userId)&&f===(null==e?void 0:e.spaceId))}),[x,y,f]),P=Boolean(w&&(I||b)&&!S&&!v);return(0,p.jsx)(h.Provider,{value:P?x:i,children:e})}function m(){const e=(0,o.useContext)(h),t=(0,n().v3)(),i=(0,c().r)(t);return e??i}function y(){return(0,s().O$)(m())}}}]);