"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55753],{513488:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>n});const o={INVALID_DATE:"Invalid date",INVALID_RANGE:"Invalid range",NOT_SUPPORTED:"Not supported"};class a extends(()=>r(757695))().Store{getInitialState(){return{edited:!1,temporary:"",error:void 0}}}const n=a},541181:(e,t,r)=>{r.d(t,{n:()=>n});var o=()=>r(645873);const a=new(o().O2)("react-day-picker",(async()=>await Promise.all([r.e(95555),r.e(50672),r.e(68548)]).then(r.bind(r,762290)))),n=(0,o()._h)(a,(e=>e.default))},649746:(e,t,r)=>{r.d(t,{Az:()=>z,Cj:()=>b,Dz:()=>W,EA:()=>x,IZ:()=>I,J:()=>m,Jk:()=>Q,RR:()=>k,SN:()=>M,WG:()=>C,YL:()=>G,h0:()=>O,iI:()=>j,kz:()=>w,o1:()=>H,ql:()=>F,w0:()=>T,wE:()=>X,xt:()=>_,zZ:()=>h});r(16280),r(898992),r(823215),r(354520),r(581454);var o=()=>r(67657),a=()=>r(214388),n=()=>r(748580),i=()=>r(568063),l=()=>r(239381),s=()=>r(931075),u=()=>r(69708),d=()=>r(496603),c=()=>r(534177),p=()=>r(972435);const f={text:{operator:"string_contains",value:{type:"exact",value:void 0}},relation:{operator:"relation_contains",value:{type:"exact",value:void 0}},url:{operator:"string_contains",value:{type:"exact",value:void 0}},checkbox:{operator:"checkbox_is",value:{type:"exact",value:void 0}},created_by:{operator:"person_contains",value:{type:"exact",value:void 0}},last_edited_by:{operator:"person_contains",value:{type:"exact",value:void 0}},select:{operator:"enum_is",value:{type:"exact",value:void 0}},multi_select:{operator:"enum_contains",value:{type:"exact",value:void 0}},status:{operator:"status_is",value:{type:"is_group",value:void 0}},person:{operator:"person_contains",value:{type:"exact",value:void 0}},number:{operator:"number_equals",value:{type:"exact",value:void 0}},auto_increment_id:{operator:"number_equals",value:{type:"exact",value:void 0}},date:{operator:"date_is_relative_to",value:{type:"relative",value:"surrounding",unit:"week"}},created_time:{operator:"date_is",value:{type:"exact",value:void 0}},last_edited_time:{operator:"date_is",value:{type:"exact",value:void 0}},last_visited_time:{operator:"date_is",value:{type:"exact",value:void 0}},email:{operator:"string_contains",value:{type:"exact",value:void 0}},phone_number:{operator:"string_contains",value:{type:"exact",value:void 0}},title:{operator:"string_contains",value:{type:"exact",value:void 0}},file:{operator:"is_not_empty"},location:{operator:"location_is",value:{type:"exact",value:void 0}},verification:{operator:"verification_is",value:{type:"exact",value:void 0}},place:{operator:"is_not_empty"}};function _(e){return f[e]}function v(e){return"v2"===e.version?function(e){if(!e.formula2)return{operator:"is_empty"};const t=e.formula2.result_type;if("array"===t.type){const e=(0,l().JK)(t.of);return"array"===e.type||"function"===e.type?{operator:"is_empty"}:"block"===e.type||"unknown"===e.type?{operator:"any",subfilter:_("text")}:{operator:"any",subfilter:_(e.type)}}if("unknown"===t.type||"block"===t.type)return _("text");return _(t.type)}(e):function(e){return e.formula&&e.formula.result_type?_(e.formula.result_type):{operator:"is_empty"}}(e)}function M(e){const{property:t,schema:r}=e,l=r[t];if(!l||"button"===l.type)return{operator:"is_empty"};if("formula"===l.type)return v(l);if("rollup"===l.type){if(l.aggregation&&"show_unique"!==l.aggregation){return _((0,o().ou)((0,o().ZP)(l.aggregation)))}{const t=(0,i().eY)(e);if(!t){return{operator:"any",subfilter:{operator:"is_empty"}}}const r=t.rollupType,o="relation"===r?t.targetPropertySchema:null;if("relation"===r&&"rollup"===(null==o?void 0:o.type)){return{operator:"any",subfilter:{operator:"is_empty"}}}if("relation"===r&&"formula"===(null==o?void 0:o.type)){const e=v(o);if((0,a().s1)(e))return e;return{operator:"any",subfilter:e}}if("relation"===r&&"button"===(null==o?void 0:o.type))return{operator:"is_empty"};const l="relation"===r?null==o?void 0:o.type:"text";if(!l||!(0,n().ry)(l))return{operator:"is_empty"};return{operator:"any",subfilter:_(l)}}}return _(l.type)}const g=(0,u().YK)({date_is_within:{defaultMessage:"Is between",id:"collectionFilterMenuHelpers.operator.dateIsWithin"},date_is_relative_to:{defaultMessage:"Is relative to today",id:"collectionFilterMenuHelpers.operator.dateIsRelativeTo"},is_empty:{defaultMessage:"Is empty",id:"collectionFilterMenuHelpers.operator.isEmpty"},is_not_empty:{defaultMessage:"Is not empty",id:"collectionFilterMenuHelpers.operator.isNotEmpty"},string_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.stringIs"},string_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.stringIsNot"},string_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.stringContains"},string_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.stringDoesNotContain"},string_starts_with:{defaultMessage:"Starts with",id:"collectionFilterMenuHelpers.operator.stringStartsWith"},string_ends_with:{defaultMessage:"Ends with",id:"collectionFilterMenuHelpers.operator.stringEndsWith"},checkbox_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.checkboxIs"},checkbox_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.checkboxIsNot"},enum_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.enumIs"},enum_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.enumIsNot"},enum_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.enumContains"},enum_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.enumDoesNotContain"},status_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.statusIs"},status_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.statusIsNot"},person_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.personContains"},person_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.personDoesNotContain"},relation_contains:{defaultMessage:"Contains",id:"collectionFilterMenuHelpers.operator.relationContains"},relation_does_not_contain:{defaultMessage:"Does not contain",id:"collectionFilterMenuHelpers.operator.relationDoesNotContain"},location_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.locationIs"},location_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.locationIsNot"},number_equals:{defaultMessage:"=",id:"collectionFilterMenuHelpers.operator.numberEquals"},number_does_not_equal:{defaultMessage:"≠",id:"collectionFilterMenuHelpers.operator.numberDoesNotEqual"},number_greater_than:{defaultMessage:">",id:"collectionFilterMenuHelpers.operator.numberGreaterThan"},number_less_than:{defaultMessage:"<",id:"collectionFilterMenuHelpers.operator.numberLessThan"},number_greater_than_or_equal_to:{defaultMessage:"≥",id:"collectionFilterMenuHelpers.operator.numberGreaterThanOrEqualTo"},number_less_than_or_equal_to:{defaultMessage:"≤",id:"collectionFilterMenuHelpers.operator.numberLessThanOrEqualTo"},date_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.dateIs"},date_is_before:{defaultMessage:"Is before",id:"collectionFilterMenuHelpers.operator.dateIsBefore"},date_is_after:{defaultMessage:"Is after",id:"collectionFilterMenuHelpers.operator.dateIsAfter"},date_is_on_or_before:{defaultMessage:"Is on or before",id:"collectionFilterMenuHelpers.operator.dateIsOnOrBefore"},date_is_on_or_after:{defaultMessage:"Is on or after",id:"collectionFilterMenuHelpers.operator.dateIsOnOrAfter"},any:{defaultMessage:"Any",id:"collectionFilterMenuHelpers.operator.any"},none:{defaultMessage:"None",id:"collectionFilterMenuHelpers.operator.none"},every:{defaultMessage:"Every",id:"collectionFilterMenuHelpers.operator.every"},string_has_no_alphabet_prefix:{defaultMessage:"(Not used)",id:"collectionFilterMenuHelpers.operator.stringHasNoAlphabetPrefix"},verification_is:{defaultMessage:"Is",id:"collectionFilterMenuHelpers.operator.verificationStateIs"},verification_is_not:{defaultMessage:"Is not",id:"collectionFilterMenuHelpers.operator.verificationStateIsNot"}});function m(e){if("enum_contains_all"===e)throw new Error("enum_contains_all is not supported to be displayed in the filter menu");return p().A.formatMessage(g[e])}const y=(0,u().YK)({today:{defaultMessage:"Today",id:"collectionFilterMenuHelpers.relativeDates.today"},tomorrow:{defaultMessage:"Tomorrow",id:"collectionFilterMenuHelpers.relativeDates.tomorrow"},yesterday:{defaultMessage:"Yesterday",id:"collectionFilterMenuHelpers.relativeDates.yesterday"},one_week_ago:{defaultMessage:"One week ago",id:"collectionFilterMenuHelpers.relativeDates.oneWeekAgo"},one_week_from_now:{defaultMessage:"One week from now",id:"collectionFilterMenuHelpers.relativeDates.oneWeekFromNow"},one_month_ago:{defaultMessage:"One month ago",id:"collectionFilterMenuHelpers.relativeDates.oneMonthAgo"},one_month_from_now:{defaultMessage:"One month from now",id:"collectionFilterMenuHelpers.relativeDates.oneMonthFromNow"}}),h=(0,u().YK)({past:{defaultMessage:"Past",id:"collectionFilterMenuHelpers.relativeDates.past"},future:{defaultMessage:"Next",id:"collectionFilterMenuHelpers.relativeDates.next"}}),F=(0,u().YK)({direction:{defaultMessage:"Direction",id:"collectionFilterMenuHelpers.relativeDates.direction"},iconButtonDirectionDropdown:{defaultMessage:"Choose Past, This or Next from the menu below",id:"collectionFilterMenuHelpers.relativeDates.DirectionDropdown"},unit:{defaultMessage:"Unit",id:"collectionFilterMenuHelpers.relativeDates.unit"},iconButtonUnitDropdown:{defaultMessage:"Choose Day, Week, Month or Year from the menu below",id:"collectionFilterMenuHelpers.relativeDates.UnitDropdown"}}),b=(0,u().YK)({this:{defaultMessage:"This",id:"collectionFilterMenuHelpers.relativedates.this"}}),x=(0,u().YK)({day:{defaultMessage:"day",id:"collectionFilterMenuHelpers.relativeDates.day"},week:{defaultMessage:"week",id:"collectionFilterMenuHelpers.relativeDates.week"},month:{defaultMessage:"month",id:"collectionFilterMenuHelpers.relativeDates.month"},year:{defaultMessage:"year",id:"collectionFilterMenuHelpers.relativeDates.year"}}),H=(0,u().YK)({day:{defaultMessage:"days",id:"collectionFilterMenuHelpers.relativeDates.days"},week:{defaultMessage:"weeks",id:"collectionFilterMenuHelpers.relativeDates.weeks"},month:{defaultMessage:"months",id:"collectionFilterMenuHelpers.relativeDates.months"},year:{defaultMessage:"years",id:"collectionFilterMenuHelpers.relativeDates.years"}}),D=(0,u().YK)({exactDate:{defaultMessage:"Custom date",id:"collectionFilterMenuHelpers.relativeDates.exactDate"},exactDateRange:{defaultMessage:"Exact dates",id:"collectionFilterMenuHelpers.relativeDates.exactDateRange"}});function k(e){return"exact"===e.type?p().A.formatMessage(D.exactDate):p().A.formatMessage(y[e.value])}const I=(0,u().YK)({custom:{defaultMessage:"Relative range",id:"collectionFilterMenuHelpers.relativeDates.range"},surrounding:{defaultMessage:"Surrounding range",id:"collectionFilterMenuHelpers.relativeDates.customRange"},this_week:{defaultMessage:"This week",id:"collectionFilterMenuHelpers.relativeDates.thisWeek"},the_past_week:{defaultMessage:"The past week",id:"collectionFilterMenuHelpers.relativeDates.thePastWeek"},the_past_month:{defaultMessage:"The past month",id:"collectionFilterMenuHelpers.relativeDates.thePastMonth"},the_past_year:{defaultMessage:"The past year",id:"collectionFilterMenuHelpers.relativeDates.thePastYear"},the_next_week:{defaultMessage:"The next week",id:"collectionFilterMenuHelpers.relativeDates.theNextWeek"},the_next_month:{defaultMessage:"The next month",id:"collectionFilterMenuHelpers.relativeDates.theNextMonth"},the_next_year:{defaultMessage:"The next year",id:"collectionFilterMenuHelpers.relativeDates.theNextYear"}});function w(e){return"custom"===e.value?function(e){const t=p().A.formatMessage(h[e.direction]),r=1===e.count?p().A.formatMessage(x[e.unit]):p().A.formatMessage(H[e.unit]);return 1===e.count?`${t} ${r}`:`${t} ${e.count} ${r}`}(e):"surrounding"===e.value?function(e){const t=p().A.formatMessage(x[e.unit]);return`${p().A.formatMessage(b.this)} ${t}`}(e):"exact"===e.type?p().A.formatMessage(D.exactDateRange):"relative"===e.type?p().A.formatMessage(I[e.value]):void(0,c().HB)(e)}const E=(0,u().YK)({start_date:{defaultMessage:"Start date",id:"collectionFilterMenuHelpers.dateFilterModes.start_date"},end_date:{defaultMessage:"End date",id:"collectionFilterMenuHelpers.dateFilterModes.end_date"}}),A=(0,u().YK)({start_date:{defaultMessage:"For date ranges, filters on the start date. For individual dates, filters on the date.",id:"collectionFilterMenuHelpers.dateFilterModesTooltip.start_date"},end_date:{defaultMessage:"For date ranges, filters on the end date. For individual dates, filters on the date.",id:"collectionFilterMenuHelpers.dateFilterModesTooltip.end_date"}});function O(e){return p().A.formatMessage(E[e])}function C(e){return p().A.formatMessage(A[e])}const N=(0,u().YK)({and:{defaultMessage:"And",id:"collectionFilterMenuHelpers.combinatorOperators.and"},or:{defaultMessage:"Or",id:"collectionFilterMenuHelpers.combinatorOperators.or"}}),S=(0,u().YK)({checked:{defaultMessage:"Checked",id:"collectionFilterMenuHelpers.checkbox.checked"},unchecked:{defaultMessage:"Unchecked",id:"collectionFilterMenuHelpers.checkbox.unchecked"}});function T(e){return e.value?p().A.formatMessage(s().D6(e.value)):""}function Y({filter:e,schema:t}){return $({filter:e.subfilter,schema:t})}function R({filter:e}){return k(e.value)}function K({filter:e}){return w(e.value)}function B({filter:e}){return`"${e.value.value||""}"`}function V({filter:e}){return void 0===e.value.value?void 0:e.value.value.toString()}function q({filter:e}){return function(e){const t=e.value?S.checked:S.unchecked;return p().A.formatMessage(t)}(e.value)}const P={is_empty:()=>{},is_not_empty:()=>{},string_is:B,string_is_not:B,string_contains:B,string_does_not_contain:B,string_starts_with:B,string_ends_with:B,checkbox_is:q,checkbox_is_not:q,enum_is:B,enum_is_not:B,enum_contains:B,enum_does_not_contain:B,status_is:B,status_is_not:B,relation_contains:()=>{},relation_does_not_contain:()=>{},person_contains:()=>{},person_does_not_contain:()=>{},location_is:()=>{},location_is_not:()=>{},number_equals:V,number_does_not_equal:V,number_greater_than:V,number_less_than:V,number_greater_than_or_equal_to:V,number_less_than_or_equal_to:V,date_is:R,date_is_before:R,date_is_after:R,date_is_on_or_before:R,date_is_on_or_after:R,date_is_within:K,date_is_relative_to:K,any:Y,none:Y,every:Y,string_has_no_alphabet_prefix:()=>{},verification_is:B,verification_is_not:B};function $(e){const{filter:t}=e;if("enum_contains_all"===t.operator)throw new Error("enum_contains_all is not supported to be displayed in the filter menu");const r=m(t.operator),o=P[t.operator](e);return d().oE([r,o]).join(" ")}function W(e){const{filter:t,schema:r}=e;if((0,a().dU)(t)){const e=t.filters||[],o=d().oE(e.map((e=>{const t=W({filter:e,schema:r});if(t)return(0,a().dU)(e)?`(${t})`:t}))),n=p().A.formatMessage(N[t.operator]);return o.join(` ${n} `)}if((0,a().yX)(t)){const e=r[t.property];if(!e)return;const o=t.filter,a=e.name,n=$({filter:o,schema:r});return d().oE([a,n]).join(" ")}}const Z={text:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:"string_has_no_alphabet_prefix"===e.operator?{operator:t}:{operator:t,value:e.value}},number:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},checkbox:function(e,t){return{operator:t,value:e.value}},select:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},multi_select:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},status:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"is_option",value:void 0}}:{operator:t,value:e.value}},relation:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},person:function(e,t){return(0,a().tk)(t)?{operator:t}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value}},date:function(e,t,r){if((0,a().tk)(t))return{operator:t};const o=(0,a().fZ)(e)?void 0:e.use_end;return"date_is_within"===t?"date_is_within"!==e.operator?{operator:t,value:{type:"exact",value:void 0},use_end:o}:e:"date_is_relative_to"===t?"date_is_relative_to"!==e.operator?{operator:t,value:{type:"relative",value:"surrounding",unit:"week"},use_end:o}:e:(0,a().Cw)(e)?"combinator"===r?{operator:t,value:{type:"relative",value:"today"},use_end:o}:{operator:t,value:{type:"exact",value:void 0},use_end:o}:(0,a().fZ)(e)?{operator:t,value:{type:"exact",value:void 0}}:{operator:t,value:e.value,use_end:o}},file:function(e,t){return{operator:t}},location:function(e,t){return{operator:t,value:e.value}},verification:function(e,t){return{operator:t,value:e.value}},place:function(e,t){return{operator:t}}};function j(e,t,r,o){return(0,Z[e])(t,r,o)}const U=(0,u().YK)({and:{defaultMessage:"And",id:"database.filterOperators.and"},or:{defaultMessage:"Or",id:"database.filterOperators.or"}}),L=(0,u().YK)({and:{defaultMessage:"All filters must match",id:"database.filterOperators.andCaption"},or:{defaultMessage:"At least one filter must match",id:"database.filterOperators.orCaption"}});function z(e,t){return"and"===e?t.formatMessage(U.and):t.formatMessage(U.or)}function G(e,t){return"and"===e?t.formatMessage(L.and):t.formatMessage(L.or)}const J=(0,u().YK)({any:{defaultMessage:"Any",id:"database.filterOperators.any"},every:{defaultMessage:"Every",id:"database.filterOperators.every"},none:{defaultMessage:"None",id:"database.filterOperators.none"}});function X(e,t){return"any"===e?t.formatMessage(J.any):"every"===e?t.formatMessage(J.every):t.formatMessage(J.none)}const Q=(0,u().YK)({number:{id:"collectionFilterMenuFilter.filterOperators.number.order",defaultMessage:"{operator}{operatorValue}"},text:{id:"collectionFilterMenuFilter.filterOperators.text.order",defaultMessage:"{operator}{operatorValue}"},checkbox:{id:"collectionFilterMenuFilter.filterOperators.checkbox.order",defaultMessage:"{operator}{operatorValue}"},select:{id:"collectionFilterMenuFilter.filterOperators.select.order",defaultMessage:"{operator}{operatorValue}"},multi_select:{id:"collectionFilterMenuFilter.filterOperators.multi_select.order",defaultMessage:"{operator}{operatorValue}"},status:{id:"collectionFilterMenuFilter.filterOperators.status.order",defaultMessage:"{operator}{operatorValue}"},relation:{id:"collectionFilterMenuFilter.filterOperators.relation.order",defaultMessage:"{operator}{operatorValue}"},location:{id:"collectionFilterMenuFilter.filterOperators.location.order",defaultMessage:"{operator}{operatorValue}"},person:{id:"collectionFilterMenuFilter.filterOperators.person.order",defaultMessage:"{operator}{operatorValue}"},date:{id:"collectionFilterMenuFilter.filterOperators.date.order",defaultMessage:"{operator}{operatorValue}"},file:{id:"collectionFilterMenuFilter.filterOperators.file.order",defaultMessage:"{operator}{operatorValue}"},verification:{id:"collectionFilterMenuFilter.filterOperators.verification.order",defaultMessage:"{operator}{operatorValue}"},place:{id:"collectionFilterMenuFilter.filterOperators.place.order",defaultMessage:"{operator}{operatorValue}"}})},712677:(e,t,r)=>{r.d(t,{A:()=>y});var o=r(296540),a=()=>r(484714),n=()=>r(56366),i=()=>r(401497),l=()=>r(597777),s=()=>r(604995),u=()=>r(498140),d=()=>r(69708),c=()=>r(534177),p=()=>r(649746),f=()=>r(780865),_=()=>r(513488),v=()=>r(623580),M=()=>r(419357),g=r(474848);const m=(0,d().YK)({invalidDateError:{id:"dateInputError.invalidDateError.tooltip",defaultMessage:"Invalid date"},invalidDateRangeError:{id:"dateInputError.invalidDateRangeError.tooltip",defaultMessage:"Invalid range"},notSupportedDateRangeError:{id:"dateInputError.notSupportedDateRangeError.tooltip",defaultMessage:"The date is not supported"}});const y=function(e){const t=(0,d().tz)(),a=(0,n().uB)(void 0,_().A),{value:i}=e;(0,o.useEffect)((()=>{a.reset()}),[i,a]);const l=(0,o.useCallback)((()=>(0,g.jsx)(E,{dateInputMenuItemProps:e,store:a})),[e,a]),s=(0,n().K8)((()=>D(t,a)),[t,a]);return s?(0,g.jsx)(r(859428).A,{renderTooltip:()=>s,forceVisibleState:!0,placement:"left",render:l,originGap:-8}):(0,g.jsx)(E,{dateInputMenuItemProps:e,store:a})};function h(e,t){const{device:r}=e;return r.isMobile?"YYYY-MM-DD":t??l().vz}function F(e,t){const{device:r}=e;return!!r.isMobile||!t}function b(e){return{inputDefault:{background:e.inputBackground,boxShadow:e.inputBoxShadow},inputFocused:{background:e.inputBackground,boxShadow:e.inputBlueFocusRing},inputError:{background:e.inputBackground,boxShadow:e.inputRedFocusRing},placeholder:{color:e.text.tertiary}}}function x(e,t){return{menuItem:{marginBottom:e.device.isMobile?1:0},inputWrapper:{borderRadius:6,height:28,paddingInlineEnd:F(e,t)?8:0,position:"relative"},inputEditRegion:{width:F(e,t)?"calc(100% - 14px)":"87%"},inputEditRegionMobile:{padding:"2px 6px",position:"relative"},placeholder:{position:"absolute",insetInlineStart:e.device.isIpad?26:12,top:e.device.isIpad?void 0:"50%",transform:"translateY(-50%)"}}}function H({inputType:e,placeholder:t,value:r,hideClearButton:o}){const n=(0,i().DP)(),l=x((0,a().v3)(),o),s=b(n);return"date"!==e||r?null:(0,g.jsx)("div",{style:{...l.placeholder,...s.placeholder},children:t})}function D(e,t){if(t.state.error)switch(t.state.error){case _().$.INVALID_DATE:return e.formatMessage(m.invalidDateError);case _().$.INVALID_RANGE:return e.formatMessage(m.invalidDateRangeError);case _().$.NOT_SUPPORTED:return e.formatMessage(m.notSupportedDateRangeError);default:(0,c().HB)(t.state.error)}}function k(e,t,r,o,a){const n=function(e,t,r,o){if(!r.state.edited)return;if(!r.state.temporary)return{value:void 0};const a=(0,u().yc)(r.state.temporary,e.device.isMobile?s().tr:h(e,o),t);return a?{value:{type:"date",start_date:a}}:{error:_().$.INVALID_DATE}}(e,t,r,a);if(n)return o?o(n):n}function I(e,t,r,o,a){const n=b(e),i=D(o,a);if(!t)return i?n.inputError:r?n.inputFocused:n.inputDefault}function w(e,t,r,o,a,n,i,l){const s=k(e,r,o,n,i);s?(t(s),s.error?o.setState({...o.state,edited:!1,error:s.error}):o.reset()):o.setState({...o.state,edited:!1}),l&&a&&a(l)}function E({dateInputMenuItemProps:e,store:t}){const{store:r,hideClearButton:l,focused:u,value:c,..._}=e,{onBlur:m,onClearButtonClick:y,onFocus:b,onSubmit:D,onUpdate:E,placeholder:A,validate:O,desktopDateFormat:C,inputStyle:N,inputOuterStyle:S,style:T,disabled:Y}=e,R=(0,d().tz)(),K=(0,i().DP)(),B=(0,a().v3)(),V=(0,o.useCallback)((e=>w(B,E,R,t,m,O,C)),[B,E,R,t,m,O,C]),q=(0,o.useCallback)((e=>function(e,t,r,o,a,n,i,l){const s=k(t,o,a,i,l);s&&(r(s),s.error?a.setState({...a.state,edited:!1,error:s.error}):a.reset()),n&&n(e,s)}(e,B,E,R,t,D,O,C)),[B,E,R,t,D,O,C]),P=(0,o.useCallback)((e=>function(e,t,r,o,a,n,i,l){const{device:s}=t;a.setState({...a.state,edited:!0,temporary:e.target.value||""}),s.isAndroid&&w(t,r,o,a,n,i,l)}(e,B,E,R,t,m,O,C)),[B,E,R,t,m,O,C]),$=(0,o.useCallback)((()=>function(e,t,r,o,a,n,i){a.setState({...a.state,edited:!0,temporary:"",error:void 0});const l=k(e,o,a,n,i);l&&r(l),a.setState({...a.state,edited:!1}),t&&t()}(B,y,E,R,t,O,C)),[B,y,E,R,t,O,C]),W=(0,o.useCallback)((e=>function(e,t,r){r.setState({...r.state,edited:!1}),t&&t(e)}(e,b,t)),[b,t]),{device:Z}=B,j=Z.isMobile&&"relative"!==(null==c?void 0:c.type)?"date":"text",U="date"===j?v().C.Transparent:v().C.Default,L=Z.isMobile?void 0:u,z=(0,n().K8)((()=>function(e,t,r,o,a){const{device:n}=e;if(t&&"relative"===t.type)return(0,p().RR)(t);const i=t&&"date"!==t.type?s().fN(t):t;return n.isMobile?i?f().Yq(i,r,h(e,a)):"":o.state.temporary||o.state.edited?o.state.temporary:i?f().Yq(i,r,h(e,a)):""}(B,c,R,t,C)),[B,c,R,t,C]),G=(0,n().K8)((()=>function(e,t,r,o,a,n,i,l,s,u){const{device:d}=e,c=x(e,u);return{style:{...c.menuItem,...a,marginInlineEnd:0},inputOuterStyle:{...I(t,n,i,l,s),...c.inputWrapper,...o},inputStyle:{...c.inputEditRegion,...d.isMobile&&c.inputEditRegionMobile,...r}}}(B,K,N,S,T,Y,u,R,t,l)),[B,K,N,S,T,Y,u,R,t,l]);return(0,g.jsx)(M().Ay,{..._,type:j,format:U,left:Z.isMobile&&(0,g.jsx)(H,{placeholder:A,value:c,hideClearButton:l,inputType:j}),showClearButton:F(B,l),focus:L,onFocus:W,onClearButtonClick:$,onChange:P,onSubmit:q,onBlur:V,value:z,disableInput:"relative"===(null==c?void 0:c.type),...G})}}}]);