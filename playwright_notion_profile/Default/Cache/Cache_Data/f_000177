"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[97859],{30731:(e,t,s)=>{s.d(t,{BI:()=>f,ES:()=>x,Em:()=>u,Hl:()=>b,Ht:()=>v,OR:()=>S,Tq:()=>p,jO:()=>y,qC:()=>h,r6:()=>m,y2:()=>g});var i=()=>s(869190),r=()=>s(604995),a=()=>s(416504),n=()=>s(912720),o=()=>s(824862),l=()=>s(798880),d=()=>s(258836),c=()=>s(870092);function p(e,t){return(0,i().eV)({value:r().C6.notionDateTimeToLuxon(e,t.locale),preset:"short"})}function u(e,t){return(0,i().eV)({value:r().C6.notionDateTimeToLuxon(e,t.locale),preset:"time"})}function m(e,t){return r().C6.notionDateTimeToLuxon(e,t.locale).toFormat(r().k8)}function g(e,t){let s={starting:void 0,ending:void 0};var i,r,n,o;if(t.starting&&t.ending)s={starting:{type:"datetime",start_time:"",start_date:t.starting.start_date,time_zone:""},ending:{type:"datetime",start_time:"",start_date:t.ending.start_date,time_zone:""}},null!==(i=e.starting)&&void 0!==i&&i.start_time&&null!==(r=e.starting)&&void 0!==r&&r.time_zone&&(s.starting={...s.starting,start_time:e.starting.start_time,time_zone:e.starting.time_zone}),null!==(n=e.ending)&&void 0!==n&&n.start_time&&null!==(o=e.ending)&&void 0!==o&&o.time_zone?s.ending={...s.ending,start_time:e.ending.start_time,time_zone:e.ending.time_zone}:s={starting:{...s.starting,start_time:"00:00",time_zone:(0,a().P)()},ending:{...s.ending,start_time:"23:59",time_zone:(0,a().P)()}};else if(t.starting){var l,d;s=null!==(l=e.starting)&&void 0!==l&&l.start_time&&null!==(d=e.starting)&&void 0!==d&&d.time_zone?{starting:{type:"datetime",start_date:t.starting.start_date,start_time:e.starting.start_time,time_zone:e.starting.time_zone},ending:e.ending}:{starting:{type:"datetime",start_date:t.starting.start_date,start_time:"00:00",time_zone:(0,a().P)()},ending:e.ending}}else if(t.ending){var c,p;s=null!==(c=e.ending)&&void 0!==c&&c.start_time&&null!==(p=e.ending)&&void 0!==p&&p.time_zone?{ending:{type:"datetime",start_date:t.ending.start_date,start_time:e.ending.start_time,time_zone:e.ending.time_zone},starting:e.starting}:{ending:{type:"datetime",start_date:t.ending.start_date,start_time:"23:59",time_zone:(0,a().P)()},starting:e.starting}}else s={starting:e.starting,ending:e.ending};return s}function f(e){return e.starting&&e.ending?{starting:{type:"date",start_date:e.starting.start_date},ending:{type:"date",start_date:e.ending.start_date}}:e.starting?{starting:{type:"date",start_date:e.starting.start_date}}:e.ending?{ending:{type:"date",start_date:e.ending.start_date}}:{}}function h(e){if(e)return{type:"date",start_date:e.start_date}}function v(e){return`${e.actorType}:${e.actorId}`}function b(e){const t=e.split(":");if(2!==t.length);else{if("bot"===t[0])return{actorId:t[1],actorType:"bot"};if("notion_user"===t[0])return{actorId:t[1],actorType:"notion_user"}}}function x(e){return{starting:e.starting?{type:"date",start_date:e.starting.start_date}:void 0,ending:e.ending?{type:"date",start_date:e.ending.start_date}:void 0}}function y(e){return void 0===e.starting&&void 0===e.ending}function S(e,t,s,i){if(e.actor.actorType===l().oo){const s=c().L.createChildStore(t,{id:e.actor.actorId,table:l().oo});if(s.isDefined()&&!s.getIsDeleted())return{actorStore:s};if(e.actor.email)return{avatar:{name:e.actor.name,email:e.actor.email}}}else if(e.actor.actorType===o().GP){var r;const g=d().v.createChildStore(t,{id:e.actor.actorId,table:o().GP});if(("page.properties_edited"===e.actionName||"page_created"===e.actionName)&&null!==(r=e.meta)&&void 0!==r&&r.automationId&&i){var a,p,u;let i,r=null===(a=e.meta)||void 0===a?void 0:a.automationName;const o=null===(p=e.meta)||void 0===p?void 0:p.automationCreatedById,d=t.getRecordStore(t,{table:n().yB,id:null===(u=e.meta)||void 0===u?void 0:u.automationId,spaceId:t.id});if(r||(r=d.getNameWithDefault(s)),o){var m;const e=c().L.createChildStore(t,{id:o,table:l().oo});i=null==e||null===(m=e.getModel())||void 0===m?void 0:m.getEmail()}if(r&&i)return{avatar:{name:r,email:i}}}return g.isDefined()?{actorStore:g}:{avatar:{name:e.actor.name,email:e.actor.actorId}}}return{actorStore:void 0}}},37625:(e,t,s)=>{s.d(t,{Ay:()=>T,RR:()=>w});s(898992),s(354520),s(581454);var i=s(296540),r=()=>s(484714),a=()=>s(56366),n=()=>s(401497),o=()=>s(631524),l=()=>s(668725),d=()=>s(69708),c=()=>s(972435),p=()=>s(722872),u=()=>s(37433),m=()=>s(435761),g=()=>s(632709),f=()=>s(848237),h=()=>s(898808),v=()=>s(452558),b=()=>s(760217),x=()=>s(406699),y=()=>s(419357),S=()=>s(404277),M=()=>s(89924),_=()=>s(125565),A=s(474848);function w({teamsForMember:e,shouldHideTeamMemberCount:t}){const s=(0,n().IS)((e=>({button:{marginInlineEnd:8},noTeams:{marginInlineEnd:8,color:e.text.tertiary},chevron:{width:10,marginInlineStart:4,fill:e.icon.tertiary}})),[]),i=e.length;return(0,A.jsx)(x().A,{popupType:x().z.Popup,renderOrigin:e=>(0,A.jsx)(o().p,{disabled:0===i,style:0===i?s.noTeams:s.button,...e,children:0===i?(0,A.jsx)(d().sA,{id:"teamsDropdownForMember.teamsCountNone.label",defaultMessage:"No access"}):(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d().sA,{id:"teamsDropdownForMember.teamsCount.label",defaultMessage:"{numberOfTeams, plural, one {{numberOfTeams} teamspace} other {{numberOfTeams} teamspaces}}",values:{numberOfTeams:i}}),(0,l().b)(s.chevron)]})}),render:()=>(0,A.jsx)(j,{teamStores:e,shouldHideTeamMemberCount:t})})}const I=(0,d().YK)({filterTeams:{defaultMessage:"Filter teamspaces…",id:"teamsDropdownForMember.filterForTeams.placeholder"}});function j(e){const{shouldHideTeamMemberCount:t}=e,s=(0,r().v3)(),o=(0,n().IS)((()=>({teamMenuItem:{fontWeight:400,maxWidth:180}})),[]),[l,m]=(0,i.useState)(""),x=(0,i.useCallback)((e=>f().F2({environment:s,teamId:e,tab:g().p.Members,from:"teams_dropdown_for_team_member"})),[s]),w=(0,a().K8)((()=>[{key:"teams for member",render:e=>(0,A.jsx)(M().A,{...e}),actions:e.teamStores.map((e=>{const s={key:e.id,displayName:e.getName(),analyticsName:e.getName()||"team_unknown",searchName:e.getName(),render:s=>{var i;return(0,A.jsx)(b().A,{icon:(0,A.jsx)(h().x,{disabled:!0,store:e}),title:(0,A.jsx)(_().A,{style:o.teamMenuItem,children:e.getName()}),caption:t?void 0:(0,A.jsx)(d().sA,{defaultMessage:"{numMembers} {numMembers, plural, one {member} other {members}}",id:"teamsDropdownForMember.numMembers",values:{numMembers:(null===(i=(0,u().PF)({teamStore:e}))||void 0===i?void 0:i.totalMembersAndGuestsCount)??0}}),inline:!0,...s})},action:()=>{x(e.id)},closeParentMenu:!1};return s}))}]),[e.teamStores,o.teamMenuItem,x,t]),j=l,T=(0,A.jsx)(M().A,{isInput:!0,children:(0,A.jsx)(y().Ay,{value:j,onChange:(0,i.useCallback)((e=>{m(e.target.value)}),[]),focus:!0,focusAfterAnimation:!0,placeholder:c().A.formatMessage(I.filterTeams)})}),C={menuType:p().gu.Popup,maxWidth:350,maxHeight:300,header:e.teamStores.length>5?T:void 0};return(0,A.jsx)(S().A,{...C,children:(0,A.jsx)(v().A,{filter:j,context:{blocks:[],environment:s,publicEditMode:void 0},initialFocus:0,sections:w})})}const T=function(e){const t=(0,m().xJ)(),s=(0,m().gc)({teams:t.teams}).map((e=>e.store)),i=(0,a().K8)((()=>e.teamStores??s),[e.teamStores,s]),r=(0,a().K8)((()=>i.filter((t=>t.isMemberOrGuest(e.memberId,e.userPermissionGroupIds)))),[i,e.memberId,e.userPermissionGroupIds]);return(0,A.jsx)(w,{teamsForMember:r})}},75491:(e,t,s)=>{s.d(t,{ED:()=>v,Kb:()=>x});s(296540);var i=()=>s(56366),r=()=>s(401497),a=()=>s(631524),n=()=>s(668725),o=()=>s(722872),l=()=>s(463830),d=()=>s(406699),c=()=>s(404277),p=()=>s(939740),u=()=>s(417392),m=()=>s(89924),g=()=>s(125565),f=()=>s(566468),h=s(474848);function v({title:e,items:t,disabled:s,hideDropdownIcon:a,itemMaxWidth:n,itemMinWidth:g,...f}){const v=(0,i().uB)(void 0,l().A),x=(0,r().IS)((()=>({container:{minWidth:180}})),[]),y={key:"workspace-users-menu",render:e=>(0,h.jsx)(m().A,{...e}),items:t};return(0,h.jsx)(d().A,{popupType:u().nl.Popup,style:x.container,buttonPopupStore:v,disabled:s,renderOrigin:t=>(0,h.jsx)(b,{title:e,hideDropdownIcon:a,disabled:s,styles:f.styles,...t}),render:()=>(0,h.jsx)(c().A,{menuType:o().gu.Popup,maxWidth:n??250,minWidth:g,children:(0,h.jsx)(p().Ay,{type:p().Oh.Vertical,initialFocus:0,sections:[y],onAccept:()=>{v.setState({open:!1})}})})})}function b({title:e,hideDropdownIcon:t,disabled:s,...i}){const o=(0,r().IS)((e=>({container:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",maxWidth:"100%",...i.styles},chevron:{width:10,height:10,marginInlineStart:4,color:e.icon.tertiary}})),[i.styles]);return(0,h.jsxs)(a().p,{style:o.container,disabled:s,...i,children:[(0,h.jsx)(g().A,{showTooltipWhenTruncated:!0,children:e}),t||s?null:(0,n().b)(o.chevron)]})}function x(){const e=(0,r().IS)((()=>({title:{width:"50%"}})),[]);return(0,h.jsx)(f().mf,{titleStyles:e.title})}},118789:(e,t,s)=>{s.d(t,{n:()=>b});s(898992),s(354520),s(581454);var i=s(296540),r=()=>s(484714),a=()=>s(56366),n=()=>s(165358),o=()=>s(798880),l=()=>s(69708),d=()=>s(21735),c=()=>s(977870),p=()=>s(576737),u=()=>s(870092),m=()=>s(585428),g=()=>s(134217),f=()=>s(749240),h=()=>s(369955),v=()=>s(646736);function b(e){const{query:t,filter:s,limit:b,disable:y,sort:S}=e,M=(0,a().O$)(f().subscriptionDataStoreInstance),_=(0,a().K8)((()=>d().A.state.shouldUseEdgeCache),[]),A=(0,l().tz)(),w=(0,h().L)(),I=(0,r().v3)();(0,i.useEffect)((()=>{c().c.state.wasGetVisibleUsersCalled||n().log({level:"error",from:"useUsersListSource",type:"getVisibleUsersNotCalled",data:{routeName:I.RouterStore.state.route.name}})}),[I,_]);const j=(0,a().K8)((()=>{if(y||_||!M||!w)return[];return g().Be(M).map((e=>{var t,s;const i=u().L.createChildStore(w,{table:o().oo,id:e.userId}),r=(0,v().dp)(w,e.userId);return{id:e.userId,email:i.getEmail()||"",space_id:w.id,name:i.getDisplayName(A),profile_photo:null===(t=i.getModel())||void 0===t?void 0:t.profile_photo,membership_type:r.getMembershipType(),onboarding_completed:null===(s=i.getModel())||void 0===s?void 0:s.onboarding_completed,first_joined_space_time:x(e),aliases:e.aliases}}))}),[y,_,M,w,A]),T=(0,i.useMemo)((()=>y?void 0:_&&w?new(m().e)({users:void 0,environment:I,spaceId:w.id,initialMembershipFilter:s,initialSort:S,initialQuery:t,limit:b}):new(p().z)({users:j,initialMembershipFilter:s,initialSort:S,initialQuery:t,limit:b})),[y,_,w,I]);return(0,i.useEffect)((()=>{T instanceof p().z&&T.setUsers(j)}),[T,j]),(0,i.useEffect)((()=>{null==T||T.setSort(S)}),[T,S]),(0,i.useEffect)((()=>{null==T||T.setQuery(t)}),[T,t]),(0,i.useEffect)((()=>{null==T||T.setFilter(s)}),[T,s]),T}function x(e){return"firstJoinedSpaceTime"in e?e.firstJoinedSpaceTime??Date.now():Date.now()}},132813:(e,t,s)=>{s.d(t,{A:()=>r});class i extends(()=>s(757695))().Store{getInitialState(){return{disablePublicAccess:!1,disableGuests:!1,disableMoveToSpace:!1,disableExport:!1,disableSpacePageEdits:!1,disablePublicAccessRequests:!1,disableTeamCreation:!1,disableMembershipRequests:!1,disableExternalMembershipRequests:!1,disableGuestMembershipRequests:!1,disableMemberUpgradeRequests:!1,enableGuestInviteRequests:!1,disableGuestPrivatePages:!1,disableTeamGuests:!1,disableGuestsModalOpen:!1,enableAiTraining:!1,zeroRetentionEnabled:!1}}getValueForSpace(e){if(e.isDefined())return{disablePublicAccess:Boolean(e.getDisablePublicAccess()),disableGuests:Boolean(e.getDisableGuests()),disableMoveToSpace:Boolean(e.getDisableMoveToSpace()),disableExport:Boolean(e.getDisableExport()),disableSpacePageEdits:Boolean(e.getDisableSpacePageEdits()),disablePublicAccessRequests:Boolean(e.getDisablePublicAccessRequests()),disableTeamCreation:Boolean(e.getDisableTeamCreation()),disableMembershipRequests:Boolean(e.getSetting("disable_membership_requests")),disableExternalMembershipRequests:Boolean(e.getSetting("disable_external_membership_requests")),disableGuestMembershipRequests:Boolean(e.getSetting("disable_guest_membership_requests")),enableGuestInviteRequests:Boolean(e.getSetting("enable_guest_invite_requests")),disableGuestPrivatePages:Boolean(e.getSetting("disable_guest_can_create_private_pages")),disableTeamGuests:Boolean(e.getSetting("disable_team_guests")),enableAiTraining:Boolean(e.getSetting("enable_ai_training")),zeroRetentionEnabled:Boolean(e.getSetting("zero_retention_enabled")),disableMemberUpgradeRequests:Boolean(e.getSetting("disable_member_upgrade_requests"))}}}const r=i},165295:(e,t,s)=>{s.d(t,{K:()=>i});const i=(0,s(340498).xh)("person",{default:{loader:()=>s.e(21262).then(s.bind(s,253673))},small:{loader:()=>s.e(21262).then(s.bind(s,856499))},fill:{loader:()=>s.e(21262).then(s.bind(s,797561))},fillSmall:{loader:()=>s.e(21262).then(s.bind(s,360576))}},["user","individual","human","avatar"])},201651:(e,t,s)=>{s.d(t,{VI:()=>W,kW:()=>q,BL:()=>Y,T6:()=>Z});s(898992),s(430670),s(581454),s(296540);var i=()=>s(59226),r=()=>s(726637),a=()=>s(484714),n=()=>s(56366),o=()=>s(401497),l=()=>s(699143),d=()=>s(97294),c=()=>s(631524),p=()=>s(493552),u=()=>s(148307),m=()=>s(854705),g=()=>s(165295),f=()=>s(340498);const h=(0,f().xh)("personKey",{default:{loader:()=>s.e(4099).then(s.bind(s,110584))},small:{loader:()=>s.e(4099).then(s.bind(s,389662))},fill:{loader:()=>s.e(4099).then(s.bind(s,695714))},fillSmall:{loader:()=>s.e(4099).then(s.bind(s,14321))}},["user","individual","human","avatar","access","lock","private"]),v=(0,f().xh)("personSlash",{default:{loader:()=>s.e(48301).then(s.bind(s,947086))},small:{loader:()=>s.e(48301).then(s.bind(s,138364))},fill:{loader:()=>s.e(48301).then(s.bind(s,127564))},fillSmall:{loader:()=>s.e(48301).then(s.bind(s,836819))}},["user","individual","human","avatar","account","invisible","logged out"]);var b=()=>s(846523),x=()=>s(433847),y=()=>s(848538),S=()=>s(69708),M=()=>s(496603),_=()=>s(534177),A=()=>s(701763),w=()=>s(901389),I=()=>s(38337),j=()=>s(722872),T=()=>s(553965),C=()=>s(232930),k=()=>s(463830),P=()=>s(991249),L=()=>s(56739),E=()=>s(329304),D=()=>s(760217),R=()=>s(406699),U=()=>s(802790),F=()=>s(404277),N=()=>s(939740),B=()=>s(460292),V=()=>s(89924),O=()=>s(859428),z=()=>s(103448),K=s(474848);function W({currentSpaceUser:e,targetUserId:t,currentType:s,isInvite:i,onClick:a,onChange:o,buttonStyle:l,isMenuItem:d,from:c,upgradeFrom:p}){const u=(0,n().uB)(void 0,k().A),m=(0,n().K8)((()=>u.state.open),[u]),g=(0,n().K8)((()=>e.getUserId()),[e])===t,f=!function(e,t,s){return(0,n().K8)((()=>!!e.isWorkspaceOwner()||(!(!e.canEditMembership()||"owner"===s||"membership_admin"===s)||!(!e.canEditMembership()||e.getUserId()!==t))),[e,t,s])}(e,t,s);return(0,K.jsx)(R().A,{onClick:e=>{e.preventDefault(),e.stopPropagation(),null==a||a()},popupType:r().A.isMobile?R().z.SlideUp:R().z.Popup,buttonPopupStore:u,open:m,renderOrigin:e=>(0,K.jsx)(G,{isMenuItem:d,membershipType:s,events:e,disabled:f,buttonStyle:l,isCurrentUser:g}),placementToOrigin:"bottom",render:r=>(0,K.jsx)(q,{currentSpaceUser:e,targetUserId:t,isInvite:i,currentType:s,parent:r,onChange:o,upgradeFrom:p,from:c})})}function q({currentSpaceUser:e,targetUserId:t,isInvite:s,currentType:i,parent:o,onChange:c,upgradeFrom:u,from:m}){const g=(0,a().v3)(),f=Z({currentSpaceUser:e,isInvite:s,targetUserId:t}),h=(0,n().K8)((()=>e.getUserId()),[e])===t,v={key:"membership_types",render:e=>(0,K.jsx)(V().A,{...e,title:r().A.isMobile?void 0:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.desktop.title",defaultMessage:"Select role"}),topBorder:0!==e.index}),items:f.flatMap((e=>({key:e.membershipType,render:t=>(0,K.jsx)(H,{currentType:i,option:e,focused:t.focused,props:t,from:m,upgradeFrom:u}),action:()=>{!function(e,t,s,i,a,n,o,l){if(t===e)return;A().Uo({newRole:(0,y().ps)(e),availableRoles:a.map((e=>({role:(0,y().ps)(e)})))}),o&&!r().A.isAdminMode?P().K(i,{from:s,upsell:o}):!function(e,t,s){if(!e)return!1;return"none"===t&&"none"!==s}(n,e,t)?!function(e,t,s){if(!e)return!1;const i=y().fS.indexOf(t),r=y().fS.indexOf(s);return i<r}(n,e,t)?null==l||l(e):w().ui({showCancel:!0,keepFocus:!1,message:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:()=>l(e)}]}):w().ui({showCancel:!0,keepFocus:!1,message:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}),items:[{label:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>l(e)}]})}(e.membershipType,i,u,g,f.map((e=>e.membershipType)),h,"upsell"===e.state?e.upsell:void 0,c),o.close()}})))},x=(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(U().A,{size:"100%"}),(0,K.jsx)(d().N,{href:(0,C().x)("guides.roles"),children:(0,K.jsxs)(l().Y1,{direction:"horizontal",padding:8,gap:8,children:[(0,K.jsx)(B().Q,{iconGroup:b().u,variantName:"default",colorPalette:"gray",colorVariant:"secondary"}),(0,K.jsx)(p().D,{colorPalette:"gray",colorVariant:"secondary",styleKey:"Body/Regular",children:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.desktop.infoFooter",defaultMessage:"Learn more about each role"})})]})})]});let M;return M=r().A.isMobile?{menuType:j().gu.Modal,title:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.mobile.title",defaultMessage:"Select role"}),right:(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:o.close}:{menuType:j().gu.Popup,minWidth:264},(0,K.jsx)(F().A,{className:I().yw8,footer:r().A.isMobile?void 0:x,...M,children:(0,K.jsx)(N().Ay,{type:N().Oh.Vertical,initialFocus:void 0,sections:[v]})})}function G({isMenuItem:e,membershipType:t,events:s,disabled:i,buttonStyle:r,isCurrentUser:a}){const n=(0,o().IS)((e=>({button:{...r},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}})),[r]),l=Y({membershipType:t,isRemovable:!1,isCurrentUser:a}).label;return e?(0,K.jsx)(D().A,{...s,title:(0,K.jsx)(S().sA,{...l}),focused:!1,showExtensionArrow:!0}):(0,K.jsx)(c().p,{id:void 0,...s,disabled:i,style:n.button,iconTrailing:i?void 0:{icon:m().arrowChevronSingleDownFillSmallIcon,size:"xs",colorVariant:"tertiary"},children:(0,K.jsx)("span",{className:"notranslate",style:n.label,children:(0,K.jsx)(S().sA,{...l})})})}function H(e){const{option:t,currentType:s,upgradeFrom:i,from:r}=e,a=(0,o().DP)(),{onClick:n,key:l,...d}=e.props;return"dont_render"===t.state?null:"disabled"===t.state?(0,K.jsx)(O().A,{delayThreshold:0,renderTooltip:e=>(0,K.jsx)("div",{...e,children:t.info}),placement:"right",textWrap:!0,render:i=>(0,K.jsx)(D().A,{...i,icon:(0,K.jsx)(B().Q,{iconGroup:t.icon,variantName:"default"}),focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:s===t.membershipType,title:(0,K.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,K.jsx)("div",{style:{marginInlineEnd:0},children:(0,K.jsx)(S().sA,{...t.label})})}),caption:t.caption&&(0,K.jsx)("span",{style:{color:a.text.secondary},children:(0,K.jsx)(S().sA,{...t.caption})}),shouldWrapCaption:!0})}):(0,K.jsx)(L().k,{upsell:"upsell"===t.state?t.upsell:void 0,analyticsName:i,renderUpgradeTooltip:()=>"upsell"===t.state?t.upsellTooltip:void 0,tooltipPlacement:"left",onClick:n,render:(i,n)=>{const{focused:o,...l}=(0,T().A)(d,i);return(0,K.jsx)(D().A,{...l,icon:(0,K.jsx)(B().Q,{iconGroup:t.icon,variantName:"default"}),focused:o||e.focused,isChecked:s===t.membershipType,title:(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,K.jsx)("div",{style:{marginInlineEnd:"upsell"===t.state?6:0,display:"flex",alignItems:"center"},children:(0,K.jsx)(S().sA,{...t.label})}),n]}),caption:t.caption&&(0,K.jsx)("span",{style:{color:a.text.secondary},children:(0,K.jsx)(S().sA,{...t.caption})}),shouldWrapCaption:!0,disabled:!1,isRedOnHover:"spaceSettings"===r&&"enabled"===t.state&&"none"===t.membershipType})}})}function Y({membershipType:e,isRemovable:t,isCurrentUser:s}){switch(e){case"owner":return{icon:h,label:x().Sf.workspaceOwnerLabel,caption:x().Sf.workspaceOwnerCaption};case"membership_admin":return{icon:h,label:x().Sf.membershipAdminLabel,caption:x().Sf.membershipAdminCaption};case"member":return{icon:g().K,label:x().Sf.memberLabel,caption:x().Sf.memberCaption};case"restricted_member":return{icon:g().K,label:x().Sf.restrictedMemberLabel,caption:x().Sf.restrictedMemberCaption};case"page_guest":case"none":return t&&s?{icon:v,label:x().Sf.leaveWorkspaceLabel}:t?{icon:v,label:x().Sf.removeFromWorkspaceLabel}:{icon:v,label:x().Sf.noAccessLabel};default:(0,_().HB)(e)}}function Z({currentSpaceUser:e,isInvite:t,targetUserId:s}){const r=(0,n().K8)((()=>null==e?void 0:e.getSpaceId()),[e]),a=(0,n().K8)((()=>null==e?void 0:e.getUserId()),[e]),o=(0,n().K8)((()=>null==e?void 0:e.getMembershipType()),[e]),l=(0,E()._X)({name:"non_admin_members",spaceId:r,userId:a}),d=(0,E()._X)({name:"membership_admins",spaceId:r,userId:a}),c=(0,E()._X)({name:"restricted_members",spaceId:r,userId:a}),p=(0,i().X)("restricted_members_enabled");return(0,M().oE)(["owner","membership_admin","member",p?"restricted_member":void 0,t?void 0:"none"]).map((e=>{const t=Y({membershipType:e,isRemovable:!0,isCurrentUser:a===s});return o&&l&&d&&c?{membershipType:e,...t,...Q({membershipAdminsAvailability:d,restictedMemberAvailability:c,nonAdminAvailability:l,currentUserType:o,newType:e})}:{membershipType:e,...t,state:"disabled",info:null}}))}function Q({membershipAdminsAvailability:e,restictedMemberAvailability:t,nonAdminAvailability:s,currentUserType:i,newType:r}){const a=(0,K.jsx)(S().sA,{id:"spaceMembershipTypeSelect.roleUpgradeDisabled",defaultMessage:"Cannot upgrade to a higher role than member"}),n=(0,K.jsx)(z().A,{imageURL:u().A.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,K.jsx)(S().sA,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"spaceMembershipTypeSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,K.jsx)(S().sA,{defaultMessage:"Upgrade to add non-admin members",id:"spaceMembershipTypeSelect.spaceReadAndWriteUpgradeTooltip.title"})}),o=(0,K.jsx)(z().A,{imageURL:u().A.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,K.jsx)(S().sA,{defaultMessage:"Restricted members can only view content they’ve been specifically invited to.",id:"spaceMembershipTypeSelect.spaceRestrictedMemberTooltip.caption"}),title:(0,K.jsx)(S().sA,{defaultMessage:"Upgrade to add restricted members",id:"spaceMembershipTypeSelect.spaceRestrictedMemberTooltip.title"})});return"owner"===r?"owner"===i?{state:"enabled"}:{state:"disabled",info:a}:"membership_admin"===r?e&&!(0,E().e2)(e)?{state:"dont_render"}:"owner"===i?{state:"enabled"}:{state:"disabled",info:a}:"restricted_member"===r?t&&!(0,E().e2)(t)?{state:"upsell",upsell:t.upsell,upsellTooltip:o}:"owner"===i||"membership_admin"===i?{state:"enabled"}:{state:"disabled",info:a}:"none"!==r&&s&&!(0,E().e2)(s)?{state:"upsell",upsell:s.upsell,upsellTooltip:n}:{state:"enabled"}}},236527:(e,t,s)=>{s.d(t,{a:()=>n});s(296540);var i=()=>s(401497),r=()=>s(566468),a=s(474848);function n(e){const t=(0,i().IS)((()=>({icon:{borderRadius:"100%",height:e.iconSize??28,width:e.iconSize??28,marginInlineStart:-4}})),[e.iconSize]);return(0,a.jsx)(r().mf,{includeByline:!0,includeIcon:!0,iconStyles:t.icon})}},266324:(e,t,s)=>{s.d(t,{A:()=>A});var i=s(296540),r=()=>s(112452),a=()=>s(69708),n=()=>s(284371),o=()=>s(285790),l=()=>s(859428),d=()=>s(484714),c=()=>s(56366),p=()=>s(401497),u=()=>s(699143),m=()=>s(396896),g=()=>s(493552),f=()=>s(559506),h=()=>s(901389),v=()=>s(471995),b=()=>s(347063),x=()=>s(107683),y=()=>s(49210),S=()=>s(453697),M=s(474848);function _({spaceId:e,userStore:t,onDismiss:s,onSubmit:r}){const n=(0,d().v3)(),o=t.id,l=(0,a().tz)(),x=(0,c().K8)((()=>t.getDisplayName(l)),[t,l]),y=(0,p().IS)((e=>({secondaryIcon:{fill:e.blue.icon.tertiary},primaryIcon:{fill:e.blue.icon.accentPrimary},title:{color:e.text.primary,textAlign:"center",fontSize:17,fontWeight:500,lineHeight:"22px"}})),[]),_=(0,i.useCallback)((async()=>{const t=await f().callApi({eventName:"recoverUserContentInSpace",environment:n,data:{spaceId:e,userId:o}});if("failed"===t.type)throw h().Qg(t),t;r(),s(),v().D6({label:(0,M.jsx)(a().sA,{id:"restoreAccessModal.snackbarMessage",defaultMessage:"Initiated restoration of access for{nbsp}{displayName}",values:{displayName:(0,M.jsx)("b",{children:x}),nbsp:(0,M.jsx)(M.Fragment,{children:" "})}})})}),[n,e,o,x,s,r]);return(0,M.jsx)(b().tf,{header:(0,M.jsx)(b().YA,{iconAndTitle:(0,M.jsxs)(u().Y1,{align:"top-center",gap:9,children:[(0,M.jsx)(S().A,{userStore:t,size:40}),(0,M.jsx)("div",{style:y.title,children:(0,M.jsx)(a().sA,{defaultMessage:"Restore access",id:"restoreAccessModal.title"})})]}),description:(0,M.jsx)(a().sA,{id:"restoreAccessModal.subtitle",defaultMessage:"Restore additional access for members who were removed and re-added within the last 30 days"})}),footer:(0,M.jsx)(b().aO,{layout:"vertical",primaryButtons:[{buttonType:"primary",label:(0,M.jsx)(a().sA,{defaultMessage:"Restore access",id:"restoreAccessModal.restoreButton"}),onClick:_}],secondaryButtons:[{buttonType:"secondary",label:(0,M.jsx)(a().sA,{defaultMessage:"Cancel",id:"restoreAccessModal.cancelButton"}),onClick:s}]}),children:(0,M.jsxs)(m().VP,{gap:24,children:[(0,M.jsx)(g().D,{styleKey:"Body/Regular",colorVariant:"primary",style:{textAlign:"center"},children:(0,M.jsx)(a().sA,{id:"restoreAccessModal.contextDescription",defaultMessage:"<b>{displayName}</b> already has access to their private pages",values:{b:e=>(0,M.jsx)("b",{children:e}),displayName:x}})}),(0,M.jsx)(g().D,{styleKey:"Body/Regular",colorVariant:"primary",style:{textAlign:"center"},children:(0,M.jsx)(a().sA,{id:"restoreAccessModal.actionDescription",defaultMessage:"Would you like to restore <b>{displayName}</b>’s access to their shared pages, groups, and teamspaces?",values:{b:e=>(0,M.jsx)("b",{children:e}),displayName:x}})})]})})}function A({spaceId:e,userStore:t,onSubmit:s}){const i=(0,a().tz)();return(0,M.jsx)(l().A,{placement:"right",renderTooltip:()=>(0,M.jsx)(w,{}),render:a=>(0,M.jsx)(o().A,{icon:r()._,ariaLabel:i.formatMessage({id:"restoreAccessButton.aria",defaultMessage:"Restore access"}),onClick:()=>async function(e,t,s){return await y().T.showAsyncModal((i=>(0,M.jsx)(x().s,{isOpen:i.isOpen,onDismiss:i.onDismiss,onClosed:i.onClosed,areaConstraint:{width:{type:"fixed",length:380}},render:()=>(0,M.jsx)(_,{spaceId:e,userStore:t,onDismiss:i.onDismiss,onSubmit:s})})))}(e,t,s),...a})})}function w(){return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{style:{fontWeight:n().Wy.semibold},children:(0,M.jsx)(a().sA,{id:"userCell.restoreAccessTooltip.label",defaultMessage:"Restore access to teamspaces, groups, and shared pages"})}),(0,M.jsx)("div",{children:(0,M.jsx)(a().sA,{id:"userCell.restoreAccessTooltip.description",defaultMessage:"Only available if a member was removed and re-added in the last 30 days"})})]})}},272407:(e,t,s)=>{s.d(t,{C:()=>l,d:()=>d});s(898992),s(672577);var i=()=>s(762433),r=()=>s(979340),a=()=>s(765957),n=()=>s(804006),o=()=>s(807778);function l(e){var t;const s=a().default.state.sidebarSpaceStore;return(null==s||null===(t=s.getSettings().offer_member_count)||void 0===t||null===(t=t.find((t=>t.campaign===e)))||void 0===t?void 0:t.membersAdded)??0}function d({memberCount:e,billingData:t,spaceId:s,environment:a}){if(!e||!t||!s)return!1;if(!(0,r().dL)((0,i().AI)(t)))return!1;if(e>10||e<2)return!1;return!!n().I.getData(a,{spaceId:s,offerCampaign:"expansion_offer",checkOnlyGeneralEligibility:!0})&&(0,o().Nu)()}},288864:(e,t,s)=>{s.d(t,{_:()=>o});s(296540);var i=()=>s(401497),r=()=>s(284371),a=()=>s(719147),n=s(474848);function o({href:e,external:t,onClick:s,children:o}){const l=(0,i().IS)((e=>({link:{color:e.blue.icon.accentPrimary,fontWeight:r().Wy.medium}})),[]);return(0,n.jsx)(a().A,{disableUnderline:!0,href:e,external:t,onClick:s,color:l.link.color,hoverColor:"blue",style:l.link,children:o})}},301863:(e,t,s)=>{s.d(t,{$:()=>S});var i=s(296540),r=()=>s(484714),a=()=>s(56366),n=()=>s(401497),o=()=>s(584262),l=()=>s(921940),d=()=>s(416504),c=()=>s(663247),p=()=>s(936802),u=()=>s(179034),m=()=>s(69708),g=()=>s(284371),f=()=>s(554283),h=()=>s(765957),v=()=>s(148832),b=()=>s(404141),x=()=>s(719147),y=s(474848);function S(){const e=(0,m().tz)(),t=(0,r().v3)(),{collectionViewPageName:s,collectionViewPageURL:S}=(0,a().K8)((()=>{const s=h().default.state.sidebarSpaceStore;if(!s)return{collectionViewPageName:void 0,collectionViewPageURL:void 0};const i=s.id,r=(0,p().Pg)({spaceIdCreator:t.idCreator.getSpaceIdCreatorSync(i)}),a=v().B.createChildStore(s,{table:u().ev,id:r,spaceId:s.id}),n=null==a?void 0:a.getModel();if(!n)return{collectionViewPageName:void 0,collectionViewPageURL:void 0};const c=(0,l().A)({pageId:r,pageVisitSource:o().y8.WorkspaceSettingsPeopleSectionHeader});return{collectionViewPageName:n.getRenderTitle({getRecordModel:a.getRecordModel,userTimeZone:(0,d().P)(),intl:e}),collectionViewPageURL:c}}),[t.idCreator,e]),M=(0,i.useCallback)((e=>{e.metaKey||b().A.setState({...b().A.state,open:!1})}),[]),[_,A]=(0,f().B)(),w=(0,n().IS)((e=>({icon:{width:16,height:16,fill:A?e.blue.text.accentPrimary:e.text.secondary},textLink:{color:e.text.secondary,fontWeight:g().Wy.medium,fontSize:g().J.UISmall.desktop,display:"flex",alignItems:"center"}})),[A]);return(0,y.jsx)("div",{ref:_,children:(0,y.jsxs)(x().A,{onClick:M,href:S,disableUnderline:!0,style:w.textLink,hoverColor:"blue",children:[(0,y.jsx)("span",{children:(0,y.jsx)(m().sA,{id:"spacePermissionsSettings.people.common.managePeopleDirectoryLink",defaultMessage:"Manage {directoryName}",values:{directoryName:s}})}),(0,y.jsx)("span",{children:(0,c().arrowDiagonalUpRightFillIcon)(w.icon)})]})})}},370872:(e,t,s)=>{s.d(t,{Dd:()=>Se,z_:()=>Me,_3:()=>_e,Lw:()=>Le,uU:()=>je,UP:()=>le,QF:()=>Pe,M0:()=>Te,s6:()=>xe,AO:()=>De,P_:()=>de,xi:()=>ge,aC:()=>ke,X:()=>Ee,Sg:()=>fe,id:()=>Ie,li:()=>be,Ss:()=>ue});s(944114),s(898992),s(354520),s(672577),s(430670),s(581454),s(296540);var i=()=>s(242422),r=()=>s(700500),a=()=>s(313491),n=()=>s(165358),o=()=>s(416504),l=()=>s(416845),d=()=>s(206267),c=()=>s(763884),p=()=>s(386164),u=()=>s(179034),m=()=>s(946064),g=()=>s(96689),f=()=>s(848538),h=()=>s(798880),v=()=>s(69708),b=()=>s(496603),x=()=>s(763824),y=()=>s(534177),S=()=>s(583835);const M=(0,S().Dv)("exportAdminContentSearch"),_=(0,S().Dv)("exportAuditLog"),A=(0,S().Dv)("exportContentAnalytics"),w=((0,S().Dv)("exportDomainClaimableSpaces"),(0,S().Dv)("exportDomainClaimableSpacesForOrganization")),I=(0,S().Dv)("exportLegalHoldContentSummary"),j=(0,S().Dv)("exportSpace"),T=(0,S().Dv)("exportUserAnalytics"),C=(0,S().Dv)("partitionedExportBlock");var k=()=>s(30731),P=()=>s(56366),L=s(474848);const E=function({exportProgressStore:e}){const{messageStyle:t,spinnerContainerStyle:i}=(0,s(401497).IS)((e=>({messageStyle:{fontSize:14,color:e.text.secondary,textAlign:"center"},spinnerContainerStyle:{marginTop:24,marginBottom:24,display:"flex",justifyContent:"center"}})),[]);return(0,L.jsxs)("div",{style:t,children:[(0,L.jsx)("div",{style:i,children:(0,L.jsx)(s(98126).k,{})}),(0,L.jsx)(R,{exportProgressStore:e}),(0,L.jsx)(D,{exportProgressStore:e})]})};function D({exportProgressStore:e}){return(0,P().K8)((()=>e.state.targetEmailAddress),[e])?(0,L.jsx)("p",{children:(0,L.jsx)(v().sA,{id:"exportProgressDialog.emailMessage",defaultMessage:"We’ll also send you an email with the download link."})}):null}function R({exportProgressStore:e}){const t=(0,P().K8)((()=>e.state.pagesExported),[e]),s=(0,P().K8)((()=>e.state.filesExported),[e]);return s>0?(0,L.jsx)("p",{children:(0,L.jsx)(v().sA,{id:"exportProgressDialog.exportedFilesMessage",defaultMessage:"{filesExported, plural, one {{filesExported} file exported} other {{filesExported} files exported}}",values:{filesExported:s}})}):t>0?(0,L.jsx)("p",{children:(0,L.jsx)(v().sA,{id:"exportProgressDialog.exportedPagesMessage",defaultMessage:"{pagesExported, plural, one {{pagesExported} page exported} other {{pagesExported} pages exported}}",values:{pagesExported:t}})}):(0,L.jsx)("p",{children:(0,L.jsx)(v().sA,{id:"exportProgressDialog.exportStartedMessage",defaultMessage:"Exporting…"})})}var U=()=>s(534740),F=()=>s(638146),N=()=>s(745864),B=()=>s(972435),V=()=>s(71304),O=()=>s(544019),z=()=>s(765957),K=()=>s(605402),W=()=>s(21735),q=()=>s(436529);class G extends(()=>s(757695))().Store{getInitialState(){return{pagesExported:0,filesExported:0}}}const H=G;var Y=()=>s(148832),Z=()=>s(870092),Q=()=>s(134217),X=()=>s(749240),$=()=>s(701763),J=()=>s(314529);function ee(e,t){(0,J().DO_NOT_USE_trackLegacy)(e,"export",t)}function te(e,t){(0,J().DO_NOT_USE_trackLegacy)(e,"export_failed",t)}var se=()=>s(559506),ie=()=>s(901389),re=()=>s(161773),ae=()=>s(357625),ne=()=>s(496414);const oe=(0,v().YK)({exporting:{id:"exportActions.exporting.loadingMessage",defaultMessage:"Exporting"},exportAuditLogEmail:{id:"exportActions.auditLog.exporting.EmailMessage",defaultMessage:"Your CSV export is currently being generated. The generated CSV has a 2-hour delay from the real time audit log. Once it is ready, an email will be sent to you with the download link."},exportCSVEmail:{id:"exportActions.exportingCSV.EmailMessage",defaultMessage:"Your CSV export is currently being generated. Once it is ready, an email will be sent to you with the download link."},exportFailed:{id:"exportActions.exportFailedError.message",defaultMessage:"Export failed."},workspaceOwnerMessage:{defaultMessage:"Workspace owner",id:"export.userPermissionsRole.workspaceOwner.message"},membershipAdminMessage:{defaultMessage:"Membership admin",id:"export.userPermissionsRole.membershipAdmin.message"},memberMessage:{defaultMessage:"Member",id:"export.userPermissionsRole.member.message"},restrictedMemberMessage:{defaultMessage:"Restricted member",id:"export.userPermissionsRole.restrictedMember.message"},guestMessage:{defaultMessage:"Guest",id:"export.userPermissionsRole.guest.message"},idMessage:{defaultMessage:"ID",id:"export.csvHeader.id"},emailMessage:{defaultMessage:"Email",id:"export.csvHeader.email"},nameMessage:{defaultMessage:"Name",id:"export.csvHeader.name"},roleMessage:{defaultMessage:"Role",id:"export.csvHeader.role"},permissionGroupsMessage:{defaultMessage:"Permission groups",id:"export.csvHeader.permissionGroups"},pagesMessage:{defaultMessage:"Pages",id:"export.csvHeader.pages"},partitionedExportSpaceMessage:{defaultMessage:"Export is still in progress due to file size. We will send you an email about its progress.",id:"export.partitionedExportSpace.message"},partitionedExportBlockMessage:{defaultMessage:"Export is still in progress due to file size. We will send you an email with a download link once it completes.",id:"export.partitionedExportBlock.message"},privatePageMessage:{defaultMessage:"Private page",id:"export.privatePageTitle.message"},pageTitleAndIdMessage:{defaultMessage:"{pageTitle} ({pageId})",id:"export.pageTitleAndId.message"},pageSeparatorMessage:{defaultMessage:", ",id:"export.pageSeparator.message"}});async function le(e,t){if(!ye({environment:e,...t}))return void te(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const{currentUserStore:s}=z().default.state;if(!s)return void te(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});const i=s.getEmail();if(!i)return void te(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive});ee(e,{target:"block",format:t.exportOptions.exportType,recursive:t.recursive}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=pe(s.id));const r={...t,eventName:C,rootTaskId:d().JW()},a=(0,ae().UT)(e,C,r,{spaceIds:[t.block.spaceId]});await ce(e,a,t.recursive,i,oe.partitionedExportBlockMessage,t.block.spaceId)}async function de(e,t,s,i){if(!ye({environment:e,recursive:!0,exportOptions:t.exportOptions,isOrgConsole:void 0!==s}))return void te(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const{currentUserStore:r}=z().default.state;if(!r)return void te(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});const a=r.getEmail();if(!a)return void te(e,{target:"space",format:t.exportOptions.exportType,recursive:!0});ee(e,{target:"space",format:t.exportOptions.exportType,recursive:!0}),"currentView"===t.exportOptions.collectionViewExportType&&(t.exportOptions.preferredViewMap=pe(r.id));const n=(0,ae().UT)(e,j,t,{spaceIds:[]});await ce(e,n,!0,a,oe.partitionedExportSpaceMessage,t.spaceId,i)}async function ce(e,t,s,i,r,a,n){const{sidebarSpaceViewStore:o}=z().default.state;if(!o&&!n)return;const l=new H;l.setState({pagesExported:0,filesExported:0,targetEmailAddress:i});let d,c=!1;const p=((null==o?void 0:o.getTeamsStores())||n)??[],u=null==p?void 0:p.filter((e=>e.getSetting("disable_export"))).flatMap((e=>e.getName()||[]));if(s){const t=u.length>0?6e3:1250;d=(0,x().wR)(t);const s={exportProgressStore:l,disabledExportTeamNames:u};ie().ui({message:(0,L.jsx)(E,{...s}),showCancel:!1,keepFocus:!0,disableBackgroundDismiss:!0,items:[{label:(0,L.jsx)(v().sA,{id:"exportProgressDialog.closeButton.label",defaultMessage:"Close"}),onAccept:()=>{Ee({environment:e,spaceId:a}),c=!0}}]})}else d=Promise.resolve(),ne().m({message:oe.exporting});for await(const m of t){if(c)return;if(m.error)return ne().V(),void ie().f1(B().A.formatMessage(oe.exportFailed));{const{value:t}=m;if("complete"===t.type||"partition"===t.type)return await d,ne().V(),void("complete"===t.type?(ie().zw(),!c&&t.exportURL&&re().I5(e,t.exportURL)):ie().rG({message:B().A.formatMessage(r)}));"progress"===t.type?l.setState({...l.state,pagesExported:t.exportedCount}):"progressFiles"===t.type&&l.setState({...l.state,filesExported:t.exportedCount})}}}function pe(e){const t={};return c().K.scan(((s,i)=>{if(s.includes(F().Ie)&&s.includes(e)){const e=s.split(F().Ie)[1];e&&i&&(t[e]=i)}})),t}function ue(e){const{root:t,environment:s,isCollectionViewExportTypeSupported:i}=e,r=s.currentUser.id,a=we(r),n=a&&a.exportType||"markdown",l=i?"currentView":void 0,d="pdf"===n?{exportType:"pdf",timeZone:(0,o().P)(),pdfFormat:Ie(r),locale:"en",collectionViewExportType:l}:{exportType:n,timeZone:(0,o().P)(),locale:"en",collectionViewExportType:l};Me(s,{open:!0,root:t,recursive:"space"===t.table,exportOptions:d,shouldExportComments:!1})}function me(e,t){switch(t){case"owner":return e.formatMessage(oe.workspaceOwnerMessage);case"membership_admin":return e.formatMessage(oe.membershipAdminMessage);case"member":return e.formatMessage(oe.memberMessage);case"restricted_member":return e.formatMessage(oe.restrictedMemberMessage);case"page_guest":return e.formatMessage(oe.guestMessage);case"none":return"";default:return n().log({level:"error",from:"exportActions",type:"roleNotFound",data:{miscDataToConvertToString:{role:t}}}),""}}async function ge(e,t){const{spaceStore:s,subscriptionData:r,intl:n}=t;await se().callApi({eventName:"exportSpaceMembers",environment:e,data:{spaceId:s.getSpaceId()}});let o=[],l=[];if(W().A.state.shouldUseEdgeCache){const t=i().default.getConfigKey("email_alias_migration","mode"),r=await se().callApi({eventName:"listUsers",environment:e,data:{cursor:void 0,membershipFilter:void 0,limit:2e4,sort:"name_normalized",sortDirection:"asc",query:"",spaceId:s.id,includeAliasSearch:(0,a().K)(t)}});if("success"!==r.type)return void ie().rG({message:B().A.formatMessage(oe.exportFailed)});o=r.data.users.map((e=>e.id));for(const e of r.data.users)e.membership_type&&!(0,f().$I)(e.membership_type)&&l.push({userId:e.id,membershipType:e.membership_type})}else o=r.users.map((e=>e.userId)),l=r.users;const d=await se().callApi({eventName:"getSpacePermissionGroupIdsContainingMembers",environment:e,data:{spaceId:s.getSpaceId(),userIds:o},headers:(0,p().WS)({cellId:void 0,spaceId:s.getSpaceId()})}),c={};if("success"===d.type)for(const[i,a]of Object.entries(d.data.userToGroupMap)){const e=(a||[]).map((e=>K().A.state.permissionGroupsAndMemberCounts.find((t=>t.group.group_id===e)))),t=b().oE(e).map((e=>e.group.name)).sort().join(",");c[i]=t}await fe(s,l,c,n)}async function fe(e,t,s,i){const r=b().oE(await x().lX(t,40,(async t=>{const r=Z().L.createChildStore(e,{table:h().oo,id:t.userId});await r.waitUntil((()=>r.isReady()));const a=r.getEmail(),n=r.getFullName(i);if(a||n)return[a||"",n||"",me(i,t.membershipType),s[t.userId]||"",r.id]})));he(ve([[oe.emailMessage,oe.nameMessage,oe.roleMessage,oe.permissionGroupsMessage,oe.idMessage].map((e=>i.formatMessage(e))),...r]),"members.csv")}function he(e,t){const s=document.createElement("a");s.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(e)}`),s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function ve(e){return e.map((e=>e.map((e=>((e=e.replace(/"/g,'""')).search(/("|,|\n)/g)>=0&&(e=`"${e}"`),e))).join(","))).join("\n")}async function be({spaceStore:e,intl:t,environment:s}){const r=X().subscriptionDataStoreInstance.state;if(void 0===r||"subscribed_admin"!==r.type)return;let n=[];const o=i().default.getConfigKey("email_alias_migration","mode");if(W().A.state.shouldUseEdgeCache){const t=await se().callApi({eventName:"listUsers",environment:s,data:{cursor:void 0,membershipFilter:"guests",limit:1e4,sort:"name_normalized",sortDirection:"asc",query:"",spaceId:e.id,includeAliasSearch:(0,a().K)(o)}});if("success"!==t.type)return void ie().rG({message:B().A.formatMessage(oe.exportFailed)});const i=t.data.users,r=await se().callApi({eventName:"getGuestPagesForUserIds",environment:s,data:{spaceId:e.id,guestUserIds:i.map((e=>e.id)),includeRecordMap:!1},headers:(0,p().WS)({cellId:void 0,spaceId:e.id})});if("success"!==r.type)return void ie().rG({message:B().A.formatMessage(oe.exportFailed)});n=i.map((e=>({userId:e.id,membershipType:"page_guest",role:"none",guestPageIds:r.data.guestIdToPages[e.id].pageIds,isPageGuest:!0,isTeamGuest:!1})))}else n=(0,Q().oe)(r);xe(s,{intl:t,spaceStore:e,guests:n})}async function xe(e,{guests:t,intl:s,spaceStore:i}){await se().callApi({eventName:"exportSpaceGuests",environment:e,data:{spaceId:i.getSpaceId()}});const a=s.formatMessage(oe.pageSeparatorMessage),n=b().oE(await Promise.all(t.map((async t=>{const n=Z().L.createChildStore(i,{table:h().oo,id:t.userId});async function o(t){const a=Y().B.createChildStore(i.getPagesStore(),{table:u().ev,id:t});if(await a.load(),a.isCollectionView()){const e=a.getCollectionStoreIfSingleSource();e&&await e.load()}else if(a.getType()===r().xd.alias){const e=a.getAliasTargetStore();e&&await e.load()}return(0,V().Qe)(a,s,e,!1)??s.formatMessage(oe.privatePageMessage)}const[,...l]=await Promise.all([n.load(),...t.guestPageIds.map((e=>async function(e){return s.formatMessage(oe.pageTitleAndIdMessage,{pageId:e,pageTitle:await o(e)})}(e)))]),d=n.getEmail(),c=n.getFullName(s);if(d||c)return[d||"",c||"",l.join(a),n.id]})))),o=[[oe.emailMessage,oe.nameMessage,oe.pagesMessage,oe.idMessage].map((e=>s.formatMessage(e))),...n];he(ve(o),"guests.csv"),$().Is(e,{line_count:o.length})}function ye(e){const t="pdf"===e.exportOptions.exportType&&e.recursive;return!!e.isOrgConsole||(!t||Se(e.environment))}function Se(e){return(0,Q().n)(e,"enterprise")||(0,Q().n)(e,"business")||(0,U().h)()}function Me(e,t){const s=q().Ay.state,i=e.currentUser.id;let r=t;if(q().xt(r)&&!Se(e))if("space"===r.root.table){const e=s.open&&!q().xt(s)?s.exportOptions.exportType:"html";r={...r,exportOptions:{...r.exportOptions,exportType:e}}}else r={...r,recursive:!1};if(!ye({environment:e,...r}))throw new(l().Um)("Invalid export options",{data:r});q().Ay.setState(r),function(e){const t=q().Ay.state;if(t.open){const s={...we(e),exportType:t.exportOptions.exportType};"pdf"===t.exportOptions.exportType&&(s.pdfFormat=t.exportOptions.pdfFormat),c().K.set({userId:e,key:Ae,value:s})}}(i)}function _e(){q().Ay.setState({open:!1,shouldExportComments:!1})}const Ae="ExportSettings";function we(e){return c().K.get({userId:e,key:Ae})}function Ie(e){const t=we(e);return t&&t.pdfFormat||q().N4()}async function je(e,t){const{currentUserStore:s}=z().default.state,{targetPointer:i}=t;if(!s)return n().log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserStoreNotFound",data:{miscDataToConvertToString:{targetPointer:i}}}),ie().rG({message:B().A.formatMessage(oe.exportFailed)}),void te(e,{target:"auditLog",format:"csv",recursive:!1});if(!s.isDefined())return n().log({level:"error",from:"exportActions",type:"exportAuditLogCSV-currentUserValueNotFound",data:{miscDataToConvertToString:{targetPointer:i}}}),ie().rG({message:B().A.formatMessage(oe.exportFailed)}),void te(e,{target:"auditLog",format:"csv",recursive:!1});let r;ee(e,{target:"auditLog",format:"csv",recursive:!1}),i.table===g().NX?r=(0,ae().UT)(e,_,{spaceId:i.id,exportOptions:t.exportOptions},{spaceIds:[i.id]}):i.table===m().y7?r=(0,ae().UT)(e,_,{organizationId:i.id,exportOptions:t.exportOptions},{spaceIds:[]}):(0,y().HB)(i),await Ce(r,oe.exportAuditLogEmail)}async function Te(e){const{environment:t,data:s}=e;ee(t,{target:"domainClaimableSpaces",format:"csv",recursive:!1});const i=(0,ae().UT)(t,w,s,{spaceIds:[]});await Ce(i,oe.exportCSVEmail)}async function Ce(e,t){const s=await e.next();if(s.value.error){const e=(0,N().A)(B().A.getIntl(),s.value.error);ie().f1(e)}else ie().rG({message:B().A.formatMessage(t)})}async function ke(e,t){ee(e,{target:"userAnalytics",format:"csv",recursive:!1});const s=(0,ae().UT)(e,T,t,{spaceIds:[t.spaceId]});await Ce(s,oe.exportCSVEmail)}async function Pe(e,t){ee(e,{target:"contentAnalytics",format:"csv",recursive:!1});const s=(0,ae().UT)(e,A,t,{spaceIds:[t.spaceId]});await Ce(s,oe.exportCSVEmail)}async function Le(e,t){ee(e,{target:"adminContentSearchAnalytics",format:"csv",recursive:!1});const s=(0,ae().UT)(e,M,{spaceId:t.spaceId,organizationId:t.organizationId,sort:{field:"relevance",direction:"desc"},query:t.filters.query,audience:t.filters.audience,lastEditedTime:(0,k().ES)(t.filters.lastEditedTime),createdTime:(0,k().ES)(t.filters.createdTime),createdBy:t.filters.createdBy,sharedWith:t.filters.sharedWith,teamspaceIds:t.filters.teamIds,deletionStatuses:t.filters.pageStatus},{spaceIds:[t.spaceId]});await Ce(s,oe.exportCSVEmail)}async function Ee({environment:e,spaceId:t}){if(!t)return;const s=await se().callApi({eventName:"getActiveExportTasks",environment:e,data:{spaceId:t}});var i;"success"===s.type&&O().A.setState({count:s.data.length,exportedPageCount:null===(i=s.data[0])||void 0===i?void 0:i.exportedPageCount})}async function De(e,t){ee(e,{target:"legalHoldContentSummary",format:"csv",recursive:!1});const s=(0,ae().UT)(e,I,{spaceId:t.spaceId,legalHoldId:t.legalHoldId,teamIds:t.teamIds,userIds:t.userIds,blockIds:t.blockIds,query:t.query},{spaceIds:[t.spaceId]});await Ce(s,oe.exportCSVEmail)}},378815:(e,t,s)=>{s.r(t),s.d(t,{arrowStraightDownFillIcon:()=>r,iconDefinition:()=>i});s(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.72 2.12 12.56 15.76",svg:(0,s(474848).jsx)("path",{d:"M10.875 2.924c0-.441-.392-.799-.875-.799s-.875.358-.875.799v11.964L5.22 10.98a.875.875 0 0 0-1.24 1.24l5.4 5.4a.875.875 0 0 0 1.238 0l5.4-5.4a.875.875 0 1 0-1.238-1.238l-3.906 3.907z"})},r=(0,s(340498).wt)("arrowStraightDownFill",i)},397103:(e,t,s)=>{s.d(t,{h:()=>n});var i=()=>s(56366),r=()=>s(765957),a=()=>s(329304);function n(){var e;const{currentSpaceId:t,currentUserId:s}=(0,i().K8)((()=>{var e,t;return{currentSpaceId:null===(e=r().default.state.sidebarSpaceStore)||void 0===e?void 0:e.id,currentUserId:null===(t=r().default.state.currentUserStore)||void 0===t?void 0:t.id}}),[]),n=(0,a()._X)({name:"members",spaceId:t,userId:s,amount:"unknown"}),o=null==n||null===(e=n.limit)||void 0===e?void 0:e.total;return!!o&&("unlimited"===o||o>1)}},436529:(e,t,s)=>{s.d(t,{Ay:()=>l,N4:()=>n,xt:()=>a});var i=()=>s(662303);const r=["en","en-us","en-ca"];function a(e){return"pdf"===e.exportOptions.exportType}function n(){return r.includes(i().locale.toLowerCase())?"Letter":"A4"}class o extends(()=>s(757695))().Store{getInitialState(){return{open:!1,shouldExportComments:!1}}}const l=new o},461924:(e,t,s)=>{s.d(t,{o:()=>i});s(898992),s(354520);class i{constructor(e){this.rowsStore=new r,this.sort=void 0,this.filter=void 0,this.abortController=void 0,this.isFetching=!1,this.rowsStore.setState({rows:e,hasMore:!0})}async _maybeFetch(){if(!this.isFetching){this.isFetching=!0;try{return await this.fetch()}finally{this.isFetching=!1}}}async loadMore(){const e=await this._maybeFetch();e&&this.rowsStore.setState({rows:[...this.rowsStore.getState().rows??[],...e.rows??[]],hasMore:e.hasMore})}async setSort(e){this.sort=e,await this.refresh()}async setFilter(e){this.filter=e,await this.refresh()}async refresh(){var e;null===(e=this.abortController)||void 0===e||e.abort(),this.isFetching=!1;const t=await this._maybeFetch();t&&this.rowsStore.setState({rows:t.rows,hasMore:t.hasMore})}}class r extends(()=>s(757695))().Store{getInitialState(){return{rows:void 0,hasMore:!0}}}},492666:(e,t,s)=>{s.d(t,{b:()=>a});var i=()=>s(314529),r=()=>s(242422);function a(e){(0,i().DO_NOT_USE_trackLegacy)(e,"workspace_invite_copy_link"),r().default.logEvent("workspace_invite_copy_link")}},534740:(e,t,s)=>{s.d(t,{h:()=>r});var i=()=>s(726637);function r(){return i().A.isAdminMode}},544019:(e,t,s)=>{s.d(t,{A:()=>r});class i extends(()=>s(757695))().Store{getInitialState(){return{count:0,exportedPageCount:0}}}const r=new i},576737:(e,t,s)=>{s.d(t,{z:()=>i});s(944114),s(898992),s(354520),s(581454);class i extends(()=>s(461924))().o{constructor(e){const{users:t,initialMembershipFilter:s,initialSort:i,initialQuery:r,limit:a}=e;super([]),this._allUsers=void 0,this._filteredAndSortedUsers=[],this._currentPage=0,this._limit=void 0,this._query=void 0,this._allUsers=[...t],this._limit=a??20,this._query=void 0,this.filter=s,this.sort=i,this._query=r,this._updateFilteredAndSortedUsers(),this.refresh()}_updateFilteredAndSortedUsers(){let e=this._applyMembershipFilter(this._allUsers);this._query&&(e=this._applySearch(e)),this.sort&&(e=this._applySort(e)),this._filteredAndSortedUsers=e}_applyMembershipFilter(e){return this.filter?e.filter((e=>{var t;return e.membership_type&&(null===(t=this.filter)||void 0===t?void 0:t.includes(e.membership_type))})):e}_applySearch(e){return this._query&&0!==this._query.length?(0,s(778078).Ay)(this._query,e,(e=>{const t=[e.name,e.email];return e.aliases&&e.aliases.length>0&&t.push(...e.aliases),t.filter(Boolean).join(" ")})):e}_applySort(e){if(!this.sort)return e;const{field:t,direction:s}=this.sort,i="asc"===s?1:-1,r=e.map((e=>{let s,i;switch(t){case"name_normalized":s=this._normalizeName(e.name)||e.email.toLowerCase();break;case"type":s=this._getMembershipTypeRank(e.membership_type),i=this._normalizeName(e.name)||e.email.toLowerCase();break;case"first_joined":s=e.first_joined_space_time||0;break;default:s=null}return{user:e,sortValue:s,secondarySortValue:i}}));return r.sort(((e,s)=>{if(null===e.sortValue&&null===s.sortValue);else{if(null===e.sortValue)return Number(i);if(null===s.sortValue)return-1*i;if(e.sortValue<s.sortValue)return-1*i;if(e.sortValue>s.sortValue)return Number(i)}if("type"===t&&e.secondarySortValue&&s.secondarySortValue){if(e.secondarySortValue<s.secondarySortValue)return-1;if(e.secondarySortValue>s.secondarySortValue)return 1}return(e.user.id<s.user.id?-1:1)*i})),r.map((e=>e.user))}_normalizeName(e){return null==e?void 0:e.normalize("NFKD").toLowerCase().replace(/\p{Diacritic}/gu,"")}_getMembershipTypeRank(e){switch(e){case"owner":return 6;case"membership_admin":return 5;case"member":return 4;case"restricted_member":return 3;case"page_guest":return 2;case"none":return 1;default:return 0}}async setUsers(e){this._allUsers=[...e],this._updateFilteredAndSortedUsers(),await this.refresh()}async setFilter(e){this.filter!==e&&(this._currentPage=0,this.filter=e,this._updateFilteredAndSortedUsers(),await this.refresh())}async setSort(e){var t,s;(null===(t=this.sort)||void 0===t?void 0:t.field)===(null==e?void 0:e.field)&&(null===(s=this.sort)||void 0===s?void 0:s.direction)===(null==e?void 0:e.direction)||(this._currentPage=0,this.sort=e,this._updateFilteredAndSortedUsers(),await this.refresh())}async setQuery(e){this._query!==e&&(this._query=e,this._currentPage=0,this._updateFilteredAndSortedUsers(),await this.refresh())}async fetch(){const e=this._currentPage*this._limit,t=e+this._limit,s=this._filteredAndSortedUsers.slice(e,t),i=t<this._filteredAndSortedUsers.length;return Promise.resolve({rows:s,hasMore:i})}async loadMore(){this.isFetching||(this._currentPage++,await super.loadMore())}async refresh(){this._currentPage=0,await super.refresh()}TEST_ONLY_setLimit(e){this._limit=e}}},585428:(e,t,s)=>{s.d(t,{e:()=>i});s(16280),s(898992),s(354520);class i extends(()=>s(461924))().o{constructor({users:e,environment:t,spaceId:s,initialMembershipFilter:i,initialSort:r,initialQuery:a,limit:n}){super(e),this._spaceId=void 0,this._environment=void 0,this._cursor=void 0,this._limit=void 0,this._query=void 0,this._environment=t,this._limit=n??20,this._cursor=void 0,this._query=void 0,this._spaceId=s,this.filter=i,this.sort=r,this._query=a,this.refresh()}async setFilter(e){this.filter!==e&&(this._cursor=void 0,this.filter=e,await this.refresh())}async setSort(e){var t,s;(null===(t=this.sort)||void 0===t?void 0:t.field)===(null==e?void 0:e.field)&&(null===(s=this.sort)||void 0===s?void 0:s.direction)===(null==e?void 0:e.direction)||(this._cursor=void 0,this.sort=e,await this.refresh())}async setQuery(e){this._query!==e&&(this._query=e,this._cursor=void 0,await this.refresh())}async refresh(){this._cursor=void 0,await super.refresh()}async fetch(){return await(0,s(532313).L5)({fn:async()=>{var e,t;const{callApi:i}=await Promise.resolve().then(s.bind(s,559506)),r=s(242422).default.getConfigKey("email_alias_migration","mode");this.abortController=new AbortController;const a=await i({eventName:"listUsers",environment:this._environment,data:{cursor:this._cursor,membershipFilter:this.filter,limit:this._limit,sort:null===(e=this.sort)||void 0===e?void 0:e.field,sortDirection:null===(t=this.sort)||void 0===t?void 0:t.direction,query:this._query,spaceId:this._spaceId,includeAliasSearch:(0,s(313491).K)(r)},abortSignal:this.abortController.signal});if(this.abortController=void 0,"success"===a.type)return this._cursor=a.data.nextCursor,{rows:a.data.users,hasMore:a.data.hasMore};if("failed"===a.type&&(a.offline||429===a.status||503===a.status||504===a.status))throw new Error(`RetryableError:${a.status}`)},handleError:(e,t)=>t?{status:"throw",error:e}:{status:"retry"},retryAttemptsMS:[1e3,2e3,4e3],retryAttemptRandomOffsetMS:500,initialInput:void 0})}}},623742:(e,t,s)=>{s.d(t,{A:()=>b});var i=s(296540),r=()=>s(56366),a=()=>s(310442),n=()=>s(824862),o=()=>s(848538),l=()=>s(798880),d=()=>s(69708),c=()=>s(534177),p=()=>s(231704),u=()=>s(256863),m=()=>s(125565),g=()=>s(453697),f=()=>s(765957),h=s(474848);function v(e){const{actorStore:t,avatar:s,isLarge:i}=e,r=i?32:28;return t?t.table===n().GP?(0,h.jsx)(u().A,{botStore:t,size:r}):t.table===l().oo?(0,h.jsx)(g().A,{userStore:t,size:r}):t.table===a().yj?(0,h.jsx)(g().A,{userStore:void 0,size:r}):void(0,c().HB)(t):s?(0,h.jsx)(g().A,{avatar:s,size:r}):(0,h.jsx)(g().A,{userStore:void 0,size:r})}const b=function(e){const t=(0,d().tz)(),{actorStore:a,avatar:n,containerStyle:c,id:u,spaceRole:g,avatarBadge:b,caption:x,isLarge:y,restorationStatus:S,hideRolePill:M}=e,_=(0,r().O$)(f().AppStoreSidebarSpaceStore),A=(0,s(646736).V_)({spaceStore:_,userId:null==a?void 0:a.id}),w=g??A,I="page_guest"===w||"none"===w||"team_level_guest"===w,j=(0,r().K8)((()=>a?a.getDisplayName(t):null==n?void 0:n.name),[a,n,t]),T=(0,r().K8)((()=>{const{currentUserStore:e}=f().default.state;return!!e&&(!!a&&e.id===a.id)}),[a]),C=(0,s(401497).IS)((e=>({titleYouIndicator:{color:e.text.secondary}})),[]),k=(0,r().K8)((()=>Boolean(x)?x:a?a.getDetail():null==n?void 0:n.email),[x,a,n]),[P,L]=(0,i.useState)(!1);return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",maxWidth:y?"unset":300,marginInlineStart:0,...c},children:[(0,h.jsxs)("div",{style:{position:"relative",...!y&&{height:28,width:28}},children:[(0,h.jsx)(v,{actorStore:a,avatar:n,isLarge:y}),b]}),(0,h.jsxs)("div",{style:{minWidth:0,marginInlineStart:y?10:6,marginInlineEnd:y?10:6},children:[(0,h.jsxs)("div",{id:u,style:{display:"flex",gap:4},children:[(0,h.jsx)(m().A,{children:T?(0,h.jsx)(d().sA,{id:"cellMemberAvatar.displayName.title",defaultMessage:"{userFullDisplayName} <youIndicatorText>(You)</youIndicatorText>",values:{userFullDisplayName:j,youIndicatorText:e=>(0,h.jsx)("span",{style:C.titleYouIndicator,children:e})}}):j}),function(e){if(!M&&void 0!==e)return"team_level_guest"===e?(0,h.jsx)(p().w,{labelType:e}):(0,o().LF)(e)?(0,h.jsx)(s(901791).l,{role:e}):(0,o().GN)(e)?(0,h.jsx)(s(313171).L,{}):(0,o().MN)(e)?void 0:(0,h.jsx)(p().w,{labelType:e})}(w),_&&S?(0,h.jsx)(s(881753).A,{spaceStore:_,restorationStatus:S,didAttemptRecovery:P}):void 0]}),(0,h.jsx)(m().A,{isSmall:!0,style:{display:"flex"},children:(0,h.jsx)(m().A,{isSmall:!0,children:k})})]}),!I&&!P&&_&&(null==a?void 0:a.table)===l().oo&&j&&"canBeRestored"===(null==S?void 0:S.status)?(0,h.jsx)(s(266324).A,{userStore:a,spaceId:_.id,onSubmit:()=>L(!0)}):void 0]})}},709062:(e,t,s)=>{s.d(t,{C_:()=>p,Iu:()=>g,MG:()=>m});s(296540);var i=()=>s(340498),r=s(474848);const a={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:"16",height:"16",x:"2",y:"2",fill:"#039",rx:"8"}),(0,r.jsx)("rect",{width:"15",height:"15",x:"2.5",y:"2.5",stroke:"#544831",strokeOpacity:".15",rx:"7.5",fill:"#039"}),(0,r.jsx)("path",{fill:"#FC0",d:"m10 4 .168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545L10 4ZM10 14.5l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545L10 14.5ZM15.25 9.063l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM4.75 9.063l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM7.422 4.75l.168.518h.545l-.44.32.168.519-.441-.32-.441.32.168-.518-.44-.32h.544l.169-.519ZM7.422 13.532l.168.518h.545l-.44.32.168.518-.441-.32-.441.32.168-.518-.44-.32h.544l.169-.518ZM12.578 4.75l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.519ZM12.578 13.532l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM5.5 6.547l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.519-.441-.32h.545l.168-.518ZM5.5 11.579l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM14.5 6.547l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.519-.441-.32h.545l.168-.518ZM14.5 11.579l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518Z"})]})},n=(0,i().wt)("flagEu",a),o={viewBox:"0 0 20 20",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",rx:"8",fill:"#D9D9D9"}),(0,r.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5",stroke:"#544831",strokeOpacity:"0.15",fill:"#D9D9D9"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10H2C2 9.105 2.1488 8.24494 2.41992 7.44141L2.83008 7.73926L2.49316 8.77637L3.375 8.13574L4.25684 8.77637L3.91992 7.73926L4.80176 7.09863H3.71191L3.375 6.0625L3.03809 7.09863H2.54492C3.20107 5.41387 4.41027 4.00679 5.95117 3.10059L6.83008 3.73926L6.49316 4.77637L7.375 4.13574L8.25684 4.77637L7.91992 3.73926L8.80176 3.09863H7.71191L7.48633 2.4043C8.27693 2.1428 9.12173 2 10 2V10ZM7.03809 7.09863H5.94824L6.83008 7.73926L6.49316 8.77637L7.375 8.13574L8.25684 8.77637L7.91992 7.73926L8.80176 7.09863H7.71191L7.375 6.0625L7.03809 7.09863Z",fill:"#0052B4"}),(0,r.jsx)("path",{d:"M7.03809 3.09863H5.95508C6.3607 2.86038 6.7881 2.65494 7.23535 2.49023L7.03809 3.09863Z",fill:"#0052B4"}),(0,r.jsx)("path",{d:"M16.9268 14C16.4911 14.7529 15.9373 15.4281 15.2891 16H4.71094C4.06269 15.4281 3.50893 14.7529 3.07324 14H16.9268Z",fill:"#D80027"}),(0,r.jsx)("path",{d:"M18 10C18 10.6906 17.9126 11.3608 17.748 12H2.25195C2.08743 11.3608 2 10.6906 2 10H18Z",fill:"#D80027"}),(0,r.jsx)("path",{d:"M10 6H16.9268C17.2852 6.61938 17.5653 7.28996 17.748 8H10V6Z",fill:"#D80027"}),(0,r.jsx)("path",{d:"M10 2C12.0282 2 13.879 2.75604 15.2891 4H10V2Z",fill:"#D80027"})]})},l=(0,i().wt)("flagUsa",o);var d=()=>s(69708),c=()=>s(534177);function p(){return(0,r.jsx)(d().sA,{id:"organization.workspaceSettings.locked.tooltip",defaultMessage:"This setting is being managed by your organization."})}const u=(0,d().YK)({"us-west-2":{id:"organization.dataResidency.location.us",defaultMessage:"United States"},"eu-central-1":{id:"organization.dataResidency.location.eu",defaultMessage:"Europe"},unknown:{id:"organization.dataResidency.location.unknown",defaultMessage:"N/A"}});function m(e){switch(e){case"us-west-2":case"eu-central-1":return u[e];case void 0:return u.unknown;default:(0,c().HB)(e)}}function g(e){switch(e){case"us-west-2":return l;case"eu-central-1":return n;default:(0,c().HB)(e)}}},736501:(e,t,s)=>{s.d(t,{f:()=>i});const i=28*s(720665).nD},762286:(e,t,s)=>{s.d(t,{A:()=>r});class i extends(()=>s(757695))().Store{getInitialState(){return{recentRecoverableUsers:[],searchQuery:void 0}}}const r=new i},766343:(e,t,s)=>{s.d(t,{A:()=>r});class i extends(()=>s(757695))().Store{getInitialState(){return{open:!1,focus:"none"}}open(){this.setState({open:!0,focus:"none"})}close(){this.setState({open:!1,focus:"none"})}}const r=new i},786251:(e,t,s)=>{s.d(t,{jo:()=>ue,gz:()=>ce,K:()=>me});var i=s(296540),r=()=>s(484714),a=()=>s(56366),n=()=>s(401497),o=()=>s(699143),l=()=>s(396896),d=()=>s(373009),c=()=>s(721479),p=()=>s(69708),u=()=>s(284371),m=()=>s(278768),g=()=>s(492666),f=()=>s(559506),h=()=>s(884107),v=()=>s(901389),b=()=>s(27579),x=()=>s(601866),y=()=>s(231297),S=()=>s(232930),M=()=>s(551732);var _=()=>s(152197),A=()=>s(240865),w=()=>s(359941),I=()=>s(224701),j=()=>s(564884),T=()=>s(852507),C=()=>s(631524),k=()=>s(160432),P=()=>s(72563),L=()=>s(427704),E=()=>s(469779),D=()=>s(166386),R=()=>s(496414),U=()=>s(471995),F=()=>s(661764),N=()=>s(347930),B=()=>s(665381),V=()=>s(369955),O=()=>s(804006),z=()=>s(406999),K=()=>s(749356),W=()=>s(324561),q=()=>s(30858),G=()=>s(857353),H=()=>s(821705),Y=()=>s(272407),Z=()=>s(911964),Q=()=>s(208993),X=s(474848);function $(){const e=(0,r().v3)(),t=(0,_().r)(),s=(0,A().V)()??0;(0,T().w)((()=>{(0,H().P)(e,s)}));const i=(0,a().K8)((()=>(0,Y().C)("expansion_offer")),[]),n=Math.max(E().x-i,0),o=(0,a().K8)((()=>{if(t){return void 0!==O().I.getData(e,{spaceId:t,offerCampaign:"expansion_offer"})}}),[e,t]);return(0,a().K8)((()=>(0,q().a7)("expansion_offer")),[])?null:(0,X.jsx)("div",{style:{marginBottom:16},children:o?(0,X.jsx)(ee,{}):(0,X.jsx)(J,{remainingMembers:n})})}function J({remainingMembers:e}){const t=(0,p().tz)(),s=(0,V().L)(),n=(0,r().v3)();(0,T().w)((()=>{(0,j().u)({environment:n,event:{eventName:"viewed_offer_banner",eventProperties:{source:"expansion_offer_banner",type:"default"}}})}));const o=(0,i.useMemo)((()=>(0,z().nc)()),[]),l=(0,a().K8)((()=>o.state.modalOpen),[o]),d=(0,i.useCallback)((()=>{const e=(0,p().YK)({invitingMembers:{id:"sidebarFooter.inviteMember.loadingMessage",defaultMessage:"Updating…"}});R().m({message:e.invitingMembers})}),[]),c=(0,i.useCallback)(((e,t)=>{R().V();const s=e?(0,X.jsx)(p().sA,{id:"sidebarFooter.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,X.jsx)(p().sA,{id:"sidebarFooter.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});U().D6({label:s})}),[]),u=(0,G().q)("expansion_offer_banner",o);return 0===e?null:(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(F().l,{display:"inline-compact",tint:"gray",staticIcon:P().priceTagFillIcon,iconColor:"blue",label:t.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.label",defaultMessage:"Add {remainingMembers, select, 3 {3 teammates} other {{remainingMembers, plural, one {# more teammate} other {# more teammates}}}} and get 50% off Business for a month"},{remainingMembers:e}),actions:[{label:t.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.button.text",defaultMessage:"Invite Teammates"}),onClick:()=>u()}]}),l&&s?(0,X.jsx)(N().H,{targetStore:s,spaceStore:s,permissionsInviteStore:o,membersOnly:!0,shouldGrow:!1,origin:(0,X.jsx)(X.Fragment,{}),disabled:!1,isSubscribed:!1,upgradeButtonName:"expansion_offer_banner",onInviteClick:d,onInviteComplete:c,analyticsFrom:"expansion_offer_banner"}):null]})}function ee(){const e=(0,p().tz)(),t=(0,r().v3)(),s=(0,V().L)(),n=(0,W()._3)({spaceId:null==s?void 0:s.id}),l=(0,a().K8)((()=>s?(0,B().G)(t,s):void 0),[t,s]);(0,T().w)((()=>{(0,j().u)({environment:t,event:{eventName:"viewed_offer_banner",eventProperties:{source:"expansion_offer_banner",type:"redemption"}}})}));const d=(0,i.useCallback)((()=>{s&&((0,j().u)({environment:t,event:{eventName:"click_redeem_offer",eventProperties:{source:"expansion_offer_banner"}}}),(0,Z().F)({environment:t,spaceStore:s,billingData:n,product:"business",from:"expansion_offer_banner",offer:(0,D().Pz)("expansion_offer")}))}),[t,s,n]);return(0,X.jsx)(F().l,{display:"inline",tint:"gray",staticIcon:P().priceTagFillIcon,iconColor:"blue",label:e.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.reward.label",defaultMessage:"You've added 3+ new members to {hasName, select, true {{name}} other {your workspace}}"},{name:l,hasName:Boolean(l)}),description:(0,X.jsxs)(o().Y1,{direction:"horizontal",gap:2,align:"center-left",children:[e.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.reward.description",defaultMessage:"Get 50% off Business for one month, including advanced AI and premium features"}),"  ",(0,X.jsx)(Q().W,{tooltipTitle:e.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.reward.tooltip.title",defaultMessage:"Learn more"}),buttonProps:{href:L().JZ.notionExpansionOfferTerms,external:!0},iconSize:"default",iconColorVariant:"tertiary"})]}),actions:[{isCustom:!0,render:()=>(0,X.jsx)(k().A,{colorPalette:"blue",onClick:()=>{d()},children:e.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.redeem.button.text",defaultMessage:"Redeem Offer"})})},{isCustom:!0,render:()=>(0,X.jsx)(C().p,{colorPalette:"gray",onClick:()=>{(0,j().u)({environment:t,event:{eventName:"dismiss_offer_banner",eventProperties:{source:"expansion_offer_banner"}}}),(0,K().FR)(t,"expansion_offer")},children:e.formatMessage({id:"spacePermissionsSettings.spaceMembers.inviteLink.expansion.dismiss.button.text",defaultMessage:"Dismiss"})})}]})}var te=()=>s(802790),se=()=>s(285790),ie=()=>s(581369),re=()=>s(125565),ae=()=>s(719147),ne=()=>s(8178),oe=()=>s(288864),le=()=>s(792223),de=()=>s(301863);function ce({spaceStore:e}){const t=ge(),s=(0,r().v3)(),a=(0,i.useCallback)((()=>{(0,b().L)({environment:s,url:(0,S().x)("guides.invitePerson")})}),[s]),n=(0,p().tz)(),o=(0,w().V)({spaceStore:e});return(0,X.jsxs)(ne().A,{divider:"none",large:!0,style:t.headingStyle,children:[(0,X.jsxs)("div",{children:[(0,X.jsx)(p().sA,{id:"spacePermissionsSettings.people.common.title",defaultMessage:"People"}),(0,X.jsx)(se().A,{onClick:a,icon:c().questionMarkCircleSmallIcon,ariaLabel:n.formatMessage({id:"spacePermissionsSettings.people.common.iconButton.ariaLabel",defaultMessage:"Learn more about inviting people"})})]}),o?(0,X.jsx)(de().$,{}):void 0]})}function pe({spaceStore:e,inviteLink:t,spacePermissionsSettingsStore:s}){const i=(0,r().v3)(),n=ge(),l=(0,a().K8)((()=>Boolean(e.getInviteLinkEnabled())),[e]);return(0,X.jsxs)("div",{style:n.inviteLinkSection,children:[(0,X.jsxs)("div",{style:{marginInlineEnd:8,flexGrow:1},children:[(0,X.jsx)(ne().A,{smallMarginBottom:!0,children:(0,X.jsx)(p().sA,{id:"spacePermissionsSettings.spaceMembers.inviteLink.description",defaultMessage:"Invite link to add members"})}),(0,X.jsx)(re().A,{isSmall:!0,isMultiline:!0,style:{marginTop:0,width:"85%"},children:s&&l&&t?(0,X.jsx)(ue,{spaceStore:e}):(0,X.jsx)(p().sA,{id:"spacePermissionSettings.spaceMembers.inviteLink.caption.v2",defaultMessage:"Only people with permission to invite members can see this."})})]}),(0,X.jsx)("div",{style:{minWidth:130},children:(0,X.jsxs)(o().Y1,{gap:16,align:"center-right",direction:"horizontal",children:[s&&l&&t?(0,X.jsx)(d().E,{colorPalette:"blue",onClick:()=>{!async function({environment:e,inviteLinkUrl:t}){const s=await h().R.clipboardActions.load();s.copyString({environment:e,stringValue:t,copiedMessage:s.clipboardMessages.copiedLinkToClipboard}),(0,g().b)(e)}({environment:i,inviteLinkUrl:t})},children:(0,X.jsx)(p().sA,{id:"spacePermissionsSettings.spaceMembers.inviteLink.copyButton",defaultMessage:"Copy link"})}):void 0,(0,X.jsx)(ie().A,{on:l,onClick:()=>{!function({environment:e,spaceStore:t,inviteLinkEnabled:s}){const i=!s;m().OE(e,{enabled:i}),y().createAndCommit({userAction:"SpacePermissionsSettings.handleInviteLinkClick",environment:e,canUndo:!0,perform:e=>{x().Xk({transaction:e,spaceStore:t,inviteLinkEnabled:Boolean(i)})}})}({environment:i,spaceStore:e,inviteLinkEnabled:l})}})]})})]})}function ue({spaceStore:e,organizationId:t,showBlueLink:s}){const a=(0,r().v3)(),n=(0,i.useCallback)((()=>{v().ui({message:(0,X.jsx)(p().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.description",defaultMessage:"Are you sure you want to reset the invite link for all space members? Your old one will no longer be able to be used."}),showCancel:!0,keepFocus:!1,handleCancel:v().zw,items:[{label:(0,X.jsx)(p().sA,{id:"spacePermissionsSettings.inviteLinkRefreshModal.accept",defaultMessage:"Reset"}),color:"red",onAccept:async()=>{await f().callApi({eventName:"refreshInviteLink",environment:a,data:{spaceId:e.id,organizationId:t}}),I().x(a)}}]})}),[a,e.id,t]);return(0,X.jsx)(p().sA,{id:"spacePermissionSettings.spaceMembers.inviteLink.resetLink.v2",defaultMessage:"Only people with permission to invite members can see this. You can also <resetlink>generate a new link</resetlink>",values:{resetlink:e=>s?(0,X.jsx)(oe()._,{onClick:n,children:e}):(0,X.jsx)(ae().A,{onClick:n,children:e})}})}function me({spaceStore:e,inviteLinkCode:t,spacePermissionsSettingsStore:s}){const i=(0,r().v3)(),n=(0,a().K8)((()=>function({environment:e,spaceStore:t,inviteLinkCode:s}){if(void 0===s)return;const i=t.id;return(0,M().X)(e,i,s)}({spaceStore:e,environment:i,inviteLinkCode:t})),[e,t,i]),o=(0,le().Gg)({spaceStore:e})&&n,d=(0,A().V)()??1,c=(0,_().r)(),p=(0,W()._3)({spaceId:c}),u=(0,a().K8)((()=>(0,Y().d)({memberCount:d,billingData:p,spaceId:c,environment:i})),[d,p,i,c]);return(0,X.jsxs)(l().VP,{marginTop:16,children:[u?(0,X.jsx)($,{}):void 0,o?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(pe,{spaceStore:e,inviteLink:n,spacePermissionsSettingsStore:s}),(0,X.jsx)(te().A,{size:40,colorVariant:"secondary"})]}):null]})}function ge(){return(0,n().IS)((()=>({inviteLinkSection:{display:"flex",alignItems:"center"},headingStyle:{marginBottom:0,paddingBottom:0,fontSize:16,fontWeight:u().Wy.medium,display:"flex",justifyContent:"space-between",alignItems:"center"}})),[])}},792223:(e,t,s)=>{s.d(t,{BV:()=>u,CR:()=>x,Gg:()=>b,k4:()=>h,r1:()=>f,rl:()=>m,t1:()=>g,tU:()=>y,zh:()=>v});var i=()=>s(484714),r=()=>s(56366),a=()=>s(187174),n=()=>s(979340),o=()=>s(559506),l=()=>s(901389),d=()=>s(397103),c=()=>s(134217),p=()=>s(762286);function u({spaceStore:e,members:t}){const s=f({spaceStore:e}),r=(0,i().v3)(),n=e.id,[d]=(0,a().Yb)((async()=>{if(!s)return;const e=await o().callApi({eventName:"getRecentlyRemovedUsers",environment:r,data:{spaceId:n}});if("failed"===e.type)throw l().Qg(e),e;return e.data.recentlyRemovedMembers}),[n,r,s,t]);return d.value}function m({spaceStore:e,subscriptionData:t}){const s=g({spaceStore:e,subscriptionData:t}),r=(0,i().v3)();(0,a().Yb)((async()=>{if(!s)return;const t=await o().callApi({eventName:"getRecoverableSpaceUserContent",environment:r,data:{spaceId:e.id}});if("failed"===t.type)throw t;const i=t.data.recentSpaceRecoverPages;return p().A.setState({...p().A.state,recentRecoverableUsers:i}),i}),[e,r,s])}function g({spaceStore:e,subscriptionData:t}){return(0,r().K8)((()=>e.canAdmin()&&n().OX(t.subscriptionTier)),[t,e])}function f({spaceStore:e}){return(0,r().K8)((()=>e.canAdmin()),[e])}function h({spaceStore:e}){return(0,r().K8)((()=>!!e&&e.canEditMembership()),[e])}function v(){const e=(0,i().v3)();return(0,r().K8)((()=>c().vl(e)),[e])}function b({spaceStore:e}){const t=(0,d().h)();return(0,r().K8)((()=>(null==e?void 0:e.canEditMembership())&&t),[e,t])}function x({spaceStore:e}){const t=(0,d().h)();return(0,r().K8)((()=>null==e?void 0:e.canAdmin()),[e])&&t}function y({spaceStore:e}){const t=(0,d().h)();return(0,r().K8)((()=>null==e?void 0:e.canAdmin()),[e])&&t}},823541:(e,t,s)=>{s.d(t,{V:()=>l});s(296540);var i=()=>s(699143),r=()=>s(252291),a=()=>s(493552),n=()=>s(204330),o=s(474848);function l(e){const{icon:t,title:s,description:l,secondaryDescription:d,source:c,...p}=e;return(0,o.jsxs)(i().Y1,{align:"center",padding:"20px 0px",gap:6,width:340,children:[(0,o.jsx)(r().I,{icon:t,size:"xl",colorVariant:"tertiary"}),(0,o.jsxs)(i().Y1,{align:"center",gap:16,children:[(0,o.jsxs)(i().Y1,{align:"center",gap:2,children:[(0,o.jsx)(a().D,{styleKey:"Body/Medium",colorVariant:"secondary",children:s}),(0,o.jsx)("span",{style:{textAlign:"center",textWrap:"balance"},children:(0,o.jsx)(a().D,{styleKey:"Body/Regular",colorVariant:"secondary",children:l})}),d?(0,o.jsx)(a().D,{styleKey:"Body/Regular",colorVariant:"tertiary",children:d}):null]}),(0,o.jsx)(n().R,{display:"button",width:"hug",source:c,...p})]})]})}},824011:(e,t,s)=>{s.d(t,{x:()=>l});s(296540);var i=()=>s(484714),r=()=>s(884107),a=()=>s(719147),n=()=>s(859428),o=s(474848);function l({tooltip:e,text:t}){const s=(0,i().v3)();return(0,o.jsx)(n().A,{delayThreshold:0,renderTooltip:()=>e,render:e=>(0,o.jsx)(a().A,{onClick:async()=>{const e=await r().R.clipboardActions.load();e.copyString({environment:s,stringValue:t,copiedMessage:e.clipboardMessages.copiedPropertyToClipboard})},...e,children:t})})}},835607:(e,t,s)=>{s.d(t,{F:()=>r});s(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"0.85 2.79 18.76 14.42",svg:(0,s(474848).jsx)("path",{d:"M11.794 3.936c.57-.71 1.414-1.141 2.456-1.141s1.886.43 2.456 1.14c.558.696.823 1.618.823 2.582s-.265 1.885-.823 2.58c-.57.71-1.414 1.141-2.456 1.141s-1.886-.43-2.456-1.14c-.558-.696-.823-1.618-.823-2.581 0-.964.265-1.886.823-2.581m.975.782c-.341.426-.548 1.052-.548 1.799s.207 1.373.548 1.798c.33.41.813.673 1.481.673s1.152-.262 1.481-.673c.342-.425.548-1.051.548-1.798s-.206-1.373-.548-1.799c-.33-.41-.813-.673-1.48-.673-.669 0-1.152.263-1.482.673M5.75 3.625c-.956 0-1.734.396-2.259 1.05-.513.64-.755 1.484-.755 2.362s.242 1.723.755 2.362c.525.654 1.303 1.05 2.26 1.05s1.733-.396 2.258-1.05c.513-.64.755-1.484.755-2.362s-.242-1.723-.755-2.362c-.525-.654-1.302-1.05-2.259-1.05M3.986 7.037c0-.661.184-1.21.48-1.58.285-.354.702-.582 1.284-.582s1 .228 1.284.582c.297.37.48.919.48 1.58s-.183 1.21-.48 1.58c-.284.354-.701.582-1.284.582-.582 0-1-.228-1.284-.583-.296-.37-.48-.918-.48-1.579m-.948 8.918h4.69c.114.467.337.894.634 1.25H3.038c-.68 0-1.327-.286-1.742-.764-.432-.498-.606-1.209-.265-1.92.823-1.72 2.636-2.896 4.72-2.896 1.128 0 2.178.346 3.034.936a6.6 6.6 0 0 0-.681 1.05 4.1 4.1 0 0 0-2.354-.736c-1.611 0-2.98.908-3.592 2.186-.1.21-.063.393.082.56.161.186.456.334.798.334M14.25 11.21c-2.334 0-4.354 1.36-5.202 3.323-.309.715-.125 1.419.309 1.912.418.476 1.064.76 1.743.76h6.3c.68 0 1.325-.284 1.744-.76.433-.493.617-1.197.308-1.912-.848-1.963-2.868-3.324-5.202-3.324m-4.054 3.818c.645-1.494 2.207-2.569 4.054-2.569s3.409 1.075 4.055 2.57a.52.52 0 0 1-.1.59c-.166.19-.462.336-.805.336h-6.3c-.342 0-.638-.146-.805-.336a.52.52 0 0 1-.1-.59"})},r=(0,s(340498).wt)("people",i)},857353:(e,t,s)=>{s.d(t,{q:()=>p});var i=s(296540),r=()=>s(484714),a=()=>s(56366),n=()=>s(134696),o=()=>s(47373),l=()=>s(272509),d=()=>s(369955),c=()=>s(766343);function p(e,t){const s=(0,r().v3)(),p=(0,d().L)(),{showMembersButton:u,canRequestMembers:m}=(0,a().K8)((()=>{if(!p||(0,l().I)(p)||!t)return{showMembersButton:!1,canRequestMembers:!1};const e=!p.canEditMembership()&&!p.getDisableMembershipRequests()&&(0,o().x3)();return{showMembersButton:p.canEditMembership()||e,canRequestMembers:e}}),[p,t]);return(0,i.useCallback)((()=>{p&&u&&(p.canEditMembership()&&(null==t||t.setState({...t.state,modalOpen:!0}),n().vX(s,{type:"invite",from:e})),m&&(c().A.open(),n().vX(s,{type:"request",from:e})))}),[p,u,m,t,s,e])}},881753:(e,t,s)=>{s.d(t,{A:()=>g});s(296540);var i=()=>s(662303),r=()=>s(56366),a=()=>s(401497),n=()=>s(970236),o=()=>s(869190),l=()=>s(69708),d=()=>s(284371),c=()=>s(448291),p=()=>s(859428),u=()=>s(125565),m=s(474848);function g({spaceStore:e,restorationStatus:t,didAttemptRecovery:s}){const i=h();return(0,m.jsx)(p().A,{placement:"bottom",renderTooltip:()=>(0,m.jsx)(f,{spaceStore:e,restorationStatus:t,didAttemptRecovery:s}),render:e=>(0,m.jsx)("div",{...e,children:(0,m.jsx)(n().E,{content:(0,m.jsx)(u().A,{style:i.recentlyReaddedText,children:(0,m.jsx)(l().sA,{id:"userCell.recentlyReadded.label",defaultMessage:"Recently re-added"})}),style:i.recentlyReaddedBadge})})})}function f({spaceStore:e,restorationStatus:t,didAttemptRecovery:s}){const a=h(),{displayName:n,displayTime:d}=function({spaceStore:e,restorationStatus:t}){const s="restored"===t.status?{table:t.restoredByTable,id:t.restoredById,spaceId:e.id}:void 0,a=s?(0,c().JQ)({parentStore:e,pointer:s}):void 0,n=(0,l().tz)(),d=(0,r().K8)((()=>null==a?void 0:a.getDisplayName(n)),[a,n]),p="restored"===t.status?(0,o().W_)(t.restoredTime,"medium_with_time",i().locale):void 0;return{displayName:d,displayTime:p}}({spaceStore:e,restorationStatus:t});return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{style:a.tooltipFirstLine,children:(0,m.jsx)(l().sA,{id:"userCell.recentlyReaddedTooltip.label",defaultMessage:"Member was removed and re-added within the last 30 days"})}),s?(0,m.jsx)("div",{style:a.tooltipSecondLine,children:(0,m.jsx)(l().sA,{id:"userCell.recentlyReaddedTooltip.inProgress.description",defaultMessage:"Restoration of access is in progress",values:{displayName:n,displayTime:d}})}):void 0,!s&&n&&d?(0,m.jsx)("div",{style:a.tooltipSecondLine,children:(0,m.jsx)(l().sA,{id:"userCell.recentlyReaddedTooltip.description",defaultMessage:"{displayName} restored their access on {displayTime}",values:{displayName:n,displayTime:d}})}):void 0]})}function h(){return(0,a().IS)((e=>({recentlyReaddedBadge:{background:e.blue.background.secondary,marginInlineStart:0,maxWidth:"max-content"},recentlyReaddedText:{color:e.blue.text.primary,fontSize:d().J.UISmall.desktop,fontStyle:"normal",fontWeight:400,lineHeight:"15px"},tooltipFirstLine:{color:e.text.inversePrimary,fontWeight:d().Wy.semibold},tooltipSecondLine:{color:e.text.inverseSecondary}})),[])}},901791:(e,t,s)=>{s.d(t,{l:()=>n});s(296540);var i=()=>s(970236),r=()=>s(69708),a=s(474848);function n(e){return(0,a.jsx)(i().E,{style:{textWrap:"nowrap"},content:"membership_admin"===e.role?(0,a.jsx)(r().sA,{id:"spacePermissionsSettings.user.membershipAdmin",defaultMessage:"Membership admin"}):(0,a.jsx)(r().sA,{id:"spacePermissionsSettings.user.workspaceOwner",defaultMessage:"Workspace owner"})})}}}]);