(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[35191,65213,74688,92754],{12314:(e,t,i)=>{"use strict";i.d(t,{rD:()=>c,tl:()=>f,qo:()=>m,x2:()=>g,QB:()=>v,gE:()=>p,sf:()=>d,pO:()=>u,vP:()=>l});var n=()=>i(645873),r=()=>i(56366),o=()=>i(131448),a=()=>i(717250),s=()=>i(481411);function l(){return(0,r().K8)((()=>o().default.isVisible(a().l)&&"topbar_more_button"===s().k.state.currentStep),[])}function u(){return(0,r().K8)((()=>o().default.isVisible(a().l)&&"available_offline_item"===s().k.state.currentStep),[])}const d=new(n().O2)("offlineOnboarding",(()=>Promise.all([i.e(75134),i.e(44711),i.e(53321),i.e(15499)]).then(i.bind(i,821508)))),c=(0,n()._h)(d,(e=>e.MaybeOfflineModeLaunchModal)),f=(0,n()._h)(d,(e=>e.OfflineModeLaunchModal)),g=(0,n()._h)(d,(e=>e.OfflineModeSidebarCallout)),p=(0,n()._h)(d,(e=>e.OfflinePagesListener)),v=(0,n()._h)(d,(e=>e.OfflineModeTopbarTooltip)),m=(0,n()._h)(d,(e=>e.OfflineModeMenuItemTooltip))},37458:(e,t,i)=>{e.exports=i(708009)},51367:(e,t,i)=>{"use strict";i.d(t,{Cu:()=>f,DL:()=>a,Jb:()=>u,Sq:()=>l,Y5:()=>s,gc:()=>c,wo:()=>d});var n=()=>i(564884),r=()=>i(242422),o=()=>i(917629);function a(e,t){const i=(0,o().h2)(t.callout_key);i&&(t.placement_key=(0,o().t9)(i)),(0,n().u)({environment:e,event:{eventName:"callout_show",eventProperties:{...t,callout_src:i?"static":"cio"}}}),r().default.logEvent("callout_show",t.callout_key)}function s(e,t){const i=(0,o().h2)(t.callout_key);i&&(t.placement_key=(0,o().t9)(i)),(0,n().u)({environment:e,event:{eventName:"callout_click",eventProperties:{...t,callout_src:i?"static":"cio"}}}),r().default.logEvent("callout_click",t.callout_key)}function l(e,t){const i=(0,o().h2)(t.callout_key);i&&(t.placement_key=(0,o().t9)(i)),(0,n().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:{...t,callout_src:i?"static":"cio"}}}),r().default.logEvent("callout_dismiss",t.callout_key)}function u(e,t){const i=(0,o().h2)(t.callout_key);i&&(t.placement_key=(0,o().t9)(i)),(0,n().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:{...t,callout_src:i?"static":"cio"}}})}function d(e,t){const{eligible_callouts:i,required_arg_timeout:r,required_args_run_duration:o,eligibility_timeouts:a,blocklist:s}=t;(0,n().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:i,required_arg_timeout:r,required_args_run_duration:o,eligibility_timeouts:a,blocklist:s}}})}function c(e,t){(0,n().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}function f(e,t){(0,n().u)({environment:e,event:{eventName:"callout_skipped",eventProperties:t}})}},63728:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});class n extends(()=>i(757695))().Store{getInitialState(){return null}}const r=new n},97065:(e,t,i)=>{"use strict";i.d(t,{DH:()=>o});var n=()=>i(61844);const r=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function o(e){return r.includes(e)||n().FN.includes(e)}},240865:(e,t,i)=>{"use strict";i.d(t,{V:()=>o});var n=()=>i(56366),r=()=>i(765957);function o(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=r().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},271084:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});i(581454);class n extends(()=>i(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort((([e,t],[i,n])=>n-t)).map((([e,t])=>e))}}const r=new n;(0,i(852832).exposeDebugValue)("UserSimilarityStore",r)},272407:(e,t,i)=>{"use strict";i.d(t,{C:()=>l,d:()=>u});i(898992),i(672577);var n=()=>i(762433),r=()=>i(979340),o=()=>i(765957),a=()=>i(804006),s=()=>i(807778);function l(e){var t;const i=o().default.state.sidebarSpaceStore;return(null==i||null===(t=i.getSettings().offer_member_count)||void 0===t||null===(t=t.find((t=>t.campaign===e)))||void 0===t?void 0:t.membersAdded)??0}function u({memberCount:e,billingData:t,spaceId:i,environment:o}){if(!e||!t||!i)return!1;if(!(0,r().dL)((0,n().AI)(t)))return!1;if(e>10||e<2)return!1;return!!a().I.getData(o,{spaceId:i,offerCampaign:"expansion_offer",checkOnlyGeneralEligibility:!0})&&(0,s().Nu)()}},295434:(e,t,i)=>{"use strict";i.r(t),i.d(t,{iconDefinition:()=>n,zendeskIcon:()=>r});i(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1 3.14 18.01 13.71",svg:(0,i(474848).jsx)("path",{fill:"#000",d:"M9.298 6.778v10.073H1zm0-3.633a4.16 4.16 0 0 1-4.17 4.17C2.817 7.315 1 5.457 1 3.145zm1.363 13.665a4.16 4.16 0 0 1 4.17-4.17A4.16 4.16 0 0 1 19 16.81zm0-3.592V3.145H19z"})},r=(0,i(340498).wt)("zendesk",n)},404802:(e,t,i)=>{"use strict";i.d(t,{$$:()=>a,D9:()=>s});var n=()=>i(534177),r=()=>i(130382),o=()=>i(762433);function a(e){return"business_trial_non_conversion"===e}function s(e){const t=function(e){const{offerCampaign:t,space:i,offerMetadata:a,billingData:s}=e;if("business_trial_non_conversion"===t){const e=null==i?void 0:i.getSetting("biz_offer_aversion_rejected_time");if(!e)return{isEligible:!1,ineligibleReasons:[{reason:"No record of rejecting initial business offer."}]};const t=(0,o().DS)(s).toMillis(),n=(0,r().Mn)(e,t),l=a.post_biz_trial_coupon_eligible_days,u=l-n;return u<=0?{isEligible:!1,ineligibleReasons:[{reason:"Time limit has passed for offer.",extra:{daysSinceOfferStarted:n,totalEligibleDays:l,daysLeft:u}}]}:{isEligible:!0,daysRemaining:u}}(0,n().HB)(t)}(e);return t.isEligible?t.daysRemaining??null:null}},481411:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});const n=["topbar_more_button","available_offline_item"];class r extends(()=>i(757695))().Store{getInitialState(){return{currentStep:n[0],numSteps:n.length}}nextStep(){const e=n.indexOf(this.state.currentStep);e>=this.state.numSteps-1||this.setState({...this.state,currentStep:n[e+1]})}reset(){super.reset()}}const o=new r},529803:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});class n extends(()=>i(757695))().Store{}const r=new n},678894:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var n=()=>i(604995);class r extends(()=>i(757695))().Store{getInitialState(){return{uploadingProfilePhoto:!1,name:"",startDayOfWeek:(0,n().Lm)(),accountSettings:{hasPassword:!1,canConfigurePassword:!1,isSamlEnforced:!1,mfaStatus:"loading",numMfaSettings:0,regenerateBackupCodes:!1,hasPasskeys:!1,error:void 0}}}getValueForUser(e,t,i){if(e.isDefined()){const r=e.getFullName(i),o=e.getProfilePhoto(),a=t.getSettings();return{...this.state,uploadingProfilePhoto:!1,profilePhoto:o,name:r||"",startDayOfWeek:void 0===(null==a?void 0:a.start_day_of_week)?(0,n().Lm)():null==a?void 0:a.start_day_of_week}}}}const o=r},708009:(e,t)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var n,r="https://js.stripe.com/v3",o=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",s=null,l=function(e){return null!==s||(s=new Promise((function(t,i){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(a),window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(r,'"]')),t=0;t<e.length;t++){var i=e[t];if(o.test(i.src))return i}return null}();n&&e?console.warn(a):n||(n=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(r).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(i),i}(e)),n.addEventListener("load",(function(){window.Stripe?t(window.Stripe):i(new Error("Stripe.js not available"))})),n.addEventListener("error",(function(){i(new Error("Failed to load Stripe.js"))}))}catch(s){return void i(s)}else t(null)}))),s},u=function(e){var t="invalid load parameters; expected object of shape\n\n    {advancedFraudSignals: boolean}\n\nbut received\n\n    ".concat(JSON.stringify(e),"\n");if(null===e||"object"!==i(e))throw new Error(t);if(1===Object.keys(e).length&&"boolean"==typeof e.advancedFraudSignals)return e;throw new Error(t)},d=!1,c=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];d=!0;var r=Date.now();return l(n).then((function(e){return function(e,t,i){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.52.1",startTime:t})}(n,i),n}(e,t,r)}))};c.setLoadParameters=function(e){if(d&&n){var t=u(e);if(Object.keys(t).reduce((function(t,i){var r;return t&&e[i]===(null===(r=n)||void 0===r?void 0:r[i])}),!0))return}if(d)throw new Error("You cannot change load parameters after calling loadStripe");n=u(e)},t.loadStripe=c},717250:(e,t,i)=>{"use strict";i.d(t,{l:()=>n});const n="offline_mode_education_tooltip"},756790:(e,t,i)=>{"use strict";i.d(t,{p:()=>o});var n=()=>i(313127),r=()=>i(765957);function o(){var e,t,i,o,a,s,l,u,d,c,f,g,p,v;const{sidebarSpaceStore:m,sidebarSpaceViewStore:y}=r().default.state,S=null==m?void 0:m.getSpaceSurveyData(),b=null==y?void 0:y.getUserSurveyData();return{function:null!=b&&null!==(e=b.function)&&void 0!==e&&e.value?(0,n().Tj)(null==b||null===(t=b.function)||void 0===t?void 0:t.value):void 0,role:null!=b&&null!==(i=b.role)&&void 0!==i&&i.value?(0,n().t_)(null==b||null===(o=b.role)||void 0===o?void 0:o.value):void 0,educationRole:null==b||null===(a=b.education_role)||void 0===a?void 0:a.value,educationLevel:null==b||null===(s=b.education_level)||void 0===s?void 0:s.value,useCases:null!=S&&null!==(l=S.use_cases)&&void 0!==l&&l.value?(0,n().h0)(null==S||null===(u=S.use_cases)||void 0===u?void 0:u.value):void 0,companySize:null!=S&&null!==(d=S.company_size)&&void 0!==d&&d.value?(0,n().JE)(null==S||null===(c=S.company_size)||void 0===c?void 0:c.value):void 0,intent:null!=S&&null!==(f=S.intent)&&void 0!==f&&f.value?(0,n().j9)(null==S||null===(g=S.intent)||void 0===g?void 0:g.value):void 0,categories:null==b||null===(p=b.categories)||void 0===p?void 0:p.value,collaborativeIntent:null==S||null===(v=S.collaborative_intent)||void 0===v?void 0:v.value}}},778450:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});var n=()=>i(165358),r=()=>i(559506),o=()=>i(63728);async function a(e){if(null!==o().l.state)return o().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const i=await r().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===i.type)return n().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:i.error}),!1;const a=i.data.isRegistered||Boolean(i.data.isRegistered30Day);return o().l.setState(a),a}},787766:(e,t,i)=>{"use strict";i.d(t,{Hc:()=>u,Io:()=>c,Mg:()=>g,S3:()=>s,X3:()=>l,dE:()=>f,iO:()=>d,vC:()=>p,vG:()=>a});i(944114),i(898992),i(803949);var n=()=>i(401497),r=()=>i(100622),o=()=>i(284371);function a(e){const{focus:t}=e;return(0,n().IS)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderStartStartRadius:4,borderStartEndRadius:4,fontSize:14,fontWeight:o().Wy.regular},inputOuterStyle:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.palette.gray[30],...t&&{background:"none"}}})),[t])}function s(){return(0,n().IS)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,paddingTop:8,paddingInlineEnd:0,paddingBottom:16,paddingInlineStart:0},sectionMenuItem:{paddingTop:12,paddingInlineEnd:0,paddingBottom:0,paddingInlineStart:2,display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.border.secondary}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingInlineStart:3,fontSize:14,color:e.text.tertiary}})),[])}function l(){return(0,n().IS)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,paddingTop:12,paddingInlineEnd:16,paddingBottom:16,paddingInlineStart:16,borderTop:`1px solid ${e.border.secondary}`}})),[])}function u(){return(0,n().IS)((e=>({labelContainer:{display:"flex",alignItems:"center",color:r().Tj.uiLightBlack,size:14,gap:6},importListButton:{height:28,borderRadius:4,border:void 0,width:"100%"},importListButtonContainer:{padding:"0 6px",alignItems:"center"}})),[])}function d(){return(0,n().IS)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.border.secondary}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:o().Wy.medium,textAlign:"start",verticalAlign:"top"}})),[])}function c(e,t){return(0,n().IS)((i=>({buttonContainer:{padding:"0 8px",...t},button:{height:32,borderRadius:4,border:`1px solid ${i.border.primary}`,...e}})),[e,t])}function f(e){const{filteredImportedContacts:t,inviteTargetsStore:i}=e,n=i.state.inviteTargets.length;return 0!==n&&n===t.length}function g(e){const{filteredImportedContacts:t}=e,i={};return t.forEach(((e,t)=>{const n=e.value.email[0].toUpperCase(),r=/^[A-Za-z]$/.test(n)?n:"#";i[r]||(i[r]=[]),i[r].push(e)})),i}function p(e){const{canEditPermission:t,isMobile:i,isEnterprise:n}=e;return!(i||n||!t)}},888578:(e,t,i)=>{"use strict";i.r(t),i.d(t,{buildMessages:()=>z,getEligiblePendingMessages:()=>U,getEligibleStaticMessages:()=>E,isPendingMessageEligibleImpl:()=>B,maybeShowMessagesImpl:()=>q,maybeShowPendingMessagesImpl:()=>T,shouldSkipDynamicMessage:()=>O,showStartupMessagesImpl:()=>K});i(944114),i(898992),i(354520),i(581454),i(908872),i(737550);var n=()=>i(906745),r=()=>i(242422),o=()=>i(722559),a=()=>i(690495),s=()=>i(917629),l=()=>i(763824),u=()=>i(534177),d=()=>i(272509),c=()=>i(765957),f=()=>i(430483),g=()=>i(824973),p=()=>i(841946),v=()=>i(678894),m=()=>i(324561),y=()=>i(668721),S=()=>i(749240),b=()=>i(63636),h=()=>i(283502),_=()=>i(131448),w=()=>i(731741),k=()=>i(263265),D=()=>i(554657),A=()=>i(559506);var I=()=>i(300789),x=()=>i(51367),M=()=>i(80668);const P=5e3,R=3e4;async function C(e){const t={environment:Promise.resolve(e),currentUserSettingsStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.currentUserSettingsStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.currentUserSettingsStore)),sidebarSpaceStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.sidebarSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.sidebarSpaceStore)),mainEditorCurrentBlockStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.mainEditorCurrentBlockStore)),sidebarSpaceViewStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.sidebarSpaceViewStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.sidebarSpaceViewStore)),assistantFeatureGateStore:f().zD.waitUntil((()=>f().zD.getIsInitialized())).then((()=>f().zD)),subscriptionDataStore:S().subscriptionDataStoreInstance.waitUntilLoaded().then((()=>S().subscriptionDataStoreInstance)),experimentStore:r().default.waitUntilStatsigReady().then((()=>r().default)),billingData:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.sidebarSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.sidebarSpaceStore)).then((t=>(0,m().Vv)({environment:e,spaceId:t.getSpaceId()}))),spaceProfileSettingsStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.sidebarSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>new(v().A))),currentUserRootStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.currentUserRootStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.currentUserRootStore)),aiUsageEligibilityStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.sidebarSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.sidebarSpaceStore)).then((e=>y().A.waitUntil((()=>(0,d().I)(e)||void 0!==y().A.state)))).then((()=>y().A)),externalOrgDataStore:c().default.waitUntil((()=>{var e;return Boolean(null===(e=c().default.state.currentUserRootStore)||void 0===e?void 0:e.isReady())})).then((()=>c().default.state.currentUserRootStore)).then((t=>g().T.awaitData(e,{userId:t.userId}))).then((e=>g().T)),userLifecycleProfileStore:D().k.waitUntil((()=>void 0!==D().k.state)).then((()=>D().k)),recentEventsStore:k().a.waitUntil((()=>void 0!==k().a.state)).then((()=>k().a))},i={};return Promise.all((0,u().uv)(t).map((e=>async function(e,t,i){const n=await(0,l().nQ)(R,i);return n.timeout?Promise.reject(t):(e[t]=n.result,Promise.resolve(void 0))}(i,e,t[e])))).then((()=>({requiredArgs:i,timeoutKey:void 0})),(e=>({timeoutKey:e,requiredArgs:void 0})))}async function E(e,t){const i=n().c9.now().toMillis(),{requiredArgs:r,timeoutKey:o}=await C(e),a=n().c9.now().toMillis()-i;if(!r)return{eligibleKeys:[],requiredArgTimeout:o,requiredArgsRunDuration:a};const{candidates:s,timeouts:u}=await async function(e,t){const i=[],n=[];for(const r of t){const{timeout:t,result:o}=await(0,l().nQ)(P,M().S[r](e));t?i.push(r):o&&n.push(r)}return{candidates:n,timeouts:i}}(r,t);return{eligibleKeys:s,eligibilityTimeouts:u,requiredArgsRunDuration:a}}async function q(e,t,i){await V();const{eligibleKeys:n,eligibilityTimeouts:r,requiredArgsRunDuration:o,requiredArgTimeout:a}=await E(e,t);if(a)return{shown:[],requiredArgTimeout:a,requiredArgsRunDuration:o};const l=(0,s().p8)(n),u=[];for(const s of l){const t={id:"",key:s,type:"static",props:{}};I().rG(e,t,i).success&&u.push(s)}return{shown:u,eligibilityTimeouts:r,requiredArgsRunDuration:o}}async function U(e,t,i){const n=i??await(0,b().Gn)(e),{staticMessageKeys:r,dynamicMessageKeys:a}=function(e){return e.reduce(((e,t)=>{if(!_().default.isPendingDynamicMessage(t))return e;const i=(0,s().h2)(t);return i?e.staticMessageKeys.push(i):e.dynamicMessageKeys.push(t),e}),{staticMessageKeys:[],dynamicMessageKeys:[]})}(t);let l,u=[],d=0,c=[...a];if(r.length>0){const t=await E(e,r);if(u=t.eligibilityTimeouts||[],l=t.requiredArgTimeout,d=t.requiredArgsRunDuration,l)return{eligibleKeys:[],skippedKeys:[],eligibilityTimeouts:u,requiredArgTimeout:l,requiredArgsRunDuration:d};c=[...(0,s().p8)(t.eligibleKeys),...a]}const f=[],g=[];for(const o of c){const t=_().default.getPendingDynamicMessage(o);if(!t){(0,s().P$)(o)&&f.push(o);continue}if(_().default.isVisible(o))continue;O({messageConfig:t,environment:e,inAppMessageEligibilityContext:n})?g.push(o):f.push(o)}for(const p of g){const t=(0,s().h2)(p),i=_().default.getPendingDynamicMessage(p);let n;if(t)n=(0,s().t9)(t);else if(null!=i&&i.type){const e=(0,o().Po)(null==i?void 0:i.type);e&&(n=e)}x().Cu(e,{callout_key:p,placement_key:n??"None",callout_src:t?"static":"cio"}),_().default.removePendingDynamicMessage(p),await I().Xh(e,p)}return{eligibleKeys:f,skippedKeys:g,eligibilityTimeouts:u,requiredArgsRunDuration:d}}async function T(e,t,i,n){await V();const r=await(0,b().Gn)(e),{eligibleKeys:o,eligibilityTimeouts:a,requiredArgTimeout:s,requiredArgsRunDuration:l}=await U(e,t,r??void 0);if(s)return{shown:[],requiredArgTimeout:s,requiredArgsRunDuration:l,eligibilityTimeouts:a};const u=[];for(const c of o){const t=_().default.getPendingDynamicMessage(c);if(t){const r={...t,props:{...t.props,metadata:n}};h().g(e,r,i).success&&u.push(r)}}const d=[];for(const c of u){I().rG(e,c,i).success&&d.push(c.key)}return{shown:d,eligibilityTimeouts:a,requiredArgsRunDuration:l}}async function B(e,t){const{eligibleKeys:i}=await U(e,[t]);return i.includes(t)}async function K(e){const t=s().qd.filter((e=>a().lU[e].show_on_startup));await r().default.waitUntilStatsigReady();const{eligibleKeys:i,eligibilityTimeouts:n,requiredArgTimeout:o,requiredArgsRunDuration:l}=await E(e,t);if(o)return void x().wo(e,{eligible_callouts:[],required_arg_timeout:o,required_args_run_duration:l,eligibility_timeouts:[]});const u=(0,s().p8)(i),{requiredArgs:d}=await C(e),c=await z({staticMessageKeys:u,environment:e,requiredArgs:d}),f=[];for(const r of c){I().rG(e,r).success&&f.push(r.key)}const g=r().default.getConfigKey("callout_config","callout_blocklist");x().wo(e,{eligible_callouts:f,required_arg_timeout:null,required_args_run_duration:l,eligibility_timeouts:n??[],blocklist:g}),function(){j=!0;for(const e of L)e()}()}function O({messageConfig:e,inAppMessageEligibilityContext:t}){if(!t)return!1;const i=e&&"skipConditions"in e?e.skipConditions:void 0;return!(null==i||!i.length||!t)&&i.some((e=>(0,b().hK)(e,t)))}async function z(e){var t;const{staticMessageKeys:i,environment:n,requiredArgs:r}=e,a=[],{high:s,rest:l}=i.reduce(((e,t)=>(0===p().z[t]?e.high.push(t):e.rest.push(t),e)),{high:[],rest:[]}),{high:u,rest:d}=await async function(e,t){const i=await A().callApi({eventName:"getUnreadInAppMessagesForUser",environment:e,data:{workspaceId:t}});return"failed"===i.type?{high:[],rest:[]}:i.data.messages.reduce(((e,t)=>("highPriority"in t.config&&t.config.highPriority?e.high.push(t):e.rest.push(t),e)),{high:[],rest:[]})}(n,null==r||null===(t=r.sidebarSpaceStore)||void 0===t?void 0:t.getSpaceId());for(const o of s)a.push({id:"",key:o,type:"static",props:{}});for(const c of u)w().A.setConfig(c.config.key,{message:c}),(0,o().dO)(c.config)?_().default.addPendingDynamicMessage(c.config):a.push(c.config);for(const o of l)a.push({id:"",key:o,type:"static",props:{}});for(const c of d)w().A.setConfig(c.config.key,{message:c}),(0,o().dO)(c.config)?_().default.addPendingDynamicMessage(c.config):a.push(c.config);return a}let j=!1;const L=[];async function V(){return new Promise((e=>{j?e():L.push(e)}))}},944203:(e,t,i)=>{"use strict";i.d(t,{a:()=>r});var n=()=>i(130382);function r(e){const t=null==e?void 0:e.getCreatedTime();return t?(0,n().Mn)(t):null}},977870:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});class n extends(()=>i(757695))().Store{getInitialState(){return{wasGetVisibleUsersCalled:!1}}}const r=new n;i(852832).exposeDebugValue("GetVisibleUsersStore",r)}}]);