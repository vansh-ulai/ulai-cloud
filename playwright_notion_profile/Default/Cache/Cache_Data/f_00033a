"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[14310],{7950:(e,t,r)=>{r.d(t,{A:()=>i});r(16280),r(18107),r(944114),r(967357);var n=r.n(r(625473)),o=()=>r(220719),a=()=>r(681373);class i{constructor(){this.maxEndIndex=0,this.annotationRanges=new(r(99895).G)((()=>[])),this.sorter=new(r(615771).A)}addOrderedAnnotationsInRange(e){const{annotationLists:t,startIndex:i,endIndex:s}=e;(0,o().MX)(i>=0,"Start index must be greater than or equal to 0"),(0,o().MX)(i<s,"End index must be greater than start index"),(0,o().MX)(i>=this.maxEndIndex,"Start of range should be greater than end of previously added ranges");const l=new(r(400017).A),c=[];try{for(const e of t)for(let t=0;t<e.length;t++){const r=e[t];if(this.sorter.hasNode(r)||(this.sorter.addNode(r),l.add(r)),t>0){const n=e[t-1];this.sorter.hasEdge(n,r)||(this.sorter.addEdge(n,r),c.push([n,r]))}}}catch(u){for(const[e,t]of c)this.sorter.removeEdge(e,t);for(const e of l)this.sorter.removeNode(e);throw new Error("A list of annotations caused a cycle")}for(const r of t)for(const e of r){const t=n()(e),r=this.annotationRanges.get(t),l=r.at(-1);!l||l.endIndex!==i||(0,a().iG)(e)||(0,a().gi)(e)?r.push({startIndex:i,endIndex:s}):(0,o().o9)(r.at(-1)).endIndex=s}this.maxEndIndex=s}getSortedAnnotationRanges(){const e=this.sorter.getSortedNodes(),t=[];for(const r of e){const e=n()(r),o=this.annotationRanges.get(e);for(const n of o)t.push({annotation:r,...n})}return t}}},9559:(e,t,r)=>{r.d(t,{W:()=>p});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=()=>r(356246),o=()=>r(713998),a=()=>r(869190),i=()=>r(604995),s=()=>r(522419),l=()=>r(792071),c=()=>r(96330),u=()=>r(450648),d=()=>r(201980);function p(e){const{schema:t,property:r,block:n}=e,a=t[r];if(!a)return;const i=o().yQ(n,r);return(0,f[a.type])({textValue:i,propertySchema:a,...e})}function m(e){const{textValue:t,getRecordModel:r,collectionRequestContext:n}=e,{userTimeZone:o,intl:a}=n;return(0,u().r4)({textValue:t,getRecordModel:r,userTimeZone:o,intl:a})}const f={title:m,text:m,select:e=>{const{textValue:t,propertySchema:r}=e,n=r.options||[];return o().L3(t,n)},multi_select:e=>{const{textValue:t,propertySchema:r}=e,n=r.options||[],a=o().o2(t,n);return a.sort(),a.join(",")},status:e=>{const{textValue:t,propertySchema:r}=e;return o().RZ(t,r)},relation:({textValue:e,getRecordModel:t,propertySchema:n})=>{if("relation"!==n.type)return"";const a=o().bG({relationValue:o().n(e),getRecordModel:t,propertySchema:n,includeNoAccess:!1}).map((e=>`https://www.notion.so/${(0,r(498212).Xw)(e.id)}`));return a.sort(),a.join(", ")},rollup:e=>r(568063).I({...e,collectionRequestContext:{...e.collectionRequestContext,visitedProperties:new Set},formulasModule:e.formulasModule,spaceIdCreator:e.spaceIdCreator}),url:({textValue:e})=>o().MO(e),email:({textValue:e})=>(0,d().k4p)(e),phone_number:({textValue:e})=>(0,d().k4p)(e),checkbox:({textValue:e})=>(0,r(657970).w)(e)?n().I1:n().oP,person:e=>{const{textValue:t,getRecordModel:n,propertySchema:o,block:a,collectionRequestContext:i}=e,{intl:s}=i,c=l().Bj6.fromBlock(a),u=(0,r(363170).e)({textValue:t,propertySchema:o,blockCreatorPointer:c.getCreatedByPointer(),convertGroupPointersToBeComposite:!0}),d=r(496603).oE(u.map((e=>{if("space_permission_group"===e.table){const t=n(e);return(0,r(914462).n)({intl:s,permissionGroupModel:t})}const t=n(e);return null==t?void 0:t.getDisplayName(s)})));return d.sort(),d.join(",")},number:({textValue:e})=>{const t=r(302322).M(e);if(void 0!==t)return t.toString()},auto_increment_id:({textValue:e,block:t,getRecordModel:n})=>{const a=o().On(e);if(void 0!==a){const e=l().Bj6.fromBlock(t),o=e.getParentTable();if(o!==r(519831).Vl)return;const i=n((0,r(835243).aZ)({spaceId:e.getSpaceId(),parentTable:o,parentId:e.getParentId()}));return(0,r(716016).H4)(null==i?void 0:i.getRecordKey(),a)}},date:({textValue:e,propertySchema:t,collectionRequestContext:n})=>{const{userTimeZone:o,intl:i}=n,s=(0,r(187696).b)(e),{date_format:l,time_format:c}=t;if(s)return(0,a().ZF)({allowRelativeDates:!1,value:s,date_format:l,time_format:c,userTimeZone:o,intl:i})},file:e=>{const t=o().pJ(e.textValue).map((t=>{if(e.exportedFilePaths&&e.secureFileS3Url&&e.secureFileS3UrlV2&&s()._J(t.url)){const e=s().TV(t.url);if(e)return e}return t.url}));return t.sort(),t.join(",")},formula:e=>{const{property:t,schema:o,block:i,getRecordModel:s,collectionRequestContext:l,formulasModule:c,spaceIdCreator:d}=e,{userTimeZone:p,intl:m,depth:f,formulaTimeoutTimestampMs:g,logFormulaTimeoutFn:y,resultCache:_,regExpCache:v,formatDateCache:b,experimentService:h,collectionFeatureGates:A}=l,I=o[t];if(c){if("v2"===I.version){if(!I.formula2)return;const e=c.evaluateCollectionFormula2({block:i,property:t,formulaCode:I.formula2.code,getRecordModel:s,intl:m,userTimeZone:p,depth:f,visitedProperties:new Set,resultCache:_,regExpCache:v,formatDateCache:b,formulaTimeoutTimestampMs:g,logFormulaTimeoutFn:y,experimentService:h,collectionFeatureGates:A,spaceIdCreator:d});if(!e)return;const n=(0,r(239381).Ht)(e);return(0,u().r4)({textValue:n,getRecordModel:s,userTimeZone:p,intl:m})}{const e=c.evaluateFormulaProperty({schema:o,property:t,block:i,getRecordModel:s,collectionRequestContext:{...l,visitedProperties:new Set},spaceIdCreator:d});return"boolean"==typeof e?e?n().I1:n().oP:(0,r(720665).Et)(e)?e.toString():r(597777).kC(e)?(0,a().ZF)({allowRelativeDates:!1,value:e,userTimeZone:p,intl:m}):e}}},created_time:e=>{const{block:t,collectionRequestContext:r}=e,{userTimeZone:n,intl:o}=r,s=l().Bj6.fromBlock(t);if(s.getCreatedTime())return(0,a().ZF)({allowRelativeDates:!1,value:i().KQ(s.getCreatedTime(),n),userTimeZone:n,intl:o})},last_edited_time:e=>{const{block:t,collectionRequestContext:r}=e,{userTimeZone:n,intl:o}=r,s=l().Bj6.fromBlock(t);if(s.getLastEditedTime())return(0,a().ZF)({allowRelativeDates:!1,value:i().KQ(s.getLastEditedTime(),n),userTimeZone:n,intl:o})},created_by:e=>{const{block:t,getRecordModel:r,collectionRequestContext:n}=e,{intl:o}=n,a=t.getCreatedByPointer(),i=a&&r(a);return null==i?void 0:i.getDisplayName(o)},last_edited_by:e=>{const{block:t,getRecordModel:r,collectionRequestContext:n}=e,{intl:o}=n,a=t.getLastEditedByPointer(),i=a&&r(a);return null==i?void 0:i.getDisplayName(o)},place:e=>{const{textValue:t}=e,r=(0,c().eC)(t);return(0,c().X1)(r)},last_visited_time:()=>"",button:()=>"",location:()=>"",verification:()=>{}}},9904:(e,t,r)=>{r.d(t,{A:()=>o,h:()=>a});var n=()=>r(292588);const o="public_email_domain",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,domain:n().A.String},requiredColumns:{domain:!0}}},11356:(e,t,r)=>{r.d(t,{G:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.96 1.99 14.08 15.13",svg:(0,r(474848).jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m-1.987 3.75c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .483.392.875.875.875h9.825a.875.875 0 0 0 .875-.875v-6.45a.875.875 0 0 0-.875-.875z"})},o=(0,r(340498).wt)("stack",n)},15440:(e,t,r)=>{r.d(t,{$K:()=>_,$Y:()=>d,Ll:()=>v,Sc:()=>i,Yj:()=>s,Ys:()=>u,aN:()=>p,bM:()=>m,eI:()=>f,nD:()=>g,qX:()=>c,yz:()=>y});r(898992),r(354520),r(430670);var n=()=>r(534177),o=()=>r(720665);const a=(0,r(69708).YK)({coqFuzzySearchKeywords:{id:"action.languageMode.coq.fuzzySearchKeywords",defaultMessage:"Coq Rocq"},cppFuzzySearchKeywords:{id:"action.languageMode.cpp.fuzzySearchKeywords",defaultMessage:"C++ cpp"},rocqDisplayName:{id:"action.languageMode.coq",defaultMessage:"Rocq"},scssDisplayName:{id:"action.languageMode.scss",defaultMessage:"SCSS"}}),i=Symbol("NO_PRISM_SYNTAX"),s={ABAP:{name:"ABAP",prismAlias:"abap",extensions:["abap"]},ABC:{name:"ABC",prismAlias:i,extensions:["abc"],featureFlag:"abc_code_language",customRender:!0},Agda:{name:"Agda",prismAlias:"agda",extensions:["agda","lagda"]},Arduino:{name:"Arduino",prismAlias:"arduino",extensions:["arduino","ino"]},"ASCII Art":{name:"ASCII Art",prismAlias:i,extensions:[]},Assembly:{name:"Assembly",prismAlias:"nasm",extensions:["asm","nasm","s","x86"]},Bash:{name:"Bash",prismAlias:"bash",extensions:["bash","sh"]},BASIC:{name:"BASIC",prismAlias:"basic",extensions:["basic"]},BNF:{name:"BNF",prismAlias:"bnf",extensions:["bnf"]},C:{name:"C",prismAlias:"c",extensions:["c","h"]},"C#":{name:"C#",prismAlias:"csharp",extensions:["cs","csharp"]},"C++":{name:"C++",prismAlias:"cpp",extensions:["c++","cpp","cxx","hpp","hxx"],fuzzySearchKeywords:a.cppFuzzySearchKeywords},Clojure:{name:"Clojure",prismAlias:"clojure",extensions:["clojure","clojurescript","clj","cljs"]},CoffeeScript:{name:"CoffeeScript",prismAlias:"coffeescript",extensions:["coffee","coffeescript"]},Coq:{name:"Coq",alternateDisplayName:a.rocqDisplayName,prismAlias:"coq",extensions:["coq","rocq","v"],fuzzySearchKeywords:a.coqFuzzySearchKeywords},CSS:{name:"CSS",prismAlias:"css",extensions:["css"],prettier:async()=>({plugins:[(await r.e(64583).then(r.t.bind(r,564583,23))).default],parser:"css"})},Dart:{name:"Dart",prismAlias:"dart",extensions:["dart"]},Dhall:{name:"Dhall",prismAlias:"dhall",extensions:["dhall"]},Diff:{name:"Diff",prismAlias:"diff",extensions:["diff"]},Docker:{name:"Docker",prismAlias:"docker",extensions:["docker","dockerfile"]},EBNF:{name:"EBNF",prismAlias:"ebnf",extensions:["ebnf"]},Elixir:{name:"Elixir",prismAlias:"elixir",extensions:["elixir","ex","exs"]},Elm:{name:"Elm",prismAlias:"elm",extensions:["elm"]},Erlang:{name:"Erlang",prismAlias:"erlang",extensions:["erlang","erl"]},"F#":{name:"F#",prismAlias:"fsharp",extensions:["fs","fsharp"]},Flow:{name:"Flow",prismAlias:"flow",extensions:["flow","flow.js"]},Fortran:{name:"Fortran",prismAlias:"fortran",extensions:["f03","f08","f77","f90","f95","for","fortran"]},Gherkin:{name:"Gherkin",prismAlias:"gherkin",extensions:["feature","gherkin"]},GLSL:{name:"GLSL",prismAlias:"glsl",extensions:["glsl"]},Go:{name:"Go",prismAlias:"go",extensions:["go"]},GraphQL:{name:"GraphQL",prismAlias:"graphql",extensions:["graphql","gql"],prettier:async()=>({plugins:[(await r.e(53491).then(r.t.bind(r,853491,23))).default],parser:"graphql"})},Groovy:{name:"Groovy",prismAlias:"groovy",extensions:["groovy"]},Haskell:{name:"Haskell",prismAlias:"haskell",extensions:["haskell","hs","lhs"]},HCL:{name:"HCL",prismAlias:"hcl",extensions:["hcl"]},HTML:{name:"HTML",prismAlias:"html",extensions:["html","xhtml","mhtml"],prettier:async()=>({plugins:[(await r.e(25409).then(r.t.bind(r,325409,23))).default],parser:"html"})},Idris:{name:"Idris",prismAlias:"idris",extensions:["idr","idris","lidr"]},Java:{name:"Java",prismAlias:"java",extensions:["java"]},JavaScript:{name:"JavaScript",prismAlias:"jsx",extensions:["javascript","js","jsx","webpack"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"babel"})},JSON:{name:"JSON",prismAlias:"json",extensions:["json","jsonc","eslintrc","prettierrc","stylelintrc","babelrc"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"json"})},Julia:{name:"Julia",prismAlias:"julia",extensions:["jl","julia"]},Kotlin:{name:"Kotlin",prismAlias:"kotlin",extensions:["kotlin","kt"]},LaTeX:{name:"LaTeX",prismAlias:"latex",extensions:["latex","tex"]},Less:{name:"Less",prismAlias:"less",extensions:["less"]},Lisp:{name:"Lisp",prismAlias:"lisp",extensions:["cl","lisp","lsp"]},LiveScript:{name:"LiveScript",prismAlias:"livescript",extensions:["livescript","ls"]},"LLVM IR":{name:"LLVM IR",prismAlias:"llvm",extensions:["llvm"]},Lua:{name:"Lua",prismAlias:"lua",extensions:["lua"]},Makefile:{name:"Makefile",prismAlias:"makefile",extensions:["mk","makefile"]},Markdown:{name:"Markdown",prismAlias:"markdown",extensions:["markdown","md","mdown"]},Markup:{name:"Markup",prismAlias:"markup",extensions:["markup"]},MATLAB:{name:"MATLAB",prismAlias:"matlab",extensions:["matlab"]},Mathematica:{name:"Mathematica",prismAlias:"mathematica",extensions:["mathematica","nb","wl","wls"]},Mermaid:{name:"Mermaid",prismAlias:"mermaid",extensions:["mermaid"],customRender:!0},Nix:{name:"Nix",prismAlias:"nix",extensions:["nix"]},"Notion Formula":{name:"Notion Formula",prismAlias:"notion",extensions:["notion"]},"Objective-C":{name:"Objective-C",prismAlias:"objectivec",extensions:["m","objc","objectivec"]},OCaml:{name:"OCaml",prismAlias:"ocaml",extensions:["mli","ml","ocaml"]},Pascal:{name:"Pascal",prismAlias:"pascal",extensions:["pascal"]},Perl:{name:"Perl",prismAlias:"perl",extensions:["perl","pl"]},PHP:{name:"PHP",prismAlias:"php",extensions:["php"]},"Plain Text":{name:"Plain Text",prismAlias:i,extensions:["txt","log","cfg","ini","conf","gitignore","gitattributes","npmrc","yarnrc","editorconfig"]},PowerShell:{name:"PowerShell",prismAlias:"powershell",extensions:["powershell","ps1","psm1"]},Prolog:{name:"Prolog",prismAlias:"prolog",extensions:["pro","prolog"]},Protobuf:{name:"Protobuf",prismAlias:"protobuf",extensions:["proto","protobuf"]},PureScript:{name:"PureScript",prismAlias:"purescript",extensions:["purescript","purs"]},Python:{name:"Python",prismAlias:"python",extensions:["py","python"]},R:{name:"R",prismAlias:"r",extensions:["r"]},Racket:{name:"Racket",prismAlias:"racket",extensions:["racket","rkt","scrbl"]},Reason:{name:"Reason",prismAlias:"reason",extensions:["re","reason","rei"]},Ruby:{name:"Ruby",prismAlias:"ruby",extensions:["rb","ruby"]},Rust:{name:"Rust",prismAlias:"rust",extensions:["rs","rust"],prettier:async()=>({plugins:[await Promise.all([r.e(32212),r.e(76537)]).then(r.bind(r,776537))],parser:"jinx-rust"})},Sass:{name:"Sass",prismAlias:"sass",extensions:["sass"]},Scala:{name:"Scala",prismAlias:"scala",extensions:["scala"]},Scheme:{name:"Scheme",prismAlias:"scheme",extensions:["scheme","scm"]},Scss:{name:"Scss",alternateDisplayName:a.scssDisplayName,prismAlias:"scss",extensions:["scss"],prettier:async()=>({plugins:[(await r.e(64583).then(r.t.bind(r,564583,23))).default],parser:"scss"})},Shell:{name:"Shell",prismAlias:"bash",extensions:["shen","shell","bat","cmd","ps","bashrc","bash_profile"]},Smalltalk:{name:"Smalltalk",prismAlias:"smalltalk",extensions:["smalltalk","st"]},Solidity:{name:"Solidity",prismAlias:"solidity",extensions:["solidity","sol"]},SQL:{name:"SQL",prismAlias:"sql",extensions:["sql"]},Swift:{name:"Swift",prismAlias:"swift",extensions:["swift"]},TOML:{name:"TOML",prismAlias:"toml",extensions:["toml"]},TypeScript:{name:"TypeScript",prismAlias:"tsx",extensions:["ts","tsx","typescript"],prettier:async()=>({plugins:[(await r.e(46030).then(r.t.bind(r,546030,23))).default],parser:"babel"})},"VB.Net":{name:"VB.Net",prismAlias:"vbnet",extensions:["vb","vbs"]},Verilog:{name:"Verilog",prismAlias:"verilog",extensions:["verilog"]},VHDL:{name:"VHDL",prismAlias:"vhdl",extensions:["vhdl"]},"Visual Basic":{name:"Visual Basic",prismAlias:"visual-basic",extensions:["visual-basic","vbnet"]},WebAssembly:{name:"WebAssembly",prismAlias:"wasm",extensions:["wasm","wat"]},XML:{name:"XML",prismAlias:"xml",extensions:["xml"],prettier:async()=>({plugins:[await Promise.all([r.e(62475),r.e(32212),r.e(20148)]).then(r.t.bind(r,520148,23))],parser:"xml",prettierOptionsOverride:{xmlWhitespaceSensitivity:"ignore"}})},YAML:{name:"YAML",prismAlias:"yaml",extensions:["yaml","yml"]},"Java/C/C++/C#":{name:"Java/C/C++/C#",deprecated:!0,migrateToLang:"Java",allowFromPublicApi:!0,prismAlias:"clike",extensions:[]},json:{name:"json",deprecated:!0,migrateToLang:"JSON",prismAlias:"json",extensions:[]},NotionScript:{name:"NotionScript",deprecated:!0,migrateToLang:"JavaScript",prismAlias:"jsx",extensions:[]}},l="JavaScript";function c(){const e=Object.values(s).filter((e=>!e.deprecated));return{forGates:t=>e.filter((e=>!e.featureFlag||t.checkGate({gateName:e.featureFlag}))),__DANGEROUS_MANUALLY_CHECK_GATES:e}}function u(e){const t=s[e];return t.deprecated?u(t.migrateToLang):t}function d(e){return void 0!==e&&(0,n().O)(s,e)?u(e):s[l]}function p(e){return!(!(0,n().O)(s,e)||!Boolean(s[e]))}function m(e){return!!s[e].customRender}const f={ABC:"https://abcnotation.com/examples",Mermaid:"https://mermaid.js.org/syntax/examples.html"},g=(0,o().MU)(Object.values(s).flatMap((e=>{const t=e.name.toLowerCase();return e.deprecated?e.allowFromPublicApi?[[t,u(e.migrateToLang).name]]:[]:[[t,e.name]]}))),y=(0,n().uv)(g),_=(0,o().AH)(g);function v(e){return!(!(0,n().O)(g,e)||!Boolean(g[e]))}},24374:(e,t,r)=>{r.d(t,{FD:()=>u,Lo:()=>o,MZ:()=>a,Tt:()=>i,X8:()=>c,XL:()=>n,au:()=>d,bq:()=>p,hF:()=>f,iv:()=>m,lW:()=>g,qB:()=>y,qK:()=>s,rx:()=>l});const n="collection_group_results",o="calendar_results",a="timeline_results",i="table_groups",s="timeline_groups",l="board_columns",c="gallery_groups",u="list_groups",d="no_date_count",p="board_collection_groups",m=10,f=10,g=5,y=5},29568:(e,t,r)=>{r.d(t,{Ay:()=>a,gD:()=>o});var n=()=>r(292588);const o="space_membership_update",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_at:n().A.Number,is_processed:n().A.Boolean,attributes:n().A.JSON,effective_time:n().A.Number,processed_time:n().A.Number},requiredColumns:{id:!0,version:!0,space_id:!0,created_at:!0,is_processed:!0,effective_time:!0},model:(0,r(152853).P)({})}},36682:(e,t,r)=>{r.d(t,{Q:()=>a,Y:()=>o});r(944114);var n=()=>r(862387);function o(e){const t=[];return(0,n().Ub)(e,(e=>{t.push(...e)})),t}function a(e){const t=[];return(0,n().eE)(e,(e=>{t.push(...e)})),t}},37165:(e,t,r)=>{r.d(t,{Ay:()=>i,QM:()=>o,lo:()=>a});var n=()=>r(292588);const o={layout:!0},a="form_question",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,config:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0,config:!0},model:(0,r(152853).P)({RecordStore:!0})}},39603:(e,t,r)=>{r.d(t,{A:()=>a,P:()=>o});var n=()=>r(292588);const o="workflow_subscription",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,data:n().A.JSON},requiredColumns:{version:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},40117:(e,t,r)=>{r.d(t,{A:()=>a,l:()=>o});var n=()=>r(292588);const o="ai_connector_user_connection",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,third_party_user_id:n().A.String,notion_user_id:n().A.UUID,notion_user_table:n().A.String,connection_type:n().A.String,connection_id:n().A.UUID,access_details:n().A.JSON,connection_status:n().A.String,alternate_id:n().A.String,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String},requiredColumns:{id:!0,version:!0,third_party_user_id:!0,notion_user_id:!0,notion_user_table:!0,connection_type:!0,connection_id:!0,access_details:!0,connection_status:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_version:!0},model:(0,r(152853).P)({RecordStore:!1})}},40845:(e,t,r)=>{r.d(t,{A:()=>o});var n=()=>r(496603);const o=function(e,t,r,o=1){return!n().Et(e)||n().yr(e)?o:e>r?r:e<t?t:e}},41273:(e,t,r)=>{r.d(t,{$e:()=>A,B4:()=>I,C5:()=>M,Gh:()=>k,TA:()=>h,WE:()=>T,Zf:()=>x,_G:()=>b,rf:()=>v});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(672577),r(581454),r(737550);var n=()=>r(115997),o=()=>r(534177),a=()=>r(701218),i=()=>r(91913),s=()=>r(274147),l=()=>r(892073),c=()=>r(803884),u=()=>r(398966),d=()=>r(426234),p=()=>r(793909),m=()=>r(933449),f=()=>r(165358),g=()=>r(792071),y=()=>r(397277),_=()=>r(201980);function v(e){const{getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:n,env:o,allowEmpty:a,logContext:i}=e;if(a&&!r.has(n))return(0,f().log)({level:"info",from:"getTextInstanceBlocks",type:"textInstanceBlocksMap does not have an entry for this text instance ID",data:{miscDataToConvertToString:{...i||{},textInstanceId:n}}}),[];return(0,m().o9)(r.get(n),"textInstanceBlocksMap is missing an entry!",["development","local"].includes(o)?{textInstanceId:n,textInstanceBlocksMap:r}:void 0).map((e=>(0,m().o9)(t.getRecordValue(e),"Block pointer points to nonexistent record!",["development","local"].includes(o)?{blockPointer:e,textInstanceId:n,textInstanceBlocksMap:r}:void 0)))}function b(e){const t=new Map(Array.from(e,(([e,t])=>[e,{tsbm:t.textSliceBlockMappingValue,textSlice:l().l(t.textSlice)}])));return JSON.stringify(Object.fromEntries(t))}function h(e,t,r,n){const o=new Map;let i;for(const f of e){const e=(0,m().o9)(f.crdt_data,"CRDT expected to exist in block");(0,m().MX)((0,a().Ux)(f),"Invalid CRDT version");const g=(0,m().o9)(e.title,"Expected CRDT title");i??=new(s().g);for(const[a,s]of Object.entries(g[c().p.nodes])){var p;if(!u().Ay.isSliceKeyFromTextInstance(a,t))continue;const e=l().i(s[c().p.textSlice],i),g=e.getSearchLabel();if(!d().K9(g,r))continue;(0,m().MX)(!o.has(g),"Search labels must be unique within a text instance.");const y=(0,m().o9)(null===(p=n.get(t))||void 0===p?void 0:p.get(g),"Text slice block mapping record must exist");o.set(g,{textSlice:e,blockValue:f,textSliceBlockMappingValue:y})}}return o}function A(e){const t=(0,m().o9)(e.crdt_data,i().bp);(0,m().MX)((0,a().Ux)(e),i().Jh,{version:e.crdt_format_version});const r=(0,m().o9)(t.title,i().bp);return c().iu((0,p().b)(),r,void 0)}function I(e){var t;const{blockValue:r,textSliceTree:n,originalTextValue:o}=e;!function(e){const{blockValue:t,textSliceTree:r}=e;(0,m().o9)(t.crdt_data,i().bp),(0,m().MX)((0,a().Ux)(t),i().Jh,{version:t.crdt_format_version}),t.crdt_data={title:c().lK(r)},t.properties??={},t.properties.title=r.getTextValue(),t.version++}({blockValue:r,textSliceTree:n});const s=(0,m().o9)(null===(t=r.properties)||void 0===t?void 0:t.title,"Block title should exist after setting TextSliceTree");r.discussions=function(e){const{existingDiscussions:t,oldTextValue:r,newTextValue:n,newBlockValue:o}=e,a=_().j2Y(r);if(0===a.length)return t;const i=new Set(t??[]),s=_().j2Y(n),l=new Set(s),c=g().Bj6.fromBlock(o);for(const u of a)l.has(u)||(0,y().xi)({blockModel:c,discussionId:u})||i.delete(u);return[...i]}({existingDiscussions:r.discussions,oldTextValue:o,newTextValue:s,newBlockValue:r}),r.discussions=function(e){const{existingDiscussions:t,oldTextValue:r,newTextValue:n}=e,o=new Set(t??[]),a=_().j2Y(r),i=new Set(a),s=_().j2Y(n),l=[];for(const c of s)i.has(c)||o.has(c)||l.push(c);if(0===l.length)return t;return[...t??[],...l]}({existingDiscussions:r.discussions,oldTextValue:o,newTextValue:s})}function k(e){return S({...e,itemId:e.textSliceStartItemId,boundary:"start"})}function x(e){return S({...e,itemId:e.textSliceEndItemId,boundary:"end"})}function S(e){const{getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:s,itemId:l,boundary:d,env:p}=e;let f;"start"===d?f=e=>e.startsWith(`${s},${(0,n().A)(l)}`):"end"===d?f=e=>u().Ay.isSliceKeyFromTextInstance(e,s)&&e.endsWith((0,n().A)(l)):(0,o().HB)(d);const g=v({getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:s,env:p});for(const n of g){const e=(0,m().o9)(n.crdt_data,i().bp);(0,m().MX)((0,a().Ux)(n),i().Jh,{version:n.crdt_format_version});const t=(0,m().o9)(e.title,i().bp);if(Object.keys(t[c().p.nodes]).some(f))return n}}function T({itemId:e,searchLabelTextSlices:t}){const r=Array.from(t).find((([t,r])=>r.textSlice.containsItemWithId(e)));if(!r)return;const[n,{textSlice:o}]=r;return{searchLabel:n,textSlice:o,originPresentInTextSlice:!0}}function M({originId:e,searchLabelTextSlices:t,newItemId:r,useNewCrdtSliceFindingStrategy:n}){if(!r||!n)return T({itemId:e,searchLabelTextSlices:t});const o=Array.from(t).sort((([e],[t])=>d().UD(e,t)));let a=!1,i=!1;for(const[s,l]of o){const t=l.textSlice;if(a=a||t.containsItemWithId(e),a)if(i){if(t.isIdInsertableIntoSlice(r))return{searchLabel:s,textSlice:t,originPresentInTextSlice:!1}}else if(i=!0,t.isIdInsertableIntoSlice(r,e))return{searchLabel:s,textSlice:t,originPresentInTextSlice:!0}}}},41693:(e,t,r)=>{r.d(t,{A:()=>a,H:()=>o});var n=()=>r(292588);const o="server_integrations__slack_notion_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_unique_global_user_id:n().A.UUID,access_token:n().A.String,notion_workspace_id:n().A.String,alive:n().A.Boolean,notion_bot_id:n().A.UUID}}},42583:(e,t,r)=>{r.d(t,{D:()=>a});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.537 8.843a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-.695 3.009a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.695 1.62a.695.695 0 1 1-1.39 0 .695.695 0 0 1 1.39 0m1.62-3.935a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.695 1.621a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-.695 3.009a.695.695 0 1 0 0-1.39.695.695 0 0 0 0 1.39m3.01-5.324a.694.694 0 1 1-1.39 0 .694.694 0 0 1 1.39 0m-7.639 3.009a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389m.694 1.62a.695.695 0 1 1-1.389 0 .695.695 0 0 1 1.39 0m6.249-1.62a.694.694 0 1 0 0-1.389.694.694 0 0 0 0 1.389"}),(0,n.jsx)("path",{d:"M5.25 3.125A2.125 2.125 0 0 0 3.125 5.25v9.5c0 1.174.951 2.125 2.125 2.125h9.5a2.125 2.125 0 0 0 2.125-2.125v-9.5a2.125 2.125 0 0 0-2.125-2.125zm-.875 3.69h11.25v7.935a.875.875 0 0 1-.875.875h-9.5a.875.875 0 0 1-.875-.875z"})]})},a=(0,r(340498).wt)("viewCalendar",o)},54006:(e,t,r)=>{r.d(t,{A:()=>a,I:()=>o});var n=()=>r(292588);const o="edge",a={table:o,columnTypes:{id:n().A.String,space_id:n().A.String,version:n().A.Number,edge_type:n().A.String,source_table:n().A.String,source_id:n().A.String,target_table:n().A.String,target_id:n().A.String,alive:n().A.Boolean,metadata:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number},requiredColumns:{space_id:!0,edge_type:!0,source_table:!0,source_id:!0,target_table:!0,target_id:!0,alive:!0,created_at:!0,updated_at:!0},defaultColumnValues:{alive:!0,metadata:{}}}},62182:(e,t,r)=>{r.d(t,{A:()=>a,C:()=>o});var n=()=>r(292588);const o="user_oauth_access_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,user_id:n().A.UUID,client_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,expires_at:n().A.Number},model:(0,r(152853).P)({})}},62371:(e,t,r)=>{r.d(t,{V1:()=>he,VR:()=>Ie,FJ:()=>Ae,Hw:()=>ve,RO:()=>be,pP:()=>q,A:()=>X,BI:()=>ye,xU:()=>ee,Wk:()=>pe,Kc:()=>ue,V0:()=>Te,QF:()=>Be,ro:()=>me,H2:()=>Me,Kq:()=>fe,MP:()=>xe,w9:()=>we,Ix:()=>K,Nf:()=>ke,AC:()=>J,Z3:()=>te,OU:()=>ie,oH:()=>ae,Hm:()=>Y,tx:()=>Q,Mn:()=>oe,OF:()=>ne,PZ:()=>re,Ik:()=>O,_o:()=>F,DH:()=>D,WO:()=>L,MU:()=>W,Eg:()=>z,rj:()=>$,D3:()=>G,lN:()=>j,Xj:()=>B,r4:()=>P,GG:()=>C,KI:()=>V,D1:()=>E,zx:()=>H,sj:()=>U,iF:()=>R,rM:()=>N,Vh:()=>T,Vs:()=>w,kO:()=>M,PC:()=>ge,ah:()=>_e});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(638681),i=()=>r(901610),s=()=>r(657970),l=()=>r(187696);const c=10;function u(e,t,r,o,a){if("unique"===(null==a?void 0:a.type))return{type:"unique",value:e};if(e<t||e>r)return{type:"out_of_range",start:t,end:r};const i=t+Math.floor((e-t)/o)*o,s=i+o;return{type:"range",start:n().LI(i,c),end:n().LI(s,c)}}var d=()=>r(302322),p=()=>r(363170),m=()=>r(721726),f=()=>r(708685),g=()=>r(898244),y=()=>r(713998),_=()=>r(604995),v=()=>r(236162),b=()=>r(792071),h=()=>r(450648),A=()=>r(519831),I=()=>r(559653),k=()=>r(201980);a().object({required:{type:a().literal("select"),value:a().undefinable(a().string())},optional:{}}),a().object({required:{type:a().literal("multi_select"),value:a().undefinable(a().string())},optional:{}}),a().object({required:{type:a().literal("status"),value:a().undefinable(a().union([a().object({required:{type:a().literal("by_group"),group:a().string()},optional:{}}),a().object({required:{type:a().literal("by_option"),option:a().string()},optional:{}})]))},optional:{}}),a().object({required:{type:a().union([a().literal("person"),a().literal("created_by"),a().literal("last_edited_by")]),value:a().undefinable(a().union([a().object({required:{table:a().literal("notion_user"),id:a().string()},optional:{}}),a().object({required:{table:a().literal("space_permission_group"),id:a().string(),spaceId:a().string()},optional:{}})]))},optional:{}}),a().object({required:{type:a().literal("relation"),value:a().undefinable(a().union([a().object({required:{table:a().literal("block"),id:a().string(),spaceId:a().string()},optional:{}}),a().object({required:{type:a().literal("relative"),value:a().object({required:{type:a().literal("builtin"),variable:a().union([a().literal("current"),a().literal("next")])},optional:{}})},optional:{}})]))},optional:{}}),a().object({required:{type:a().literal("location"),value:a().undefinable(a().object({required:{table:a().literal("collection"),id:a().string(),spaceId:a().string()},optional:{}}))},optional:{}}),a().object({required:{type:a().union([a().literal("date"),a().literal("created_time"),a().literal("last_edited_time")]),value:a().undefinable(a().any())},optional:{}}),a().object({required:{type:a().union([a().literal("text"),a().literal("title"),a().literal("url"),a().literal("email"),a().literal("phone_number")]),value:a().undefinable(a().any())},optional:{}}),a().object({required:{type:a().literal("number"),value:a().undefinable(a().any())},optional:{}}),a().object({required:{type:a().literal("checkbox"),value:a().boolean()},optional:{}}),a().object({required:{type:a().literal("formula"),value:a().undefinable(a().any())},optional:{}});const x={select:!0,multi_select:!0,person:!0},S={select:!0,multi_select:!0,status:!0,person:!0,relation:!0,date:!0,text:!0,title:!0,url:!0,email:!0,phone_number:!0,number:!0,checkbox:!0,formula:!0,created_by:!0,last_edited_by:!0,created_time:!0,last_edited_time:!0,last_visited_time:!0,location:!0};function T(e){return w(e.type)}function M(e){return w(e.type)}function w(e){return(0,y().DY)(e)}function B(e){return P(e.type)}function C(e){return P(e.type)}function P(e){return"person"===e||"created_by"===e||"last_edited_by"===e}function N(e){return R(e.type)}function U(e){return R(e.type)}function R(e){return"status"===e}function D(e){return F(e.type)}function O(e){return F(e.type)}function F(e){return"date"===e||"created_time"===e||"last_edited_time"===e||"last_visited_time"===e}function E(e){return V(e.type)}function V(e){return"relation"===e}function L(e){return!!e&&"table"in e}function H(e){return!!e&&("type"in e&&"relative"===e.type)}function G(e){return E(e)&&H(e.value)&&"last"===e.value.value.variable}function q(e,t){return"person"===e.type||"relation"===e.type||("select"===e.type||"multi_select"===e.type?t:T(e)?"exact"===e.groupBy:"status"!==e.type&&"number"!==e.type&&"date"!==e.type&&"checkbox"!==e.type&&"created_by"!==e.type&&"last_edited_by"!==e.type&&"created_time"!==e.type&&"last_edited_time"!==e.type&&"last_visited_time"!==e.type&&"formula"!==e.type&&"location"!==e.type&&void(0,o().HB)(e.type))}function j(e){return e.type in x}function $(e){return e in S}function z(e){if("formula"===e.type){const t=(0,f().getFormulaPropertySchemaResultType)(e);return"array"!==t&&"unknown"!==t}return $(e.type)}function W(e){return"property"in e&&"value"in e}const Z="uncategorized";function Q(e,t,r){return"boolean"==typeof e.hidden?e.hidden:"boolean"==typeof e.hiddenByDefault?e.hiddenByDefault:!!t&&!r}function K(e){return e?J(e.value):Z}function J(e){if(!e.value)return`${e.type}:${Z}`;if("select"===e.type||"multi_select"===e.type)return`${e.type}:${e.value}`;if("status"===e.type){const t="by_group"===e.value.type?e.value.group:e.value.option;return`${e.type}:${e.value.type}-${t}`}if(C(e)||"location"===e.type)return`${e.type}:${e.value.id}`;if("relation"===e.type){const t=e.value;return L(t)?`${e.type}:${t.id}`:`${e.type}:${t.type}:${t.value.variable}`}if(D(e)){const t=de(e.value);return`${e.type}:${t?t.start_date:e.value.type}`}if(M(e))return`${e.type}:${"other"===e.value.type?e.value.type:e.value.value.trim()}`;if("number"===e.type){const t=e.value.type;if("range"===t)return`${e.type}:${e.value.start}:${e.value.end}`;if("out_of_range"===t)return`${e.type}:${t}`;if("unique"===t)return`${e.type}:${t}:${e.value.value}`;(0,o().HB)(t)}return"checkbox"===e.type?`${e.type}:${e.value}`:"formula"===e.type?`${e.type}:${J(e.value)}`:void(0,o().HB)(e)}function Y(e){return X(e.map((e=>J(e.value))))}function X(e){return e.join(":")}function ee(e,t){if(0===e.length||0===t.length)return[];const r=[];return e.forEach((e=>{t.forEach((t=>{const n=X([t,e]);r.push(n)}))})),r}function te({groupValues:e,subGroupValues:t}){const r=(null==e?void 0:e.map(J))??[],n=(null==t?void 0:t.map(J))??[],o=[];for(const a of r)for(const e of n){const t=X([e,a]);o.push(t)}return{independentGroupKeys:r,independentSubGroupKeys:n,intersectionKeys:o}}function re(e,t){return e.length===t.length&&!e.find(((e,r)=>!ne(e.value,t[r].value)))}function ne(e,t){if(e===t)return!0;if(!e||!t)return e===t;if("select"===e.type||"multi_select"===e.type)return t.type===e.type&&(void 0!==e.value&&t.value,e.value===t.value);if("status"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?"by_group"===e.value.type&&"by_group"===t.value.type&&e.value.group===t.value.group||"by_option"===e.value.type&&"by_option"===t.value.type&&e.value.option===t.value.option:e.value===t.value);if(C(e)||"location"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?e.value.table===t.value.table&&e.value.id===t.value.id:e.value===t.value);if("relation"===e.type)return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?L(e.value)&&L(t.value)?e.value.table===t.value.table&&e.value.id===t.value.id:!(!H(e.value)||!H(t.value))&&(e.value.type===t.value.type&&e.value.value.variable===t.value.value.variable):e.value===t.value);if(D(e)){if(t.type!==e.type)return!1;if(void 0!==e.value&&void 0!==t.value){const r=de(e.value),o=de(t.value);return void 0!==r&&void 0!==o?n().n4(r,o):e.value.type===t.value.type}return e.value===t.value}if(M(e))return t.type===e.type&&(void 0!==e.value&&void 0!==t.value?"exact"===e.value.type&&"exact"===t.value.type||"alphabet_prefix"===e.value.type&&"alphabet_prefix"===t.value.type?e.value.value.trim()===t.value.value.trim():"other"===e.value.type&&"other"===t.value.type:e.value===t.value);if("number"===e.type){if(t.type!==e.type)return!1;if(void 0!==e.value&&void 0!==t.value){if("range"===e.value.type&&"range"===t.value.type)return e.value.start===t.value.start&&e.value.end===t.value.end;if("out_of_range"===e.value.type&&"out_of_range"===t.value.type)return!0}return e.value===t.value}return"checkbox"===e.type?t.type===e.type&&e.value===t.value:"formula"===e.type?t.type===e.type&&ne(e.value,t.value):void(0,o().HB)(e)}function oe(e,t){return e===t||!(!e||!t)&&ne(e.value,t.value)}function ae(e){const{schema:t,groupBy:r}=e,{property:n}=r,o=t[n];if(o&&("select"===o.type||"multi_select"===o.type)){const e=(o.options||[]).map((e=>"select"===o.type?{type:"select",value:e.value}:{type:"multi_select",value:e.value}));return e.unshift({type:o.type,value:void 0}),e}if(o&&"status"===o.type){if("status"!==r.type)return;const e="group"===r.groupBy?(o.groups??[]).map((e=>({type:"status",value:{type:"by_group",group:e.name}}))):(o.options??[]).map((e=>({type:"status",value:{type:"by_option",option:e.value}})));return Boolean(o.defaultOption)&&(o.options??[]).some((e=>e.value===o.defaultOption))||e.unshift({type:"status",value:void 0}),e}if(o&&"checkbox"===o.type){return[{type:"checkbox",value:!0},{type:"checkbox",value:!1}]}}function ie(e){const{block:t,schema:r,groupBy:n,getRecordModel:a,propertyMapping:i,relativeVariableResult:c,collectionRequestContext:x,formulasModule:S,spaceIdCreator:M}=e,{userId:B,userTimeZone:C,intl:P}=x,N=r[n.property];if(!N||!z(N))return;const U=(0,y().yQ)(t,(null==i?void 0:i[n.property])??n.property,a);if("select"===N.type){const e=(0,y().L3)(U,N.options||[]);return e?[{type:"select",value:e}]:[{type:"select",value:void 0}]}if("multi_select"===N.type){const e=(0,y().o2)(U,N.options||[]);return e.length>0?e.map((e=>({type:"multi_select",value:e}))):[{type:"multi_select",value:void 0}]}if("status"===N.type){if("status"!==n.type)return;const e=N.options??[],t=(0,y().RZ)(U,N),r=e.find((e=>e.value===t)),o=(N.groups??[]).find((e=>{var t;return r&&(null===(t=e.optionIds)||void 0===t?void 0:t.includes(r.id))}));return"group"===n.groupBy&&o?[{type:"status",value:{type:"by_group",group:o.name}}]:"option"===n.groupBy&&r?[{type:"status",value:{type:"by_option",option:r.value}}]:[{type:"status",value:void 0}]}if("person"===N.type){const e=b().Bj6.fromBlock(t),r=(0,p().e)({textValue:U,propertySchema:N,blockCreatorPointer:e.getCreatedByPointer()});return r.length>0?r.map((e=>({type:"person",value:e}))):[{type:"person",value:void 0}]}if("relation"===N.type){const e=(0,y().n)(U),t=(0,y().bG)({relationValue:e,propertySchema:N,getRecordModel:a,includeNoAccess:!0});if(0===t.length)return[{type:"relation",value:void 0}];const r=(0,g().Nv)(N),n=r&&c&&c[r.id],o=[];return t.forEach((e=>{var t;e.spaceId||(e.spaceId=null==N||null===(t=N.collection_pointer)||void 0===t?void 0:t.spaceId);const r=function(e){const{relativeVariableValues:t,pointer:r}=e;if(!t)return[];const n=[];return Object.entries(t).forEach((([e,t])=>{if(r.id===t){const t={type:"relation",value:{type:"relative",value:{type:"builtin",variable:e}}};n.push(t)}})),n}({relativeVariableValues:n,pointer:e});if(r.length>0)o.push(...r);else{const t={type:"relation",value:e};o.push(t)}})),o}if("location"===N.type)return[{type:"location",value:(0,y().N8)({block:t})}];if("date"===N.type){if("date"!==n.type)return;return ce({dateValue:(0,l().b)(U),intl:P,userTimeZone:C,groupBy:n})}if("created_time"===N.type){if("created_time"!==n.type)return;if(!t.created_time)return[{type:"created_time",value:void 0}];return ce({dateValue:(0,_().KQ)(t.created_time,C),intl:P,userTimeZone:C,groupBy:n})}if("last_edited_time"===N.type){if("last_edited_time"!==n.type)return;if(!t.last_edited_time)return[{type:"number",value:void 0}];return ce({dateValue:(0,_().KQ)(t.last_edited_time,C),intl:P,userTimeZone:C,groupBy:n})}if("last_visited_time"===N.type){if("last_visited_time"!==n.type)return;if(!B)return;const e=(0,I().$5)({parent_id:t.id,user_id:B}),r=a({table:I().F9,id:e,spaceId:t.space_id}),o=null==r?void 0:r.getVisitedAt();if(!o)return[{type:"last_visited_time",value:void 0}];return ce({dateValue:(0,_().KQ)(o,C),intl:P,userTimeZone:C,groupBy:n})}if("created_by"===N.type){if("created_by"!==n.type)return;return t.created_by_id&&t.created_by_table?[{type:"created_by",value:{table:t.created_by_table,id:t.created_by_id,spaceId:t.space_id}}]:[{type:"created_by",value:void 0}]}if("last_edited_by"===N.type){if("last_edited_by"!==n.type)return;return t.last_edited_by_id&&t.last_edited_by_table?[{type:"last_edited_by",value:{table:t.last_edited_by_table,id:t.last_edited_by_id,spaceId:t.space_id}}]:[{type:"last_edited_by",value:void 0}]}if(w(N.type)){if(!T(n))return;const e=b().Bj6.fromBlock(t);return le({textValue:(0,m().W)({block:e,propertySchema:N,propertyValue:U,getRecordModel:a,collectionRequestContext:x}).value,groupBy:n})}if("number"===N.type){if("number"!==n.type)return;const e=(0,d().M)(U);if("number"==typeof e){return[{type:"number",value:u(e,n.start,n.end,n.size,n.groupBy)}]}return[{type:"number",value:void 0}]}if("checkbox"===N.type){if("checkbox"!==n.type)return;return[{type:"checkbox",value:(0,s().w)(U)}]}if("formula"===N.type){if("formula"!==n.type)return;if(!S)return;const e=n.groupBy,i=(0,v().zN)({block:b().Bj6.fromBlock(t),getRecordModel:a});if(!i)return;const s={table:A().Vl,id:i.id,spaceId:t.space_id},l=[(0,k().wmz)((0,k().ESw)({collection:s,property:n.property,name:""}))],c="v2"===N.version?S.evaluateCollectionFormula2({block:b().Bj6.fromBlock(t),property:n.property,formulaCode:l,getRecordModel:a,intl:P,userTimeZone:C,depth:0,visitedProperties:new Set,formulaTimeoutTimestampMs:x.formulaTimeoutTimestampMs,logFormulaTimeoutFn:x.logFormulaTimeoutFn,logFormulaStatsFn:x.logFormulaStatsFn,resultCache:x.resultCache,regExpCache:x.regExpCache,formatDateCache:x.formatDateCache,experimentService:x.experimentService,collectionFeatureGates:x.collectionFeatureGates,spaceIdCreator:M}):(0,f().wrapLegacyFormulaValue)(S.propertyToFormulaValue({property:n.property,schema:r,block:b().Bj6.fromBlock(t),getRecordModel:a,collectionRequestContext:x,spaceIdCreator:M})),d=[{type:"formula",value:void 0}];if(!c||"undefined"===c.type)return d;if("text"===e.type){if("text"!==c.type)return d;const t={...e,property:n.property};return se(le({textValue:(0,h().r4)({textValue:c.value,getRecordModel:a,intl:P,userTimeZone:C,disableAnnotationPrefix:!0}),groupBy:t}))}if("number"===e.type){if("number"!==c.type)return d;return se([{type:"number",value:u(c.value,e.start,e.end,e.size,e.groupBy)}])}if("checkbox"===e.type)return"checkbox"!==c.type?d:se([{type:"checkbox",value:c.value}]);if("date"===e.type){if("date"!==c.type)return d;const t=ce({dateValue:c.value,intl:P,userTimeZone:C,groupBy:{...e,property:n.property}});return se(t?t.filter((e=>"date"===e.type)):void 0)}if("person"===e.type||"last_edited_by"===e.type||"created_by"===e.type){if("person"!==c.type)return d;return se([{type:"person",value:c.value}])}if("relation"===e.type){if("block"!==c.type)return d;const e=a(c.value);if(!e)return d;const t=e.getRenderTitle({getRecordModel:a,userTimeZone:C,intl:P});return t?se([{type:"text",value:{type:"exact",value:t}}]):d}(0,o().HB)(e.type)}(0,o().HB)(N.type)}function se(e){if(e)return e.map((e=>({type:"formula",value:e})))}function le(e){const{textValue:t,groupBy:r}=e;if(T(r)){if(!t)return[{type:r.type,value:void 0}];if("alphabet_prefix"===r.groupBy){const e=pe(t);return e?[{type:r.type,value:{type:"alphabet_prefix",value:e}}]:[{type:r.type,value:{type:"other"}}]}if("exact"===r.groupBy)return[{type:r.type,value:{type:"exact",value:t}}];(0,o().HB)(r.groupBy)}}function ce(e){const{dateValue:t,groupBy:r,userTimeZone:n,intl:a}=e;if(!O(r))return;if(!t)return[{type:r.type,value:void 0}];const i=(0,_().AA)(t,n,a.locale).start.setZone(n);if("relative"===r.groupBy){const e=function(e,t){const r=(0,_().ah)(t).startOf("day"),n=e.diff(r,"days").days;if(n>=0)return n<1?{type:"today"}:n<2?{type:"tomorrow"}:n<8?{type:"next_7_days"}:n<31?{type:"next_30_days"}:void 0;if(n>=-1)return{type:"yesterday"};if(n>=-7)return{type:"last_7_days"};if(n>=-30)return{type:"last_30_days"}}(i,n);return e?[{type:r.type,value:e}]:[{type:r.type,value:{type:"month",range:_().C6.toPersistedDateRange({start:i.startOf("month"),end:i.endOf("month")},null)}}]}if("day"===r.groupBy)return[{type:r.type,value:{type:"day",range:_().C6.toPersistedDateRange({start:i.startOf("day"),end:i.endOf("day")},null)}}];if("week"===r.groupBy){const e=r.startDayOfWeek??0,t=0===e&&7===i.weekday?7:e,n=t+6,o=i.set({weekday:t,hour:0,minute:0,second:0,millisecond:0}),a=i.set({weekday:n,hour:23,minute:59,second:59,millisecond:999});return[{type:r.type,value:{type:"week",range:_().C6.toPersistedDateRange({start:o,end:a},null)}}]}return"month"===r.groupBy?[{type:r.type,value:{type:"month",range:_().C6.toPersistedDateRange({start:i.startOf("month"),end:i.endOf("month")},null)}}]:"year"===r.groupBy?[{type:r.type,value:{type:"year",range:_().C6.toPersistedDateRange({start:i.startOf("year"),end:i.endOf("year")},null)}}]:void(0,o().HB)(r.groupBy)}function ue(e,t){const r=(0,_().ah)(t);if("today"===e.type)return{start:r.startOf("day"),end:r.endOf("day")};if("yesterday"===e.type)return{start:r.minus({days:1}).startOf("day"),end:r.minus({days:1}).endOf("day")};if("last_7_days"===e.type)return{start:r.minus({days:7}).startOf("day"),end:r.minus({days:2}).endOf("day")};if("last_30_days"===e.type)return{start:r.minus({days:30}).startOf("day"),end:r.minus({days:8}).endOf("day")};if("tomorrow"===e.type)return{start:r.plus({days:1}).startOf("day"),end:r.plus({days:1}).endOf("day")};if("next_7_days"===e.type)return{start:r.plus({days:2}).startOf("day"),end:r.plus({days:7}).endOf("day")};if("next_30_days"===e.type)return{start:r.plus({days:8}).startOf("day"),end:r.plus({days:30}).endOf("day")};if("day"===e.type||"week"===e.type||"month"===e.type||"year"===e.type){const r=(0,_().AA)(e.range,t);return{start:r.start.startOf("day"),end:r.end.endOf("day")}}(0,o().HB)(e)}function de(e){return"today"===e.type||"yesterday"===e.type||"last_7_days"===e.type||"last_30_days"===e.type||"tomorrow"===e.type||"next_7_days"===e.type||"next_30_days"===e.type?void 0:e.range}function pe(e){const t=e.toUpperCase()[0];if(/^[A-Z0-9]$/.test(t))return t}function me(e){if("checkbox"===(0,f().getFormulaPropertySchemaResultType)(e))return{type:"formula",value:{type:"checkbox",value:!1}};switch(e.type){case"checkbox":return{type:"checkbox",value:!1};case"created_by":case"last_edited_by":case"created_time":case"last_edited_time":case"location":return;default:return{type:e.type,value:void 0}}}function fe(e){return"formula"===e.type?e.groupBy.sort:e.sort}const ge=["group","option"],ye=["relative","day","week","month","year"],_e=["exact","alphabet_prefix"],ve={board_columns_by:"board_columns",collection_group_by:"collection_groups",chart_config:"chart_subgroups"},be="group_menu",he="collection_groups",Ae="collection_group_aggregation",Ie={aggregator:"count",property:void 0,enforceMaxAggregationLimit:!0};function ke(e){return P(e.type)||"checkbox"===e.type?["manual"]:"select"===e.type||"multi_select"===e.type||"status"===e.type||"relation"===e.type?["manual","ascending","descending"]:F(e.type)?["ascending","descending"]:w(e.type)?["manual","ascending","descending"]:"number"===e.type?["ascending","descending"]:"formula"===e.type?ke(e.groupBy):"location"===e.type?["manual","ascending","descending"]:void(0,o().HB)(e.type)}function xe(e){if(P(e.type)||"checkbox"===e.type){const t={...e};return t.sort={type:"manual"},t}if("select"===e.type||"multi_select"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("status"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("relation"===e.type){const t={...e};return t.sort={type:"ascending"},t}if(F(e.type)){const t={...e};return t.sort={type:"ascending"},t}if(w(e.type)){const t={...e};return t.sort={type:"ascending"},t}if("number"===e.type){const t={...e};return t.sort={type:"ascending"},t}if("formula"===e.type)return xe(e.groupBy);if("location"===e.type){const t={...e};return t.sort={type:"ascending"},t}(0,o().HB)(e.type)}function Se(e,t,r){const n=void 0===r||r;return"select"===e||"multi_select"===e||P(e)?{...t,type:e,hideEmptyGroups:n,sort:{type:"manual"}}:"status"===e?{...t,type:e,hideEmptyGroups:n,groupBy:"option",sort:{type:"ascending"}}:"relation"===e||"location"===e?{...t,hideEmptyGroups:n,type:e,sort:{type:"ascending"}}:F(e)?{...t,hideEmptyGroups:n,type:e,groupBy:"relative",sort:{type:"ascending"}}:"phone_number"===e||w(e)?{...t,hideEmptyGroups:n,type:e,groupBy:"exact",sort:{type:"ascending"}}:"number"===e?{...t,hideEmptyGroups:n,type:e,start:0,end:1e3,size:100,sort:{type:"ascending"}}:"checkbox"===e?{...t,hideEmptyGroups:n,type:e,sort:{type:"manual"}}:void(0,o().HB)(e)}function Te(e){const{property:t,propertySchema:r,isCollectionTypedView:n,hideEmptyGroups:o}=e,a=void 0===o||o,i={property:t};if("formula"===r.type){const e=(0,f().getFormulaPropertySchemaResultType)(r);return"array"===e||"unknown"===e?{...i,type:"formula",hideEmptyGroups:a,groupBy:Se("number",i)}:"block"===e?{type:"formula",hideEmptyGroups:a,groupBy:Se("relation",i),...i}:{type:"formula",hideEmptyGroups:a,groupBy:Se(e,i),...i}}const s=Se(r.type,i,a);return n&&"status"===s.type&&(s.groupBy="group"),s}function Me(e,t,r){return"chart_config"!==t?e[t]:null!=e&&e.chart_config&&"placeholder"!==e.chart_config.type&&"groups_reducer"===e.chart_config.dataConfig.type?(0,i().m)(null==e?void 0:e.chart_config)&&"chart_subgroups"===r?null===(n=e.chart_config.dataConfig.aggregationConfig.stackOptions)||void 0===n?void 0:n.groupBy:e.chart_config.dataConfig.groupBy:void 0;var n}function we(e,t){const r=n().mg(e),o=t.start_week_on??0;return O(r)&&"week"===r.groupBy?r.startDayOfWeek=o:"formula"===r.type&&O(r.groupBy)&&"week"===r.groupBy.groupBy&&(r.groupBy.startDayOfWeek=o),r}function Be(e,t){return{property:e,value:t}}},63128:(e,t,r)=>{r.d(t,{Ay:()=>s,Lb:()=>a,Vv:()=>i,qm:()=>o});var n=()=>r(292588);const o="channel",a={[r(854150).yK]:!0},i={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,description:n().A.String,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID},requiredColumns:{id:!0,version:!0,parent_table:!0,space_id:!0,parent_id:!0},model:(0,r(152853).P)({RecordStore:!0})},s=o},67385:(e,t,r)=>{r.d(t,{Ay:()=>s,r1:()=>a});var n=()=>r(638681),o=()=>r(292588);const a="device",i={table:a,columnTypes:{id:o().A.UUID,created_at:o().A.Number,version:o().A.Number,last_version:o().A.Number,device_name:o().A.String,device_os:o().A.String,os_version:o().A.NumberArray,device_platform:o().A.String},model:(0,r(152853).P)({})},s=(n().literals("ios","android","mac","windows","chrome","linux","unknown"),n().literals("react-native","electron","browser","unknown"),i)},67657:(e,t,r)=>{r.d(t,{A3:()=>A,AS:()=>oe,CG:()=>g,ET:()=>M,FM:()=>h,G9:()=>B,Iq:()=>m,J7:()=>V,KW:()=>H,Kn:()=>P,NU:()=>R,OC:()=>X,Sn:()=>v,V1:()=>C,VD:()=>d,Y:()=>x,ZP:()=>w,bY:()=>y,ek:()=>K,fo:()=>re,fr:()=>b,iY:()=>N,nJ:()=>T,ou:()=>E,pe:()=>te,q0:()=>ee,s_:()=>ne,un:()=>p,wG:()=>Y,zE:()=>k});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(862e3),a=()=>r(214388),i=()=>r(748580),s=()=>r(708685),l=()=>r(898244),c=()=>r(604995),u=()=>r(792071);const d=["count"];function p(e){return"count"===e}function m(e){return p(e.aggregator)}const f={count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,show_unique:!0},g=(0,n().uv)(f);function y(e){return"string"==typeof e?Boolean(f[e]):"object"==typeof e?Boolean(f[e.operator]):void(0,n().HB)(e)}const _={sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},v=(0,n().uv)(_);function b(e){return"string"==typeof e?Boolean(_[e]):"object"==typeof e?Boolean(_[e.operator]):void(0,n().HB)(e)}function h(e){return b(e.aggregator)}const A=(0,n().uv)({unique:!0,count_values:!0}),I={earliest_date:!0,latest_date:!0,date_range:!0},k=(0,n().uv)(I);function x(e){return"string"==typeof e?Boolean(I[e]):"object"==typeof e?Boolean(I[e.operator]):void(0,n().HB)(e)}const S={count_per_group:!0,percent_per_group:!0},T=(0,n().uv)(S);function M(e){return Boolean(S[e.operator])}function w(e){return M(e)?e.operator:e}function B(e){return!p(e.aggregator)}function C(e){return"string"==typeof e.aggregator?e.aggregator:"object"==typeof e.aggregator?e.aggregator.operator:void(0,n().HB)(e)}const P={count_aggregations:["count","count_values","unique","empty","not_empty","checked","unchecked","count_per_group"],percent_aggregations:["percent_empty","percent_not_empty","percent_checked","percent_unchecked","percent_per_group"],statistics_aggregations:["sum","average","median","min","max","range"],date_aggregations:["earliest_date","latest_date","date_range"],rollup_aggregations:["show_unique"]},N=100,U={text:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},checkbox:{count:!0,checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},multi_select:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},status:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,count_per_group:!0,percent_per_group:!0},relation:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},person:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},location:{count:!0,count_values:!0,unique:!0},number:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,sum:!0,average:!0,median:!0,min:!0,max:!0,range:!0},date:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0,earliest_date:!0,latest_date:!0,date_range:!0},file:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0},verification:{},place:{show_unique:!0,count:!0,count_values:!0,unique:!0,empty:!0,not_empty:!0,percent_empty:!0,percent_not_empty:!0}};function R(e,t){return"string"==typeof t?Boolean(U[e][t]):"object"==typeof t?Boolean(U[e][t.operator]):void(0,n().HB)(t)}const D={count:()=>({type:"count",count:0}),count_values:()=>({type:"count_values",count:0}),empty:()=>({type:"empty",empty:0}),not_empty:()=>({type:"not_empty",filled:0}),unique:()=>({type:"unique",values:new Set}),show_unique:()=>({type:"show_unique",values:new Set}),percent_empty:()=>({type:"percent_empty",count:0,empty:0}),percent_not_empty:()=>({type:"percent_not_empty",count:0,filled:0}),sum:()=>({type:"sum",sum:0}),average:()=>({type:"average",count:0,sum:0}),median:()=>({type:"median",values:[]}),min:()=>({type:"min",min:void 0}),max:()=>({type:"max",max:void 0}),range:()=>({type:"range",min:void 0,max:void 0}),earliest_date:()=>({type:"earliest_date",min:void 0}),latest_date:()=>({type:"latest_date",max:void 0}),date_range:()=>({type:"date_range",min:void 0,max:void 0}),checked:()=>({type:"checked",checked:0}),unchecked:()=>({type:"unchecked",unchecked:0}),percent_checked:()=>({type:"percent_checked",count:0,checked:0}),percent_unchecked:()=>({type:"percent_unchecked",count:0,unchecked:0}),count_per_group:({groupName:e})=>({type:"count_per_group",statusGroup:e,groupCount:0,total:0}),percent_per_group:({groupName:e})=>({type:"percent_per_group",statusGroup:e,groupCount:0,total:0})},O=((0,n().uv)(D),{count:"number",count_values:"number",empty:"number",not_empty:"number",unique:"number",percent_empty:"number",percent_not_empty:"number",sum:"number",average:"number",median:"number",min:"number",max:"number",range:"number",checked:"number",unchecked:"number",percent_checked:"number",percent_unchecked:"number",earliest_date:"date",latest_date:"date",date_range:"date",show_unique:"number",count_per_group:"text",percent_per_group:"number"}),F={userId:void 0,userStartOfWeek:0};function E(e){return O[e]}function V(e){return"string"==typeof e?D[e]([]):"object"==typeof e?D[e.operator]({groupName:e.groupName}):void(0,n().HB)(e)}function L(e){const{state:t,filterValue:r}=e,n=Z[t.type][r.type];n&&n(e)}function H(e){const{state:t,aggregation:r,collectionRequestContext:n,formulasModule:o,spaceIdCreator:a}=e,{userTimeZone:s,intl:l}=n;if(m(r))L({filterValue:{type:"text",value:void 0},state:t,userTimeZone:s,intl:l,collectionRequestContext:n});else if(B(r)){const{property:n}=r,{block:c,getRecordModel:d,collectionRequestContext:p,...m}=e,f=(0,i().d2)({...m,block:u().Bj6.fromBlock(c),getRecordModel:d,property:n,collectionRequestContext:{...p,depth:p.depth+1},formulasModule:o,spaceIdCreator:a});for(const e of f)"verification"!==e.type&&L({filterValue:e,state:t,userTimeZone:s,intl:l,collectionRequestContext:p})}}function G(e){e.state.count+=1}function q(e){(0,a().c0)({filter:{operator:"is_empty"},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.empty+=1)}function j(e){(0,a().c0)({filter:{operator:"is_not_empty"},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.filled+=1)}function $(e){const t=(0,a().c0)({filter:{operator:"is_empty"},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.empty+=1)}function z(e){const t=(0,a().c0)({filter:{operator:"is_not_empty"},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.filled+=1)}const W={number:e=>{const t=e.filterValue;void 0===t.value||isNaN(t.value)||e.state.values.add(t.value.toString())},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&e.state.values.add(t.value)},select:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value)},multi_select:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r)},status:e=>{const t=e.filterValue;void 0!==t.option&&e.state.values.add(t.option)},relation:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r.id)},person:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r.id)},location:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(t.value.id)},date:e=>{const t=e.filterValue;void 0!==t.value&&e.state.values.add(r(869190).ZF({allowRelativeDates:!1,value:t.value,userTimeZone:e.userTimeZone,intl:e.intl}))},file:e=>{const t=e.filterValue;if(void 0!==t.value)for(const r of t.value)e.state.values.add(r)},place:e=>{const t=e.filterValue;if(void 0!==t.value){const n=r(96330).X1(t.value);void 0!==n&&e.state.values.add(n)}}},Z={count:{number:G,text:G,select:G,multi_select:G,status:G,relation:G,person:G,date:G,file:G,location:G,checkbox:G,place:G},count_values:{number:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},text:e=>{const t=e.filterValue;void 0!==t.value&&t.value.length>0&&(e.state.count+=1)},select:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},multi_select:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},status:e=>{void 0!==e.filterValue.option&&(e.state.count+=1)},relation:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},person:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},date:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},file:e=>{const t=e.filterValue;void 0!==t.value&&(e.state.count+=t.value.length)},location:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)},place:e=>{void 0!==e.filterValue.value&&(e.state.count+=1)}},show_unique:W,unique:W,empty:{number:q,text:q,select:q,multi_select:q,status:q,relation:q,person:q,date:q,file:q,place:q},not_empty:{number:j,text:j,select:j,multi_select:j,status:j,relation:j,person:j,date:j,file:j,place:j},percent_empty:{number:$,text:$,select:$,multi_select:$,status:$,relation:$,person:$,date:$,file:$,place:$},percent_not_empty:{number:z,text:z,select:z,multi_select:z,status:z,relation:z,person:z,date:z,file:z,place:z},sum:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(e.state.sum+=t)}},average:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(e.state.count+=1,e.state.sum+=t)}},median:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||e.state.values.push(t)}},min:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(void 0===e.state.min||t<e.state.min)&&(e.state.min=t)}},max:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||(void 0===e.state.max||t>e.state.max)&&(e.state.max=t)}},range:{number:e=>{const t=e.filterValue.value;void 0===t||isNaN(t)||((void 0===e.state.min||t<e.state.min)&&(e.state.min=t),(void 0===e.state.max||t>e.state.max)&&(e.state.max=t))}},checked:{checkbox:function(e){(0,a().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.checked+=1)}},unchecked:{checkbox:function(e){(0,a().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.unchecked+=1)}},percent_checked:{checkbox:function(e){const t=(0,a().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!0}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.checked+=1)}},percent_unchecked:{checkbox:function(e){const t=(0,a().c0)({filter:{operator:"checkbox_is",value:{type:"exact",value:!1}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue);e.state.count+=1,t&&(e.state.unchecked+=1)}},date_range:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone);(void 0===r.min||n.start<r.min)&&(r.min=n.start);const o=n.end??n.start;(void 0===r.max||r.max<o)&&(r.max=o)}}},earliest_date:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone);(void 0===r.min||n.start<r.min)&&(r.min=n.start)}}},latest_date:{date:e=>{const t=e.filterValue.value,r=e.state;if(void 0!==t){const n=c().AA(t,e.userTimeZone),o=n.end??n.start;(void 0===r.max||r.max<o)&&(r.max=o)}}},count_per_group:{status:function(e){(0,a().c0)({filter:{operator:"status_is",value:{type:"is_group",value:e.state.statusGroup}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.groupCount+=1),e.state.total+=1}},percent_per_group:{status:function(e){(0,a().c0)({filter:{operator:"status_is",value:{type:"is_group",value:e.state.statusGroup}},...F,...e,filterType:e.filterValue.type,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:e.collectionRequestContext.collectionFeatureGates})(e.filterValue)&&(e.state.groupCount+=1),e.state.total+=1}}},Q={count:e=>({type:"number",value:e.count}),count_values:e=>({type:"number",value:e.count}),empty:e=>({type:"number",value:e.empty}),not_empty:e=>({type:"number",value:e.filled}),unique:e=>({type:"number",value:e.values.size}),show_unique:e=>({type:"number",value:e.values.size}),percent_empty:e=>({type:"number",value:0===e.count?void 0:e.empty/e.count}),percent_not_empty:e=>({type:"number",value:0===e.count?void 0:e.filled/e.count}),sum:e=>({type:"number",value:e.sum}),average:e=>({type:"number",value:0===e.count?void 0:e.sum/e.count}),median:e=>({type:"number",value:J(e.values)}),min:e=>({type:"number",value:e.min}),max:e=>({type:"number",value:e.max}),range:e=>({type:"number",value:void 0!==e.max&&void 0!==e.min?e.max-e.min:void 0}),checked:e=>({type:"number",value:e.checked}),unchecked:e=>({type:"number",value:e.unchecked}),percent_checked:e=>({type:"number",value:0===e.count?void 0:e.checked/e.count}),percent_unchecked:e=>({type:"number",value:0===e.count?void 0:e.unchecked/e.count}),earliest_date:e=>({type:"date",value:e.min?c().Xo(e.min):void 0}),latest_date:e=>({type:"date",value:e.max?c().Xo(e.max):void 0}),date_range:e=>{if(void 0===e.max||void 0===e.min)return{type:"date",value:void 0};return{type:"date",value:c().NC(e.min.valueOf(),e.max.valueOf(),e.min.zoneName)}},count_per_group:e=>({type:"text",value:`${e.groupCount}/${e.total}`}),percent_per_group:e=>({type:"number",value:0===e.total?void 0:e.groupCount/e.total})};function K(e){return(0,Q[e.type])(e)}function J(e){return 0===e.length?0:r(745875).JZ(e)}function Y(e){return!(ne(e)||ee(e)||te(e)||(0,l().rK)(e.type))}function X(e){return Boolean("number"===e.type||"number"===(0,s().getFormulaPropertySchemaResultType)(e)||"rollup"===e.type&&e.aggregation&&"number"===E(w(e.aggregation)))}function ee(e){return"status"===e.type}function te(e){return"location"===e.type}function re(e){return Boolean((0,o().$)(e)||"date"===(0,s().getFormulaPropertySchemaResultType)(e)||"rollup"===e.type&&e.aggregation&&"date"===E(w(e.aggregation)))}function ne(e){return"checkbox"===e.type||"checkbox"===(0,s().getFormulaPropertySchemaResultType)(e)}function oe(e){return"count"===e||"count_values"===e||"unique"===e||"empty"===e||"not_empty"===e}},68263:(e,t,r)=>{r.d(t,{$I:()=>b,B2:()=>F,BP:()=>B,DH:()=>I,Ds:()=>j,FP:()=>te,Jx:()=>E,Km:()=>C,Lg:()=>H,Lw:()=>ie,M3:()=>le,MZ:()=>S,NB:()=>k,Ni:()=>G,Ny:()=>O,OA:()=>re,P3:()=>L,PW:()=>v,T$:()=>Y,T6:()=>D,TE:()=>d,Tt:()=>A,UA:()=>g,Ux:()=>_,W8:()=>ne,Yi:()=>se,ZK:()=>z,ZQ:()=>R,_S:()=>$,_d:()=>X,cd:()=>q,eu:()=>K,gl:()=>Z,h9:()=>h,hI:()=>ae,hV:()=>u,jj:()=>U,lg:()=>M,nL:()=>J,nl:()=>Q,oI:()=>p,ok:()=>x,p2:()=>T,sk:()=>ee,tb:()=>V,uQ:()=>w,un:()=>W,vZ:()=>oe,vp:()=>P,w:()=>f});r(898992),r(823215);var n=()=>r(534177),o=()=>r(179034),a=()=>r(519831),i=()=>r(854150),s=()=>r(743246),l=()=>r(464192),c=()=>r(962277);const u=["none","reader","comment_only","content_only_editor","read_and_write","membership_admin","editor"],d=Object.assign({},...u.map(((e,t)=>({[e]:t})))),p=["read_content","insert_content","update_content","read_comment","insert_comment"],m=["read_user_without_email","read_user_with_email","read_user_email_name_photo"],f=["webhooks","workspace_search","workspace_page_export","workspace_content_transfer","read_teamspace","interact_with_agents"],g={none:"none",reader:{read_content:!0,read_comment:!0},comment_only:{read_content:!0,read_comment:!0,insert_comment:!0},content_only_editor:{read_content:!0,insert_content:!0,read_comment:!0,insert_comment:!0},read_and_write:{read_content:!0,insert_content:!0,update_content:!0,read_comment:!0,insert_comment:!0},membership_admin:"none"},y={read_content:!0,insert_content:!0,update_content:!0,read_comment:!0,insert_comment:!0,read_property:!0,insert_property:!0,update_property:!0,link_preview:!0,synced_database:!0,webhooks:!0,workspace_search:!0,workspace_page_export:!0,workspace_content_transfer:!0,read_teamspace:!0,interact_with_agents:!0,inherit_creator_permissions:!0,read_user_without_email:!0,read_user_with_email:!0,read_user_email_name_photo:!0};function _(){return(0,n().uv)(y)}function v(e){return"none"===e||"reader"===e||"comment_only"===e||"content_only_editor"===e||"read_and_write"===e||"membership_admin"===e||"editor"===e}function b(e){return"none"===e}function h(e){return"string"==typeof e?"reader"===e:!0===e.read_content&&!0!==e.insert_content&&!0!==e.update_content||!0===e.read_property&&!0!==e.insert_property&&!0!==e.update_property}function A(e){return"string"==typeof e?"reader"===e||"comment_only"===e||"content_only_editor"===e||"read_and_write"===e||"membership_admin"===e||"editor"===e:!0===e.read_content||!0===e.read_property}function I(e){return"read_and_write"===e||"membership_admin"===e||"editor"===e}function k(e){return"read_and_write"===e}function x(e){return"comment_only"===e||T(e)||Boolean("object"==typeof e&&e.insert_comment)}function S(e){return"comment_only"===e}function T(e){return"content_only_editor"===e||M(e)||function(e){return C(e)||N(e)||k(e)}(e)}function M(e){return"string"==typeof e?"read_and_write"===e||"editor"===e:!0===e.insert_content||!0===e.update_content||!0===e.insert_property||!0===e.update_property}function w(e){return"content_only_editor"===e}function B(e){return"object"==typeof e&&!0===e.insert_content&&!0===e.update_content&&!0!==e.read_content}function C(e){return"editor"===e}function P(e){return"membership_admin"===e||C(e)}function N(e){return"membership_admin"===e}function U(e){const t=m;return Object.keys(e).every((e=>t.includes(e)))}r(638681).literals("none","reader","comment_only","read_and_write","membership_admin","editor");const R=["deleted_permission","restricted_permission","exclusive_user_permission","collection_property_permission","user_permission","bot_permission","group_permission","team_owner_permission","team_permission","explicit_team_guest_permission","explicit_team_permission","explicit_team_owner_permission","space_owner_permission","space_permission","trusted_domain_permission","public_permission"];function D(e){return"restricted_permission"===e.type}function O(e){return"deleted_permission"===e.type}function F(e){return"user_permission"===e.type}function E(e){return"exclusive_user_permission"===e.type}function V(e){return"collection_property_permission"===e.type}function L(e){return"bot_id"in e&&"bot_permission"===e.type}function H(e){return"space_permission"===e.type}function G(e){return H(e)&&Boolean(e.unlisted_timestamp)}function q(e){return"space_owner_permission"===e.type}function j(e){return"group_permission"===e.type}function $(e){return"team_permission"===e.type}function z(e){return"team_owner_permission"===e.type}function W(e){return"explicit_team_guest_permission"===e.type}function Z(e){return"explicit_team_permission"===e.type}function Q(e){return"explicit_team_owner_permission"===e.type}function K(e){return"explicit_team_permission"===e.type||"explicit_team_owner_permission"===e.type}function J(e){return $(e)||Z(e)||z(e)||Q(e)}function Y(e){return $(e)||Z(e)}function X(e){return z(e)||Q(e)}function ee(e){return"trusted_domain_permission"===e.type}function te(e){return"public_permission"===e.type}function re(e){return!!e.expiration_timestamp&&Date.now()>e.expiration_timestamp}function ne(e){return te(e)&&(0,c().W)(e)}function oe(e){return te(e)&&(0,l().v)(e)}function ae(e){return!O(e)&&!D(e)}function ie(e){return ae(e)?e.role:"none"}function se(e){return e.table===o().ev?e.blockId:e.table===a().Vl?e.collectionId:e.table===i().yK?e.teamId:e.table===s().C0?e.workflowId:void(0,n().HB)(e)}function le(e){return e.table===o().ev?{table:o().ev,blockId:e.id}:e.table===a().Vl?{table:a().Vl,collectionId:e.id}:e.table===i().yK?{table:i().yK,teamId:e.id}:e.table===s().C0?{table:s().C0,workflowId:e.id}:void(0,n().HB)(e)}},69946:(e,t,r)=>{r.d(t,{A:()=>a,M:()=>o});var n=()=>r(292588);const o="monday_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,email:n().A.String,api_token:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID}}},72135:(e,t,r)=>{r.d(t,{$J:()=>N,C4:()=>c,D9:()=>y,PA:()=>u,Qq:()=>m,RQ:()=>f,SL:()=>g,XK:()=>T,ZV:()=>S,an:()=>B,bH:()=>v,gL:()=>R,iv:()=>p,kf:()=>D,pS:()=>d,sA:()=>U,z3:()=>M});r(898992),r(672577),r(581454);var n=r.n(r(611816)),o=r.n(r(901080)),a=()=>r(496603),i=()=>r(534177),s=()=>r(402390);const l=["dollar","australian_dollar","canadian_dollar","singapore_dollar","euro","pound","yen","ruble","rupee","won","yuan","real","lira","rupiah","franc","hong_kong_dollar","new_zealand_dollar","krona","norwegian_krone","mexican_peso","rand","new_taiwan_dollar","danish_krone","zloty","baht","forint","koruna","shekel","chilean_peso","philippine_peso","dirham","colombian_peso","riyal","ringgit","leu","argentine_peso","uruguayan_peso","peruvian_sol"],c="number";const u=["number","number_with_commas","percent",...l],d="precision_uncapped",p=[d,"precision_0","precision_1","precision_2","precision_3","precision_4","precision_5"],m={precision_uncapped:void 0,precision_0:0,precision_1:1,precision_2:2,precision_3:3,precision_4:4,precision_5:5};function f(e){return e?["number","number_with_commas","percent",e,...l.filter((t=>t!==e))]:u}function g(e){return"number"!==e&&"number_with_commas"!==e&&"compact"!==e&&"percent"!==e&&"bytes"!==e&&"bytes_binary"!==e&&"bytes_decimal"!==e&&"date_range"!==e&&"date"!==e&&l.includes(e)}function y(e){if(g(e))return _[e]}const _={dollar:"USD",australian_dollar:"AUD",canadian_dollar:"CAD",singapore_dollar:"SGD",euro:"EUR",pound:"GBP",yen:"JPY",ruble:"RUB",rupee:"INR",won:"KRW",yuan:"CNY",real:"BRL",lira:"TRY",rupiah:"IDR",franc:"CHF",hong_kong_dollar:"HKD",new_zealand_dollar:"NZD",krona:"SEK",norwegian_krone:"NOK",mexican_peso:"MXN",rand:"ZAR",new_taiwan_dollar:"TWD",danish_krone:"DKK",zloty:"PLN",baht:"THB",forint:"HUF",koruna:"CZK",shekel:"ILS",chilean_peso:"CLP",philippine_peso:"PHP",dirham:"AED",colombian_peso:"COP",riyal:"SAR",ringgit:"MYR",leu:"RON",argentine_peso:"ARS",uruguayan_peso:"UYU",peruvian_sol:"PEN"},v={USD:"dollar",AUD:"australian_dollar",CAD:"canadian_dollar",SGD:"singapore_dollar",EUR:"euro",GBP:"pound",JPY:"yen",RUB:"ruble",INR:"rupee",KRW:"won",CNY:"yuan",BRL:"real",TRY:"lira",IDR:"rupiah",CHF:"franc",HKD:"hong_kong_dollar",NZD:"new_zealand_dollar",SEK:"krona",NOK:"norwegian_krone",MXN:"mexican_peso",ZAR:"rand",TWD:"new_taiwan_dollar",DKK:"danish_krone",PLN:"zloty",THB:"baht",HUF:"forint",CZK:"koruna",ILS:"shekel",CLP:"chilean_peso",PHP:"philippine_peso",AED:"dirham",COP:"colombian_peso",SAR:"riyal",MYR:"ringgit",RON:"leu",ARS:"argentine_peso",UYU:"uruguayan_peso",PEN:"peruvian_sol"};const b=l.reduce(((e,t)=>(e[t]=function(e){var t;return(null===(t=new Intl.NumberFormat("en-US",{currency:_[e],style:"currency"}).formatToParts(0).find((e=>"currency"===e.type)))||void 0===t?void 0:t.value)||""}(t),e)),{}),h=["yen","won"],A=/[^0-9\.\,\ \-eE]/g,I=/[^0-9\.\-eE]/g,k=/(e\-|E\-||)/g,x=12;function S(e,t,r,o,l){if(!a().Et(e)||isNaN(e))return"";const{maximumFractionDigits:c,minimumFractionDigits:u}=function(e){if("number"==typeof e){if(Number.isInteger(e)&&e>=0&&e<=x)return{maximumFractionDigits:e,minimumFractionDigits:e};e=d}else void 0===e&&(e=d);if("precision_uncapped"===e)return{maximumFractionDigits:x,minimumFractionDigits:void 0};const t=m[e];return{maximumFractionDigits:t,minimumFractionDigits:t}}(l);if("percent"===t)return r.formatNumber(e,{style:"percent",maximumFractionDigits:c,minimumFractionDigits:u,useGrouping:!1,roundingMode:"halfExpand"});if(t&&(0,i().O)(b,t)){if("compact"===o)return r.formatNumber(e,{style:"currency",currencyDisplay:"symbol",currency:_[t],notation:o,roundingMode:"halfExpand"});return g(t)&&h.includes(t)?r.formatNumber(Math.round(e),{style:"currency",currencyDisplay:"symbol",currency:_[t],notation:o,maximumFractionDigits:0,minimumFractionDigits:0,roundingMode:"halfExpand"}):r.formatNumber(e,{style:"currency",currencyDisplay:"symbol",currency:_[t],notation:o,...void 0!==l&&l!==d||"number"==typeof l?{maximumFractionDigits:c,minimumFractionDigits:u}:{},roundingMode:"halfExpand"})}if("number_with_commas"===t){const{decimal:t,integerSeparator:o}=(0,s().dk)(r);return n()({decimal:t,integerSeparator:o,padRight:u,round:c})(e)}if("compact"===t)return r.formatNumber(e,{notation:"compact"});if("bytes"===t||"bytes_binary"===t||"bytes_decimal"===t)return M(e,{decimals:2,base:"bytes_decimal"===t?10:2});const p=e.toString();if(p.match(k)){const t=parseInt(p.split(k)[2],10);if(t<20){return e.toFixed(t)}{const{decimal:t,integerSeparator:o}=(0,s().dk)(r);return n()({decimal:t,integerSeparator:o,padRight:u,round:c})(e).replace(new RegExp(`\\${o}`,"g"),"")}}{const{decimal:t,integerSeparator:o}=(0,s().dk)(r);return n()({decimal:t,integerSeparator:o,padRight:u,round:c})(e).replace(new RegExp(`\\${o}`,"g"),"")}}function T(e,t){const r=(e??0)/t*100;return Math.max(0,Math.min(r,100))}function M(e,t={}){const{decimals:r=2,base:n=2}=t;if(0===e)return"0 B";const o=2===n?1024:1e3,a=r<0?0:r,i=["B","K","M","G","T","P","E","Z","Y"],s=e<0,l=Math.abs(e);if(l<o){return`${s?"-":""}${parseFloat(l.toFixed(a))} B`}const c=Math.floor(Math.log(l)/Math.log(o)),u=Math.min(c,i.length-1);return`${s?"-":""}${parseFloat((l/Math.pow(o,u)).toFixed(a))} ${i[u]}${2===n?"i":""}B`}const w={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","-":"-",",":",",".":".",e:"e",E:"E","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"-","":"e","":"E","":",","":"."};function B(e){let t="";if(!e)return t;for(let r=0;r<e.length;r++){const n=w[e[r]];void 0!==n&&(t+=n)}return t}class C{constructor(e){var t,r;this.group=void 0,this.decimal=void 0,this.numeral=void 0,this.numeralMap=void 0,this.convertNumeral=e=>{const t=this.numeralMap.get(e);return"number"==typeof t?t.toString():e};const n=e.formatNumberToParts(12345.6),o=[...e.formatNumber(9876543210,{useGrouping:!1})].reverse();this.numeralMap=new Map(o.map(((e,t)=>[e,t]))),this.group=new RegExp(`[${null===(t=n.find((e=>"group"===e.type)))||void 0===t?void 0:t.value}]`,"g"),this.decimal=new RegExp(`[${null===(r=n.find((e=>"decimal"===e.type)))||void 0===r?void 0:r.value}]`),this.numeral=new RegExp(`[${o.join("")}]`,"g")}parse(e){const t=(e=e.trim().replace(this.group,"").replace(this.decimal,".").replace(this.numeral,this.convertNumeral))?Number(e):NaN;return isNaN(t)?void 0:t}}const P=new(r(299919).Y)((e=>new C(e)));function N(e,t){if(!e)return;if(t){const r=P.get(t).parse(e);if(void 0!==r)return r}if(-1!==e.indexOf("-Infinity"))return Number.NEGATIVE_INFINITY;if(-1!==e.indexOf("Infinity"))return Number.POSITIVE_INFINITY;const r=e.replace("","/").split("/");if(2===r.length){const[e,t]=r.map((e=>N(e)));if(0===t)return;if(void 0!==e&&void 0!==t)return e/t}const n=B(e.replace(A,"")),a=n.match(/\d(\.| )\d{3}\,\d+$/);if(a||n.match(/\,\d{2}$/)){const e=a&&a[1]?{thousands:a[1]}:{},t=o()(n,{...e,decimal:","});return isNaN(t)?void 0:t}const i=n.replace(I,""),s=o()(i);if(isNaN(s)){const e=Number.parseFloat(i);return isNaN(e)?void 0:e}return s}function U(e){const t=e.replace(/(\d)( |_)(\d\d\d)/g,"$1$3");if(/^\d+(\.\d+)?%$/.test(t))return{format:"percent",value:parseFloat(t)/100};const r=(0,i().uv)(b).find((e=>t[0]===b[e]));if(r){const e=Number(t.slice(1));if(!a().yr(e))return{format:r,value:e}}else if(t.indexOf("0x")<0&&t.indexOf("/")<0&&t.indexOf(":")<0&&t.indexOf("-")<=0){const e=Number(t);if(!a().yr(e))return{format:"number",value:e}}}function R(e,t){switch(t){case"number":return e.formatMessage({id:"collection.numberFormat.numberTypeLabel",defaultMessage:"Number"});case"number_with_commas":return e.formatMessage({id:"collection.numberFormat.numberWithCommas",defaultMessage:"Number with commas"});case"percent":return e.formatMessage({id:"collection.numberFormat.percent",defaultMessage:"Percent"});case"real":return e.formatMessage({id:"collection.numberFormat.brl",defaultMessage:"Real"});case"lira":return e.formatMessage({id:"collection.numberFormat.try",defaultMessage:"Lira"});case"rupiah":return e.formatMessage({id:"collection.numberFormat.idr",defaultMessage:"Rupiah"});case"dollar":return e.formatMessage({id:"collection.numberFormat.dollar",defaultMessage:"US Dollar"});case"australian_dollar":return e.formatMessage({id:"collection.numberFormat.australianDollar",defaultMessage:"Australian dollar"});case"canadian_dollar":return e.formatMessage({id:"collection.numberFormat.canadianDollar",defaultMessage:"Canadian dollar"});case"singapore_dollar":return e.formatMessage({id:"collection.numberFormat.singaporeDollar",defaultMessage:"Singapore dollar"});case"euro":return e.formatMessage({id:"collection.numberFormat.euro",defaultMessage:"Euro"});case"pound":return e.formatMessage({id:"collection.numberFormat.pound",defaultMessage:"Pound"});case"yen":return e.formatMessage({id:"collection.numberFormat.yen",defaultMessage:"Yen"});case"ruble":return e.formatMessage({id:"collection.numberFormat.ruble",defaultMessage:"Ruble"});case"rupee":return e.formatMessage({id:"collection.numberFormat.rupee",defaultMessage:"Rupee"});case"won":return e.formatMessage({id:"collection.numberFormat.won",defaultMessage:"Won"});case"yuan":return e.formatMessage({id:"collection.numberFormat.yuan",defaultMessage:"Yuan"});case"franc":return e.formatMessage({id:"collection.numberFormat.franc",defaultMessage:"Franc"});case"hong_kong_dollar":return e.formatMessage({id:"collection.numberFormat.hongKongDollar",defaultMessage:"Hong Kong dollar"});case"new_zealand_dollar":return e.formatMessage({id:"collection.numberFormat.newZealandDollar",defaultMessage:"New Zealand dollar"});case"krona":return e.formatMessage({id:"collection.numberFormat.krona",defaultMessage:"Swedish krona"});case"norwegian_krone":return e.formatMessage({id:"collection.numberFormat.norwegianKrone",defaultMessage:"Norwegian krone"});case"mexican_peso":return e.formatMessage({id:"collection.numberFormat.mexicanPeso",defaultMessage:"Mexican peso"});case"rand":return e.formatMessage({id:"collection.numberFormat.rand",defaultMessage:"Rand"});case"new_taiwan_dollar":return e.formatMessage({id:"collection.numberFormat.newTaiwanDollar",defaultMessage:"New Taiwan dollar"});case"danish_krone":return e.formatMessage({id:"collection.numberFormat.danishKrone",defaultMessage:"Danish krone"});case"zloty":return e.formatMessage({id:"collection.numberFormat.zloty",defaultMessage:"Zoty"});case"baht":return e.formatMessage({id:"collection.numberFormat.baht",defaultMessage:"Baht"});case"forint":return e.formatMessage({id:"collection.numberFormat.forint",defaultMessage:"Forint"});case"koruna":return e.formatMessage({id:"collection.numberFormat.koruna",defaultMessage:"Koruna"});case"shekel":return e.formatMessage({id:"collection.numberFormat.shekel",defaultMessage:"Shekel"});case"chilean_peso":return e.formatMessage({id:"collection.numberFormat.chileanPeso",defaultMessage:"Chilean peso"});case"philippine_peso":return e.formatMessage({id:"collection.numberFormat.philippinePeso",defaultMessage:"Philippine peso"});case"dirham":return e.formatMessage({id:"collection.numberFormat.dirham",defaultMessage:"Dirham"});case"colombian_peso":return e.formatMessage({id:"collection.numberFormat.colombianPeso",defaultMessage:"Colombian peso"});case"riyal":return e.formatMessage({id:"collection.numberFormat.riyal",defaultMessage:"Riyal"});case"ringgit":return e.formatMessage({id:"collection.numberFormat.ringgit",defaultMessage:"Ringgit"});case"leu":return e.formatMessage({id:"collection.numberFormat.leu",defaultMessage:"Leu"});case"argentine_peso":return e.formatMessage({id:"collection.numberFormat.argentinePeso",defaultMessage:"Argentine peso"});case"uruguayan_peso":return e.formatMessage({id:"collection.numberFormat.uruguayanPeso",defaultMessage:"Uruguayan peso"});case"peruvian_sol":return e.formatMessage({id:"collection.numberFormat.peruvianSol",defaultMessage:"Peruvian sol"})}}function D(e,t){const r=N(e,t),n=B(e.replace(A,"")),o=void 0!==r&&!isNaN(r),a=n===e,i=""===e.trim();return o&&a&&!i}},78881:(e,t,r)=>{r.d(t,{A:()=>a,N:()=>o});var n=()=>r(292588);const o="workflow_external_connection_secret",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,workflow_external_connection_id:n().A.UUID,secret:n().A.String,secret_hash:n().A.String},requiredColumns:{workflow_external_connection_id:!0,version:!0,secret:!0,secret_hash:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},80518:(e,t,r)=>{r.d(t,{Ay:()=>a,kM:()=>o});var n=()=>r(292588);const o="external_user_profile",a={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,owner_id:n().A.UUID,owner_table:n().A.String,scim:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,user_id:!0,owner_id:!0,owner_table:!0,version:!0}}},84520:(e,t,r)=>{r.d(t,{Ay:()=>s,mu:()=>i,sy:()=>a,t_:()=>o});var n=()=>r(292588);const o={user_root:!0},a=["baseball-cap","bow","cat","cherry","cowboy","crown","duck","firefighter","flower","glasses","headphone","leaf","magician","mustache","paprika","pencil","propeller","safety-hat","scarf","seasonal-bat","seasonal-demon","seasonal-frankenstein","seasonal-pumpkin"],i="space_view",s={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,bookmarked_pages:n().A.StringArray,shared_pages:n().A.StringArray,shared_pages_manual_sort:n().A.StringArray,visited_templates:n().A.StringArray,sidebar_order:n().A.StringArray,sidebar_hidden_templates:n().A.StringArray,notify_mobile:n().A.Boolean,notify_desktop:n().A.Boolean,notify_email:n().A.Boolean,notify_email_always:n().A.Boolean,created_getting_started:n().A.Boolean,parent_id:n().A.UUID,parent_table:n().A.String,alive:n().A.Boolean,created_onboarding_templates:n().A.Boolean,private_pages:n().A.UUIDArray,joined:n().A.Boolean,joined_teams:n().A.UUIDArray,settings:n().A.JSON,ai_suggestions:n().A.JSON,assistant_session_starters:n().A.UUIDArray,first_joined_space_time:n().A.Number,public_share_link_pages:n().A.UUIDArray,guest_experience:n().A.String,trusted_domain_pages:n().A.UUIDArray,marked_dead_time:n().A.Number,last_known_membership_type:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{bookmarked_pages:{getMethod:"getBookmarkedPageIds",getKeyStoreMethod:"getBookmarkedPagesStore"},shared_pages:{getMethod:"getSharedPageIds",getKeyStoreMethod:"getSharedPagesStore"},shared_pages_manual_sort:{getMethod:"getSharedPagesManualSortIds",getKeyStoreMethod:"getSharedPagesManualSortStore"},private_pages:{getMethod:"getPrivatePageIds",getKeyStoreMethod:"getPrivatePagesStore"},visited_templates:{getMethod:"getVisitedTemplateIds",getKeyStoreMethod:"getVisitedTemplatesStore"},sidebar_hidden_templates:{getMethod:"getSidebarHiddenTemplateIds",getKeyStoreMethod:"getSidebarHiddenTemplatesStore"},assistant_session_starters:{getMethod:"getAssistantSessionStarterIds",getKeyStoreMethod:"getAssistantSessionStartersStore"}}})}},85216:(e,t,r)=>{r.d(t,{A:()=>a,c:()=>o});var n=()=>r(292588);const o="asana_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,account:n().A.String}}},87845:(e,t,r)=>{r.d(t,{A:()=>a,b:()=>o});var n=()=>r(292588);const o="template_collection",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,authors:n().A.StringArray,locale:n().A.String,templates:n().A.StringArray,description:n().A.String,long_description:n().A.String,collection_body:n().A.JSON,meta_title:n().A.String,meta_description:n().A.String,last_version:n().A.Number,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,published_at:n().A.Number,attributes:n().A.JSON,display_in_app:n().A.Boolean},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,authors:!0,locale:!0,templates:!0,description:!0,long_description:!0,meta_title:!0,meta_description:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,published_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},90634:(e,t,r)=>{r.d(t,{L:()=>l,ao:()=>s,hj:()=>i,rJ:()=>c});var n=()=>r(498212),o=()=>r(700500);(0,r(69708).YK)({personalHome:{defaultMessage:"Home",id:"homePageTemplates.home"},assignedToMeView:{defaultMessage:"My tasks",id:"homePageTemplates.assignedToMeView"},createdByMeView:{defaultMessage:"Created by me",id:"homePageTemplates.createdByMeView"},customDbTitle:{defaultMessage:"Home views",id:"homePageTemplates.customDbTitle.includeHome"},postsView:{defaultMessage:"Following",id:"homePageTemplates.postsView"}});const a={trending:{block:"trending",collectionViews:{default:"trendingCollectionView"},collection:"trendingCollection"},myTasks:{block:"myTasks",collectionViews:{default:"myTasksAssignedToMeCollectionView"}},customDb:{block:"customDb",collectionViews:{default:"customDbCollectionView"}},similarUsers:{block:"similarUsers",collectionViews:{default:"similarUsersCollectionView"},collection:"similarUsersCollection"},main:{block:"main"},shortcuts:{block:"shortcuts"},mostVisited:{block:"mostVisited",collectionViews:{default:"mostVisitedCollectionView"},collection:"mostVisitedCollection"},lastEdited:{block:"lastEdited",collectionViews:{default:"lastEditedCollectionView"},collection:"lastEditedCollection"},favorites:{block:"favorites",collectionViews:{default:"favoritesCollectionView"},collection:"favoritesCollection"},posts:{block:"posts",collectionViews:{default:"postsCollectionView",following:"postsFollowingCollectionView",discover:"postsDiscoverCollectionView"}}};function i({userId:e,spaceId:t}){return{main:u({userId:e,spaceId:t,type:"main"}),trending:u({userId:e,spaceId:t,type:"trending"}),myTasks:u({userId:e,spaceId:t,type:"myTasks"}),customDb:u({userId:e,spaceId:t,type:"customDb"}),similarUsers:u({userId:e,spaceId:t,type:"similarUsers"}),shortcuts:u({userId:e,spaceId:t,type:"shortcuts"}),mostVisited:u({userId:e,spaceId:t,type:"mostVisited"}),lastEdited:u({userId:e,spaceId:t,type:"lastEdited"}),favorites:u({userId:e,spaceId:t,type:"favorites"}),posts:u({userId:e,spaceId:t,type:"posts"}),trendingCollectionView:p({userId:e,spaceId:t,type:"trending"}),myTasksAssignedToMeCollectionView:p({userId:e,spaceId:t,type:"myTasks"}),customDbCollectionView:p({userId:e,spaceId:t,type:"customDb"}),similarUsersCollectionView:p({userId:e,spaceId:t,type:"similarUsers"}),mostVisitedCollectionView:p({userId:e,spaceId:t,type:"mostVisited"}),lastEditedCollectionView:p({userId:e,spaceId:t,type:"lastEdited"}),favoritesCollectionView:p({userId:e,spaceId:t,type:"favorites"}),postsCollectionView:p({userId:e,spaceId:t,type:"posts"}),postsFollowingCollectionView:p({userId:e,spaceId:t,type:"posts",viewType:"following"}),postsDiscoverCollectionView:p({userId:e,spaceId:t,type:"posts",viewType:"discover"}),trendingCollection:d({userId:e,spaceId:t,type:"trending"}),similarUsersCollection:d({userId:e,spaceId:t,type:"similarUsers"}),mostVisitedCollection:d({userId:e,spaceId:t,type:"mostVisited"}),lastEditedCollection:d({userId:e,spaceId:t,type:"lastEdited"}),favoritesCollection:d({userId:e,spaceId:t,type:"favorites"})}}function s(e){return e.isType(o().xd.personalHomePage)}function l(e){return a[e.type].collection}function c(e){return d(e)}function u({userId:e,spaceId:t,type:r}){const o=a[r].block;return(0,n().gB)(`${e}-${t}-${o}`)}function d({userId:e,spaceId:t,type:r}){const o=a[r].collection;return(0,n().gB)(`${e}-${t}-${o}`)}function p({userId:e,spaceId:t,type:r,viewType:o}){const i=a[r].collectionViews[o??"default"];return(0,n().gB)(`${e}-${t}-${i}`)}},91913:(e,t,r)=>{r.d(t,{$5:()=>d,Dp:()=>c,JW:()=>m,Jh:()=>s,M2:()=>y,MJ:()=>p,NQ:()=>h,QS:()=>u,T_:()=>a,as:()=>v,bp:()=>i,cf:()=>l,kC:()=>b,pr:()=>n,qP:()=>_,rQ:()=>g,sF:()=>f,v6:()=>o});const n="Block not found",o="Expected block store value",a="Expected block content",i="Expected CRDT-enabled block",s="Invalid CRDT version",l="Expected block title text slice tree",c="Expected block text slice tree to contain item",u="Expected block text slice to contain item",d="Expected text item",p="Expected start item",m="Expected start or split item",f="Expected end or split item",g="Expected start, split, or text item",y="Expected text or split item",_="Expected origin item id",v="Expected page block tacker",b="Expected page text instance tacker",h="Expected non-empty range"},92750:(e,t,r)=>{r.d(t,{MU:()=>a,vb:()=>o,wq:()=>i});var n=()=>r(534177);function o(e){return"owner"===e}function a(e){return{role:"owner",id:e}}function i(e){const{filters:t,defaultFilters:r}=e,o={...t};return t?(Array.isArray(t.roles)&&(0,n().EI)(t.roles)?o.roles=t.roles:Array.isArray(r.roles)&&(0,n().EI)(r.roles)&&(o.roles=r.roles),o):r}},96330:(e,t,r)=>{r.d(t,{Sd:()=>c,X1:()=>i,eC:()=>o,lS:()=>l,tk:()=>a});var n=()=>r(201980);function o(e){if(!e)return;const t=n().RQ(e),r=n().uPN(t[0])[0];if(!r||!n().dei(r))return;const o=r[1];return{lat:o.lat,lon:o.lon,name:Boolean(o.name)?o.name:void 0,googlePlaceId:Boolean(o.googlePlaceId)?o.googlePlaceId:void 0,awsPlaceId:Boolean(o.awsPlaceId)?o.awsPlaceId:void 0,address:Boolean(o.address)?o.address:void 0}}function a(e){if(!e||!s(e))return[];const t=n().ZW1(e);return[n().wmz(t)]}function i(e){if(e&&s(e))return e.name||e.address||`${e.lat.toFixed(2)}, ${e.lon.toFixed(2)}`}function s(e){return void 0!==e.lat&&null!==e.lat&&void 0!==e.lon&&null!==e.lon&&("number"==typeof e.lat&&"number"==typeof e.lon)}function l(e){var t;const r=e.split(",");return{addressFirstLine:null==r?void 0:r[0],addressRest:(null==r||null===(t=r.slice(1))||void 0===t?void 0:t.join(", "))||""}}function c({suggestionTitle:e,query:t}){if(e.toLowerCase().startsWith(t.toLowerCase())){return{matching:e.slice(0,t.length),nonMatching:e.slice(t.length)}}return t.toLowerCase().startsWith(e.toLowerCase())?{matching:e,nonMatching:""}:{matching:"",nonMatching:e}}},100622:(e,t,r)=>{r.d(t,{AQ:()=>I,C8:()=>D,Cg:()=>q,D$:()=>Q,FK:()=>B,Fi:()=>x,IF:()=>m,JG:()=>P,LD:()=>L,Ld:()=>G,N:()=>A,Nq:()=>z,O4:()=>h,Q:()=>H,Tj:()=>y,Wr:()=>k,aO:()=>C,cm:()=>K,eA:()=>W,eb:()=>N,ed:()=>Z,k5:()=>$,tS:()=>S,vU:()=>F,x0:()=>U,zl:()=>O});r(581454);var n=()=>r(751735),o=()=>r(406944),a=()=>r(770940),i=()=>r(512062),s=()=>r(358813),l=()=>r(139304),c=()=>r(496603),u=()=>r(638013),d=()=>r(534177);const p={inherit:"inherit",transparent:"transparent",black:"black",white:"white"},m={whiteWithAlpha:(e=1)=>`rgba(255, 255, 255, ${e})`,blackWithAlpha:(e=1)=>`rgba(0, 0, 0, ${e})`,redWithAlpha:(e=1)=>`rgba(235, 87, 87, ${e})`,blueWithAlpha:(e=1)=>`rgba(35, 131, 226, ${e})`},f={blue:"#2383E2",red:"#EB5757",contentBorder:"#E4E3E2",contentGrayBackground:"#F7F6F5",contentPlaceholder:"#C4C4C4",defaultText:"rgb(66, 66, 65)",uiBlack:"#333",uiExtraLightGray:"#E2E2E2",uiGray:"#A5A5A5",uiLightBlack:"#888",uiLightBorder:"#F2F1F0",uiLightGray:"#C4C4C4"},g={halfWhite:"rgba(255, 255, 255, 0.5)",diffTextColor:f.blue,diffBackground:"rgba(35, 131, 226, 0.1)",diffBackgroundHover:"rgba(35, 131, 226, 0.2)"},y={...p,...f,EmailBaseColor:"#333333",EmailBorderColor:"#EEEEEE",EmailCaptionColor:"#AAAAAA",EmailPasswordBackground:"#F4F4F4",EmailSecondaryTextColor:"#787774",EmailLinkBackground:"#F9F9F8",EmailTitleColor:"#1D1B16",EmailFooterSecondaryTextColor:"#ACABA9",PendingInvitationTextColor:"#ACABA9",frontText:"#040404",frontTextLight:"rgba(0,0,0,0.4)",frontTextMedium:"rgba(0,0,0,0.6)",frontTextDark:"#111111",frontBorder:"rgba(0, 0, 0, 0.1)",frontCreamBackground:"#FFFEFC",frontCreamBackgroundDark:"#F9F5F1",frontCreamText:"#463D34",frontCreamBorder:"#D4CFCB",frontBlueBackground:"#EFF3F5",frontBlueBackgroundDark:"#D7E3E8",frontBlueText:"#2383E2",frontBlueBorder:"#B5C7D8",frontPurpleBackground:"#E7E6EA",frontPurpleBackgroundDark:"#D9D7DF",frontPurpleText:"#382F49",frontPurpleBorder:"#ACA8BD",frontOrangeBackground:"#F8EDE7",frontOrangeBackgroundDark:"#F2DCCF",frontOrangeText:"#5B3322",frontOrangeBorder:"#DEBEAC",frontRed:"#eb5757",frontPrimaryButtonBackground:"#E16259",frontPrimaryButtonBackgroundHovered:"#CF534A",frontPrimaryButtonBackgroundPressed:"#BF4D45",frontPrimaryButtonBorder:"#BE5643",frontRedButtonBackground:"#E16259",frontRedButtonBackgroundHovered:"#CF534A",frontRedButtonBackgroundPressed:"#BF4D45",frontRedButtonBorder:"#BE5643",frontSecondaryButtonBackground:"#FDF5F2",frontSecondaryButtonBackgroundHovered:"#FBEBE8",frontSecondaryButtonBackgroundPressed:"#F9E5E2",frontTertiaryButtonBackground:"transparent",frontTertiaryButtonBackgroundHovered:"rgba(55, 53, 47, 0.08)",frontTertiaryButtonBackgroundPressed:"rgba(55, 53, 47, 0.16)",frontQuaternaryButtonBackground:"#2383E2",frontQuaternaryButtonBackgroundHovered:"#2383E2",frontQuaternaryButtonBackgroundPressed:"#2383E2",frontQuaternaryButtonBorder:"#2383E2",frontMobilePhoneBackground:"#1d1d1d",frontTransparent:"transparent",frontBlackButtonBackground:"#323232",frontBlackButtonBackgroundHovered:"#404040",frontBlackButtonBackgroundPressed:"#4B4B4B",frontBlueButtonBackground:"#2383E2",frontBlueButtonHoveredBackground:"rgba(0, 119, 212, 1.0)",frontBlueButtonPressedBackground:"rgba(0, 107, 199, 1.0)",regularTextColor:"rgba(55, 53, 47, 1.0)",mediumTextColor:"rgba(55, 53, 47, 0.7)",lightTextColor:"rgba(55, 53, 47, 0.4)",regularIconColor:"rgba(55, 53, 47, 0.8)",mediumIconColor:"rgba(55, 53, 47, 0.4)",lightIconColor:"rgba(55, 53, 47, 0.2)",dividerColor:"rgba(55, 53, 47, 0.09)",invertedTextColor:"rgba(255, 255, 255, 0.9)",selectionColor:"rgba(35, 131, 226, 0.28)",...g},_={light:"light",dark:"dark"};function v(e){const t={mode:_,palette:i().M,...s().l,primaryBlack:{light:y.black,dark:y.white},darkTextColor:{light:"rgba(55, 53, 47, 0.8)",dark:i().M.dark.translucentGray[700]},pageTitlePlaceholderTextColor:{light:"rgba(55, 53, 47, 0.15)",dark:i().M.dark.gray[400]},headerBlockPlaceholderTextColor:{light:"rgba(55, 53, 47, 0.2)",dark:i().M.dark.gray[400]},lightDividerColor:{light:"rgba(55, 53, 47, 0.06)",dark:i().M.dark.translucentGray[200]},regularDividerColor:{light:"rgba(55, 53, 47, 0.09)",dark:i().M.dark.translucentGray[300]},darkDividerColor:{light:"rgba(55, 53, 47, 0.16)",dark:i().M.dark.translucentGray[400]},chartLegendItemHiddenColor:{light:i().M.light.gray[100],dark:i().M.dark.gray[400]},chartInactiveLegendNavigationColor:{light:i().M.light.gray[100],dark:i().M.dark.gray[200]},chartRowRightColor:{light:i().M.light.gray[300],dark:i().M.dark.translucentGray[500]},tableDividerColor:{light:"rgb(233,233,231)",dark:i().M.dark.gray[300]},tableHomeDividerColor:{light:"rgba(55, 53, 47, 0.15)",dark:i().M.dark.translucentGray[400]},tableFrozenFilterDividerColor:{light:"rgb(213, 212, 210)",dark:"rgb(70, 70, 70)"},tableFrozenSelectedDividerColor:{light:"rgb(202,212,225)",dark:"rgb(47,58,72)"},tableLightDividerColor:{light:"rgb(238,238,237)",dark:i().M.dark.gray[200]},largePopupBorder:{light:"rgba(55, 53, 47, 0.1)",dark:"rgba(255, 255, 255, 0.13)"},largeShimmerColor:{light:"rgba(55, 53, 47, 0.04)",dark:i().M.dark.translucentGray[200]},linkDecorationColor:{light:"rgba(55, 53, 47, 0.25)",dark:i().M.dark.gray[400]},opacityLinkDecorationColor:{light:"rgba(55, 53, 47, 0.4)",dark:i().M.dark.translucentGray[500]},regularEmojiColor:{light:y.black,dark:i().M.dark.gray[900]},sidebarTextColor:{light:"#5F5E5B",dark:i().M.dark.gray[700]},sidebarSecondaryColor:{light:"#91918E",dark:i().M.dark.gray[700]},sidebarItemSelectedBackground:{light:"rgba(0, 0, 0, 0.03)",dark:i().M.dark.translucentGray[200]},sidebarSecondaryBackground:{light:"rgba(0, 0, 0, 0.025)",dark:"rgba(0, 0, 0, 0.025)"},contentBackgroundTransparent:{light:"rgba(255,255,255,0)",dark:"rgba(241, 241, 239, 0)"},cardContentBackgroundTransparent:{light:"rgba(255, 255, 255, 0)",dark:"rgba(227, 226, 224, 0)"},overlaySmokescreen:{light:"rgba(15, 15, 15, 0.6)",dark:"rgba(15, 15, 15, 0.8)"},calendarItemBackground:{light:y.white,dark:i().M.dark.gray[300]},calendarItemHoveredBackground:{light:i().M.light.gray[75],dark:i().M.dark.gray[400]},popoverBackground:{light:y.white,dark:i().M.dark.gray[200]},popoverWaxPaperBackground:{light:"rgba(255,255,255,0.9)",dark:"rgba(32, 32, 32, 0.9)"},boardItemDefaultBackground:{light:y.white,dark:i().M.dark.translucentGray[200]},collectionGalleryPreviewCardBackground:{light:y.white,dark:i().M.dark.translucentGray[200]},collectionGalleryPreviewCardCover:{light:"rgba(55, 53, 47, 0.025)",dark:i().M.dark.translucentGray[100]},collectionUnsetDependencyArrow:{light:i().M.light.gray[200],dark:i().M.dark.gray[600]},collectionValidDependencyArrow:{light:i().M.light.yellow[300],dark:i().M.dark.yellow[600]},modalUnderlayBackground:{light:"rgba(15, 15, 15, 0.6)",dark:"rgba(15, 15, 15, 0.8)"},altTextPopupBackground:{light:"rgba(255, 255, 255, 0.97)",dark:"rgba(37, 37, 37, 0.97)"},filterGroupBackground:{light:"rgba(0, 0, 0, 0.02)",dark:i().M.dark.translucentGray[100]},beigeBannerBackground:{light:"#FBF8F3",dark:"rgb(55, 60, 63)"},darkBannerBackground:{light:"#EAE9E7",dark:"rgb(55, 60, 63)"},keyboardDoneBarBackground:{light:"#F0F1F2",dark:"#27292B"},keyboardActionBarBackground:{light:y.white,dark:"#272829"},UIUserAvatarInnerOutline:{light:"rgba(255, 255, 255, 0.3)",dark:"rgba(25, 25, 25, 0.3)"},UIUserAvatarSelfBorder:{light:i().M.light.gray[500],dark:i().M.dark.gray[700]},UIUserAvatarIdleOutline:{light:"rgb(241, 241, 239)",dark:"rgb(85, 85, 83)"},suspendedUIUserAvatarBackground:{light:i().M.light.gray[75],dark:i().M.dark.gray[400]},selectorBorderUnselected:{light:i().M.light.gray[100],dark:i().M.dark.gray[500]},codeBlockBackground:{light:"rgb(247, 246, 243)",dark:i().M.dark.translucentGray[100]},codeStickyBlockBackground:{light:"rgb(247, 246, 243)",dark:"#272727"},codeBlockButtonBackground:{light:"#EAE9E5",dark:i().M.dark.gray[200]},tableHeaderRowColumnBackground:{light:"rgb(247, 246, 243)",dark:i().M.dark.translucentGray[100]},embedPlaceholderBackground:{light:"rgba(242, 241, 238, 1.0)",dark:i().M.dark.translucentGray[100]},defaultBadgeBackground:{light:"rgba(206, 205, 202, 0.5)",dark:i().M.dark.translucentGray[200]},inputBackground:{light:"rgba(242,241,238,0.6)",dark:i().M.dark.translucentGray[200]},tokenInputMenuItemBackground:{light:"rgba(242,241,238,0.6)",dark:i().M.dark.translucentGray[100]},hoveredDiscussionBackground:{light:"rgba(55, 53, 47, 0.03)",dark:i().M.dark.gray[100]},hoveredMarginDiscussionBackground:{light:"rgb(249, 249, 248)",dark:i().M.dark.gray[100]},selectedMarginDiscussionBackground:{light:y.white,dark:i().M.dark.gray[200]},focusDiscussionBackground:{light:"rgba(255, 212, 0, 0.065)",dark:i().M.dark.gray[200]},focusDiscussionInputBackground:{light:"rgba(55, 53, 47, 0.06)",dark:i().M.dark.translucentGray[200]},filterPillBackground:{light:"rgba(35, 131, 226, 0.03)",dark:"rgba(35, 131, 226, 0.07)"},filterPillBorder:{light:"rgba(35, 131, 226, 0.35)",dark:"rgba(35, 131, 226, 0.35)"},buttonHoveredBackground:{light:"rgba(55, 53, 47, 0.06)",dark:i().M.dark.translucentGray[200]},tableRowHoveredBackground:{light:"rgba(55, 53, 47, 0.025)",dark:"rgba(255, 255, 255, 0.055)"},outlineButtonHoveredBackground:{light:"rgba(55, 53, 47, 0.06)",dark:i().M.dark.translucentGray[200]},outlineButtonPressedBackground:{light:"rgba(55, 53, 47, 0.16)",dark:i().M.dark.gray[200]},buttonPressedBackground:{light:"rgba(55, 53, 47, 0.16)",dark:i().M.dark.translucentGray[100]},buttonPressedBackgroundLight:{light:"rgba(55, 53, 47, 0.1)",dark:i().M.dark.translucentGray[100]},cardBackground:{light:"rgba(55, 53, 47, 0.03)",dark:i().M.dark.gray[200]},cardHoveredBackground:{light:"rgba(55, 53, 47, 0.04)",dark:i().M.dark.gray[300]},cardPressedBackground:{light:"rgba(55, 53, 47, 0.06)",dark:i().M.dark.gray[200]},blueButtonBackground:{light:y.blue,dark:i().M.dark.blue[600]},blueButtonHoveredBackground:{light:"rgba(0, 119, 212, 1.0)",dark:"rgba(0, 119, 212, 1.0)"},blueButtonPressedBackground:{light:"rgba(0, 107, 199, 1.0)",dark:"rgba(0, 107, 199, 1.0)"},white:{light:y.white,dark:y.black},whiteButtonBackground:{light:y.white,dark:i().M.dark.gray[200]},assistantCornerButtonBackground:{light:y.white,dark:i().M.dark.gray[800]},assistantCornerButtonBackgroundHovered:{light:"rgb(239, 239, 238)",dark:"rgb(239, 239, 238)"},assistantCornerButtonBackgroundPressed:{light:"rgb(223, 223, 222)",dark:"rgb(223, 223, 222)"},assistantTintedActionButtonBackground:{light:i().M.light.translucentGray[50],dark:i().M.dark.translucentGray[200]},assistantTintedActionButtonBackgroundHovered:{light:i().M.light.translucentGray[100],dark:i().M.dark.translucentGray[400]},assistantTintedActionButtonBackgroundPressed:{light:i().M.light.translucentGray[200],dark:i().M.dark.translucentGray[300]},redButtonBackground:{light:y.red,dark:i().M.dark.red[600]},redButtonHoveredBackground:{light:"rgba(220, 73, 76, 1.0)",dark:"rgba(207, 72, 70, 0.8)"},redButtonPressedBackground:{light:"rgba(205, 59, 65, 1.0)",dark:"rgba(193, 58, 59, 0.8)"},grayButtonBackground:{light:y.uiGray,dark:i().M.dark.gray[600]},grayButtonHoveredBackground:{light:"rgba(152, 152, 152, 1.0)",dark:"rgba(115, 115, 115, 1.0)"},grayButtonPressedBackground:{light:"rgba(140, 140, 140, 1.0)",dark:"rgba(103, 103, 103, 1.0)"},lightGrayButtonBackground:{light:i().M.light.gray[75],dark:i().M.dark.translucentGray[100]},lightGrayButtonHoveredBackground:{light:i().M.light.gray[90],dark:i().M.dark.translucentGray[200]},lightGrayButtonPressedBackground:{light:i().M.light.gray[100],dark:i().M.dark.translucentGray[300]},buttonGroupBackground:{light:y.white,dark:i().M.dark.gray[300]},checkboxBackground:{light:i().M.light.uiBlue[600],dark:i().M.dark.uiBlue[600]},checkboxHoveredBackground:{light:"rgba(25, 127, 221, 1.0)",dark:"rgba(25, 127, 221, 1.0)"},checkboxPressedBackground:{light:"rgba(10, 123, 217, 1.0)",dark:"rgba(10, 123, 217, 1.0)"},uncheckedCheckboxHoveredBackground:{light:"rgba(0, 0, 0, 0.04)",dark:"rgba(255, 255, 255, 0.055)"},uncheckedCheckboxPressedBackground:{light:"rgba(0, 0, 0, 0.1)",dark:"rgba(255, 255, 255, 0.13)"},whiteButtonHoveredBackground:{light:"rgb(239, 239, 238)",dark:i().M.dark.gray[300]},whiteButtonPressedBackground:{light:"rgb(223, 223, 222)",dark:i().M.dark.gray[200]},outlineBlueButtonHoveredBackground:{light:"rgba(35, 131, 226, 0.07)",dark:"rgba(35, 131, 226, 0.07)"},outlineBlueButtonPressedBackground:{light:"rgba(35, 131, 226, 0.14)",dark:"rgba(35, 131, 226, 0.14)"},outlineRedButtonBorder:{light:"rgba(235, 87, 87, 0.5)",dark:i().M.dark.red[400]},outlinefrontSecondaryButtonHoveredBackground:{light:"rgba(235, 87, 87, 0.1)",dark:"rgba(235, 87, 87, 0.1)"},outlinefrontSecondaryButtonPressedBackground:{light:"rgba(235, 87, 87, 0.2)",dark:"rgba(235, 87, 87, 0.2)"},outlineButtonBorder:{light:"rgba(55, 53, 47, 0.16)",dark:i().M.dark.translucentGray[400]},filterGroupBorder:{light:"rgba(55, 53, 47, 0.1)",dark:i().M.dark.translucentGray[200]},radioButtonBorder:{light:"rgba(0, 0, 0, 0.2)",dark:i().M.dark.translucentGray[400]},timelineBackground:{light:"rgb(253,253,253)",dark:i().M.dark.gray[50]},peekTimelineBackground:{light:"rgb(253,253,253)",dark:i().M.dark.gray[100]},timelineDarkerBackground:{light:"rgb(247,247,247)",dark:i().M.dark.translucentGray[100]},timelineRed:{light:"rgb(211,79,67)",dark:i().M.dark.red[600]},topbarFavorite:{light:"#F6C050",dark:i().M.dark.yellow[900]},calendarTodayBackground:{light:"#EB5757",dark:i().M.dark.red[700]},home:{light:{emptyStatePreview:{joinButtonBackground:i().M.light.gray[30],calendarIndicator:i().M.light.gray[75],verticalDivider:i().M.light.gray[75]},scrollButtonBackground:{base:y.white,pressed:i().M.light.gray[75]},tile:{background:"rgba(255, 255, 255, 0.9)"},cards:{coverPhoto:{base:i().M.light.gray[30]},background:{base:y.white,hovered:y.white,pressed:i().M.light.gray[75]},templateCardBackground:{base:y.white,hovered:y.white,pressed:"rgba(0, 0, 0, 0.025)"}}},dark:{emptyStatePreview:{joinButtonBackground:i().M.dark.gray[200],calendarIndicator:i().M.dark.gray[300],verticalDivider:i().M.dark.gray[300]},scrollButtonBackground:{base:i().M.dark.gray[200],pressed:i().M.dark.gray[300]},tile:{background:"rgba(32, 32, 32, 0.9)"},cards:{coverPhoto:{base:"rgba(255, 255, 255, 0.03)"},background:{base:"rgba(255, 255, 255, 0.05)",hovered:"rgba(255, 255, 255, 0.05)",pressed:"rgba(255, 255, 255, 0.07)"},templateCardBackground:{base:"rgba(255, 255, 255, 0.05)",hovered:"rgba(255, 255, 255, 0.05)",pressed:"rgba(255, 255, 255, 0.07)"}}}},personalHomeBackgroundPhone:{light:i().M.light.gray[30],dark:i().M.dark.gray[50]},importOptionsButtonBackground:{light:y.white,dark:i().M.dark.translucentGray[100]},importOptionsIconWrapBackground:{light:"#FBFBFA",dark:i().M.dark.gray[100]},sitesPagePreviewWindowsChromeBar:{light:"#F5F5F5",dark:"#141414"},seoPreviewTitle:{light:"#1D13A3",dark:"#9EBDF4"},sitesBuilderBackground:{light:"#FCFCFC",dark:"#1F1F1F"},sitesInstructionStep:{light:i().M.light.gray[75],dark:i().M.dark.gray[400]},selectLightGray:{light:{700:"rgba(72, 71, 67, 0.5)",500:"rgba(120, 119, 116, 0.5)",400:"rgba(145, 145, 142, 0.5)",300:"rgba(172, 171, 169, 0.5)",200:"rgba(199, 198, 196, 0.5)",100:"rgba(227, 226, 224, 0.5)",50:"rgba(241, 241, 239, 0.5)",30:"rgba(249, 249, 245, 0.5)"},dark:{30:"rgba(21, 21, 21, 1)",50:"rgba(25, 25, 25, 1)",100:"rgba(32, 32, 32, 1)",200:"rgba(37, 37, 37, 1)",300:"rgba(47, 47, 47, 1)",400:"rgba(55, 55, 55, 1)",500:"rgba(90, 90, 90, 1)",700:"rgba(155, 155, 155, 1)"}},guestIconColor:{light:"rgba(218, 163, 64, 1)",dark:"rgba(218, 163, 64, 1)"},legacyDefaultSelectColor:{light:"rgba(206, 205, 202, 0.5)",dark:i().M.dark.translucentGray[300]},legacyRedSelectColor:{light:"rgba(255,0,26,0.2)",dark:"rgba(255,115,105, 0.5)"},equationTemporaryPlaceholderBackground:{light:"rgba(35, 131, 226, 0.14)",dark:i().M.dark.translucentGray[100]},simpleTableSelectionBorder:{light:i().M.light.uiBlue[600],dark:i().M.dark.blue[900]},onboardingBackground:{light:"rgb(247, 246, 243)",dark:i().M.dark.gray[100]},onboardingPreviewBackground:{light:"rgb(247, 247, 245)",dark:i().M.dark.gray[100]},errorText:{light:"#eb5757",dark:i().M.dark.red[700]},lightErrorText:{light:"#f28d8d",dark:i().M.dark.red[500]},aiPurpleColor:{light:i().M.light.purple[400],dark:i().M.dark.purple[800]},invoiceGreen:{light:"#53A83F",dark:"#53A83F"},statusTokenBackground:{light:{green:"rgb(0 150 88 / 6%)",yellow:"rgb(234 197 103 / 25%)",red:"rgb(211 79 67 / 10%)"},dark:{green:"rgb(0 150 88 / 10%)",yellow:"rgb(234 197 103 / 10%)",red:"rgb(211 79 67 / 10%)"}},statusTokenIndicator:{light:{green:"rgb(0 150 88)",yellow:"rgb(234 197 103)",red:"rgb(211 79 67)"},dark:{green:"rgb(0 150 88)",yellow:"rgb(234 197 103)",red:"rgb(211 79 67)"}},findHighlightMatch:{light:{selectedBackground:"rgba(255,205,56,0.9)",unselectedBackground:"rgba(255,205,56,0.4)"},dark:{selectedBackground:"rgba(255,205,56,0.9)",unselectedBackground:"rgba(68,65,55,1)"}},statusTokenText:{light:{green:"#2D7650",yellow:"#CA8E1B",red:"#BE4135"},dark:{green:"#2D7650",yellow:"#CA8E1B",red:"#BE4135"}},guestTokenBackground:{light:"rgba(218, 163, 64, 0.2)",dark:"rgba(218, 163, 64, 0.2)"},marketplaceStarDefault:{light:"rgba(255, 177, 16, 0.3)",dark:"rgba(255, 177, 16, 0.3)"},marketplaceStarSelected:{light:"rgb(255, 177, 16)",dark:"rgb(255, 177, 16)"},pill:{light:{background:{yellow:i().M.light.yellow[30],blue:i().M.light.uiBlue[50],red:i().M.light.red[30],white:i().M.light.gray[30]},border:{yellow:i().M.light.yellow[50],blue:i().M.light.uiBlue[100],red:i().M.light.red[50],white:i().M.light.gray[75]},icon:{yellow:"rgba(255, 177, 16, 1)",blue:i().M.light.uiBlue[600],red:i().M.light.red[500],white:i().M.light.gray[400]},outline:{yellow:i().M.light.yellow[100],blue:i().M.light.uiBlue[200],red:i().M.light.red[100],white:i().M.light.gray[75]},hover:{background:{yellow:i().M.light.yellow[50],blue:i().M.light.uiBlue[200],red:i().M.light.red[50],white:"rgba(0, 0, 0, 0.1)"},border:{yellow:i().M.light.yellow[100],blue:i().M.light.uiBlue[100],red:i().M.light.red[100],white:i().M.light.gray[100]},text:{yellow:i().M.light.yellow[800],blue:i().M.light.uiBlue[600],red:i().M.light.red[500],white:i().M.light.gray[500]}},pressed:{background:{yellow:i().M.light.yellow[100],blue:i().M.light.uiBlue[300],red:i().M.light.red[100],white:"rgba(0, 0, 0, 0.2)"},border:{yellow:i().M.light.yellow[100],blue:i().M.light.uiBlue[100],red:i().M.light.red[100],white:i().M.light.gray[200]}},selected:{background:{yellow:i().M.light.yellow[50],blue:i().M.light.uiBlue[100],red:i().M.light.red[50],white:i().M.light.gray[75]},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.light.uiBlue[400],red:i().M.light.red[300],white:i().M.light.gray[400]},hover:{background:{yellow:i().M.light.yellow[100],blue:i().M.light.uiBlue[200],red:i().M.light.red[100],white:i().M.light.gray[100]},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.light.uiBlue[400],red:i().M.light.red[300],white:i().M.light.gray[400]}},pressed:{background:{yellow:"rgba(252, 226, 171, 1)",blue:i().M.light.uiBlue[300],red:i().M.light.red[200],white:i().M.light.gray[200]},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.light.uiBlue[400],red:i().M.light.red[300],white:i().M.light.gray[400]}}}},dark:{background:{yellow:i().M.dark.yellow[50],blue:i().M.dark.blue[50],red:i().M.dark.red[50],white:i().M.dark.gray[100]},border:{yellow:i().M.dark.yellow[75],blue:i().M.dark.uiBlue[100],red:i().M.dark.red[100],white:i().M.dark.translucentGray[200]},icon:{yellow:"rgba(255, 177, 16, 1)",blue:i().M.dark.uiBlue[600],red:i().M.dark.red[800],white:i().M.dark.gray[600]},outline:{yellow:i().M.dark.yellow[400],blue:i().M.dark.uiBlue[400],red:i().M.dark.red[400],white:i().M.dark.gray[75]},hover:{background:{yellow:i().M.dark.yellow[100],blue:i().M.dark.uiBlue[200],red:i().M.dark.red[100],white:"rgba(0, 0, 0, 0.1)"},border:{yellow:i().M.dark.yellow[100],blue:i().M.dark.uiBlue[100],red:i().M.dark.red[200],white:i().M.dark.translucentGray[300]},text:{yellow:i().M.dark.translucentGray[850],blue:i().M.dark.uiBlue[600],red:i().M.dark.red[800],white:i().M.dark.gray[600]}},pressed:{background:{yellow:i().M.dark.yellow[200],blue:i().M.dark.uiBlue[300],red:i().M.dark.red[200],white:"rgba(0, 0, 0, 0.2)"},border:{yellow:i().M.dark.yellow[100],blue:i().M.dark.uiBlue[100],red:i().M.dark.red[300],white:i().M.dark.translucentGray[300]}},selected:{background:{yellow:i().M.dark.yellow[75],blue:i().M.dark.blue[100],red:i().M.dark.red[100],white:i().M.dark.gray[400]},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.dark.uiBlue[600],red:i().M.dark.red[500],white:"rgba(255, 255, 255, 0.18)"},hover:{background:{yellow:i().M.dark.yellow[100],blue:i().M.dark.uiBlue[200],red:i().M.dark.red[200],white:"rgba(0, 0, 0, 0.1)"},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.dark.uiBlue[600],red:i().M.dark.red[500],white:"rgba(255, 255, 255, 0.18)"}},pressed:{background:{yellow:i().M.dark.yellow[300],blue:i().M.dark.uiBlue[400],red:i().M.dark.red[300],white:"rgba(0, 0, 0, 0.2)"},border:{yellow:"rgba(255, 177, 16, 0.5)",blue:i().M.dark.uiBlue[600],red:i().M.dark.red[500],white:"rgba(255, 255, 255, 0.18)"}}}}},marketplaceTopic:{light:{text:{hover:{red:"rgba(246, 73, 50)",yellow:"rgba(255, 177, 16)",blue:i().M.light.uiBlue[600],white:"rgba(0, 0, 0, 0.65)"},pressed:{red:"rgba(186, 29, 8)",yellow:"rgba(219, 148, 0)",blue:"rgba(23, 97, 171)",white:"rgba(0, 0, 0)"},dropdownViewAll:{red:i().M.light.red[500],yellow:i().M.dark.yellow[800],blue:i().M.light.uiBlue[600],white:"rgba(0, 0, 0)"}}},dark:{text:{hover:{red:"rgba(246, 73, 50)",yellow:"rgba(255, 177, 16)",blue:i().M.dark.uiBlue[600],white:i().M.dark.gray[500]},pressed:{red:"rgba(186, 29, 8)",yellow:"rgba(219, 148, 0)",blue:"rgba(23, 97, 171)",white:i().M.dark.gray[600]},dropdownViewAll:{red:i().M.dark.red[800],yellow:i().M.light.yellow[500],blue:i().M.dark.uiBlue[600],white:i().M.dark.gray[600]}}}},marketplaceEditorialIllustration:{light:{red:y.transparent,yellow:y.transparent,blue:y.transparent,white:y.transparent},dark:{red:"rgb(253, 235, 236)",yellow:"rgb(253, 236, 200)",blue:"rgb(224, 238, 251)",white:y.white}},marketplaceEditorial:{light:{icon:{red:"rgba(246, 73, 50)",yellow:"rgba(255, 177, 16)",blue:i().M.light.uiBlue[600],white:i().M.light.gray[400]},border:{red:i().M.light.red[50],yellow:i().M.light.yellow[50],blue:"rgba(240, 246, 253, 1)",white:"rgba(0, 0, 0, 0.025)",hover:{red:i().M.light.red[100],yellow:i().M.light.yellow[100],blue:"rgba(224, 238, 251, 1)",white:i().M.light.translucentGray[75]},pressed:{red:p.transparent,yellow:p.transparent,blue:p.transparent,white:p.transparent}},background:{red:i().M.light.red[30],yellow:i().M.light.yellow[30],blue:i().M.light.uiBlue[50],white:i().M.light.gray[30],hover:{red:i().M.light.red[50],yellow:"rgba(251, 243, 219, 1)",blue:"rgba(240, 246, 253, 1)",white:"rgba(0, 0, 0, 0.08)"},pressed:{red:i().M.light.red[100],yellow:i().M.light.yellow[100],blue:"rgba(209, 229, 249, 1)",white:i().M.light.gray[100]}}},dark:{illustration:{red:"rgba(246, 73, 50)",yellow:"rgba(246, 73, 50)",blue:"rgba(246, 73, 50)",white:"rgba(246, 73, 50)"},icon:{red:"rgba(246, 73, 50)",yellow:"rgba(255, 177, 16)",blue:i().M.dark.uiBlue[600],white:i().M.dark.gray[400]},border:{red:i().M.dark.translucentGray[100],yellow:i().M.dark.translucentGray[100],blue:i().M.dark.translucentGray[100],white:i().M.dark.translucentGray[200],hover:{red:i().M.dark.translucentGray[100],yellow:i().M.dark.translucentGray[100],blue:i().M.dark.translucentGray[100],white:i().M.dark.translucentGray[200]},pressed:{red:i().M.dark.translucentGray[100],yellow:i().M.dark.translucentGray[100],blue:i().M.dark.translucentGray[100],white:i().M.dark.translucentGray[200]}},background:{red:i().M.dark.red[200],yellow:i().M.dark.yellow[200],blue:i().M.dark.uiBlue[200],white:i().M.dark.translucentGray[200],hover:{red:i().M.dark.red[300],yellow:i().M.dark.yellow[300],blue:i().M.dark.uiBlue[300],white:i().M.dark.translucentGray[300]},pressed:{red:i().M.dark.red[100],yellow:i().M.dark.yellow[100],blue:i().M.dark.uiBlue[100],white:i().M.dark.translucentGray[100]}}}},creatorProfile:{light:{inReviewText:"rgba(249, 123, 45,1)",inReviewHoveredText:"rgba(199, 98, 36, 1)",inReviewBackground:"rgba(253, 230, 217, 1)"},dark:{inReviewText:"rgba(253, 230, 217, 1)",inReviewHoveredText:"rgba(199, 98, 36, 1)",inReviewBackground:"rgba(253, 230, 217, 1)"}},zipImport:{light:{border:"rgba(35, 131, 226, 1)",background:"rgba(240, 246, 253, 1)"},dark:{border:"rgba(35, 131, 226, 0.9)",background:"rgba(255, 255, 255, 0.03)"}},...u().p,...l().$,aiChatButton:{light:{unselected:"transparent",unselectedHover:"transparent",selected:y.white,selectedHover:y.white,pressed:y.white},dark:{unselected:"transparent",unselectedHover:"transparent",selected:"rgba(255, 255, 255, 0.04)",selectedHover:"rgba(255, 255, 255, 0.06)",pressed:"rgba(255, 255, 255, 0.12)"}},state:{light:{hover:"rgba(55, 53, 47, 0.04)",pressed:"rgba(55, 53, 47, 0.1)"},dark:{hover:"rgba(255, 255, 255, 0.055)",pressed:"rgba(255, 255, 255, 0.13)"}},glass:{light:{page:i().M.light.pageGlass[0],wash:i().M.light.washGlass[0]},dark:{page:i().M.dark.pageGlass[0],wash:i().M.dark.washGlass[0]}},lightBlueBannerBackground:{light:"rgba(35, 131, 226, 0.07)",dark:"rgba(35, 131, 226, 0.07)"},lightGrayBannerBackground:{light:i().M.light.gray[30],dark:i().M.light.gray[800]},popupOverlayBackground:{light:"rgba(15, 15, 15, 0.6)",dark:"rgba(15, 15, 15, 0.6)"},formFilePropertyUploadButtonHoveredBorder:{light:"rgba(206,205,202,.3)",dark:"rgba(55,53,47,.3)"},formFilePropertyDropzoneBg:{light:"rgba(205,218,248,.64)",dark:"rgba(39,52,74,.64)"},mediaPickerDropzoneBg:{light:"rgba(205,218,248,.64)",dark:"rgba(39,52,74,.64)"},frozenColumnDividerShadowBackgroundFiltered:{light:"linear-gradient(to right, rgba(135,131,120,.15),rgba(135,131,120,.1),  transparent)",dark:"linear-gradient(to right, rgba(120,129,135,.15),rgba(120,129,135,.1),  transparent)"},frozenColumnDividerShadowBackground:{light:"linear-gradient(to right, rgba(135,131,120,.35),rgba(135,131,120,.2),  transparent)",dark:"linear-gradient(to right, rgba(120,129,135,.35),rgba(120,129,135,.2),  transparent)"},switcherButtonTeackBg:{light:"rgba(135,131,120,.3)",dark:"rgba(120,129,135,.3)"},switcherToggleDesktopTrackBg:{light:"rgba(135,131,120,.4)",dark:"rgba(120,129,135,.4)"},switcherToggleDesktopTrackBgVariant:{light:"rgba(206,205,202,.3)",dark:"rgba(202,204,206,.3)"},embedBlockResizerInnerBg:{light:"rgba(15,15,15,.6)",dark:"rgba(15,15,15,.6)"},searchModalUniqueIdDividerFocused:{light:"rgba(55, 53, 47, 0.09)",dark:"rgba(55, 53, 47, 0.09)"},searchModalUniqueIdDivider:{light:"rgba(55, 53, 47, 0.06)",dark:"rgba(55, 53, 47, 0.06)"},calendarEventHoveredBackground:{light:"rgba(55, 53, 47, 0.02)",dark:"rgba(55, 53, 47, 0.02)"}},r={};for(const[n,o]of(0,d().WP)(t))r[n]=o[e];return r}const b=new Map;function h(e){const t=`${e.theme}${e.useCssVars?"cssVars":""}`,r=b.get(t);if(r)return r;{const r=e.useCssVars?{mode:n=e.theme,shadowOpacity:u().p.shadowOpacity[n],...a().I}:v(e.theme);return b.set(t,r),r}var n}const A=["default","gray","brown","orange","yellow","teal","blue","purple","pink","red"],I=["default_background","gray_background","brown_background","orange_background","yellow_background","teal_background","blue_background","purple_background","pink_background","red_background"],k=[...A,...I];function x(e){switch(e){case"default":case"gray":case"brown":case"orange":case"yellow":case"teal":case"blue":case"purple":case"pink":case"red":case"default_background":case"gray_background":case"brown_background":case"orange_background":case"yellow_background":case"teal_background":case"blue_background":case"purple_background":case"pink_background":case"red_background":return!0;default:return!1}}const S=["default","gray","brown","orange","yellow","green","blue","purple","pink","red"],T={comment:(0,n().Mj)({r:255,g:203,b:0}),update:(0,n().Mj)({r:35,g:131,b:226}),remove:(0,n().Mj)({r:120,g:119,b:116})},M={comment:{light:.8,dark:.8},update:{light:.4,dark:.6},remove:{light:.4,dark:.6}},w={comment:{background:.15,underline:.4375},update:{underline:.25,background:.09},remove:{underline:.25,background:.09}},B=c().Bj((({annotationType:e,type:t,selected:r,hovered:o,overlapping:a,mode:i})=>{const s=T[e],l=M[e][i],c=w[e][t],u=1.25*l,d=(o||r?"underline"===t?3:1:0)+(a?2:0);return(0,n().lY)(s.alpha(Math.min(l*c*(1+d),u)))}),(e=>Object.values(e).join("_")));function C({level:e,selected:t,hovered:r,mode:n}){return B({annotationType:"comment",type:"background",selected:t??!1,hovered:r??!1,overlapping:e>1,mode:n})}function P({level:e,selected:t,hovered:r,mode:n}){return B({annotationType:"comment",type:"underline",selected:t??!1,hovered:r??!1,overlapping:e>1,mode:n})}const N=c().Bj((e=>(0,n().lY)(T.comment.alpha(.8*M.comment[e]))));function U(){return h({theme:"light"})}function R(e,t){const r=(0,d().uv)(t).map((r=>{const o=t[r];try{return{name:r,distance:(0,n().Mj)(e).delta(o)}}catch(a){return{name:r,distance:360}}}));return c().wq(r,(({distance:e})=>e)).name}function D(e){const t={};for(const r of S){const e=L(h({theme:"light"}),r);t[r]=e.backgroundColor}return R(e,t)}function O(e){const t={},r=h({theme:"light"});for(const[i,s]of Object.entries(r.palette))for(const[e,r]of Object.entries(s))t[`${i}:${e}`]=r;const n=R(e,t),[o,a]=n.split(":");return{colorName:o,shade:parseInt(a)}}function F(e){if(!e)return;const t=e.split(/\(|\)/);if(3!==t.length)return;const r=t[1].split(/(?:,| )+/),n="rgb"===t[0]&&3===r.length,o="rgba"===t[0]&&4===r.length;if(!n&&!o)return;const a=Number(r[0]),i=Number(r[1]),s=Number(r[2]);let l=`#${E(a)}${E(i)}${E(s)}`,c=255;return o&&(c=Math.round(255*Number(r[3]))),l=l.concat(E(c)),l.toUpperCase()}function E(e){let t=e.toString(16);return 1===t.length&&(t="0".concat(t)),t}function V(e,t){if(t&&"default"!==t&&t in e.palette)return t}function L(e,t){const r=V(e,t),n=r&&r in e?e[r]:e;return{textColor:n.text.primary,backgroundColor:n.background.tertiaryTranslucent}}function H(e,t){var r,a;const i=V(e,t),s=i?e[i]:e,l=s.text.accentPrimary,c=s.border.secondaryTranslucent,u=i?e[i].background.primaryTranslucent:e.background.secondaryTranslucent,d=s.background.elevated;return{textColor:l,backgroundColor:u,borderColor:c,cardBackgroundColor:d,cardHoveredBackgroundColor:"light"===e.mode?(0,n().e0)(u,-.05):(0,n().e0)(d,.05),cardPressedBackgroundColor:"dark"===e.mode?d:void 0,chartColor:t?null===(r=o().O[t])||void 0===r?void 0:r[0]:null===(a=o().O.default)||void 0===a?void 0:a[0]}}const G={default:void 0,gray:"gray",brown:"brown",orange:"orange",yellow:"yellow",teal:"green",blue:"blue",purple:"purple",pink:"pink",red:"red",default_background:void 0,gray_background:"gray",brown_background:"brown",orange_background:"orange",yellow_background:"yellow",teal_background:"green",blue_background:"blue",purple_background:"purple",pink_background:"pink",red_background:"red"};function q(e){switch(e){case"default_background":case"gray_background":case"brown_background":case"orange_background":case"yellow_background":case"teal_background":case"blue_background":case"purple_background":case"pink_background":case"red_background":return!0;default:return!1}}const j={background:{light:50,lightHovered:100,lightPressed:200,dark:300,darkHovered:400,darkPressed:500},text:{light:500,lightHovered:50,lightPressed:100,dark:900,darkHovered:100,darkPressed:200,darkGray:700}};function $(e,t,r="solid"){if("default"===e)return{color:"inherit",fill:"inherit"};const n=G[e];return n?q(e)?{background:t[n].background["translucent"===r?"secondaryTranslucent":"secondary"]}:{color:t[n].text.secondary,fill:t[n].text.secondary}:{color:"inherit",fill:"inherit"}}function z(e,t){const r=A.filter((e=>"default"!==e));if(e.startsWith("test_user_"))return"black";let n=0;for(let o=0;o<e.length;o++)n+=e.charCodeAt(o);n%=r.length;return $(r[n],t).color||t.text.primary}function W(e,t){if("default"===e)return{color:"inherit",fill:"inherit",hoveredBackground:t.whiteButtonHoveredBackground,pressedBackground:t.whiteButtonPressedBackground};const r=G[e];if(!r)return{color:"inherit",fill:"inherit"};const n=t.palette[r],o=$(e,t),a={lightHovered:n[j.background.lightHovered],lightPressed:n[j.background.lightPressed],darkHovered:n[j.background.darkHovered],darkPressed:n[j.background.darkPressed]},i={lightHovered:n[j.text.lightHovered],lightPressed:n[j.text.lightPressed],darkHovered:n[j.text.darkHovered],darkPressed:n[j.text.darkPressed]};return q(e)?{background:o.background,hoveredBackground:"dark"===t.mode?a.darkHovered:a.lightHovered,pressedBackground:"dark"===t.mode?a.darkPressed:a.lightPressed}:{color:o.color,fill:o.fill,hoveredBackground:"dark"===t.mode?i.darkHovered:i.lightHovered,pressedBackground:"dark"===t.mode?i.darkPressed:i.lightPressed}}function Z(e,t){if("default"===e)return{color:t.text.primary};const r=G[e];return r?q(e)?{background:t[r].background["gray"===r&&"light"===t.mode?"primary":"secondary"]}:{color:t[r].text.secondary,fill:t[r].text.secondary}:{color:t.text.primary}}function Q(e,t){return"default"===e||"default_background"===e?{color:t.text.primary}:$(e,t,"translucent")}function K(e,t){return{color:e[t.mode],fill:e[t.mode]}}},101628:(e,t,r)=>{r.d(t,{Ay:()=>i,Eu:()=>a,j4:()=>o});var n=()=>r(292588);const o={block:!0},a="site",i={table:a,columnTypes:{id:n().A.UUID,type:n().A.String,space_id:n().A.UUID,domain_id:n().A.UUID,parent_id:n().A.String,parent_table:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,favicon_url:n().A.String,preview_image_url:n().A.String,header:n().A.JSON,google_analytics_id:n().A.String,is_search_engine_indexing_enabled:n().A.Boolean,settings:n().A.JSON,number_likes:n().A.Number},requiredColumns:{id:!0,space_id:!0,parent_id:!0,parent_table:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},106714:(e,t,r)=>{r.d(t,{NZ:()=>s,TW:()=>u,c3:()=>l,kb:()=>c,sE:()=>d});r(944114),r(898992),r(803949),r(908872);var n=()=>r(534177),o=()=>r(634201),a=()=>r(201980),i=()=>r(239381);function s(e,t){if(0===t)return 0;let r=0,a=0;for(let i=0;i<e.length;i++){const s=e[i];switch(s.type){case"code":if(t<=r+s.codeLength)return a+(0,o().PE)(s.text).slice(0,t-r).join("").length;r+=s.codeLength,a+=s.length;break;case"token":if(t<=r+1)return a+s.length;r+=1,a+=s.length;break;default:(0,n().HB)(s)}}return a}function l(e,t,r){if(0===t)return 0;let n=0,a=0;for(let i=0;i<e.length;i++){const s=e[i];switch(s.type){case"code":if(t<=a+s.length)return n+(0,o().PE)(s.text.substring(0,t-a)).length;n+=s.codeLength,a+=s.length;break;case"token":if(a+s.length>=t)return n+("right"===r?1:0);n+=1,a+=s.length}}return n}function c(e){let t="";const r=[];return null==e||e.forEach((e=>{const n=(0,a().uPN)(e),s=(0,i().E)(n);if(void 0!==s)return t+=s,void r.push({type:"token",length:s.length});const l=(0,a().N8A)(e);t+=l,r.push({type:"code",length:l.length,codeLength:(0,o().PE)(l).length,text:l})})),[t,r]}function u(e,t){return{...e,startOffset:l(t,e.startOffset,"left"),endOffset:l(t,e.endOffset,"left")}}function d(e){return e.reduce(((e,t)=>{const r=t.type;return"token"===r?e+1:"code"===r?e+t.codeLength:void(0,n().HB)(r)}),0)}},107273:(e,t,r)=>{r.d(t,{W9:()=>R,gW:()=>N});r(944114),r(898992),r(354520),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(813206),i=()=>r(700500),s=()=>r(855826),l=()=>r(713998),c=()=>r(837788),u=()=>r(273900),d=()=>r(68263);function p(e,t){return e.space_id===t.space_id&&e.collection_id===t.collection_id&&e.navigable_block_id===t.navigable_block_id}function m(e){return e.table+e.id}function f(e,t){return n().n4(n().Ul(e.authors||[],m),n().Ul(t.authors||[],m))}function g(e,t){return n().Ul(n().hS([...e.authors||[],...t.authors||[]],m),m)}function y(e,t){return e.block_id===t.block_id&&p(e,t)}function _(e,t){return e.block_id===t.block_id&&p(e,t)}function v(e,t){return p(e,t)&&e.comment_id===t.comment_id}function b(e,t){return p(e,t)}function h(e,t){return e.collection_property_id===t.collection_property_id&&p(e,t)}function A(e,t){return e.collection_view_id===t.collection_view_id&&p(e,t)}function I(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_user_id===t.mentioned_user_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function k(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_group_id===t.mentioned_group_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function x(e,t){return e.mentioned_block_id===t.mentioned_block_id&&e.mentioned_team_id===t.mentioned_team_id&&e.mentioned_property===t.mentioned_property&&f(e,t)&&p(e,t)}function S(e,t){return p(e,t)&&e.reaction_id===t.reaction_id&&f(e,t)}function T(e){const t=[];e:for(;e.list.length>0;){const r=e.list.shift();let n,o=0,a=!1;for(;o<e.list.length;){const t=e.list[o];if(a=e.cancel(r,t),a){e.list.splice(o,1);continue e}if(n=e.replace(r,t),n){e.list[o]=n;continue e}o++}t.push(r)}return t}function M(e,t){return 0===n().R9(e,t).length&&0===n().R9(t,e).length}function w(e,t){return d().Lw(e)===d().Lw(t)}function B(e){return"permission-created"===e.type||"permission-deleted"===e.type||"collection-property-permission-created"===e.type||"collection-property-permission-deleted"===e.type?(0,u().I$)(e.permission_data):"permission-changed"===e.type||"collection-property-permission-updated"===e.type?(0,u().I$)(e.permission_data.before):void(0,o().HB)(e)}function C(e,t){return!!p(e,t)&&(!!f(e,t)&&("permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type||(null===(r=e.permission_data)||void 0===r||null===(r=r.actual_changes)||void 0===r?void 0:r.some((e=>(0,u().I$)(e)===B(t)))):"permission-restriction-created"===t.type||"permission-restriction-deleted"===t.type?t.permission_data.actual_changes.some((t=>(0,u().I$)(t)===B(e))):B(e)===B(t)));var r}function P(e,t){return!!p(e,t)&&(!!f(e,t)&&B(e)===B(t))}function N(e){const t=T({list:T({list:n().Ul((0,c().A)(e,"mangle-class-instances")||[],(e=>e.timestamp)),cancel:(e,t)=>!1,replace:(e,t)=>function(e,t){if("permission-deleted"===e.type&&"permission-created"===t.type&&C(e,t)&&!w(e.permission_data,t.permission_data))return{...t,type:"permission-changed",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}}}(e,t)||function(e,t){if("collection-property-permission-deleted"===e.type&&"collection-property-permission-created"===t.type&&P(e,t)&&!w(e.permission_data,t.permission_data))return{...t,type:"collection-property-permission-updated",timestamp:t.timestamp,permission_data:{before:e.permission_data,after:t.permission_data}}}(e,t)}),cancel:(e,t)=>function(e,t){return"block-created"===e.type&&"block-deleted"===t.type&&y(e,t)}(e,t)||function(e,t){return"block-deleted"===e.type&&"block-created"===t.type&&y(e,t)}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&y(e,t)){if(e.block_data.after.block_value.type===i().xd.tableRow){const r=a().mP({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),o=a().mP({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return M(r,o)&&n().n4(n().Up(e.block_data.before.block_value.properties||{},r),n().Up(t.block_data.after.block_value.properties||{},o))}const r=s().PE({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),o=a().TW({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),l=s().PE({before:t.block_data.before.block_value,after:t.block_data.after.block_value,schema:t.block_schema}),c=a().TW({before:t.block_data.before.block_value,after:t.block_data.after.block_value});return!a().kJ({before:t.block_data.before.block_value,after:t.block_data.after.block_value})&&M(r,l)&&n().n4(n().Up(e.block_data.before.block_value.properties||{},r),n().Up(t.block_data.after.block_value.properties||{},l))&&M(o,c)&&n().n4(n().Up(e.block_data.before.block_value.format||{},o),n().Up(t.block_data.after.block_value.format||{},c))}return!1}(e,t)||function(e,t){return!("block-property-changed"!==e.type||"block-property-changed"!==t.type||!_(e,t))&&M(Object.keys(e.property_updates),Object.keys(t.property_updates))&&n().n4(Object.values(e.property_updates).map((e=>e.before)),Object.values(t.property_updates).map((e=>e.after)))}(e,t)||function(e,t){return"permission-created"===e.type&&"permission-deleted"===t.type&&C(e,t)}(e,t)||function(e,t){return"permission-deleted"===e.type&&"permission-created"===t.type&&C(e,t)}(e,t)||function(e,t){return"permission-changed"===e.type&&"permission-changed"===t.type&&C(e,t)&&n().n4(e.permission_data.before,t.permission_data.after)}(e,t)||function(e,t){return"collection-property-permission-created"===e.type&&"collection-property-permission-deleted"===t.type&&P(e,t)}(e,t)||function(e,t){return"collection-property-permission-deleted"===e.type&&"collection-property-permission-created"===t.type&&P(e,t)}(e,t)||function(e,t){return!("collection-property-permission-updated"!==e.type||"collection-property-permission-updated"!==t.type||!P(e,t))&&w(e.permission_data.before,t.permission_data.after)&&w(e.permission_data.after,t.permission_data.before)}(e,t)||function(e,t){return"mention-created"===e.type&&"mention-deleted"===t.type&&I(e,t)}(e,t)||function(e,t){return"mention-deleted"===e.type&&"mention-created"===t.type&&I(e,t)}(e,t)||function(e,t){return"permission-group-mention-created"===e.type&&"permission-group-mention-deleted"===t.type&&k(e,t)}(e,t)||function(e,t){return"permission-group-mention-deleted"===e.type&&"permission-group-mention-created"===t.type&&k(e,t)}(e,t)||function(e,t){return"team-mention-created"===e.type&&"team-mention-deleted"===t.type&&x(e,t)}(e,t)||function(e,t){return"team-mention-deleted"===e.type&&"team-mention-created"===t.type&&x(e,t)}(e,t)||function(e,t){return"comment-created"===e.type&&"comment-deleted"===t.type&&v(e,t)}(e,t)||function(e,t){return"comment-deleted"===e.type&&"comment-created"===t.type&&v(e,t)}(e,t)||function(e,t){return"comment-changed"===e.type&&"comment-changed"===t.type&&v(e,t)&&n().n4(e.comment_data.before,t.comment_data.after)}(e,t)||function(e,t){return!!("collection-changed"===e.type&&"collection-changed"===t.type&&b(e,t)&&e.collection_data&&t.collection_data)&&n().n4(e.collection_data.before,t.collection_data.after)}(e,t)||function(e,t){return"collection-property-created"===e.type&&"collection-property-deleted"===t.type&&h(e,t)}(e,t)||function(e,t){return"collection-property-deleted"===e.type&&"collection-property-created"===t.type&&h(e,t)}(e,t)||function(e,t){return"collection-property-changed"===e.type&&"collection-property-changed"===t.type&&h(e,t)&&n().n4(e.collection_property_data.before,t.collection_property_data.after)}(e,t)||function(e,t){return"collection-view-created"===e.type&&"collection-view-deleted"===t.type&&A(e,t)}(e,t)||function(e,t){return"collection-view-deleted"===e.type&&"collection-view-created"===t.type&&A(e,t)}(e,t)||function(e,t){return"collection-view-changed"===e.type&&"collection-view-changed"===t.type&&A(e,t)&&n().n4(e.collection_view_data.before,t.collection_view_data.after)}(e,t)||function(e,t){return"reaction-created"===e.type&&"reaction-deleted"===t.type&&S(e,t)}(e,t)||function(e,t){return"reaction-deleted"===e.type&&"reaction-created"===t.type&&S(e,t)}(e,t),replace:(e,t)=>function(e,t){if("block-created"===e.type&&"block-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),block_schema:t.block_schema,block_data:t.block_data.after}}(e,t)||function(e,t){if("block-changed"===e.type&&"block-changed"===t.type&&y(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),block_schema:t.block_schema,block_data:{before:e.block_data.before,after:t.block_data.after}}}(e,t)||function(e,t){if("block-property-changed"===e.type&&"block-property-changed"===t.type&&_(e,t)){const r=e.property_updates;return t.property_updates&&Object.entries(t.property_updates).forEach((([o,a])=>{o in r?n().n4(r[o].before,a.after)?(delete r[o],e.filtered_block_schema&&delete e.filtered_block_schema[o],t.filtered_block_schema&&delete t.filtered_block_schema[o]):r[o].after=a.after:r[o]=a})),{...e,timestamp:t.timestamp,authors:g(e,t),filtered_block_schema:{...e.filtered_block_schema,...t.filtered_block_schema},property_updates:r}}}(e,t)||function(e,t){if("comment-created"===e.type&&"comment-changed"===t.type&&v(e,t))return{...e,comment_data:t.comment_data.after}}(e,t)||function(e,t){if("comment-changed"===e.type&&"comment-changed"===t.type&&v(e,t))return{...e,comment_data:{before:e.comment_data.before,after:t.comment_data.after}}}(e,t)||function(e,t){if("permission-created"===e.type&&"permission-changed"===t.type&&C(e,t))return{...e,timestamp:t.timestamp,permission_data:t.permission_data.after}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-changed"===t.type&&C(e,t))return{...e,permission_data:{before:e.permission_data.before,after:t.permission_data.after},timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-created"===t.type&&"permission-restriction-created"===e.type&&C(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("permission-deleted"===t.type&&"permission-restriction-deleted"===e.type&&C(e,t))return{...e,timestamp:t.timestamp}}(e,t)||function(e,t){if("collection-property-permission-created"===e.type&&"collection-property-permission-updated"===t.type&&P(e,t))return{...e,timestamp:t.timestamp,permission_data:t.permission_data.after}}(e,t)||function(e,t){if("collection-property-permission-updated"===e.type&&"collection-property-permission-updated"===t.type&&P(e,t))return{...e,timestamp:t.timestamp,permission_data:{before:e.permission_data.before,after:t.permission_data.after}}}(e,t)||function(e,t){if("collection-created"===e.type&&"collection-changed"===t.type&&b(e,t))return{...e,authors:g(e,t),collection_data:t.collection_data?t.collection_data.after:void 0}}(e,t)||function(e,t){if("collection-changed"===e.type&&"collection-changed"===t.type&&b(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),collection_data:{before:e.collection_data?e.collection_data.before:void 0,after:t.collection_data?t.collection_data.after:void 0}}}(e,t)||function(e,t){if("collection-property-created"===e.type&&"collection-property-changed"===t.type&&h(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),collection_property_data:t.collection_property_data.after}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-changed"===t.type&&h(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),collection_property_data:{before:e.collection_property_data.before,after:t.collection_property_data.after}}}(e,t)||function(e,t){if("collection-view-created"===e.type&&"collection-view-changed"===t.type&&A(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),collection_view_data:t.collection_view_data.after}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-changed"===t.type&&A(e,t))return{...e,timestamp:t.timestamp,authors:g(e,t),collection_view_data:{before:e.collection_view_data.before,after:t.collection_view_data.after}}}(e,t)}).filter((e=>!function(e){if("block-changed"===e.type){const t=a().LR({before:e.block_data.before.block_value,after:e.block_data.after.block_value,schema:e.block_schema}),r=a().kJ({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),n=a().Ti({before:e.block_data.before.block_value,after:e.block_data.after.block_value}),o=a().ar({before:e.block_data.before.block_value,after:e.block_data.after.block_value});return!(t||r||n||o)}return!1}(e)));return n().Ul(t,(e=>e.timestamp))}function U(e){const t=T({list:n().Ul((0,c().A)(e,"ignore-class-instances")||[],(e=>e.timestamp)),cancel:(e,t)=>!1,replace:(e,t)=>function(e,t){if("block-changed"===e.type&&"block-deleted"===t.type&&y(e,t))return{...t,authors:g(e,t)}}(e,t)||function(e,t){if("permission-changed"===e.type&&"permission-deleted"===t.type&&C(e,t))return{...t,timestamp:t.timestamp,permission_data:e.permission_data.before}}(e,t)||function(e,t){if("collection-property-permission-updated"===e.type&&"collection-property-permission-deleted"===t.type&&P(e,t))return{...t,timestamp:t.timestamp,permission_data:e.permission_data.before}}(e,t)||function(e,t){if("collection-property-changed"===e.type&&"collection-property-deleted"===t.type&&h(e,t))return{...t,authors:g(e,t)}}(e,t)||function(e,t){if("collection-view-changed"===e.type&&"collection-view-deleted"===t.type&&A(e,t))return{...t,authors:g(e,t)}}(e,t)});return n().Ul(t,(e=>e.timestamp))}function R(e){return function(e){const t=[];return e.forEach((e=>{if("block-changed"===e.type)if(a().kJ({before:e.block_data.before.block_value,after:e.block_data.after.block_value})){const r={...e,type:"block-created",block_data:e.block_data.after},n={...e,type:"block-deleted",block_data:e.block_data.before};t.push(n),t.push(r)}else t.push(e);else t.push(e)})),t}(U(e)).filter((e=>!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&(0,i().Db)(e.block_data.block_value.type,e.block_data.block_value.format)&&"page"!==e.block_data.block_value.type&&!(0,l().yQ)(e.block_data.block_value,"title")}(e)&&!function(e){return("block-created"===e.type||"block-deleted"===e.type)&&i().Wn[e.block_data.block_value.type]}(e)))}},115850:(e,t,r)=>{r.d(t,{Ay:()=>u,FH:()=>c,HU:()=>s,If:()=>l,qt:()=>i});var n=()=>r(209199),o=()=>r(498212),a=()=>r(292588);const i="marketplace_profile_content",s={[r(183171).V1]:!0};function l(e){const{profileId:t,locale:r}=e;return`${t}|${r}`}function c(e){return e.table===i&&function(e){const t=e.split("|"),[r,a]=t;return 2===t.length&&(0,o().uj)(r)&&(0,n().iK)(a)}(e.id)}const u={table:i,columnTypes:{id:a().A.String,parent_id:a().A.UUID,parent_table:a().A.String,locale:a().A.String,attributes:a().A.JSON,version:a().A.Number,last_version:a().A.Number},requiredColumns:{id:!0,parent_id:!0,parent_table:!0,locale:!0,attributes:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},115997:(e,t,r)=>{function n(e){try{return String(JSON.stringify(e,((e,t)=>t instanceof Map?Object.fromEntries(t):"bigint"==typeof t?t.toString():"symbol"==typeof t?t.description:t)))}catch{return"Unable to serialize your whatever it is. Sorry."}}r.d(t,{A:()=>n})},120997:(e,t,r)=>{r.d(t,{V:()=>i,p:()=>a});const n={page_main:{normalized:{...o(!0),properties:!0,placeholder:!0,deleted_property:!0,views:!0,viewsMain:!0,cover:!0,normalizedTitleWithIcon:!0,editor:!0,discussions:!0,bottomControls:!0,expandedBacklinks:!0,inlinePageSections:!0,transcript:!0,relationsGroup:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!0,property:!0,views:!0,viewsMain:!0,relationsGroup:!0,titleWithIcon:!0,cover:!0,placeholder:!0,inlinePageSections:!0,expandedBacklinks:!0,discussions:!0,bottomControls:!0,editor:!0,transcript:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1}},page_details:{normalized:{...o(!0),properties:!0,deleted_property:!0,viewsMain:!1,placeholder:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,views:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!0,property:!0,placeholder:!1,views:!0,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1}},form_layout_schema:{normalized:{...o(!1),cover:!0,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,properties:!1,relationsGroup:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,formQuestion:!0,formTitle:!0,formSubmit:!0,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!1,property:!1,placeholder:!1,relationsGroup:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,views:!1,viewsMain:!1,cover:!0,formQuestion:!0,formTitle:!0,formSubmit:!0,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1}},views_main_tab_modules:{normalized:{...o(!0),properties:!0,placeholder:!1,deleted_property:!0,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!0,discussions:!0,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!0,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!0,property:!0,views:!1,viewsMain:!1,relationsGroup:!0,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!0,bottomControls:!1,editor:!0,transcript:!1,collectionView:!1,collectionViewV2:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1}},form_conditional_modules:{normalized:{...o(!1),normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,properties:!1,relationsGroup:!1,deleted_property:!1,views:!1,viewsMain:!1,placeholder:!0,formQuestion:!0,cover:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!1,property:!1,relationsGroup:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,views:!1,viewsMain:!1,collectionView:!1,collectionViewV2:!1,placeholder:!0,formQuestion:!0,cover:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!1,view:!1}},person_profile_page_main:{normalized:{...o(!1),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!0,normalizedTitleWithIcon:!0,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!0,collaborators:!1,teamspaces:!1,row:!1,view:!1},raw:{properties:!1,property:!1,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!0,cover:!0,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!0,collaborators:!1,teamspaces:!1,row:!1,view:!1}},person_profile_page_details:{normalized:{...o(!0),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!0,teamspaces:!0,row:!1,view:!1},raw:{properties:!1,property:!0,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,collectionView:!1,collectionViewV2:!1,recentActivity:!1,collaborators:!0,teamspaces:!0,row:!1,view:!1}},dashboard_layout_schema:{normalized:{...o(!1),properties:!1,placeholder:!1,deleted_property:!1,views:!1,viewsMain:!1,cover:!1,normalizedTitleWithIcon:!1,editor:!1,discussions:!1,bottomControls:!1,expandedBacklinks:!1,inlinePageSections:!1,transcript:!1,relationsGroup:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!0,view:!0},raw:{properties:!1,property:!1,views:!1,viewsMain:!1,relationsGroup:!1,titleWithIcon:!1,cover:!1,placeholder:!1,inlinePageSections:!1,expandedBacklinks:!1,discussions:!1,bottomControls:!1,editor:!1,transcript:!1,collectionView:!1,collectionViewV2:!1,formQuestion:!1,formTitle:!1,formSubmit:!1,recentActivity:!1,collaborators:!1,teamspaces:!1,row:!0,view:!0}}};function o(e){return{property_number:e,property_title:e,property_person:e,property_file:e,property_text:e,property_checkbox:e,property_button:e,property_created_time:e,property_last_edited_time:e,property_created_by:e,property_last_edited_by:e,property_select:e,property_date:e,property_url:e,property_status:e,property_email:e,property_verification:e,property_place:e,property_formula:e,property_phone_number:e,property_multi_select:e,property_last_visited_time:e,property_relation:e,property_rollup:e,property_auto_increment_id:e,property_location:e}}function a(e,t){return n[t].normalized[e.type]}function i(e,t){return n[t].raw[e.type]??!1}},123382:(e,t,r)=>{r.d(t,{Ay:()=>s,MC:()=>a,_h:()=>i,vA:()=>o});var n=()=>r(292588);const o={block:!0,space:!0},a="skill",i=["connectApps","watchDemoVideo","getHelp","browseTemplates","import","askQuestionEarly"],s={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,properties:n().A.JSON,permissions:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},133340:(e,t,r)=>{r.d(t,{A:()=>a,G:()=>o});var n=()=>r(292588);const o="server_integrations__discord_user_mapping",a={table:o,columnTypes:{id:n().A.UUID,notion_user_id:n().A.UUID,notion_space_id:n().A.UUID,discord_user_id:n().A.String,discord_server_id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number},requiredColumns:{id:!0,discord_user_id:!0,discord_server_id:!0,version:!0,created_at:!0,updated_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},134025:(e,t,r)=>{r.d(t,{$Y:()=>a,JZ:()=>n().JZ,OU:()=>n().OU,mP:()=>o,op:()=>s,qG:()=>l});r(16280);var n=()=>r(302777);function o(e){return i[e.command]}function a(e){switch(e.command){case"appendActivity":case"set":case"update":case"listBefore":case"listAfter":case"listReplace":case"listRemove":case"keyedObjectListBefore":case"keyedObjectListAfter":case"keyedObjectListRemove":case"keyedObjectListUpdate":case"setPermissionItem":case"temporarySetPermissionItemForBackfill":case"setSingletonPermissionItem":case"addRelationAfter":case"addRelationBefore":case"addRelations":case"removeRelation":case"addPersonAfter":case"addPersonBefore":case"removePerson":case"addSelectOptionAfter":case"addSelectOptionBefore":case"removeSelectOption":case"copyFile":case"listBeforeMulti":case"listAfterMulti":case"removeTeamMembershipItem":case"setTeamMembershipItem":case"ensureScheduleId":return!0;default:return!1}}const i={insertChildrenAfter:!0,insertChildrenBefore:!0,removeChild:!0,setParent:!0,assignAutoIncrementId:!0,moveToPrivate:!0};Symbol("Forbidden"),Symbol("Actual");const s={set:function(e){return{pointer:e.pointer,path:e.path,command:"set",args:e.args}},update:function(e){return{pointer:e.pointer,path:e.path,command:"update",args:e.args}},updateUnsafe:function(e){if("object"!=typeof e.args&&void 0!==e.args||Array.isArray(e.args))throw new Error("op.update: arg must be non-array object or null");return{pointer:e.pointer,path:e.path,command:"update",args:e.args}},append:function(e){return e.args.ids?e.args.before?{pointer:e.pointer,path:e.path,command:"listBeforeMulti",args:{ids:e.args.ids,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"listAfterMulti",args:{ids:e.args.ids,after:e.args.after}}:e.args.before?{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:e.args.after}}},insertChildren:function(e){const t=e.args.ids??[e.args.id];return e.args.before?{pointer:e.pointer,path:e.path,command:"insertChildrenBefore",args:{ids:t,before:e.args.before}}:{pointer:e.pointer,path:e.path,command:"insertChildrenAfter",args:{ids:t,after:e.args.after}}},remove:function(e){return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}},removeChild:function(e){return{pointer:e.pointer,path:e.path,command:"removeChild",args:{id:e.args.id}}}};function l(e){for(const t of e)!t.pointer&&t.table&&t.id&&(t.pointer={table:t.table,id:t.id})}},139304:(e,t,r)=>{r.d(t,{$:()=>n});const n={shadow:{dark:{outline:{md:"0px 8px 12px 0px rgba(25, 25, 25, 0.4), 0px 2px 6px 0px rgba(25, 25, 25, 0.4), inset 0px 0px 0px 1px rgba(253, 253, 253, 0.074)",lg:"0px 20px 24px 0px rgba(25, 25, 25, 0.4), 0px 5px 8px 0px rgba(25, 25, 25, 0.4), inset 0px 0px 0px 1px rgba(253, 253, 253, 0.074)",diffuse:"0px 12px 32px 0px rgba(25, 25, 25, 0.4), inset 0px 0px 0px 1px rgba(253, 253, 253, 0.074)",scrim:"0px 24px 48px 0px rgba(25, 25, 25, 0.639), 0px 4px 12px 0px rgba(25, 25, 25, 0.56), inset 0px 0px 0px 1px rgba(253, 253, 253, 0.074)",sm:"0px 4px 12px 0px rgba(25, 25, 25, 0.4), inset 0px 0px 0px 1px rgba(253, 253, 253, 0.074)"},base:{scrim:"0px 24px 48px 0px rgba(25, 25, 25, 0.639), 0px 4px 12px 0px rgba(25, 25, 25, 0.56)",md:"0px 8px 12px 0px rgba(25, 25, 25, 0.4), 0px 2px 6px 0px rgba(25, 25, 25, 0.4)",diffuse:"0px 12px 32px 0px rgba(25, 25, 25, 0.4)",lg:"0px 20px 24px 0px rgba(25, 25, 25, 0.4), 0px 5px 8px 0px rgba(25, 25, 25, 0.4)",sm:"0px 4px 12px 0px rgba(25, 25, 25, 0.4)"}},light:{outline:{md:"0px 8px 12px 0px rgba(25, 25, 25, 0.029), 0px 2px 6px 0px rgba(25, 25, 25, 0.029), 0px 0px 0px 1px rgba(42, 28, 0, 0.07)",lg:"0px 20px 24px 0px rgba(25, 25, 25, 0.05), 0px 5px 8px 0px rgba(25, 25, 25, 0.029), 0px 0px 0px 1px rgba(42, 28, 0, 0.07)",diffuse:"0px 12px 32px 0px rgba(25, 25, 25, 0.029), 0px 0px 0px 1px rgba(42, 28, 0, 0.07)",scrim:"0px 24px 48px 0px rgba(25, 25, 25, 0.239), 0px 4px 12px 0px rgba(25, 25, 25, 0.14), 0px 0px 0px 1px rgba(42, 28, 0, 0.07)",sm:"0px 2px 4px 0px rgba(0, 0, 0, 0.039), 0px 0px 0px 1px rgba(42, 28, 0, 0.07)"},base:{lg:"0px 20px 24px 0px rgba(25, 25, 25, 0.05), 0px 5px 8px 0px rgba(25, 25, 25, 0.029)",scrim:"0px 24px 48px 0px rgba(25, 25, 25, 0.239), 0px 4px 12px 0px rgba(25, 25, 25, 0.14)",md:"0px 8px 12px 0px rgba(25, 25, 25, 0.029), 0px 2px 6px 0px rgba(25, 25, 25, 0.029)",sm:"0px 4px 12px 0px rgba(25, 25, 25, 0.029), 0px 1px 2px 0px rgba(25, 25, 25, 0.019)",diffuse:"0px 12px 32px 0px rgba(25, 25, 25, 0.029)"}}}}},141150:(e,t,r)=>{r.d(t,{A:()=>a,Q:()=>o});var n=()=>r(292588);const o="server_integrations__zendesk_token",a={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,zendesk_access_token:n().A.String,notion_access_token:n().A.String,zendesk_sub_domain:n().A.String,zendesk_user_id:n().A.Number,notion_proxy_token:n().A.String,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},142748:(e,t,r)=>{r.d(t,{J_:()=>G,LW:()=>O,MR:()=>Y,NB:()=>W,NJ:()=>H,O:()=>$,Ou:()=>ee,Rp:()=>te,U0:()=>q,Wy:()=>J,Y1:()=>oe,Yn:()=>V,ZM:()=>ae,_N:()=>F,_n:()=>j,c6:()=>se,fU:()=>K,n1:()=>X,nz:()=>re,ot:()=>ne,uS:()=>E,vv:()=>Q,wR:()=>Z,yb:()=>L});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454),r(737550);var n=()=>r(496603),o=()=>r(700500),a=()=>r(713998),i=()=>r(452540),s=()=>r(792071),l=()=>r(68263),c=()=>r(212547),u=()=>r(813690),d=()=>r(696706),p=()=>r(310442),m=()=>r(363497),f=()=>r(548632),g=()=>r(912720),y=()=>r(199378),_=()=>r(179034),v=()=>r(824862),b=()=>r(519831),h=()=>r(869558),A=()=>r(343666),I=()=>r(926397),k=()=>r(37165),x=()=>r(332393),S=()=>r(415292),T=()=>r(526147),M=()=>r(583839),w=()=>r(123382),B=()=>r(96689),C=()=>r(84520),P=()=>r(854150),N=()=>r(234459),U=()=>r(749257),R=()=>r(743246),D=()=>r(978234);function*O(e,t){let r=e;const n=new Set;for(;r;){const e=(0,i().jV)(r);if(n.has(e))break;n.add(e);const s=t(r);if(s&&(yield s),s&&(0,c().$O)(s.table)){var o,a;r=s.getParentPointer(),null!==(o=r)&&void 0!==o&&o.table&&null!==(a=r)&&void 0!==a&&a.id||(r=void 0)}else r=void 0}}function*F(e,t){for(const r of O(e,s().b4_.fromGetRecordValueFn(t))){const e=t(r.pointer),n=r.table;e&&(yield{value:e,table:n})}}function E(e,t,r=new Set){const n=(0,i().jV)(e);if(r.has(n))return;r.add(n);const o=t(e);if(void 0!==o){if(o.isSharingRelationCollection()){const e=o.getSharingEnabledRelatedToCollectionPointer();if(void 0===e)return;return E(e,t,r)}return e}}function V(e,t){return s().b4_.is(t)?Array.from(O(e,t)):Array.from(F(e,t))}function L(e){let t=!0;for(const r of e){if(!t&&r.table===_().ev&&r.isNavigableBlock())return r;t=!1}}function H(e){const t=W(n().RT(e));if(!(t.length<=0))return t[0]}function G(e,t){let r=!0;for(const n of e){if(!r&&t(n))return n;r=!1}}async function q(e,t){if(s().h0Y.is(t)){const r=[];for await(const n of async function*(e,t){let r=e;const n=new Set;for(;r;){const e=(0,i().jV)(r);if(n.has(e))break;n.add(e);const o=await t(r);o&&(yield o),r=o&&(0,c().A0)(o)?o.getParentPointer():void 0}}(e,t))r.push(n);return r}{const r=[];for await(const n of async function*(e,t){let r=e;const n=new Set;for(;r;){const e=(0,i().jV)(r);if(n.has(e))break;n.add(e);const o=await t(r);o&&(yield{table:r.table,value:o}),r=o&&(0,c().ob)(o)?d().L3.getParentPointerFromRecordWithParent(o):void 0}}(e,t))r.push(n);return r}}function j(e,t){return void 0===$({recordPointer:e,getRecordModel:t})}function $(e){const{recordPointer:t,getRecordModel:r,isNavigable:n,isPermanentlyDeleted:o,isPurged:s}=e,l=[t],u=new Set;for(;l.length>0;){const e=l.shift();if(void 0===e)continue;const t=(0,i().jV)(e);if(u.has(t))continue;u.add(t);const d=r(e);if(d&&z({model:d,isNavigable:n,isPermanentlyDeleted:o,isPurged:s}))return d;if(d&&(0,c().A0)(d)){const e=d.getParentPointer();if(void 0===e)continue;if(d.table===_().ev&&e.table===b().Vl){const t=r(e);if((null==t?void 0:t.table)===b().Vl&&t.isSharingRelationCollection()){const e=(0,a().iU)(t,d);if(void 0!==e)e.table&&e.id&&l.push(e);else{const e=t.getSharingEnabledRelatedToCollectionPointer();void 0!==e&&e.table&&e.id&&l.push(e)}}}e.table&&e.id&&l.push(e)}}}function z(e){const{model:t,isNavigable:r,isPermanentlyDeleted:n,isPurged:o}=e;return!(r&&(t.table!==_().ev||!t.isNavigableBlock()))&&(o?t.table===_().ev&&t.isPurged()||t.table===b().Vl&&t.isPurged():n?t.table===B().NX&&t.isDeleted()||t.table===_().ev&&t.isDeletedFromTrash()||t.table===b().Vl&&t.isDeletedFromTrash():!function(e){switch(e.table){case _().ev:case C().mu:case b().Vl:case h().Gy:case A().SN:case v().GP:case x().Li:case I().Hx:case g().yB:case y().SC:case S().sN:case T().Fu:case w().MC:case M().ZP:case p().yj:case k().lo:case m().TF:case f().YV:case N().To:case U().du:case R().C0:case D().yM:return s().Bj6.isAnyModel(e)?Boolean(e.parent_id&&e.alive):Boolean(e.value.parent_id&&e.value.alive);default:return e.table,!0}}(t))}function W(e){return e.filter((e=>{if(e.table===_().ev)if(s().Bj6.isAnyModel(e)){if(e.isNavigableBlock())return!0}else if((0,o().$I)(e.value.type))return!0;return!1})).map((e=>s().Bj6.isAnyModel(e)?e:e.value))}function Z(e){const t=e.find((e=>e.table===B().NX));return t&&(s().Bj6.isAnyModel(t)?t:t.value)}function Q(e){const t=e.find((e=>e.table===P().yK));return t&&(s().Bj6.isAnyModel(t)?t:t.value)}function K(e,t){if(s().b4_.is(t)){return W(V(e,t))}return W(V(e,t))}function J(e,t){return V(e,s().b4_.fromRecordMap(t))}function Y(e,t){return V(e,s().b4_.fromRecordMapWithRole(t))}function X(e,t){return V(e,u().xb.fromRecordMapWithRole(t))}function ee(e,t){return Boolean(re(e,t))}function te(e,t){return Boolean($({recordPointer:e,getRecordModel:t,isPurged:!0}))}function re(e,t){return $({recordPointer:e,getRecordModel:t,isPermanentlyDeleted:!0})}function ne(e){return Boolean(ie(e))}function oe(e){return function(e){return ae(e,(e=>(0,l().p2)(e.role)))}(e)?"read_and_write":function(e){return ae(e,(e=>(0,l().ok)(e.role)))}(e)?"comment_only":ie(e)?"reader":"none"}function ae(e,t){for(const r of se(e)){if(r.table!==_().ev)continue;const e=(s().Bj6.isAnyModel(r)?r.getPermissionItems():r.value.permissions||[]).find((e=>(0,l().FP)(e)&&(!t||t(e))));if(e&&(0,l().FP)(e))return e}}function ie(e){return ae(e,(e=>(0,l().Tt)(e.role)))}function se(e){const t=[];for(const r of e)if(t.push(r),r.table===_().ev||r.table===b().Vl)if(s().Bj6.isAnyModel(r)){if(r.isRestricted())break}else{if((r.value&&r.value.permissions||[]).some(l().T6))break}return t}},144081:(e,t,r)=>{r.d(t,{Ay:()=>u,E4:()=>s,GB:()=>a,Hj:()=>i,zx:()=>l});r(898992),r(354520);var n=()=>r(534177),o=()=>r(292588);const a={collection:!0,block:!0,collection_view:!0},i=(0,n().uv)({page_layout_schema:!0,page_info_layout_schema:!0,form_layout_schema:!0,views_main_tab_modules:!0,form_conditional_modules:!0,person_profile_page_main:!0,person_profile_page_details:!0,dashboard_layout_schema:!0}),s=(0,n().uv)({page_main:!0,page_details:!0,form_layout_schema:!0,views_main_tab_modules:!0,form_conditional_modules:!0,person_profile_page_main:!0,person_profile_page_details:!0,dashboard_layout_schema:!0}),l="layout",c={table:l,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,space_id:o().A.UUID,parent_table:o().A.String,parent_id:o().A.UUID,created_by_id:o().A.UUID,created_by_table:o().A.String,created_time:o().A.Number,last_edited_by_id:o().A.UUID,last_edited_by_table:o().A.String,last_edited_time:o().A.Number,format:o().A.JSON,modules:o().A.JSON,blocks:o().A.UUIDArray},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,modules:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{format:{getMethod:!1,getKeyStoreMethod:!1},modules:{getMethod:"getRawModules",getKeyStoreMethod:"getRawModulesStore"},blocks:{getMethod:"getBlockChildren",getKeyStoreMethod:"getBlockChildrenStore"}}})};const u=c},144986:(e,t,r)=>{r.d(t,{Ay:()=>l,P5:()=>a,WQ:()=>s,e9:()=>i});var n=()=>r(498212),o=()=>r(292588);const a={discussion:!0};function i(e){const{parent_table:t,parent_id:r,user_id:o}=e;return(0,n().gB)(`${t}:${r}:${o}`)}const s="user_seen_record",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.UUID,user_id:o().A.UUID,last_seen_at:o().A.Number,space_id:o().A.UUID},requiredColumns:{space_id:!0,parent_table:!0,parent_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},145076:(e,t,r)=>{r.d(t,{BJ:()=>u,Q$:()=>l,X8:()=>s,Xz:()=>a,gW:()=>i,qY:()=>c,x0:()=>o});var n=()=>r(69708);const o=(0,n().YK)({InvalidCharacter:{defaultMessage:"Invalid character {errorCharacter}.",id:"formulas.formulaParseError.invalidCharacter"},UnclosedStringLiteral:{defaultMessage:"Unclosed string literal.",id:"formulas.formulaParseError.unclosedStringLiteral"},UnclosedComment:{defaultMessage:"Unclosed comment. Comments must be closed with a */ sequence.",id:"formulas.formulaParseError.unclosedComment"},TokenExpected:{defaultMessage:"Expected token {expectedToken}.",id:"formulas.formulaParseError.tokenExpected"},StringLiteralContainsToken:{defaultMessage:"String literal contains token.",id:"formulas.formulaParseError.stringLiteralContainsToken"},ExpressionExpected:{defaultMessage:"Expression expected.",id:"formulas.formulaParseError.expressionExpected"},PropertyTokenOrFunctionExpected:{defaultMessage:"Property token or function expected.",id:"formulas.formulaParseError.propertyExpected"},EndOfInputExpected:{defaultMessage:"End of input expected.",id:"formulas.formulaParseError.endOfInputExpected"},UnexpectedError:{defaultMessage:"Unexpected error.",id:"formulas.formulaParseError.unexpectedError"},TooDeeplyNested:{defaultMessage:"Formula is too deeply nested.",id:"formulas.formulaParseError.tooDeeplyNested"}}),a=(0,n().YK)({ThisRowTypeNotFound:{defaultMessage:"Cannot find this row in context.",id:"formulas.formulaTypecheckerError.thisRowTypeNotFound"},ThisRowNotBlockWithCollection:{defaultMessage:"This row is not a block with a collection.",id:"formulas.formulaTypecheckerError.thisRowNotBlockWithCollection"},MissingPropertyOnThisRow:{defaultMessage:"Cannot find property {propertyName} on this row.",id:"formulas.formulaTypecheckerError.missingPropertyOnThisRow"},MissingContextVariable:{defaultMessage:"Cannot find context variable {valueId}.",id:"formulas.formulaTypecheckerError.missingContextVariable"},MissingBlock:{defaultMessage:"Could not find block {blockId}.",id:"formulas.formulaTypecheckerError.missingBlock"},CallingNotFunction:{defaultMessage:"Cannot call expression of type {expressionType}.",id:"formulas.formulaTypecheckerError.callingNotFunction"},FunctionCallTooFewArguments:{defaultMessage:"Function {functionName} expects {minNumParameters} arguments, but only {numArguments} were provided.",id:"formulas.formulaTypecheckerError.functionCallTooFewArguments"},FunctionCallUnexpectedArgument:{defaultMessage:"Function {functionName} received unexpected argument.",id:"formulas.formulaTypecheckerError.functionCallUnexpectedArgument"},FunctionCallArgumentWrongType:{defaultMessage:"Argument of type {argumentType} does not satisfy function {functionName}().",id:"formulas.formulaTypecheckerError.functionCallArgumentWrongType"},MemberPropertyMismatchCollection:{defaultMessage:"Token {propertyName} does not match blocks collection.",id:"formulas.formulaTypecheckerError.memberPropertyMismatchCollection"},MemberPropertyMissing:{defaultMessage:"Cannot find property {propertyName} on collection.",id:"formulas.formulaTypecheckerError.memberPropertyMissing"},MemberPropertyTargetNotBlock:{defaultMessage:"Cannot access property on non-block.",id:"formulas.formulaTypecheckerError.memberPropertyTargetNotBlock"},MemberPropertyTypeInvalid:{defaultMessage:"Cannot access {propertyName} due to an unsupported property type.",id:"formulas.formulaTypecheckerError.memberInvalidPropertyType"},UndefinedIdentifier:{defaultMessage:"{identifier} is not defined.",id:"formulas.formulaTypecheckerError.undefinedIdentifier"},InvalidPropCall:{defaultMessage:"{propertyName} is not a valid property.",id:"formulas.formulaTypecheckerError.invalidPropCall"},InvalidContextCall:{defaultMessage:"{variableName} is not a valid context variable.",id:"formulas.formulaTypecheckerError.invalidContextCall"},InvalidVariableCall:{defaultMessage:"{variableName} is not a valid custom variable.",id:"formulas.formulaTypecheckerError.invalidVariableCall"},IdentifierExpected:{defaultMessage:"Expected identifier.",id:"formulas.formulaTypecheckerError.identifierExpected"},UnifiedFunctionCannotFindFunction:{defaultMessage:"Cannot find function {functionName}().",id:"formulas.formulaTypecheckerError.unifiedFunctionCannotFindFunction"},UnifiedFunctionNoArguments:{defaultMessage:"Function {functionName}() does not expect any arguments.",id:"formulas.formulaTypecheckerError.unifiedFunctionNoArguments"},UnifiedFunctionTargetWrongType:{defaultMessage:"Cannot call {functionName}() with target of type {targetType}.",id:"formulas.formulaTypecheckerError.unifiedFunctionTargetWrongType"},CannotRelativelyCompareTypes:{defaultMessage:"Cannot compare {lhsType} and {rhsType}.",id:"formulas.formulaTypecheckerError.cannotRelativelyCompareTypes"},CannotDoMathOnType:{defaultMessage:"Cannot do math on {lhsType} and {rhsType}.",id:"formulas.formulaTypecheckerError.cannotDoMathOnType"},UnaryMinusOnNonNumber:{defaultMessage:"Cannot apply minus to {type}.",id:"formulas.formulaTypecheckerError.unaryMinusOnNonNumber"},CircularDependency:{defaultMessage:"Circular dependency detected; this formula references itself.",id:"formulas.formulaTypecheckerError.circularDependency"},FunctionCallExpected:{defaultMessage:"Expected function {functionName}() to be called.",id:"formulas.formulaTypecheckerError.functionCallExpected"},RenamedIdentifier:{defaultMessage:"The function {identifier}() was renamed to {renamedTo}().",id:"formulas.formulaEvaluatorError.renamedIdentifier"},RemovedFunction:{defaultMessage:"The function {functionName}() was removed. You can use {alternative}() instead.",id:"formulas.formulaEvaluatorError.removedFunction"},ContextVariableNotBlockWithCollection:{defaultMessage:"Context variable {valueId} is not a block with a collection.",id:"formulas.formulaTypecheckerError.contextVariableNotBlockWithCollection"},MissingPropertyOnContextVariable:{defaultMessage:"Cannot find property {propertyName} on context variable {valueId}.",id:"formulas.formulaTypecheckerError.missingPropertyOnContextVariable"},BlockPropertyTypeInvalid:{defaultMessage:"Cannot access {propertyName} due to an unsupported property type.",id:"formulas.formulaTypecheckerError.blockPropertyTypeInvalid"},DisallowedReturnType:{defaultMessage:"Formula cannot have a return type of {returnType}. {allowedReturnTypeCount, plural, one {Allowed return type is {allowedReturnType}} other {Allowed return types are {allowedReturnType}}}.",id:"formulas.formulaTypecheckerError.disallowedReturnType"},CrossSpacePropertyNotSupported:{defaultMessage:"Cross-workspace properties are limited.",id:"formulas.formulaTypecheckerError.crossSpacePropertyNotSupported"},CalledFunctionOnEmptyValue:{defaultMessage:"Called function on a value that may be empty.",id:"formulas.formulaTypecheckerError.CalledFunctionOnEmptyValue"}}),i=(0,n().YK)({CannotUseToNumberOnList:{defaultMessage:"Cannot use toNumber on a list. Use first(), at(), or map() instead.",id:"formulas.formulaEvaluatorError.cannotUseToNumberOnList"},DateInvalidDurationUnit:{defaultMessage:"Invalid duration unit {invalidUnit} used for {functionName}().",id:"formulas.formulaEvaluatorError.dateInvalidDurationUnit"},CannotRoundToNonInteger:{defaultMessage:"Cannot round to non-integer precision {precision}.",id:"formulas.formulaEvaluatorError.cannotRoundToNonInteger"},CannotRoundToTooManyDecimalPlaces:{defaultMessage:"Cannot round to {precision} decimal places. The maximum is 12.",id:"formulas.formulaEvaluatorError.cannotRoundToTooManyDecimalPlaces"},NumberFormatInvalid:{defaultMessage:"Invalid number format {invalidFormat}.",id:"formulas.formulaEvaluatorError.numberFormatInvalid"}}),s=(0,n().YK)({MissingThisRow:{defaultMessage:"Cannot find this row.",id:"formulas.formulaEvaluatorError.missingThisRow"},MissingSchemaPropertyOnThisRow:{defaultMessage:"Missing property {propertyName} on this row.",id:"formulas.formulaEvaluatorError.missingSchemaPropertyOnThisRow"},ThisRowBlockPropertyMismatchCollection:{defaultMessage:"This row property belongs to a different collection.",id:"formulas.formulaEvaluatorError.thisRowBlockPropertyMismatchCollection"},MissingContextVariable:{defaultMessage:"Missing context variable {valueId}.",id:"formulas.formulaEvaluatorError.missingContextVariable"},IdentifierNotFound:{defaultMessage:"{identifier} is not defined.",id:"formulas.formulaEvaluatorError.identifierNotFound"},CannotRelativelyCompareTypes:{defaultMessage:"Cannot compare two different types {lhsType} and {rhsType}.",id:"formulas.formulaEvaluatorError.cannotRelativelyCompareTypes"},CannotDoMathOnType:{defaultMessage:"Cannot do math on type {valueType}.",id:"formulas.formulaEvaluatorError.cannotDoMathOnType"},CannotCallNonFunction:{defaultMessage:"Cannot call type {calleeType}.",id:"formulas.formulaEvaluatorError.cannotCallNonFunction"},UnifiedFunctionPropertyNotFound:{defaultMessage:"Function {functionName}() was not found.",id:"formulas.formulaEvaluatorError.unifiedFunctionPropertyNotFound"},LibraryFunctionExecutionError:{defaultMessage:"Error occurred while calling {functionName}.",id:"formulas.formulaEvaluatorError.libraryFunctionExecutionError"},FunctionCallTooFewArguments:{defaultMessage:"Called {functionName} with too few arguments.",id:"formulas.formulaEvaluatorError.functionCallTooFewArguments"},FunctionCallUnexpectedArgument:{defaultMessage:"Called {functionName} with unexpected argument.",id:"formulas.formulaEvaluatorError.functionCallUnexpectedArgument"},FunctionCallArgumentWrongType:{defaultMessage:"Called {functionName} with wrong argument type {argumentType}.",id:"formulas.formulaEvaluatorError.functionCallArgumentWrongType"},AccessingPropertyOnNonBlock:{defaultMessage:"Target value is not a block.",id:"formulas.formulaEvaluatorError.accessingPropertyOnNonBlock"},AccessingUserPropertyOnNonPerson:{defaultMessage:"Target value is not a person.",id:"formulas.formulaEvaluatorError.accessingUserPropertyOnNonPerson"},MissingDataDependencyBlock:{defaultMessage:"Cannot find target block {blockId}.",id:"formulas.formulaEvaluatorError.missingDataDependencyBlock"},MissingDataDependencyPerson:{defaultMessage:"Cannot find target person {personId}.",id:"formulas.formulaEvaluatorError.missingDataDependencyPerson"},MemberPropertyMismatchCollection:{defaultMessage:"Cannot access property of a different collection.",id:"formulas.formulaEvaluatorError.memberPropertyMismatchCollection"},MissingPropertyOnSchemaForMemberProperty:{defaultMessage:"Cannot find property on collection.",id:"formulas.formulaEvaluatorError.missingPropertyOnSchemaForMemberProperty"},UnaryMinusOnNonNumber:{defaultMessage:"Cannot negate value of type {expressionType}.",id:"formulas.formulaEvaluatorError.unaryMinusOnNonNumber"},UnexpectedRecoveryNode:{defaultMessage:"Unexpected recovery node.",id:"formulas.formulaEvaluatorError.unexpectedRecoveryNode"},UnexpectedError:{defaultMessage:"Unexpected error.",id:"formulas.formulaEvaluatorError.unexpectedError"},DepthExceeded:{defaultMessage:"Maximum recursion depth exceeded.",id:"formulas.formulaEvaluatorError.depthExceeded"},CycleDetected:{defaultMessage:"Cycle detected in formula.",id:"formulas.formulaEvaluatorError.cycleDetected"},DownstreamParseFailure:{defaultMessage:"Referenced formula failed to parse.",id:"formulas.formulaEvaluatorError.downstreamParseFailure"},MaxEvaluationTimeExceeded:{defaultMessage:"Max evaluation time exceeded.",id:"formulas.formulaEvaluatorError.maxEvaluationTimeExceeded"},MissingSchemaPropertyOnCollection:{defaultMessage:"Missing property {propertyName} on collection {collectionId}",id:"formulas.formulaEvaluatorError.missingSchemaPropertyOnCollection"},ContextVariableWrongType:{defaultMessage:"Context variable {valueId} returned a type of {propertyType} instead of {expectedType}",id:"formulas.formulaEvaluatorError.contextVariableWrongType"},DisallowedValueType:{defaultMessage:"Formula returned a type of {valueType}. {allowedValueTypeCount, plural, one {Allowed value type is {allowedValueType}} other {Allowed values types are {allowedValueType}}}.",id:"formulas.formulaEvaluatorError.disallowedValueType"}}),l=(0,n().YK)({true:{id:"formula2Input.builtin.true",defaultMessage:"The boolean value true."},false:{id:"formula2Input.builtin.false",defaultMessage:"The boolean value false."},and:{id:"formula2Input.builtin.and",defaultMessage:"The boolean operator and."},or:{id:"formula2Input.builtin.or",defaultMessage:"The boolean operator or."},not:{id:"formula2Input.builtin.not",defaultMessage:"Returns the opposite of a boolean value."},"+":{id:"formula2Input.builtin.plus",defaultMessage:"Adds two values together."},"-":{id:"formula2Input.builtin.subtract",defaultMessage:"Subtracts two numbers."},"*":{id:"formula2Input.builtin.mult",defaultMessage:"Multiplies two numbers."},"/":{id:"formula2Input.builtin.div",defaultMessage:"Divides two numbers."},"%":{id:"formula2Input.builtin.mod",defaultMessage:"The modulo operator, which returns the remainder of a division."},"^":{id:"formula2Input.builtin.pow",defaultMessage:"Raises a number to a power."},"==":{id:"formula2Input.builtin.eq",defaultMessage:"Checks if two values are equal."},"!=":{id:"formula2Input.builtin.neq",defaultMessage:"Checks if two values are not equal."},">":{id:"formula2Input.builtin.gt",defaultMessage:"Checks if the first value is greater than the second."},"<":{id:"formula2Input.builtin.lt",defaultMessage:"Checks if the first value is less than the second."},">=":{id:"formula2Input.builtin.ge",defaultMessage:"Checks if the first value is greater than or equal to the second."},"<=":{id:"formula2Input.builtin.le",defaultMessage:"Checks if the first value is less than or equal to the second."}}),c=(0,n().YK)({empty:{id:"formula2Input.type.empty",defaultMessage:"empty"},text:{id:"formula2Input.type.text",defaultMessage:"text"},number:{id:"formula2Input.type.numberTypeLabel",defaultMessage:"number"},checkbox:{id:"formula2Input.type.checkbox",defaultMessage:"checkbox"},date:{id:"formula2Input.type.dateTypeLabel",defaultMessage:"date"},block:{id:"formula2Input.type.block",defaultMessage:"block"},unknown:{id:"formula2Input.type.undefined",defaultMessage:"unknown"},person:{id:"formula2Input.type.person",defaultMessage:"person"},array:{id:"formula2Input.type.array",defaultMessage:"list of unknown"},function:{id:"formula2Input.type.function",defaultMessage:"function"},select:{id:"formula2Input.type.selectLabel",defaultMessage:"select"}}),u=(0,n().YK)({text:{id:"formula2Input.type.plural.text",defaultMessage:"list of text"},number:{id:"formula2Input.type.plural.numberTypeLabel",defaultMessage:"list of numbers"},checkbox:{id:"formula2Input.type.plural.checkbox",defaultMessage:"list of checkboxes"},date:{id:"formula2Input.type.plural.dateTypeLabel",defaultMessage:"list of dates"},block:{id:"formula2Input.type.plural.block",defaultMessage:"list of blocks"},unknown:{id:"formula2Input.type.plural.undefined",defaultMessage:"list"},person:{id:"formula2Input.type.plural.person",defaultMessage:"list of people"},function:{id:"formula2Input.type.plural.function",defaultMessage:"list of functions"},select:{id:"formula2Input.type.plural.selectLabel",defaultMessage:"list of selects"},array:{id:"formula2Input.type.plural.array",defaultMessage:"list of lists"}})},145820:(e,t,r)=>{r.d(t,{Ay:()=>s,QR:()=>o,ZY:()=>i});var n=()=>r(292588);const o="workflow_automation_run",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,dedup_key:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_at:n().A.Number},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},i={workflow:!0},s=a},152565:(e,t,r)=>{r.d(t,{d4:()=>T,YE:()=>x,k:()=>k,cQ:()=>S});r(898992),r(672577);var n=()=>r(496603),o=(r(430670),()=>r(716016)),a=()=>r(519831);const i={derivePrimitiveOperations(e,t){const{collectionId:n,spaceId:i}=e.args,s=t(e.pointer);if(!s)return[];if(s.is_template)return[];const l=(0,r(236162).zN)({block:s,getRecordValue:t});if((null==l?void 0:l.id)===n){const s=(0,o().f_)({spaceId:i,parentTable:a().Vl,parentId:n}),l=t(s),c=t({table:a().Vl,id:n,spaceId:i});if(c&&l&&l.alive)return(0,o().V_)(c).flatMap((t=>[{pointer:e.pointer,command:"set",path:["properties",t],args:(0,r(713998).$E)(l.next_value)},{pointer:s,command:"set",path:["next_value"],args:l.next_value+1}]))}return[]},getAdditionalRelatedPointers(e){const{collectionId:t,spaceId:r}=e.args;return[(0,o().f_)({spaceId:r,parentTable:a().Vl,parentId:t})]},invert:e=>[]};r(16280),r(944114),r(803949),r(581454);var s=()=>r(134025),l=()=>r(212547),c=()=>r(179034),u=()=>r(96689);const d={derivePrimitiveOperations(e,t,r){const n=[];n.push({...e,command:"insertChildrenBefore"===e.command?"listBeforeMulti":"listAfterMulti",args:{...e.args}});const o=k(e.pointer.table,e.path);if(!o)throw new Error(`Unsupported operation table and operation path ${JSON.stringify(e)} `);return e.args.ids.forEach((t=>{const i={id:t,table:o,spaceId:e.pointer.spaceId};n.push({command:"update",pointer:i,path:[],args:{parent_table:e.pointer.table,parent_id:e.pointer.id,alive:!0}});const s=r(i);if(s&&s.parent_id&&s.parent_table&&s.parent_id!==e.pointer.id)if(i.table===c().ev&&s.parent_table===u().NX){const e={id:s.parent_id,table:s.parent_table,spaceId:s.getSpaceId()},t=r(e);(t?t.getPages():[]).includes(i.id)&&n.push({command:"listRemove",pointer:e,path:["pages"],args:{id:s.id}})}else{const e=x(s.parent_table,o);e?n.push({command:"listRemove",pointer:{id:s.parent_id,table:s.parent_table,spaceId:s.getSpaceId()},path:e,args:{id:s.id}}):function(e){if(!e)throw new Error("Assertion failed in insertChildrenOperationHelper")}(s.parent_table===a().Vl)}})),n},getAdditionalRelatedPointers(e){const t=k(e.pointer.table,e.path);if(!t)throw new Error(`Invalid operation ${JSON.stringify(e)}`);return e.args.ids.map((r=>({id:r,table:t,spaceId:e.pointer.spaceId})))},invert(e){const{operation:t,getRecordValue:r}=e,n=k(t.pointer.table,t.path);if(!n)throw new Error(`Invalid operation ${JSON.stringify(t)}`);return t.args.ids.flatMap((e=>{const o={id:e,table:n,spaceId:t.pointer.spaceId},a=r(o);if(a&&a.parent_table&&a.parent_id){if(x(a.parent_table,n)){const n=r({id:a.parent_id,table:a.parent_table,spaceId:a.space_id});if(n){if(a.parent_id===t.pointer.id&&a.parent_table===t.pointer.table){const r=x(a.parent_table,o.table);if(r){const o=(0,s().OU)(n,r);if(!o||!o.includes(a.id))return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}}const r=p({oldParentWithTable:l().ms.create(a.parent_table,n),parentTable:a.parent_table,childPointer:o});return r?[r]:[]}return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}return[{command:"setParent",pointer:o,path:[],args:{parentId:a.parent_id,parentTable:a.parent_table}}]}return[{command:"removeChild",pointer:t.pointer,path:t.path,args:{id:e}}]}))}};function p(e){const{oldParentWithTable:t,parentTable:r,childPointer:n}=e,o=x(t.table,n.table),a={command:"setParent",pointer:n,path:[],args:{parentId:t.value.id,parentTable:r}};if(!o)return a;const i=(0,s().OU)(t.value,o);if(!i)return a;const l=i.indexOf(n.id);if(-1===l)return a;const c={id:t.value.id,table:r,spaceId:n.spaceId};if(0===l){return{command:"insertChildrenBefore",pointer:c,path:o,args:{ids:[n.id]}}}return{command:"insertChildrenAfter",pointer:c,path:o,args:{ids:[n.id],after:i[l-1]}}}var m=()=>r(370085),f=()=>r(363497),g=()=>r(869558),y=()=>r(144081),_=()=>r(123382);var v=()=>r(199378),b=()=>r(343666),h=()=>r(197959);const A={insertChildrenAfter:d,insertChildrenBefore:d,setParent:{derivePrimitiveOperations(e,t,n){const o=[{command:"update",pointer:e.pointer,path:[],args:{parent_table:e.args.parentTable,parent_id:e.args.parentId,alive:!0}}],a=t(e.pointer);if(a&&a.parent_id&&a.parent_table){const t=x(a.parent_table,e.pointer.table);t&&o.push({command:"listRemove",pointer:r(696706).L3.fromPointerLike({id:a.parent_id,table:a.parent_table,spaceId:a.space_id}),path:t,args:{id:e.pointer.id}})}return o},getAdditionalRelatedPointers:e=>[],invert(e){const{operation:t,getRecordValue:r}=e,n=r(t.pointer);if(!n||!n.parent_id||!n.parent_table)return[{command:"set",pointer:t.pointer,path:["alive"],args:!1}];if(n.parent_id===t.args.parentId&&n.parent_table===t.args.parentTable)return[];if(x(n.parent_table,t.pointer.table)){const e=r({id:n.parent_id,table:n.parent_table,spaceId:n.space_id});if(e){const r=p({oldParentWithTable:l().ms.create(n.parent_table,e),parentTable:n.parent_table,childPointer:t.pointer});if(r)return[r]}return[]}return[{command:"setParent",pointer:t.pointer,path:[],args:{parentId:n.parent_id,parentTable:n.parent_table}}]}},removeChild:{derivePrimitiveOperations(e,t,r){const n=[],o=k(e.pointer.table,e.path);let a=!1;if(o===c().ev&&e.pointer.table===u().NX){const t=r(e.pointer);(t?t.getPages():[]).includes(e.args.id)||(a=!0)}if(a||n.push({...e,command:"listRemove"}),!o)throw new Error(`invalid operation ${JSON.stringify(e)}`);return n.push({command:"set",path:["alive"],args:!1,pointer:{table:o,spaceId:e.pointer.spaceId,id:e.args.id}}),n},getAdditionalRelatedPointers(e){const t=k(e.pointer.table,e.path);if(!t)throw new Error(`Invalid operation ${JSON.stringify(e)}`);return[{id:e.args.id,table:t,spaceId:e.pointer.spaceId}]},invert(e){const{operation:t,getRecordValue:r}=e,n=r(t.pointer);if(!n)return[];const o=k(t.pointer.table,t.path);if(!o)throw new Error(`Invalid operation ${JSON.stringify(t)}`);const a=p({oldParentWithTable:l().ms.create(t.pointer.table,n),parentTable:t.pointer.table,childPointer:{id:t.args.id,table:o,spaceId:t.pointer.spaceId}});return a?[a]:[]}},assignAutoIncrementId:i,moveToPrivate:{derivePrimitiveOperations(e){const{pointer:t}=e,{spaceViewPointer:r,userId:n,removeFromParent:o}=e.args;if(t.spaceId!==r.spaceId)throw new Error("Invalid moveToPrivateOperation: Cannot move to a different space");const a=[(0,m().Mr)({pointer:t,userId:n}),(0,m().$F)({pointer:t,parent_table:u().NX,parent_id:r.spaceId,alive:!0}),{pointer:r,path:["private_pages"],command:"listAfter",args:{id:t.id}}];if(o){const e=x(o.table,t.table);e&&a.unshift({pointer:o,path:e,command:"listRemove",args:{id:t.id}})}return a},getAdditionalRelatedPointers:e=>(0,n().oE)([e.args.spaceViewPointer,e.args.removeFromParent]),invert(e){const{operation:t,getRecordValue:n}=e,{pointer:o}=t,{spaceViewPointer:i,removeFromParent:s}=t.args,l=r(792071).b4_.fromGetRecordValueFn(n),c=l(o);if(!c)return[];const u=[{command:"set",pointer:o,path:["permissions"],args:c.getPermissionItems()},(0,m().$F)({pointer:o,parent_table:c.parent_table,parent_id:c.parent_id,alive:c.alive??!0}),{pointer:i,path:["private_pages"],command:"listRemove",args:{id:o.id}}];if(s){const e=x(s.table,o.table);if(e){const t=l(s);if(t&&t.table!==a().Vl&&t.table!==_().MC&&t.table!==g().Gy&&t.table!==y().zx&&t.table!==r(63128).qm&&t.table!==f().TF){const r=t.getChildren(),n=r.indexOf(o.id);n<=0?u.push({pointer:s,path:e,command:"listBefore",args:{id:o.id}}):u.push({pointer:s,path:e,command:"listAfter",args:{id:o.id,after:r[n-1]}})}}}return u}}},I={[c().ev]:[{childTable:c().ev,childPath:["content"]},{childTable:h().$Y,childPath:["discussions"]}],[u().NX]:[{childTable:c().ev,childPath:["pages"]}],[r(84520).mu]:[{childTable:r(548632).YV,childPath:["assistant_session_starters"]}],[h().$Y]:[{childTable:b().SN,childPath:["comments"]}],[b().SN]:[{childTable:c().ev,childPath:["content"]}],[r(854150).yK]:[{childTable:c().ev,childPath:["team_pages"]}],[r(912720).yB]:[{childTable:v().SC,childPath:["action_ids"]}],[v().SC]:[{childTable:c().ev,childPath:["blocks"]}],[_().MC]:[],[g().Gy]:[],[y().zx]:[{childTable:c().ev,childPath:["blocks"]}],[f().TF]:[]};function k(e,t){var r;const o=I[e];if(o)return null===(r=o.find((({childPath:e})=>n().n4(e,t))))||void 0===r?void 0:r.childTable}function x(e,t){var r;const n=I[e];if(n)return null===(r=n.find((e=>t===e.childTable)))||void 0===r?void 0:r.childPath}function S(e){return A[e.operation.command].invert({operation:e.operation,getRecordValue:e.getRecordValue})}function T(e,t,r){return A[e.command].derivePrimitiveOperations(e,t,r)}},155792:(e,t,r)=>{r.d(t,{$J:()=>i,Ay:()=>s,mS:()=>o});var n=()=>r(292588);const o="thread_message",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,step:n().A.JSON,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,data:n().A.JSON},requiredColumns:{version:!0,step:!0,parent_id:!0,parent_table:!0,space_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},i={thread:!0},s=a},158009:(e,t,r)=>{r.d(t,{BZ:()=>c,bq:()=>l,f3:()=>i,is:()=>s,sy:()=>u});r(581454);var n=()=>r(498212),o=()=>r(292588);const a="|",i="space_permission_group_member";function s(e){return e.table===i&&function(e){const t=e.split(a),[r,o,i]=t;return 3===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)&&(0,n().uj)(i)}(e.id)}function l(e){const{userId:t,spacePermissionGroupId:r,spaceId:n}=e;return`${t}|${r}|${n}`}function c(e){return{id:l(e),table:i,spaceId:e.spaceId}}const u={table:i,columnTypes:{id:o().A.String,space_id:o().A.UUID,space_permission_group_id:o().A.UUID,user_id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,removed_at:o().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},158158:(e,t,r)=>{r.d(t,{A:()=>a,o:()=>o});var n=()=>r(292588);const o="server_integrations__slack_workspace",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_enterprise_id:n().A.String,name:n().A.String,icon:n().A.String,preferences:n().A.JSON}}},158816:(e,t,r)=>{r.d(t,{$3:()=>i,Ay:()=>f,J4:()=>p,JO:()=>c,Sp:()=>m,WK:()=>d,_7:()=>u});var n=()=>r(638681),o=()=>r(564766),a=()=>r(292588);const i=["add_email_domains","remove_email_domains","delete","update"],s=["unconfigured","disabled"],l=(n().literals(...s),["configured","enforced","enforced_for_domain"]),c=(n().literals(...l),[...s,...l]),u="saml_config";function d(e){return"unconfigured"===e.status||"disabled"===e.status}function p(e){return o().J4({samlConfigStatus:e.status,emailDomains:e.email_domains,idp_metadata:e.idp_metadata,idp_metadata_url:e.idp_metadata_url})}function m(e){return p(e)&&Boolean(e.idp_metadata)}const f={table:u,columnTypes:{id:a().A.UUID,version:a().A.Number,last_version:a().A.Number,status:a().A.String,email_domains:a().A.StringArray,idp_metadata_url:a().A.String,idp_public_certificate:a().A.String,idp_sign_in_url:a().A.String,idp_sign_out_url:a().A.String,create_account:a().A.Boolean,last_edited_by:a().A.UUID,last_edited_time:a().A.Number,idp_metadata:a().A.XML,owner_table:a().A.String,owner_id:a().A.String},requiredColumns:{status:!0,create_account:!0,last_edited_by:!0,last_edited_time:!0,owner_table:!0,owner_id:!0},defaultColumnValues:{status:"unconfigured",create_account:!1}}},161479:(e,t,r)=>{function n(e){return e}r.d(t,{e:()=>n})},161908:(e,t,r)=>{r.d(t,{DQ:()=>s,XD:()=>a,XX:()=>i});var n=()=>r(416845),o=()=>r(365970);function a(e){return!!e&&o().R.includes(e)}function i(e){return!!e&&o().TW.includes(e)}function s({customReason:e}){if(!e)throw new(n().rT)("If refund reason is 'custom' a reason is required",{type:"marketplace_refund_custom_reason_body_required"});if(e.length>=1e3)throw new(n().rT)("Custom reason must be less than 1000 characters",{type:"marketplace_refund_custom_reason_too_long"});if(e.length<10)throw new(n().rT)("Custom reason must be at least 10 characters",{type:"marketplace_refund_custom_reason_too_short"})}},172542:(e,t,r)=>{r.d(t,{A:()=>a,g:()=>o});var n=()=>r(292588);const o="user_data_consent_permissions",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,expiry_time:n().A.Number}}},173979:(e,t,r)=>{r.d(t,{BX:()=>g,EC:()=>f,KC:()=>d,Ti:()=>m,W4:()=>y,f$:()=>p});r(898992),r(354520),r(581454);var n=()=>r(778078),o=()=>r(534177),a=()=>r(604995),i=()=>r(416504),s=()=>r(436632),l=()=>r(201980),c=()=>r(681373);const u={now:{text:s().H.nowText,description:s().H.nowDescription,fuzzySearchKeywords:s().H.nowKeywords,category:"date",resolve:e=>{const t=a().T_(e.currentTimeZone||(0,i().P)(),e.currentTimestamp);return l().Ww9({...t,date_format:"relative"})}},today:{text:s().H.todayText,description:s().H.todayDescription,fuzzySearchKeywords:s().H.todayKeywords,category:"date",resolve:e=>{const t=a().Ec(e.currentTimeZone||(0,i().P)(),e.currentTimestamp);return l().Ww9({...t,date_format:"relative"})}},me:{text:s().H.meText,description:void 0,fuzzySearchKeywords:s().H.meKeywords,category:"user",resolve:e=>e.currentUserId?l().P4h(e.currentUserId):void 0}};function d(e,t){const r=l().y0Y(e);return u[r.type].resolve(t)}function p(e,t){return e?e.map((e=>function(e,t){const r=l().uPN(e).map((e=>(0,c().go)(e)?d(e,t):e)).filter(o().O9);return l().Ey_(l().N8A(e),r)}(e,t))):[]}function m(e,t){return t.formatMessage(u[e].text)}function f(e,t){const r=u[e].description;if(r)return t.formatMessage(r)}function g(e,t){return u[e].category===t}function y(e,t){return(0,n().Ay)(e,Object.entries(u),(([e,r])=>t.formatMessage(r.fuzzySearchKeywords))).map((([e,t])=>e))}},175482:(e,t,r)=>{r.d(t,{VC:()=>f,dM:()=>y,ir:()=>m,mP:()=>g});r(944114),r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(534177),a=()=>r(700500),i=()=>r(792071),s=()=>r(134025),l=()=>r(439180),c=()=>r(701218),u=()=>r(187534),d=()=>r(803884),p=()=>r(855355);function m(e){return e.crdt_data||void 0!==e.crdt_format_version?{...e,crdt_data:void 0,crdt_format_version:void 0}:e}function f(e){const{block:t,useCrdt:r,sessionId:n}=e,o=i().Bj6.fromBlock(t),a=o.__IM_SORRY__getValue();if(!r){return[s().op.set({pointer:o.pointer,path:[],args:v(a)})]}const c=p().Ay.createEmpty((0,u().Fl)(o.pointer.id,"title"),n),d=_(a,c),m=s().op.set({pointer:o.pointer,path:[],args:d}),f=o.getProperty("title");if(!f||0===f.length)return[m];return[m,...c.getOperationsForInsertTextValue(0,f).operations.map((e=>l().qA({pointer:o.pointer,crdtOperation:e})))]}function g(e){const{existingBlock:t,updatedBlock:r,sessionId:n}=e,a=i().Bj6.fromBlock(t),l=i().Bj6.fromBlock(r).__IM_SORRY__getValue(),{format:u,properties:d,moved:p,crdt_data:f,crdt_format_version:g,..._}=m(l),{title:v,...b}=d??{},h=[s().op.update({pointer:a.pointer,path:[],args:(0,c().hA)(_)}),u&&Object.keys(u).length>0?s().op.update({pointer:a.pointer,path:["format"],args:u}):void 0,a.useCrdt()?b&&Object.keys(b).length>0?s().op.update({pointer:a.pointer,path:["properties"],args:b}):void 0:d&&Object.keys(d).length>0?s().op.update({pointer:a.pointer,path:["properties"],args:(0,c().hA)(d)}):void 0,p&&Object.keys(p).length>0?s().op.update({pointer:a.pointer,path:["moved"],args:p}):void 0].filter(o().O9);if(!a.useCrdt())return h;const A=y(a,v,n);return[...h,...A]}function y(e,t,r){if(!e.useCrdt())return[s().op.update({pointer:e.pointer,path:["properties"],args:c().hA({title:t})})];const o=e.getBlockTitleTextSliceTree(r);if(!o)return[];const a=o.getTextValue();if(n().n4(a,t))return[];const i=[],u=o.getVisibleCount()>0?o.getOperationsForDeleteText(0,o.getVisibleCount()-1).operations:[];if(i.push(...u),t&&t.length>0){for(const t of u)o.applyDeleteOperation(t);const e=o.getOperationsForInsertTextValue(0,t).operations;i.push(...e)}return i.map((t=>l().qA({pointer:e.pointer,crdtOperation:t})))}function _(e,t){const r=b(e={...e,crdt_data:{title:d().lK(t)},crdt_format_version:c().vH});return(0,c().hA)({...r,properties:{...r.properties,title:t.getTextValue()}})}function v(e){return b({...e,crdt_data:void 0,crdt_format_version:void 0})}function b(e){const{type:t,format:r}=e;return t===a().xd.drawing?(0,c().hA)({...e,format:{drawing_value:void 0,...r}}):(0,c().hA)(e)}},183171:(e,t,r)=>{r.d(t,{Ay:()=>a,V1:()=>o});var n=()=>r(292588);const o="marketplace_profile",a={table:o,columnTypes:{id:n().A.UUID,contentful_id:n().A.String,name:n().A.String,username:n().A.String,locales:n().A.StringArray,status:n().A.String,template_creator_status:n().A.String,seller_onboarding_status:n().A.String,consultant_status:n().A.String,stripe_connect_onboarding_phase:n().A.String,stripe_connected_account_id:n().A.String,salesforce_id:n().A.String,attributes:n().A.JSON,number_of_templates:n().A.Number,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number},requiredColumns:{id:!0,contentful_id:!0,name:!0,username:!0,locales:!0,status:!0,seller_onboarding_status:!0,template_creator_status:!0,stripe_connect_onboarding_phase:!0,consultant_status:!0,number_of_templates:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},183541:(e,t,r)=>{r.d(t,{Ay:()=>i,e7:()=>o,tE:()=>a});var n=()=>r(292588);const o={space:!0},a="workflow_external_scoped_connection",i={table:a,columnTypes:{created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,id:n().A.UUID,last_version:n().A.Number,module_type:n().A.String,name:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,permission:n().A.JSON,scopes:n().A.StringArray,space_id:n().A.UUID,version:n().A.Number,workflow_external_connection_id:n().A.UUID},requiredColumns:{created_by_id:!0,created_by_table:!0,created_time:!0,module_type:!0,parent_id:!0,parent_table:!0,permission:!0,scopes:!0,space_id:!0,version:!0,workflow_external_connection_id:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},187534:(e,t,r)=>{r.d(t,{Fl:()=>u,Nf:()=>i,QG:()=>c,_3:()=>l,yb:()=>s,zk:()=>a});r(944114);var n=()=>r(498212),o=()=>r(416845);function a(e,t){return e[1]<t[1]?-1:e[1]>t[1]?1:e[0]<t[0]?-1:e[0]>t[0]?1:0}function i(e,t){const r=a(e,t);if(0===r)throw new(o().Qk)("Expected distinct op IDs",{data:{id1:e,id2:t}});return r}function s(e,t){return"start"===e?"start"===t?0:-1:"end"===e?"start"===t?1:"end"===t?0:-1:"start"===t||"end"===t?1:a(e,t)}function l(e,t){const r=s(e,t);if(0===r)throw new(o().Qk)("Expected distinct char IDs",{data:{id1:e,id2:t}});return r}function c(e){const t=[];for(const r of e){const[e,n]=r,[o,a]=e;for(let r=0;r<n;r++)t.push([o,a+r])}return t}function u(e,t){return(0,n().Ct)(`${e}/${t}`)}},187696:(e,t,r)=>{r.d(t,{b:()=>i});var n=()=>r(498140),o=()=>r(201980);const a=new WeakMap;function i(e){if(e&&a.has(e))return a.get(e);const t=function(e){const t=o().Cok(e);if(t.length>0){if("Invalid Date"===t[0].start_date||"Invalid date"===t[0].start_date)return;return t[0]}const r=o().k4p(e);return(0,n().Z$)(r)}(e);return e&&a.set(e,t),t}},188845:(e,t,r)=>{r.d(t,{A:()=>a,j:()=>o});var n=()=>r(292588);const o="space_domain",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,domain:n().A.String,is_autogenerated:n().A.Boolean}}},189141:(e,t,r)=>{r.d(t,{Lv:()=>g,QN:()=>f,Z0:()=>u,p8:()=>c});r(16280);var n=()=>r(973647),o=()=>r(534177);class a{migrateFormat(e){return{value:{type:"custom",version:1,title:e.title,autofillInstructions:e.autofillInstructions,placeholderText:e.placeholderText,context:e.context,searchScope:e.searchScope}}}}class i{migrateFormat(e){if("summarizeThisPage"===e.type)return{value:{...e,version:2}};if("extractKeyPointsFromThisPage"===e.type)return{value:{...e,version:2}};if("custom"===e.type){const{searchScope:t,...r}=e;return{value:{...r,version:2,searchScopes:t?[t]:[]}}}(0,o().HB)(e)}}class s{migrateFormat(e){if("summarizeThisPage"===e.type)return{value:{...e,version:3,searchScopes:[]}};if("extractKeyPointsFromThisPage"===e.type)return{value:{...e,version:3,searchScopes:[]}};if("custom"===e.type){const{dontSearchWorkspaceAndConnectors:t,title:r,placeholderText:n,searchScopes:o,...a}=e;let i=o||[];return o&&0!==o.length||(i=!0===t?[]:[{type:"notion"}]),{value:{...a,version:3,searchScopes:i}}}(0,o().HB)(e)}}const l={0:new a,1:new i,2:new s};function c(e){const t=(new f).migrateToLatest({format:e});return n().Q.isFail(t)?{error:t.error.message}:{value:t.value}}const u={type:"custom",version:3,autofillInstructions:void 0,context:void 0,searchScopes:[{type:"notion"}]};function d(e){const{model:t,getRecordModel:r}=e,n=t.getRenderTitleTextValue({getRecordModel:r}),o=t.getFormatValue("ai_prompt_key");if(!o)return;if("summarize"===o)return{type:"summarizeThisPage",version:3,searchScopes:[]};if("findActionItems"===o)return{type:"extractKeyPointsFromThisPage",version:3,searchScopes:[]};return{type:"custom",version:3,autofillInstructions:n,context:[{type:"currentPage",pageId:t.getParentPointer().id}],searchScopes:[]}}class p extends Error{constructor(e){super(e),this.name="AIBlockFormatMigratorError"}asValidationError(){return new(r(416845).yI)(this.message)}static is(e){return e instanceof p}}const m=()=>{};class f{constructor(e=m){this.getRecordModel=e}migrateToLatest(e){const{model:t}=e;let r;if(e.format)r=e.format;else{if(!t)return{error:new p("Either format or model must be provided")};{const e=this.getFormatFromModel(t);if(n().Q.isFail(e))return e;r=e.value.format}}const o=this.getFormatVersionFromFormat(r);return n().Q.isFail(o)?o:this.migrateFormatToLatest({format:r,version:o.value.version})}getFormatVersionFromFormat(e){return function(e){return"object"==typeof e&&null!==e&&"context"in e&&"searchScope"in e&&"placeholderText"in e&&"autofillInstructions"in e&&"title"in e}(e)?{value:{version:0}}:"version"in e?{value:{version:e.version}}:{error:new p("Invalid format")}}getFormatFromModel(e){const t=e.getFormatValue("ai_block_configuration_menu");if(t)return{value:{format:t}};if(e.getFormatValue("ai_prompt_key")){const t=d({model:e,getRecordModel:this.getRecordModel});return t?{value:{format:t}}:{error:new p("Failed to migrate V1 to V2")}}return{error:new p("No recognized AI block configuration format found")}}migrateFormatToLatest(e){const{format:t}=e;let r=t,o=e.version||0;for(;o<3;){const e=l[o];if(!e)return{error:new p(`No migrator found for version ${o}`)};const t=e.migrateFormat(r);if(n().Q.isFail(t))return{error:new p(t.error)};r=t.value,o++}return{value:r}}}function g(e){const{model:t,throwOnError:r}=e;if(!t){if(Boolean(r))throw new p("Model is required");return u}const o=(new f).migrateToLatest({model:t});if(n().Q.isFail(o)){if(Boolean(r))throw o.error;return u}return o.value}},190674:(e,t,r)=>{r.d(t,{El:()=>a,kX:()=>s,zg:()=>i});var n=()=>r(778781),o=()=>r(475140);function a(e){const t=Boolean((0,o().LC)(e,n().y6)),r=e.views_main_tab_modules,a=void 0!==r&&Object.keys(r).length>0;return t&&a}function i(e){const t=Boolean((0,o().LC)(e,n().y6)),r=a(e);return Boolean(t&&!r)}function s(e){const t=Boolean((0,o().JO)(e,n().y6)),r=e.views_main_tab_modules,a=void 0!==r&&Object.keys(r).length>0;return t&&a}},192125:(e,t,r)=>{r.d(t,{A:()=>a,h:()=>o});var n=()=>r(292588);const o="github_student_pack_redemption",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,github_user_id:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID},requiredColumns:{id:!0,version:!0,created_time:!0,github_user_id:!0,space_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},192249:(e,t,r)=>{r.d(t,{Ay:()=>a,Hi:()=>o});var n=()=>r(292588);const o="template_creator",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,username:n().A.String,is_template_creator:n().A.Boolean,user_id:n().A.String,attributes:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,number_of_templates:n().A.Number,template_image:n().A.JSON,tags:n().A.StringArray,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,is_featured_creator:n().A.Boolean,is_certified_consultant:n().A.Boolean,stripe_connected_account_id:n().A.String,stripe_connect_onboarding_phase:n().A.String,status:n().A.String,is_technology_partner:n().A.Boolean,seller_onboarding_status:n().A.String},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,username:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,number_of_templates:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,status:!0,stripe_connect_onboarding_phase:!0},model:(0,r(152853).P)({RecordStore:!0})}},192481:(e,t,r)=>{r.d(t,{M:()=>o,z:()=>a});r(16280);var n=()=>r(792071);function o(e){return"none"!==e}function a(e){const{undecoratedGetRecordModel:t,logErrorFn:r,from:o}=e;return n().b4_.fromMonomorphicFunctionUnsafe((e=>{const n=t(e);return void 0===n&&"space_user"!==e.table&&"space_bot"!==e.table&&"space_permission_group"!==e.table&&"space_permission_group_member"!==e.table&&r({from:o,type:"NecessaryRecordWasNotProvided",error:new Error(`${o} needed the following record: ${e.table}/${e.id}, but it was not provided`),data:e}),n}),t.getRecordValue)}},193657:(e,t,r)=>{r.d(t,{Ay:()=>a,bh:()=>o});var n=()=>r(292588);const o="integration_listing",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,integration_id:n().A.UUID,creator_id:n().A.UUID,tags:n().A.StringArray,name:n().A.String,slug:n().A.String,locale:n().A.String,info:n().A.JSON,created_at:n().A.Number,last_updated_at:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},197577:(e,t,r)=>{r.d(t,{Ay:()=>a,hR:()=>o});var n=()=>r(292588);const o="template_tag",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,contentful_parent_id:n().A.String,icon:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,subcategory_contentful_ids:n().A.StringArray,featured_template_contentful_ids:n().A.StringArray,attributes:n().A.JSON,number_of_templates:n().A.Number,template_image:n().A.JSON,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,subcategory_contentful_ids_v2:n().A.StringArray,hide_in_web_gallery:n().A.Boolean,show_in_app:n().A.Boolean,number_of_templates_v2:n().A.Number},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,icon:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,attributes:!0,number_of_templates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,hide_in_web_gallery:!0,show_in_app:!0,number_of_templates_v2:!0},model:(0,r(152853).P)({RecordStore:!0})}},197651:(e,t,r)=>{r.d(t,{Ay:()=>a,zi:()=>o});var n=()=>r(292588);const o="marketplace_payout_remainder",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,amount:n().A.Number,currency:n().A.String,source_payout_id:n().A.UUID,settlement_payout_id:n().A.UUID,seller_id:n().A.UUID,seller_account_id:n().A.String,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,amount:!0,currency:!0,source_payout_id:!0,seller_id:!0,seller_account_id:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},197959:(e,t,r)=>{r.d(t,{$Y:()=>a,Ay:()=>i,yy:()=>o});var n=()=>r(292588);const o={block:!0},a="discussion",i={table:a,columnTypes:{id:n().A.UUID,type:n().A.String,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,context:n().A.JSON,resolved:n().A.Boolean,comments:n().A.StringArray,space_id:n().A.UUID,reactions:n().A.UUIDArray,property_id:n().A.String},requiredColumns:{parent_id:!0,parent_table:!0,resolved:!0,type:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{context:{private:!0}}})}},199378:(e,t,r)=>{r.d(t,{Ay:()=>l,SC:()=>s,ls:()=>a,xC:()=>i});var n=()=>r(292588);const o=(0,r(69708).YK)({defaultEmptyVariableName:{defaultMessage:"Variable 1",id:"AutomationAction.defaultEmptyVariableName"}}),a={automation:!0},i=o.defaultEmptyVariableName,s="automation_action",l={table:s,columnTypes:{id:n().A.UUID,type:n().A.String,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,config:n().A.JSON,blocks:n().A.StringArray},requiredColumns:{id:!0,type:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{config:{getKeyStoreMethod:!1}}})}},201980:(e,t,r)=>{r.d(t,{$6U:()=>kn,$CJ:()=>me,$VL:()=>fr,$ch:()=>P().$c,$qC:()=>Ce,AGB:()=>$n,AI5:()=>un,ANx:()=>sn,AhH:()=>ze,Aux:()=>P().Au,B8H:()=>Fe,BEe:()=>Ue,BQP:()=>P().BQ,CA$:()=>nn,CXp:()=>Jr,CY8:()=>tr,C_C:()=>Or,Cc8:()=>Bn,Cok:()=>Zt,DH3:()=>wr,DJ2:()=>ln,Dew:()=>mt,EF0:()=>te,EKZ:()=>F,ELt:()=>Wt,EQ8:()=>P().EQ,ESw:()=>rn,ETy:()=>hr,E_d:()=>Jn,EgN:()=>P().Eg,ElW:()=>zr,Ey_:()=>vr,FAS:()=>jt,FAw:()=>Gn,FHi:()=>Xe,FLg:()=>et,Fbh:()=>Lt,Ffo:()=>yr,G0H:()=>on,G6d:()=>se,GCe:()=>at,GQB:()=>P().GQ,GhC:()=>de,GiG:()=>Ve,Gsl:()=>ht,HPQ:()=>P().HP,HZO:()=>Kn,I1e:()=>P().I1,IQD:()=>Gt,ITd:()=>rr,IcF:()=>Vt,Ifu:()=>P().BQ,Ii$:()=>Zr,IjF:()=>P().Ij,JCc:()=>P().JC,JG8:()=>Hn,JIi:()=>W,JJ$:()=>Ln,JJX:()=>ft,JMm:()=>Z,JWU:()=>In,J_S:()=>Nr,JzQ:()=>xn,K7D:()=>St,K9V:()=>be,KGg:()=>tt,KdU:()=>kt,Kxr:()=>q,LPC:()=>fn,M4u:()=>K,MMZ:()=>He,MTk:()=>zn,MXn:()=>P().MX,MaE:()=>lt,MbB:()=>Mn,MdE:()=>yt,Mdu:()=>le,Mwp:()=>dn,MzR:()=>ge,N53:()=>P().N5,N5L:()=>Yt,N8A:()=>je,NcG:()=>Je,NpB:()=>It,O3D:()=>P().O3,ORN:()=>P().OR,Omw:()=>Pr,Orm:()=>dt,P4h:()=>kr,PVS:()=>he,Pej:()=>Fn,Pqo:()=>we,Q0m:()=>P().Q0,QVD:()=>re,QkK:()=>st,Qmu:()=>P().Qm,Qri:()=>Yr,Qt6:()=>Le,RAd:()=>Xr,RFR:()=>En,RNO:()=>P().RN,RQ:()=>cr,RXL:()=>P().RX,RaC:()=>P().R,S4U:()=>P().S4,SEY:()=>ce,SZO:()=>j,Sev:()=>ae,Sez:()=>Vr,Si1:()=>P().Si,Sj:()=>R,So_:()=>Ke,SqX:()=>P().Sq,Srj:()=>pe,T$c:()=>ct,TEZ:()=>Kr,TSJ:()=>vt,TVE:()=>Ie,Ta1:()=>P().T,U35:()=>Ze,UKc:()=>qe,UZu:()=>z,Uee:()=>mr,Uft:()=>bn,Umo:()=>Ur,UyS:()=>P().Uy,VS2:()=>E,Vb6:()=>xr,VtW:()=>_e,W3Y:()=>ye,WWE:()=>$e,WWk:()=>P().WW,Wov:()=>P().Wo,Ww9:()=>Sr,X$:()=>Lr,XKU:()=>P().XK,XTT:()=>Ar,XkZ:()=>P().Xk,Ycj:()=>tn,YhW:()=>gr,Yl$:()=>D,YuY:()=>P().Yu,ZRT:()=>P().ZR,ZW1:()=>Tr,ZrY:()=>xt,_Nw:()=>it,_Vv:()=>ue,_XS:()=>P()._X,__s:()=>cn,_g9:()=>Y,_kG:()=>en,_tF:()=>ut,_vJ:()=>Sn,aIB:()=>P().aI,aLI:()=>qn,aQj:()=>jr,air:()=>Qt,azZ:()=>Me,b$b:()=>Tn,bBR:()=>or,bHQ:()=>Ne,bMp:()=>Er,bZo:()=>P().bZ,byt:()=>Te,cFJ:()=>rt,cQR:()=>Qe,c_:()=>oe,cgd:()=>P().cg,ctx:()=>Vn,cyx:()=>P().cy,czo:()=>P().cz,dCO:()=>On,dHc:()=>ie,dLT:()=>Bt,dRK:()=>P().dR,dWL:()=>Mr,dei:()=>P().de,dze:()=>Zn,fL_:()=>P().fL,fmO:()=>gt,g2K:()=>Se,gir:()=>P().gi,go0:()=>P().go,gqr:()=>H,gru:()=>Gr,gsT:()=>gn,gwU:()=>pn,h71:()=>Hr,hiQ:()=>Ir,i$F:()=>_t,i54:()=>Be,i8$:()=>$,i8Z:()=>P().i8,iGj:()=>P().iG,iQL:()=>P().iQ,iVq:()=>ot,ik2:()=>P().ik,iz3:()=>P().iz,j1D:()=>ee,j2Y:()=>Ot,j8e:()=>Pt,jEb:()=>zt,jIt:()=>P().jI,jR$:()=>Ee,jcO:()=>P().jc,jgW:()=>qt,jhx:()=>X,jvm:()=>Et,k4p:()=>pr,kJl:()=>P().kJ,kNd:()=>Ht,lSC:()=>Pn,lXo:()=>Qn,ld4:()=>br,lf7:()=>$r,lfB:()=>nr,lfl:()=>P().lf,lkI:()=>Qr,lqY:()=>fe,lux:()=>qr,lzV:()=>hn,mIW:()=>Ut,moK:()=>Jt,muW:()=>P().mu,n5B:()=>P().n5,nG4:()=>Tt,nNl:()=>P().nN,nfR:()=>O,oBs:()=>Dn,ooo:()=>lr,oxd:()=>P().ox,p5C:()=>nt,p5j:()=>P().p5,pbt:()=>Ge,q1R:()=>Mt,q4_:()=>dr,qAZ:()=>ur,qMn:()=>ve,qS0:()=>bt,qUh:()=>P().qU,qXl:()=>Re,qlU:()=>P().ql,qsB:()=>P().qs,rDy:()=>P().rD,rPg:()=>V,rie:()=>P().ri,rjO:()=>De,rlz:()=>P().rl,s1Y:()=>P().$D,sh$:()=>P().sh,snh:()=>ne,tI_:()=>P().tI,tPj:()=>Rr,tVx:()=>ke,tyK:()=>$t,u$N:()=>Dt,uIc:()=>wt,uLW:()=>Fr,uPN:()=>Nt,v55:()=>At,vSn:()=>Ft,vjW:()=>Ye,vpH:()=>Pe,vu:()=>pt,w9s:()=>J,wQU:()=>Rt,wU2:()=>Dr,wmz:()=>Wr,wuy:()=>vn,x9_:()=>ar,x9d:()=>_r,x9g:()=>xe,xV3:()=>sr,xbM:()=>jn,xym:()=>An,y0Y:()=>Ct,ynV:()=>P().yn,zBr:()=>wn,zIw:()=>P().zI,zKJ:()=>Ae,zP1:()=>Br,zX2:()=>P().zX});r(18107),r(944114),r(967357),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(908872),r(737550),r(941795),r(814603),r(147566),r(198721);var n=()=>r(99895),o=()=>r(496603),a=()=>r(534177),i=()=>r(939768),s=()=>r(720665),l=()=>r(902006),c=()=>r(319954),u=()=>r(269288),d=()=>r(869190),p=()=>r(634201),m=()=>r(997769),f=()=>r(402390),g=()=>r(207289),y=()=>r(332737),_=()=>r(795727),v=()=>r(651784),b=()=>r(179034),h=()=>r(824862),A=()=>r(519831),I=()=>r(343666),k=()=>r(837420),x=()=>r(197959),S=()=>r(161479),T=()=>r(437607),M=()=>r(854150),w=()=>r(798880),B=()=>r(7950),C=()=>r(230350),P=()=>r(681373),N=()=>r(220719);const U=8192,R="",D="",O="",F={...P().z7,[P().BQ.FormulaError]:!0,[P().BQ.Inserted]:!0,[P().BQ.Deleted]:!0,[P().BQ.TemporaryComment]:!0,[P().BQ.Discussion]:!0,[P().BQ.SuggestionRemoveText]:!0,[P().BQ.SuggestionUnannotate]:!0,[P().BQ.SuggestionInsertText]:!0,[P().BQ.SuggestionAnnotate]:!0,[P().BQ.Link]:!0,[P().BQ.Equation]:!0,[P().BQ.TemporaryEquation]:!0,[P().BQ.TemporaryInput]:!0,[P().BQ.TemporarySelection]:!0,[P().BQ.TemporaryFindHighlight]:!0,[P().BQ.TemporaryHighlight]:!0,[P().BQ.TemporarySelectedFindHighlight]:!0,[P().BQ.TemporaryCursor]:!0,[P().BQ.TemporaryNativeMABFilter]:!0,[P().BQ.TemporaryDictation]:!0,[P().BQ.TemporaryCommentHighlight]:!0,[P().BQ.TemporarySuggestionUnderline]:!0,[P().BQ.LinkMention]:!0,[P().BQ.TemporarySearchFilter]:!0,[P().BQ.Collection]:!0,[P().BQ.Citation]:!0,[P().BQ.TemporaryCitation]:!0};function E(e){return!!((0,P().iG)(e)||(0,P().Sq)(e)||(0,P().aI)(e)||(0,P().XK)(e)||(0,P().S4)(e)||(0,P().iQ)(e)||(0,P().ZR)(e)||(0,P().zI)(e)||(0,P().O3)(e)||(0,P().MX)(e)||(0,P().sh)(e)||(0,P().gi)(e)||(0,P().lf)(e)||(0,P().tI)(e)||(0,P().ju)(e)||(0,P().wx)(e)||(0,P().fL)(e)||(0,P().p5)(e)||(0,P().lZ)(e)||(0,P().Qm)(e)||(0,P().Si)(e)||(0,P().yn)(e)||(0,P().n5)(e)||(0,P().RX)(e))}P().BQ.Code;function V(e){return!!(0,P().rl)(e)}const L={[P().BQ.Bold]:!0,[P().BQ.Italic]:!0,[P().BQ.Strike]:!0,[P().BQ.Underline]:!0,[P().BQ.Highlight]:!0};function H(e){return!!((0,P().dR)(e)||(0,P().WW)(e)||(0,P().Eg)(e)||(0,P().cy)(e)||(0,P().Yu)(e))}P().BQ.SuggestionInsertText,P().BQ.SuggestionAnnotate,P().BQ.SuggestionRemoveText;function G(e){if(function(e){switch(e){case P().BQ.Bold:case P().BQ.Italic:case P().BQ.Strike:case P().BQ.Underline:case P().BQ.Highlight:return!0;default:return!1}}(e))return!0;switch(e){case P().BQ.SuggestionInsertText:case P().BQ.SuggestionRemoveText:case P().BQ.SuggestionAnnotate:return!0;default:return!1}}function q(e){return"hb"!==e&&"hf"!==e&&G(e)}function j(e){return!!H(e)||!!((0,P().O3)(e)||(0,P().MX)(e)||(0,P().ZR)(e))}function $(e){return!!V(e)}function z(e){return!!((0,P().iG)(e)||(0,P().Sq)(e)||(0,P().aI)(e)||(0,P().XK)(e)||(0,P().S4)(e)||(0,P().iQ)(e)||(0,P().zI)(e)||(0,P().sh)(e)||(0,P().gi)(e)||(0,P().lf)(e)||(0,P().tI)(e)||(0,P().ju)(e)||(0,P().wx)(e)||(0,P().fL)(e)||(0,P().p5)(e)||(0,P().lZ)(e)||(0,P().Qm)(e)||(0,P().Si)(e)||(0,P().yn)(e)||(0,P().n5)(e)||(0,P().RX)(e))}function W(e){return(0,P().ER)(e)?e:(0,P().Au)(e)}function Z(e,t){return typeof e==typeof t&&(Q(e)||Q(t)?o().n4(e,t):e===t)}function Q(e){return"string"!=typeof e}function K(e){return Q(e)?e[0]:e}function J(e){return!(e??[]).some((e=>!Y(e)))}function Y(e){return 0===je(e).trim().length}function X(e){return e.find(P().iG)}function ee(e){return e.find(P().gi)}function te(e){return e.filter(P().iQ)}function re(e){return e.filter(P().I1)}function ne(e){return e.find(P().ri)}function oe(e){return e.find((e=>(0,P().Xk)(e)))}function ae(e){return e.find(P().jI)}function ie(e){return e.find(P().mu)}function se(e){return e.find(P().nN)}function le(e){return e.find(P().de)}function ce(e){return e.find(P().R)}function ue(e){return e.find(P().JC)}function de(e){return e.filter(P().JC).find((e=>"teamspace"===e[3]))}function pe(e){return e.find(P().rD)}function me(e){return e.find(P().qs)}function fe(e){return e.find(P().ik)}function ge(e){return e.find(P().N5)}function ye(e){return e.find(P().rl)}function _e(e){return e.find(P().sh)}function ve(e){return e.find(P().HP)}function be(e){return e.find(P().RX)}function he(e){return e.find(P().go)}function Ae(e){return e.find(P().S4)}function Ie(e){return e.find(P().iz)}function ke(e){return e.find(P().$D)}function xe(e){return e.find(P().i8)}function Se(e){return e.find(P().bZ)}function Te(e){return e.find(P().aI)}function Me(e){return e.find(P().XK)}function we(e){return e.find(P().ql)}function Be(e){return e.find(P().n5)}function Ce(e,t){return e.find((e=>(0,P().Yp)(e,t)))}function Pe(e){return e.find(P().Qm)}function Ne(e){return 1===e.length}function Ue(e){if(2===e.length&&!Re(e)&&!Ve(e)){const[,t]=e;return t.filter(P().T).length===t.length}return!1}function Re(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(t.find(P().iG))}return!1}function De(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(t.find(P().jI))}return!1}function Oe(e){return 2===e.length&&e[0]===R&&Boolean(e[1].find(P().qs))}function Fe(e){if(2===e.length){const[t,r]=e;if(t===R&&r.find(P().bZ))return!0}return!1}function Ee(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(be(t))}return!1}function Ve(e){if(2===e.length&&e[0]===D){const[,t]=e;return Boolean(t.find(P().gi))}return!1}function Le(e){return!!(Ve(e)||De(e)||Fe(e))}function He(e){return"string"==typeof e&&P().rw.includes(e)}function Ge(e){return"me"===e}function qe(e){return"today"===e||"now"===e}function je(e){return e[0]}function $e(e){return p().PE(je(e)).length}function ze(e){return e.reduce(((e,t)=>e+$e(t)),0)}function We(e){if(e&&e[1])return e[1]}function Ze(e){return e[1],e[1]}function Qe(e){return We(e)}function Ke(e){const t=_e(Nt(e));if(t)return Qe(t)}function Je(e){return We(e)}function Ye(e){return We(e)}function Xe(e){if(e&&e[1]&&e[2])return{groupId:e[1],spaceId:e[2]}}function et(e){if(e&&e[1]&&e[2]&&"string"==typeof e[3])return{teamId:e[1],spaceId:e[2],mentionType:e[3]}}function tt(e){if(e&&e[1]&&e[2]&&"teamspace"===e[3])return{table:M().yK,id:e[1],spaceId:e[2]}}function rt(e){if(e&&e[1]&&e[2])return(0,T().S4)({spacePermissionGroupId:e[1],spaceId:e[2]})}function nt(e){return We(e)}function ot(e){return We(e)}function at(e){return We(e)}function it(e){return"contextValueId"in e}function st(e){return!("contextValueId"in e)}function lt(e){if(e.collection&&e.property)return{collectionId:e.collection.id,propertyId:e.property}}function ct(e){return We(e)}function ut(e){return{table:b().ev,id:ct(e)}}function dt(e){return We(e)}function pt(e){return We(e)}function mt(e){return e[2]}function ft(e){return We(e)}function gt(e){return We(e)}function yt(e){if(e&&3===e.length)return{table:I().SN,id:e[1],spaceId:(0,S().e)(e[2])}}function _t(e){if(e&&e[1])return{table:b().ev,id:e[1],spaceId:(0,S().e)(3===e.length?e[2]:void 0)}}function vt(e){return e[1]&&e[2]?{table:A().Vl,id:e[1],spaceId:e[2]}:{table:A().Vl,id:e[1]}}function bt(e){if(e&&e[1]&&e[2])return{table:k().e,id:e[1],spaceId:e[2]}}function ht(e){if(e&&e[1])return e[1]}function At(e){return We(e)}function It(e){return We(e)}function kt(e){return{table:A().Vl,id:e[1],spaceId:(0,S().e)(3===e.length?e[2]:void 0)}}function xt(e){return We(e)}function St(e){return We(e)}function Tt(e){return We(e)}function Mt(e){return function(e,t){let r=!1;const n={...e};for(const o of t){const t=e[o];o in e&&void 0!==t&&"string"!=typeof t&&(n[o]=`${t}`,r=!0)}return r?n:e}(We(e),["link_provider","title","link_author"])}function wt(e){return We(e)}function Bt(e){return We(e)}function Ct(e){return We(e)}function Pt(e){return We(e)}function Nt(e){return e&&e[1]&&Array.isArray(e[1])?e[1]:[]}function Ut(e){const t=e??[];return Nt(o().HV(t))}function Rt(e){return Nt(e)}function Dt(e){const t=Nt(e).find(P().gi);if(!t)return"";const r=Ze(t);return r}function Ot(e){return o().sb(o().Bq(cr(e).map((e=>function(e){return e.filter(P().Hp)}(Nt(e)).map((e=>gt(e)))))))}function Ft(e){return o().sb(o().Bq(cr(e).map((e=>re(Nt(e)).map((e=>gt(e)))))))}function Et(e){return o().sb(o().Bq(cr(e).map((e=>{const t=function(e){return e.filter(P().N5)}(Nt(e));return t.map((e=>ct(e)))}))))}function Vt(e){const t=[];for(const r of cr(e))if(Ve(r)){const e=Dt(r);t.push(e)}return t}function Lt(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().ri)(e)){const r=Je(e);r&&t.push(r)}}))})),t}function Ht(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().$D)(e)){const r=ot(e);r&&t.push(r)}}))})),t}function Gt(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().iz)(e)){const r=at(e);r&&t.push(r)}}))})),t}function qt(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().Xk)(e)){const r=Ye(e);r&&t.push(r)}}))})),t}function jt(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().R)(e)){const r=Xe(e);r&&t.push(r)}}))})),t}function $t(e){const t=[];return cr(e).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().JC)(e)){const r=et(e);r&&t.push(r)}}))})),t}function zt(e){const{value:t,convertGroupPointersToBeComposite:r}=e,n=[];return cr(t).forEach((e=>{Re(e)&&Nt(e).forEach((e=>{if((0,P().Xk)(e)){const t=Ye(e);t&&n.push({table:h().GP,id:t})}if((0,P().ri)(e)){const t=Je(e);t&&n.push({table:w().oo,id:t})}if((0,P().R)(e)){const t=Xe(e);if(t){const e=r?(0,T().S4)({spacePermissionGroupId:t.groupId,spaceId:t.spaceId}):{table:T().n,id:t.groupId,spaceId:t.spaceId};n.push(e)}}}))})),n}function Wt(e){const{value:t,includeTemplateVariables:r}=e,n=[];return cr(t).filter((e=>{Re(e)&&Nt(e).forEach((e=>{if(r&&(0,P().go)(e)){const t=Ct(e);t&&"me"===t.type&&n.push(t.type)}else if((0,P().Xk)(e)){const t=Ye(e);t&&n.push({table:h().GP,id:t})}else if((0,P().ri)(e)){const t=Je(e);t&&n.push({table:w().oo,id:t})}else if((0,P().R)(e)){const t=Xe(e);t&&n.push({table:T().n,id:t.groupId,spaceId:t.spaceId})}}))})),n}function Zt(e){const t=[],r=cr(e);for(const n of r)if(Oe(n)){const[,e]=n,r=me(e);if(r){const e=St(r);t.push(e)}}return t}function Qt(e,t){return cr(e).flatMap(Nt).map((e=>Kt(e,t))).filter(a().O9)}function Kt(e,t){if(!(0,P().jc)(e)){if((0,P().ri)(e))return function(e){return{table:w().oo,id:Je(e)}}(e);if((0,P().Xk)(e))return function(e){return{table:h().GP,id:Ye(e)}}(e);if((0,P().jI)(e))return _t(e);if((0,P().mu)(e))return vt(e);if(!((0,P().EQ)(e)||(0,P().zX)(e)||(0,P().qs)(e)||(0,P().Q0)(e))){if((0,P().N5)(e))return ut(e);if(!(0,P().go)(e)){if((0,P().rD)(e))return yt(e);if((0,P().R)(e))return rt(e);if((0,P().JC)(e))return tt(e);if(!(0,P().ik)(e)){if((0,P().nN)(e))return bt(e);if((0,P().mu)(e))return vt(e);if((0,P().RX)(e)){const[,r]=e;return Kt(r,t)}if(!(0,P().cg)(e)&&!(0,P().qU)(e)){if((0,P().iQ)(e))return t.spaceId?function(e,t){return{table:x().$Y,id:dt(e),spaceId:t}}(e,t.spaceId):void 0;if(!(0,P().HP)(e)){if((0,P().bZ)(e))return function(e){const t=It(e);if("query_database_result"!==t.type&&"url"!==t.type&&"helpdoc"!==t.type&&"helpdoc-section"!==t.type&&"webpage"!==t.type&&!Jn(t))return t.blockId?{table:b().ev,id:t.blockId}:void 0}(e);if(!(0,P().Ij)(e)){if((0,P().I1)(e))return t.spaceId?function(e,t){return{table:x().$Y,id:pt(e),spaceId:t}}(e,t.spaceId):void 0;if((0,P().sh)(e)){if(t.inlinePageLink){const r=Qn({url:Qe(e),baseUrl:t.inlinePageLink.baseUrl,publicDomainName:t.inlinePageLink.publicDomainName});if(r)return{table:b().ev,id:r}}}else(0,P().Yu)(e)||(0,P().gi)(e)||(0,P().lf)(e)||(0,P().tI)(e)||(0,P().fL)(e)||(0,P().$D)(e)||(0,P().iz)(e)||(0,P().Qm)(e)||(0,P().de)(e)||(0,P().Si)(e)||(0,P().$c)(e)||(0,a().HB)(e)}}}}}}}}function Jt(e){const t=[];for(const r of cr(e)){const e=Nt(r);if(!e)continue;const n=ae(e);if(!n)continue;const o=_t(n);o&&t.push(o)}return t}function Yt(e){const t=[];for(const r of cr(e)){const e=Nt(r);if(!e)continue;const n=ae(e);if(!n)continue;const o=At(n);o&&t.push(o)}return t}const Xt=1,er=1;function tr(e,t=!1){const r=[];return cr(e).forEach(((e,n)=>{if(Re(e))return;const o=je(e);Nt(e).forEach(((e,a)=>{if(!(0,P().sh)(e))return;const i=Qe(e);i&&r.push({name:o,url:i,path:t?[n,Xt,a,er]:void 0})}))})),r}function rr(e){return e.map((e=>{if(Ue(e)){const[t,r]=e;return[t,r.map((e=>(0,P().sh)(e)?["_"]:e))]}return e}))}function nr(e){return cr(e.textValue).flatMap((t=>c().r.fromArray(Nt(t)).findByGroupingKey(e.annotationGroupingKey)))}function or(e){return e.map(((t,r)=>{let n=t;if(0===r)if(Ne(n)){const[e]=n;n=[e.trimStart()]}else if(Ue(n)){const[e,t]=n;n=[e.trimStart(),t]}if(r===e.length-1)if(Ne(n)){const[e]=n;n=[e.trimEnd()]}else if(Ue(n)){const[e,t]=n;n=[e.trimEnd(),t]}return n}))}function ar(e){return vr(je(e),Nt(e))}function ir(e,t){const r=sr(e);return function(e){return e.some(P().iG)}(t)?R:function(e,t){if((0,N().MX)(""===D,"Sanitization code not correctly updated to handle new equation token"),!e.includes(""))return!1;return t.some((e=>(0,P().gi)(e)))}(r,t)?D:r}function sr(e){const t=p().PE(e),r=[];for(const n of t)for(const e of n)Dn(e)||Boolean(Pn(e))||r.push(e);return r.join("")}function lr(e){if(!Array.isArray(e))return[];const t=[];for(const r of e){if(null==r)continue;const e=r&&"string"==typeof r[0]?r[0]:p().PE(r[0]).map(String).join(""),n=[];if(r.length>1&&Array.isArray(r[1])){const e=r[1];for(const t of e){const e=(0,C().v)(t);e&&n.push(e)}}const o=ir(e,n),a=o===D?n:n.filter((e=>!(0,P().gi)(e)));o.length&&t.push(vr(o,a,{skipSanitization:!0}))}return t}function cr(e){return e&&Array.isArray(e)?e.filter(a().O9):[]}function ur(e){return p().PE(dr(e))}function dr(e){return cr(e).map((e=>je(e))).join("")}function pr(e){return cr(e).filter((e=>!Re(e))).map((e=>Ve(e)?Dt(e):je(e))).join("")}function mr(e,t){return function(e,t){const{removeSuggestionAnnotationsAndText:r,removeSuggestionAnnotations:n,removeDiscussions:o}=t,a=[];let i=!1;e:for(const s of cr(e)){const e=[];for(const t of Nt(s))if(!o||!(0,P().iQ)(t)){if((0,P().I1)(t)){if(i=!0,r){if((0,P().O3)(t))continue e;continue}if(n)continue}e.push(t)}a.push(vr(je(s),e))}return{value:cn(a),containsSuggestions:i}}(e,t).value}function fr(e,t,r){const n=cr(e);let o="";for(const a of n){const e=a[0],n=Nt(a);e===R||Ve(a)||(o+=e);for(const a of n)if((0,P().qs)(a))o+=gr(a);else if((0,P().sh)(a)){const e=Qe(a),t=i().qg(e);o+=` ${t.hostname||""}${t.pathname||""} `}else if((0,P().gi)(a))o+=Ze(a);else if((0,P().ri)(a)){const e=Je(a),n=t({table:w().oo,id:e}),i=null==n?void 0:n.getName();i&&!r.user[e]&&(r.user[e]=i);o+=(0,g().X9)("user",e)}}return{text:o,mentions:r}}function gr(e){const t=St(e);return d().ZF({value:t,date_format:t.date_format,time_format:t.time_format,allowRelativeDates:!1,intl:(0,f().wW)()})}function yr(e,t,r){const n=cr(e),o=[];let a=0,i=0;for(;a<n.length&&i<r;){const e=n[a];if(i>=t){const t=p().PE(je(e));if(!(i+t.length<=r)){const n=Nt(e),a=r-i;o.push(vr(t.slice(0,a).join(""),n));break}o.push(e),i+=t.length,a+=1}else{const n=p().PE(je(e));if(i+n.length>t){if(!(i+n.length<=r)){const a=Nt(e),s=t-i,l=r-i;o.push(vr(n.slice(s,l).join(""),a));break}{const r=Nt(e),s=t-i;o.push(vr(n.slice(s).join(""),r)),i+=n.length,a+=1}}else i+=n.length,a+=1}}return o}function _r(e){return e?[vr(e)]:[]}function vr(e,t,r){const n=(null==r?void 0:r.skipSanitization)??!1?e:sr(e);if(t&&t.length>0){if(n.length>0)return[n,t];{const e=t.filter((e=>(0,P().EQ)(e)||(0,P().zX)(e)||(0,P().lf)(e)||(0,P().fL)(e)||(0,P().wx)(e)||(0,P().lZ)(e)||(0,P().tI)(e)||(0,P().Qm)(e)||(0,P().Si)(e)||(0,P().RX)(e)));return e.length>0?[n,e]:[n]}}return[n]}function br(e,t){return t?["p",e,t]:["p",e]}function hr({collectionId:e,spaceId:t,parentCvbId:r}){return r&&t?["ds",e,t,r]:t?["ds",e,t]:["ds",e]}function Ar(e){return["ce",e.id,e.spaceId]}function Ir(e,t){return["cm",e,t]}function kr(e){return["u",e]}function xr(e){return["r",e]}function Sr(e){return["d",e]}function Tr(e){return["plc",e]}function Mr(e,t){return["g",e,t]}function wr(e,t,r){return["t",e,t,r]}function Br(e){return["sm",e]}function Cr(e){return["sf",e]}function Pr(e){return Wr(Cr(e))}function Nr(e){return Cr(["u",e])}function Ur(e){return Cr(["p",e])}function Rr(e){return Cr(["t",e.teamId,e.spaceId,e.mentionType])}function Dr(e){return Cr(["so",e])}function Or(){return Cr(["to"])}function Fr(e){const{date:t,mode:r}=e,n=t[1];return"created"===r?Cr([P().BQ.SearchFilterCreatedTime,n]):"lastEdited"===r?Cr([P().BQ.SearchFilterLastEditedTime,n]):void(0,a().HB)(r)}function Er(e){return["eoi",e]}function Vr(e){return["a",e]}function Lr(e){return["ci",e]}function Hr(e,t){return t?["aic",e,t]:["aic",e]}function Gr(e){return[P().BQ.LinkMention,e]}function qr(e,t){return e.map((e=>{const r=Nt(e);return vr(je(e),[...r,Vr((0,y().l)(t))])}))}function jr(e){return[P().BQ.Discussion,e]}function $r(e,t,r){const n=[e,t,r].join(":");return[P().BQ.TemporaryDictation,Date.now(),n]}function zr(e){return e[2].split(":")[0]}function Wr(e,t){return vr(R,[e,...t||[]])}function Zr(e){return[P().BQ.TemplateVariable,e]}function Qr(e){return[P().BQ.TemporaryInput,e]}function Kr(){return[P().BQ.TemporaryEquation]}function Jr(){return[P().BQ.TemporaryPage]}function Yr(){return[P().BQ.TemporaryCitation]}function Xr(){return[P().BQ.TemporaryCollection]}function en(e,t){switch(e[0]){case"si":case"sr":return[e[0],t];case"sa":case"sua":return[e[0],t,e[2]];default:(0,a().HB)(e[0])}}function tn(e){return["e",e]}function rn(e){return[P().BQ.FormulaPageProperty,e]}function nn(e){return[P().BQ.FormulaContextValue,e]}function on(e,t){const r=tn(e),n=t?[r,...t]:[r];return vr(D,n)}function an(e,t){const r=cr(e);let n=0;for(const o of r){const e=n+$e(o);if(e>t)return{startIndex:n,endIndex:e,token:o};n=e}}function sn(e,t){const r=an(e,t);return r&&r.token}function ln(e){return cn(cr(e).map((e=>{if(Re(e))return e;return vr(je(e),Nt(e).filter((e=>!(0,P().jc)(e))))})))}function cn(e){if(!e)return[];const t=[];for(const r of cr(e)){const e=c().r.normalize(Nt(r));if(0===t.length||Re((0,N().o9)(t.at(-1)))||!(0,u().c)(Nt((0,N().o9)(t.at(-1))),e)){(je(r)||e.length)&&t.push(vr(je(r),e))}else{(0,N().o9)(t.at(-1))[0]+=je(r)}}return e.length>0&&0===t.length?[[""]]:t}function un(e,t,r){const n=cr(e),o=[],a=[],i=[];let s=0;for(const l of n){const e=je(l),n=Nt(l),c=p().PE(e),u=s,d=s+c.length;if(d<=t)o.push(l);else if(u>=r)a.push(l);else if(u>=t&&d<=r)i.push(l);else if(u<=t&&d>=r){const e=t-u,s=e+r-t,l=c.slice(0,e),d=c.slice(e,s),p=c.slice(s);l.length>0&&o.push(vr(l.join(""),n)),p.length>0&&a.push(vr(p.join(""),n)),d.length>0&&i.push(vr(d.join(""),n))}else if(u>=t&&u<r){const e=r-u,t=c.slice(0,e),o=c.slice(e);o.length>0&&a.push(vr(o.join(""),n)),t.length>0&&i.push(vr(t.join(""),n))}else if(u<t&&d>t){const e=t-u,r=c.slice(0,e),a=c.slice(e);r.length>0&&o.push(vr(r.join(""),n)),a.length>0&&i.push(vr(a.join(""),n))}s=d}return{tokensBeforeRange:cn(o),tokensInsideRange:cn(i),tokensAfterRange:cn(a)}}function dn(e){const{textValue:t,selection:r,annotation:n}=e,o=jn(t,r);if(o.startIndex===o.endIndex)return t??[];const{tokensBeforeRange:a,tokensInsideRange:i,tokensAfterRange:s}=un(t,o.startIndex,o.endIndex);return[...a,...i.map((e=>{const t=je(e),r=c().r.fromArray(Nt(e));return r.add(n),vr(t,r.toArray())})),...s]}function pn(e){const{textValue:t,selection:r,annotationKey:n}=e,o=jn(t,r);if(o.startIndex===o.endIndex)return t??[];const{tokensBeforeRange:a,tokensInsideRange:i,tokensAfterRange:s}=un(t,o.startIndex,o.endIndex);return[...a,...i.map((e=>{const t=je(e),r=c().r.fromArray(Nt(e));return"string"==typeof n?r.removeGroupingKey(n):r.remove(n),vr(t,r.toArray())})),...s]}function mn(e){const{prevSpan:t,currSpan:r}=e;return t.endIndex===r.startIndex&&!(0,P().iG)(r.annotation)&&!(0,P().gi)(r.annotation)&&o().n4(t.annotation,r.annotation)}function fn(e){const t=new(_().A);for(const{annotations:r,startIndex:n,endIndex:o}of yn(e))for(const a of r.findByGroupingKey(e.groupingKey)){const e=t.get(a)??[],r=e.at(-1),i={annotation:a,startIndex:n,endIndex:o};r&&mn({prevSpan:r,currSpan:i})?r.endIndex=o:e.push(i),t.set(a,e)}return[...t.values()].flat()}function gn(e){const t=new(n().G)((()=>[]));let r=new(B().A);const o=[];for(const{annotations:n,startIndex:i,endIndex:s}of yn(e)){for(const r of n.getUniqueAnnotations()){const e=(0,P()._X)(r),n=t.get(e),o=n.at(-1);o&&mn({prevSpan:o,currSpan:{annotation:r,startIndex:i,endIndex:s}})?o.endIndex=s:n.push({annotation:r,startIndex:i,endIndex:s}),t.set(e,n)}const e=[...n.getMultiInstanceAnnotations().values()];try{r.addOrderedAnnotationsInRange({annotationLists:e,startIndex:i,endIndex:s})}catch(a){o.push(...r.getSortedAnnotationRanges()),r=new(B().A),r.addOrderedAnnotationsInRange({annotationLists:e,startIndex:i,endIndex:s})}}return o.push(...r.getSortedAnnotationRanges()),[...[...t.values()].flat(),...o]}function*yn(e){const{textValue:t,startIndex:r,endIndex:n}=e;if(r===n)return;(0,N().MX)(r<n,"Annotation start must be less than end");let o=0;for(const a of cr(t)){const e=$e(a);if(0===e)continue;const t=o+e;if(t<=r)o+=e;else{if(n<=o)break;yield{startIndex:Math.max(o,r),endIndex:Math.min(t,n),annotations:c().r.fromArray(Nt(a))},o+=e}}}function _n(e,t,r,n){const o=cr(e);let a=0,i=0;for(;a<r&&i<o.length;){const e=o[i],r=je(e),s=p().PE(r),l=Nt(e);if(a+s.length>=t){const e=l.findIndex((e=>(0,P()._X)(e)===n));if(-1!==e){return{annotationStartIndex:a+e,annotationEndIndex:a+e+s.length}}}i++,a+=s.length}}function vn(e,t,r,n){return void 0!==_n(e,t,r,n)}function bn(e,t,r,n){const o=_n(e,t,r,n);if(!o)return!1;const{annotationStartIndex:a,annotationEndIndex:i}=o;return a===t||i===r}function hn(e,t,r){const n=cr(e),o=[];let a=0;for(const i of n){const e=je(i),n=Nt(i),s=p().PE(e),l=a,c=a+s.length;if(c<=t&&c<=r||l>=t&&l>=r)o.push(i);else if(l>=t&&c<=r);else{const e=t-l,a=e+(r-t),i=s.filter(((t,r)=>!(r>=e&&r<=a-1)));o.push(vr(i.join(""),n))}a=c}return o}function An(e,t,r){const n=cr(e);if(n.length>0){const e=[];let o=0,a=!1;for(const i of n){const n=je(i),s=Nt(i),l=p().PE(n),c=o,u=o+l.length;if(r>=c&&r<=u&&!a){const n=r-c,o=Fn(l,0,n),i=Fn(l,n);o.length>0&&e.push(vr(o.join(""),s));for(const r of t)e.push(r);i.length>0&&e.push(vr(i.join(""),s)),a=!0}else e.push(i);o=u}return e}return t}function In(e){const{ignoreCase:t,substring:r,textValue:n}=e,a=dr(n),i=t?"gi":"g",s=new RegExp(o().Nt(r),i),l=[];let c;for(;c=s.exec(a);)l.push({startIndex:c.index,endIndex:c.index+r.length});return l}function kn(e){const t=[];let r=0,n=0;return cr(e).forEach((e=>{n=r+$e(e);Re(e)?(Nt(e).forEach((e=>{const o={startIndex:r,endIndex:n};if((0,P().Xk)(e)){const r=Ye(e);r&&t.push({pointer:{table:h().GP,id:r},selection:o})}else if((0,P().ri)(e)){const r=Je(e);r&&t.push({pointer:{table:w().oo,id:r},selection:o})}})),r=n):r=n})),t}function xn(e){const t=[];let r=0,n=0;return cr(e).forEach((e=>{n=r+$e(e),De(e)&&Nt(e).forEach((e=>{if((0,P().jI)(e)){const o=_t(e);o&&t.push({pointer:o,selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Sn(e){const t=[];let r=0,n=0;return cr(e).forEach((e=>{n=r+$e(e),function(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(t.find(P().mu))}return!1}(e)&&Nt(e).forEach((e=>{if((0,P().mu)(e)){const o=vt(e);o&&t.push({pointer:o,selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Tn(e){const t=[];let r=0,n=0;return cr(e).forEach((e=>{n=r+$e(e),function(e){if(2===e.length&&e[0]===R){const[,t]=e;return Boolean(t.find(P().ik))}return!1}(e)&&Nt(e).forEach((e=>{if((0,P().ik)(e)){const o=Mt(e);t.push({metadata:{title:o.title,link_provider:o.link_provider,link_author:o.link_author},selection:{startIndex:r,endIndex:n}})}})),r=n})),t}function Mn(e){const{textValue:t,find:r,intl:n}=e,o=[];let a=0,i=0;return cr(t).forEach((e=>{i=a+$e(e),Oe(e)&&Nt(e).forEach((e=>{if((0,P().qs)(e)){const t=St(e);d().ZF({value:t,date_format:t.date_format,time_format:t.time_format,allowRelativeDates:!0,intl:n}).toLowerCase().includes(r.toLowerCase())&&o.push({startIndex:a,endIndex:i})}})),a=i})),o}function wn(e,t){return o().Ul(e,(e=>Math.abs(t-e.startIndex)+Math.abs(t-e.endIndex)))[0]}function Bn(e){return e&&s().h_(e,Re).map((e=>{if(Ne(e))return e;return[Ve(e)?Dt(e):je(e),Nt(e).filter(Cn)]}))}function Cn(e){return!((0,P().rl)(e)||(0,P().iG)(e)||(0,P().gi)(e)||(0,P().lf)(e)||(0,P().Sq)(e))}function Pn(e){if(1!==e.length)return;const t=e.charCodeAt(0);return t>=55296&&t<=56319?"high":t>=56320&&t<=57343?"low":void 0}function Nn(e){return e.toString(16)}const Un=[`\\u{${Nn(0)}}-\\u{${Nn(8)}}`,`\\u{${Nn(11)}}-\\u{${Nn(31)}}`,"\\u{2028}","\\u{2029}","\\u{200b}"],Rn=new RegExp(`[${Un.join("")}]`,"u");function Dn(e){return Rn.test(e)}function On(e){let t=!1;for(let r=0;r<e.length;r++){const n=Pn(e[r]);if("low"===n){if(t){t=!1;continue}return!0}"high"===n&&(t=!0)}return t}function Fn(e,t,r){return e.slice(Math.max(t,0),r)}function En(e,t){return o().Mp([...e,...t],o().n4)}function Vn(e){if(e.startsWith("data:")||e.length>U)return;const t=m().I6(e).filter((({value:t,href:r})=>e===t))[0];if(t){try{const e=new URL(t.href);if([".zip"].some((t=>e.hostname.endsWith(t))))return}catch{return}return t}}function Ln(e,t){return e.map((e=>vr(je(e),Nt(e).filter(t))))}function Hn(e,t,r){const n=[];let o=0;for(let a=0;a<e.length;a++){const i=e[a],s=p().PE(je(i)),l=s.slice(0,t-o),c=vr(l.join(""),Nt(i));if(n.push(c),o+=l.length,o>=t){const t=l.length<s.length||a<e.length-1;return r&&t&&n.push(...r),n}}return n}function Gn(e){let t=0;for(const r of e)t+=p().PE(je(r)).length;return t}function qn(e,t,r){const n=an(e,t);if(!n)return;if(!r(n.token,void 0))return;const{tokensBeforeRange:o,tokensAfterRange:a}=un(e,n.startIndex,n.endIndex);let i=0;for(let l=o.length-1;l>-1;l--){const e=o[l];if(!r(e,o[l+1]||n.token))break;i+=$e(e)}let s=0;for(let l=0;l<a.length;l++){const e=a[l];if(!r(e,a[l-1]||n.token))break;s+=$e(e)}return{startIndex:n.startIndex-i,endIndex:n.endIndex+s}}function jn(e,t){const r=ur(e).length,n=Math.min(Math.max(t.startIndex,0),r),o=Math.min(Math.max(t.endIndex,0),r);return n===t.startIndex&&o===t.endIndex?t:{startIndex:n,endIndex:o}}function $n(e,t){const r=function(e,t,r=!1){if(void 0===e&&void 0===t)return;if(void 0===e)return"First value is undefined, second has content";if(void 0===t)return"Second value is undefined, first has content";if(e.length!==t.length)return`Token count mismatch: first value has ${e.length} tokens, second value has ${t.length} tokens`;for(let n=0;n<e.length;n++){const a=e[n],i=t[n],[s,l]=a,[c,u]=i;if(s!==c)return r?`Token text mismatch at index ${n}`:`Token ${n} text mismatch: first value has "${s}", second value has "${c}"`;if(void 0!==l||void 0!==u){if(void 0===l||void 0===u){return`Token ${n} annotation presence mismatch: first value ${void 0!==l?"has":"has no"} annotations, second value ${void 0!==u?"has":"has no"} annotations`}if(l.length!==u.length)return`Token ${n} annotation count mismatch: first value has ${l.length} annotations, second value has ${u.length} annotations`;for(let e=0;e<l.length;e++){const t=l[e],a=u[e];if(!o().n4(t,a))return r?`Token annotation mismatch at index ${n}, ${e}: first value is type ${t[0]}, second value is type ${a[0]}`:`Token ${n} annotation ${e} mismatch: first value has ${JSON.stringify(t)}, second value has ${JSON.stringify(a)}`}}}return}(cn(void 0===e||0===e.length?[[""]]:e),cn(void 0===t||0===t.length?[[""]]:t));return!r}function zn(e,t){if(void 0===e&&void 0===t)return!0;if(void 0===e)return!1;if(void 0===t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){if(!Wn(e[r],t[r]))return!1}return!0}function Wn(e,t){const[r,n]=e,[a,i]=t;if(r!==a)return!1;if(void 0===n&&void 0===i)return!0;if(void 0===n||void 0===i)return!1;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++){const e=n[s],t=i[s];if(!o().n4(e,t))return!1}return!0}function Zn(e,t){const r=mr(e||[],{removeSuggestionAnnotationsAndText:!0,removeSuggestionAnnotations:!0,removeDiscussions:!0}),n=mr(t||[],{removeSuggestionAnnotationsAndText:!0,removeSuggestionAnnotations:!0,removeDiscussions:!0});return!o().n4(r,n)}function Qn(e){const{url:t,baseUrl:r,publicDomainName:n}=e;let o;try{o=(0,v().parseRoute)({url:t,isMobile:!1,baseUrl:r,publicDomainName:n,protocol:void 0,currentUrl:void 0})}catch(a){return}if("page"===o.name)return o.peekViewBlockId||o.blockId}function Kn(e){const{url:t,baseUrl:r,publicDomainName:n}=e;try{const e=(0,v().parseRoute)({url:t,isMobile:!1,baseUrl:r,publicDomainName:n,protocol:void 0,currentUrl:void 0});if("collection"!==e.name)return;return e.collectionId}catch(o){}}function Jn(e){return(0,l().SC)(e.type)}},204384:(e,t,r)=>{r.d(t,{Ay:()=>i,ez:()=>a,hz:()=>o});var n=()=>r(292588);const o={comment:!0,discussion:!0},a="reaction",i={table:a,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,icon:n().A.String,actors:n().A.JSON},requiredColumns:{parent_id:!0,parent_table:!0,space_id:!0,icon:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},204742:(e,t,r)=>{r.d(t,{Ay:()=>i,CE:()=>a,Zq:()=>o});var n=()=>r(292588);const o={space:!0},a="internal_domain",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,parent_id:n().A.String,parent_table:n().A.UUID,url:n().A.String,type:n().A.String},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,created_time:!0,space_id:!0,url:!0,type:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},207289:(e,t,r)=>{r.d(t,{KM:()=>l,X9:()=>i});const n="spoXsEWnSOsAMp",o=`<${n}>`,a=`</${n}>`;function i(e,t){return`${o}${e}|${t}${a}`}const s=new RegExp(`${o.replace(/</g,"\\<").replace(/>/g,"\\>")}(.*?)${a.replace(/</g,"\\<").replace(/>/g,"\\>")}`,"g");function l(e){if(e)return e.replace(s,"")}},212547:(e,t,r)=>{r.d(t,{$O:()=>I,A0:()=>k,Eb:()=>S,ms:()=>h,ob:()=>x,rt:()=>M});var n=()=>r(534177),o=()=>r(310442),a=()=>r(363497),i=()=>r(548632),s=()=>r(912720),l=()=>r(199378),c=()=>r(926397),u=()=>r(37165),d=()=>r(415292),p=()=>r(526147),m=()=>r(583839),f=()=>r(123382),g=()=>r(234459),y=()=>r(749257),_=()=>r(743246),v=()=>r(978234),b=()=>r(870723);const h={create:(e,t)=>({table:e,value:t}),fromModel:e=>h.create(e.table,e.__IM_SORRY__getValue()),isSpaceRecordWithTable:e=>e.table===r(96689).NX,isTeamRecordWithTable:e=>e.table===r(854150).yK,isSpaceShardRecordWithTable:e=>!!(0,b().$t)(e.table),getSpaceId(e){if(h.isSpaceShardRecordWithTable(e)){if(h.isSpaceRecordWithTable(e))return e.value.id;{const{value:t}=e;return t.space_id}}if(e.table===r(801634).kz){return e.value.space_id}if(e.table===r(959044)._p){return e.value.space_id}}},A={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0,activity:!0,discussion:!0,slack_integration:!0,snapshot:!0,bot:!0,access_request:!0,page_visit:!0,page_exit:!0,integration:!0,[r(402904).As]:!0,[r(840911).Ps]:!0,team:!0,reaction:!0,[c().Hx]:!0,[s().yB]:!0,[r(474989).ns]:!0,[l().SC]:!0,[d().sN]:!0,[p().Fu]:!0,[r(606219).TF]:!0,[o().yj]:!0,[f().MC]:!0,[r(771927).Nm]:!0,[a().TF]:!0,[r(144081).zx]:!0,[r(421076).yt]:!0,[r(449418)._6]:!0,[r(853040).kf]:!0,[r(204742).CE]:!0,[r(101628).Eu]:!0,[u().lo]:!0,[r(847866).iP]:!0,[i().YV]:!0,[r(63128).Ay]:!0,[m().ZP]:!0,[r(506327).bw]:!0,[_().C0]:!0,[r(145820).QR]:!0,[r(969752).Ec]:!0,[r(541837).ly]:!0,[r(183541).tE]:!0,[v().yM]:!0,[r(758256).U6]:!0,[r(552826).yD]:!0,[g().To]:!0,[r(155792).mS]:!0,[r(374982).QO]:!0,[r(529745).Ht]:!0,[r(471987).XX]:!0,[r(115850).qt]:!0,[r(628720).qr]:!0,[r(232802).GU]:!0,[r(838838).KN]:!0,[r(144986).WQ]:!0,[y().du]:!0,[r(492908).k$]:!0,[r(40117).l]:!0,[r(464912).OC]:!0};function I(e){return(0,n().O)(A,e)&&A[e]}function k(e){return!!(I(e.table)&&"object"==typeof e&&"parent_table"in e&&void 0!==e.parent_table&&"parent_id"in e&&void 0!==e.parent_id)}function x(e){return"object"==typeof e&&null!==e&&"parent_table"in e&&void 0!==e.parent_table&&void 0!==e.parent_id}const S={getSpaceId:e=>{if(e&&x(e))return(0,b().vJ)(e.parent_table)&&"space_id"in e?e.space_id:void 0}},T={block:!0,space_view:!0,collection:!0,collection_view:!0,comment:!0,bot:!0,integration:!0,[c().Hx]:!0,[s().yB]:!0,[l().SC]:!0,[d().sN]:!0,[p().Fu]:!0,[o().yj]:!0,[f().MC]:!0,[m().ZP]:!0,[a().TF]:!0,[u().lo]:!0,[i().YV]:!0,[v().yM]:!0,[g().To]:!0,[y().du]:!0,[_().C0]:!0};function M(e){return(0,n().O)(T,e)&&T[e]}},214388:(e,t,r)=>{r.d(t,{mi:()=>S,$X:()=>pe,k0:()=>Fe,yM:()=>De,Ak:()=>be,c0:()=>Pe,oR:()=>Se,ts:()=>Te,cM:()=>Ne,AY:()=>_e,Lx:()=>ye,wh:()=>Y,t6:()=>je,CU:()=>qe,rg:()=>We,GV:()=>Ze,U6:()=>ge,GK:()=>G,SM:()=>N,HF:()=>He,Rh:()=>$,Zl:()=>M,V6:()=>O,At:()=>Re,Xz:()=>Ee,ms:()=>re,s1:()=>me,Ui:()=>T,dU:()=>he,Cw:()=>C,U0:()=>ke,t_:()=>ze,fZ:()=>ee,tk:()=>X,B6:()=>te,$S:()=>ue,G:()=>H,as:()=>D,gc:()=>ce,Ol:()=>ie,yX:()=>Ae,Pq:()=>K,j:()=>Q,v0:()=>P,B9:()=>Qe,H$:()=>L,LB:()=>Ie,tn:()=>Ge,uU:()=>ae,Wc:()=>F});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(354520),r(672577),r(430670),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(268340),i=()=>r(356246);var s=()=>r(604995),l=()=>r(270995);var c=()=>r(335452),u=()=>r(343462),d=()=>r(927826),p=()=>r(478367);r(16280);var m=()=>r(662149),f=()=>r(67657),g=()=>r(748580),y=()=>r(898244),_=()=>r(713998),v=()=>r(329199),b=()=>r(568063),h=()=>r(452540),A=()=>r(239381),I=()=>r(450648),k=()=>r(798880),x=()=>r(201980);const S="50vh";function T(e){return t=e.operator,!!(0,o().O)(i().UL,t);var t}function M(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const w={enum_is:!0,enum_is_not:!0,is_empty:!0,is_not_empty:!0},B=(0,o().uv)(w);function C(e){return"date_is_within"===e.operator||"date_is_relative_to"===e.operator}function P(e){return t=e.operator,!!(0,o().O)(w,t);var t}function N(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const U={enum_contains:!0,enum_does_not_contain:!0,enum_contains_all:!0,is_empty:!0,is_not_empty:!0},R=(0,o().uv)(U);function D(e){return t=e.operator,!!(0,o().O)(U,t);var t}function O(e){return je(e.value)?[]:Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}function F(e,t){const r=e.groups??[],n=e.options??[],o=[];for(const a of t)if("is_group"===a.type){const e=r.find((e=>e.name===a.value));if(e){const t=n.filter((t=>{var r;return null===(r=e.optionIds)||void 0===r?void 0:r.includes(t.id)}));o.push(...t.map((e=>({type:"exact",value:e.value}))))}}else o.push({type:"exact",value:a.value});return o}const E={status_is:!0,status_is_not:!0,is_empty:!0,is_not_empty:!0},V=(0,r(720665).HP)(E);function L(e){return(0,o().O)(E,e.operator)?(e.operator,!0):(e.operator,!1)}function H(e){return function(e){if((0,o().O)(q,e))return!0;return!1}(e.operator)}function G(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const q={location_is:!0,location_is_not:!0},j=(0,o().uv)(q);function $(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}function z(e){const{filter:t,relativeVariableValue:r,currentPageInRelatedCollection:n}=e;return $(t).map((({type:e,value:t})=>{if("exact"===e)return t;if("relative"===e){if("builtin"===t.type&&r)return r[t.variable];if("current_page_in_related_collection"===t.type)return n}else(0,o().HB)(e)}))}const W={relation_contains:!0,relation_does_not_contain:!0,is_empty:!0,is_not_empty:!0},Z=(0,o().uv)(W);function Q(e){return!!(0,o().O)(W,e)}function K(e){return Q(e.operator)}const J={is_empty:!0,is_not_empty:!0},Y=(0,o().uv)(J);function X(e){return!!(0,o().O)(J,e)}function ee(e){return X(e.operator)}const te=ee;function re(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}const ne={verification_is:!0,verification_is_not:!0},oe=(0,o().uv)(ne);function ae(e){return t=e.operator,!!(0,o().O)(ne,t);var t}const ie=ee,se={text:m().Y,number:u().M,checkbox:T,select:P,multi_select:D,status:L,relation:K,person:p().I,date:c().n,file:te,location:H,verification:ae,place:ie},le={string_is:!0,string_is_not:!0,string_contains:!0,string_does_not_contain:!0,string_starts_with:!0,string_ends_with:!0,checkbox_is:!0,checkbox_is_not:!0,enum_is:!0,enum_is_not:!0,enum_contains:!0,enum_contains_all:!0,enum_does_not_contain:!0,status_is:!0,status_is_not:!0,relation_contains:!0,relation_does_not_contain:!0,person_contains:!0,person_does_not_contain:!0,number_equals:!0,number_does_not_equal:!0,number_greater_than:!0,number_less_than:!0,number_greater_than_or_equal_to:!0,number_less_than_or_equal_to:!0,date_is:!0,date_is_before:!0,date_is_after:!0,date_is_on_or_before:!0,date_is_on_or_after:!0,date_is_within:!0,date_is_relative_to:!0,location_is:!0,location_is_not:!0,verification_is:!0,verification_is_not:!0};function ce(e){return(0,o().O)(le,e.operator)?(e.operator,!0):(e.operator,!1)}function ue(e,t){return e in se&&se[e](t)}const de={any:!0,none:!0,every:!0},pe=(0,o().uv)(de);function me(e){return(0,o().O)(de,e.operator)?(e.operator,!0):(e.operator,!1)}const fe={text:r(935136).I,checkbox:i().Bz,select:B,multi_select:R,status:V,relation:Z,person:r(952882).Jz,number:r(466118).T,date:r(754195).qu,file:Y,location:j,verification:oe,place:Y};function ge({filterValueType:e,propertySchema:t,isConditionalColorRuleContext:r}){const n=fe[e];return"multi_select"===e?n.filter((e=>"enum_contains_all"!==e)):r&&"place"===e?n.filter((e=>"is_empty"!==e)):t&&function(e){return"status"===e.type&&void 0!==e.defaultOption||"person"===e.type&&void 0!==e.default}(t)&&!1===r?n.filter((e=>!X(e))):n}const ye={operator:"and",filters:[{property:"title",filter:{operator:"string_contains",value:{type:"exact",value:void 0}}}]},_e={operator:"and",filters:[]},ve={and:!0,or:!0},be=(0,o().uv)(ve);function he(e){return void 0!==e&&"operator"in e&&ve[e.operator]}function Ae(e){return void 0!==e&&"property"in e&&"string"==typeof e.property}function Ie(e){return void 0!==e&&"timestamp"in e&&"string"==typeof e.timestamp}function ke(e){return 0===(e.filters||[]).length}function xe(){return!1}function Se(e){const{context:t,propertyMapping:r,filter:n}=e,{userId:a,userTimeZone:i,userStartOfWeek:s}=t,l=n.operator,c=n.filters||[],u=c.map((e=>{let n;return Ae(e)?n=Te({property:e.property,propertyMapping:r,filter:e.filter,context:t,depth:0}):he(e)?n=Se({context:t,propertyMapping:r,filter:e}):Ie(e)?n=Ce({filter:e,userId:a,userTimeZone:i,userStartOfWeek:s,collectionFeatureGates:t.collectionFeatureGates}):(0,o().HB)(e),{shortCircuitOthers:0,latency:0,processed:0,originalFilter:e,compiledFilter:n}}));let d=0;if("or"===l||"and"===l)return e=>{d++,(d<100&&d%25==24||d%100==99)&&(c.length<=1||u.sort(((e,t)=>{const r=(e.shortCircuitOthers+100)/(e.processed+100),n=(t.shortCircuitOthers+100)/(t.processed+100);return(e.latency+100)/(e.processed+100)/r-(t.latency+100)/(t.processed+100)/n})));let t=!0;for(const r of u){const n=Date.now();if(t=r.compiledFilter(e),r.latency+=Date.now()-n,r.processed++,"or"===l&&t)return r.shortCircuitOthers++,t;if("and"===l&&!t)return r.shortCircuitOthers++,t}return t};(0,o().HB)(l)}function Te(e){const{property:t,filter:r,propertyMapping:n,context:a,depth:s}=e,{schema:l,userId:d,userTimeZone:p,intl:y,optimizer:v,userStartOfWeek:h,relativeVariableResult:A,currentPageInRelatedCollection:I}=a,k=l[(null==n?void 0:n[t])??t];if(!k)return xe;let x;if("relation"===k.type&&A&&k.collection_pointer){x=A[k.collection_pointer.id]}if("formula"===k.type)return Me({context:a,filter:r,property:t,propertySchema:k,depth:s});if("rollup"===k.type)return function(e){const{context:t,property:r,filter:n,propertySchema:a,depth:s}=e,{schema:l,userId:d,userTimeZone:p,userStartOfWeek:g,relativeVariableResult:y,currentPageInRelatedCollection:_,intl:v,optimizer:h}=t;if(a.aggregation&&"show_unique"!==a.aggregation){let e;if((0,f().bY)(a.aggregation)||(0,f().fr)(a.aggregation)||(0,f().un)(a.aggregation)||("string"==typeof(A=a.aggregation)?Boolean(i().lM[A]):"object"==typeof A?Boolean(i().lM[A.operator]):void(0,o().HB)(A))){if(!(0,u().M)(n))return xe;e="number"}else if((0,f().Y)(a.aggregation)){if(!(0,c().n)(n))return xe;e="date"}else if((0,f().ET)(a.aggregation)){if(!(0,u().M)(n)&&!(0,m().Y)(n))return xe;e="count_per_group"===a.aggregation.operator?"text":"number"}else(0,o().HB)(a.aggregation);const y=Pe({filter:n,filterType:e,userId:d,userTimeZone:p,userStartOfWeek:g,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:t.collectionFeatureGates});return n=>{const o=(0,b().Pm)({property:r,schema:l,...n,collectionRequestContext:{userId:void 0,userTimeZone:p,intl:v,depth:s,visitedProperties:new Set,resultCache:n.resultCache,regExpCache:n.regExpCache,formatDateCache:n.formatDateCache,formulaTimeoutTimestampMs:n.formulaTimeoutTimestampMs,logFormulaTimeoutFn:n.logFormulaTimeoutFn,experimentService:n.experimentService,collectionFeatureGates:t.collectionFeatureGates},spaceIdCreator:n.spaceIdCreator});return!!o&&(o.type===e&&y(o))}}var A;if(!me(n))return xe;let I;const k=(e,o)=>{const a=(0,b().eY)({property:r,schema:l,getRecordModel:e,spaceIdCreator:o});return a?"person"===a.rollupType||me(n.subfilter)?xe:Te({filter:n.subfilter,property:a.targetProperty,propertyMapping:void 0,context:{schema:a.targetCollectionSchema,userId:d,userTimeZone:p,userStartOfWeek:g,intl:v,optimizer:h,relativeVariableResult:y,currentPageInRelatedCollection:_,collectionFeatureGates:t.collectionFeatureGates},depth:s+1}):xe};return e=>{const{block:t,getRecordModel:o,formulaTimeoutTimestampMs:a,logFormulaTimeoutFn:i,spaceIdCreator:s}=e,c=(0,b().yH)({property:r,schema:l,block:t,getRecordModel:o,spaceIdCreator:s}),u=I??=k(o,s);return Le(n.operator,c,(t=>u({block:t,getRecordModel:o,propertyMapping:void 0,formulaTimeoutTimestampMs:a,logFormulaTimeoutFn:i,resultCache:e.resultCache,regExpCache:e.regExpCache,formatDateCache:e.formatDateCache,experimentService:e.experimentService,formulasModule:e.formulasModule,spaceIdCreator:e.spaceIdCreator})))}}({context:a,filter:r,property:t,propertySchema:k,depth:s});if("button"===k.type)return xe;const S=(0,g().IS)(k.type);if(!ue(S,r))return xe;const T=Pe({filter:r,filterType:S,userId:d,userTimeZone:p,userStartOfWeek:h,relativeVariableValues:x,currentPageInRelatedCollection:I,collectionFeatureGates:a.collectionFeatureGates}),M=e=>{const{block:r,getRecordModel:n,propertyMapping:o,formulaTimeoutTimestampMs:i,logFormulaTimeoutFn:s,resultCache:l,regExpCache:c,formatDateCache:u}=e,m=(null==o?void 0:o[t])??t;let f;f="title"===k.type&&"collection_view_page"===r.getType()?(0,_().zP)(r,n):(0,_().yQ)(r,m,n);const v=(0,g().hz)({filterValueType:S,block:r,propertySchema:k,propertyValue:f,getRecordModel:n,collectionRequestContext:{userId:d,userTimeZone:p,intl:y,depth:0,visitedProperties:new Set,formulaTimeoutTimestampMs:i,logFormulaTimeoutFn:s,resultCache:l,regExpCache:c,formatDateCache:u,experimentService:e.experimentService,collectionFeatureGates:a.collectionFeatureGates}});return T(v)};if(v){const e={schema:l,property:t,userId:d,userTimeZone:p,intl:y,basicFilter:r,compiledBasicFilter:T,compiledFilter:M},n="function"==typeof v?v:null==v?void 0:v[S],o=null==n?void 0:n(e);if(o)return o}return M}function Me(e){return"v2"===e.propertySchema.version?function(e){const{propertySchema:t,filter:r,context:n,property:o,depth:a}=e,{userId:i,userTimeZone:s,userStartOfWeek:l,intl:c}=n;if(!t.formula2)return xe;const u=t.formula2.result_type;if("array"===u.type){const e=(0,A().JK)(u);if("array"===e.type||"select"===e.type||"function"===e.type)return xe;const i="block"===e.type||"unknown"===e.type?"text":e.type;return function(e){const{propertySchema:t,filter:r,context:n,property:o,subfilterType:a}=e,{userId:i,userTimeZone:s,intl:l,userStartOfWeek:c}=n;if(!me(r))return xe;let u;const d=()=>me(r.subfilter)?()=>!1:Pe({filter:r.subfilter,userId:i,userTimeZone:s,userStartOfWeek:c,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,filterType:a,collectionFeatureGates:n.collectionFeatureGates});return i=>{if(!t.formula2)return!1;const{block:c,getRecordModel:p,resultCache:f,regExpCache:g,formatDateCache:y,formulasModule:_,spaceIdCreator:v}=i;if(!_)return!1;const b=_.evaluateCollectionFormula2({block:c,property:o,formulaCode:t.formula2.code,getRecordModel:p,intl:l,userTimeZone:s,depth:e.depth,visitedProperties:new Set,resultCache:f,regExpCache:g,formatDateCache:y,experimentService:i.experimentService,collectionFeatureGates:n.collectionFeatureGates,spaceIdCreator:v});if(!b||"array"!==b.type)return!1;if(!_.hasUniformType(b)&&!(0,m().Y)(r.subfilter))return!1;const h=u??=d();return!!ue(a,r.subfilter)&&Le(r.operator,b.values,(e=>{if("undefined"===e.type)return!1;const t=Be(e,a,p,l,s);return void 0!==t&&h(t)}))}}({context:n,filter:r,property:o,propertySchema:t,depth:a,subfilterType:i})}const d="block"===u.type||"unknown"===u.type?"text":u.type;if(!ue(d,r))return xe;const p=Pe({filter:r,userId:i,userTimeZone:s,userStartOfWeek:l,filterType:d,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:n.collectionFeatureGates});return a=>{if(!t.formula2)return!1;const{formulasModule:i,spaceIdCreator:l}=a;if(!i)return!1;const u=i.evaluateCollectionFormula2({block:a.block,property:o,formulaCode:t.formula2.code,getRecordModel:a.getRecordModel,intl:c,userTimeZone:s,depth:e.depth,visitedProperties:new Set,formulaTimeoutTimestampMs:a.formulaTimeoutTimestampMs,logFormulaTimeoutFn:a.logFormulaTimeoutFn,resultCache:a.resultCache,regExpCache:a.regExpCache,formatDateCache:a.formatDateCache,experimentService:a.experimentService,collectionFeatureGates:n.collectionFeatureGates,spaceIdCreator:l});if("is_empty"===r.operator)return we(u);if("is_not_empty"===r.operator)return!we(u);if(!u||"undefined"===u.type)return!1;const{getRecordModel:m}=a,f=Be(u,d,m,c,s);return!!f&&p(f)}}(e):function(e){const{propertySchema:t,filter:r,context:n,property:o,depth:a}=e,{userId:i,userTimeZone:s,userStartOfWeek:l,intl:c,schema:u}=n;if(!t.formula)return xe;const d=t.formula.result_type;if(!d)return xe;if(!ue(d,r))return xe;const p=Pe({filter:r,userId:i,userTimeZone:s,userStartOfWeek:l,filterType:d,relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:n.collectionFeatureGates});return e=>{const{formulasModule:t}=e;if(!t)return!1;const r=t.evaluateFormulaProperty({...e,property:o,schema:u,collectionRequestContext:{userId:void 0,userTimeZone:s,depth:a,intl:c,resultCache:e.resultCache,regExpCache:e.regExpCache,formatDateCache:e.formatDateCache,visitedProperties:new Set,formulaTimeoutTimestampMs:e.formulaTimeoutTimestampMs,logFormulaTimeoutFn:e.logFormulaTimeoutFn,experimentService:e.experimentService,collectionFeatureGates:n.collectionFeatureGates}});return p({type:d,value:r})}}(e)}function we(e){return!e||"undefined"===e.type||"array"===e.type&&0===e.values.length||"text"===e.type&&0===(0,x().qAZ)(e.value).length}function Be(e,t,r,n,a){let i=e.type;if("undefined"!==i){if("block"===i&&(i="text"),"text"===t||"text"===e.type)return{type:"text",value:(0,I().r4)({textValue:(0,A().Ht)(e),getRecordModel:r,intl:n,userTimeZone:a})};if("block"===e.type){const t=r(e.value);if(!t)return;return{type:"text",value:t.getRenderTitle({getRecordModel:r,intl:n,userTimeZone:a})}}return"person"===e.type?{type:"person",value:[e.value]}:"number"===e.type?{type:"number",value:e.value}:"date"===e.type?{type:"date",value:e.value}:"checkbox"===e.type?{type:"checkbox",value:e.value}:void("undefined"!==e.type&&"array"!==e.type&&(0,o().HB)(e))}}function Ce(e){const{filter:t,userId:r,userTimeZone:n,userStartOfWeek:o,collectionFeatureGates:a}=e,i=Pe({filter:t.filter,userId:r,userTimeZone:n,userStartOfWeek:o,filterType:"date",relativeVariableValues:void 0,currentPageInRelatedCollection:void 0,collectionFeatureGates:a});return e=>{const{formulasModule:r}=e;if(!r)return!1;const o=r.timestampToFormulaValue({timestampType:t.timestamp,block:e.block,userTimeZone:n});return i({type:"date",value:o})}}function Pe(e){return(0,Ve[e.filterType])(e)}function Ne(e){const{filter:t}=e,r=ce(t)?O(t):[],a=n().sb(n().oE(r.filter((e=>"is_group"===e.type)).map((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase()})))),i=r.filter((e=>"is_option"===e.type)).map((e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.toLowerCase()}));return e=>{const{option:n,group:s}=e;if("is_empty"===t.operator)return void 0===n;if("is_not_empty"===t.operator)return void 0!==n;if(0===r.length)return!0;const l=Boolean(s&&a.includes(s.toLowerCase())),c=Boolean(n&&i.includes(n.toLowerCase()));return"status_is"===t.operator?l||c:"status_is_not"===t.operator?!l&&!c:void(0,o().HB)(t.operator)}}function Ue(e,t){if("this_week"===e.value)return{start:s().vF({timezone:t}).startOf("week").valueOf(),end:s().vF({timezone:t}).endOf("week").valueOf()};if("the_past_week"===e.value)return{start:s().ah(t).minus({days:8}).valueOf(),end:s().vF({timezone:t}).valueOf()};if("the_past_month"===e.value)return{start:s().vF({timezone:t}).minus({months:1,days:1}).valueOf(),end:s().vF({timezone:t}).valueOf()};if("the_past_year"===e.value)return{start:s().vF({timezone:t}).minus({years:1}).valueOf(),end:s().vF({timezone:t}).valueOf()};const r=s().vF({timezone:t}).minus({days:1}).valueOf();return"the_next_week"===e.value?{start:r,end:s().vF({timezone:t}).plus({weeks:1}).valueOf()}:"the_next_month"===e.value?{start:r,end:s().vF({timezone:t}).plus({months:1}).valueOf()}:"the_next_year"===e.value?{start:r,end:s().vF({timezone:t}).plus({years:1}).valueOf()}:void(0,o().HB)(e)}function Re(e){const{operatorValue:t,userTimeZone:r,userStartOfWeek:n}=e;if("relative"===t.type&&"surrounding"===t.value){const{start:e,end:o}=De(t.unit,r,n);return{start:e.valueOf(),end:o.valueOf()}}if("relative"===t.type&&"custom"===t.value)return Oe({filterDirection:t.direction,filterCount:t.count,filterUnit:t.unit,userTimeZone:r});if("relative"===t.type)return Ue(t,r);if("exact"===t.type){if(t.value){const{value:e}=t;if(e.start_date&&e.end_date){const t={type:"daterange",start_date:e.start_date,end_date:e.end_date},n=s().AA(t,r);return{start:n.start.valueOf(),end:n.end.endOf("day").valueOf()}}if(e.start_date){const t={type:"date",start_date:e.start_date};return{start:s().HF(t,r).valueOf(),end:void 0}}if(e.end_date){const t={type:"date",start_date:e.end_date};return{start:void 0,end:s().HF(t,r).endOf("day").valueOf()}}return{start:void 0,end:void 0}}return{start:void 0,end:void 0}}(0,o().HB)(t)}function De(e,t,r){const n=s().vF({timezone:t});switch(e){case"day":return{start:n.startOf("day"),end:n.endOf("day")};case"week":return{start:s().iB(n.valueOf(),r,t),end:s().hp(n.valueOf(),r,t)};case"month":return{start:n.startOf("month").startOf("day"),end:n.endOf("month").endOf("day")};case"year":return{start:n.startOf("year").startOf("day"),end:n.endOf("year").endOf("day")};default:(0,o().HB)(e)}}function Oe(e){const{filterDirection:t,filterCount:r,filterUnit:n,userTimeZone:a}=e,i=Fe(t,r,n,a);switch(t){case"future":return{start:s().vF({timezone:a}).startOf("day").valueOf(),end:i.endOf("day").valueOf()};case"past":return{start:i.startOf("day").valueOf(),end:s().vF({timezone:a}).endOf("day").valueOf()};default:(0,o().HB)(t)}}function Fe(e,t,r,n){const o="past"===e?-t:t;return s().vF({timezone:n}).plus({[r]:o})}function Ee(e){const{operatorValue:t,userId:r}=e;if("relative"===t.type){if("me"===t.value)return r?{table:k().oo,id:r}:void 0;(0,o().HB)(t)}return t.value}const Ve={text:function(e){const{filter:t}=e,a=ce(t)?(t.value.value||"").trim().toLowerCase():void 0;return e=>{var i;const s=(e.value||"").trim().toLowerCase();if(!n().Kg(s))throw new Error(`str is not a string: ${s}`);return"is_empty"===t.operator?0===s.length:"is_not_empty"===t.operator?s.length>0:"string_has_no_alphabet_prefix"===t.operator?Boolean(s&&!(0,r(62371).Wk)(s)):!a||("string_is"===t.operator?s===a:"string_is_not"===t.operator?s!==a:"string_contains"===t.operator?s.indexOf(a)>=0:"string_does_not_contain"===t.operator?s.indexOf(a)<0:"string_starts_with"===t.operator?s.slice(0,a.length)===a:"string_ends_with"===t.operator?s.slice(s.length-a.length)===a:(null===(i=globalThis.__debugPrint__)||void 0===i||i.call(globalThis,"compileTextFilter - operator",t.operator),void(0,o().HB)(t.operator)))}},checkbox:function(e){const{filter:t}=e,r=Boolean(t.value.value),n=e=>{var a,i,s;const l=Boolean(e.value),c="checkbox_is";return t.operator===c?l===r:"checkbox_is_not"===t.operator?l!==r:(null===(a=globalThis.__debugPrint__)||void 0===a||a.call(globalThis,"compileCheckboxFilter - operator",t.operator),null===(i=globalThis.__debugPrint__)||void 0===i||i.call(globalThis,"compileCheckboxFilter - comparison CHECKBOX_IS",c),null===(s=globalThis.__getOptimizationStatus__)||void 0===s||s.call(globalThis,"compileCheckboxFilter",n),void(0,o().HB)(t.operator,(()=>JSON.stringify({message:`Checkbox filter operator ${t.operator} is not supported.`,details:{extra:{eq:t.operator===c,filter:t,filterValue:e,CHECKBOX_IS:c,operatorString:String(t.operator),checkboxIsString:String(c),jsonOperator:JSON.stringify(t.operator),jsonCheckboxIs:JSON.stringify(c),bufferOperator:Buffer.from(t.operator).toString("base64"),bufferCheckboxIs:Buffer.from(c).toString("base64")}}}))))};return n},select:function(e){const{filter:t}=e,r=ce(t)?M(t).map((({value:e})=>e)):[];return e=>{const n=e.value;return"is_empty"===t.operator?void 0===n:"is_not_empty"===t.operator?void 0!==n:0===r.length||("enum_is"===t.operator?r.includes(n):"enum_is_not"===t.operator?!r.includes(n):void(0,o().HB)(t.operator))}},multi_select:function(e){const{filter:t}=e,r=ce(t)?N(t).map((({value:e})=>e)):[];return e=>{const n=e.value||[];return"is_empty"===t.operator?0===n.length:"is_not_empty"===t.operator?n.length>0:0===r.length||("enum_contains"===t.operator?n.some((e=>r.includes(e))):"enum_does_not_contain"===t.operator?!n.some((e=>r.includes(e))):"enum_contains_all"===t.operator?r.every((e=>e&&n.includes(e))):void(0,o().HB)(t.operator))}},status:Ne,relation:function(e){const{filter:t,relativeVariableValues:r,currentPageInRelatedCollection:n}=e,a=ce(t)?z({filter:t,relativeVariableValue:r,currentPageInRelatedCollection:n}):[],i=e=>{var r,n,s;const l=e.value||[];if("is_empty"===t.operator)return 0===l.length;if("is_not_empty"===t.operator)return l.length>0;if(0===a.length)return!0;const c="relation_contains";return t.operator===c?l.some((e=>a.includes(e.id))):"relation_does_not_contain"===t.operator?!l.some((e=>a.includes(e.id))):(null===(r=globalThis.__debugPrint__)||void 0===r||r.call(globalThis,"compileRelationFilter - operator",t.operator),null===(n=globalThis.__debugPrint__)||void 0===n||n.call(globalThis,"compileRelationFilter - comparison RELATION_CONTAINS",c),null===(s=globalThis.__getOptimizationStatus__)||void 0===s||s.call(globalThis,"compileRelationFilter",i),void(0,o().HB)(t.operator))};return i},person:function(e){const{filter:t,userId:r}=e,n=ce(t)?(0,d().W)(t).map((e=>{const t=Ee({operatorValue:e,userId:r});if(t)return(0,h().jV)(t)})).filter(o().O9):[];return e=>{const r=e.value||[];if("is_empty"===t.operator)return 0===r.length;if("is_not_empty"===t.operator)return r.length>0;if(0===n.length&&0===(0,d().W)(t).length)return!0;if(n.some((e=>"mentions_HACK:notion_user"===e)))return!0;const a=new Set(r.map(h().jV));return"person_contains"===t.operator?n.some((e=>a.has(e))):"person_does_not_contain"===t.operator?!n.some((e=>a.has(e))):void(0,o().HB)(t.operator)}},number:function(e){const{filter:t}=e;return e=>{const r=e.value;if("is_empty"===t.operator)return void 0===r||n().yr(r);if("is_not_empty"===t.operator)return void 0!==r&&!n().yr(r);const a=t.value.value;return!(void 0!==a&&!n().yr(a))||(void 0===r||n().yr(r)?"number_does_not_equal"===t.operator:"number_equals"===t.operator?r===a:"number_does_not_equal"===t.operator?r!==a:"number_greater_than"===t.operator?r>a:"number_less_than"===t.operator?r<a:"number_greater_than_or_equal_to"===t.operator?r>=a:"number_less_than_or_equal_to"===t.operator?r<=a:void(0,o().HB)(t.operator))}},date:function(e){const{filter:t,userTimeZone:n,userStartOfWeek:a}=e;if("is_empty"===t.operator)return e=>{const t=e.value;if(!t)return!0;const r=s().AA(t,n);return!!isNaN(r.start.valueOf())||void 0===e.value};if("is_not_empty"===t.operator)return e=>{const t=e.value;if(!t)return!1;const r=s().AA(t,n);return!isNaN(r.start.valueOf())&&void 0!==e.value};if(C(t)){const e=Re({operatorValue:t.value,userTimeZone:n,userStartOfWeek:a});return r=>{if(void 0===e.start&&void 0===e.end)return!0;const o=r.value;if(!o)return!1;const a=s().AA(o,n),i=a.start.valueOf(),l=a.end?a.end.valueOf():a.start.valueOf(),c=t.use_end?l:i;return(void 0===e.start||c>=e.start)&&(void 0===e.end||c<=e.end)}}const i=t.value;let c=(0,r(799690).$)({operatorValue:i,userTimeZone:n}),u=s().vF({date:c,timezone:n}).endOf("day").valueOf();if("object"==typeof t.value.value&&"datetime"===t.value.value.type){const e=function(e){const{operatorValue:t,userTimeZone:r}=e;if("exact"===t.type){const e=t.value;if(!(0,o().O9)(e))return;return s().ln(e,r)}return(0,l().U)({operatorValue:t,userTimeZone:r})}({operatorValue:t.value,userTimeZone:n});if(!(0,o().O9)(e))return()=>!0;c=e,u=e}return e=>{const r=e.value;if(!(0,o().O9)(c))return!0;if(!r)return!1;const a=s().AA(r,n),i=a.start.valueOf(),l=a.end?a.end.valueOf():a.start.valueOf(),d=t.use_end?l:i;return"date_is"===t.operator?u>=d&&c<=d:"date_is_before"===t.operator?d<c:"date_is_on_or_before"===t.operator?d<=u:"date_is_after"===t.operator?d>u:"date_is_on_or_after"===t.operator?d>=c:void(0,o().HB)(t.operator)}},file:function(e){const{filter:t}=e;return e=>{const r=e.value||[];return"is_empty"===t.operator?0===r.length:"is_not_empty"===t.operator?r.length>0:void(0,o().HB)(t)}},location:function(e){const{filter:t}=e,r=G(t).map((({value:e})=>e));return e=>{const n=e.value;return"location_is"===t.operator?r.includes(null==n?void 0:n.id):"location_is_not"===t.operator?!r.includes(null==n?void 0:n.id):void(0,o().HB)(t.operator)}},verification:function(e){const{filter:t}=e,r=ce(t)?re(t).map((({value:e})=>e)):[];return e=>{const n=e.value;return"verification_is"===t.operator?r.includes(n):"verification_is_not"===t.operator?!r.includes(n):void(0,o().HB)(t.operator)}},place:function(e){const{filter:t}=e;return e=>{const r=e.value;return"is_empty"===t.operator?!Boolean(r):"is_not_empty"===t.operator?Boolean(r):void(0,o().HB)(t)}}};function Le(e,t,r){return"any"===e?0!==t.length&&t.some(r):"none"===e?0===t.length||!t.some(r):"every"===e?0!==t.length&&n().Si(t,r):void(0,o().HB)(e)}function He(e){const{schema:t,property:r,getRecordModel:n}=e,o=t[r];if(!o)return"text";if("formula"===o.type){if("v2"===o.version){if(!o.formula2)return"text";const e=o.formula2.result_type.type;if("unknown"===e||"block"===e)return"text";if("array"===e){const e=(0,A().JK)(o.formula2.result_type.of).type;return"block"===e||"array"===e||"unknown"===e||"function"===e?"text":e}return e}return o.formula&&o.formula.result_type?o.formula.result_type:"text"}if("rollup"===o.type){if(!o.relation_property||!o.target_property)return"text";if(o.aggregation&&"show_unique"!==o.aggregation)return(0,f().ou)((0,f().ZP)(o.aggregation));const e=t[o.relation_property];if(!e||"relation"!==e.type||!(0,y().Nv)(e))return"text";const r=n((0,y().Nv)(e));if(!r)return"text";return He({schema:r.getNormalizedSchema(),property:o.target_property,getRecordModel:n})}return"button"===o.type?"text":(0,g().IS)(o.type)}function Ge(e,t,r,n){const a=e[t];if(!a)return!1;if("formula"===a.type){if("v2"===a.version){if(a.formula2){const e=a.formula2.result_type.type;return"unknown"===e||"block"===e?(0,m().Y)(r):"array"===e?function(e,t){const r=(0,A().JK)(t);return!("array"===r.type||"function"===r.type||!me(e))&&("block"===r.type||"unknown"===r.type?ue("text",e.subfilter):ue(r.type,e.subfilter))}(r,a.formula2.result_type.of):ue(e,r)}return ee(r)}return a.formula&&a.formula.result_type?ue(a.formula.result_type,r):!!ee(r)}if("rollup"===a.type){if(a.aggregation&&"show_unique"!==a.aggregation){return ue((0,f().ou)((0,f().ZP)(a.aggregation)),r)}if(!me(r))return!1;if(!n)return!0;const i=He({schema:e,property:t,getRecordModel:n}),s=me(r)?r.subfilter:r;if("text"===i)return(0,m().Y)(s);if("relation"===i)return K(s);if("checkbox"===i)return T(s);if("select"===i||"multi_select"===i)return P(s)||D(s);if("status"===i)return L(s);if("person"===i)return(0,p().I)(s);if("number"===i)return(0,u().M)(s);if("date"===i)return(0,c().n)(s);if("file"===i)return ee(s);if("location"===i)return H(s);if("verification"===i)return ae(s);if("place"===i)return ie(s);(0,o().HB)(i)}if("button"===a.type)return!1;return ue((0,g().IS)(a.type),r)}function qe(e,t){if(t(e))return e;if(he(e))for(const r of e.filters||[]){const e=qe(r,t);if(e)return e}}function je(e){return!e||(Array.isArray(e)?!e.some($e):!$e(e))}function $e(e){return e&&!Array.isArray(e)&&void 0!==e.value&&""!==e.value}function ze(e){if(Ae(e)){const t=me(e.filter)?e.filter.subfilter:e.filter;return ce(t)&&je(t.value)}return!1}function We(e){const{propertyFilters:t,combinatorFilter:r,schema:o}=e;return n().oE([r,...t.map((e=>{const t=(0,v().hs)(e.filter,o);if(t){if(!Ae(t))return t;{const e=me(t.filter)?t.filter.subfilter:t.filter;if(!ce(e)||!je(e.value))return t}}}))])}function Ze(e){return 1===e.length&&he(e[0])?e[0]:e.length>0?{operator:"and",filters:e}:void 0}function Qe(e){return Boolean(e&&Ae(e)&&e.property===a().yx.TaskToSprintRelation&&K(e.filter)&&"relation_contains"===e.filter.operator&&Array.isArray(e.filter.value))}},220719:(e,t,r)=>{r.d(t,{MX:()=>o,Wg:()=>s,nh:()=>i,o9:()=>a,oC:()=>l});var n=()=>r(416845);function o(e,t,r,o=n().yI){if(!e)throw new o(t,r?{data:r}:{});return e}function a(e,t,r,o=n().yI){if(null==e)throw new o(t||`Expected to exist: ${e}`,r?{data:r}:{});return e}function i(e,t,r,o=n().yI){if(null!=e)throw new o(t,r?{data:r}:{});return e}function s(e,t,r,o,a=n().yI){if(!t(e))throw new a(r,o?{data:o}:{});return e}function l(e,t,r,o,a=n().yI){if(!(e instanceof t))throw new a(r,o?{data:o}:{});return e}},230350:(e,t,r)=>{r.d(t,{v:()=>S});var n=()=>r(100622),o=()=>r(534177),a=()=>r(597777),i=()=>r(681373);function s(e){return[i().BQ.Bold]}function l(e){return[i().BQ.Italic]}function c(e){return[i().BQ.Strike]}function u(e){return[i().BQ.Code]}function d(e){return[i().BQ.Underline]}function p(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.Link,e[1]]:void 0}function m(e){return 2===e.length&&"string"==typeof e[1]&&(0,n().Fi)(e[1])?[i().BQ.Highlight,e[1]]:void 0}function f(e){const t=e[0];switch(t){case i().BQ.Bold:return s();case i().BQ.Italic:return l();case i().BQ.Strike:return c();case i().BQ.Code:return u();case i().BQ.Underline:return d();case i().BQ.Link:return p(e);case i().BQ.Highlight:return m(e);default:(0,o().HB)(t)}}function g(e){return 2===e.length?[i().BQ.User,"string"==typeof e[1]?e[1]:""]:void 0}function y(e){if(2===e.length||3===e.length)return"string"==typeof e[1]||null===e[1]||void 0===e[1]?3===e.length&&"string"==typeof e[2]?[i().BQ.Page,e[1]??"",e[2]]:[i().BQ.Page,e[1]??""]:void 0}function _(e){return T(e)&&"type"in e&&"string"==typeof e.type&&(0,a().cW)(e.type)?e:{}}function v(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[i().BQ.SearchFilterCreatedTime,_(e[1])]:void 0}function b(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[i().BQ.SearchFilterLastEditedTime,_(e[1])]:void 0}function h(e){return 2===e.length?[i().BQ.Bot,"string"==typeof e[1]?e[1]:""]:void 0}function A(e){return 3===e.length&&null!==e[1]&&void 0!==e[1]&&null!==e[2]&&void 0!==e[2]?[i().BQ.Group,String(e[1]),String(e[2])]:void 0}function I(e){return 4!==e.length||null===e[1]||void 0===e[1]||null===e[2]||void 0===e[2]||null===e[3]||void 0===e[3]||"everyone"!==e[3]&&"teamspace"!==e[3]?void 0:[i().BQ.Team,String(e[1]),String(e[2]),e[3]]}function k(e){return 1===e.length?[i().BQ.TitleOnly]:void 0}const x={[i().BQ.Bold]:s,[i().BQ.Italic]:l,[i().BQ.Strike]:c,[i().BQ.Code]:u,[i().BQ.FormulaError]:function(e){return[i().BQ.FormulaError]},[i().BQ.Underline]:d,[i().BQ.Inserted]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.Inserted,e[1]]:[i().BQ.Inserted]},[i().BQ.Deleted]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.Deleted,e[1]]:[i().BQ.Deleted]},[i().BQ.TemporaryComment]:function(e){return[i().BQ.TemporaryComment]},[i().BQ.User]:g,[i().BQ.Bot]:h,[i().BQ.Page]:y,[i().BQ.Collection]:function(e){if(2===e.length||3===e.length||4===e.length)return"string"==typeof e[1]||null===e[1]||void 0===e[1]?4===e.length&&"string"==typeof e[2]&&"string"==typeof e[3]?[i().BQ.Collection,e[1]??"",e[2],e[3]]:3===e.length&&"string"==typeof e[2]?[i().BQ.Collection,e[1]??"",e[2]]:[i().BQ.Collection,e[1]??""]:void 0},[i().BQ.TemporaryCollection]:function(e){return[i().BQ.TemporaryCollection]},[i().BQ.TemporaryPage]:function(e){return[i().BQ.TemporaryPage]},[i().BQ.Date]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[i().BQ.Date,_(e[1])]:void 0},[i().BQ.SearchFilterCreatedTime]:v,[i().BQ.SearchFilterLastEditedTime]:b,[i().BQ.ExternalObjectInstance]:function(e){return 2===e.length?[i().BQ.ExternalObjectInstance,"string"==typeof e[1]?e[1]:""]:void 0},[i().BQ.TemplateVariable]:function(e){return 2===e.length&&T(e[1])&&"type"in e[1]&&null===i().gv.validator(e[1].type)?[i().BQ.TemplateVariable,{type:e[1].type}]:void 0},[i().BQ.Comment]:function(e){return 3===e.length?[i().BQ.Comment,"string"==typeof e[1]?e[1]:"","string"==typeof e[2]?e[2]:""]:void 0},[i().BQ.Group]:A,[i().BQ.Team]:I,[i().BQ.LinkMention]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[i().BQ.LinkMention,T(e[1])&&"href"in e[1]&&"string"==typeof e[1].href?e[1]:{href:""}]:void 0},[i().BQ.CustomEmoji]:function(e){return 3===e.length&&"string"==typeof e[1]&&e[1].length&&"string"==typeof e[2]&&e[2].length?[i().BQ.CustomEmoji,e[1],e[2]]:void 0},[i().BQ.Citation]:function(e){return e},[i().BQ.TemporaryCitation]:function(e){return[i().BQ.TemporaryCitation]},[i().BQ.Discussion]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.Discussion,e[1]]:void 0},[i().BQ.Link]:p,[i().BQ.Highlight]:m,[i().BQ.Equation]:function(e){return 2===e.length?[i().BQ.Equation,null===e[1]||void 0===e[1]?"":"string"==typeof e[1]?e[1]:"\\invalid"]:void 0},[i().BQ.TemporaryEquation]:function(e){return[i().BQ.TemporaryEquation]},[i().BQ.TemporaryInput]:function(e){return e},[i().BQ.TemporarySelection]:function(e){return[i().BQ.TemporarySelection]},[i().BQ.FormulaPageProperty]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]&&T(e[1])?[i().BQ.FormulaPageProperty,T(e[1])&&"property"in e[1]&&"string"==typeof e[1].property?e[1]:{property:""}]:void 0},[i().BQ.FormulaContextValue]:function(e){return 2===e.length&&null!==e[1]&&void 0!==e[1]?[i().BQ.FormulaContextValue,T(e[1])&&"id"in e[1]&&"string"==typeof e[1].id?e[1]:{id:""}]:void 0},[i().BQ.TemporaryFindHighlight]:function(e){return[i().BQ.TemporaryFindHighlight]},[i().BQ.TemporarySelectedFindHighlight]:function(e){return[i().BQ.TemporarySelectedFindHighlight]},[i().BQ.TemporaryCursor]:function(e){return[i().BQ.TemporaryCursor]},[i().BQ.SuggestionInsertText]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.SuggestionInsertText,e[1]]:void 0},[i().BQ.SuggestionRemoveText]:function(e){return 2===e.length&&"string"==typeof e[1]&&e[1].length?[i().BQ.SuggestionRemoveText,e[1]]:void 0},[i().BQ.SuggestionAnnotate]:function(e){if(3!==e.length||"string"!=typeof e[1]||!e[1].length||!Array.isArray(e[2])||!(0,i().gV)(e[2][0]))return;const t=f(e[2]);return t?[i().BQ.SuggestionAnnotate,e[1],t]:void 0},[i().BQ.SuggestionUnannotate]:function(e){if(3!==e.length||"string"!=typeof e[1]||!Array.isArray(e[2])||!(0,i().gV)(e[2][0]))return;const t=f(e[2]);return t?[i().BQ.SuggestionUnannotate,e[1],t]:void 0},[i().BQ.TemporaryHighlight]:function(e){return e},[i().BQ.TemporaryNativeMABFilter]:function(e){return e},[i().BQ.TemporaryDictation]:function(e){return e},[i().BQ.AssistantInstructionsCollection]:function(e){return e},[i().BQ.TemporaryCommentHighlight]:function(e){return[i().BQ.TemporaryCommentHighlight]},[i().BQ.TemporarySuggestionUnderline]:function(e){if(2===e.length&&"string"==typeof e[1]&&e[1].length)return[i().BQ.TemporarySuggestionUnderline,e[1]]},[i().BQ.Place]:function(e){if(2===e.length){const t=e[1];if(T(t)&&"lat"in t&&"lon"in t&&"number"==typeof t.lat&&"number"==typeof t.lon){const e="name"in t&&"string"==typeof t.name?t.name:void 0;return[i().BQ.Place,{lat:t.lat,lon:t.lon,...Boolean(e)&&{name:e}}]}}},[i().BQ.SlackSpecialMention]:function(e){return 2!==e.length||e[0]!==i().BQ.SlackSpecialMention||"here"!==e[1]&&"channel"!==e[1]?void 0:[i().BQ.SlackSpecialMention,e[1]]},[i().BQ.TemporarySearchFilter]:function(e){if(2!==e.length)return;const[t,...r]=e;if(2!==r.length)return;const[n,...o]=r;let a;switch(n){case i().BQ.User:a=g([n,...o]);break;case i().BQ.Page:a=y([n,...o]);break;case i().BQ.SearchFilterCreatedTime:a=v([n,...o]);break;case i().BQ.SearchFilterLastEditedTime:a=b([n,...o]);break;case i().BQ.Bot:a=h([n,...o]);break;case i().BQ.Group:a=A([n,...o]);break;case i().BQ.Team:a=I([n,...o]);break;case i().BQ.TitleOnly:a=k([n,...o]);break;default:return}return a?[i().BQ.TemporarySearchFilter,a]:void 0},[i().BQ.TitleOnly]:k,[i().BQ.Sort]:function(e){const t=e[1];if(2===e.length)return"lea"===t||"led"===t||"cta"===t||"ctd"===t?[i().BQ.Sort,t]:void 0}};function S(e){if(Array.isArray(e)&&0!==e.length&&"string"==typeof e[0]&&e[0]in x)return x[e[0]](e)}function T(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}},231460:(e,t,r)=>{r.d(t,{Ay:()=>a,sB:()=>o});var n=()=>r(292588);const o="space_user_entitlement_usage",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID,type:n().A.String,usage:n().A.Number,unit:n().A.String},requiredColumns:{id:!0,version:!0,created_at:!0,updated_at:!0,space_id:!0,user_id:!0,type:!0,usage:!0,unit:!0},model:(0,r(152853).P)({})}},232802:(e,t,r)=>{r.d(t,{Ay:()=>u,GU:()=>s,Jo:()=>c,rU:()=>i});var n=()=>r(534177),o=()=>r(292588);const a=["business","enterprise","ai"];function i(e){return Boolean((0,n().Xk)(a,e))}const s="upgrade_request",l={table:s,columnTypes:{id:o().A.UUID,space_id:o().A.UUID,request:o().A.String,created_time:o().A.Number,created_by_id:o().A.UUID,created_by_table:o().A.String,last_edited_time:o().A.Number,last_edited_by_id:o().A.UUID,last_edited_by_table:o().A.String,parent_id:o().A.UUID,parent_table:o().A.String,entrypoint:o().A.String,reason_for_request:o().A.String,request_status:o().A.String,request_declined_reason:o().A.String,admins_to_notify:o().A.UUIDArray,version:o().A.Number,last_version:o().A.Number},requiredColumns:{space_id:!0,request:!0,created_time:!0,created_by_id:!0,created_by_table:!0,parent_id:!0,parent_table:!0,entrypoint:!0,version:!0},defaultColumnValues:{},model:(0,r(152853).P)({})},c={space_view:!0},u=l},234459:(e,t,r)=>{r.d(t,{Ay:()=>s,OW:()=>i,To:()=>o});var n=()=>r(292588);const o="thread",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,messages:n().A.UUIDArray,data:n().A.JSON,space_id:n().A.UUID,current_inference_id:n().A.UUID,current_inference_lease_expiration:n().A.Number,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,file_ids:n().A.StringArray,created_source:n().A.String,alive:n().A.Boolean,type:n().A.String},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},i={workflow:!0,block:!0,space:!0,thread:!0},s=a},236162:(e,t,r)=>{r.d(t,{SH:()=>m,wC:()=>c,yR:()=>f,zN:()=>p});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(700500),o=()=>r(999515),a=()=>r(792071),i=()=>r(696706),s=()=>r(179034),l=()=>r(519831);async function c(e){const t=await u({blockModel:e.block,loadRecordModel:e.loadRecordModel});if(t)return t;const r=e.block.type;return e.bypassValidation||(0,n().NC)(r)?_(e):void 0}async function u(e){const{loadRecordModel:t,blockModel:r}=function(e){return"loadRecordModel"in e?e:{blockModel:a().Bj6.fromBlock(e.blockValue),loadRecordModel:a().h0Y.fromLoadRecordValueFn(e.loadRecordValue)}}(e),n=r.getParentPointer();if(n.table===l().Vl)return await t(n)}function d(e){return"getRecordModel"in e?e:{block:a().Bj6.fromBlock(e.block),getRecordModel:a().b4_.fromGetRecordValueFn(e.getRecordValue)}}function p(e){const t=d(e),r=m(t);if(r)return t.getRecordModel.getRecordValue(r.pointer)}function m(e){const t=d(e),r=function(e){const{getRecordModel:t,block:r}=e,n=r.getParentPointer();if(n.table===l().Vl)return t(n)}(t);if(r)return r;const o=t.block.getType();return(0,n().NC)(o)?y(t):void 0}function f(e){var t;const r=d(e),o=function(e){const{block:t}=e,r=t.getParentPointer();if(r.table===l().Vl)return r}(r);if(o)return o;const a=r.block.getType();return(0,n().NC)(a)?null===(t=y(r))||void 0===t?void 0:t.pointer:void 0}function*g(e){const{block:t}=e,r=new Set;let n=t.getParentPointer();for(;n&&!r.has(n.id);){if(r.add(n.id),i().L3.isEqual(n,t.pointer))return;if(n.table!==s().ev)return;const e=yield*o().q.fetchRecord(n);if(!e)return;if(!e.isCollectionView()){n=e.getParentPointer();continue}const a=e.getCollectionPointers();if(1!==a.length)return;const l=a[0],c=yield*o().q.fetchRecord(l);if(!c)return;const u=c.getRootPagePointer();return c.isPageTreeCollection()&&u&&i().L3.isEqual(u,n)?c:void 0}}function y(e){return o().q.runSync(e.getRecordModel,g(e))}async function _(e){return await o().q.runAsync(e.loadRecordModel,g(e))}},239381:(e,t,r)=>{r.d(t,{Re:()=>rt,zV:()=>X,o2:()=>We,CL:()=>Y,i3:()=>Be,o7:()=>Te,h8:()=>Se,zg:()=>Ie,s7:()=>Xe,CM:()=>et,Hz:()=>z,XH:()=>ve,Bk:()=>ce,_H:()=>Ke,q$:()=>oe,IV:()=>re,U:()=>V,bW:()=>Pe,rk:()=>L,dK:()=>Oe,E:()=>De,oH:()=>ne,Ht:()=>$,y5:()=>pe,pg:()=>Q,Dj:()=>Z,JK:()=>W,ve:()=>J,Mu:()=>Ee,lH:()=>nt,Ix:()=>le,sM:()=>ae,E9:()=>ie,Pf:()=>te,ab:()=>ee,Kp:()=>Ze,XZ:()=>we,qU:()=>Je,vu:()=>Me,el:()=>qe,KH:()=>ze,T3:()=>Ye,ix:()=>Qe,IF:()=>me,li:()=>Ne,o5:()=>tt,R2:()=>Ue,P_:()=>xe,Df:()=>K,K5:()=>He,$y:()=>de,Yi:()=>be,GH:()=>ue,A$:()=>_e,QE:()=>he,e2:()=>Ae,QF:()=>ye});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(823215),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=r.n(r(625473)),o=()=>r(496603),a=()=>r(973647),i=()=>r(534177),s=()=>r(764880),l=()=>r(423517),c=()=>r(335997),u=()=>r(581793),d=()=>r(363170);var p=()=>r(67657),m=()=>r(898244),f=()=>r(713998),g=()=>r(455348),y=()=>r(452540),_=()=>r(175482),v=()=>r(597777),b=()=>r(604995),h=()=>r(416504);r(296540);const A={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,r(474848).jsx)("path",{d:"M6.25 3.125a.625.625 0 1 1 0 1.25h-1a.875.875 0 0 0-.875.875v9.5c0 .483.392.875.875.875h1a.625.625 0 1 1 0 1.25h-1a2.125 2.125 0 0 1-2.125-2.125v-9.5c0-1.174.951-2.125 2.125-2.125zm8.5 0c1.174 0 2.125.951 2.125 2.125v9.5a2.125 2.125 0 0 1-2.125 2.125h-1a.625.625 0 1 1 0-1.25h1a.875.875 0 0 0 .875-.875v-9.5a.875.875 0 0 0-.875-.875h-1a.625.625 0 1 1 0-1.25z"})},I=(0,r(340498).wt)("bracket",A);var k=()=>r(11356),x=()=>r(681873),S=()=>r(792071),T=()=>r(134025),M=()=>r(696706),w=()=>r(450648),B=()=>r(199378),C=()=>r(179034),P=()=>r(519831),N=()=>r(798880),U=()=>r(201980),R=()=>r(510916),D=()=>r(247331),O=()=>r(696446),F=()=>r(106714),E=()=>r(349835);function V(e){return{type:"array",values:e.values.flatMap((e=>"array"===e.type?V(e).values:[e]))}}function L(e){const{result:t,currentPropertyValue:r,propertyId:n,page:o,action:a,propertySchema:s}=e,c=[];switch(t.type){case"text":if(!m().DQ(s)){const e=$(t);U().MTk(e,r)||c.push(...j({page:o,propertyId:n,propertySchema:s,textValue:e}));break}if("multi_select"===s.type){const e=(s.options??[]).map((e=>e.value)),i=(0,U().q4_)(t.value);if(!e.includes(i))return;return G({currentValues:(0,f().o2)(r,s.options||[]),newValues:[i],action:a,propertySchema:s,equalityFn:(e,t)=>e===t,createReplaceOperations:e=>j({page:o,propertyId:n,propertySchema:s,textValue:(0,f().rK)(e)}),createAddOperation:e=>({command:"addSelectOptionAfter",pointer:o.pointer,path:["properties",n],args:{option:e,after:void 0}}),createRemoveOperation:e=>({command:"removeSelectOption",pointer:o.pointer,path:["properties",n],args:{option:e}})})}{const e=(s.options??[]).map((e=>e.value)),a=(0,U().q4_)(t.value);if(!e.includes(a))return;const i=(0,f().U8)(a);U().MTk(i,r)||c.push(...j({page:o,propertyId:n,propertySchema:s,textValue:i}))}break;case"number":case"date":case"undefined":case"function":{const e=$(t);U().MTk(e,r)||c.push(...j({page:o,propertyId:n,propertySchema:s,textValue:e}));break}case"checkbox":{const e=(0,l().r)(t.value);U().MTk(e,r)||c.push(...j({page:o,propertyId:n,propertySchema:s,textValue:e}));break}case"person":case"block":c.push(...H({flatArray:{type:"array",values:[t]},currentPropertyValue:r,propertyId:n,page:o,action:a,propertySchema:s}));break;case"array":{const e=V(t);c.push(...H({flatArray:e,currentPropertyValue:r,propertyId:n,page:o,action:a,propertySchema:s}));break}default:(0,i().HB)(t)}return c}function H(e){const{flatArray:t,currentPropertyValue:r,propertyId:n,page:a,action:s,propertySchema:l}=e,c=t.values[0];if(!c)return[];const p=a.getSpaceShardedPointer();if("person"===c.type){const e=a.getCreatedByPointer();let c=o().oE(t.values.map((e=>"person"===e.type?e.value:void 0)));const m=c.length>0;let f=(0,d().e)({textValue:r,propertySchema:l,blockCreatorPointer:e,skipDefault:m});return"person"===l.type&&(0,i().O9)(l.default)&&!r&&1===f.length&&(c=[...f,...c],f=[]),G({currentValues:f,newValues:c,action:s,propertySchema:l,equalityFn:(e,t)=>(0,y().jV)(e)===(0,y().jV)(t),createReplaceOperations:e=>j({page:a,propertyId:n,propertySchema:l,textValue:(0,u().h)(e)}),createAddOperation:e=>({command:"addPersonAfter",pointer:p,path:["properties",n],args:{pointer:e,after:void 0}}),createRemoveOperation:e=>({command:"removePerson",pointer:p,path:["properties",n],args:{pointer:e}})})}if("block"===c.type)return G({currentValues:(0,f().n)(r),newValues:o().oE(t.values.map((e=>"block"===e.type?e.value:void 0))),action:s,propertySchema:l,equalityFn:(e,t)=>(0,y().jV)(e)===(0,y().jV)(t),createReplaceOperations:e=>j({page:a,propertyId:n,propertySchema:l,textValue:(0,f().Ap)(e)}),createAddOperation:e=>({command:"addRelationAfter",pointer:p,path:["properties",n],args:{id:e.id,spaceId:e.spaceId,after:void 0}}),createRemoveOperation:e=>({command:"removeRelation",pointer:p,path:["properties",n],args:{id:e.id,spaceId:e.spaceId}})});if("text"===c.type){if(!m().DQ(l))return j({page:a,propertyId:n,propertySchema:l,textValue:$(t)});const e=(l.options??[]).map((e=>e.value)),i=o().oE(t.values.map((e=>"text"===e.type?(0,U().q4_)(e.value):void 0))).filter((t=>e.includes(t)));return G({currentValues:(0,f().o2)(r,l.options||[]),newValues:i,action:s,propertySchema:l,equalityFn:(e,t)=>e===t,createReplaceOperations:e=>j({page:a,propertyId:n,propertySchema:l,textValue:(0,f().rK)(e)}),createAddOperation:e=>({command:"addSelectOptionAfter",pointer:p,path:["properties",n],args:{option:e,after:void 0}}),createRemoveOperation:e=>({command:"removeSelectOption",pointer:p,path:["properties",n],args:{option:e}})})}return[]}function G(e){const{currentValues:t,newValues:r,action:n,propertySchema:o,equalityFn:a,createReplaceOperations:s,createAddOperation:l,createRemoveOperation:c}=e,u=m().sO(o)?o.limit:void 0;if("replace"===n){const e=q(r,u);return e.length===t.length&&e.every(((e,r)=>a(e,t[r])))?[]:s(e)}if("append"===n){const e=function(e){const{currentValues:t,newValues:r,limit:n,equalityFn:o}=e,a=[];for(const s of r)t.find((e=>o(e,s)))||a.push(s);const i=q([...t,...a],n);if(i.length<=t.length)return[];return i.slice(t.length)}({currentValues:t,newValues:r,limit:u,equalityFn:a});return e.map(l)}if("remove"===n){const e=function(e){const{currentValues:t,valuesToRemove:r,equalityFn:n}=e;return r.filter((e=>t.find((t=>n(t,e)))))}({currentValues:t,valuesToRemove:r,equalityFn:a});return e.map(c)}if("toggle"===n){const{valuesToAdd:e,valuesToRemove:n}=function(e){const{currentValues:t,valuesToToggle:r,limit:n,equalityFn:o}=e;let a=[];const i=[];for(const s of r)t.find((e=>o(e,s)))?i.push(s):a.push(s);if(n){const e=t.length-i.length+a.length-n;e>0&&(a=a.slice(0,a.length-e))}return{valuesToAdd:a,valuesToRemove:i}}({currentValues:t,valuesToToggle:r,limit:u,equalityFn:a});return[...n.map(c),...e.map(l)]}(0,i().HB)(n)}function q(e,t){return(0,i().O9)(t)?e.slice(0,t):e}function j(e){const{page:t,propertyId:r,propertySchema:n,textValue:o}=e;return function(e){return"title"===e.type}(n)?_().dM(t,o):[T().op.update({pointer:t.getSpaceShardedPointer(),path:["properties"],args:{[r]:o}})]}function $(e){switch(e.type){case"text":return e.value;case"number":return(0,c().h)(e.value);case"checkbox":return(0,U().x9d)(e.value?"true":"false");case"date":return(0,f().m5)(e.value);case"person":return(0,u().h)([e.value]);case"block":return(0,f().Ap)([e.value]);case"array":return(0,U().__s)((0,x().G)(e.values,(()=>({type:"text",value:(0,U().x9d)(",")}))).flatMap((e=>$(e))));case"function":case"undefined":return[];default:(0,i().HB)(e)}}function z(e,t){if(Array.isArray(t))return t.some((t=>z(e,t)));switch(t.type){case"text":case"number":case"checkbox":case"date":case"person":return e.type===t.type;case"array":return"array"===e.type&&e.values.every((e=>z(e,t.of)));case"unknown":case"expression":return!0;case"block":return"block"===e.type;case"select":case"function":return!1;default:(0,i().HB)(t)}}function W(e){return"array"!==e.type?e:W(e.of)}function Z(e){return"array"!==e.type?e:Z(e.values[0])}function Q(e){return"array"!==e.type?e:Q(e.of)}function*K(e,t,r){switch(r.type){case"title":case"text":case"email":case"phone_number":case"url":case"select":case"auto_increment_id":case"status":case"place":return{type:"text"};case"number":return{type:"number"};case"checkbox":return{type:"checkbox"};case"file":case"multi_select":return{type:"array",of:{type:"text"}};case"date":case"created_time":case"last_edited_time":case"last_visited_time":return{type:"date"};case"person":return{type:"array",of:{type:"person"}};case"created_by":case"last_edited_by":return{type:"person"};case"relation":return{type:"array",of:{type:"block",collection:r.collection_pointer}};case"rollup":if(void 0!==r.aggregation&&"show_unique"!==r.aggregation){return{type:(0,p().ou)((0,p().ZP)(r.aggregation))}}const o=yield*(0,O().OH)(e,t);if(void 0===o)return{type:"text"};if("person"===o.rollupType)return{type:"text"};const{targetCollectionSchema:a,targetProperty:s,targetPropertySchema:l}=o,c=yield*K(s,a,l);if(void 0===c)return;return{type:"array",of:W(c)};case"formula":switch(r.version){case void 0:var n;return void 0!==(null===(n=r.formula)||void 0===n?void 0:n.result_type)?{type:r.formula.result_type}:{type:"unknown"};case"v2":return r.formula2?r.formula2.result_type:{type:"unknown"};default:return(0,i().HB)(r.version)}case"button":case"location":case"verification":return;default:(0,i().HB)(r)}}function J(e,t){switch(t){case"title":const r=e.getProperty("title");return void 0!==r?{type:"text",value:r}:{type:"undefined"};case"created_by":const n=e.getCreatedByPointer();return n?{type:"person",value:n}:{type:"undefined"};case"created_time":const o=e.getCreatedTime();return void 0!==o?{type:"date",value:(0,b().KQ)(o,(0,h().P)())}:{type:"undefined"};case"last_edited_by":const a=e.getLastEditedByPointer();return a?{type:"person",value:a}:{type:"undefined"};case"last_edited_time":const s=e.getLastEditedTime();return void 0!==s?{type:"date",value:(0,b().KQ)(s,(0,h().P)())}:{type:"undefined"};default:(0,i().HB)(t)}}function Y(e){return!("checkbox"===e.type&&!1===e.value||"undefined"===e.type||"number"===e.type&&0===e.value||"array"===e.type&&0===e.values.length||"text"===e.type&&!e.value.some((e=>(0,U().WWE)(e)>0)))}function*X(e,t,r){if("text"===e.type&&"text"===t.type){const[n,o]=yield*Se([e.value,t.value],r);return n===o}if("number"===e.type&&"number"===t.type)return e.value===t.value;if("checkbox"===e.type&&"checkbox"===t.type)return e.value===t.value;if("date"===e.type&&"date"===t.type)return(0,v().Zo)(e.value,t.value);if("person"===e.type&&"person"===t.type)return(0,M().Z2)(e.value,t.value);if("array"===e.type&&"array"===t.type){if(e.values.length!==t.values.length)return!1;if(0===e.values.length&&0===t.values.length)return!0;return(yield*(0,O().KZ)(e.values.map(((e,n)=>X(e,t.values[n],r))))).every((e=>!0===e))}return"block"===e.type&&"block"===t.type?e.value.id===t.value.id:"undefined"===e.type&&"undefined"===t.type}function ee(e){var t;return(null===(t=e.parameters)||void 0===t||null===(t=t.expected)||void 0===t?void 0:t.filter((e=>!0!==e.optional)).length)??0}function te(e,t){var r,n;const o=null===(r=e.parameters)||void 0===r||null===(r=r.expected)||void 0===r?void 0:r[t];if(void 0!==o)return o;const a=null===(n=e.parameters)||void 0===n?void 0:n.varargs;if(void 0!==a&&a.length>0){var i;return a[(t-((null===(i=e.parameters)||void 0===i||null===(i=i.expected)||void 0===i?void 0:i.length)??0))%a.length]}}function re(e,t){return e.find((e=>e.kind===D().FormulaContextValueKind.ContextValue&&e.id===t))}function ne(e,t){return e.kind===D().FormulaContextValueKind.Binding?t.kind===D().FormulaContextValueKind.Binding&&e.name===t.name:e.kind===D().FormulaContextValueKind.ContextValue?t.kind===D().FormulaContextValueKind.ContextValue&&e.id===t.id:e.kind===D().FormulaContextValueKind.ThisRow?t.kind===D().FormulaContextValueKind.ThisRow:void(0,i().HB)(e)}function oe(e,t){return e.find((e=>e.kind===D().FormulaContextValueKind.ContextValue&&e.id===t))}function ae(e){if(e.kind===D().FormulaContextValueKind.ContextValue||e.kind===D().FormulaContextValueKind.Binding)return e.name;if(e.kind===D().FormulaContextValueKind.ThisRow)throw new Error("Not implemented yet.");(0,i().HB)(e)}function ie(e){return e.kind===D().FormulaContextValueKind.ContextValue?e.tooltipName??e.name:ae(e)}const se={text:r(467248).i,number:r(813197).L,date:r(42583).D,checkbox:r(396350).i,block:r(955363).arrowDiagonalUpRightIcon,person:r(922189).personCircleFillIcon,select:r(430401).b,array:I,function:r(585639).v,unknown:r(394593).z};function le(e){const t=e.type;return"array"===t&&"block"===e.of.type?k().G:se[t]}function ce(e){return encodeURIComponent(e)}function ue(e){return decodeURIComponent(e)}function de(e){return n()(e)}function pe(e){return JSON.parse(e)}function me(e){if(e.kind!==D().FormulaContextValueKind.ContextValue)return!1;const t=pe(e.id);return"action"===t.source&&"variable"===t.action_output_type}function fe(e){if(e.kind!==D().FormulaContextValueKind.ContextValue)return!1;return"global"===pe(e.id).source}function ge(e){if(e.kind!==D().FormulaContextValueKind.ContextValue)return!1;const t=pe(e.id);return"action"===t.source&&"page"===t.action_output_type}function ye(e){return e}function _e(e){return e}function ve(e){return encodeURIComponent(e)}function be(e){return decodeURIComponent(e)}function he(e){return e}function Ae(e){return e}function Ie(e){return t=>({getRecordModel:e})}function ke(e){switch(e.type){case"date":return`date|${e.start_date}`;case"daterange":return`daterange|${e.start_date}|${e.end_date}`;case"datetime":return`datetime|${e.start_date}|${e.start_time}|${e.time_zone}`;case"datetimerange":return`datetimerange|${e.start_date}|${e.start_time}|${e.end_date}|${e.end_time}|${e.time_zone}`}}function xe(e){const[t,...r]=e.split("|");switch(t){case"date":return{type:"date",start_date:r[0]};case"daterange":return{type:"daterange",start_date:r[0],end_date:r[1]};case"datetime":return{type:"datetime",start_date:r[0],start_time:r[1],time_zone:r[2]};case"datetimerange":return{type:"datetimerange",start_date:r[0],start_time:r[1],end_date:r[2],end_time:r[3],time_zone:r[4]};default:throw new Error("Invalid serialized date")}}function*Se(e,t){const r=e.flatMap((e=>(0,f().dg)(e))),n=r.length?(yield{recordPointers:r}).getRecordModel:S().b4_.constant(void 0);return e.map((e=>void 0!==e?(0,w().r4)({textValue:e,getRecordModel:n,userTimeZone:t.userTimeZone,deterministic:!0,disableAnnotationPrefix:!0,intl:t.intl}):""))}function*Te(e,t){const r=(0,f().dg)(e),n=r.length?(yield{recordPointers:r}).getRecordModel:S().b4_.constant(void 0);return(0,w().r4)({textValue:e,getRecordModel:n,userTimeZone:t.userTimeZone,deterministic:!0,disableAnnotationPrefix:!0,intl:t.intl})}function Me(e){switch(e.type){case"block":case"person":return[e.value];case"text":return(0,f().dg)(e.value);case"array":return e.values.flatMap(Me);case"number":case"checkbox":case"date":case"function":case"undefined":return[];default:(0,i().HB)(e)}}function we(e){switch(e.type){case"block":return(0,i().O9)(e.collection)?e.collection:void 0;case"array":return we(e.of);case"select":return e.collection;case"person":case"text":case"number":case"checkbox":case"date":case"function":case"unknown":return;default:(0,i().HB)(e)}}function Be(e,t,r){const n=(0,b().ln)(e,r),o=(0,b().ln)(t,r);return n>o?1:n<o?-1:0}const Ce=1e-6;function Pe(e,t){const r=a().Q.unwrap(e);switch(typeof t){case"string":return"text"===r.type&&(0,U().q4_)(r.value)===t;case"number":return"number"===r.type&&Math.abs(r.value-t)<Ce;case"boolean":return"checkbox"===r.type&&r.value===t;case"undefined":return"undefined"===r.type;case"object":return"date"===r.type&&(0,v().Zo)(r.value,t)}}function Ne(e){return"node"in e}function Ue(e){return Ne(e)&&e.type!==E().uW.FunctionCallArgumentWrongType&&e.type!==E().uW.FunctionCallUnexpectedArgument}function Re(e,t,r){const n=ve(e),o=ce(t),a=function(e){return encodeURIComponent(e)}(r);return`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.BlockProperty}:context_value:${n}:${o}:${a}${D().FORMULA_TOKEN_SUFFIX}`}function De(e){const t=(0,U().tVx)(e);if(void 0!==t){const e=ce((0,U().iVq)(t).id);return`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.ContextValue}:${e}${D().FORMULA_TOKEN_SUFFIX}`}const r=(0,U().TVE)(e);if(void 0!==r){const e=(0,U().GCe)(r),t=ve(e.property);return"contextValueId"in e?Re(e.property,e.contextValueId,e.valueSnapshot):void 0!==e.collection?`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.BlockProperty}:${t}:${e.collection.id}:${e.collection.spaceId}${D().FORMULA_TOKEN_SUFFIX}`:`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.BlockProperty}:${t}${D().FORMULA_TOKEN_SUFFIX}`}const n=(0,U().$CJ)(e);if(void 0!==n){const e=(0,U().K7D)(n);return o=e,`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.Date}:${ke(o)}${D().FORMULA_TOKEN_SUFFIX}`}var o;const a=(0,U().Sev)(e);if(void 0!==a){const e=(0,U().i$F)(a);if(void 0!==e)return`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.Block}:${e.id}${void 0!==e.spaceId?`:${e.spaceId}`:""}${D().FORMULA_TOKEN_SUFFIX}`}const i=(0,U().snh)(e);if(void 0!==i){const e=(0,U().NcG)(i);return`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.Person}:${D().PERSON_ENTITY_USER_TOKEN}:${e}${D().FORMULA_TOKEN_SUFFIX}`}const s=(0,U().SEY)(e),l=s?(0,U().FHi)(s):void 0;if(void 0!==l)return`${D().FORMULA_TOKEN_PREFIX}${D().FormulaTokenType.Person}:${D().PERSON_ENTITY_GROUP_TOKEN}:${l.groupId}:${l.spaceId}${D().FORMULA_TOKEN_SUFFIX}`}function Oe(e,t,r,n,o){const a=(0,U().tVx)(e);if(void 0!==a){const e=(0,U().iVq)(a);if(!o)return e.id;const t=Ke(o,e.id);return t&&t.kind===D().FormulaContextValueKind.ContextValue?fe(t)||ge(t)?`${D().FORMULA_CONTEXT_WRAPPER}("${t.name}")`:me(t)?`${D().FORMULA_VARIABLE_WRAPPER}("${t.name}")`:t.name:e.id}const i=(0,U().TVE)(e);if(void 0!==i){var s;const e=(0,U().GCe)(i);if((0,U()._Nw)(e))return e.contextValueId;if(!e.collection)return`prop("${(0,R().i)(`${e.property}`)}")`;const r=t(e.collection);if(!r)return;const n=null===(s=r.getNormalizedSchema()[e.property])||void 0===s?void 0:s.name;if(!n)return;return`prop("${n}")`}const l=(0,U().$CJ)(e);if(void 0!==l){return ke((0,U().K7D)(l))}const c=(0,U().Sev)(e);if(void 0!==c){const e=(0,U().i$F)(c);if(void 0===e)return;const o=t(e);if(!o)return;return o.getRenderTitle({getRecordModel:t,intl:r,userTimeZone:n})}const u=(0,U().snh)(e);if(void 0!==u){const e=t({id:(0,U().NcG)(u),table:N().oo});if(!e)return;return e.getFullName(r)}}function Fe(e){switch(e){case"Created Time":return D().FormulaTokenSupportedBlockSystemProperty.CreatedTime;case"Last Edited Time":return D().FormulaTokenSupportedBlockSystemProperty.LastEditedTime;case"Last Edited By":return D().FormulaTokenSupportedBlockSystemProperty.LastEditedBy;case"Created By":return D().FormulaTokenSupportedBlockSystemProperty.CreatedBy;case"Page Name":return D().FormulaTokenSupportedBlockSystemProperty.Title;default:return}}function Ee(e){const t=new Set;return Ve(e,t),Array.from(t)}function Ve(e,t){if(void 0!==e)switch(e.kind){case E().NM.Conditional:return Ve(e.condition,t),Ve(e.expIfFalse,t),void Ve(e.expIfTrue,t);case E().NM.Equality:case E().NM.Relational:case E().NM.Additive:case E().NM.Multiplicative:case E().NM.Exponentiation:return Ve(e.lhs,t),void Ve(e.rhs,t);case E().NM.Call:return Ve(e.expression,t),void e.arguments.forEach((e=>Ve(e,t)));case E().NM.Unary:case E().NM.UnifiedFunctionProperty:return void Ve(e.expression,t);case E().NM.LogicalAnd:case E().NM.LogicalOr:case E().NM.Array:return void e.elements.forEach((e=>Ve(e,t)));case E().NM.NotionToken:return void(e.token.type===D().FormulaTokenType.BlockProperty&&Le(e.token.property,t));case E().NM.MemberBlockProperty:return void Le(e.propertyToken.property,t);case E().NM.RecoveryNode:case E().NM.String:case E().NM.Boolean:case E().NM.Identifier:case E().NM.Number:return;default:(0,i().HB)(e)}}function Le(e,t){D().FormulaTokenSupportedBlockSystemPropertyList.includes(e)||t.add(be(e))}function He(e){const{formulasModule:t,getRecordModel:r,textValue:n,featureGates:o,valueTypes:a,spaceId:i}=e;let s=n;a.some((e=>e.kind===D().FormulaContextValueKind.ContextValue))&&(s=Ge({textValue:s,valueTypes:a,regex:D().FORMULA_CONTEXT_REGEX,wrapperName:D().FORMULA_CONTEXT_WRAPPER,wrapperChecker:fe}),s=Ge({textValue:s,valueTypes:a,regex:D().FORMULA_CONTEXT_REGEX,wrapperName:D().FORMULA_CONTEXT_WRAPPER,wrapperChecker:ge}),s=Ge({textValue:s,valueTypes:a,regex:D().FORMULA_VARIABLE_REGEX,wrapperName:D().FORMULA_VARIABLE_WRAPPER,wrapperChecker:me}));let[l,c]=[s,!0],u=0;for(;c&&u<100;)[l,c]=je({formulasModule:t,getRecordModel:r,spaceId:i,textValue:l,featureGates:o,valueTypes:a}),u++;return l}function Ge(e){const{textValue:t,valueTypes:r,regex:n,wrapperName:o,wrapperChecker:a}=e,i=[];let s=!1;for(const l of t){if(!U().bHQ(l)){i.push(l);continue}const e=l[0];let t,c=0;for(n.lastIndex=0;null!==(t=n.exec(e));){t.index>c&&i.push([e.substring(c,t.index)]);const l=t[2];let u;for(const e of r)if(e.kind===D().FormulaContextValueKind.ContextValue&&a(e)&&e.name===l){u=e.id;break}if(u){const e=(0,U().wmz)((0,U().CA$)({id:u}));i.push(e),s=!0}else i.push([`${o}("${l}")`]);c=n.lastIndex}c<e.length&&i.push([e.substring(c)])}return s?i:t}function qe(e){for(const t of e)if(t.kind===D().FormulaContextValueKind.ThisRow&&"block"===t.type.type)return t.type}function je(e){const{formulasModule:t,getRecordModel:r,spaceId:n,textValue:o,featureGates:i,valueTypes:s}=e,[l,c]=t.processFormulaInput(o),[u]=t.parseFormulaInputToCst(l),d=t.convertFormulaCSTToAST(u);if(a().Q.isFail(d))return[o,!1];const p=qe(s),m={valueTypes:s,handleDataRequest:Ie(r),spaceId:n,featureGates:i},{node:f}=t.addTypesToFormulaAST(d.value,m);let y=!1;const _=[];let v=0;for(const a of o){if(y){_.push(a);continue}if(!U().bHQ(a)){v+=1,_.push(a);continue}const e=a[0],t=[];let n,i=0,s=!1;const l=D().FORMULA_PROP_REGEX;for(l.lastIndex=0;null!==(n=l.exec(e))&&!y;){const a=Ze(f,(0,F().NZ)(c,v+n.index-1)).at(-1);let u=null==p?void 0:p.collection;if(a){let e=W(a.type);if(a.kind===E().NM.UnifiedFunctionProperty&&a.expression){const t=W(a.expression.type);"block"===t.type&&t.collection&&(e=t)}"block"===e.type&&e.collection&&(u=e.collection)}if(!u)continue;const d=n[2],m=r(u);let _;if(m){const e=(0,g().EC)(d,m.getNormalizedSchema());if(e){const[t,r]=e;_=(0,U().wmz)((0,U().ESw)({collection:m.pointer,property:t,name:r.name}))}else{const e=Fe(d);e&&(_=(0,U().wmz)((0,U().ESw)({collection:void 0,property:e,name:d})))}}if(n.index>i&&t.push([e.substring(i,n.index)]),!_)return[o,!1];t.push(_),s=!0,y=!0,i=l.lastIndex}s?(i<e.length&&t.push([e.substring(i)]),_.push(...t)):_.push(a),v+=e.length}return y?[_,y]:[o,!1]}function $e(e,t,r=new Set){const n=[];for(const o of e)if(void 0!==o){const e=ze(o,t,r);e.length>0&&n.push.apply(n,e)}return n}function ze(e,t,r=new Set){var n;if(r.has(e))return[];if(r.add(e),!t&&e.kind!==E().NM.Call&&"function"===(null==e||null===(n=e.type)||void 0===n?void 0:n.type))return[{type:E().IA.FunctionCallExpected,node:e,functionName:e.type.libraryFunction.name}];let o=[];switch(e.kind){case E().NM.Conditional:o=$e([e.condition,e.expIfTrue,e.expIfFalse],!1,r);break;case E().NM.Equality:case E().NM.Relational:case E().NM.Additive:case E().NM.Multiplicative:case E().NM.Exponentiation:o=$e([e.lhs,e.rhs],!1,r);break;case E().NM.Call:const n=e.expression;n.kind===E().NM.Identifier&&("let"===n.text||"lets"===n.text)?(o=[...$e(e.arguments.slice(0,e.arguments.length-1),!0,r),...$e([e.expression],!0,r)],e.arguments.length>2&&e.arguments.length%3==0&&o.push(...$e([e.arguments.at(-1)],t,r))):o=[...$e(e.arguments,!1,r),...$e([e.expression],!0,r)];break;case E().NM.Unary:case E().NM.UnifiedFunctionProperty:o=$e([e.expression],!1,r);break;case E().NM.LogicalAnd:case E().NM.LogicalOr:case E().NM.Array:o=$e(e.elements,!1);break;case E().NM.RecoveryNode:case E().NM.String:case E().NM.Boolean:case E().NM.Identifier:case E().NM.NotionToken:case E().NM.MemberBlockProperty:case E().NM.Number:o=[];break;default:(0,i().HB)(e)}return o}function We(e){const t=new Map;return e.forEach((e=>{const r=(0,U().uPN)(e),n=(0,U().TVE)(r);if(!n)return;const o=(0,U().GCe)(n);o.name&&t.set(o.property,o.name)})),t}function Ze(e,t){if(!e)return[];if(void 0!==e.startOffset&&t<e.startOffset||void 0!==e.endOffset&&t>e.endOffset+1)return[];const r=e.kind;switch(r){case E().NM.Number:case E().NM.String:case E().NM.Boolean:case E().NM.NotionToken:case E().NM.Identifier:case E().NM.RecoveryNode:return[e];case E().NM.Conditional:{const r=Ze(e.condition,t);if(r.length>0)return[e,...r];const n=Ze(e.expIfTrue,t);if(n.length>0)return[e,...n];if(void 0!==e.expIfFalse){const r=Ze(e.expIfFalse,t);if(r.length>0)return[e,...r]}return[e]}case E().NM.Equality:case E().NM.Relational:case E().NM.Additive:case E().NM.Multiplicative:case E().NM.Exponentiation:{const r=Ze(e.lhs,t);if(r.length>0)return[e,...r];const n=Ze(e.rhs,t);return n.length>0?[e,...n]:[e]}case E().NM.LogicalOr:case E().NM.LogicalAnd:case E().NM.Array:for(const r of e.elements){const n=Ze(r,t);if(n.length>0)return[e,...n]}return[e];case E().NM.Unary:{const r=Ze(e.expression,t);return r.length>0?[e,...r]:[e]}case E().NM.Call:{const r=Ze(e.expression,t);if(r.length>0)return[e,...r];for(const n of e.arguments){const r=Ze(n,t);if(r.length>0)return[e,...r]}return[e]}case E().NM.UnifiedFunctionProperty:case E().NM.MemberBlockProperty:const n=Ze(e.expression,t);return n.length>0?[e,...n]:[e];default:(0,i().HB)(r)}}function Qe(e){return e.type===D().FormulaTokenType.BlockProperty&&"contextValueId"in e}function Ke(e,t){for(const r of e)if(r.kind===D().FormulaContextValueKind.ContextValue&&r.id===t)return r}function Je(e,t){switch(e.kind){case D().FormulaContextValueKind.ContextValue:{const r=[],n=pe(e.id);switch(n.source){case"action":r.push({id:n.action_id,spaceId:t,table:B().SC});break;case"global":break;default:(0,i().HB)(n)}const o=we(e.type);return o&&r.push(o),r}case D().FormulaContextValueKind.Binding:case D().FormulaContextValueKind.ThisRow:{const t=we(e.type);return t?[t]:[]}default:(0,i().HB)(e)}}function Ye(e){return!(e.table!==P().Vl&&e.table!==C().ev&&!(0,s().Pu)(e))}function Xe(e,t){return Array.isArray(t)?t.some((t=>Xe(e,t))):"unknown"===e.type||"unknown"===t.type||"expression"===t.type||e.type===t.type&&("block"===e.type||"select"===e.type||"function"===e.type?rt(e,t):"array"!==e.type||"array"!==t.type||Xe(e.of,t.of))}function et(e,t){return!!Xe(e,t)||(Xe({type:"checkbox"},t)?{type:"checkbox"}:!!Xe({type:"text"},t)&&{type:"text"})}function tt(e,t,r=!1){const n=r?rt:(e,t)=>e.type===t.type;return n(e,t)||"array"===e.type&&n(e.of,t)}function rt(e,t){return e.type===t.type&&("block"===e.type&&"block"===t.type?void 0===e.collection?void 0===t.collection:void 0!==t.collection&&(0,M().Z2)(e.collection,t.collection):"select"===e.type&&"select"===t.type?(0,M().Z2)(e.collection,t.collection)&&e.property===t.property:"array"===e.type&&"array"===t.type?rt(e.of,t.of):"function"!==e.type||"function"!==t.type||e.libraryFunction===t.libraryFunction&&void 0!==e.boundTargetType==(void 0!==t.boundTargetType))}function nt(e){switch(e.type){case"date":case"block":case"person":case"array":return"unknown";default:return!0}}},247331:(e,t,r)=>{r.r(t),r.d(t,{CURRENT_INDEX_NAME:()=>F,CURRENT_VALUE_NAME:()=>O,FLATTENS_NUMBER_ARRAY_FNS:()=>D,FORMULAS_SUPPORTED_COLLECTION_PROPERTY_TYPES:()=>V,FORMULA_CONTEXT_REGEX:()=>C,FORMULA_CONTEXT_WRAPPER:()=>P,FORMULA_LOADING:()=>L,FORMULA_MAX_DEPTH:()=>E,FORMULA_PROP_REGEX:()=>w,FORMULA_PROP_WRAPPER:()=>B,FORMULA_TOKEN_PREFIX:()=>c,FORMULA_TOKEN_REGEX:()=>v,FORMULA_TOKEN_SUFFIX:()=>u,FORMULA_VARIABLE_REGEX:()=>N,FORMULA_VARIABLE_WRAPPER:()=>U,FormulaContextValueKind:()=>n,FormulaEditorInfoCompletionKind:()=>o,FormulaTokenSupportedBlockSystemProperty:()=>i,FormulaTokenSupportedBlockSystemPropertyList:()=>s,FormulaTokenSupportedBlockSystemPropertyToType:()=>l,FormulaTokenType:()=>a,PERSON_ENTITY_GROUP_TOKEN:()=>p,PERSON_ENTITY_USER_TOKEN:()=>d,TREAT_UNDEFINED_AS_ZERO_FNS:()=>R,globalTokenBlockPropertyOptionalCollectionPattern:()=>k,tokenBlockPattern:()=>b,tokenBlockPropertyContextValueIdPattern:()=>x,tokenBlockPropertyOptionalCollectionPattern:()=>I,tokenCheckboxPattern:()=>S,tokenContextValuePattern:()=>T,tokenDatePattern:()=>M,tokenPersonPatternForGroup:()=>A,tokenPersonPatternForUser:()=>h});let n=function(e){return e[e.Binding=0]="Binding",e[e.ContextValue=1]="ContextValue",e[e.ThisRow=2]="ThisRow",e}({}),o=function(e){return e[e.Binding=0]="Binding",e[e.Token=1]="Token",e[e.Builtin=2]="Builtin",e[e.LibraryFunction=3]="LibraryFunction",e}({}),a=function(e){return e.Checkbox="checkbox",e.Block="block",e.Person="person",e.BlockProperty="block_property",e.Date="date",e.ContextValue="context",e}({}),i=function(e){return e.Title="title",e.CreatedBy="created_by",e.CreatedTime="created_time",e.LastEditedBy="last_edited_by",e.LastEditedTime="last_edited_time",e}({});const s=Object.values(i),l={[i.Title]:{type:"text"},[i.CreatedBy]:{type:"person"},[i.CreatedTime]:{type:"date"},[i.LastEditedBy]:{type:"person"},[i.LastEditedTime]:{type:"date"}},c="{{notion:",u="}}",d="user",p="group",m="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}",f=c.replace(/\{/g,"\\{"),g=u.replace(/\}/g,"\\}"),y="[^:]+",_="[^}]+",v=new RegExp(`${f}.*${g}`),b=new RegExp(`^${f}${a.Block}:(${m})(:${m})?${g}`),h=new RegExp(`^${f}${a.Person}:${d}:(${m})${g}`),A=new RegExp(`^${f}${a.Person}:${p}:(${m}):(${m})${g}`),I=new RegExp(`^${f}${a.BlockProperty}:(${y})(:(${m}):(${m}))?${g}`),k=new RegExp(`${f}${a.BlockProperty}:(${y})(:(${m}):(${m}))?${g}`,"g"),x=new RegExp(`^${f}${a.BlockProperty}:context_value:(${y}):(${_}):([\\w-]+)${g}`),S=new RegExp(`^${f}${a.Checkbox}:(true|false)${g}`),T=new RegExp(`^${f}${a.ContextValue}:(${_})${g}`),M=new RegExp(`^${f}${a.Date}:([^}]+)${g}`),w=new RegExp(/prop\((["'])(.*?)(["'])\)/g),B="prop",C=new RegExp(/context\((["'])(.*?)(["'])\)/g),P="context",N=new RegExp(/var\((["'])(.*?)(["'])\)/g),U="var",R=["add","subtract","multiply","divide","sum"],D=["min","max","mean","median"],O="current",F="index",E=15,V=["title","text","url","email","phone_number","place","checkbox","person","created_by","last_edited_by","select","multi_select","status","number","date","created_time","last_edited_time","last_visited_time","formula","relation","rollup","auto_increment_id"],L=Symbol("FORMULA_LOADING")},247821:(e,t,r)=>{r.d(t,{Ay:()=>i,NR:()=>a,jv:()=>o});var n=()=>r(292588);const o="marketplace_badge",a=["sales-certification","technical-certification","admin-certification","service-certification","notion-academy-essentials","notion-academy-workflows","notion-academy-advanced"],i={table:o,columnTypes:{id:n().A.UUID,type:n().A.String,name:n().A.String,slug:n().A.String,attributes:n().A.JSON,supported_tables:n().A.StringArray,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number},requiredColumns:{id:!0,type:!0,name:!0,slug:!0,attributes:!0,version:!0,supported_tables:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},251481:(e,t,r)=>{r.d(t,{i:()=>n});const n=(0,r(69708).YK)({placeholder:{defaultMessage:"AI Meeting Notes",id:"TranscriptionBlockHeading.placeholder"}})},251822:(e,t,r)=>{r.d(t,{cy:()=>s,jS:()=>p,lM:()=>d});r(944114),r(898992),r(803949);var n=()=>r(800065),o=()=>r(778781);const a={page_main:{cover:!0,normalizedTitleWithIcon:!0},page_details:{},form_layout_schema:{cover:!0,formTitle:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{cover:!0,normalizedTitleWithIcon:!0},person_profile_page_details:{},dashboard_layout_schema:{}},i={page_layout_schema:{cover:!0,titleWithIcon:!0},page_info_layout_schema:{},form_layout_schema:{cover:!0,formTitle:!0},views_main_tab_modules:{},form_conditional_modules:{},person_profile_page_main:{cover:!0,titleWithIcon:!0},person_profile_page_details:{},dashboard_layout_schema:{}};function s(e,t){return t.type in a[e]}function l(e,t){return t.type in i[e]}function c(e,t,r){const n=function(e){return{page_main:{inlinePageSections:!0,expandedBacklinks:!0,...!e&&{discussions:!0},bottomControls:!0,...!e&&{editor:!0},viewsMain:!0},page_details:{},form_layout_schema:{formSubmit:!0},views_main_tab_modules:{...!e&&{discussions:!0},...!e&&{editor:!0}},form_conditional_modules:{},person_profile_page_main:{},person_profile_page_details:{},dashboard_layout_schema:{}}}(r);return t.type in n[e]}function u(e,t,r){const n=function(e){return{page_layout_schema:{inlinePageSections:!0,expandedBacklinks:!0,...!e&&{discussions:!0},bottomControls:!0,...!e&&{editor:!0},viewsMain:!0},page_info_layout_schema:{},form_layout_schema:{formSubmit:!0},views_main_tab_modules:{...!e&&{discussions:!0},...!e&&{editor:!0}},form_conditional_modules:{},person_profile_page_main:{},person_profile_page_details:{},dashboard_layout_schema:{}}}(r);return t.type in n[e]}function d(e,t,r=!1){return r?function(e,t,r){const a=[],i=[],s=[],c=[];return t.forEach((t=>{(0,o().cn)(t)||(l(e,t)?a.push(t):u(e,t,r)?c.push(t):(0,n().xU)(t,r)?i.push(t):(0,n().LU)(t,r)&&s.push(t))})),{nonMoveableHeaderRawModules:a,moveableCenterRawModules:i,moveableFooterRawModules:s,nonMoveableFooterRawModules:c,moveableRawModules:[...i,...s]}}(e,t,r):function(e,t,r){const a=[],i=[],s=[];return t.forEach((t=>{(0,o().cn)(t)||(l(e,t)?a.push(t):u(e,t,r)?s.push(t):(0,n().c0)(t,r)&&i.push(t))})),{nonMoveableHeaderRawModules:a,moveableRawModules:i,nonMoveableFooterRawModules:s}}(e,t,r)}function p(e,t,r=!1){return r?function(e,t,r=!1){const a=[],i=[],l=[],u=[];return t.forEach((t=>{(0,o().cn)(t)||(s(e,t)?a.push(t):c(e,t,r)?u.push(t):(0,n().LJ)(t,r)?i.push(t):(0,n().Lo)(t,r)&&l.push(t))})),{nonMoveableHeaderModules:a,moveableCenterModules:i,moveableFooterModules:l,nonMoveableFooterModules:u,moveableModules:[...i,...l]}}(e,t,r):function(e,t,r){const a=[],i=[],l=[];return t.forEach((t=>{(0,o().cn)(t)||(s(e,t)?a.push(t):c(e,t,r)?l.push(t):(0,n().iw)(t,r)&&i.push(t))})),{nonMoveableHeaderModules:a,moveableModules:i,nonMoveableFooterModules:l}}(e,t,r)}},258911:(e,t,r)=>{r.d(t,{A:()=>a,h:()=>o});var n=()=>r(292588);const o="external_authentication_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,bot_id:n().A.String,user_id:n().A.String,integration_id:n().A.String,space_id:n().A.String,expires_at:n().A.Number}}},265229:(e,t,r)=>{r.d(t,{Ay:()=>a,hG:()=>o});var n=()=>r(292588);const o="bot_token",a={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,bot_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,secret:n().A.String,secret_hash:n().A.String,key_id:n().A.String,refresh_token:n().A.String,refresh_token_hash:n().A.String,parent_bot_token_id:n().A.UUID}}},265809:(e,t,r)=>{r.d(t,{Xi:()=>a,Ay:()=>i});var n=()=>r(292588),o=()=>r(583835);(0,o().Dv)("adminResetBotRateLimit"),(0,o().Dv)("automationRelativeDateTrigger"),(0,o().Dv)("completeSprint"),(0,o().Dv)("noop"),(0,o().Dv)("recurrenceTask"),(0,o().Dv)("sendReminder"),(0,o().Dv)("workflowRecurrenceTrigger");const a="schedule_for_event";const i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,status:n().A.String,app_name:n().A.String,recurrence:n().A.JSON,next_run_time:n().A.Number,flexible_window_in_minutes:n().A.Number,event_type:n().A.String,payload:n().A.JSON,deterministic_id:n().A.String,max_schedule_ahead_time:n().A.Number,disable_for_migration:n().A.Boolean},requiredColumns:{id:!0,version:!0,space_id:!0,created_by_id:!0,created_by_table:!0,created_time:!0,status:!0,app_name:!0,recurrence:!0,event_type:!0,payload:!0},defaultColumnValues:{status:"scheduled",max_schedule_ahead_time:15,disable_for_migration:!1},model:(0,r(152853).P)({RecordStore:!0})}},266442:(e,t,r)=>{r.d(t,{Ay:()=>i,UN:()=>a,Vu:()=>o});var n=()=>r(292588);const o=[1,2,3,4,5],a="marketplace_listing_review",i={table:a,columnTypes:{id:n().A.UUID,title:n().A.String,rating:n().A.Number,acquisition_id:n().A.String,serialized_content:n().A.JSON,serialized_creator_response:n().A.JSON,status:n().A.String,attributes:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,rating:!0,acquisition_id:!0,status:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},269288:(e,t,r)=>{r.d(t,{c:()=>a,y:()=>o});var n=()=>r(496603);function o(e,t){return e.length===t.length&&(1===e.length?e[0]===t[0]:n().n4(e,t))}function a(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!o(e[r],t[r]))return!1;return!0}},270995:(e,t,r)=>{r.d(t,{U:()=>a});var n=()=>r(534177),o=()=>r(604995);function a(e){const{operatorValue:t,userTimeZone:r}=e;return"today"===t.value?o().ah(r).valueOf():"tomorrow"===t.value?o().ah(r).plus({days:1}).valueOf():"yesterday"===t.value?o().ah(r).minus({days:1}).valueOf():"one_week_from_now"===t.value?o().ah(r).plus({weeks:1}).valueOf():"one_week_ago"===t.value?o().ah(r).minus({weeks:1}).valueOf():"one_month_from_now"===t.value?o().ah(r).plus({months:1}).valueOf():"one_month_ago"===t.value?o().ah(r).minus({months:1}).valueOf():void(0,n().HB)(t)}},273900:(e,t,r)=>{r.d(t,{$q:()=>w,I$:()=>V,II:()=>B,IL:()=>C,Pr:()=>D,SK:()=>W,WH:()=>$,Y1:()=>U,ch:()=>M,dI:()=>O,i0:()=>H,lD:()=>j,nK:()=>T,or:()=>Q,q_:()=>N,sG:()=>R,sO:()=>Z,tp:()=>K});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(354520),r(672577),r(430670),r(581454),r(908872),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(700500),i=()=>r(799288),s=()=>r(363170),l=()=>r(842599),c=()=>r(416845),u=()=>r(792071),d=()=>r(142748),p=()=>r(310442),m=()=>r(179034),f=()=>r(824862),g=()=>r(519831),y=()=>r(197959),_=()=>r(96689),v=()=>r(296900),b=()=>r(437607),h=()=>r(848538),A=()=>r(854150),I=()=>r(798880),k=()=>r(468006),x=()=>r(192481),S=()=>r(68263);function T(e,t){return!(!e||!t)&&((0,S().B2)(e)&&(0,S().B2)(t)||(0,S().Jx)(e)&&(0,S().Jx)(t)?e.user_id===t.user_id:(0,S().P3)(e)&&(0,S().P3)(t)?e.bot_id===t.bot_id:(0,S().Ds)(e)&&(0,S().Ds)(t)?e.group_id===t.group_id:(0,S().nl)(e)&&(0,S().nl)(t)||(0,S().gl)(e)&&(0,S().gl)(t)?e.team_id===t.team_id:(0,S().tb)(e)&&(0,S().tb)(t)?"person"===e.property_info.type&&"person"===t.property_info.type?e.property_info.property_id===t.property_info.property_id:"page_creator"===e.property_info.type&&"page_creator"===t.property_info.type:e.type===t.type)}function M(e){return(0,d().c6)(e).map(((t,r)=>{if(t.table===m().ev){const e=u().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,r=u().Bj6.isAnyModel(t)?t.id:t.value.id;if(e&&e.length>0)return{from:{table:m().ev,blockId:r},permissions:e}}else if(t.table===A().yK){const e=u().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,r=u().Bj6.isAnyModel(t)?t.id:t.value.id;if(e&&e.length>0)return{from:{table:A().yK,teamId:r},permissions:e}}else if(t.table===g().Vl){const n=u().Bj6.isAnyModel(t)?t.getPermissionItems():t.value.permissions,o=u().Bj6.isAnyModel(t)?t.id:t.value.id;if(n&&n.length>0){const t=(()=>{if(!n.some(S().tb))return;if(r<=0)return;const t=e[r-1];return t.table===m().ev?u().Bj6.isAnyModel(t)?t.id:t.value.id:void 0})();return{from:{table:g().Vl,collectionId:o,...t?{collectionDirectChildId:t}:{}},permissions:n}}}})).filter(o().O9)}function w(...e){let t=0,r="none";for(const a of e)if("string"==typeof a)t=Math.max(t,S().hV.indexOf(a));else for(const e of(0,o().uv)(a))a[e]&&(r=P(r,e));const n=S().hV[t];return"editor"===n||"read_and_write"===n||"membership_admin"===n?n:"none"!==r&&Object.keys(r).length?("reader"!==n&&"comment_only"!==n&&"content_only_editor"!==n||(r=P(r,"read_content")),r):n}function B(e){return"object"==typeof e}function C(e){return!(!(0,i().cT)(e)&&!(0,i().ML)(e)&&"none"!==e)}function P(e,t){let r;return"none"===e?"read_content"===t?r={read_content:!0}:"update_content"===t?r={update_content:!0}:"insert_content"===t?r={insert_content:!0}:"read_property"===t||"update_property"===t||"insert_property"===t?r={read_property:!0}:"read_comment"===t?r={read_comment:!0}:"insert_comment"===t?r={insert_comment:!0}:(0,o().HB)(t):(r={...e},"read_content"===t?(r.read_content=!0,delete r.read_property):"update_content"===t?(r.update_content=!0,delete r.update_property):"insert_content"===t?(r.insert_content=!0,delete r.insert_property):"read_property"===t?r.read_content||(r.read_property=!0):"update_property"===t?r.update_content||(r.update_property=!0):"insert_property"===t?r.insert_content||(r.insert_property=!0):"read_comment"===t?r.read_comment=!0:"insert_comment"===t?r.insert_comment=!0:(0,o().HB)(t)),r}function N(e,t){if("string"==typeof e&&"string"==typeof t)return D(e,t);if("string"==typeof e){if("editor"===e||"membership_admin"===e)return!0;e=S().UA[e]}if("string"==typeof t){if("editor"===t||"membership_admin"===t)return!1;t=S().UA[t]}return function(e,t){if("none"===t)return!0;if("none"===e)return!1;let r=!0;for(const n of(0,o().uv)(t))"read_property"===n?r&&=e.read_property||e.read_content:"update_property"===n?r&&=e.update_property||e.update_content:"insert_property"===n?r&&=e.insert_property||e.insert_content:"read_content"===n?r&&=e.read_content:"update_content"===n?r&&=e.update_content:"insert_content"===n?r&&=e.insert_content:"read_comment"===n?r&&=e.read_comment:"insert_comment"===n?r&&=e.insert_comment:"link_preview"===n||"synced_database"===n||(0,o().HB)(n);return Boolean(r)}(e,t)}function U(e,t){return S().hV.indexOf(e)<=S().hV.indexOf(t)}function R(e,t){return S().hV.indexOf(e)<S().hV.indexOf(t)}function D(e,t){return S().hV.indexOf(e)>=S().hV.indexOf(t)}function O(e,t){return S().hV.indexOf(e)>S().hV.indexOf(t)}function F(e,t){return void 0!==t?t:void 0!==e&&e}function E(e){const{inheritedPermissionToCompare:t,mostPermissivePermissionLoose:r}=e,n=r;if((0,S().Ni)(n.permissionItem)&&!(0,S().Ni)(t.permissionItem))return t;const o=n.permissionItem.role,a=w(o,t.permissionItem.role),i=a!==o?t:n;return{from:i.from,permissionItem:{...i.permissionItem,role:a}}}function V(e){return e?(0,S().B2)(e)||(0,S().Jx)(e)?`${e.type}:${e.user_id}`:(0,S().P3)(e)?`${e.type}:${e.bot_id}`:(0,S().Ds)(e)?`${e.type}:${e.group_id}`:(0,S().gl)(e)||(0,S().nl)(e)?`${e.type}:${e.team_id}`:(0,S().tb)(e)?"person"===e.property_info.type?`${e.type}:${e.property_info.property_id}`:`${e.type}:page_creator`:e.type:""}function L(e){return 1===e.length?e[0]:e.reduce(((e,t)=>{if(!T(e.permissionItem,t.permissionItem))throw Error("Items should be grouped by target, but given items have different targets");return(0,S().B2)(t.permissionItem)||(0,S().Jx)(t.permissionItem)||(0,S().Lg)(t.permissionItem)||(0,S().cd)(t.permissionItem)||(0,S().sk)(t.permissionItem)||(0,S().un)(t.permissionItem)||(0,S().un)(t.permissionItem)||(0,S().T$)(t.permissionItem)||(0,S()._d)(t.permissionItem)||(0,S().Ds)(t.permissionItem)||(0,S().P3)(t.permissionItem)||(0,S().tb)(t.permissionItem)?E({mostPermissivePermissionLoose:e,inheritedPermissionToCompare:t}):(0,S().FP)(t.permissionItem)?function(e){const{mostPermissivePermissionLoose:t,inheritedPermissionToCompare:r}=e,n=E({mostPermissivePermissionLoose:t,inheritedPermissionToCompare:r});var o,a,i,s;return n.permissionItem={...n.permissionItem,allow_duplicate:(i=n.permissionItem.allow_duplicate,s=r.permissionItem.allow_duplicate,void 0!==s?s:void 0===i||i),allow_search_engine_indexing:F(n.permissionItem.allow_search_engine_indexing,r.permissionItem.allow_search_engine_indexing),expiration_timestamp:(o=n.permissionItem.expiration_timestamp,a=r.permissionItem.expiration_timestamp,o&&a?Math.max(o,a):o||a),is_public_share_link:F(n.permissionItem.is_public_share_link,r.permissionItem.is_public_share_link),is_site:F(n.permissionItem.is_site,r.permissionItem.is_site)},n}({mostPermissivePermissionLoose:e,inheritedPermissionToCompare:t}):(0,S().Ny)(t.permissionItem)?{...e,from:t.from}:(0,S().T6)(t.permissionItem)?e:void(0,o().HB)(t.permissionItem)}),e[0])}function H(e,t=!1){const r=e.flatMap((e=>{const{permissions:t,from:r}=e;return t.map((e=>({from:r,permissionItem:e})))}));r.reverse();const o=n().$z(r,(e=>V(e.permissionItem))),a=n().LG(o,L),i=new Set,s=[];for(const n of r){const e=V(n.permissionItem);i.has(e)||(i.add(e),s.push(a[e]))}if(!t){const e=s.find((e=>(0,S().Ny)(e.permissionItem)));if(e)return[e]}return s}function G(e){return e.table===A().yK}function q({groupId:e,spaceRole:t,ancestorSpaceId:r,userActorMembership:n}){if(!r||!(0,h().MN)(t)||!n)return!1;const o=n.getGroupRole({groupId:e,spaceId:r});return(0,x().M)(o)}function j({from:e,ancestors:t,permissionItem:r,actorPointer:n,spaceRole:a,ancestorSpaceId:i,userActorMembership:l}){var c;if(e.table!==g().Vl||!e.collectionDirectChildId)return!1;const u=t.find((t=>{if(t.table!==m().ev)return!1;return t.id===e.collectionDirectChildId})),d=t.find((t=>t.table===g().Vl&&t.id===e.collectionId));if((null==u?void 0:u.table)!==m().ev||(null==d?void 0:d.table)!==g().Vl)return!1;const p=r.property_info.type;switch(p){case"page_creator":return u.created_by_id===n.id;case"person":const e=r.property_info.property_id,t=null===(c=d.getSchema())||void 0===c?void 0:c[e],m=u.getProperty(e),f=(0,s().e)({textValue:m,propertySchema:t,blockCreatorPointer:u.getCreatedByPointer()}),g=f.filter((e=>e.table!==b().n)),y=f.filter((e=>e.table===b().n)),_=g.some((e=>e.id===n.id)),v=y.some((e=>q({groupId:e.id,spaceRole:a,ancestorSpaceId:i,userActorMembership:l})));return _||v;default:(0,o().HB)(p)}}function $(e){const{actorPointer:t,userActorEmail:r,ancestors:n,permissionsContext:a}=e,i=n.at(0),s=u().b4_.fromRecordMap(a.ancestorsRecordMap);if(i&&(0,d().Ou)(i,s))return[];const c=(0,d().wR)(n);if(e.restrictOrphanedBlock&&!c)return[];const m=c||(n.length>0&&null!=i&&i.spaceId?a.ancestorsRecordMap.getModel({table:_().NX,id:null==i?void 0:i.spaceId}):void 0),g=(null==m?void 0:m.getSpaceId())??(null==i?void 0:i.spaceId),b=(null==t?void 0:t.table)===f().GP?t:void 0,A=n.find(G),x=null==A?void 0:A.pointer.id;if(b&&b.spaceId&&m&&g!==b.spaceId)return[];const T=M(n).map((e=>{const{permissions:r,from:i}=e,s=function(e){const{actorPointer:t,actorMemberships:r,ancestorSpaceId:n,ancestorTeamId:a,ancestors:i,from:s}=e;if(!t)return e=>!!(0,S().FP)(e);if(t.table===p().yj)throw new Error("Agents not yet supported in permissions");if(t.table===f().GP)return e=>!((0,S().B2)(e)||(0,S().Jx)(e)||(0,S().Ds)(e)||(0,S()._S)(e)||(0,S().ZK)(e)||(0,S().gl)(e)||(0,S().nl)(e)||(0,S().un)(e)||(0,S().cd)(e))&&(!(0,S().P3)(e)||e.bot_id===t.id);if(t.table===I().oo){const e=r.getActorMembership(t);return r=>{if((0,S().P3)(r))return!1;const o=n&&(null==e?void 0:e.getSpaceRole(n))||"none";if((0,S()._S)(r)){if(!a||!n||(0,h().$I)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:a,spaceId:n}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,S().ZK)(r)){if(!a||!n||(0,h().$I)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:a,spaceId:n}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,S().B2)(r)||(0,S().Jx)(r))return!(0,h().$I)(o)&&r.user_id===t.id;if((0,S().Ds)(r))return q({groupId:r.group_id,spaceRole:o,ancestorSpaceId:n,userActorMembership:e});if((0,S().gl)(r)){if(!n||!(0,h().MN)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,S().nl)(r)){if(!n||!(0,h().MN)(o))return!1;const t=(null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,S().un)(r)){if(!n)return!1;return"team_level_guest"===((null==e?void 0:e.getTeamRole({teamId:r.team_id,spaceId:n}))||"none")}return(0,S().cd)(r)?!!n&&(0,h().Jm)(o):!(0,S().tb)(r)||j({from:s,ancestors:i,permissionItem:r,actorPointer:t,spaceRole:o,ancestorSpaceId:n,userActorMembership:e})}}(0,o().HB)(t)}({actorPointer:t,actorMemberships:a.actorMemberships,ancestorSpaceId:g,ancestorTeamId:x,ancestors:n,from:i});return{from:i,permissions:r.filter(s)}})),w=H(T),B=!i||(0,d()._n)(i,s),C=n.some((e=>Boolean(e.table===y().$Y&&e.resolved))),P=Boolean(e.ignorePublicPermissions)||!B||Boolean(b);let N;var U;m&&(N=null===(U=a.domainLinkSharingEnabledDomainsMap)||void 0===U?void 0:U.get(m.id));const R=function(e){const{permissionsContext:t,trustedEmailDomainsForSpace:r,mostPermissivePermissions:n}=e;if(!t.trustedDomainPermissionRedesignEnabled||!r||0===r.length)return n;const o=n.find((e=>(0,S().Lg)(e.permissionItem)&&(0,S().Tt)(e.permissionItem.role))),a=n.filter((e=>!(0,S().sk)(e.permissionItem)));o&&a.push({from:o.from,permissionItem:{type:"trusted_domain_permission",role:"reader",source:"implicit_from_space_permission"}});return a}({permissionsContext:a,trustedEmailDomainsForSpace:N,mostPermissivePermissions:w}),D=Boolean(g&&t&&function(e,t,r){if(e.table!==I().oo)return!1;if(!r)return!1;if(!r.get(e.id))return!1;const n=r.get(e.id);return!(!n||0===n.size)&&n.has(t)}(t,g,a.userToRestrictedSpacesMap)),O=D?R.filter((({permissionItem:e})=>(0,S().FP)(e))):R,F=function(e){const{isAlive:t,hasResolvedDiscussion:r,ignorePublicPermissions:n,actorMemberships:a,actorPointer:i,ancestorTeamId:s,ancestorSpaceId:c,userActorEmail:u,trustedEmailDomainsForSpace:d,ancestors:m}=e;return e=>{const{permissionItem:g,from:y}=e;if(!(0,S().hI)(g))return!1;if((!t||r)&&(0,S().h9)(g.role)&&!(0,S().P3)(g))return!1;if(!n&&(0,S().FP)(g)&&!(0,S().OA)(g))return!0;if(void 0===i)return!1;if(i.table===p().yj)throw new Error("Agents not yet supported in permissions");if(i.table===f().GP){const e=a.getActorMembership(i);if((0,S().P3)(g)&&g.bot_id===i.id)return!0;if((0,S().Lg)(g)){if(!c)return!1;const t=null==e?void 0:e.getSpaceRole(c);return Boolean(t&&"none"!==(0,v().C6)(t))}return!1}if(i.table===I().oo){const e=a.getActorMembership(i),t=c&&(null==e?void 0:e.getSpaceRole(c))||"none";if(((0,S().B2)(g)||(0,S().Jx)(g))&&g.user_id===i.id)return!(0,h().$I)(t);if((0,S()._S)(g)){if(!s||!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:s,spaceId:c}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,S().ZK)(g)){if(!s||!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:s,spaceId:c}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,S().gl)(g)){if(!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:g.team_id,spaceId:c}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"member"})}if((0,S().nl)(g)){if(!c)return!1;const t=(null==e?void 0:e.getTeamRole({teamId:g.team_id,spaceId:c}))||"none";return(0,k().tQ)({givenTeamRole:t,comparisonTeamRole:"owner"})}if((0,S().un)(g)){if(!c)return!1;return"team_level_guest"===((null==e?void 0:e.getTeamRole({teamId:g.team_id,spaceId:c}))||"none")}if((0,S().Lg)(g)){if(!c)return!1;return function(e){return!!e&&("owner"===e||"membership_admin"===e||"member"===e||"restricted_member"!==e&&"page_guest"!==e&&"none"!==e&&(0,o().HB)(e))}(null==e?void 0:e.getSpaceRole(c))}if((0,S().cd)(g)){if(!c)return!1;const t=null==e?void 0:e.getSpaceRole(c);return Boolean(t&&(0,h().Jm)(t))}if((0,S().Ds)(g)){if(!c)return!1;const t=null==e?void 0:e.getGroupRole({groupId:g.group_id,spaceId:c});return Boolean(t&&"none"!==t)}if((0,S().sk)(g)){if(!d||0===d.length)return!1;const t=c?null==e?void 0:e.getSpaceRole(c):"none";return(0,h().MN)(t??"none")||function(e,t){return void 0!==t&&(0,l().Wy)(e,t)}(d,u)}return!!(0,S().tb)(g)&&j({from:y,ancestors:m,permissionItem:g,actorPointer:i,spaceRole:t,ancestorSpaceId:c,userActorMembership:e})}(0,o().HB)(i)}}({isAlive:B,hasResolvedDiscussion:C,ignorePublicPermissions:P,actorMemberships:a.actorMemberships,actorPointer:t,ancestorTeamId:x,ancestorSpaceId:g,userActorEmail:r,trustedEmailDomainsForSpace:N,ancestors:n});return O.filter(F).map((e=>{const{from:r,permissionItem:o}=e,[i,s]=n;return K({record:i,parent:s,from:r,permissionItem:o})?{...e,permissionItem:{...o,role:W({ancestors:n,from:r})}}:function(e){const{permissionItem:t,actorPointer:r,actorMemberships:n,ancestorSpaceId:o}=e;if(!o||!(0,S().Lg)(t))return!1;if((null==r?void 0:r.table)!==f().GP)return!1;if(!(0,S().Tt)(t.role))return!1;const a=n.getActorMembership(r),i=null==a?void 0:a.getSpaceRole(o);return"reader"===i}({permissionItem:o,actorPointer:t,actorMemberships:a.actorMemberships,ancestorSpaceId:g})?{...e,permissionItem:{...o,role:"reader"}}:e}))}function z(e,t){return!!t&&(e.table===m().ev?t.table===m().ev&&t.id===e.blockId:e.table===g().Vl?t.table===g().Vl&&t.id===e.collectionId:void(0,o().HB)(e))}function W(e){const{ancestors:t,from:r}=e;return function(e,t){if(t.table!==m().ev)return!1;const r=e.findIndex((e=>e.table===m().ev&&e.type===a().xd.page&&e.is_template));if(r<0)return!1;const n=e[r+2];if(!n)return!1;if(n.table!==m().ev)return!1;return n.isType(a().w8)&&n.id===t.blockId}(t,r)?"comment_only":"read_and_write"}function Z(e,t){return w(e,t)===e}function Q({teamValue:e,permissionRole:t}){const r=(0,k().ST)(e);if(!r)throw new(c().yI)("Couldn't find team's default permission");return w(t,r)===r&&t!==r}function K(e){const{record:t,parent:r,from:n,permissionItem:o}=e;return!!t&&(!(void 0===o.role||!(0,S().uQ)(o.role))&&(n.table!==m().ev&&n.table!==g().Vl||!z(n,t)&&(!z(n,r)||"block"===t.table)))}},274147:(e,t,r)=>{r.d(t,{A:()=>a,g:()=>o});var n=()=>r(933449);class o{constructor(e=0){this.value=e}get(){return this.value}set(e){this.value=e}}class a{constructor(e=0){this.valueHolder=void 0,this.valueHolder="number"==typeof e?new o(e):e,(0,n().MX)(this.valueHolder.get()>=0,"Clock value must be non-negative")}reserveTicks(e){(0,n().MX)(e>0,"Reserved ticks must be greater than 0");const t=this.valueHolder.get(),r=t+1;return this.valueHolder.set(t+e),r}maybeUpdateClock(e){return e>this.valueHolder.get()&&(this.valueHolder.set(e),!0)}getValue(){return this.valueHolder.get()}}},277816:(e,t,r)=>{r.d(t,{A:()=>o,h:()=>a});var n=()=>r(292588);const o="trusted_domain",a={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,email_domain:n().A.String,domain_link_sharing_enabled:n().A.Boolean,join_space_method:n().A.String,request_membership_customization_redirect_url:n().A.String,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},278132:(e,t,r)=>{r.d(t,{Nl:()=>a,PK:()=>o,VS:()=>n});const n=(0,r(69708).YK)({slackAutomationDefaultName:{id:"automationStore.slackAutomation.defaultName",defaultMessage:"{hasCreatorName, select, true {{creatorName}s notifications} other {Notifications}}"},automationDefaultName:{id:"automatonStore.automation.defaultName",defaultMessage:"{hasCreatorName, select, true {{creatorName}s automation} other {Automation}}"},automationPrivateName:{id:"automatonStore.automation.privateName",defaultMessage:"An automation"},automationDeletedName:{defaultMessage:"A deleted automation",id:"automationStore.automation.deletedName"},automationPossessiveContextValueProperty:{defaultMessage:"{contextValueName}s {propertyName}",id:"automations.possessiveContextValueProperty.title"}});function o(e,t){return e.formatMessage(n.automationDefaultName,{hasCreatorName:Boolean(t),creatorName:t})}function a(e,t,r){return e.formatMessage(n.automationPossessiveContextValueProperty,{contextValueName:t,propertyName:r})}},278238:(e,t,r)=>{r.d(t,{DV:()=>l,Sp:()=>m,T8:()=>s,VA:()=>u,_O:()=>c,eR:()=>f,ez:()=>d,jd:()=>_,l8:()=>y,u9:()=>p,v3:()=>g});r(898992),r(672577);var n=()=>r(512062),o=()=>r(382041);const a=/^(?:https:\/\/(?:www\.)?notion\.so\/icons\/|notion\.so\/icons\/|\/?icons\/)([^\/]+)$/,i=/^([a-z1-9\-]+)_?([a-z]*)\.svg$/;function s(e){return e.startsWith("/icons/")}function l(e){const t=e.match(a),[,r]=t??[],n=null==r?void 0:r.match(i),[,o,s]=n??[];if(o){return{iconName:o,color:g.find((e=>e===s))}}}function c(e){return e.startsWith("/images/app-packages/")}function u(e){const t=m(e);return g.find((e=>e===t))??"gray"}function d({icon:e,mode:t,useLightGrayColor:r}){return p({color:u(e),useLightGrayColor:r,mode:t})}function p(e){const{color:t,useLightGrayColor:r,mode:a}=e,i="lightgray"===t?"gray":t;return r&&"gray"===t?"light"===a?"rgba(55,53,47,.06)":n().M.dark.translucentGray[200]:o().I[i][a].background.secondaryTranslucent}function m(e){const t=e.split(/[/_.]/)[3];return g.find((e=>e===t))}function f(e,t){const r=u(e),o="lightgray"===r?"gray":r;return n().M[t][o][200]}const g=["gray","lightgray","brown","yellow","orange","green","blue","purple","pink","red"],y={dark:{blue:"#2E7CD1",brown:"#AA755F",gray:"#D3D3D3",green:"#2D9964",lightgray:"#7F7F7F",orange:"#D87620",pink:"#C94079",purple:"#8D5BC1",red:"#CD4945",yellow:"#CA8E1B"},light:{blue:"#337ea9",brown:"#9F6B53",gray:"#55534E",green:"#448361",lightgray:"#A6A299",orange:"#d9730d",pink:"#C14C8A",purple:"#9065B0",red:"#D44C47",yellow:"#CB912F"}},_=(0,r(69708).YK)({blue:{defaultMessage:"Blue",id:"iconPickerColorPicker.color.blue"},brown:{defaultMessage:"Brown",id:"iconPickerColorPicker.color.brown"},lightgray:{defaultMessage:"Light Gray",id:"iconPickerColorPicker.color.lightgray"},green:{defaultMessage:"Green",id:"iconPickerColorPicker.color.green"},gray:{defaultMessage:"Default",id:"iconPickerColorPicker.color.default"},orange:{defaultMessage:"Orange",id:"iconPickerColorPicker.color.orange"},pink:{defaultMessage:"Pink",id:"iconPickerColorPicker.color.pink"},purple:{defaultMessage:"Purple",id:"iconPickerColorPicker.color.purple"},red:{defaultMessage:"Red",id:"iconPickerColorPicker.color.red"},yellow:{defaultMessage:"Yellow",id:"iconPickerColorPicker.color.yellow"}})},285179:(e,t,r)=>{r.d(t,{Cx:()=>n,hQ:()=>o});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(803949);function n(e){const t={};return e.forEach((e=>t[e]=!0)),t}const o=750},287772:(e,t,r)=>{r.d(t,{A:()=>a,u:()=>o});var n=()=>r(292588);const o="marketplace_badge_assignment",a={table:o,columnTypes:{id:n().A.UUID,badge_id:n().A.UUID,assignee_table:n().A.String,assignee_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number},requiredColumns:{id:!0,badge_id:!0,assignee_table:!0,assignee_id:!0,version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},294712:(e,t,r)=>{r.d(t,{Ay:()=>a,GD:()=>o});var n=()=>r(292588);const o="user_root",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_views:n().A.StringArray,space_view_pointers:n().A.JSON,left_spaces:n().A.StringArray,deleted_email:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{space_views:{getMethod:!1},space_view_pointers:{getMethod:!1}}})}},295043:(e,t,r)=>{r.d(t,{Ay:()=>i,Xw:()=>a,gj:()=>o});var n=()=>r(292588);const o={block:!0,collection:!0},a="snapshot";const i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,collection_ids:n().A.UUIDArray,inline_collection_block_ids:n().A.UUIDArray,timestamp:n().A.String,authors:n().A.JSON,space_id:n().A.UUID,key_schema_version:n().A.String},model:(0,r(152853).P)({})}},296344:(e,t,r)=>{r.d(t,{Ay:()=>l,Dv:()=>o,HH:()=>s,O:()=>a,z:()=>i});r(18107),r(967357);var n=()=>r(292588);const o={block:!0,space:!0,team:!0},a="access_request";function i(e){return Boolean(e.granted_by_table)}function s(e){var t,r,n;return Boolean("page_access_request"===e.type&&"read_and_write"===(null===(t=e.attributes)||void 0===t||null===(t=t.permission_records_and_roles)||void 0===t||null===(t=t.at(0))||void 0===t?void 0:t.role)&&("reader"===(null===(r=e.attributes)||void 0===r?void 0:r.existing_permissions)||"comment_only"===(null===(n=e.attributes)||void 0===n?void 0:n.existing_permissions)))}const l={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,for_actor_table:n().A.String,for_actor_id:n().A.UUID,granted_time:n().A.Number,granted_by_table:n().A.String,granted_by_id:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,resolved_time:n().A.Number,resolved_by_table:n().A.String,resolved_by_id:n().A.UUID,message:n().A.String,status:n().A.String,attributes:n().A.JSON,type:n().A.String},model:(0,r(152853).P)({RecordStore:!0,properties:{resolved_by_id:{getRelationalPointerMethod:!1},for_actor_id:{getRelationalPointerMethod:!1},granted_by_id:{getRelationalPointerMethod:!1},created_by_id:{getRelationalPointerMethod:!1}}})}},296749:(e,t,r)=>{r.d(t,{A:()=>a,j:()=>o});var n=()=>r(292588);const o="free_chart",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,free_chart_view_ids:n().A.UUIDArray},requiredColumns:{id:!0,version:!0,space_id:!0,free_chart_view_ids:!0},model:(0,r(152853).P)({RecordStore:!0})}},296900:(e,t,r)=>{r.d(t,{$I:()=>f,Ay:()=>y,C6:()=>d,Jm:()=>m,YS:()=>c,bx:()=>l,gZ:()=>u,jW:()=>s,m3:()=>g,rf:()=>p});var n=()=>r(498212),o=()=>r(534177),a=()=>r(416845),i=()=>r(292588);function s(e){return e.table===g&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}function l(e){const t=e.split("|"),[r,o]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)))throw new(a().yI)("invalid SpaceBotId",{data:{id:e}});return{botId:r,spaceId:o}}function c(e){const{botId:t,spaceId:r}=e;return`${t}|${r}`}function u(e){const{botId:t,spaceId:r}=e;return{id:c({botId:t,spaceId:r}),table:g,spaceId:r}}function d(e){return"bot_owner"===e?"editor":"none"===e?"none":"reader"===e?"reader":void(0,o().HB)(e)}function p(e){return d(e)}function m(e){return"bot_owner"===e}function f(e){return"none"===e}const g="space_bot",y={table:g,columnTypes:{id:i().A.String,bot_id:i().A.String,space_id:i().A.String,membership_type:i().A.String,bot_parent_table:i().A.String,bot_parent_id:i().A.UUID,version:i().A.Number,last_version:i().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},299816:(e,t,r)=>{r.d(t,{A:()=>a,y:()=>o});var n=()=>r(292588);const o="ai_waitlist",a={table:o,columnTypes:{id:n().A.UUID,created_at:n().A.UUID,updated_at:n().A.UUID,user_id:n().A.UUID,referring_id:n().A.UUID,enrolled:n().A.Boolean,email:n().A.String,position:n().A.Number,version:n().A.Number,invite_code:n().A.String,space_id:n().A.String,qna_priority:n().A.Boolean},model:(0,r(152853).P)({RecordStore:!0})}},299919:(e,t,r)=>{r.d(t,{Y:()=>n});class n extends WeakMap{constructor(e,t){t?(super(t),this.defaultFactory=void 0):(super(),this.defaultFactory=void 0),this.defaultFactory=e}get(e){if(!super.has(e)){const t=this.defaultFactory(e);super.set(e,t)}return super.get(e)}}},302107:(e,t,r)=>{r.d(t,{DZ:()=>n,dR:()=>a,mf:()=>i,o7:()=>s,sq:()=>o});r(898992),r(672577),r(737550);const n=(0,r(69708).YK)({changePropertyTypeWarningMessage:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.message",defaultMessage:"Changing this property type will break its associated permission rule"},changePropertyTypeWarningDescription:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.description",defaultMessage:"Users who had access through this rule will lose access. To restore access, change the property type back to Person."},changePropertyTypeWarningButtonLabel:{id:"collectionPropertyPermissionHelpers.changePropertyType.warningModal.changeButton.label",defaultMessage:"Change"},deletePropertyTypeWarningMessage:{id:"collectionPropertyPermissionHelpers.deletePersonProperty.modal.warning",defaultMessage:"Deleting this property will break its associated permission rule"},deletePropertyTypeWarningDescription:{id:"collectionPropertyPermissionHelpers.deletePersonProperty.modal.description",defaultMessage:"Users who had access through this rule will lose access. To restore access, recover the property from Deleted Properties."},defaultCreatedByRuleDisplayName:{id:"collectionPropertyPermissionHelpers.createdByRule.displayName",defaultMessage:"Created by"},defaultUntitledPropertyDisplayName:{defaultMessage:"Untitled property",id:"propertyPermissions.untitledProperty.label"}});function o({collectionSchema:e,permissionItem:t}){if("person"!==t.property_info.type)return!0;const r=t.property_info.property_id,n=null==e?void 0:e[r];return Boolean(n&&"person"===n.type)}function a({propertyId:e,propertyType:t,permissionItems:r}){return"person"===t&&r.some((r=>{if("collection_property_permission"!==r.type)return!1;const{property_info:n}=r;return"person"===t&&"person"===n.type&&n.property_id===e}))}function i(e){const{intl:t,collectionSchema:r}=e,o=Object.values(r).find((e=>"created_by"===(null==e?void 0:e.type)));return o&&o.name?o.name:t.formatMessage(n.defaultCreatedByRuleDisplayName)}function s(e){const{collectionSchema:t,permissionItem:r}=e;if("person"===r.property_info.type){const e=t[r.property_info.property_id];return e?"person"!==e.type?"incorrect_property_type":void 0:"property_not_found"}}},302322:(e,t,r)=>{r.d(t,{M:()=>a});var n=()=>r(72135),o=()=>r(201980);function a(e){const t=o().k4p(e);return n().$J(t)}},305785:(e,t,r)=>{r.d(t,{s:()=>i});var n=()=>r(498212),o=()=>r(584262),a=()=>r(530199);function i(e){const t={},{pageVisitSource:r,queryId:i,analyticsNotificationId:s,chatThreadId:l}=e;if(r){const[e,n]=(0,o().DU)(r);t[e]=n}return i&&(t[o().CW]=i),s&&(t[o().rh]=(0,n().S2)(s)),l&&(t[a().P5]=(0,n().S2)(l)),t}},309956:(e,t,r)=>{r.d(t,{K:()=>o});var n=()=>r(496603);function o(e){return{...n().mg({...e,crdt_data:void 0}),crdt_data:e.crdt_data?JSON.parse(JSON.stringify(e.crdt_data)):void 0}}},310442:(e,t,r)=>{r.d(t,{Ay:()=>i,tL:()=>o,yj:()=>a});var n=()=>r(292588);const o={block:!0},a="agent",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,instruction_block_id:n().A.UUID,resources:n().A.JSON,properties:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0,interfaces:{ActorModelInterface:"@notionhq/shared/models/ActorModelInterface"}})}},315771:(e,t,r)=>{r.d(t,{H:()=>o,p:()=>n});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);function n(e,t){const r=new Set(e),n=new Set,o=new Array,a=new Array;for(const i of t)n.add(i),r.has(i)||a.push(i);for(const i of e)n.has(i)||o.push(i);return{created:a,deleted:o}}function o(e,t,r){const n=new Map,o=new Map,a=new Array,i=new Array;for(const s of e)n.set(r(s),s);for(const s of t){const e=r(s);o.set(e,s),n.has(e)||i.push(e)}for(const s of e){const e=r(s);o.has(e)||a.push(e)}return{created:i.map((e=>{const t=o.get(e);if(!t)throw new Error("After map did not contain value.");return t})),deleted:a.map((e=>{const t=n.get(e);if(!t)throw new Error("Before map did not contain value.");return t}))}}},316065:(e,t,r)=>{r.d(t,{DG:()=>a});const n="-deleted@notion.so",o="-deleted@makenotion.com";function a(e){return e.endsWith(n)||e.endsWith(o)}},317727:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>a});var n=()=>r(292588);const o="cookie_consent",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,consent_id:n().A.UUID,update_time:n().A.Number,permission:n().A.JSON,document_version:n().A.String}}},319954:(e,t,r)=>{r.d(t,{r:()=>a});r(944114),r(898992),r(581454),r(941795);var n=()=>r(269288),o=()=>r(681373);class a{constructor(){this.unique=new Map,this.multi=new(r(99895).G)((()=>new(r(400017).A)))}static fromArray(e){const t=new this;for(const r of e)(0,o().ER)(r)?t.add(r):(0,o()._X)(r)!==o().BQ.Highlight&&(0,o()._X)(r)!==o().BQ.TemporaryHighlight&&t.unique.has((0,o().Au)(r))||t.add(r);return t}static normalize(e){return this.fromArray(e).toArray()}static compareByGroupingKey([e,t],[r,n]){return e===r?0:e<r?-1:1}*[Symbol.iterator](){for(const e of this.getUniqueAnnotations())yield e;for(const[,e]of this.getMultiInstanceAnnotations())for(const t of e)yield t}toArray(){return Array(...this)}findFirstOfGroupingKey(e){return this.findByGroupingKey(e)[0]}findByGroupingKey(e){if(this.multi.has(e))return this.multi.get(e).valuesArray();const t=this.unique.get(e);return t?[t]:[]}find(e){const t=[];for(const r of this)e(r)&&t.push(r);return t}add(e){if((0,o().ER)(e)){const t=(0,o().Au)(e);this.multi.get(t).add(e)}else{const t=(0,o().Au)(e);this.unique.set(t,e)}}removeGroupingKey(e){if(this.multi.has(e)){const t=this.multi.get(e).size;return this.multi.delete(e),t>0}return!!this.unique.has(e)&&this.unique.delete(e)}remove(e){if((0,o().ER)(e)){const t=(0,o().Au)(e),r=this.multi.get(t);let a=0;for(const o of r)(0,n().y)(o,e)&&(r.delete(o),a++);return a>0}{const t=(0,o().Au)(e),r=this.unique.get(t);return!(void 0===r||!(0,n().y)(r,e))&&this.unique.delete(t)}}getUniqueAnnotations(){return[...this.unique.entries()].sort(a.compareByGroupingKey).map((([,e])=>e))}getMultiInstanceAnnotations(){return new Map([...this.multi.entries()].sort(a.compareByGroupingKey).map((([e,t])=>[e,[...t]])))}}},324694:(e,t,r)=>{r.d(t,{A:()=>a,y:()=>o});var n=()=>r(292588);const o="synthetic_trial",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,start_date:n().A.Number,end_date:n().A.Number,converted_date:n().A.Number,canceled_date:n().A.Number,offer_campaign:n().A.String,auto_convert:n().A.Boolean,items:n().A.JSON},requiredColumns:{space_id:!0,start_date:!0,end_date:!0,auto_convert:!0,items:!0},model:(0,r(152853).P)({RecordStore:!0})}},326215:(e,t,r)=>{r.d(t,{$2:()=>o,Ap:()=>y,Ay:()=>a,C5:()=>u,DS:()=>_,iV:()=>l,nC:()=>m,nb:()=>i,qC:()=>g,tX:()=>s,xB:()=>p,xd:()=>f});var n=()=>r(292588);const o="customer",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,customer_id:n().A.String,offers:n().A.JSON,sales_assisted_plan:n().A.String}},i=["free","personal_free","team_free","student","personal","plus","business","enterprise"],s=["personal","plus","business","enterprise"],l=["ambassador_plus_free","ambassador_plus_free_yearly","ambassador_business_free","ambassador_business_free_yearly","ambassador_enterprise_free","ambassador_enterprise_free_yearly","nonprofit_free","nonprofit_free_yearly","student_free","student_free_yearly","student_free_eur","student_free_yearly_eur","student_free_gbp","student_free_yearly_gbp","student_free_jpy","student_free_yearly_jpy","student_free_krw","student_free_yearly_krw","student_club_monthly","student_club_yearly"],c=["enterprise_trial","enterprise_trial_eur","enterprise_trial_gbp","enterprise_trial_jpy","enterprise_trial_krw","business_trial","business_trial_eur","business_trial_gbp","business_trial_jpy","business_trial_krw","plus_trial_eur","plus_trial_gbp","plus_trial_jpy","plus_trial_krw","enterprise_free","enterprise_sales_assisted_eur","enterprise_sales_assisted_gbp","enterprise_sales_assisted_jpy","enterprise_sales_assisted_krw","business_sales_assisted","business_sales_assisted_eur","business_sales_assisted_gbp","business_sales_assisted_jpy","business_sales_assisted_krw","plus_sales_assisted","plus_sales_assisted_eur","plus_sales_assisted_gbp","plus_sales_assisted_jpy","plus_sales_assisted_krw"],u=["bundled_ai_business_sales_assisted","bundled_ai_enterprise_sales_assisted"],d=["enterprise_monthly_18","enterprise_monthly_180","enterprise_monthly_eur_17","enterprise_yearly_eur_168","enterprise_monthly_gbp_15","enterprise_yearly_gbp_150","enterprise_monthly_jpy_3000","enterprise_yearly_jpy_30000","enterprise_monthly_krw_25200","enterprise_yearly_krw_252000","enterprise_monthly_10","enterprise_yearly_96","enterprise_monthly_eur_9_50","enterprise_yearly_eur_90","enterprise_monthly_gbp_8_50","enterprise_yearly_gbp_84","enterprise_monthly_jpy_2000","enterprise_yearly_jpy_19800","enterprise_monthly_krw_16800","enterprise_yearly_krw_168000","enterprise_monthly_8","enterprise_monthly_12","enterprise_monthly_14","enterprise_monthly_16","enterprise_monthly_20","enterprise_yearly_80","enterprise_yearly_120","enterprise_yearly_144","enterprise_yearly_168","enterprise_yearly_192","enterprise_yearly_216"],p=[...c,...d,...u],m=["employee_plus_free"],f=[...l,...c,"employee_plus_free","marketing_team_free","marketing_business_free","marketing_enterprise_free","personal_free","team_free"],g=["marketing_business_free","marketing_enterprise_free","ambassador_business_free","ambassador_business_free_yearly","ambassador_enterprise_free","ambassador_enterprise_free_yearly"],y=["personal_monthly_5","personal_yearly_48","team_monthly_10","team_yearly_96","plus_monthly_usd_202407","plus_yearly_usd_202407","business_monthly_usd_202505","business_yearly_usd_202505","business_monthly","business_yearly","enterprise_monthly_usd_202505","enterprise_yearly_usd_202505","enterprise_monthly_25","enterprise_yearly_240","plus_monthly_eur","plus_yearly_eur","plus_monthly_eur_202407","plus_yearly_eur_202407","business_monthly_eur_202505","business_yearly_eur_202505","business_monthly_eur","business_yearly_eur","enterprise_monthly_eur","enterprise_yearly_eur","enterprise_monthly_eur_202505","enterprise_yearly_eur_202505","plus_monthly_gbp","plus_yearly_gbp","plus_monthly_gbp_202407","plus_yearly_gbp_202407","business_monthly_gbp_202505","business_yearly_gbp_202505","business_monthly_gbp","business_yearly_gbp","enterprise_monthly_gbp","enterprise_yearly_gbp","enterprise_monthly_gbp_202505","enterprise_yearly_gbp_202505","plus_monthly_jpy","plus_yearly_jpy","plus_monthly_jpy_202407","plus_yearly_jpy_202407","business_monthly_jpy_202505","business_yearly_jpy_202505","business_monthly_jpy","business_yearly_jpy","enterprise_monthly_jpy","enterprise_yearly_jpy","enterprise_monthly_jpy_202505","enterprise_yearly_jpy_202505","plus_monthly_krw","plus_yearly_krw_202407","business_monthly_krw_202505","business_yearly_krw_202505","business_monthly_krw","business_yearly_krw","enterprise_monthly_krw","enterprise_yearly_krw","enterprise_monthly_krw_202505","enterprise_yearly_krw_202505",...f,...d,...u,"legacy_enterprise_monthly_8","legacy_enterprise_monthly_10","legacy_enterprise_monthly_18","legacy_enterprise_monthly_20","legacy_enterprise_yearly_96","legacy_enterprise_yearly_168","legacy_enterprise_yearly_180","legacy_enterprise_yearly_216","personal_monthly_0.50","personal_monthly_1.50","personal_monthly_2.50","personal_monthly_3.50","team_monthly_0.10","team_monthly_0.50","team_monthly_0.80","team_monthly_0.90","team_monthly_1","team_monthly_1.20","team_monthly_1.50","team_monthly_2","team_monthly_2.40","team_monthly_2.50","team_monthly_3","team_monthly_3.20","team_monthly_3.50","team_monthly_4","team_monthly_4.50","team_monthly_5","team_monthly_5.60","team_monthly_6","team_monthly_7","team_monthly_8","personal_yearly_4.80","personal_yearly_14.40","personal_yearly_24","personal_yearly_33.60","team_yearly_1","team_yearly_5","team_yearly_8","team_yearly_9","team_yearly_9.60","team_yearly_12","team_yearly_15","team_yearly_20","team_yearly_24","team_yearly_25","team_yearly_28.80","team_yearly_32","team_yearly_35","team_yearly_40","team_yearly_45","team_yearly_48","team_yearly_56","team_yearly_60","team_yearly_67.20","team_yearly_80"];(0,r(496603).Lc)(y,[...m,...g]);function _(e){return y.includes(e)}},326399:(e,t,r)=>{r.d(t,{Ay:()=>c,DP:()=>i,XB:()=>a,XH:()=>l,iI:()=>s});var n=()=>r(534177),o=()=>r(292588);function a(e,t){switch(e){case"unrestricted":return t.formatMessage({id:"emailDomain.workspaceCreationSetting.auditLog.unrestricted",defaultMessage:"Unrestricted"});case"admins_only":return t.formatMessage({id:"emailDomain.workspaceCreationSetting.auditLog.workspaceOwnersOnly",defaultMessage:"Workspace Owners Only"});default:(0,n().HB)(e)}}const i="180_day",s={"1_hour":36e5,"2_hour":72e5,"4_hour":144e5,"8_hour":288e5,"12_hour":432e5,"1_day":864e5,"2_day":1728e5,"3_day":2592e5,"4_day":3456e5,"7_day":6048e5,"14_day":12096e5,"21_day":18144e5,"30_day":2592e6,"60_day":5184e6,"90_day":7776e6,"180_day":15552e6},l="email_domain",c={table:l,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,created_time:o().A.Number,created_by_table:o().A.String,created_by_id:o().A.UUID,last_edited_time:o().A.Number,last_edited_by_table:o().A.String,last_edited_by_id:o().A.UUID,domain:o().A.String,space_ids:o().A.UUIDArray,workspace_creation_enum:o().A.String,settings:o().A.JSON},model:(0,r(152853).P)({properties:{created_by_id:{getRelationalPointerMethod:!1},last_edited_by_id:{getRelationalPointerMethod:!1}}})}},329199:(e,t,r)=>{r.d(t,{Fg:()=>q,M:()=>V,Mo:()=>E,NM:()=>K,P1:()=>J,Pt:()=>j,SK:()=>re,TV:()=>te,Tl:()=>Z,UC:()=>F,V0:()=>Y,VI:()=>ae,Xz:()=>W,cu:()=>oe,g4:()=>ne,hs:()=>ee,p7:()=>L,pu:()=>Q,t2:()=>X,uX:()=>G,zl:()=>P});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(354520),r(672577),r(581454),r(908872),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(638681),i=()=>r(489242),s=()=>r(700500),l=()=>r(622317),c=()=>r(754195),u=()=>r(862e3),d=()=>r(67657),p=()=>r(214388),m=()=>r(748580),f=()=>r(713998),g=()=>r(381891),y=()=>r(455348),_=()=>r(737658),v=()=>r(651124),b=()=>r(236162),h=()=>r(390066),A=()=>r(416845),I=()=>r(792071),k=()=>r(142748),x=()=>r(68263),S=()=>r(450648),T=()=>r(179034),M=()=>r(798880),w=()=>r(201980);const B={required:{userTimeZone:a().undefinable(a().string()),searchQuery:a().undefinable(a().string())},optional:{sort:a().any(),filter:a().any(),reducers:a().any(),upwardTraversalRelation:a().any(),userId:a().string(),reducerDependencies:a().record(a().string(),a().array(a().string())),propertyAggregations:a().array(a().any()),maxPreloadedRecords:a().number(),currentPageInRelatedCollection:a().string()}};a().object({...B});class C{constructor(){this.filterStats=void 0,this.trackingOptimizer=void 0,this.cachedFilters=void 0,this.filterStats=[],this.trackingOptimizer=e=>{var t;const r={fail:0,pass:0,evalTime:0,filter:e.basicFilter,property:e.property,type:null===(t=e.schema[e.property])||void 0===t?void 0:t.type};return this.filterStats.push(r),t=>{const n=Date.now(),o=e.compiledFilter(t);return r.evalTime+=Date.now()-n,o?r.pass+=1:r.fail+=1,o}},this.cachedFilters=new WeakMap}compile(e){const{context:t,filter:r,propertyMapping:n}=e;if(!r)return;const o=this.memoizedCompile(r,t),a=n?e=>o({...e,propertyMapping:n}):o;return a}memoizedCompile(e,t){var r,n;const o=null===(r=this.cachedFilters.get(t.schema))||void 0===r?void 0:r.get(e);if(void 0!==o)return o;const a={...t,optimizer:this.trackingOptimizer},i=(0,p().oR)({context:a,propertyMapping:void 0,filter:e});return this.cachedFilters.has(t.schema)||this.cachedFilters.set(t.schema,new WeakMap),null===(n=this.cachedFilters.get(t.schema))||void 0===n||n.set(e,i),i}}function P(e){const{schema:t,loader:r,getRecordModel:o,getRecordRole:a,pageSort:i,apiSorts:s,intl:l,isSorted:c,relativeVariableResult:u,source:d}=e,p={};n().jJ(r.reducers||{},((n,m)=>{p[m]=(0,g().Pn)({reducerId:m,schema:t,loader:r,reducer:n,pageSort:i,getRecordModel:o,getRecordRole:a,apiSorts:s,intl:l,isSorted:c,relativeVariableResult:u,formulasModule:e.formulasModule,source:d,spaceIdCreator:e.spaceIdCreator})}));return{reducerStates:p,completedReducers:{},filterCompiler:new C,upwardTraversalVisitedIds:new Set,vectorSearchScores:{},allBlockIds:void 0}}const N={incremented:!1,completedReducers:{},isSubitemWithDeadTopLevelBlock:!1};function U(e){const{collection:t,block:r,getRecordModel:n,sourceType:o}=e;if(!R(r))return!1;const a=function(e){const t=(0,i().gu)(e),r=e.created_time,n=e.last_edited_time;return!(n>r)&&t}(r);if("typed"===o&&a)return!1;const s=(0,b().yR)({getRecordModel:n,block:r});return t.id===(null==s?void 0:s.id)}function R(e){return e.alive&&!e.is_template&&e.type!==s().xd.copyIndicator&&!e.isDeletedFromTrash()}function D(e){const{originalBlock:t,currentBlock:r,propertySchema:n,getRecordModel:o,getRecordRole:a,visitedIds:i,currentTraversalVisitedIds:s,source:l,traversalPath:c=[],log:u,isSubitemsRestrictedRelationsEnabled:d,upwardTraversalRestrictedRelationMap:p,hasRestrictedRelationInUpwardTraversal:m=!1,shouldUseOldestBlockAsCycleRepresentative:g=!1}=e,y=a(r.pointer);let _=!0===m||Boolean(y&&!(0,x().Tt)(y));if(i.has(r.id))return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set};i.add(r.id);const{rawRelatedPointers:v,normalizedRelatedPages:b}=(0,f().O4)({block:r,propertySchema:n,getRecordModel:o});if(0===b.length){if(!d)return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set([r.id])};if(v.length>0){if(p){const e=p[t.id];if(e&&e.length>0)return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set(e)}}return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set}}return y&&(0,x().Tt)(y)?{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set([r.id])}:{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set}}const h=b.filter((e=>s.has(e.id))).map((e=>e.id));if(h.length>0){var A;const e=[...c,r.id],t=e.findIndex((e=>h.includes(e))),n=e.slice(t),a=[...n.length>10?[...n.slice(0,5),"...",...n.slice(-5)]:n];if(null==u||u({level:"warning",from:"collectionQueryHelpers.getTopLevelBlocks",type:"cycleDetectedInUpwardTraversalRelation",data:{miscDataToConvertToString:{truncatedCycleBlockIds:a,cycleLength:n.length,spaceId:r.space_id,collectionSource:l}}}),!g)return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set([r.id])};const i=(null===(A=n.reduce(((e,t)=>{const n=o({table:T().ev,id:t,spaceId:r.space_id});return n&&(!e||n.created_time<e.created_time)?n:e}),void 0))||void 0===A?void 0:A.id)??r.id;return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:new Set([i])}}const I=new Set;for(const f of b){s.add(f.id);const{topLevelBlockIds:r,hasRestrictedRelationInUpwardTraversal:m}=D({originalBlock:t,currentBlock:f,isSubitemsRestrictedRelationsEnabled:d,propertySchema:n,getRecordModel:o,getRecordRole:a,visitedIds:i,currentTraversalVisitedIds:s,source:l,traversalPath:[...c,e.currentBlock.id],log:u,upwardTraversalRestrictedRelationMap:p,hasRestrictedRelationInUpwardTraversal:_,shouldUseOldestBlockAsCycleRepresentative:g});s.delete(f.id);for(const e of r){const r=o({id:e,table:T().ev,spaceId:t.space_id});r&&R(r)&&I.add(e)}_=m}return{hasRestrictedRelationInUpwardTraversal:_,topLevelBlockIds:I}}function O(e){const{topLevelBlocksFromSqlite:t,loader:r,queryArgs:n,state:o,block:a,getRecordModel:i,getRecordRole:s,source:l,log:c}=e;return t?{topLevelBlockIds:t,hasRestrictedRelationInUpwardTraversal:!0}:r.upwardTraversalRelation?D({originalBlock:a,currentBlock:a,isSubitemsRestrictedRelationsEnabled:n.collectionFeatureGates.collection_subitems_restricted_relations,propertySchema:r.upwardTraversalRelation,getRecordModel:i,getRecordRole:s,visitedIds:o.upwardTraversalVisitedIds,currentTraversalVisitedIds:new Set([a.id]),traversalPath:[],source:l,log:c,upwardTraversalRestrictedRelationMap:r.upwardTraversalRestrictedRelationMap,shouldUseOldestBlockAsCycleRepresentative:n.collectionFeatureGates.collection_use_oldest_block_as_cycle_representative}):{topLevelBlockIds:new Set([a.id]),hasRestrictedRelationInUpwardTraversal:!1}}function F(e,t,r,n,o,a){var i;const{visibleProperties:s,loader:l,userId:c,getRecordModel:u,getRecordRole:d,intl:p,schema:m,relativeVariableResult:f,currentPageInRelatedCollection:v,groupsReducerIds:b,reducerIdsWithNoGroupDependencies:h,source:S,resultCache:M,regExpCache:w,formatDateCache:B,userStartOfWeek:C,collectionFeatureGates:P}=r,R=I().Bj6.fromBlock(e),D=I().Bj6.fromCollection(t),F=P.collection_subitems_restricted_relations,E=d(R.pointer);if(F&&E&&!(0,x().Tt)(E))return N;if(!(0,_().hy)(S.type)&&!(0,_().Bb)(S.type)){if(!U({collection:D,getRecordModel:u,block:R,sourceType:S.type}))return N}if(!l.reducers)return N;const V={},L=D.getNormalizedSchema(),H=null===(i=D.getFormat())||void 0===i?void 0:i.app_uri_map,G={schema:m,intl:p,userId:c,userTimeZone:l.userTimeZone,userStartOfWeek:C,relativeVariableResult:f,currentPageInRelatedCollection:v,collectionFeatureGates:P,upwardTraversalRelation:l.upwardTraversalRelation},q=n.filterCompiler.compile({filter:l.filter,context:G,propertyMapping:H});if(!(!q||q({block:I().Bj6.fromBlock(R),getRecordModel:u,propertyMapping:H,formulaTimeoutTimestampMs:r.formulaTimeoutMs&&Date.now()+r.formulaTimeoutMs,logFormulaTimeoutFn:r.logFormulaTimeoutFn,resultCache:M,regExpCache:w,formatDateCache:B,experimentService:r.experimentService,formulasModule:r.formulasModule,spaceIdCreator:r.spaceIdCreator})))return N;if(l.searchQuery&&!j({block:R,query:l.searchQuery,getRecordModel:u,userTimeZone:l.userTimeZone,schema:L,intl:p,onlyPropertyIds:s?y().u9.fromViewPropertyIds(s,H):void 0}))return N;const{topLevelBlockIds:$,hasRestrictedRelationInUpwardTraversal:z}=O({topLevelBlocksFromSqlite:a,loader:l,queryArgs:r,state:n,block:R,getRecordModel:u,getRecordRole:d,source:S,log:e=>{var t,r;if(void 0===o)return;const n="object"==typeof(null===(t=e.data)||void 0===t?void 0:t.miscDataToConvertToString)?null===(r=e.data)||void 0===r?void 0:r.miscDataToConvertToString:{};o({...e,data:{...e.data,miscDataToConvertToString:{...n,collectionId:D.id,userId:c||"unknown"}}})}}),W=new Set;for(const g of $){const e=u({id:g,table:T().ev,spaceId:R.space_id});e&&W.add(e)}!l.upwardTraversalRestrictedRelationMap&&l.upwardTraversalRelation&&z&&W.size>0&&r.collectionFeatureGates.collection_subitems_restricted_relations&&(n.upwardTraversalRestrictedRelationMap||(n.upwardTraversalRestrictedRelationMap={}),n.upwardTraversalRestrictedRelationMap[R.id]=Array.from($.values()));let Z=!1;if(l.upwardTraversalRelation)for(const g of W){if(g.id===R.id)continue;if(!(0,k()._n)(g.pointer,u)){Z=!0;break}}const Q=l.reducerDependencies??{};for(const y of W){const e=[];for(const a of b??[]){const t=l.reducers[a],o=n.reducerStates[a];if((0,g().MG)({intl:r.intl,reducer:t,reducerId:a,state:o,schema:m,block:y,collection:D,getRecordModel:u,getRecordRole:d,userTimeZone:l.userTimeZone,userId:c,visibleProperties:s,propertyMapping:H,relativeVariableResult:f,formulaTimeoutMs:r.formulaTimeoutMs,logFormulaTimeoutFn:r.logFormulaTimeoutFn,logFormulaStatsFn:r.logFormulaStatsFn,resultCache:M,regExpCache:w,formatDateCache:B,experimentService:r.experimentService,collectionFeatureGates:r.collectionFeatureGates,formulasModule:r.formulasModule,source:S,spaceIdCreator:r.spaceIdCreator,propertyAggregations:l.propertyAggregations}),"groups"!==o.type)throw new(A().Um)("Expected GroupsReducer to be of type 'groups'");e.push(o)}const t=(0,g().hc)(e,y.id),o=new Set;for(const r of t){const e=Q[r];for(const t of e??[])o.add(t)}for(const a of[...o,...h??[]]){if(n.completedReducers[a])continue;const e=l.reducers[a];if(!e)continue;const t=n.reducerStates[a],o="groups"===e.type?void 0:n.filterCompiler.compile({filter:e.filter,context:G,propertyMapping:H});if(!o||o({block:I().Bj6.fromBlock(y),getRecordModel:u,propertyMapping:void 0,formulaTimeoutTimestampMs:r.formulaTimeoutMs&&Date.now()+r.formulaTimeoutMs,logFormulaTimeoutFn:r.logFormulaTimeoutFn,resultCache:M,regExpCache:w,formatDateCache:B,experimentService:r.experimentService,formulasModule:r.formulasModule,spaceIdCreator:r.spaceIdCreator})){const{shouldComplete:o}=(0,g().MG)({intl:r.intl,reducer:e,reducerId:a,state:t,schema:m,block:y,collection:D,getRecordModel:u,getRecordRole:d,userTimeZone:l.userTimeZone,userId:c,visibleProperties:s,propertyMapping:H,relativeVariableResult:f,formulaTimeoutMs:r.formulaTimeoutMs,logFormulaTimeoutFn:r.logFormulaTimeoutFn,logFormulaStatsFn:r.logFormulaStatsFn,resultCache:M,regExpCache:w,formatDateCache:B,experimentService:r.experimentService,collectionFeatureGates:r.collectionFeatureGates,formulasModule:r.formulasModule,source:S,spaceIdCreator:r.spaceIdCreator,propertyAggregations:l.propertyAggregations});if(o){const o=(0,g().k4)({reducer:e,state:t,reducerLoaderState:n,loader:l,schema:m,isSprintPlanningView:r.isSprintPlanningView,source:S});V[a]=o,n.completedReducers[a]=o}}}}return{incremented:!0,completedReducers:V,isSubitemWithDeadTopLevelBlock:Z}}function E(e,t){const{loader:r,schema:o,source:a,isSprintPlanningView:i}=e,s={...t.completedReducers},l={};return r.reducers&&n().jJ(r.reducers||{},((e,n)=>{if(t.completedReducers[n])return;const c=t.reducerStates[n],u=(0,g().k4)({reducer:e,reducerLoaderState:t,state:c,loader:r,schema:o,isSprintPlanningView:i,source:a});s[n]=u,l[n]=u})),{result:{type:"reducer",reducerResults:s},completedReducers:l,filterStats:t.filterCompiler.filterStats}}function V(e,t){let r=[],o=[];if(e){const[a,i]=n().jB(Object.entries(e),(([,e])=>"groups"===e.type));r=a.map((([e,t])=>e));const s=i.map((([e,t])=>e)),l=new Set(Object.values(t??{}).flat());o=s.filter((e=>!l.has(e)))}return{groupsReducerIds:r,reducerIdsWithNoGroupDependencies:o}}function L(e){return 0===H(e).length}function H(e,t,r){const n=new Set;if("results"===e.type)for(const o of e.blockIds)n.add(o);else if("groups"===e.type){for(const{value:o}of e.results){if(!t&&"relation"===o.type&&o.value&&"id"in o.value){if(r&&o.value.spaceId&&o.value.spaceId!==r)continue;n.add(o.value.id)}if("location"===o.type&&o.value){if(r&&o.value.spaceId&&o.value.spaceId!==r)continue;n.add(o.value.id)}}if(e.blockResults){const t=(0,o().WP)(e.blockResults);for(const[e,r]of t){const e=r.blockIds;for(const t of e)n.add(t)}}}return[...n]}function G(e){const{result:t,excludeRelativeIds:r}=e,o=e.reducerTypesToExclude??[],a=new Set;return n().jJ(t.reducerResults,(e=>{if(!o.includes(e.type))for(const t of H(e,r))a.add(t)})),Array.from(a.values())}function q(e,t,r){var n;const o=(0,h().L)(e,r,void 0,(0,v().qL)(t)),a=(0,v().u9)(t),i=a?o[a]:void 0;"list"!==t&&"calendar"!==t&&"feed"!==t||null==i||i.push({visible:!0,property:"title"});return null==i||null===(n=i.filter((e=>Boolean(e.visible))))||void 0===n?void 0:n.map((e=>e.property))}function j(e){const{block:t,query:r,getRecordModel:n,userTimeZone:o,schema:a,intl:i,onlyPropertyIds:s}=e,l=I().Bj6.fromBlock(t);if(!(0,f().Xw)({properties:l.getProperties(),format:l.getFormat()}))return!1;const c=s??Object.keys(a);return Boolean(c.find((e=>{let t;const s=a[e];if("title"===e&&l.isType("collection_view_page"))t=(0,f().zP)(l,n);else if("created_by"===(null==s?void 0:s.type)||"last_edited_by"===(null==s?void 0:s.type)){const e="created_by"===(null==s?void 0:s.type)?l.getCreatedByPointer():l.getLastEditedByPointer();e&&(t=[(0,w().wmz)(e.table===M().oo?(0,w().P4h)(e.id):(0,w().Vb6)(e.id))])}else t=(0,f().yQ)(l,e,n);if(!t)return!1;const c=(0,S().r4)({textValue:t,getRecordModel:n,userTimeZone:o,intl:i});return z((0,f().QV)({textValue:c,blockModel:l,getRecordModel:n,propertySchema:a[e]})).indexOf(z(r.trim()))>=0})))}const $=/[\u0300-\u036f]/g;function z(e){return e?e.toLocaleLowerCase().normalize("NFD").replace($,""):""}const W=6,Z=15;async function Q(e){const{blocks:t,recordMap:r,loadRecordModel:n}=e;for(const o of t){const e=I().Bj6.fromBlock(o).getContentIds().slice(0,Z).map((e=>({table:T().ev,id:e,spaceId:o.space_id}))),t=await n(e);r.assign(t)}}function K(e){return e.propertyAggregations&&e.propertyAggregations.length>0||Object.values(e.reducers||{}).some((e=>"aggregation"===e.type))}function J(e){return Object.values(e.reducers||{}).some((e=>{if("aggregation"!==e.type)return!1;const t=(0,d().AS)((0,d().ZP)(e.aggregation.aggregator)),r=e.aggregation.enforceMaxAggregationLimit;return t&&r}))}function Y(e){return Object.values(e.reducers||{}).some((e=>"groups"===e.type))}function X(e){return e===l().jJ||e===l().wh||e===l().nb||e===l().Ri||e===l().VQ}function ee(e,t){const r=t[e.property];if(r&&e.filter){if("status"===r.type){const{property:t,filter:n}=e,o=r.groups??[];if((0,p().fZ)(e.filter))return e;if((0,p().Ui)(n)){const e=n.value.value;if(void 0===e)return;const r=o[o.length-1];return{filter:{operator:e?"status_is":"status_is_not",value:{type:"is_group",value:null==r?void 0:r.name}},property:t}}if((0,p().v0)(n)||(0,p().as)(n)){if((0,p().fZ)(n))return;const e=((0,p().v0)(n)?(0,p().Zl)(n):(0,p().SM)(n)).map((e=>({type:"is_option",value:e.value})));return{filter:{operator:"enum_is"===n.operator||"enum_contains"===n.operator?"status_is":"status_is_not",value:e.length>0?e:{type:"is_group",value:void 0}},property:t}}if(!(0,p().H$)(n))return}if((0,p().tn)(t,e.property,e.filter,void 0)){if("select"===r.type){if(!(0,p().v0)(e.filter))return;if((0,p().fZ)(e.filter))return e;const t=(0,p().Zl)(e.filter);if(0===t.length)return e;return t.every((e=>(r.options||[]).some((t=>t.value===e.value))))?e:void 0}if("multi_select"===r.type){if(!(0,p().as)(e.filter))return;if((0,p().fZ)(e.filter))return e;const t=(0,p().SM)(e.filter);if(0===t.length)return e;return t.every((e=>(r.options||[]).some((t=>t.value===e.value))))?e:void 0}if("date"===r.type&&(0,p().Cw)(e.filter)){const t=e.filter.value;if("relative"===t.type){if("custom"===t.value||"surrounding"===t.value)return{...e,filter:{...e.filter,operator:"date_is_relative_to"}};{const r=c().NV[t.value],n={...e.filter,value:r,operator:"date_is_relative_to"};return{...e,filter:n}}}if("exact"===t.type)return{...e,filter:{...e.filter,operator:"date_is_within"}};(0,o().HB)(t)}if("relation"===r.type&&"relation_contains"===e.filter.operator){const t=(0,p().Rh)(e.filter);t.length>1&&(e.filter.value=t.filter((e=>void 0!==e.value)))}return e}}}function te(e,t,r){return e.map((e=>{const n=re(e.filter,t);if(t[e.filter.property]&&n&&(0,p().tn)(t,e.filter.property,n.filter,r))return n&&{id:e.id,filter:n}})).filter(o().O9)}function re(e,t){if((0,p().dU)(e)){const r=e,o=r.filters||[],a={...r,filters:n().oE(o.map((e=>re(e,t))))};if(!a.filters||0===a.filters.length)return;return a}return(0,p().yX)(e)?ee(e,t):e}function ne(e,t){return e.filter((e=>{const r=t[e.property];return Boolean(r)}))}function oe(e,t){let r=e&&e.query2?e.query2:{};if(r.calendar_by&&e&&"calendar"===e.type){const e=t[r.calendar_by];e&&(0,u().$)(e)||(r={...r,calendar_by:void 0})}if(r.timeline_by&&e&&"timeline"===e.type){const e=t[r.timeline_by];if(e&&(0,u().$)(e)||(r={...r,timeline_by:void 0}),r.timeline_by_end){const e=t[r.timeline_by_end];e&&(0,u().$)(e)||(r={...r,timeline_by_end:void 0})}}if(r.filter&&(r={...r,filter:re(r.filter,t)}),r.sort&&(r={...r,sort:ne(r.sort,t)}),r.aggregations){const n=r.aggregations.filter((r=>{if((0,d().Iq)(r))return(0,d().un)(r.aggregator);const n=t[r.property];if(n){if((0,m().ry)(n.type)){const e=(0,m().IS)(n.type);if(!(0,d().NU)(e,r.aggregator))return!1}return!!e}}));r={...r,aggregations:n}}return r}function ae(e){const{expectedAggregator:t,aggregationReducerResult:r}=e;if(!t)return{error:"no aggregation provided"};const n=(0,d().ou)((0,d().ZP)(t));return r&&"aggregation"===r.type&&r.aggregationResult.type===n&&void 0!==r.aggregationResult.value?{value:r.aggregationResult.value}:{error:"unexpected response returned for aggregation"}}},329251:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>a});var n=()=>r(292588);const o="external_entity",a={table:o,columnTypes:{id:n().A.UUID,entity_type:n().A.String,external_identifier:n().A.String,external_display_name:n().A.String,metainfo:n().A.JSON,external_integration_id:n().A.String,bot_id:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.String,updated_by_table:n().A.String,updated_by_id:n().A.String,external_workspace_id:n().A.String},model:(0,r(152853).P)({})}},332737:(e,t,r)=>{r.d(t,{l:()=>o});var n=()=>r(997769);function o(e){const t=n().I6(e);if(t[0]){const r=t[0].href;return e.startsWith(r)&&e.slice(r.length).match(/^[^\s]+$/)?e:r}return e}},335452:(e,t,r)=>{r.d(t,{n:()=>a});var n=()=>r(534177),o=()=>r(754195);function a(e){return t=e.operator,!!(0,n().O)(o().hV,t);var t}},335997:(e,t,r)=>{function n(e){return void 0===e||isNaN(e)?[]:[[e.toString()]]}r.d(t,{h:()=>n})},338180:(e,t,r)=>{r.d(t,{A:()=>a,o:()=>o});var n=()=>r(292588);const o="legal_hold_page",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,legal_hold_id:n().A.UUID,block_id:n().A.UUID},requiredColumns:{id:!0,version:!0,space_id:!0,legal_hold_id:!0,block_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},338528:(e,t,r)=>{r.d(t,{r:()=>o});r(898992),r(908872);var n=()=>r(803884);function o(e,t,r){if(!e)return;const o=n().Zx(e),a=Array.from(o).reduce(((e,r)=>{const n=t({value:0,textInstanceId:r});return e[r]=n,e}),{});return n().iu(r,e,a)}},340498:(e,t,r)=>{r.d(t,{CN:()=>l,Ev:()=>i,lD:()=>s,wt:()=>c,xh:()=>u});r(898992),r(354520),r(296540);var n=()=>r(462062),o=()=>r(783982),a=r(474848);const i={xxs:12,xs:14,sm:16,default:20,lg:22,xl:32},s={xxs:14,xs:16,sm:18,default:22,lg:26,xl:36},l={default:i.default,small:i.sm,fill:i.default,fillSmall:i.sm,darkMode:i.default,tintable:i.default,micro:14,mini:14,large:24,max:28,extraLarge:36};function c(e,t){const{viewBox:r,fittedViewBox:s,svg:l}=t,c=r??`0 0 ${i.default} ${i.default}`;return Object.assign(((r,i,u,d)=>{const p=[e,t.directional&&n().S,i].filter(Boolean).join(" ");return(0,a.jsx)(o().A,{viewBox:c,className:p,style:r,label:u,fittedViewBox:s,fitToViewBox:d,children:l})}),{__iconDefinition:{...t,viewBox:c,fittedViewBox:s}})}function u(e,t,r){return{name:e,variants:t,searchTerms:r}}},343462:(e,t,r)=>{r.d(t,{M:()=>a});var n=()=>r(534177),o=()=>r(466118);function a(e){return t=e.operator,!!(0,n().O)(o().g,t);var t}},343666:(e,t,r)=>{r.d(t,{Ay:()=>i,SN:()=>a,r0:()=>o});var n=()=>r(292588);const o={discussion:!0},a="comment";const i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,text:n().A.JSON,created_time:n().A.Number,last_edited_time:n().A.Number,alive:n().A.Boolean,created_by_table:n().A.String,created_by_id:n().A.UUID,space_id:n().A.UUID,content:n().A.UUIDArray,reactions:n().A.UUIDArray,display_name:n().A.JSON},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},343747:(e,t,r)=>{r.d(t,{Ay:()=>i,RB:()=>o,rG:()=>a});var n=()=>r(292588);const o={avatar:"avatar",identifier:"identifier",title:"title",primary:"primary",secondary:"secondary",body:"body",entity:"entity",embed:"embed",background:"background"},a="external_object",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_edited_time:n().A.Number,external_created_at:n().A.Number,external_last_edited_time:n().A.Number,bot_id:n().A.UUID,space_id:n().A.UUID,uri:n().A.String,attributes:n().A.JSON,error:n().A.JSON,schema:n().A.JSON,external_collection_uris:n().A.StringArray,sync_state:n().A.JSON}}},349835:(e,t,r)=>{r.d(t,{I3:()=>u,IA:()=>d,Lc:()=>c,M9:()=>o,NM:()=>n,uW:()=>s,v3:()=>a,x4:()=>i});r(16280);let n=function(e){return e.Number="number",e.String="string",e.Boolean="boolean",e.Array="array",e.Identifier="identifier",e.NotionToken="notionToken",e.Conditional="conditional",e.LogicalOr="logicalOr",e.LogicalAnd="logicalAnd",e.Equality="equality",e.Relational="relational",e.Additive="additive",e.Multiplicative="multiplicative",e.Exponentiation="exponentiation",e.Unary="unary",e.Call="call",e.UnifiedFunctionProperty="unifiedFunctionProperty",e.MemberBlockProperty="memberProperty",e.RecoveryNode="recovery",e}({});Object.values(n);let o=function(e){return e.InvalidCharacter="InvalidCharacter",e.UnclosedStringLiteral="UnclosedStringLiteral",e.UnclosedComment="UnclosedComment",e.TokenExpected="TokenExpected",e.StringLiteralContainsToken="StringLiteralContainsToken",e.ExpressionExpected="ExpressionExpected",e.PropertyTokenOrFunctionExpected="PropertyTokenOrFunctionExpected",e.EndOfInputExpected="EndOfInputExpected",e.UnexpectedError="UnexpectedError",e.TooDeeplyNested="TooDeeplyNested",e}({}),a=function(e){return e.DateInvalidDurationUnit="DateInvalidDurationUnit",e.TryingToGetIdWithoutThisRow="TryingToGetIdWithoutThisRow",e.LetBindingNameNotIdentifier="LetBindingNameNotIdentifier",e.NotEnoughArguments="NotEnoughArguments",e.UserNotFound="UserNotFound",e.CannotUseToNumberOnList="CannotUseToNumberOnList",e.CannotRoundToNonInteger="CannotRoundToNonInteger",e.CannotRoundToTooManyDecimalPlaces="CannotRoundToTooManyDecimalPlaces",e.NumberFormatInvalid="NumberFormatInvalid",e}({});class i extends Error{constructor(e){super(),this.info=void 0,this.info=e}toFormulaEvaluatorError(e,t){return new u({type:s.LibraryFunctionExecutionError,node:e,libraryFunction:t,error:this})}}let s=function(e){return e.MissingThisRow="MissingThisRow",e.MissingSchemaPropertyOnThisRow="MissingSchemaPropertyOnThisRow",e.MissingSchemaPropertyOnCollection="MissingSchemaPropertyOnCollection",e.ThisRowBlockPropertyMismatchCollection="ThisRowBlockPropertyMismatchCollection",e.MissingContextVariable="MissingContextVariableEval",e.IdentifierNotFound="IdentifierNotFound",e.CannotRelativelyCompareTypes="CannotRelativelyCompareTypesEval",e.CannotDoMathOnType="CannotDoMathOnTypeEval",e.CannotCallNonFunction="CannotCallNonFunction",e.UnifiedFunctionPropertyNotFound="UnifiedFunctionPropertyNotFound",e.LibraryFunctionExecutionError="LibraryFunctionExecutionError",e.FunctionCallTooFewArguments="FunctionCallTooFewArgumentsEval",e.FunctionCallUnexpectedArgument="FunctionCallUnexpectedArgumentEval",e.FunctionCallArgumentWrongType="FunctionCallArgumentWrongTypeEval",e.AccessingPropertyOnNonBlock="AccessingPropertyOnNonBlock",e.MissingDataDependencyBlock="MissingDataDependencyBlock",e.MissingDataDependencyPerson="MissingDataDependencyPerson",e.MemberPropertyMismatchCollection="MemberPropertyMismatchCollectionEval",e.MissingPropertyOnSchemaForMemberProperty="MissingPropertyOnSchemaForMemberProperty",e.UnaryMinusOnNonNumber="UnaryMinusOnNonNumberEval",e.UnexpectedRecoveryNode="UnexpectedRecoveryNode",e.UnexpectedError="UnexpectedEvalError",e.DepthExceeded="DepthExceeded",e.CycleDetected="CycleDetected",e.DownstreamParseFailure="DownstreamParseFailure",e.MaxEvaluationTimeExceeded="MaxEvaluationTimeExceeded",e.ContextVariableWrongType="ContextVariableWrongType",e.DisallowedValueType="DisallowedValueType",e}({});const l=[s.CycleDetected,s.DepthExceeded,s.MaxEvaluationTimeExceeded];function c(e){return l.includes(e.type)}class u extends Error{constructor(e){super(e.type),this.info=void 0,this.info=e,this.name="FormulaEvaluatorError"}}let d=function(e){return e.ThisRowTypeNotFound="ThisRowTypeNotFound",e.ThisRowNotBlockWithCollection="ThisRowNotBlockWithCollection",e.ContextVariableNotBlockWithCollection="ContextVariableNotBlockWithCollection",e.MissingPropertyOnThisRow="MissingPropertyOnThisRow",e.MissingPropertyOnContextVariable="MissingPropertyOnContextVariable",e.MissingContextVariable="MissingContextVariable",e.MissingBlock="MissingBlock",e.CallingNotFunction="CallingNotFunction",e.FunctionCallTooFewArguments="FunctionCallTooFewArguments",e.FunctionCallUnexpectedArgument="FunctionCallUnexpectedArgument",e.FunctionCallArgumentWrongType="FunctionCallArgumentWrongType",e.MemberPropertyMismatchCollection="MemberPropertyMismatchCollection",e.MemberPropertyMissing="MemberPropertyMissing",e.MemberPropertyTargetNotBlock="MemberPropertyTargetNotBlock",e.MemberPropertyTypeInvalid="MemberPropertyTypeInvalid",e.UndefinedIdentifier="UndefinedIdentifier",e.InvalidPropCall="InvalidPropCall",e.InvalidContextCall="InvalidContextCall",e.InvalidVariableCall="InvalidVariableCall",e.UnifiedFunctionCannotFindFunction="UnifiedFunctionCannotFindFunction",e.UnifiedFunctionNoArguments="UnifiedFunctionNoArguments",e.UnifiedFunctionTargetWrongType="UnifiedFunctionTargetWrongType",e.CannotRelativelyCompareTypes="CannotRelativelyCompareTypes",e.CannotDoMathOnType="CannotDoMathOnType",e.UnaryMinusOnNonNumber="UnaryMinusOnNonNumber",e.IdentifierExpected="IdentifierExpected",e.FunctionCallExpected="FunctionCallExpected",e.RenamedIdentifier="RenamedIdentifier",e.RemovedFunction="RemovedFunction",e.BlockPropertyTypeInvalid="BlockPropertyTypeInvalid",e.DisallowedReturnType="DisallowedReturnType",e.CrossSpacePropertyNotSupported="CrossSpacePropertyNotSupported",e.CalledFunctionOnEmptyValue="CalledFunctionOnEmptyValue",e}({})},356246:(e,t,r)=>{r.d(t,{Bz:()=>d,I1:()=>o,QO:()=>c,UL:()=>u,ZO:()=>s,h4:()=>i,lM:()=>l,oP:()=>a});var n=()=>r(534177);const o="Yes",a="No",i=[[o]],s=[[a]],l={checked:!0,unchecked:!0,percent_checked:!0,percent_unchecked:!0},c=(0,n().uv)(l),u={checkbox_is:!0,checkbox_is_not:!0},d=(0,n().uv)(u)},358813:(e,t,r)=>{r.d(t,{l:()=>a});var n=()=>r(382041),o=()=>r(496603);const a=(0,o().h1)((0,o().mg)(r(726131).W),n().I,n().n)},363170:(e,t,r)=>{r.d(t,{e:()=>a});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(452540),o=()=>r(201980);function a(e){const{textValue:t,propertySchema:r,blockCreatorPointer:a,bypassLimit:i,skipDefault:s,convertGroupPointersToBeComposite:l}=e;if("person"!==(null==r?void 0:r.type))return[];const c=o().jEb({value:t,convertGroupPointersToBeComposite:l}),u=new Set;let d=[];for(const o of c){const e=(0,n().jV)(o);u.has(e)||(u.add(e),d.push(o))}return 0===d.length&&"created_by"===r.default&&a&&!s&&(d=[a]),r.limit&&!i?d.slice(0,1):d}},363497:(e,t,r)=>{r.d(t,{Ay:()=>i,TF:()=>o,oe:()=>a});var n=()=>r(292588);const o="assistant_chat_session",a={space_view:!0},i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,created_time:n().A.Number,chat_step_id:n().A.UUID,type:n().A.String,parent_external_id:n().A.String,alive:n().A.Boolean,properties:n().A.JSON,file_ids:n().A.StringArray},requiredColumns:{id:!0,version:!0,space_id:!0,type:!0,created_time:!0,alive:!0,chat_step_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},365970:(e,t,r)=>{r.d(t,{Ay:()=>l,R:()=>o,TW:()=>a,en:()=>s,y_:()=>i});var n=()=>r(292588);const o=["creator_intervention","requested","processing","stripe_processing"],a=["cancelled","successful","denied"],i=["not_as_described","not_wanted","not_needed","unable_to_use","not_added","custom"],s="marketplace_refund",l={table:s,columnTypes:{id:n().A.UUID,requester_table:n().A.String,requester_id:n().A.UUID,acquisition_id:n().A.UUID,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,status:n().A.String,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,requester_table:!0,requester_id:!0,acquisition_id:!0,created_time:!0,updated_time:!0,status:!0},model:(0,r(152853).P)({RecordStore:!0})}},370085:(e,t,r)=>{r.d(t,{$F:()=>a,Mr:()=>s,TQ:()=>l,mJ:()=>i,yx:()=>c});r(898992),r(354520);var n=()=>r(179034),o=()=>r(96689);function a(e){const{pointer:t,parent_table:r,parent_id:n,alive:o}=e;return{pointer:t,command:"update",path:[],args:{parent_id:n,parent_table:r,alive:o}}}function i(e){return{pointer:{table:o().NX,id:e.spaceParentId},path:["pages"],command:"insertChildrenAfter",args:{ids:[e.recordId],after:e.afterId}}}function s(e){const{pointer:t,userId:r}=e;return{command:"set",pointer:t,path:["permissions"],args:[{type:"user_permission",role:"editor",user_id:r}]}}function l(e){return{pointer:{table:n().ev,id:e.blockParentId},path:["content"],command:"removeChild",args:{id:e.recordId}}}function c(e){return{pointer:{table:n().ev,id:e.blockParentId},path:["content"],command:"insertChildrenAfter",args:{ids:[e.recordId],after:e.afterId}}}},374982:(e,t,r)=>{r.d(t,{Ay:()=>i,QO:()=>o,Vf:()=>a});var n=()=>r(292588);const o="marketplace_coupon",a={[r(192249).Hi]:!0,[r(183171).V1]:!0},i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,code:n().A.String,active:n().A.Boolean,discount:n().A.JSON,eligible_listing_ids:n().A.UUIDArray,coupon_usage:n().A.JSON,start_time:n().A.Number,end_time:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,created_by:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,apply_to_all:n().A.Boolean,deleted_time:n().A.Number},requiredColumns:{id:!0,version:!0,code:!0,discount:!0,coupon_usage:!0,active:!0,created_time:!0,updated_time:!0,created_by:!0,apply_to_all:!0,parent_id:!0,parent_table:!0},defaultColumnValues:{apply_to_all:!1},model:(0,r(152853).P)({RecordStore:!0})}},379922:(e,t,r)=>{r.d(t,{A:()=>a,o:()=>o});var n=()=>r(292588);const o="signup_tracking",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,email:n().A.String,variant:n().A.String,temporary_password:n().A.String,csrf_token:n().A.String,attribution_data:n().A.JSON,created_at:n().A.Number,user_id:n().A.UUID,link_opened:n().A.Boolean,link_opened_at:n().A.Number}}},379951:(e,t,r)=>{r.d(t,{Ay:()=>c,JN:()=>a,PX:()=>o,V2:()=>s,gM:()=>i,sn:()=>l});var n=()=>r(292588);const o="legal_hold",a=5,i=10,s=16461216e5,l="https://www.notion.com/help/legal-holds",c={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,name:n().A.String,description:n().A.String,icon:n().A.String,status:n().A.String,start_date:n().A.Number,end_date:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,user_interaction_type:n().A.StringArray,owner_id:n().A.UUID,owner_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String},requiredColumns:{id:!0,version:!0,status:!0,start_date:!0,created_by_id:!0,created_by_table:!0,created_time:!0,user_interaction_type:!0,owner_id:!0,owner_table:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon"}}})}},381891:(e,t,r)=>{r.d(t,{BF:()=>A,DW:()=>h,MG:()=>x,Pn:()=>I,dV:()=>b,hc:()=>D,k4:()=>S});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(354520),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(66689),i=()=>r(268340),s=()=>r(24374),l=()=>r(67657),c=()=>r(62371),u=()=>r(898244),d=()=>r(452706),p=()=>r(713998),m=()=>r(329199),f=()=>r(455348),g=()=>r(835195),y=()=>r(416845),_=()=>r(792071),v=()=>r(201980);function b(e){return"results"===e.type}function h(e){return"aggregation"===e.type}function A(e){return"groups"===e.type}function I(e){const{reducerId:t,schema:r,loader:n,reducer:i,getRecordModel:s,getRecordRole:u,intl:d,apiSorts:p,pageSort:f,isSorted:_,relativeVariableResult:v,formulasModule:b,source:h,spaceIdCreator:A}=e;if("results"===i.type){const e=(0,g().kX)({userId:n.userId,userTimeZone:n.userTimeZone,intl:d,userSorts:n.sort??[],schema:r,apiSorts:p,formulasModule:b,spaceIdCreator:A}),t=new(g().z8)([...e,...(0,g().e$)(f)]);return{type:"results",sorting:_?"sorted":t,blockIds:new Set,total:0}}if("groups"===i.type){var I,x,S,T,M,w,B;if(!(0,m().t2)(t)&&i.omitZeroAggregationGroups)throw new(y().Um)("Only charts can use omitZeroAggregationGroups");const e=[...(0,g().kX)({userId:n.userId,userTimeZone:n.userTimeZone,intl:d,userSorts:n.sort??[],schema:r,apiSorts:p,formulasModule:b,spaceIdCreator:A}),...(0,g().e$)(f)],o="typed"===h.type?(0,a().G2)(h.databaseType,d):{},D={type:"groups",querySorts:e,groupsMap:new Map,blockIdToGroupIds:new Map,blockIdToSubgroupIds:new Map,collectionIds:new Set,mergedSchema:{},defaultSchema:o},O=new(g().z8)(e),F=new Map,E=new Map;for(const t of i.groupSortPreference)t.value.type===i.groupBy.type&&F.set((0,c().AC)(t.value),t);if(i.subGroup)for(const t of i.subGroup.groupSortPreference)t.value.type===i.subGroup.groupBy.type&&E.set((0,c().AC)(t.value),t);const V=k({schema:r,groupBy:i.groupBy,groupSortPreference:i.groupSortPreference,relativeVariableResult:v});if(i.aggregation){const e=void 0===i.subGroup&&("independent"===i.aggregation.type||"intersection_and_independent"===i.aggregation.type)&&i.aggregation.subGroupAggregation,t=void 0===i.subGroup&&("intersection"===i.aggregation.type||"intersection_and_independent"===i.aggregation.type);if(e||t)throw new(y().Um)("Malformed groups reducer nested aggregation request")}const L="independent"===(null===(I=i.aggregation)||void 0===I?void 0:I.type)||"intersection_and_independent"===(null===(x=i.aggregation)||void 0===x?void 0:x.type)?null===(S=i.aggregation.groupAggregation)||void 0===S?void 0:S.aggregator:void 0;for(const[t,r]of V)D.groupsMap.set(t,R({propertyType:i.groupBy.type,group:r,currentValue:D.groupsMap.get(t),getRecordModel:s,aggregator:L,sorting:_?"sorted":O,groupSortPreferenceMap:F,getRecordRole:u,propertyAggregations:n.propertyAggregations}));const H=i.subGroup;if(H){var C,P,N,U;if("independent"===(null===(C=i.blockResults)||void 0===C?void 0:C.type))throw new(y().Um)("Malformed groups reducer nestedresults request");D.subGroupsMap=new Map;const e=k({schema:r,groupBy:H.groupBy,groupSortPreference:H.groupSortPreference,relativeVariableResult:v}),t="independent"===(null===(P=i.aggregation)||void 0===P?void 0:P.type)||"intersection_and_independent"===(null===(N=i.aggregation)||void 0===N?void 0:N.type)?null===(U=i.aggregation.subGroupAggregation)||void 0===U?void 0:U.aggregator:void 0;for(const[r,n]of e)D.subGroupsMap.set(r,R({propertyType:H.groupBy.type,group:n,currentValue:D.subGroupsMap.get(r),getRecordModel:s,aggregator:t,sorting:_?"sorted":O,groupSortPreferenceMap:E,getRecordRole:u}))}const G="intersection"===(null===(T=i.aggregation)||void 0===T?void 0:T.type)||"intersection_and_independent"===(null===(M=i.aggregation)||void 0===M?void 0:M.type)?null===(w=i.aggregation.intersectionAggregation)||void 0===w?void 0:w.aggregator:void 0;if(G&&H&&D.subGroupsMap){D.intersectionAggregationsMap=new Map;(0,c().xU)(Array.from(D.groupsMap.keys()),Array.from(D.subGroupsMap.keys())).forEach((e=>{var t;null===(t=D.intersectionAggregationsMap)||void 0===t||t.set(e,(0,l().J7)(G))}))}if("intersection"===(null===(B=i.blockResults)||void 0===B?void 0:B.type)&&H&&D.subGroupsMap){D.intersectionBlockResultsMap=new Map;(0,c().xU)(Array.from(D.groupsMap.keys()),Array.from(D.subGroupsMap.keys())).forEach((e=>{var t;null===(t=D.intersectionBlockResultsMap)||void 0===t||t.set(e,{sorting:_?"sorted":O,blocks:[]})}))}return D}if("aggregation"===i.type)return{type:"aggregation",aggregationState:(0,l().J7)(i.aggregation.aggregator)};(0,o().HB)(i)}function k({schema:e,groupBy:t,groupSortPreference:r,relativeVariableResult:n}){const a=new Map,i=(0,c().oH)({schema:e,groupBy:t});if(i)for(const o of i){const e=(0,c().AC)(o);a.set(e,o)}else{const i=e[t.property];if(i&&(0,c().Eg)(i)){const e=(0,c().ro)(i);if(e){const t=(0,c().AC)(e);a.set(t,e)}if(i&&"relation"===i.type&&n){const e=(0,u().zO)(i);if(e){const t=n[e];t&&(0,o().WP)(t).filter((([e,t])=>void 0!==t)).forEach((([e,t])=>{const r={type:"relation",value:{type:"relative",value:{type:"builtin",variable:e}}},n=(0,c().AC)(r);a.set(n,r)}))}}}if(r)for(const e of r){const r=(0,c().MU)(e)?e.value:e;if(r.type!==t.type)continue;const n=(0,c().AC)(r);a.set(n,r)}}return a}function x(e){const{block:t,collection:r,schema:n,reducer:a,state:i,getRecordModel:d,getRecordRole:p,userId:v,userTimeZone:b,intl:h,visibleProperties:A,propertyMapping:I,relativeVariableResult:k,reducerId:x,formulaTimeoutMs:S,logFormulaTimeoutFn:T,logFormulaStatsFn:M,resultCache:w,regExpCache:B,formatDateCache:C,experimentService:P,collectionFeatureGates:N,formulasModule:U,source:D,spaceIdCreator:O,propertyAggregations:F}=e,E={userId:v,userTimeZone:b,intl:h,visitedProperties:new Set,depth:0,resultCache:w,regExpCache:B,formatDateCache:C,formulaTimeoutTimestampMs:S&&Date.now()+S,logFormulaTimeoutFn:T,logFormulaStatsFn:M,experimentService:P,collectionFeatureGates:N};if("results"===a.type){if("results"!==i.type)throw new(y().Um)("Reducer and state type mismatch");if(a.searchQuery&&!(0,m().Pt)({block:t,query:a.searchQuery,getRecordModel:d,userTimeZone:b,schema:n,intl:e.intl,onlyPropertyIds:A?f().u9.fromViewPropertyIds(A,I):void 0}))return{shouldComplete:!1};if(i.blockIds.add(t.id),i.total++,"sorted"===i.sorting){if(i.total>a.limit)return{shouldComplete:!0}}else i.sorting.updateBlock({block:_().Bj6.fromBlock(t),schema:n,propertyMapping:I,getRecordModel:d,resultCache:w,regExpCache:B,formatDateCache:C,experimentService:P,collectionFeatureGates:E.collectionFeatureGates,spaceIdCreator:O});return{shouldComplete:!1}}if("groups"===a.type){var V;if("groups"!==i.type)throw new(y().Um)("Reducer and state type mismatch");if("typed"===D.type&&!i.collectionIds.has(r.id)){const e=r.getNormalizedSchema(),t=r.getPropertyMapping(),n=f().u9.toViewSchema(e,t),o=[];if((0,u().us)(a.groupBy.type)){const e=a.groupBy.property;o.push(e)}if(a.subGroup&&(0,u().us)(a.subGroup.groupBy.type)){const e=a.subGroup.groupBy.property;o.push(e)}const s=(0,f().dW)({schemas:[n,i.mergedSchema,i.defaultSchema],onlyPropertyIds:o,prioritizeLooserLimitRule:!0});if(s.error)throw s.error;i.mergedSchema=s.value,i.collectionIds.add(r.id)}const e=(0,c().OU)({groupBy:a.groupBy,block:t,schema:n,getRecordModel:d,propertyMapping:I,relativeVariableResult:k,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O}),o=null===(V=a.blockResults)||void 0===V?void 0:V.type;if(e){var L,H;const r="independent"===(null===(L=a.aggregation)||void 0===L?void 0:L.type)||"intersection_and_independent"===(null===(H=a.aggregation)||void 0===H?void 0:H.type)?a.aggregation.groupAggregation:void 0;for(const u of e){var G;if(u.type!==a.groupBy.type)continue;const e=(0,c().AC)(u),m=R({propertyType:a.groupBy.type,group:u,currentValue:i.groupsMap.get(e),getRecordModel:d,getRecordRole:p,aggregator:null==r?void 0:r.aggregator,querySorts:i.querySorts,propertyAggregations:F});m.total++;const f=!!x&&x===s().bq?i.blockIdToSubgroupIds:i.blockIdToGroupIds;f.has(t.id)||f.set(t.id,new Set),null===(G=f.get(t.id))||void 0===G||G.add(e),r&&m.aggregationState&&(0,l().KW)({block:t,schema:n,aggregation:r,state:m.aggregationState,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O});const g=m.groupSortPreferenceMap.get(e);a.returnPinnedGroups&&m.pinnedAggregationState&&null!=g&&g.pinned&&(0,l().KW)({block:t,schema:n,aggregation:{aggregator:"count"},state:m.pinnedAggregationState,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O}),"independent"===o&&m.blockResultState&&("sorted"!==m.blockResultState.sorting&&m.blockResultState.sorting.updateBlock({block:_().Bj6.fromBlock(t),schema:n,propertyMapping:I,getRecordModel:d,resultCache:w,regExpCache:B,formatDateCache:C,experimentService:P,collectionFeatureGates:E.collectionFeatureGates,spaceIdCreator:O}),m.blockResultState.blocks.push(t.id)),m.propertyAggregationStateMap&&m.propertyAggregationStateMap.forEach((({aggregation:e,state:r},o)=>{(0,l().KW)({block:t,schema:n,aggregation:e,state:r,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O})})),i.groupsMap.set(e,m)}}if(i.subGroupsMap&&a.subGroup){var q,j;const r=(0,c().OU)({groupBy:a.subGroup.groupBy,block:t,schema:n,getRecordModel:d,propertyMapping:I,relativeVariableResult:k,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O});if(r){var $,z;const e="independent"===(null===($=a.aggregation)||void 0===$?void 0:$.type)||"intersection_and_independent"===(null===(z=a.aggregation)||void 0===z?void 0:z.type)?a.aggregation.subGroupAggregation:void 0;for(const o of r){var W;if(o.type!==a.subGroup.groupBy.type)continue;const r=(0,c().AC)(o),s=R({group:o,propertyType:a.subGroup.groupBy.type,currentValue:i.subGroupsMap.get(r),getRecordModel:d,getRecordRole:p,aggregator:null==e?void 0:e.aggregator,querySorts:i.querySorts});s.total++;const u=i.blockIdToSubgroupIds;u.has(t.id)||u.set(t.id,new Set),null===(W=u.get(t.id))||void 0===W||W.add(r),e&&s.aggregationState&&(0,l().KW)({block:t,schema:n,aggregation:e,state:s.aggregationState,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O}),i.subGroupsMap.set(r,s)}}if(("intersection"===(null===(q=a.aggregation)||void 0===q?void 0:q.type)||"intersection_and_independent"===(null===(j=a.aggregation)||void 0===j?void 0:j.type)||"intersection"===o)&&e&&r){var Z,Q;const s=e.map((e=>(0,c().AC)(e))),u=r.map((e=>(0,c().AC)(e))),p=(0,c().xU)(s,u),m="intersection"===(null===(Z=a.aggregation)||void 0===Z?void 0:Z.type)||"intersection_and_independent"===(null===(Q=a.aggregation)||void 0===Q?void 0:Q.type)?a.aggregation.intersectionAggregation:void 0,{intersectionAggregationsMap:f,intersectionBlockResultsMap:y}=i;p.forEach((e=>{if(m&&f){const r=f.get(e)??(0,l().J7)(m.aggregator);(0,l().KW)({block:t,schema:n,aggregation:m,state:r,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O}),f.set(e,r)}if(y&&"intersection"===o){const r=null==y?void 0:y.get(e),o=(null==r?void 0:r.blocks)??[],a=(null==r?void 0:r.sorting)??new(g().z8)(i.querySorts);"sorted"!==a&&a.updateBlock({block:_().Bj6.fromBlock(t),schema:n,propertyMapping:I,getRecordModel:d,resultCache:w,regExpCache:B,formatDateCache:C,experimentService:P,collectionFeatureGates:E.collectionFeatureGates,spaceIdCreator:O}),o.push(t.id),y.set(e,{sorting:a,blocks:o})}}))}}return{shouldComplete:!1}}if("aggregation"===a.type){if("aggregation"!==i.type)throw new(y().Um)("Reducer and state type mismatch");(0,l().KW)({block:t,schema:n,aggregation:a.aggregation,state:i.aggregationState,getRecordModel:d,propertyMapping:I,collectionRequestContext:E,formulasModule:U,spaceIdCreator:O});const e=i.aggregationState;if(a.aggregation.enforceMaxAggregationLimit&&(0,l().AS)(e.type))switch(e.type){case"count":case"count_values":if(e.count>=l().iY)return{shouldComplete:!0};break;case"empty":if(e.empty>=l().iY)return{shouldComplete:!0};break;case"not_empty":if(e.filled>=l().iY)return{shouldComplete:!0};break;case"unique":if(e.values.size>=l().iY)return{shouldComplete:!0}}return{shouldComplete:!1}}(0,o().HB)(a)}function S(e){const{reducer:t,state:r,loader:n,schema:a,isSprintPlanningView:s,source:u}=e;if("results"===t.type){if("results"!==r.type)throw new(y().Um)("Reducer and state type mismatch");const e=Array.from(r.blockIds);let n=e;"sorted"!==r.sorting&&(n=(0,g().bC)(e,r.sorting));return{type:"results",blockIds:n.slice(0,t.limit),hasMore:n.length>t.limit}}if("groups"===t.type){var p,m,f;if("groups"!==r.type)throw new(y().Um)("Reducer and state type mismatch");const e=Array.from(r.groupsMap.values());let o=M({groupBy:"formula"===t.groupBy.type?{...t.groupBy.groupBy,property:t.groupBy.property}:t.groupBy,groups:e,groupSortPreference:t.groupSortPreference,loader:n,schema:a,isSprintPlanningView:s});const h=r.subGroupsMap;let A;if(h&&t.subGroup){const e=Array.from(h.values());A=M({groupBy:"formula"===t.subGroup.groupBy.type?{...t.subGroup.groupBy.groupBy,property:t.subGroup.groupBy.property}:t.subGroup.groupBy,groups:e,groupSortPreference:t.subGroup.groupSortPreference,loader:n,schema:a,isSprintPlanningView:s})}if("typed"===u.type){const e=r.mergedSchema;o=F(o,e,t.groupBy),t.subGroup&&A&&(A=F(A,e,t.subGroup.groupBy))}const I=t.aggregation;var _;if(I)o=o.slice(0,d().O3+1),A=null===(_=A)||void 0===_?void 0:_.slice(0,d().O3+1);const k=[],x=[],S={},w={},B={},C="independent"===(null===(p=t.blockResults)||void 0===p?void 0:p.type),P="intersection"===(null===(m=t.blockResults)||void 0===m?void 0:m.type),N=Boolean(("independent"===(null==I?void 0:I.type)||"intersection_and_independent"===(null==I?void 0:I.type))&&I.groupAggregation),U=Boolean(null===(f=n.propertyAggregations)||void 0===f?void 0:f.length);Boolean(N||C||U)&&o.forEach((e=>{var r;const n=(0,c().AC)(e.value),o=e.aggregationState;let a=0===e.total&&t.groupBy.hideEmptyGroups;if(o){const r=(0,l().ek)(o),i="number"===r.type&&0===r.value,s=t.omitZeroAggregationGroups;i&&s?a=!0:(k.push(e),S[n]={aggregationResult:r})}const i=e.blockResultState;if(!a&&"independent"===(null===(r=t.blockResults)||void 0===r?void 0:r.type)&&i){var s;let e=i.blocks;"sorted"!==i.sorting&&(e=(0,g().bC)(i.blocks,i.sorting));const r=t.blockResults,o=(null===(s=r.groupOverrides)||void 0===s||null===(s=s[n])||void 0===s?void 0:s.limit)??r.defaultLimit,a=e.slice(0,o);w[n]={blockIds:a,hasMore:a.length<e.length}}if(e.propertyAggregationStateMap.size>0){const t={};e.propertyAggregationStateMap.forEach((({state:e},r)=>{const n=(0,l().ek)(e);t[r]=n})),Object.keys(t).length>0&&(B[n]=t)}}));const R=Boolean(t.subGroup&&("independent"===(null==I?void 0:I.type)||"intersection_and_independent"===(null==I?void 0:I.type))&&(null==I?void 0:I.subGroupAggregation));Boolean(R)&&A&&A.forEach((e=>{var r;let n=0===e.total&&(null===(r=t.subGroup)||void 0===r?void 0:r.groupBy.hideEmptyGroups);if(n)return;const o=(0,c().AC)(e.value),a=e.aggregationState;if(a){const r=(0,l().ek)(a),i="number"===r.type&&0===r.value,s=t.omitZeroAggregationGroups;n=i&&s,n||(x.push(e),S[o]={aggregationResult:r})}}));const D=N?k:o,O=R?x:A,E=t.subGroup&&("intersection"===(null==I?void 0:I.type)||"intersection_and_independent"===(null==I?void 0:I.type)),V=Boolean(E||P),{intersectionAggregationsMap:L,intersectionBlockResultsMap:H}=r;if(V&&O){var v,b;const e="intersection"===(null===(v=t.aggregation)||void 0===v?void 0:v.type)||"intersection_and_independent"===(null===(b=t.aggregation)||void 0===b?void 0:b.type)?t.aggregation.intersectionAggregation:void 0,r=D.map((e=>(0,c().AC)(e.value))),n=O.map((e=>(0,c().AC)(e.value)));(0,c().xU)(r,n).forEach((r=>{var n;if(e&&L){const t=L.get(r)||(0,l().J7)(e.aggregator),n=(0,l().ek)(t);S[r]={aggregationResult:n}}if("intersection"===(null===(n=t.blockResults)||void 0===n?void 0:n.type)&&H){var o;const e=H.get(r);if(!e)return;let n=e.blocks;"sorted"!==e.sorting&&(n=(0,g().bC)(e.blocks,e.sorting));const a=t.blockResults,i=(null===(o=a.groupOverrides)||void 0===o||null===(o=o[r])||void 0===o?void 0:o.limit)??a.defaultLimit,s=n.slice(0,i);w[r]={blockIds:s,hasMore:s.length<n.length}}}))}const{finalizedGroupResults:G,finalizedSubGroupResults:q,hasMore:j,hasMoreSubGroups:$,pinnedGroups:z}=function({reducer:e,groups:t,subGroups:r,isSprintPlanningView:n}){var o,a;const s=e.groupBy,l=null===(o=e.subGroup)||void 0===o?void 0:o.groupBy,u=Boolean(s.hideEmptyGroups),p=Boolean(null==l?void 0:l.hideEmptyGroups),m={groupResults:[],aggregationResults:{}},f=t.map((t=>{const r=(0,c().AC)(t.value),o=t.total>0,a=t.groupSortPreferenceMap.get(r)??{property:s.property,value:t.value};if(n&&s.property===i().yx.TaskToSprintRelation&&(0,c().D1)(t.value)){const e=(0,c().zx)(t.value.value),r=!t.value.value;e&&r&&(a.hiddenByDefault=!0)}const l={value:a.value,visible:!(0,c().tx)(a,u,o)};if(e.returnPinnedGroups&&a.pinned&&m.groupResults.length<d().U5){var p;m.groupResults.push(l);const e="count"===(null===(p=t.pinnedAggregationState)||void 0===p?void 0:p.type)?t.pinnedAggregationState.count:0;m.aggregationResults[r]=e}return l})),g=null==r?void 0:r.map((e=>{const t=e.total>0,r=e.groupSortPreferenceMap.get((0,c().AC)(e.value))??{property:s.property,value:e.value};if(n&&(null==l?void 0:l.property)===i().yx.TaskToSprintRelation&&(0,c().D1)(e.value)){const t=(0,c().zx)(e.value.value),n=!e.value.value;t&&n&&(r.hiddenByDefault=!0)}return{value:r.value,visible:!(0,c().tx)(r,p,t)}})),y=e.limit,_=null===(a=e.subGroup)||void 0===a?void 0:a.limit,v=T({groupsReducer:e,groupResults:f}),b=l?T({groupsReducer:e,groupResults:g??[]}):void 0;let h=v.slice(0,y),A=null==b?void 0:b.slice(0,_);s.hideEmptyGroups&&(h=v.slice(0,y));null!=l&&l.hideEmptyGroups&&(A=null==b?void 0:b.slice(0,_));return{finalizedGroupResults:h,finalizedSubGroupResults:A,hasMore:v.length>h.length,hasMoreSubGroups:b&&A?b.length>A.length:void 0,pinnedGroups:m}}({reducer:t,groups:D,subGroups:O,isSprintPlanningView:s}),{finalizedAggregationResults:W,finalizedBlockResults:Z,finalizedPropertyAggregationResults:Q}=function(e){const{groupsReducer:t,groupResults:r,subGroupResults:n,aggregationResults:o,blockResults:a,propertyAggregationResults:i}=e;if(!t.aggregation&&!t.blockResults)return{finalizedAggregationResults:o,finalizedBlockResults:a,finalizedPropertyAggregationResults:i};const{independentGroupKeys:s,independentSubGroupKeys:l,intersectionKeys:u}=(0,c().Z3)({groupValues:r.map((e=>e.value)),subGroupValues:null==n?void 0:n.map((e=>e.value))}),d=[...s,...l],p={},m={},f={},g=t.aggregation;if(g){const e=[];"intersection"!==g.type&&"intersection_and_independent"!==g.type||e.push(...u),"independent"!==g.type&&"intersection_and_independent"!==g.type||e.push(...d);for(const t of e){const e=o[t];e&&(p[t]=e)}}const y=t.blockResults;if(y){const e="independent"===y.type?d:u;for(const t of e){const e=a[t];e&&(m[t]=e)}}for(const c of d){const e=i[c];e&&(f[c]=e)}return{finalizedAggregationResults:p,finalizedBlockResults:m,finalizedPropertyAggregationResults:f}}({groupsReducer:t,groupResults:G,subGroupResults:q,aggregationResults:S,blockResults:w,propertyAggregationResults:B});return{type:"groups",version:"v2",hasMore:j,results:G,pinnedResults:t.returnPinnedGroups?z:void 0,subGroupResults:t.subGroup?q:void 0,hasMoreSubGroups:$,aggregationResults:t.aggregation?W:void 0,blockResults:t.blockResults?Z:void 0,propertyAggregationResults:Object.keys(Q).length>0?Q:void 0}}if("aggregation"===t.type){if("aggregation"!==r.type)throw new(y().Um)("Reducer and state type mismatch");return{type:"aggregation",aggregationResult:(0,l().ek)(r.aggregationState)}}(0,o().HB)(t)}function T(e){const{groupsReducer:t,groupResults:r}=e,[o,a]=(0,n().jB)(r,(e=>e.visible));return t.returnHiddenGroups?[...o,...a]:o}function M(e){const{groupBy:t,groupSortPreference:r,groups:a,loader:s,schema:l,isSprintPlanningView:u}=e,d=r.map((e=>(0,c().MU)(e)?e.value:e));if("status"===t.type||(0,c().Xj)(t)){if("manual"===t.sort.type)return w(a,d);{const e=l[t.property];if("status"===(null==e?void 0:e.type))return function(e,t,r){const a=[],i=[],s=r.groups??[],l=r.options??[];for(const n of e){const e=n.value;if(e.value){if("status"===e.type){const t=e.value;if("by_group"===t.type){const e=s.findIndex((e=>e.name===t.group));i.push({group:n,index:e})}else if("by_option"===t.type){const e=l.findIndex((e=>e.value===t.option));i.push({group:n,index:e})}else(0,o().HB)(t)}}else a.push(n)}const c=n().Ul(i,(e=>e.index));t||c.reverse();r.defaultOption||0!==a.length||a.push({type:"status",value:{type:"status",value:void 0},total:0,groupSortPreferenceMap:new Map,aggregationState:void 0,pinnedAggregationState:void 0,blockResultState:void 0,propertyAggregationStateMap:new Map});return[...a,...c.map((e=>e.group))]}(a,"ascending"===t.sort.type,e)}}else if("select"===t.type||"multi_select"===t.type){if("manual"===t.sort.type)return w(a,d);{const e=l[t.property];if("select"===(null==e?void 0:e.type)||"multi_select"===(null==e?void 0:e.type))return function(e,t){const r=[],n=[];for(const o of e){const e=o.value;"select"!==e.type&&"multi_select"!==e.type||!e.value?r.push(o):n.push(o)}n.sort(((e,t)=>{const r=e.value,n=t.value,o="select"!==r.type&&"multi_select"!==r.type||!r.value?"":r.value,a="select"!==n.type&&"multi_select"!==n.type||!n.value?"":n.value;return o.localeCompare(a,void 0,{sensitivity:"base"})})),t||n.reverse();return[...r,...n]}(a,"ascending"===t.sort.type)}}else if((0,c().Ik)(t)){if("ascending"===t.sort.type)return B(a,!0,s);if("descending"===t.sort.type)return B(a,!1,s);if("manual"===t.sort.type)return B(a,!0,s);(0,o().HB)(t.sort)}else if("relation"===t.type){if("manual"===t.sort.type)return u?function(e,t){const r=e.some((e=>(0,c().D3)(e.value))),o={},a=(0,i().It)(r),s=a.map((e=>e.value));for(let i=0;i<a.length;i++){const e=s[i];n().I6(t,e)||(o[(0,c().AC)(e)]=i)}for(let n=0;n<t.length;n++){const e=t[n];o[(0,c().AC)(e)]=n+a.length}return n().Ul(e,[e=>{const t=o[(0,c().AC)(e.value)];return void 0!==t?t:1/0},e=>(0,c().AC)(e.value)])}(a,d):w(a,d);if("ascending"===t.sort.type)return C(a,{ascending:!0,nullGroupsLast:O(t.property)});if("descending"===t.sort.type)return C(a,{ascending:!1,nullGroupsLast:O(t.property)});(0,o().HB)(t.sort)}else if("location"===t.type){if("manual"===t.sort.type)return w(a,d);if("ascending"===t.sort.type)return P(a,!0);if("descending"===t.sort.type)return P(a,!1);(0,o().HB)(t.sort)}else if((0,c().Vh)(t)){if("manual"===t.sort.type)return w(a,d);if("ascending"===t.sort.type)return N(a,!0);if("descending"===t.sort.type)return N(a,!1);(0,o().HB)(t.sort)}else if("number"===t.type){if("ascending"===t.sort.type)return U(a,!0);if("descending"===t.sort.type)return U(a,!1);if("manual"===t.sort.type)return U(a,!0);(0,o().HB)(t.sort)}else{if("checkbox"===t.type)return w(a,d);(0,o().HB)(t.type)}return a}function w(e,t){const r={};for(let n=0;n<t.length;n++){const e=t[n];r[(0,c().AC)(e)]=n}return n().Ul(e,[e=>{const t=r[(0,c().AC)(e.value)];return void 0!==t?t:1/0},e=>(0,c().AC)(e.value)])}function B(e,t,r){const o=[],a=[];for(const n of e){const e=n.value;if(e.value){if("formula"===e.type&&"date"===e.value.type&&e.value.value){const t=(0,c().Kc)(e.value.value,r.userTimeZone);a.push({start:t.start.valueOf(),group:n})}else if((0,c().DH)(e)){const t=(0,c().Kc)(e.value,r.userTimeZone);a.push({start:t.start.valueOf(),group:n})}}else o.push(n)}const i=n().Ul(a,(e=>e.start));return t||i.reverse(),[...o,...i.map((({group:e})=>e))]}function C(e,t){const{ascending:r,nullGroupsLast:n}=t,o=[],a=[],i=[];for(const l of e){const e=l.value;"relation"===e.type&&e.value?"relation"===l.type&&l.isRestricted?i.push(l):a.push(l):o.push(l)}const s=(e,t)=>{if("relation"===e.type&&"relation"===t.type&&(0,c().D1)(e.value)&&(0,c().D1)(t.value)&&(0,c().WO)(e.value.value)&&(0,c().WO)(t.value.value))return e.value.value.id<t.value.value.id?-1:e.value.value.id>t.value.value.id?1:0};return a.sort(((e,t)=>{const r="relation"===e.type&&e.title?e.title:"",n="relation"===t.type&&t.title?t.title:"",o=r.localeCompare(n,void 0,{sensitivity:"base"});if(0===o){const r=s(e,t);if(void 0!==r)return r}return o})),r||a.reverse(),i.sort(((e,t)=>{const r=s(e,t);return void 0!==r?r:0})),n?[...a,...o,...i]:[...o,...a,...i]}function P(e,t){const r=[],n=[];for(const o of e){const e=o.value;"location"===e.type&&e.value?n.push(o):r.push(o)}return n.sort(((e,t)=>{const r="location"===e.type&&e.title?e.title:"",n="location"===t.type&&t.title?t.title:"";return r.localeCompare(n,void 0,{sensitivity:"base"})})),t||n.reverse(),[...r,...n]}function N(e,t){const r=[],n=[],o=[];for(const a of e){const e=a.value;e.value?"formula"===e.type&&"text"===e.value.type&&e.value.value?"other"===e.value.value.type?o.push(a):n.push({group:a,value:e.value.value.value}):(0,c().kO)(e)&&("other"===e.value.type?o.push(a):n.push({group:a,value:e.value.value})):r.push(a)}return n.sort(((e,t)=>e.value.localeCompare(t.value,void 0,{sensitivity:"base"}))),t||n.reverse(),[...r,...n.map((({group:e})=>e)),...o]}function U(e,t){const r=[],o=[],a=[];for(const n of e){const e=n.value;if(e.value){if("formula"===e.type&&"number"===e.value.type&&e.value.value){const t="unique"===e.value.value.type?e.value.value.value:e.value.value.start;"out_of_range"===e.value.value.type?a.push(n):o.push({group:n,start:t})}else if("number"===e.type){const t="unique"===e.value.type?e.value.value:e.value.start;"out_of_range"===e.value.type?a.push(n):o.push({group:n,start:t})}}else r.push(n)}const i=n().Ul(o,(e=>e.start));return t||i.reverse(),[...r,...i.map((({group:e})=>e)),...a]}function R(e){var t,r;const{propertyType:n,group:o,currentValue:a,aggregator:i,sorting:s,querySorts:u,groupSortPreferenceMap:d,getRecordModel:m,getRecordRole:f,propertyAggregations:y}=e;let _,b=!1;if("relation"===n){if("relation"===o.type&&o.value)if((0,c().WO)(o.value)){const e=m(o.value);b="none"===(null==f?void 0:f(o.value)),_=e?(0,v().q4_)((0,p().yQ)(e,"title",m)):void 0}else _=o.value.value.variable}else if("location"===n&&"location"===o.type&&o.value){const e=m(o.value);_=(0,v().q4_)(null==e?void 0:e.getName())}const h=null==a?void 0:a.aggregationState,A=i?h??(0,l().J7)(i):void 0,I=(null==a||null===(t=a.blockResultState)||void 0===t?void 0:t.blocks)??[],k=(null==a?void 0:a.total)??0;let x;if(null!=a&&a.propertyAggregationStateMap)x=a.propertyAggregationStateMap;else{x=new Map;for(const e of y??[])e.aggregation.property&&x.set(e.aggregation.property,{aggregation:e.aggregation,state:(0,l().J7)(e.aggregation.aggregator)})}return{type:n,value:o,title:_,total:k,aggregationState:A,isRestricted:b,pinnedAggregationState:(null==a?void 0:a.pinnedAggregationState)??(0,l().J7)("count"),groupSortPreferenceMap:(null==a?void 0:a.groupSortPreferenceMap)??d??new Map,blockResultState:{blocks:I,sorting:(null==a||null===(r=a.blockResultState)||void 0===r?void 0:r.sorting)??s??new(g().z8)(u??[])},propertyAggregationStateMap:x}}function D(e,t){const r=function(e,t){const r=new Set,n=new Set,o=new Set;for(const a of e){if("groups"!==a.type)return new Set;for(const e of a.blockIdToGroupIds.get(t)??[])n.add(e);for(const e of a.blockIdToSubgroupIds.get(t)??[])o.add(e)}for(const a of o)for(const e of n){const t=(0,c().A)([a,e]);r.add(t)}return n.forEach((e=>r.add(e))),o.forEach((e=>r.add(e))),r}(e,t);for(const n of e){if("groups"!==n.type)return new Set;n.blockIdToGroupIds.delete(t),n.blockIdToSubgroupIds.delete(t)}return r}function O(e){return Boolean(e&&e===i().yx.TaskToProjectRelation)}function F(e,t,r){var n;if("status"!==r.type&&"select"!==r.type&&"multi_select"!==r.type)return e;const o=t[r.property];if(!o||!(0,u().DQ)(o))return e;const a=new Set(null===(n=o.options)||void 0===n?void 0:n.map((e=>e.value))),i=[];for(const c of e){var s,l;const e=c.value;if(!e){i.push(c);continue}if("status"!==e.type&&"select"!==e.type&&"multi_select"!==e.type){i.push(c);continue}if("status"===e.type&&"by_group"===(null===(s=e.value)||void 0===s?void 0:s.type)){i.push(c);continue}let t="";"select"!==e.type&&"multi_select"!==e.type||(t=e.value??""),"status"===e.type&&"by_option"===(null===(l=e.value)||void 0===l?void 0:l.type)&&(t=e.value.option),a.has(t)&&i.push(c)}return i}},384148:(e,t,r)=>{r.d(t,{Ay:()=>a,eq:()=>o});var n=()=>r(292588);const o="server_integrations__slack_unique_global_user",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_global_user_id:n().A.String,slack_enterprise_id:n().A.String,preferences:n().A.JSON}}},384813:(e,t,r)=>{r.d(t,{c:()=>i});r(944114),r(898992),r(354520),r(581454);var n=()=>r(534177),o=()=>r(713998),a=()=>r(522419);function i(e,t,r){const n=[],i=e.getProperties(),l=e.useCrdt()&&e.getBlockTitleTextSliceTree();if(l){const e=s(o().pJ(l.getTextValue()),t,r);n.push(...e)}if(i){const e=Object.keys(i);for(const a of e){if("title"===a)continue;const e=i[a],l=s(e?o().pJ(e):void 0,t,r);n.push(...l)}}const c=e.getFormat();if(c){const{page_cover:e,page_icon:o}=c;if(e){const o=(0,a().EY)(e,t,r);o&&n.push(o)}if(o){const e=(0,a().EY)(o,t,r);e&&n.push(e)}}return{fileIds:n}}function s(e,t,r){return void 0===e?[]:e.map((e=>(0,a().EY)(e.url,t,r))).filter(n().O9)}},387358:(e,t,r)=>{r.d(t,{Op:()=>o,k9:()=>a,qB:()=>i});const n="addProperty-";function o(e){return{key:`${n}${e}`,draggable:!1}}function a(e){return e.startsWith(n)}function i(e){return e.slice(n.length)}},388693:(e,t,r)=>{r.d(t,{Ei:()=>S,Gk:()=>k,Gw:()=>x,Hy:()=>g,IQ:()=>h,Jc:()=>A,Ry:()=>M,UI:()=>T,Z1:()=>y,cx:()=>m,kG:()=>b,mt:()=>_,oA:()=>w,qh:()=>B,rM:()=>d,rf:()=>v,sP:()=>f,v_:()=>p});r(898992),r(354520),r(672577),r(581454);var n=()=>r(534177),o=()=>r(939768),a=()=>r(148307),i=()=>r(617871),s=()=>r(206267),l=()=>r(792071),c=()=>r(332393),u=()=>r(193657);(0,r(69708).YK)({dlp:{id:"integrationHelpers.integrationTypes.dlp",defaultMessage:"DLP"},siem:{id:"integrationHelpers.integrationTypes.siem",defaultMessage:"SIEM"},ediscovery:{id:"integrationHelpers.integrationTypes.ediscovery",defaultMessage:"eDiscovery"}});const d=200;function p(e){if(void 0===e)return!1;const t=l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities;return!0===(null==t?void 0:t.link_preview)||!0===(null==t?void 0:t.synced_database)}function m(e){if(void 0===e)return!1;const t=l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities;return!0===t.workspace_page_export||!0===t.workspace_search||!0===t.read_teamspace}function f(e){if(void 0===e)return!1;return!0===(l().Bj6.isAnyModel(e)?e.getCapabilities():e.capabilities).webhooks}function g(e){return p(e)}function y(e){var t;if(!p(e))return!1;const r=l().Bj6.fromValue(c().Li,e);return Boolean(null==r||null===(t=r.getInfo().original_url_patterns)||void 0===t?void 0:t.find((e=>{var t;return!0===(null===(t=e.additional_types)||void 0===t?void 0:t.collection)})))}function _(e){return void 0!==e&&"external"===e.type&&i().AC.includes(e.id)}function v(e){const{baseUrl:t,redirectUri:r,allowNotionDomains:n=!1}=e,a=o().q7(r);if(!a)return!1;const i=o().qg(a);if(!i.hostname)return!1;if("http:"===i.protocol&&"localhost"===i.hostname)return!0;if("https:"!==i.protocol)return!1;if(!n){const{hostname:e}=o().qg(t);if(!e)return!1;const r=e.split(".").slice(-2,-1).join("."),n=`${r}.so`,a=`${r}.com`;if(i.hostname===n||i.hostname.endsWith(`.${n}`)||i.hostname===a||i.hostname.endsWith(`.${a}`))return!1}return!0}function b(e,t){const r=t.match(/^(h|$)(t|$)(t|$)(p|$)(s|$)(:|$)(\/|$)(\/|$).*$/),o=t.match(/^(h|$)(t|$)(t|$)(p|$)(:|$)(\/|$)(\/|$).*$/);return[t,r?void 0:`https://${t}`,o?void 0:`http://${t}`].filter(n().O9).filter((t=>t&&v({baseUrl:e,redirectUri:t})))}const h="legacy-google-integration",A="legacy-slack-integration",I={id:h,name:"Google Drive",alive:!0,status:"published",info:{icon:a().A.images.import.googleDrivePng,tagline:"Easily bring Google Docs, Sheets, and Slides into Notion",description:"Connect Google Drive with Notion to easily bring all your files into Notion - including Google Sheets, Google Docs, and Google Slides.",developer_name:"Notion",website_url:"https://www.notion.so/",privacy_policy_url:"https://www.notion.so/notion/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac",screenshots:[a().A.images.integrations.screenshots.googleDriveIntegrationPng]},updated_at:0},k={id:A,name:"Slack",alive:!0,status:"published",info:{icon:a().A.images.externalIntegrations.slackIconPng,tagline:"See Slack messages directly in Notion for easy sharing and collaboration",description:"Slack is a messaging app for business that connects people to the information they need. Notion's link preview integration with Slack allows you to see Slack messages directly in a Notion page by simply pasting a link, for easy sharing and collaboration across teams.",developer_name:"Notion",website_url:"https://www.notion.so/",privacy_policy_url:"https://www.notion.so/notion/Terms-and-Privacy-28ffdd083dc3473e9c2da6ec011b58ac"},updated_at:0},x=[I,k],S=x.map((e=>e.id));function T(e){return`${e}/eap/app/authorize`}function M(e){const{locale:t,integrationId:r}=e;return(0,s().gB)(JSON.stringify({table:u().bh,locale:t,id:r}))}const w={USER:"User",ADMIN:"Admin"},B={REAUTHENTICATION_REQUIRED:"RE_AUTH",FAILED_TO_FETCH_SALESFORCE_PROPERTIES:"FAILED_TO_FETCH_SALESFORCE_PROPERTIES",NO_PROPERTIES_FOUND:"NO_PROPERTIES_FOUND",NO_USER_API_ACCESS:"NO_USER_API_ACCESS",NOT_FOUND:"NOT_FOUND"}},388821:(e,t,r)=>{r.r(t),r.d(t,{RecordMap:()=>c,RecordMapPolymorphic:()=>l,RecordMapWithRole:()=>d,RecordValueMap:()=>m,__TEST_ONLY__RecordMapV4:()=>g,isRecordMapJsonV3:()=>s,isRecordMapWithRoleEntryOfTable:()=>u,partialRecordMapToRecordMap:()=>f});r(16280),r(898992),r(354520),r(803949),r(581454);var n=()=>r(534177),o=()=>r(792071),a=()=>r(870723);function i(e){return(0,n().uv)(e).filter((e=>!e.startsWith("__")))}function s(e){return 3===e.__version__}const l={create(e){if(e){if(s(e))return p.fromJsonV3(e);if(void 0===e.__version__)return p.fromJsonV1(e);throw new Error("Unknown RecordMapJson version")}return new p(void 0,3)}};class c{constructor(e){this.inner=void 0,this.inner=l.create(e)}has(e){return void 0!==this.getValue(e)}getValue(e){return this.inner.get(e)}getModel(e){const t=this.getValue(e);if(t)return o().Bj6.fromValue(e.table,t)}pointerWasExplicitlySet(e){return this.inner.pointerWasExplicitlySet(e)}getTables(){return this.inner.iterateTables()}getByTable(e){return this.inner.getByTable(e)}getModelsByTable(e){return this.inner.getByTable(e).map((t=>o().Bj6.fromValue(e,t.value))).filter((e=>void 0!==e))}getPointersByTable(e){return this.inner.getByTable(e).map((e=>e.pointer))}getModels(e){return e.map((e=>this.getModel(e)))}setValue(e,t){return this.inner.set(e,t),this}setModel(e,t){const r=null==t?void 0:t.__IM_SORRY__getValue();return this.setValue(e,r)}addModel(e){return this.setModel(e.pointer,e)}*[Symbol.iterator](){for(const{pointer:e,value:t}of this.inner)yield{pointer:e,model:o().Bj6.fromValue(e.table,t)}}delete(e){return this.inner.delete(e),this}deleteAll(){return this.inner.deleteAll(),this}getSize(){return this.inner.getSize()}clone(){const e=new c;for(const t of this)e.setModel(t.pointer,t.model);return e}toJson(){return this.inner.toJson()}assign(e){for(const{pointer:t,model:r}of e)this.setModel(t,r);return this}assignNewerVersion(e){for(const{pointer:t,model:r}of e){const e=this.getModel(t);(!e||!r||r.getVersion()>=e.getVersion())&&this.setModel(t,r)}return this}static merge(e){const t=new c;return e.forEach((e=>t.assign(e))),t}static mergeByVersion(e){const t=new c;return e.forEach((e=>t.assignNewerVersion(e))),t}static create(e){return new c(e)}static createFromModels(...e){const t=c.create();for(const r of e)t.addModel(r);return t}toRecordPointerSet(){const e=new(r(728272).d);for(const{pointer:t,model:r}of this)r&&e.add(t);return e}}function u(e,t){return e.pointer.table===t}class d{constructor(e){this.inner=void 0,this.inner=l.create(e)}has(e){return void 0!==this.getRole(e)}getValue(e){var t;return null===(t=this.inner.get(e))||void 0===t?void 0:t.value}getModel(e){const t=this.getValue(e);if(t)return o().Bj6.fromValue(e.table,t)}getModelWithBackfilledSpaceId(e){var t;if(!(0,a().kW)(e.table)&&!(0,a().$t)(e.table))return{model:this.getModel(e),pointer:e};if(e.table===r(96689).NX)return{model:this.getModel(e),pointer:e};if(e.spaceId)return{model:this.getModel(e),pointer:e};const i=this.inner.getEntryWithBackfilledSpaceId(e);return i?{model:(0,n().O9)(null===(t=i.value)||void 0===t?void 0:t.value)?o().Bj6.fromValue(e.table,i.value.value):void 0,pointer:i.pointer}:void 0}getModelsByTable(e){return this.getByTable(e).map((t=>{var r,n;return null!==(r=t.value)&&void 0!==r&&r.value?o().Bj6.fromValue(e,null===(n=t.value)||void 0===n?void 0:n.value):void 0})).filter(n().O9)}getRole(e){var t;return null===(t=this.inner.get(e))||void 0===t?void 0:t.role}getTables(){return this.inner.iterateTables()}getByTable(e){return this.inner.getByTable(e)}getPointersByTable(e){return this.inner.getByTable(e).map((e=>e.pointer))}setValueAndRole(e,t,r){return this.inner.set(e,{value:t,role:r}),this}setModelAndRole(e,t,r){const n=null==t?void 0:t.__IM_SORRY__getValue();return this.setValueAndRole(e,n,r)}*[Symbol.iterator](){for(const e of this.inner[Symbol.iterator]())e.value&&(yield{pointer:e.pointer,model:o().Bj6.fromValue(e.pointer.table,e.value.value),role:e.value.role})}delete(e){return this.inner.delete(e),this}deleteAll(){return this.inner.deleteAll(),this}clone(){const e=new d;for(const{pointer:t,model:r,role:n}of this)e.setModelAndRole(t,r,n);return e}getSize(){return this.inner.getSize()}assign(e){for(const{pointer:t,model:r,role:n}of e)this.setModelAndRole(t,r,n);return this}assignNewerVersion(e){for(const t of e){if(!this.has(t.pointer)){this.setModelAndRole(t.pointer,t.model,t.role);continue}const e=this.getModel(t.pointer),r=t.model;e&&r?r.getVersion()>=e.getVersion()&&this.setModelAndRole(t.pointer,r,t.role):this.setModelAndRole(t.pointer,t.model,t.role)}return this}static merge(e){const t=new d;return e.forEach((e=>t.assign(e))),t}static mergeByVersion(e){const t=new d;return e.forEach((e=>t.assignNewerVersion(e))),t}toJson(){return this.inner.toJson()}toRecordMap(){const e=c.create();for(const{pointer:t,model:r}of this)r&&e.setModel(t,r);return e}static create(e){return new d(e)}static difference(e,t){const n=d.create();for(const{pointer:o,model:a,role:i}of e)t.has((0,r(452540).jV)(o))||n.setModelAndRole(o,a,i);return n}}class p{static fromJsonV1(e){const t=new p(void 0,1);for(const r of i(e)){const n=e[r];if(!n)continue;const o=Object.keys(n),a=o.length;for(let e=0;e<a;e++){const a=o[e],i={table:r,id:a},s=n[a];t.set(i,s)}}return t}static fromJsonV3(e){const t=new Map,r=i(e),n=r.length;for(let o=0;o<n;o++){const n=r[o],a=e[n];if(!a)continue;const i=Object.keys(a),s=i.length;if(0===s)continue;const l=new Map;t.set(n,l);for(let e=0;e<s;e++){const t=i[e],r=a[t];l.set(t,r)}}return new p(t,3)}constructor(e,t){this.data=void 0,this.toJsonVersion=void 0,this.data=e??new Map,this.toJsonVersion=t}get(e){var t;return null===(t=this.data.get(e.table))||void 0===t||null===(t=t.get(e.id))||void 0===t?void 0:t.value}getEntryWithBackfilledSpaceId(e){var t;const r=null===(t=this.data.get(e.table))||void 0===t?void 0:t.get(e.id);if(r)return{pointer:{table:e.table,id:e.id,spaceId:r.spaceId},value:r.value}}pointerWasExplicitlySet(e){var t;return Boolean(null===(t=this.data.get(e.table))||void 0===t?void 0:t.has(e.id))}delete(e){const t=this.data.get(e.table);return t?(t.delete(e.id),0===t.size&&this.data.delete(e.table),this):this}deleteAll(){return this.data.clear(),this}clone(){const e=new Map;for(const[t,r]of this.data)e.set(t,new Map(r));return new p(e,this.toJsonVersion)}getSize(){const e=this.data;let t=0;for(const r of e.values())t+=r.size;return t}getByTable(e){const t=this.data.get(e);if(!t)return[];const r=new Array(t.size);let n=0;for(const[o,a]of t){const t={pointer:{table:e,id:o,spaceId:a.spaceId},value:a.value};r[n]=t,n++}return r}set(e,t){var r;let n=this.data.get(e.table);n||(n=new Map,this.data.set(e.table,n));const o=null===(r=n.get(e.id))||void 0===r?void 0:r.spaceId,a=e.spaceId??o;return n.set(e.id,{spaceId:a,value:t}),this}*[Symbol.iterator](){const e=this.data;for(const[t,r]of e)for(const[e,n]of r){const{value:r,spaceId:o}=n;yield{pointer:{id:e,table:t,spaceId:o},value:r}}}toJson(){switch(this.toJsonVersion){case 3:return this.toJsonV3();case 1:return this.toJsonV1();default:(0,n().HB)(this.toJsonVersion,(()=>`Unknown RecordMapJson version: ${this.toJsonVersion}`))}}toJsonV3(){const e={__version__:3};return this.data.forEach(((t,r)=>{const n={};t.forEach(((e,t)=>{n[t]=e})),e[r]=n})),e}toJsonV1(){const e={};return this.forEach((({pointer:t,value:r})=>{(e[t.table]??={})[t.id]=r})),e}forEachInTable(e,t){const r=this.data.get(e);r&&r.forEach(((r,n)=>{const o={table:e,pointer:{table:e,id:n,spaceId:r.spaceId},value:r.value};t(o)}))}*iterateTable(e){const t=this.data.get(e);if(t)for(const[r,n]of t){const t={table:e,pointer:{table:e,id:r,spaceId:n.spaceId},value:n.value};yield t}}iterateTables(){return this.data.keys()}forEach(e){for(const t of this.iterateTables())this.forEachInTable(t,e)}}class m extends p{constructor(){super(void 0,3)}toJson(){return super.toJson()}}function f(e){const t=c.create();for(const{pointer:r,value:n}of e)t.setValue(r,n);return t}const g=p},390066:(e,t,r)=>{r.d(t,{I:()=>g,L:()=>d});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(901610),i=()=>r(708685),s=()=>r(62371),l=()=>r(898244),c=()=>r(329199),u=()=>r(651124);function d(e,t,r,n){if(e||(e={}),n===u().jf.Table||n===u().jf.Relation){if(e={...e,table_properties:f(e.table_properties||[],t,"force",!0),collection_group_by:b(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),table_frozen_column_index:void 0!==e.table_frozen_column_index?Math.max(e.table_frozen_column_index,-1):-1,board_columns_by:void 0,subitem_filter_scope:k(e,n)},n===u().jf.Relation){const r=f(e.table_properties||[],t,"force",!0);e.collection_relation_options||(e.collection_relation_options={});if(r.filter((e=>{var r;return"relation"===(null===(r=t[e.property])||void 0===r?void 0:r.type)})).map((t=>{e.collection_relation_options&&!e.collection_relation_options[t.property]&&(e.collection_relation_options[t.property]={})})),e.collection_relation_options){const t={};Object.entries(e.collection_relation_options).map((([e,r])=>{const n=r.related_properties;let o;if(n)if(n.find((e=>"title"===e.property)))if(n.find((e=>"title"===e.property&&!e.visible))){const e=n.find((e=>"title"===e.property&&!e.visible));e&&(e.visible=!0)}else o=n;else o=[{property:"title",visible:!0},...n];else o=[{property:"title",visible:!0}];t[e]={related_properties:o}})),e.collection_relation_options=t}}}else if(n===u().jf.Board){const o=p(e.board_cover,t),a=e.board_properties||[];!0!==(e={...e,board_columns_by:v(e,t,r),board_cover:o,board_columns:e.board_columns||e.board_groups2||[],board_properties:g({propertyFormats:e.board_properties||[],schema:t,titleProperty:(0,u().zl)(o)?"allow":"force"}),collection_group_by:b(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),table_wrap:void 0===e.table_wrap||e.table_wrap,subitem_filter_scope:k(e,n)}).board_title_visible||a.find((e=>"title"===e.property))||(e.board_properties=(0,u().Cn)(e.board_properties||[],"title",!0),delete e.board_title_visible)}else if(n===u().jf.Calendar)e={...e,calendar_properties:g({propertyFormats:e.calendar_properties||[],schema:t,titleProperty:"force"}),property_filters:A(e,t),conditional_color_rules:I(e,t),subitem_filter_scope:k(e,n)};else if(n===u().jf.List)e={...e,list_properties:g({propertyFormats:e.list_properties||[],schema:t,titleProperty:"force"}),collection_group_by:b(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),board_columns_by:void 0,subitem_filter_scope:k(e,n)};else if(n===u().jf.Feed)e={...e,feed_properties:g({propertyFormats:e.feed_properties||[],schema:t,titleProperty:"disallow"}),property_filters:A(e,t),board_columns_by:void 0};else if(n===u().jf.Gallery){const r=p(e.gallery_cover,t);!0===(e={...e,gallery_cover:r,gallery_properties:g({propertyFormats:e.gallery_properties||[],schema:t,titleProperty:(0,u().zl)(r)?"allow":"force"}),board_columns_by:void 0,collection_group_by:b(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),subitem_filter_scope:k(e,n)}).gallery_title_visible&&(e.gallery_properties=(0,u().Cn)(e.gallery_properties||[],"title",!0),delete e.gallery_title_visible)}else if(n===u().jf.Timeline){const r=f(e.timeline_table_properties||[],t,"allow",!1),o=r.some((({visible:e})=>Boolean(e))),a=(0,u().w3)(Boolean(e.timeline_show_table),r);e={...e,timeline_properties:g({propertyFormats:e.timeline_properties||[],schema:t,titleProperty:a?"allow":"force"}),timeline_table_properties:r,timeline_show_table:Boolean(e.timeline_show_table&&o),collection_group_by:b(e,t),property_filters:A(e,t),conditional_color_rules:I(e,t),board_columns_by:void 0,subitem_filter_scope:k(e,n)}}else if(n===u().jf.Page||n===u().jf.Collection){var o;const r=g({propertyFormats:e.collection_page_properties||[],schema:t,titleProperty:"disallow"}),n={};if(e.property_visibility)for(const t of e.property_visibility)n[t.property]=t.visibility;const a=new Set(["hide","hide_if_empty"]),i=r.some((e=>a.has(n[e.property])))?"hide_if_empty":"show";e={...e,page_section_visibility:e.page_section_visibility||{backlinks:"section_collapsed",comments:"section_show",margin_comments:"inline"},property_visibility:r.map((e=>({property:e.property,visibility:n[e.property]||i}))),collection_page_sections:null===(o=e.collection_page_sections)||void 0===o?void 0:o.filter((e=>{var r;return!!e&&"relation"===(null===(r=t[e.section])||void 0===r?void 0:r.type)})),collection_page_properties:r}}else n===u().jf.PageView?e={...e}:n===u().jf.Chart&&(e={...e,chart_subgroups:e.chart_subgroups||[],chart_config:y(e.chart_config,t)});const a=e.inline_collection_first_load_limit;return a&&"load_all"===a.type&&(e.inline_collection_first_load_limit={type:"load_limit",limit:100}),e}function p(e,t){if(e&&"property"===e.type){const r=t[e.property];return r&&"file"===r.type?e:void 0}return e}function m(e){const t=Object.keys(e);return n().Ul(t,(t=>{if(l().NM(t))return"";{const r=e[t];return r?r.name:""}}))}function f(e,t,r,o){let a=[...e];a=a.filter((e=>e&&Boolean(t[e.property])));const i=l().ol(t);"allow"===r?a=(0,u().Cn)(a,i,!1):"disallow"===r?a=_(a,i):"force"===r&&(a=(0,u().Cn)(a,i,!0));const s=a.some((e=>!e.visible)),c=m(t);for(const n of c){if(l().cC(n))continue;l().cP(n)&&(a=_(a,"title"));const r=e.find((e=>e.property===n)),i=t[n];let c=!1;i&&l().nC(i)&&i.hideByDefaultInUnconfiguredViews&&(c=!0),r||(s||!o||c?a.push({property:n,visible:!1}):a.push({property:n,visible:!0}))}return a=a.map((e=>{if(e.width)return e;{const t=l().NM(e.property)?u().Xv:u().kp;return{...e,width:t}}})),a=n().hS(a,(({property:e})=>e)),a}function g(e){const{propertyFormats:t,schema:r,titleProperty:o}=e;let a;a=t.filter((e=>e&&Boolean(r[e.property]))),"allow"===o?a=(0,u().Cn)(a,"title",!1):"disallow"===o?a=_(a,"title"):"force"===o&&(a=(0,u().Cn)(a,"title",!0));const i=new Map(a.map((e=>[e.property,e]))),s=m(r);for(const n of s)if(!l().NM(n)){if(!i.get(n)){const e={property:n,visible:!1};a.push(e),i.set(n,e)}}return a=n().hS(a,(({property:e})=>e)),a}function y(e,t){var r;if(!e)return e;if("placeholder"===e.type)return e;const o=n().mg(e);if(o.chartFormat&&void 0===o.chartFormat.mainSort&&void 0!==o.chartFormat.axisSort&&(o.chartFormat.mainSort=o.chartFormat.axisSort,o.chartFormat.axisSort=void 0),"groups_reducer"===(null===(r=o.dataConfig)||void 0===r?void 0:r.type)){const e=h(o.dataConfig.groupBy,t);if(e&&(o.dataConfig.groupBy=e),(0,a().m)(o)){var i;const e=null===(i=o.dataConfig.aggregationConfig.stackOptions)||void 0===i?void 0:i.groupBy;if(e){const r=h(e,t);r&&(o.dataConfig.aggregationConfig.stackOptions.groupBy=r)}}}return o}function _(e,t){return e.filter((({property:e})=>e!==t))}function v(e,t,r){let n;if(e.board_columns_by)n=h(e.board_columns_by,t);else if(r&&r.group_by){const e=t[r.group_by];e&&(0,s().lN)(e)&&(n={property:r.group_by,type:e.type,sort:{type:"manual"}})}return n}function b(e,t){let r;return e.collection_group_by&&(r=h(e.collection_group_by,t)),r}function h(e,t){if(!e)return;const r=t[e.property];if(r&&(0,s().Eg)(r)){if("formula"===e.type){let t=(0,i().getFormulaPropertySchemaResultType)(r);return"block"===t&&(t="relation"),t===e.groupBy.type?e:(0,s().V0)({property:e.property,propertySchema:r})}return r.type===e.type&&e.sort&&(0,s().Nf)(e).includes(e.sort.type)?e:(0,s().V0)({property:e.property,propertySchema:r})}}function A(e,t){if(e.property_filters){const r=e.property_filters.map((({id:e,filter:r})=>{const n=(0,c().hs)(r,t);return n&&{id:e,filter:n}}));return n().oE(r)}}function I(e,t){if(!e.conditional_color_rules)return;return e.conditional_color_rules.map((e=>{const r=(0,c().hs)({property:e.conditional_filter.property,filter:e.conditional_filter.filter},t);if(r)return{...e,conditional_filter:r}})).filter(o().O9)}function k(e,t){const r=e.subitem_display_mode??"show";if("disabled"===r)return"parents_and_subitems";if(e.subitem_filter_scope)return e.subitem_filter_scope;const n=t===u().jf.Board||t===u().jf.Gallery||t===u().jf.Calendar;return"hidden"===r||"show"===r&&n?"parents":"parents_and_subitems"}},394593:(e,t,r)=>{r.d(t,{z:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"6.07 3.77 7.85 12.28",svg:(0,r(474848).jsx)("path",{d:"M7.309 6.71c.22-.88 1.251-1.68 2.656-1.68 1.635 0 2.708 1.036 2.708 2.047 0 .603-.368 1.203-1.048 1.617l-.014.008-1.242.849-.003.002c-.805.556-1.31 1.45-1.31 2.417a.625.625 0 0 0 1.25 0c0-.522.275-1.046.769-1.388l1.215-.83c.944-.58 1.633-1.536 1.633-2.675 0-1.945-1.905-3.297-3.958-3.297-1.812 0-3.474 1.044-3.869 2.625a.625.625 0 1 0 1.213.303m3.435 8.351a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})},o=(0,r(340498).wt)("questionMark",n)},395868:(e,t,r)=>{r.d(t,{A7:()=>s,Ay:()=>c,Cr:()=>l});var n=()=>r(534177),o=()=>r(292588);const a=["favorites","private","shared"];function i(e){const{spaceIdCreator:t,userId:r,sectionType:o}=e;return function(e){return!!(0,n().Xk)(a,e)}(o)?t.deterministicIdInSavedSpace(l,`${r}:${o}`):t.idInSavedSpace(l)}function s(e){return{id:i(e),table:l,spaceId:e.spaceIdCreator.getSpaceId()}}const l="sidebar_section",c={table:l,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.UUID,space_id:o().A.UUID,section_type:o().A.String,properties:o().A.JSON,alive:o().A.Boolean,created_at:o().A.Number},requiredColumns:{user_id:!0,space_id:!0,section_type:!0,alive:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},396350:(e,t,r)=>{r.d(t,{i:()=>a});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.876 7.982a.625.625 0 1 0-1.072-.644L9.25 11.595 7.815 9.92a.625.625 0 1 0-.95.813l2 2.334a.625.625 0 0 0 1.01-.085z"}),(0,n.jsx)("path",{d:"M5.25 3.125A2.125 2.125 0 0 0 3.125 5.25v9.5c0 1.174.951 2.125 2.125 2.125h9.5a2.125 2.125 0 0 0 2.125-2.125v-9.5a2.125 2.125 0 0 0-2.125-2.125zM4.375 5.25c0-.483.392-.875.875-.875h9.5c.483 0 .875.392.875.875v9.5a.875.875 0 0 1-.875.875h-9.5a.875.875 0 0 1-.875-.875z"})]})},a=(0,r(340498).wt)("checkmarkSquare",o)},397277:(e,t,r)=>{r.d(t,{Nk:()=>d,Tw:()=>l,ZU:()=>p,eD:()=>i,ev:()=>u,hp:()=>a,uZ:()=>s,wF:()=>f,xi:()=>m});r(898992),r(672577),r(430670),r(803949),r(581454),r(908872);var n=()=>r(496603),o=()=>r(201980);const a=[o().BQP.TemporaryHighlight,{light:"#105FAD",dark:"#4FA7FF"}],i=[o().BQP.TemporaryHighlight,{light:"#2383E291",dark:"#2383E291"}],s=[o().BQP.TemporaryHighlight,{light:"#C7C6C4",dark:"#FFFFFF21"}],l=[o().BQP.TemporaryHighlight,{light:"#ACA9A9",dark:"#5A5A5A"}],c=["property_title","block_format_suggestion","property_caption","table_row"];function u(e){return e.map((e=>{const t=(0,o().uPN)(e),r=n().$z(t,o()._XS),a=r[o().Ifu.SuggestionAnnotate]||[],i=r[o().Ifu.SuggestionUnannotate]||[];return a.forEach((e=>{if((0,o().MXn)(e)){const t=(0,o().Dew)(e),n=(0,o()._XS)(t);r[n]||(r[n]=[t])}})),i.forEach((e=>{if((0,o().zIw)(e)){const t=(0,o().Dew)(e),n=(0,o()._XS)(t);r[n]&&delete r[n]}})),(0,o().Ey_)((0,o().N8A)(e),n().Bq(Object.values(r)),{skipSanitization:!0})}))}function d(e){return e.flatMap((e=>(0,o().uPN)(e).flatMap((e=>o().I1e(e)?[o().vu(e)]:[]))))}function p(e){const{suggestions:t,...r}=e;return r}function m(e){const{blockModel:t,exclude:r,discussionId:n}=e;return c.filter((e=>!(null!=r&&r.has(e)))).reduce(((e,r)=>{if(e)return!0;switch(r){case"property_title":return d(t.getProperty("title")??[]).includes(n);case"property_caption":return d(t.getProperty("caption")??[]).includes(n);case"block_format_suggestion":return Boolean(t.getAllBlockSuggestions().find((e=>e.discussionId===n)));case"table_row":if("table_row"===t.getType())for(const e of Object.keys(t.getProperties())){if(d(t.getPropertiesStore().getKeyStore(e).getValue()??[]).includes(n))return!0}return!1}}),!1)}function f(e,t){if(!t)return{first:[...e],second:[]};const r=e.indexOf(t);if(-1===r)return{first:[...e],second:[]};return{first:e.slice(0,r+1),second:e.slice(r+1)}}},398966:(e,t,r)=>{r.d(t,{Ay:()=>b,XD:()=>v,c$:()=>f});r(18107),r(944114),r(967357);var n=r.n(r(625473)),o=()=>r(534177),a=()=>r(416845),i=()=>r(201980),s=()=>r(673337),l=()=>r(91913),c=()=>r(187534),u=()=>r(425877),d=()=>r(908948);function p(e){switch(e.type){case"insertText":return e.id[1]+e.content.length-1;case"splitText":case"addAnnotation":case"removeAnnotation":return e.id[1]}}var m=()=>r(933449);function f(e){return e instanceof u().mc||e instanceof u().of}function g(e){return e instanceof u().fn||e instanceof u().of}function y(e){return e instanceof u().pC}function _(e){return"EndItem"!==e.className}function v(e){return"end"!==e}class b{constructor(e,t,r,n){this.textInstanceId=void 0,this.searchLabel=void 0,this.opClock=void 0,this.startItem=void 0,this.endItem=void 0,this.visibleCount=void 0,this.indexToOpIdMap=void 0,this.textInstanceId=e,this.searchLabel=n,this.opClock=t,this.startItem=r;const o=d().W(r);this.endItem=(0,m().Wg)(o,g,l().sF,{from:"constructor",textInstanceId:e,searchLabel:this.searchLabel,endItemType:null==o?void 0:o.className}),(0,m().MX)(this.startItem!==this.endItem,"Text slice must not be empty"),this.visibleCount=d().Gf(r)}rebuildIndexToOpIdMap(){this.indexToOpIdMap=[];for(const e of this.iterateItems({includeDeleted:!1})){if(!(e instanceof u().pC))continue;const[t,r]=e.id,n=e.getLength();for(let e=0;e<n;e++)this.indexToOpIdMap.push([t,r+e])}(0,m().MX)(this.indexToOpIdMap.length===this.visibleCount,"indexToOpIdMap length must match visible count",{indexToOpIdMapLength:this.indexToOpIdMap.length,visibleCount:this.visibleCount})}getSearchLabel(){return this.searchLabel}setSearchLabel(e){(0,m().MX)(!1,"setSearchLabel is for testing only"),this.searchLabel=e}getStartItem(){return this.startItem}getEndItem(){return this.endItem}getVisibleCount(){return this.visibleCount}applyOperation({op:e,originPresentInTextSlice:t=!0,enforceMonotonicInsertTextOperations:r=!1}){switch(e.type){case"insertText":this.applyInsertTextOperation({op:e,originPresentInTextSlice:t,enforceMonotonicInsertTextOperations:r});break;case"deleteText":this.applyDeleteTextOperation(e);break;case"splitText":this.applySplitTextOperation({op:e,originPresentInTextSlice:t});break;case"addAnnotation":case"removeAnnotation":this.applyAnnotationOperation({op:e});break;default:(0,o().HB)(e)}}applyInsertTextOperation({op:e,originPresentInTextSlice:t=!0,enforceMonotonicInsertTextOperations:r=!1}){const n=u().pC.create(e.id,e.originId,e.content);this.integrateItem({newItem:n,originItemOverride:t?void 0:this.startItem,enforceMonotonicInsertTextOperations:r}),this.opClock.maybeUpdateClock(p(e)),this.validateContent()}backfillDeletedTextItem(e,t,r,n){const o=u().pC.createDeleted(e,t,r);this.integrateItem({newItem:o,originItemOverride:n?void 0:this.startItem}),this.opClock.maybeUpdateClock(function(e,t){return e[1]+t-1}(e,r))}applyDeleteTextOperation(e){for(const t of e.idRanges)for(const e of this.getTextItemsInIdRange(t))e.isDeleted()||(e.setDeleted(),this.visibleCount-=e.getLength(),e.prev instanceof u().pC&&e.prev.maybeMergeWithNext(),e.maybeMergeWithNext());this.indexToOpIdMap=void 0,this.validateContent()}applySplitTextOperation({op:e,originPresentInTextSlice:t}){const r=new(u().of)(e.id,e.originId);this.integrateItem({newItem:r,originItemOverride:t?void 0:this.startItem}),this.opClock.maybeUpdateClock(p(e))}findInsertionPoint(e,t){let r=t;for(;r.next&&!((0,c()._3)(e,r.next.id)>0);)r=(0,m().Wg)(r.next,_,l().M2);return r}integrateItem({newItem:e,originItemOverride:t,enforceMonotonicInsertTextOperations:r=!1}){this.verifyDoesNotContainOpId({type:e instanceof u().pC?"text":"split",id:e.id,originId:e.originId,enforceMonotonicInsertTextOperations:r}),(0,m().MX)(1===(0,c()._3)(e.id,e.originId),"new item ID must be strictly greater than its origin ID",{newItemId:e.id,newItemOriginId:e.originId});const n=t??(0,m().o9)(this.getItemEndingWithId(e.originId),l().QS),o=(0,m().Wg)(n,_,l().rQ),a=this.findInsertionPoint(e.id,o),i=a.next;if(a.next=e,e.prev=a,i&&(e.next=i,i.prev=e),e instanceof u().pC&&(this.visibleCount+=e.getLength()),e instanceof u().of){this.validateNotEndingWithHighSurrogate(a,"Cannot split content between a surrogate pair");const t=this.getPrecedingAnnotationOpSet({id:e.id,anchor:"before"});t&&e.maybeCreateAnnotationOpSetForAnchor("before",{opSet:t})}a instanceof u().pC&&a.maybeMergeWithNext(),this.indexToOpIdMap=void 0}validateContent(){(0,m().MX)(!i().dCO(this.getText()),"Content must not contain unpaired surrogates")}validateNotEndingWithHighSurrogate(e,t){if(!(e instanceof u().pC)||e.isDeleted())return;const r=e.getDefinedContent().at(-1);r&&(0,m().MX)("high"!==i().lSC(r),t)}applyAnnotationOperation({op:e}){this.verifyDoesNotContainOpId({type:"annotationOp",id:e.id,annotationOp:e,enforceMonotonicInsertTextOperations:!1});const t=(0,m().o9)("before"===e.start.anchor?this.getItemStartingWithId(e.start.id):this.getItemEndingWithId(e.start.id),l().QS),r=(0,m().o9)("before"===e.end.anchor?this.getItemStartingWithId(e.end.id,{includeEndItem:!0}):this.getItemEndingWithId(e.end.id,{includeEndItem:!0}),l().QS);let n=this.getPrecedingAnnotationOpSet(e.start);t.maybeCreateAnnotationOpSetForAnchor(e.start.anchor,{opSet:n});const o=this.iterateItemAnnotationOpSets({direction:"forward",from:e.start,to:e.end,includeSplitCharacters:!0});for(const{item:a,anchor:i}of o){a instanceof u().of&&a.maybeCreateAnnotationOpSetForAnchor(i,{opSet:n});const t=(0,m().o9)(a.getAnnotationOpSetForAnchor(i),"Annotation op set must exist for item annotation");n=t.clone(),t.add(e)}r.maybeCreateAnnotationOpSetForAnchor(e.end.anchor,{opSet:n}),this.opClock.maybeUpdateClock(p(e))}getPrecedingAnnotationOpSet(e){const t=this.iterateItemAnnotationOpSets({direction:"backward",from:e});for(const{annotationOpSet:r}of t)return(0,m().o9)(r,"Annotation op set must exist for item annotation")}getActiveAnnotationsAfterId(e){const t=(0,m().o9)(this.getItemContainingId(e),l().QS),r=t.endsWithId(e)?{anchor:"after",id:e}:{anchor:"before",id:t instanceof u().pC?t.getStartId():t.id},n=this.getPrecedingAnnotationOpSet(r);return n?n.getActiveAnnotations():new Map}*iterateItems(e){yield*d().fe(this.startItem,e)}*iterateItemAnnotationOpSets(e){const{direction:t,from:r,includeSplitCharacters:n,to:a}=e;let i=(0,m().o9)(this.getItemContainingId(r.id),l().QS);(0,m().MX)("before"===r.anchor?i.startsWithId(r.id):i.endsWithId(r.id),"Expected item to use 'from' ID",{fromAnchor:r.anchor});let s=r.anchor;for(;i;){if(a&&i.containsId(a.id)&&s===a.anchor)return void(0,m().MX)("before"===a.anchor?i.startsWithId(a.id):i.endsWithId(a.id),"Expected item to use 'to' ID",{toAnchor:a.anchor});const e=i.getAnnotationOpSetForAnchor(s);switch(e?yield{item:i,anchor:s,annotationOpSet:e}:n&&i instanceof u().of&&("forward"===t&&"before"===s||"backward"===t&&"after"===s)&&(yield{item:i,anchor:s,annotationOpSet:void 0}),t){case"forward":i="before"===s?i:i.next,s="before"===s?"after":"before";break;case"backward":i="after"===s?i:i.prev,s="after"===s?"before":"after";break;default:(0,o().HB)(t)}}}getItemStartingWithId(e,t){return this.getItemContainingId(e,{...t,shouldStartWithId:!0})}getItemEndingWithId(e,t){return this.getItemContainingId(e,{...t,shouldEndWithId:!0})}containsItemWithId(e,t){return Boolean(this.getItemContainingId(e,t))}getItemContainingId(e,t){const r=this.iterateItems({includeDeleted:!0,includeEndItem:null==t?void 0:t.includeEndItem});for(const n of r){if(!n.containsId(e))continue;if(!(n instanceof u().pC))return n;if("start"===e||"end"===e)continue;let r=n;return null!=t&&t.shouldStartWithId&&!r.startsWithId(e)&&(r=r.splitBeforeId(e)),null!=t&&t.shouldEndWithId&&!r.endsWithId(e)&&r.splitAfterId(e),r}}getTextItem(e){const t=this.getItemContainingId(e,{shouldStartWithId:!0});return t instanceof u().pC?t:void 0}getTextItemsInIdRange(e){const[t,n]=e,[o,a]=t,i=[o,a+n-1],s=[],l=this.iterateItems({includeDeleted:!0});for(const r of l)!(r instanceof u().pC)||r.getStartId()[0]!==o||(0,c().zk)(i,r.getStartId())<0||(0,c().zk)(r.getEndId(),t)<0||s.push(r);if(0===s.length)return[];r(496603).Ul(s,(e=>e.getStartId()[1]));const d=s[0];if((0,c().zk)(d.getStartId(),t)<0){const e=d.splitBeforeId(t);s[0]=e}const p=s[s.length-1];return(0,c().zk)(i,p.getEndId())<0&&p.splitAfterId(i),s}getIndexOfTextItem(e){let t=0;for(const r of this.iterateItems({includeDeleted:!0}))if(r instanceof u().pC){if(r.containsId(e)){if(r.isDeleted())return{type:"deleted",nextVisibleIndex:t};return{type:"visible",index:t+(e[1]-r.id[1])}}r.isDeleted()||(t+=r.getLength())}}getItemIdsInRange(e,t){void 0===this.indexToOpIdMap&&this.rebuildIndexToOpIdMap();const r=(0,m().o9)(this.indexToOpIdMap,"Index to OpID map not built");(0,m().MX)(0<=e&&e<=t,"Start index must be between 0 and end index"),(0,m().MX)(t<this.visibleCount,"End index must be less than visible count");const n=[];let o=e;for(;o<=t;){const e=r[o],[a,i]=e;let s=1,l=o+1;for(;l<=t&&r[l][0]===a&&r[l][1]===i+s;)s++,l++;n.push([e,s]),o=l}return n}getItemIdAtIndex(e){void 0===this.indexToOpIdMap&&this.rebuildIndexToOpIdMap();const t=(0,m().o9)(this.indexToOpIdMap,"Index to OpID map not built");return(0,m().MX)(0<=e&&e<t.length,"getItemIdAtIndex index is out of bounds for indexToOpIdMap",{index:e,length:t.length}),t[e]}getItemIdBeforeIndex(e){const t=this.getItemIdAtIndex(e),r=(0,m().o9)(this.getItemContainingId(t),l().QS),n=(0,m().Wg)(r,y,l().$5);if(!n.startsWithId(t))return[t[0],t[1]-1];const o=(0,m().o9)(n.prev,"Text item must have previous item");return o instanceof u().pC?o.getEndId():o.id}getItemIdAfterIndex(e){const t=this.getItemIdAtIndex(e);return this.getItemIdAfterItem(t)}getItemIdAfterItem(e){if("start"===e){const e=this.getStartItem();(0,m().oC)(e,u().mc,l().MJ);return(0,m().o9)(this.getStartItem().next,"Text slice must have at least one item other than start").id}const t=(0,m().o9)(this.getItemContainingId(e),"Text slice must contain text item");if(!t.endsWithId(e))return[e[0],e[1]+1];const r=(0,m().o9)(t.next,"Item must have next item");return r instanceof u().pC?r.getStartId():r.id}getOriginItemForInsertionIndex(e){let t;if((0,m().MX)(0<=e&&e<=this.visibleCount,"Index must be between 0 and visible count"),e===this.visibleCount)t=this.getEndItem();else{const r=this.getItemIdAtIndex(e),n=(0,m().o9)(this.getItemContainingId(r),l().QS),o=(0,m().Wg)(n,y,l().$5);if(!o.startsWithId(r))return{id:[r[0],r[1]-1],item:o};t=o}for(;t.prev;){const e=t.prev;if(e instanceof u().pC&&!e.isDeleted())return{id:e.getEndId(),item:e};if(e instanceof u().fn)throw new(a().Qk)("Previous item should not be an EndItem");if(e.getAnnotationOpSetForAnchor("after"))return e instanceof u().pC?{id:e.getEndId(),item:e}:{id:(0,m().Wg)(e.id,v,l().JW),item:e};t=t.prev}return{id:(0,m().Wg)((0,m().Wg)(t,f,l().JW).id,v,l().qP),item:t}}getPrevItemsForOriginId(e){const t=[];let r=this.getItemContainingId(e,{includeEndItem:!1});for(;r;){if(r instanceof u().fn)throw new(a().Qk)("originId of an item should never be the id of an end item");if(t.push(r.toPrevItem()),r instanceof u().mc)break;r=this.getItemContainingId(r.originId,{includeEndItem:!1})}return t}getOriginItemIdForInsertionIndex(e){return this.getOriginItemForInsertionIndex(e).id}isLastOriginItemId(e){return(0,s().lS)(this.getOriginItemIdForInsertionIndex(this.visibleCount),e)}verifyDoesNotContainOpId(e){const t=this.containsOpId(e);if(t)switch(t){case"exists_likely_same":throw new(a().mh)("Text slice already contains ID",{data:{id:e.id}});case"exists_same":throw new(a().AM)("Text slice already contains ID",{data:{id:e.id}});case"exists_different":throw new(a().VH)("Text slice already contains ID",{data:{id:e.id}});case"old_operation":throw new(a().IX)("Operation is older than the latest operation that has been applied by the same session",{data:{id:e.id}});default:(0,o().HB)(t)}}containsOpId(e){const t=e.id[0],r=e.id[1];for(const a of this.iterateItems({includeDeleted:!0,includeEndItem:!0})){var n,o;if(a.containsId(e.id))return a instanceof u().pC&&"text"===e.type&&(a.startsWithId(e.id)&&(0,s().lS)(a.originId,e.originId)||!a.startsWithId(e.id)&&(0,s().lS)(e.originId,[e.id[0],e.id[1]-1]))?"exists_likely_same":a instanceof u().of&&"split"===e.type&&(0,s().lS)(a.originId,e.originId)?"exists_same":"exists_different";if(e.enforceMonotonicInsertTextOperations&&"start"!==a.id&&"end"!==a.id&&t===a.id[0]&&r<a.id[1])return"old_operation";const i=null===(n=a.getAnnotationOpSetForAnchor("before"))||void 0===n?void 0:n.containsOpId(e);if(i)return i;const l=null===(o=a.getAnnotationOpSetForAnchor("after"))||void 0===o?void 0:o.containsOpId(e);if(l)return l}return!1}getTextValue(){const e=[];let t;for(const o of this.iterateItems({includeDeleted:!0})){var r,n;t=(null===(r=o.getAnnotationOpSetForAnchor("before"))||void 0===r?void 0:r.getResolvedAnnotations())??t,o instanceof u().pC&&o.getLength()&&!o.isDeleted()&&(t?(t.length?e.push([o.getDefinedContent(),t]):e.push([o.getDefinedContent()]),t=void 0):e.length?(0,m().o9)(e.at(-1),"Text value must be non-empty")[0]+=o.getDefinedContent():e.push([o.getDefinedContent()])),t=(null===(n=o.getAnnotationOpSetForAnchor("after"))||void 0===n?void 0:n.getResolvedAnnotations())??t}return e}getText(){const e=[];for(const t of this.iterateItems())t instanceof u().pC&&e.push(t.getDefinedContent());return e.join("")}static isSliceKeyFromTextInstance(e,t){return e.startsWith(t)}getSliceStartKey(){return`${this.textInstanceId},${n()(this.startItem.id)}`}getSliceKey(){return`${this.textInstanceId},${n()(this.startItem.id)},${n()(this.endItem.id)}`}splitIntoSlices(){const e=d().r5(this.startItem),t=d().W(this.startItem);this.endItem=(0,m().Wg)(t,g,l().sF,{from:"splitIntoSlices",textInstanceId:this.textInstanceId,searchLabel:this.searchLabel,endItemType:null==t?void 0:t.className}),this.visibleCount=d().Gf(this.startItem),(0,m().MX)(this.startItem!==this.endItem,"Split text slice must not be empty");const r=[this];for(let n=1;n<e.length;n++)r.push(new b(this.textInstanceId,this.opClock,(0,m().Wg)(e[n],f,l().JW),this.searchLabel));return r}static updateSearchLabelAfterSplit(e){const{splitTextSlice:t,newTextSlice:n}=e,[o,a]=r(426234).lD(t.searchLabel);t.searchLabel=o,n.searchLabel=a}equals(e){if(this===e)return!0;if(this.textInstanceId!==e.textInstanceId)return!1;if(this.visibleCount!==e.visibleCount)return!1;if(this.searchLabel!==e.searchLabel)return!1;const t=[...this.iterateItems({includeDeleted:!0,includeEndItem:!0})],r=[...e.iterateItems({includeDeleted:!0,includeEndItem:!0})];if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){const e=r[n];if(!t[n].equals(e))return!1}return!0}isIdInsertableIntoSlice(e,t){if((0,c().yb)(e,this.endItem.id)>=0)return!0;let r;if(t){const e=(0,m().o9)(this.getItemEndingWithId(t),l().QS);r=(0,m().Wg)(e,_,l().qP)}else r=this.startItem;const n=this.findInsertionPoint(e,r);return this.endItem!==n}static createEmpty({textInstanceId:e,searchLabel:t}){const n=new(u().mc),o=new(u().fn);return n.next=o,o.prev=n,new b(e,new(r(274147).A),n,t)}}},400846:(e,t,r)=>{r.d(t,{A:()=>a,e:()=>o});var n=()=>r(292588);const o="admin_api_log",a={table:o,columnTypes:{id:n().A.UUID,timestamp:n().A.Number,admin_user_id:n().A.UUID,event_name:n().A.String,params:n().A.JSON,version:n().A.Number,last_version:n().A.Number,did_write:n().A.Boolean},requiredColumns:{id:!0,event_name:!0,admin_user_id:!0,timestamp:!0,version:!0}}},402904:(e,t,r)=>{r.d(t,{As:()=>a,Ay:()=>i,ht:()=>o});var n=()=>r(292588);const o={bot:!0},a="external_authentication",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,last_edited_time:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,space_id:n().A.UUID,user_id:n().A.UUID,integration_id:n().A.UUID,account_key:n().A.String,account_name:n().A.String},model:(0,r(152853).P)({})}},404235:(e,t,r)=>{function n(e){const t=e.toString().replace(/[\r\n]/g,"").trim();return`${t.substring(0,60)}${t.length>60?"":""}`}r.d(t,{p:()=>n})},406944:(e,t,r)=>{r.d(t,{O:()=>i});r(898992),r(908872);var n=()=>r(382041);const o=[1,.7,.5,.3,.15],a=r(863654).dK.reduce(((e,t)=>(e[t]=o.map((e=>1===e?n().I[t].light.background.accentSecondary:(0,r(751735).X4)(n().I[t].light.background.accentSecondary,e))),e)),{}),i={colorful:["blue","yellow","green","purple","orange","pink","teal","red"].map((e=>a[e][0])),...a,white:["rgba(227, 226, 224, 1)","rgba(227, 226, 224, .7)","rgba(227, 226, 224, .5)","rgba(227, 226, 224, .3)","rgba(227, 226, 224, .15)"],black:["rgba(98, 97, 93, 1)","rgba(98, 97, 93, .7)","rgba(98, 97, 93, .5)","rgba(98, 97, 93, .3)","rgba(98, 97, 93, .15)"],gray:["rgba(199, 198, 196, 1)"],default:["rgba(227, 226, 224, 1)"],translucentGray:["rgba(241, 241, 239, 1)","rgba(255, 255, 255, .1)"]}},412742:(e,t,r)=>{r.d(t,{Ay:()=>a,_0:()=>o});var n=()=>r(292588);const o="user_export",a=(r(638681).literals("member_list","space","block","space_analytics_search","space_analytics_content","space_analytics_users","admin_content_search","audit_log","post_workspace_consolidation_report","domain_claimable_spaces","marketplace_purchases","legal_hold_content_summary","legal_hold_content"),{table:o,columnTypes:{id:n().A.UUID,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,file_ids:n().A.StringArray,type:n().A.String,version:n().A.Number,last_version:n().A.Number,s3_bucket:n().A.String},model:(0,r(152853).P)({properties:{created_by_id:{getRelationalPointerMethod:!1}}})})},415292:(e,t,r)=>{r.d(t,{Ay:()=>s,gD:()=>l,r9:()=>a,sN:()=>i});var n=()=>r(498212),o=()=>r(292588);const a={collection:!0},i="record_counter",s={table:i,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,space_id:o().A.UUID,parent_table:o().A.String,parent_id:o().A.UUID,next_value:o().A.Number,alive:o().A.Boolean},requiredColumns:{space_id:!0,parent_table:!0,parent_id:!0,next_value:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})};function l(e){const{spaceId:t,parentTable:r,parentId:o}=e;return(0,n().gB)(`${t}-${r}-${o}`)}},415622:(e,t,r)=>{r.d(t,{PL:()=>n,Pc:()=>o});const n=Object.freeze({}),o=Object.freeze([]);Object.freeze([])},416504:(e,t,r)=>{r.d(t,{P:()=>a,o:()=>o});const n="UTC";function o(){return Intl.DateTimeFormat().resolvedOptions().timeZone||n}const a=r(496603).Bj(o)},420532:(e,t,r)=>{r.d(t,{A:()=>a,q:()=>o});var n=()=>r(292588);const o="space_invite_link",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.String,invite_link_code:n().A.String,inviter_user_id:n().A.UUID,channel:n().A.String},model:(0,r(152853).P)({RecordStore:!0})}},420948:(e,t,r)=>{r.d(t,{A:()=>a,Q:()=>o});var n=()=>r(292588);const o="integration_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,integration_id:n().A.UUID,created_at:n().A.Number,revoked_at:n().A.Number,token_hash:n().A.String}}},421076:(e,t,r)=>{r.d(t,{Ay:()=>i,Bd:()=>o,yt:()=>a});var n=()=>r(292588);const o={space:!0},a="subscription_banner",i={table:a,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,banner_type:n().A.String,banner_key:n().A.String,audience:n().A.String,banner_text:n().A.String,active_at:n().A.Number,expired_at:n().A.Number},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,banner_type:!0,banner_key:!0,audience:!0,active_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},422200:(e,t,r)=>{r.d(t,{Ay:()=>c,es:()=>a});var n=()=>r(638681),o=()=>r(292588);const a="mfa_settings",i={table:a,columnTypes:{id:o().A.UUID,user_id:o().A.UUID,created_at:o().A.Number,enabled:o().A.Boolean,is_primary:o().A.Boolean,method:o().A.String,setting:o().A.JSON,version:o().A.Number,last_version:o().A.Number}},s=(n().literals("totp","sms","backup_code"),n().literals("totp","sms"),n().literals("bcrypt")),l=n().literals("crypto-service"),c=(n().object({required:{backup_codes:n().array(n().object({required:{codeHash:n().string(),hasBeenUsed:n().boolean()},optional:{}})),hash_method:s},optional:{recovery:n().boolean()}}),n().object({required:{phone_number:n().string(),masked_phone_number:n().string()},optional:{}}),n().object({required:{totp_secret:n().string(),encryption_method:l,key_version:n().string(),friendly_name:n().string()},optional:{}}),i)},423517:(e,t,r)=>{r.d(t,{r:()=>o});var n=()=>r(356246);function o(e){return e?n().h4:n().ZO}},425877:(e,t,r)=>{r.d(t,{fn:()=>u,mc:()=>c,of:()=>d,pC:()=>l});var n=()=>r(534177),o=()=>r(980090),a=()=>r(673337),i=()=>r(933449);class s{constructor(e){this.prev=void 0,this.next=void 0,this.annotationOpSetBefore=void 0,this.annotationOpSetAfter=void 0,this.id=e}startsWithId(e){return this.containsId(e)}endsWithId(e){return this.containsId(e)}containsId(e){return(0,a().lS)(this.id,e)}getAnnotationOpSetForAnchor(e){return"before"===e?this.annotationOpSetBefore:"after"===e?this.annotationOpSetAfter:void(0,n().HB)(e)}getAnnotations(e){var t;return(null===(t=this.getAnnotationOpSetForAnchor(e))||void 0===t?void 0:t.getOps())||[]}maybeCreateAnnotationOpSetForAnchor(e,t){var r;if("before"===e)this.annotationOpSetBefore??=(null!=t&&t.deserializationSkipCloning?null==t?void 0:t.opSet:null==t||null===(r=t.opSet)||void 0===r?void 0:r.clone())??new(o().A);else if("after"===e){var a;this.annotationOpSetAfter??=(null!=t&&t.deserializationSkipCloning?null==t?void 0:t.opSet:null==t||null===(a=t.opSet)||void 0===a?void 0:a.clone())??new(o().A)}else(0,n().HB)(e)}copyAnnotationOpSetTo(e){this.annotationOpSetBefore&&(e.annotationOpSetBefore=this.annotationOpSetBefore.clone()),this.annotationOpSetAfter&&(e.annotationOpSetAfter=this.annotationOpSetAfter.clone())}equals(e){return typeof this==typeof e&&o().A.equals(this.annotationOpSetBefore,e.annotationOpSetBefore)&&o().A.equals(this.annotationOpSetAfter,e.annotationOpSetAfter)}toString(){return`[${this.className}]`}getAnnotationOpsCount(){var e,t;return((null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.count())??0)+((null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.count())??0)}}class l extends s{constructor(e,t,r,n){super(e),this.className="TextItem",this.deleted=!1,this.prev=void 0,this.next=void 0,this.id=e,this.originId=t,this.content=r,this.length=n,this.verifyValueAndLength()}verifyValueAndLength(){(0,i().MX)(!this.content||this.content.length===this.length,"TextItem content length must match item length"),(0,i().MX)(this.length>0,"TextItem must have nonzero length"),(0,i().MX)(!this.content||!(0,r(201980).oBs)(this.content),"TextItem must not contain disallowed characters")}getStartId(){return this.id}getEndId(){const e=this.id;return[e[0],e[1]+this.length-1]}startsWithId(e){return(0,a().lS)(this.getStartId(),e)}endsWithId(e){return(0,a().lS)(this.getEndId(),e)}containsId(e){return"start"!==e&&"end"!==e&&this.id[0]===e[0]&&this.id[1]<=e[1]&&e[1]<=this.id[1]+this.length-1}getDefinedContent(){return(0,i().o9)(this.content,"Text item content is not defined")}isDeleted(){return this.deleted}setDeleted(){this.deleted=!0,this.content=void 0}splitBeforeId(e){return this.split(e,"before")}splitAfterId(e){return this.split(e,"after")}split(e,t){var r;(0,i().MX)(this.length>1,"Text item must have more than one item to split"),(0,i().MX)(this.containsId(e),"Text item must contain op id to split");const n=e[1]-this.id[1]+("after"===t?1:0);(0,i().MX)(0<n&&n<this.length,"Split offset must be between 0 and item length");const o=[this.id[0],this.id[1]+n],a=[this.id[0],this.id[1]+n-1],s=this.deleted?l.createDeleted(o,a,this.length-n):l.create(o,a,this.getDefinedContent().slice(n));this.annotationOpSetAfter&&(s.annotationOpSetAfter=this.annotationOpSetAfter.clone());const c=this.next;return this.next=s,s.prev=this,c&&(s.next=c,c.prev=s),this.content=null===(r=this.content)||void 0===r?void 0:r.slice(0,n),this.length=n,this.verifyValueAndLength(),this.annotationOpSetAfter=void 0,this.next=s,s}maybeMergeWithNext(){const e=this.next;if(!(e instanceof l))return!1;const t=this.getEndId(),r=e.getStartId();return!(!(0,a().lS)(t,e.originId)||t[0]!==r[0]||t[1]!==r[1]-1||this.deleted!==e.deleted||void 0!==this.annotationOpSetAfter||void 0!==e.annotationOpSetBefore)&&(this.content&&e.content&&(this.content+=e.content),this.length+=e.length,this.verifyValueAndLength(),e.annotationOpSetAfter&&(this.annotationOpSetAfter=e.annotationOpSetAfter.clone()),this.next=e.next,e.next&&(e.next.prev=this),e.prev=void 0,e.next=void 0,!0)}getLength(){return this.length}clone(){const e=this.deleted?l.createDeleted(this.id,this.originId,this.length):l.create(this.id,this.originId,this.getDefinedContent());return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof l&&(0,a().lS)(this.id,e.id)&&(0,a().lS)(this.originId,e.originId)&&this.deleted===e.deleted&&this.content===e.content&&this.length===e.length}static create(e,t,r){return new l(e,t,r,r.length)}static createDeleted(e,t,r){const n=new l(e,t,void 0,r);return n.setDeleted(),n}toString(){return this.deleted?`[${this.className} (deleted)]`:`[${this.className} ${this.content}]`}toPrevItem(){var e,t;return{type:"text",originId:this.originId,id:this.id,length:this.length,annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps(),...this.deleted?{deleted:!0,content:void 0}:{deleted:!1,content:this.getDefinedContent()}}}}class c extends s{constructor(){super("start"),this.className="StartItem",this.prev=void 0,this.next=void 0,this.id="start"}clone(){const e=new c;return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof c}toPrevItem(){var e,t;return{type:"start",annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps()}}}class u extends s{constructor(){super("end"),this.className="EndItem",this.prev=void 0,this.next=void 0,this.id="end",this.originId="start"}clone(){const e=new u;return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof u}}class d extends s{constructor(e,t){super(e),this.className="SplitItem",this.prev=void 0,this.next=void 0,this.id=e,this.originId=t}clone(){const e=new d(this.id,this.originId);return this.copyAnnotationOpSetTo(e),e}equals(e){return super.equals(e)&&e instanceof d&&(0,a().Dx)(this.id,e.id)&&(0,a().lS)(this.originId,e.originId)}toPrevItem(){var e,t;return{type:"split",originId:this.originId,id:this.id,annotationOpsBefore:null===(e=this.annotationOpSetBefore)||void 0===e?void 0:e.getOps(),annotationOpsAfter:null===(t=this.annotationOpSetAfter)||void 0===t?void 0:t.getOps()}}}},426234:(e,t,r)=>{r.d(t,{DH:()=>y,DI:()=>p,K9:()=>f,UD:()=>l,i_:()=>s,lD:()=>m});r(581454);var n=()=>r(933449);Symbol("CRDT_SEARCH_LABEL");const o=62,a=61,i=String.fromCharCode(a+o+1);function s(e){return e}function l(e,t){return e===t?0:e<t?-1:1}function c(e){return(0,n().MX)(0<=e&&e<=o,"SearchLabel out of valid range",e),(0,n().MX)(31!==e,"Root is an invalid search label"),String.fromCharCode(a+e)}function u(e){(0,n().MX)(1===e.length,"Decode expected a single character");const t=e.charCodeAt(0)-a;return(0,n().MX)(0<=t&&t<=o,"SearchLabel out of valid range",e),(0,n().MX)(31!==t,"Root is an invalid search label"),t}function d(e){(0,n().MX)(0<=e&&e<=o,"SearchLabel out of valid range",e);let t=0;for(;e%2==1;)t++,e>>=1;return t}const p="";function m(e){if(e.length>0){const t=u(e[e.length-1]);if(t%2!=0){const r=e.slice(0,-1),n=1<<d(t)-1;return[r+c(t-n),r+c(t+n)]}}return[e+c(15),e+c(47)]}function f(e,t){const[r,n]=function(e){if(e===p)return["",i];const t=e.slice(0,-1),r=u(e[e.length-1]),n=(1<<d(r))-1;return[t+c(r-n),t+c(r+n)+i]}(t);return r<=e&&e<=n}function g(e){(0,n().MX)(1===e.length,"charToLR expected a single character");const t=u(e);let r="";const o=d(t);for(let n=5;n>o;n--){r+=0==(t&1<<n)?"L":"R"}return r}function y(e){return e.split("").map(g).join("")}},426302:(e,t,r)=>{r.d(t,{Ay:()=>i,Yx:()=>a,gp:()=>o});var n=()=>r(292588);const o="group",a="invite",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,flow_id:n().A.UUID,space_id:n().A.UUID,target_id:n().A.UUID,target_table:n().A.String,inviter_id:n().A.UUID,inviter_table:n().A.String,invitee_id:n().A.UUID,invitee_table_or_group:n().A.String,message:n().A.String,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,target_id:!0,target_table:!0,inviter_id:!0,inviter_table:!0,invitee_id:!0,invitee_table_or_group:!0,created_time:!0,attributes:!0}}},429485:(e,t,r)=>{r.d(t,{Ay:()=>a,Xh:()=>o});var n=()=>r(292588);const o="scheduled_digest_message",a={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,space_id:n().A.UUID,scheduling_key:n().A.String,content_module_requests:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number},requiredColumns:{id:!0,user_id:!0,space_id:!0,scheduling_key:!0,content_module_requests:!0,created_time:!0,updated_time:!0,version:!0},model:(0,r(152853).P)({RecordStore:!1})}},430401:(e,t,r)=>{r.d(t,{b:()=>a});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.144 8.954a.718.718 0 0 1 .62-1.079h4.472c.554 0 .9.6.62 1.08l-2.236 3.833a.718.718 0 0 1-1.24 0z"}),(0,n.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0"})]})},a=(0,r(340498).wt)("arrowTriangleDownCircle",o)},435826:(e,t,r)=>{r.d(t,{Ay:()=>a,aF:()=>o});var n=()=>r(292588);const o="ip_restriction",a={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,enabled:n().A.Boolean,ip_restriction_type:n().A.String,ip_addresses:n().A.CIDRArray,organization_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String},requiredColumns:{id:!0,name:!0,enabled:!0,ip_restriction_type:!0,ip_addresses:!0,organization_id:!0,version:!0,alive:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0},model:(0,r(152853).P)({RecordStore:!0})}},436632:(e,t,r)=>{r.d(t,{H:()=>n});const n=(0,r(69708).YK)({nowText:{defaultMessage:"Now",id:"mentionMenu.templateVariables.text.now"},nowDescription:{defaultMessage:"Time when duplicated",id:"mentionMenu.templateVariables.description.now"},nowKeywords:{defaultMessage:"now",id:"mentionMenu.templateVariables.keywords.now"},todayText:{defaultMessage:"Today",id:"mentionMenu.templateVariables.text.tday"},todayDescription:{defaultMessage:"Date when duplicated",id:"mentionMenu.templateVariables.description.today"},todayKeywords:{defaultMessage:"today",id:"mentionMenu.templateVariables.keywords.today"},meText:{defaultMessage:"Me",id:"mentionMenu.templateVariables.text.me"},meKeywords:{defaultMessage:"me",id:"mentionMenu.templateVariables.keywords.me"}})},437607:(e,t,r)=>{r.d(t,{HT:()=>d,I6:()=>f,S4:()=>m,gK:()=>p,hI:()=>c,n:()=>l,uY:()=>g,uh:()=>i});var n=()=>r(498212),o=()=>r(416845),a=()=>r(292588);const i="",s="|",l="space_permission_group";function c(e){return e.table===l&&u(e.id)}function u(e){if("string"!=typeof e)return!1;const t=e.split(s),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}function d(e){const t=e.split(s),[r,a]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(a)))throw new(o().yI)("invalid SpacePermissionGroupId",{data:{id:e}});return{spacePermissionGroupId:r,spaceId:a}}function p(e){const{spacePermissionGroupId:t,spaceId:r}=e;return u(t)?t:`${t}|${r}`}function m(e){const{spacePermissionGroupId:t,spaceId:r}=e;return{id:p({spacePermissionGroupId:t,spaceId:r}),table:l,spaceId:r}}function f(e){return e.table===l}const g={table:l,columnTypes:{id:a().A.String,version:a().A.Number,last_version:a().A.Number,name:a().A.String,icon:a().A.String,space_id:a().A.UUID,group_id:a().A.UUID,created_by_id:a().A.UUID,created_by_table:a().A.String,created_at:a().A.Number,last_edited_by_table:a().A.String,last_edited_by_id:a().A.UUID,last_edited_at:a().A.Number,deleted_at:a().A.Number,settings:a().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},439180:(e,t,r)=>{r.d(t,{TU:()=>o,k3:()=>l,ph:()=>i,qA:()=>s});var n=()=>r(534177);const o=2,a={insertText:!0,deleteText:!0,splitText:!0,moveTextSliceIntoBlock:!0,moveTextSlice:!0,addAnnotation:!0,removeAnnotation:!0,replaceTextInBlock:!0};function i(e){return Boolean(a[e.command])}function s(e){const{pointer:t,crdtOperation:r}=e,a=r.type;switch(a){case"insertText":return{command:"insertText",pointer:t,path:[],opVersion:o,args:r};case"deleteText":return{command:"deleteText",pointer:t,path:[],opVersion:o,args:r};case"addAnnotation":return{command:"addAnnotation",pointer:t,path:[],opVersion:o,args:r};case"removeAnnotation":return{command:"removeAnnotation",pointer:t,path:[],opVersion:o,args:r};case"splitText":return{command:"splitText",pointer:t,opVersion:o,path:[],args:r};default:(0,n().HB)(a)}}function l(e){const t=e.command;switch(t){case"insertText":{const{textInstanceId:t,searchLabel:r,id:n,originId:o,content:a,prevItems:i}=e.args;return{type:"insertText",textInstanceId:t,searchLabel:r,id:n,originId:o,content:a,prevItems:i}}case"deleteText":{const{textInstanceId:t,searchLabel:r,idRanges:n}=e.args;return{type:"deleteText",textInstanceId:t,searchLabel:r,idRanges:n}}case"addAnnotation":{const{textInstanceId:t,searchLabel:r,id:n,start:o,end:a,annotation:i}=e.args;return{type:"addAnnotation",textInstanceId:t,searchLabel:r,id:n,start:o,end:a,annotation:i}}case"removeAnnotation":{const{textInstanceId:t,searchLabel:r,id:n,start:o,end:a,annotationKey:i}=e.args;return{type:"removeAnnotation",textInstanceId:t,searchLabel:r,id:n,start:o,end:a,annotationKey:i}}case"splitText":{const{textInstanceId:t,searchLabel:r,id:n,originId:o}=e.args;return{type:"splitText",textInstanceId:t,searchLabel:r,id:n,originId:o}}default:(0,n().HB)(t)}}},443239:(e,t,r)=>{r.d(t,{U:()=>n,u:()=>o});const n=" ";function o(e){return e[0]===n}},449418:(e,t,r)=>{r.d(t,{Ay:()=>s,_6:()=>i,hY:()=>a,nK:()=>o});var n=()=>r(292588);const o=25,a={space:!0},i="public_domain",s={table:i,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,domain_name:n().A.String,domain_type:n().A.String,domain_status:n().A.String,is_default:n().A.Boolean,is_autogenerated:n().A.Boolean,public_home_page:n().A.String,parent_id:n().A.String,parent_table:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID},requiredColumns:{id:!0,space_id:!0,version:!0,domain_name:!0,domain_type:!0,domain_status:!0,is_default:!0,is_autogenerated:!0,parent_id:!0,parent_table:!0},model:(0,r(152853).P)({RecordStore:!0})}},450648:(e,t,r)=>{r.d(t,{DZ:()=>k,Px:()=>T,qs:()=>B,r4:()=>x,t2:()=>S,zF:()=>M});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(581454);var n=()=>r(700500),o=()=>r(713998),a=()=>r(869190),i=()=>r(239381),s=()=>r(792071),l=()=>r(96330),c=()=>r(179034),u=()=>r(519831),d=()=>r(837420),p=()=>r(437607),m=()=>r(854150),f=()=>r(798880),g=()=>r(914462),y=()=>r(201980),_=()=>r(404235),v=()=>r(919767),b=()=>r(173979),h=()=>r(861170),A=()=>r(251481),I=()=>r(695608);const k=(0,r(69708).YK)({untitledTextAsString:{defaultMessage:"Not found",id:"textRenderHelpers.untitledTextAsString"}});function x(e){const{textValue:t,getRecordModel:r,userTimeZone:n,intl:o,seenBlocks:a=new Set,deterministic:i=!1,disableAnnotationPrefix:s=!1,disableInsertedAnnotations:l=!1,renderDateAnnotationsAsISO:c=!1,externalIntegrations:u,valueTypes:d}=e,p=y().RQ(t),m=s?"":"@";let f="";for(const g of p){const e=S({token:g,getRecordModel:r,intl:o,prefix:m,seenBlocks:a,userTimeZone:n,renderDateAnnotationsAsISO:c,deterministic:i,externalIntegrations:u,disableInsertedAnnotations:l,valueTypes:d});null!=e&&e.length&&(f+=e)}return f}function S(e){const{token:t,getRecordModel:r,intl:o,prefix:s,seenBlocks:u,userTimeZone:h,renderDateAnnotationsAsISO:A,deterministic:x,externalIntegrations:S,disableInsertedAnnotations:T,valueTypes:M}=e,w=y().uPN(t),C=y().N8A(t);if(!w.length)return C;for(const P of w){const[e]=P;switch(e){case y().BQP.User:{const e=y().NcG(P);if(e){const t=r({table:f().oo,id:e});return`${s}${(0,I().c6)(o,t)}`}return}case y().BQP.Group:{const e=y().FHi(P);if(e){const{groupId:t,spaceId:n}=e,a=r((0,p().S4)({spaceId:n,spacePermissionGroupId:t}));return`${s}${(0,g().n)({intl:o,permissionGroupModel:a})}`}return}case y().BQP.Team:{const e=y().FLg(P),t=null==e?void 0:e.mentionType;if(e&&"everyone"===t){return`${s}${o.formatMessage({id:"posts.teamMenuItem.everyoneMentionNoAmpersand",defaultMessage:"everyone"})}`}if(e&&"teamspace"===t){const t=r({table:m().yK,id:e.teamId});if(!t)return`${s}AnonymousPlaceholderTeamspace`;return`${s}${null==t?void 0:t.getName()}`}return}case y().BQP.Page:{const e=y().v55(P);return e&&!u.has(e)?(u.add(e),`${s}${B({blockId:e,getRecordModel:r,intl:o,userTimeZone:h,seenBlocks:u})||o.formatMessage(k.untitledTextAsString)}`):void 0}case y().BQP.Collection:{const e=r(y().TSJ(P));return e?`${s}${e.getName()}`:void 0}case y().BQP.SlackSpecialMention:return`${s}${y().p5C(P)}`;case y().BQP.Date:{const e=y().K7D(P);if(e){const{date_format:t,time_format:r,...n}=e;return A?`${s}${(0,a().wh)(n,h)}`:`${s}${(0,a().ZF)({value:n,date_format:t,time_format:r,userTimeZone:h,intl:o,...x?{allowRelativeDates:!1}:{allowRelativeDates:!0}})}`}return}case y().BQP.LinkMention:{const e=y().q1R(P);if(e){return[e.link_author||e.link_provider,e.title||e.description].filter((e=>Boolean(null==e?void 0:e.trim()))).map(_().p).join(" ")}return}case y().BQP.Equation:{const e=y().j1D(w);if(e){return`$${y().U35(e)}$`}return}case y().BQP.ExternalObjectInstance:{const e=y().MzR(w);if(e){if(!S)return;const t=y().T$c(e);if(!t)return;const a=r({table:c().ev,id:t});if(null==a||!a.isType(n().xd.externalObjectInstance))return;return(0,v().h)({blockModel:a,getRecordModel:r,externalIntegrations:S,intl:o})}return}case y().BQP.TemplateVariable:{const e=y().PVS(w);if(e){return`${s}${(0,b().Ti)(y().y0Y(e).type,o)}`}return}case y().BQP.FormulaContextValue:case y().BQP.FormulaPageProperty:return y().x9g(w)?(0,i().dK)(w,r,o,h,M):void 0;case y().BQP.CustomEmoji:{const e=y().G6d(w);if(e){const[t,n,o]=e,a=r({table:d().e,id:n,spaceId:o});return null==a?void 0:a.getRenderTitle()}return}case y().BQP.Place:{const e=y().Mdu(w);if(e){const t=y().nG4(e),r=(0,l().X1)(t);if(r)return`${s}${r}`}return}case y().BQP.Citation:return;case y().BQP.Inserted:if(T)return}}return C}function T(e,t){return e.filter((e=>!(y().rie(e)||y().RaC(e)||y().JCc(e)||y().jIt(e)||y().qsB(e)||y().gir(e)||t&&y().aIB(e)||y().go0(e)||y().i8Z(e)||y().dei(e)||y().bZo(e))))}function M(e,t){const{blockId:r,getRecordModel:n,intl:a,userTimeZone:i,usePlaceholder:l}=e,d=n({table:c().ev,id:r});if(!d)return l?a.formatMessage(k.untitledTextAsString):"";const p=d.getRenderFormatPointer(n);if(!p)return l?d.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:i,intl:a}):"";if(p.table===c().ev){if(d.isCollectionView()){const r=(0,o().yQ)(d,"title");return r?t({...e,textValue:r,deterministic:!1}):d.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:i,intl:a})}const r=n(p);if(r){const o=w({block:r,getRecordModel:n,intl:a}),s=t({...e,textValue:o,deterministic:!1,disableInsertedAnnotations:!0});return 0===o.length&&l?r.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:i,intl:a}):s}}else if(p.table===u().Vl){const r=n(p);if(!r)return l?a.formatMessage(k.untitledTextAsString):"";const o=s().Bj6.fromCollection(r),i=o.getNormalizedName();if(i){const r=t({...e,textValue:i,deterministic:!1,disableInsertedAnnotations:!0});return!r&&l?o.getEmptyTitlePlaceholder({intl:a,getRecordModel:n}):r}}return l?d.getEmptyTitlePlaceholder({getRecordModel:n,userTimeZone:i,intl:a}):""}function w(e){const{block:t,getRecordModel:r,intl:a}=e,i=(0,o().yQ)(t,"title")||[];if(t.getParentTable()!==c().ev)return i;if(t.isType(n().xd.callout)&&0===i.length){const n=t.getContentIds()[0];if(n){const o=r({table:c().ev,id:n,spaceId:t.getSpaceId()});if(o)return w({...e,block:o})}}const s=r({table:c().ev,id:t.getParentId(),spaceId:t.getSpaceId()});if(null==s||!s.isTranscriptionBlock())return i;let l=(0,o().yQ)(s,"title")||[];0===l.length&&(l=(0,y().x9d)(a.formatMessage(A().i.placeholder)));const u=(0,h().wb)({transcriptionBlockFormat:s.getFormat(),tabBlockId:t.id});if(!u)return l;const d=(0,y().Ey_)(" / "),p=(0,y().Ey_)(a.formatMessage(u));return[...l,d,p]}function B(e){return M(e,x)}},452540:(e,t,r)=>{r.d(t,{W8:()=>i,gK:()=>l,jV:()=>o,sZ:()=>s,wx:()=>a});var n=()=>r(696706);function o(e){const{table:t,id:r}=e;return`${r}:${t}`}function a(e){const{table:t,id:r,spaceId:n}=e;return n?`${n}:${r}:${t}`:o(e)}function i(e){const{combinedId:t,spaceId:r}=e,o=t.split(":"),a=2===o.length?n().L3.fromPointerLike({table:o[1],id:o[0]}):n().L3.fromPointerLike({table:o[2],id:o[1],spaceId:o[0]});return r&&(a.spaceId=r),a}function s(e){return`:${e.id}`}function l(e){const t=e.split(":");return{id:t[1],spaceId:""===t[0]?void 0:t[0]}}},452665:(e,t,r)=>{r.d(t,{Ay:()=>a,J6:()=>o});var n=()=>r(292588);const o="marketplace_service",a={table:o,columnTypes:{id:n().A.UUID,creator_id:n().A.UUID,listing_id:n().A.UUID,name:n().A.String,slug:n().A.String,locales:n().A.StringArray,booking_status:n().A.String,price_range_start:n().A.Number,price_range_end:n().A.Number,currency:n().A.String,attributes:n().A.JSON,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number},requiredColumns:{id:!0,creator_id:!0,name:!0,slug:!0,locales:!0,attributes:!0,version:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},452706:(e,t,r)=>{r.d(t,{O3:()=>n,U5:()=>o,av:()=>s,gy:()=>a,uE:()=>l,y5:()=>i});const n=999,o=20,a=200,i=200,s=50,l=1e4},455348:(e,t,r)=>{r.d(t,{EC:()=>_,aG:()=>v,dW:()=>d,u9:()=>c,zC:()=>m});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(908872);var n=()=>r(496603),o=()=>r(973647),a=()=>r(534177),i=()=>r(489242),s=()=>r(796237),l=()=>r(254947);const c={fromViewPropertyIds:(e,t)=>e.map((e=>c.fromViewPropertyId(e,t))),fromViewPropertyId:(e,t)=>(null==t?void 0:t[e])??e,toViewSchema(e,t){const r={},o=t?n().B8(t):{},a=new Set(Object.keys(t??{}));for(const[n,i]of Object.entries(e)){const e=(null==o?void 0:o[n])??n;a.has(n)&&r[e]||(r[e]=i)}return r},derivePropertyUri(e,t){const r=(t?n().B8(t):{})[e];return(0,i().xw)(r)?r:void 0},derivePropertyUris(e,t){const r=t?n().B8(t):{};return new Set(Object.keys(e).map((e=>r[e])).filter(i().xw))}};class u extends Error{constructor(e,t,r){super(`Cannot merge property schemas for property "${e}": ${t.type} <> ${r.type}`)}}function d(e){const{schemas:t,onlyPropertyIds:r,prioritizeLooserLimitRule:i}=e,s={},l=r??n().KC(...t.map(Object.keys));for(const n of l){const e=t.map((e=>e[n])).filter(a().O9);if(!(0,a().EI)(e))continue;const r=o().Q.reduce(e,((e,t)=>{const r=f(e,t,i);if(void 0===r){return{error:new u(n,e,t)}}return{value:r}}));if(o().Q.isFail(r))return{error:r.error};s[n]=r.value}return{value:s}}const p=new WeakMap;function m(e,t,r){if("typed"!==e)return r.getNormalizedSchema();const n=p.get(r);if(!n){var o;const e=r.getNormalizedSchema(),n=d({schemas:[t,c.toViewSchema(e,null===(o=r.getFormat())||void 0===o?void 0:o.app_uri_map)],prioritizeLooserLimitRule:!1});if(n.error)throw n.error;return p.set(r,n.value),n.value}return n}function f(e,t,r){if("select"===e.type||"multi_select"===e.type){if(e.type!==t.type)return;const r=e.options||[],o=t.options||[],a=n().RK(r,o,(e=>e.id));return{type:t.type,name:t.name,icon:t.icon,options:a}}if("status"===e.type){if(e.type!==t.type)return;return function(e,t){const r=[e,t].flatMap((e=>e.groups??[])),o=n().hS(r,(e=>y(e.id,e.name))).map((e=>({id:e.id,name:y(e.id,e.name),color:e.color,optionIds:[]}))),a=new Map;for(const n of o){var i,l;const r=null===(i=e.groups)||void 0===i?void 0:i.find((e=>y(e.id,e.name)===n.name)),o=null===(l=t.groups)||void 0===l?void 0:l.find((e=>y(e.id,e.name)===n.name)),s=(e.options??[]).filter((e=>((null==r?void 0:r.optionIds)??[]).includes(e.id))),c=e=>{const t=e.value,r=a.get(t);if(void 0===r)a.set(t,{option:e,collectionIdSet:new Set(e.collectionIds),group:n});else for(const n of e.collectionIds??[])r.collectionIdSet.add(n)};(t.options??[]).filter((e=>((null==o?void 0:o.optionIds)??[]).includes(e.id))).forEach(c),s.forEach(c)}const c=new Set,u=[];for(const{group:n,option:d,collectionIdSet:p}of a.values()){let e=d.id;c.has(e)&&(e=`${e}-${s().l(d.value)}`),c.add(e),u.push({...d,id:e,...p.size>0?{collectionIds:[...p]}:{}}),(n.optionIds??=[]).push(e)}return{type:"status",name:t.name,defaultOption:t.defaultOption,groups:o,options:u}}(e,t)}if("number"===e.type){if(e.type!==t.type)return;return{type:t.type,name:t.name,icon:t.icon,number_format:g(e,t,"number_format"),show_as:g(e,t,"show_as")}}if("date"===e.type||"created_time"===e.type||"last_edited_time"===e.type||"last_visited_time"===e.type){if(e.type!==t.type)return;return{type:t.type,name:t.name,icon:t.icon,time_format:g(e,t,"time_format"),date_format:g(e,t,"date_format")}}if("person"===e.type){if(e.type!==t.type)return;const n=g(e,t,"limit");return{type:t.type,name:t.name,icon:t.icon,limit:n??(r?void 0:t.limit),default:g(e,t,"default")??t.default}}if("relation"===e.type){if(e.type!==t.type||e.autoRelate!==t.autoRelate)return;const n=g(e,t,"limit");return{type:t.type,name:t.name,icon:t.icon,autoRelate:g(e,t,"autoRelate"),property:g(e,t,"property"),limit:n??(r?void 0:t.limit),version:"v2",collection_pointer:g(e,t,"collection_pointer")}}if("rollup"===e.type){if(e.type!==t.type||e.relation_property!==t.relation_property||e.aggregation!==t.aggregation)return;return{type:t.type,name:t.name,icon:t.icon,relation_property:t.relation_property,aggregation:t.aggregation,show_as:g(e,t,"show_as"),target_property:g(e,t,"target_property"),target_property_type:g(e,t,"target_property_type")}}if("formula"===e.type){if("v2"===e.version){var o,i;if(e.type!==t.type||e.version!==t.version||!n().n4(null===(o=e.formula2)||void 0===o?void 0:o.code,null===(i=t.formula2)||void 0===i?void 0:i.code))return;return{type:t.type,name:t.name,icon:t.icon,formula2:t.formula2,number_format:g(e,t,"number_format"),show_as:g(e,t,"show_as")}}if(e.type!==t.type||e.version!==t.version||!n().n4(e.formula,t.formula))return;return{type:t.type,name:t.name,icon:t.icon,formula:t.formula,number_format:g(e,t,"number_format"),show_as:g(e,t,"show_as")}}if("auto_increment_id"===e.type){if(e.type!==t.type)return;return t}if("title"===e.type||"file"===e.type||"text"===e.type||"checkbox"===e.type||"url"===e.type||"email"===e.type||"phone_number"===e.type||"created_by"===e.type||"last_edited_by"===e.type||"button"===e.type||"location"===e.type||"verification"===e.type||"place"===e.type){if(e.type!==t.type)return;return t}(0,a().HB)(e)}function g(e,t,r){return n().n4(e[r],t[r])?e[r]:void 0}function y(e,t){return"todo-status-group"===e?l().QV:"in-progress-status-group"===e?l().jc:"complete-status-group"===e?l().P0:"current-status-group"===e?l().nX:"future-status-group"===e?l().p7:t}function _(e,t){for(const r in t){const n=t[r];if((null==n?void 0:n.name)===e)return[r,n]}}function v(e,t){var r;if(e)return null===(r=Object.entries(e).find((([e,r])=>(null==r?void 0:r.type)===t)))||void 0===r?void 0:r[0]}},462062:(e,t,r)=>{r.d(t,{S:()=>n});const n="directional-icon"},463776:(e,t,r)=>{r.d(t,{A:()=>a,M:()=>o});var n=()=>r(292588);const o="organization_space",a={table:o,columnTypes:{id:n().A.UUID,organization_id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean},requiredColumns:{id:!0,version:!0,organization_id:!0,space_id:!0,alive:!0},model:(0,r(152853).P)({})}},464192:(e,t,r)=>{function n(e){return"none"!==e.role&&Boolean(e.is_public_share_link)}r.d(t,{v:()=>n})},464912:(e,t,r)=>{r.d(t,{Ay:()=>i,OC:()=>o,dO:()=>a});var n=()=>r(292588);const o="marketplace_service_request",a={space:!0},i={table:o,columnTypes:{id:n().A.UUID,creator_id:n().A.UUID,customer_id:n().A.UUID,service_id:n().A.UUID,locale:n().A.String,price_range_start:n().A.Number,price_range_end:n().A.Number,attributes:n().A.JSON,seller_resolved_time:n().A.Number,seller_status:n().A.String,customer_resolved_time:n().A.Number,customer_status:n().A.String,destination_id:n().A.UUID,destination_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,project_status:n().A.String,project_resolved_time:n().A.Number,project_resolved_by:n().A.UUID,owner_id:n().A.UUID},requiredColumns:{id:!0,customer_id:!0,locale:!0,attributes:!0,version:!0,created_time:!0,updated_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},466118:(e,t,r)=>{r.d(t,{T:()=>o,g:()=>n});const n={number_equals:!0,number_does_not_equal:!0,number_greater_than:!0,number_less_than:!0,number_greater_than_or_equal_to:!0,number_less_than_or_equal_to:!0,is_empty:!0,is_not_empty:!0},o=(0,r(534177).uv)(n)},467248:(e,t,r)=>{r.d(t,{i:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.27 4.37 15.45 11.25",directional:!0,svg:(0,r(474848).jsx)("path",{d:"M2.9 4.375a.625.625 0 1 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zm0 3.333a.625.625 0 0 0 0 1.25h14.2a.625.625 0 1 0 0-1.25zM2.275 15c0-.345.28-.625.625-.625H10a.625.625 0 1 1 0 1.25H2.9A.625.625 0 0 1 2.275 15m.625-3.958a.625.625 0 1 0 0 1.25h14.2a.625.625 0 0 0 0-1.25z"})},o=(0,r(340498).wt)("textJustifyLeft",n)},468006:(e,t,r)=>{r.d(t,{$C:()=>D,CG:()=>v,E:()=>A,Gy:()=>C,Jt:()=>I,KF:()=>B,MA:()=>S,O1:()=>h,Q6:()=>x,ST:()=>b,Sh:()=>f,Vv:()=>p,ZF:()=>U,Zf:()=>g,a1:()=>u,aw:()=>P,eF:()=>y,gP:()=>T,gm:()=>m,nT:()=>R,oZ:()=>N,qu:()=>w,ri:()=>d,tQ:()=>_,tr:()=>M,uo:()=>c});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(792071),i=()=>r(68263),s=()=>r(848538),l=()=>r(854150);function c(e,t){return{id:e,table:l().yK,spaceId:t}}function u(e){return e instanceof a().dCz?e.getRawMembership():void 0===e.membership?[]:e.membership}function d({rawMembers:e,groupsInSpace:t}){if(!e||!t)return[];const r=function({rawMembers:e}){if(!e)return[];return n().oE(e.flatMap((e=>"group"===e.entity_type?e.group_id:void 0)))}({rawMembers:e}),o=n().pY(t,(e=>e.group_id)),a=r.flatMap((e=>o[e]));return n().oE(a)}function p(e){const t=new Set,r=new Set,n=u(e);for(const o of n)"owner"===o.type&&"user"===o.entity_type&&t.add(o.user_id),"owner"===o.type&&"group"===o.entity_type&&r.add(o.group_id);return{userIds:Array.from(t),groupIds:Array.from(r)}}function m(e){const t=u(e);return n().oE(t.map((e=>{if("team_level_guest"===e.type)return e.user_id})))}function f(e){return Boolean(e.archived_by)}function g(e){const{team:t,userPermissionGroups:r,spaceUser:n,userId:o}=e;let a=[];if(n){if(a=function(e){const{team:t,userPermissionGroups:r,spaceUser:n}=e,o=t.getRawMembership(),a=[],i=o.find((e=>"user"===e.entity_type&&e.user_id===n.user_id));if(!(0,s().MN)(n.membership_type)&&"team_level_guest"!==(null==i?void 0:i.type))return[];i&&a.push(i);o.filter((e=>"group"===e.entity_type&&r.has(e.group_id))).forEach((e=>{a.push(e)})),t.is_default&&0===a.length&&function(e){return(0,s().KM)(e)}(n.membership_type)&&a.push({type:"member",entity_type:"user",user_id:n.user_id});return a}({team:t,spaceUser:n,userPermissionGroups:r}),0===a.length)return"none"}else v({team:t,userId:o})&&a.push({type:"team_level_guest",entity_type:"user",user_id:o});return y(...a.map((e=>e.type)))}function y(...e){let t=0;for(const r of e)t=Math.max(t,l().y.indexOf(r));return l().y[t]}function _(e){const{givenTeamRole:t,comparisonTeamRole:r}=e;return l().y.indexOf(t)>=l().y.indexOf(r)}function v({team:e,userId:t}){return u(e).some((e=>"team_level_guest"===e.type&&e.user_id===t))}function b(e){if(!e.permissions)return"none";const t=e.permissions.find((t=>h(t,e.id)));return t?t.role:"none"}function h(e,t){return(0,i().gl)(e)?e.team_id===t:(0,i()._S)(e)}function A(e,t){return!!(0,i().un)(e)&&e.team_id===t}function I(e,t){return!(!(0,i().nl)(e)||e.team_id!==t)||(0,i().ZK)(e)}function k(e){return"user"===e.entity_type?`${e.entity_type}|${e.user_id}`:"group"===e.entity_type?`${e.entity_type}|${e.group_id}`:void(0,o().HB)(e)}function x(e,t){return k(e)===k(t)}function S(e){return"self_join"===e.space_member_join_access?"open":"team_members"===e.visibility?"private":"closed"}function T(e){const{accessLevel:t,isDefault:r}=e,{id:n,permissions:a,settings:s}=e.teamValue,l={type:"explicit_team_owner_permission",role:"editor",team_id:n},c=(null==a?void 0:a.find(i().gl))||{type:"explicit_team_permission",role:"editor",team_id:n},u=null==a?void 0:a.find(i().Lg),d={visibility:"space_members",space_member_join_access:"self_join",invite_access:"team_members"};if(r)return{settings:d,permissions:[l,c,{type:"space_permission",role:c.role},{type:"explicit_team_guest_permission",role:"none",team_id:n}]};if("open"===t){const e=(null==u?void 0:u.role)??"none";return{settings:d,permissions:[l,c,{type:"space_permission",role:(0,i().Tt)(e)?e:c.role}]}}return"closed"===t?{settings:{visibility:"space_members",space_member_join_access:"invite_only",invite_access:s.invite_access},permissions:[l,c,{type:"space_permission",role:"none"}]}:"private"===t?{settings:{visibility:"team_members",space_member_join_access:"invite_only",invite_access:null==s?void 0:s.invite_access},permissions:[l,c,{type:"space_permission",role:"none"}]}:void(0,o().HB)(t)}function M({spaceUserModel:e,teamModel:t,spaceModel:r,userPermissionGroups:n,userId:o}){if(void 0===(null==e?void 0:e.getUserId())||void 0===t||void 0===r)return!1;if("private"!==S(t.getSettings()))return!1;return"none"===g({team:t,userPermissionGroups:n??new Set,spaceUser:e,userId:o})}function w(e){const{userIds:t,groupIds:r}=p(e);return t.length+r.length<1}function B({groupId:e,teamMember:t}){return"group"===t.entity_type&&t.group_id===e}function C(e,t){return t?t.filter((t=>!x(t,e))):[]}function P(e,t){return(t=(t=t??[]).filter((t=>!x(t,e)))).push(e),t}function N({spaceModel:e,teamModel:t,setting:r}){const n=e&&e[r];return t&&t.getSettings()[r]?{disabled:!0,disabledBy:n?"space":"team"}:!t&&n?{disabled:!0,disabledBy:"space"}:{disabled:!1}}function U({numDefaultActiveTeams:e,teamAccessLevel:t}){return 0===e&&"open"===t}function R({isDefault:e}){return{archived_by:void 0,archived_at:void 0,is_default:e}}function D(e){var t;const{space:r,spaceView:n,relyOnOverride:o}=e;if(null==r?void 0:r.getSettings().was_in_personal_home_default_treatment)return!0;const a=Boolean(null==n||null===(t=n.getPersonalHomeSettings())||void 0===t?void 0:t.home_landing_page_enabled_v2);return o&&a}},471987:(e,t,r)=>{r.d(t,{Ay:()=>i,XX:()=>a,qz:()=>o});var n=()=>r(292588);const o={[r(192249).Hi]:!0,[r(183171).V1]:!0},a="marketplace_seller",i={table:a,columnTypes:{id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,stripe_connected_account_id:n().A.String,stripe_connect_onboarding_phase:n().A.String,webhook_config:n().A.JSON,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},474989:(e,t,r)=>{r.d(t,{Ay:()=>i,CM:()=>o,ns:()=>a});var n=()=>r(292588);const o={server_integrations__slack_enterprise:!0,server_integrations__slack_workspace:!0,server_integrations__slack_unique_global_user:!0},a="server_integrations__slack_bot_token",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,access_token:n().A.String,scopes:n().A.StringArray,parent_table:n().A.String,parent_id:n().A.String},model:(0,r(152853).P)({})}},475140:(e,t,r)=>{r.d(t,{EX:()=>d,Ib:()=>f,JO:()=>l,LC:()=>s,LP:()=>m,c7:()=>u,ku:()=>c,y1:()=>g,yn:()=>p});r(16280),r(944114),r(898992),r(672577);var n=()=>r(688728),o=()=>r(500993),a=()=>r(251822),i=()=>r(862387);function s(e,t){let r;return(0,i().vd)(e,((e,n)=>{r||t(e)&&(r=n)})),r}function l(e,t){let r;return(0,i().jh)(e,((e,n)=>{r||t(e)&&(r=n)})),r}function c(e,t){var r,n,o;const a=l(e,t);if(a)switch(a.area){case"views_main_tab_modules":return null===(r=e[a.area])||void 0===r||null===(r=r[a.viewId])||void 0===r?void 0:r[a.index];case"form_conditional_modules":return null===(n=e[a.area])||void 0===n?void 0:n[a.moduleId];default:return null===(o=e[a.area])||void 0===o?void 0:o[a.index]}}function u(e,t){var r,n,o;const a=s(e,t);if(a)switch(a.area){case"views_main_tab_modules":return null===(r=e[a.area])||void 0===r||null===(r=r[a.viewId])||void 0===r?void 0:r[a.index];case"form_conditional_modules":return null===(n=e[a.area])||void 0===n?void 0:n[a.moduleId];default:return null===(o=e[a.area])||void 0===o?void 0:o[a.index]}}function d(e,t){const r=l(e,t);if(!r)return;let n;var o;if("views_main_tab_modules"===r.area)n=null===(o=e[r.area])||void 0===o||null===(o=o[r.viewId])||void 0===o?void 0:o[r.index];else if("form_conditional_modules"===r.area){var a;n=null===(a=e[r.area])||void 0===a?void 0:a[r.moduleId]}else{var i;n=null===(i=e[r.area])||void 0===i?void 0:i[r.index]}return n?{module:n,position:r}:void 0}function p(e,t){const r=s(e,t);if(!r)return;let n;var o;if("views_main_tab_modules"===r.area)n=null===(o=e[r.area])||void 0===o||null===(o=o[r.viewId])||void 0===o?void 0:o[r.index];else if("form_conditional_modules"===r.area){var a;n=null===(a=e[r.area])||void 0===a?void 0:a[r.moduleId]}else{var i;n=null===(i=e[r.area])||void 0===i?void 0:i[r.index]}return n?{module:n,position:r}:void 0}function m(e,t){const r=function(e,t){const r=[];return(0,i().vd)(e,((e,n)=>{t(e)&&r.push(n)})),r}(e,t),n=[];for(const i of r){let t;var o;if("views_main_tab_modules"===i.area)t=null===(o=e[i.area])||void 0===o||null===(o=o[i.viewId])||void 0===o?void 0:o[i.index];else if("form_conditional_modules"===i.area){var a;t=null===(a=e[i.area])||void 0===a?void 0:a[i.moduleId]}else{var s;t=null===(s=e[i.area])||void 0===s?void 0:s[i.index]}t&&n.push({module:t,position:i})}return n}function f(e){const{modulesByArea:t,find:r}=e,o=d(t,(e=>"formQuestion"===e.type&&r(e)));if(o&&"formQuestion"===o.module.type&&(0,n().uW)(o.position.area))return{module:o.module,area:o.position.area}}function g(e){var t,r,n;const{modulesByArea:i,moduleId:s,isBottomPageDiscussionsEnabled:l}=e,{module:c,area:u}=(0,o().A)(s,i);switch(u){case"form_conditional_modules":if(!c.parentModuleId||!c.parentConditionalGroupId)throw new Error("Nested module has invalid parent module id or conditional group id");const e=null===(t=(0,o().A)(c.parentModuleId,i).module.conditionalGroups)||void 0===t?void 0:t.find((e=>e.id===c.parentConditionalGroupId));if(!e)throw new Error("Conditional group not found");return{currentModuleIndex:null===(r=e.children)||void 0===r?void 0:r.findIndex((e=>e===s)),numChildrenInGroup:null===(n=e.children)||void 0===n?void 0:n.length};case"form_layout_schema":const u=(0,a().jS)("form_layout_schema",i.form_layout_schema,l),d=u.nonMoveableHeaderModules,p="moveableCenterModules"in u?u.moveableCenterModules:[],m="moveableFooterModules"in u?u.moveableFooterModules:[],f=u.nonMoveableFooterModules,g=u.moveableModules,y=l?null==p?void 0:p.findIndex((e=>e.id===s)):null==g?void 0:g.findIndex((e=>e.id===s));return{currentModuleIndex:d.length+y,numChildrenInGroup:l?d.length+p.length+m.length+f.length:d.length+g.length+f.length}}}},476158:(e,t,r)=>{r.r(t),r.d(t,{applyOperationsToRecordMap:()=>Se,applyRecordOperations:()=>ke,cloneAndSetValueAtPath:()=>be,invertOperation:()=>Ae,isCopyFileOperation:()=>Ie,performPrimitiveOperation:()=>he,visibleForTesting:()=>Me});r(16280),r(944114),r(898992),r(803949),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(720665),i=()=>r(91913),s=()=>r(187534),l=()=>r(807427),c=()=>r(426234);var u=()=>r(837788),d=()=>r(152565),p=()=>r(416845);r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(354520),r(672577),r(581454);function m(e,t,r=!1){return r&&"string"==typeof e&&"string"==typeof t?e.toLowerCase()===t.toLowerCase():e===t}function f(e,t){let r=Array.isArray(t)?t:[];return r=r.filter((t=>t!==e.id)),r}function g(e,t){const r=e.key??"id";let n=Array.isArray(t)?t:[];return n=n.filter((t=>t&&t[r]&&!m(t[r],e.remove[r],e.caseInsensitive))),n}var y=()=>r(792071),_=()=>r(134025),v=()=>r(273900),b=()=>r(68263);var h=()=>r(713998),A=()=>r(696706),I=()=>r(179034),k=()=>r(201980),x=()=>r(764880),S=()=>r(998687),T=()=>r(437607);function M(e,t){const r=(0,k().jEb)({value:t});return R({addedValue:e.args.pointer,previousValues:r,equalityFn:w,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removePerson",args:{pointer:t}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addPersonAfter",args:{pointer:t}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonBefore",args:{pointer:t,before:r}})})}function w(e,t){return"me"===e||"me"===t?"me"===e&&"me"===t:(0,x().Pu)(e)?!!(0,x().Pu)(t)&&A().L3.isEqualIdTable(e,t):!!(0,T().I6)(e)&&(!!(0,T().I6)(t)&&A().L3.isEqualIdTable(e,t))}function B(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()}function C(e,t){const r=(0,h().yH)(t);return R({addedValue:e.args.option,previousValues:r,equalityFn:B,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removeSelectOption",args:{option:t}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addSelectOptionAfter",args:{option:t}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionBefore",args:{option:t,before:r}})})}function P(e){const{value:t,after:r,currentValueAtPath:o,fromTextValueFn:a,toTextValueFn:i,equalityFn:s}=e,l=U({value:t,currentValues:a(o),equalityFn:s});let c;if(r){const e=l.findIndex((e=>s(e,r)));c=n().Mp([...l.slice(0,e+1),t,...l.slice(e+1)],s)}else c=n().Mp([...l,t],s);return i(c)}function N(e){const{value:t,before:r,currentValueAtPath:o,fromTextValueFn:a,toTextValueFn:i,equalityFn:s}=e,l=U({value:t,currentValues:a(o),equalityFn:s});let c;if(r){const e=l.findIndex((e=>s(e,r)));c=n().Mp([...l.slice(0,e),t,...l.slice(e)],s)}else c=n().Mp([t,...l],s);return i(c)}function U(e){const{value:t,currentValues:r,equalityFn:n}=e;return r.filter((e=>!n(e,t)))}function R(e){const{addedValue:t,previousValues:r,equalityFn:n,createRemoveOpFn:o,createAddAfterOpFn:a,createAddBeforeOpFn:i}=e,s=r.findIndex((e=>n(e,t)));return s<0?o(t):s===r.length-1?a(t):i(t,r[s+1])}function D(e){const{removedValue:t,previousValues:r,equalityFn:n,createAddAfterOpFn:o,createAddBeforeOpFn:a}=e,i=r.findIndex((e=>n(e,t)));return i<0?o(t):0===i?a(t,r.length>1?r[1]:void 0):o(t,r[i-1])}function O(e,t){const r=(0,h().n)(t);return R({addedValue:{id:e.args.id,spaceId:e.args.spaceId,table:I().ev},previousValues:r,equalityFn:A().L3.isEqualIdTable,createRemoveOpFn:t=>({pointer:e.pointer,path:e.path,command:"removeRelation",args:{id:t.id,spaceId:t.spaceId}}),createAddAfterOpFn:t=>({pointer:e.pointer,path:e.path,command:"addRelationAfter",args:{id:t.id,spaceId:t.spaceId}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationBefore",args:{id:t.id,before:null==r?void 0:r.id,spaceId:t.spaceId}})})}var F=()=>r(628536),E=()=>r(468006),V=(r(823215),()=>r(115997)),L=()=>r(309956),H=()=>r(701218),G=()=>r(892073),q=()=>r(803884),j=()=>r(933449),$=()=>r(165358),z=()=>r(41273),W=()=>r(439180);function Z(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,useNewCrdtBackfillStrategy:u,crdtBackfillPrevItemsOnInsert:d,enforceMonotonicInsertTextOperations:m=!1,debugUserAction:f}=e,g=s.pointer,y=W().k3(s),_=y.textInstanceId,v=(0,z().rf)({getRecordModel:t,textInstanceBlocksMap:n,textInstanceId:_,env:c,allowEmpty:!0,logContext:{blockId:g.id,spaceId:g.spaceId}});(0,j().MX)(v.every((({space_id:e})=>e===v[0].space_id)),"Blocks containing slices of the same text instance should be in the same space.");const b=y.searchLabel,h=(0,z().TA)(v,_,b,a);let A=[];const k={blockId:g.id,spaceId:g.spaceId,userAction:f,allBlockValuesIncludesBlockId:v.map((e=>e.id)).includes(g.id)},x=()=>({...k,textInstanceBlocksMap:(0,V().A)(n),textSliceBlockMappingMap:(0,V().A)(a)});try{switch(y.type){case"insertText":A=K({insertOperation:y,searchLabelTextSlices:h,env:c,useNewCrdtBackfillStrategy:u,crdtBackfillPrevItemsOnInsert:d,enforceMonotonicInsertTextOperations:m,logger:l,getErrorContext:x});break;case"deleteText":A=function(e){const{deleteOperation:t,searchLabelTextSlices:r}=e,n=Array.from(r).map((([e,r])=>(r.textSlice.applyOperation({op:t}),e)));return n}({deleteOperation:y,searchLabelTextSlices:h});break;case"addAnnotation":case"removeAnnotation":A=ee({annotationOperation:y,searchLabelTextSlices:h,errorContext:k});break;default:(0,o().HB)(y)}}catch(M){if(M instanceof p().AM||M instanceof p().mh)return;throw M}const S=new Map;for(const o of A){const{blockValue:e,textSlice:t}=(0,j().o9)(h.get(o),"Search label pointing at missing container"),r=t.getSliceKey(),n=e.id,a=S.get(n)??(0,L().K)(e),s=(0,j().o9)(a.crdt_data,i().bp);(0,j().MX)((0,H().Ux)(a),"Invalid CRDT version");(0,j().o9)(s.title[q().p.nodes][r],"Title expected to exist")[q().p.textSlice]=G().l(t),S.set(n,a)}const T=new Set;for(const[o,i]of S){const e={table:I().ev,id:o,spaceId:i.space_id},n=(0,j().o9)(t.getRecordValue(e),"Original block value expected to exist");let a,u;try{a=(0,z().$e)(n)}catch(w){throw new(p().Qk)("Failed to parse text slice tree from original block value",{error:w,data:{...["local","development"].includes(c)&&{crdtOperation:s}}})}try{u=(0,z().$e)(i)}catch(w){throw new(p().Qk)("Failed to parse text slice tree from new block value",{error:w,data:{...["local","development"].includes(c)&&{crdtOperation:s}}})}u.equals(a)||(T.add(o),(0,z().B4)({blockValue:i,textSliceTree:u,originalTextValue:a.getTextValue()}),r({pointer:e,newValue:i}),i.alive||null==l||l.addTagsToCurrentSpan({"apply_basic_text_operation.edit_to_deleted_block":!0}))}if(null==l||l.logReadFanOut(S.size),null==l||l.logWriteFanOut(T.size),"deleteText"!==y.type&&T.size<=0){const e=(0,z()._G)(h),t=5e3;(0,j().MX)(!1,`At least one block should have been modified by ${y.type} operation`,["development","local"].includes(c)?{searchLabelTextSlices:e.length<t?e:`${e.slice(0,t)} trimmed`}:{})}if(T.size>1||1===T.size&&[...T][0]!==g.id){const e=(0,L().K)((0,j().o9)(t.getRecordValue(g),"Modified block value expected to exist"));e.version+=2,r({pointer:g,newValue:e}),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()}}function Q(e){return"text"===e.type}function K(e){const{insertOperation:t,searchLabelTextSlices:r,env:n,useNewCrdtBackfillStrategy:o,crdtBackfillPrevItemsOnInsert:a,enforceMonotonicInsertTextOperations:i=!1,logger:s,getErrorContext:l}=e,c=(0,z().C5)({originId:t.originId,searchLabelTextSlices:r,newItemId:t.id,useNewCrdtSliceFindingStrategy:!0});let u,d,p=[];if(null==s||s.addTagsToCurrentSpan({"crdt.backfill":"undefined","crdt.backfill.partial_item_encountered":"undefined","crdt.backfill.flag_enabled":"undefined"}),c)null==s||s.addTagsToCurrentSpan({"crdt.backfill.invoked":!1,"crdt.backfill":"skipped","crdt.backfill.partial_item_encountered":"skipped","crdt.backfill.flag_enabled":"skipped"}),p=[c.searchLabel],u=c.textSlice,d=c.originPresentInTextSlice;else{null==s||s.addTagsToCurrentSpan({"crdt.backfill.invoked":!0});const e={...l(),...["development","local"].includes(n)?{searchLabelTextSlices:(0,z()._G)(r),insertOperation:t}:{textInstanceId:t.textInstanceId,searchLabel:t.searchLabel,originId:t.originId}},i=(0,j().o9)(t.prevItems,"No prevItems available",e);(0,$().log)({level:"info",from:"applyInsertOperation",type:"backfilling prev items"});const c=performance.now(),m=te.backfillPrevItems({prevItems:i,searchLabelTextSlices:r,textInstanceId:t.textInstanceId,crdtBackfillPrevItemsOnInsert:a,useNewCrdtBackfillStrategy:o,errorContext:e,logger:s}),f=performance.now()-c,g=(0,j().o9)((0,z().C5)({originId:t.originId,searchLabelTextSlices:r,newItemId:t.id,useNewCrdtSliceFindingStrategy:o}),"Failed to find target text slice after backfilling",e);p=[...m],m.has(g.searchLabel)||p.push(g.searchLabel),u=g.textSlice,d=g.originPresentInTextSlice,null==s||s.addTagsToCurrentSpan({"crdt.backfill":"success","crdt.backfill.latency_ms":f})}return u.applyOperation({op:t,originPresentInTextSlice:d,enforceMonotonicInsertTextOperations:i}),p}function J({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){switch(r){case"start":case"startend":return e.start;case"end":case"middle":return{id:t.getStartItem().id,anchor:"before"};default:(0,o().HB)(r)}}function Y({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){switch(r){case"end":case"startend":return e.end;case"start":case"middle":return{id:t.getEndItem().id,anchor:"after"};default:(0,o().HB)(r)}}function X({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}){return{...e,start:J({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r}),end:Y({annotationOperation:e,textSlice:t,textSliceAnnotationFragment:r})}}function ee(e){const{annotationOperation:t,searchLabelTextSlices:r,errorContext:n}=e,o=[];let a=!1,i=!1;for(const s of Array.from(r.keys()).sort()){const e=(0,j().o9)(r.get(s),"Search label pointing at missing container");let n;if(!a){if(!e.textSlice.containsItemWithId(t.start.id))continue;a=!0,n="start"}!i&&e.textSlice.containsItemWithId(t.end.id,{includeEndItem:!0})&&(i=!0,n=Boolean(n)?"startend":"end"),n=n??"middle";const l=X({annotationOperation:t,textSlice:e.textSlice,textSliceAnnotationFragment:n});if(e.textSlice.applyOperation({op:l}),o.push(s),i)break}return(0,j().MX)(a,"Unable to apply annotation operation due to start missing",n),(0,j().MX)(i,"Unable to apply annotation operation due to end missing",n),o}const te={backfillPrevItems:function({prevItems:e,searchLabelTextSlices:t,textInstanceId:r,useNewCrdtBackfillStrategy:n,crdtBackfillPrevItemsOnInsert:o=!1,errorContext:a={},logger:i}){const s=[];let l=!1;(0,j().o9)(e[0],"Cannot backfill empty list of prev items",a);let c=!1;for(const p of e){const e=(0,z().WE)({itemId:"start"===p.type?"start":p.id,searchLabelTextSlices:t});if(void 0!==(null==e?void 0:e.textSlice)){if(c=!0,"start"===p.type||"split"===p.type){(0,$().log)({level:"warning",from:"backfillPrevItems",type:"backfill unnecessary because start or split prev item found in text slice already",data:{miscDataToConvertToString:a}});break}const t=te.getPartialMissingItem(p,null==e?void 0:e.textSlice);t?(s.unshift(t),l=!0):(0,$().log)({level:"warning",from:"backfillPrevItems",type:"backfill unnecessary because all opIds from text prev item exist in text slice already",data:{miscDataToConvertToString:a}});break}const r=(0,j().Wg)(p,Q,"Cannot backfill prev item that is not a text item",{...a,itemType:p.type});s.unshift(r);const o=(0,z().C5)({originId:r.originId,searchLabelTextSlices:t,useNewCrdtSliceFindingStrategy:n,newItemId:r.id});if(void 0!==(null==o?void 0:o.textSlice)){c=!0;break}}if((0,j().MX)(c,"Insertion origin not found in text slice",a),null==i||i.addTagsToCurrentSpan({"crdt.backfill.prev_items_length":e.length,"crdt.backfill.missing_items_length":s.length,"crdt.backfill.partial_item_encountered":l?"yes":"no","crdt.backfill.flag_enabled":o?"yes":"no"}),s.length>0&&!o)throw new(p().Qk)("cannot backfill missing items because crdtBackfillPrevItemsOnInsert is false",a);(0,$().log)({level:"info",from:"backfillPrevItems",type:"backfilling missing text items",data:{miscDataToConvertToString:{errorContext:a,missingItemsLength:s.length}}});const u=new Set;for(const g of s){let e;try{const n=(0,j().o9)((0,z().C5)({originId:g.originId,searchLabelTextSlices:t,newItemId:g.id,useNewCrdtSliceFindingStrategy:!0}),"missingItem origin id not found",a),o=(0,j().o9)(n.textSlice,"missing item's TextSlice not found",a);e=(0,j().o9)(n.searchLabel,"affectedSearchLabel not found",a),u.add(e);const i={textInstanceId:r,searchLabel:e,id:g.id,originId:g.originId};g.deleted?o.backfillDeletedTextItem(g.id,g.originId,g.length,n.originPresentInTextSlice):o.applyInsertTextOperation({op:{type:"insertText",content:g.content,...i},originPresentInTextSlice:n.originPresentInTextSlice})}catch(f){throw new(p().Qk)("Failed to backfill missing items",{error:f,data:{...a,textInstanceId:r,searchLabel:e,missingItemId:g.id,missingItemOriginID:g.originId,deleted:g.deleted}})}}const d=new Set,m=s.flatMap((e=>[...e.annotationOpsBefore??[],...e.annotationOpsAfter??[]]));(0,$().log)({level:"info",from:"backfillPrevItems",type:"backfilling annotations",data:{miscDataToConvertToString:{errorContext:a,annotationOperationsToBackfillLength:m.length}}});for(const p of m){const e=p.id.join("_");if(d.has(e))continue;const r=ee({annotationOperation:p,searchLabelTextSlices:t,errorContext:a});d.add(e);for(const t of r)u.add(t)}return u},getPartialMissingItem:function(e,t){const r=[...e.id];for(;t.containsItemWithId(r)&&r[1]<e.id[1]+e.length;)r[1]++;if(r[1]!==e.id[1]+e.length)return{type:"text",originId:r[1]===e.id[1]?e.originId:[r[0],r[1]-1],id:r,length:e.length-(r[1]-e.id[1]),annotationOpsBefore:r[1]===e.id[1]?e.annotationOpsBefore:void 0,annotationOpsAfter:e.annotationOpsAfter,...e.content?{content:e.content.slice(r[1]-e.id[1]),deleted:!1}:{content:void 0,deleted:!0}}},applyInsertOperation:K};var re=()=>r(793909),ne=()=>r(976617);function oe(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:o,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,debugUserAction:u}=e,d=u??"",p=l?(...e)=>l.traceSync(...e):({fn:e})=>e(),m=e=>p({operation:"applyMoveTextSliceOperation.cloneBlockValue",fn:()=>(0,L().K)(e),minDurationMs:100,tags:{blockId:e.id,userAction:d}});function f(e){const n=m((0,j().o9)(t.getRecordValue(e),i().pr));n.version+=2,r({pointer:e,newValue:n})}const g=(0,j().o9)((0,z().Gh)({getRecordModel:t,textInstanceBlocksMap:o,textInstanceId:s.args.textInstanceId,searchLabel:s.args.sourceSearchLabel,textSliceStartItemId:s.args.textSliceStartItemId,env:c}),"Block containing text slice start item not found"),y=m(g),_=(0,z().$e)(y),v=p({operation:"applyMoveTextSliceOperation.findSourceTextSliceTree",fn:()=>(0,j().o9)(_.findTextSliceTreeContainingItemWithId(s.args.textInstanceId,s.args.textSliceStartItemId),i().Dp),minDurationMs:100,tags:{blockId:y.id,userAction:d}});(0,j().MX)(v!==_,"Text slice tree node to move should not be root node of block.");const b=_.getTextValue(),h=Array.from(_.getTextInstanceIds()),A=(0,j().o9)((0,z().Zf)({getRecordModel:t,textInstanceBlocksMap:o,textInstanceId:s.args.targetTextInstanceId,searchLabel:s.args.targetSearchLabel,textSliceEndItemId:s.args.targetTextSliceEndItemId,env:c}),"Target block expected to exist."+("development"===c?` Context: ${(0,V().A)({textOperation:s,textInstanceBlocksMap:o})}`:"")),x=A.id===g.id,S=x?y:m(A),T=x?_:(0,z().$e)(S),M=(0,j().o9)(T.findTextSliceTreeContainingItemWithId(s.args.targetTextInstanceId,s.args.targetTextSliceEndItemId,{type:"end"}),i().Dp);(0,j().MX)(v!==M,"Source text slice tree node should not be the same as the target node."),l&&l.traceSync({operation:"applyMoveTextSliceOperation.logReadFanOut",fn:()=>{const e=(0,j().o9)(o.get(s.args.textInstanceId),"Move text operation text instance must be in block map").length;if(l.logReadFanOut(e),!x){const e=(0,j().o9)(o.get(s.args.targetTextInstanceId),"Move text operation text instance must be in block map").length;l.logReadFanOut(e)}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}});const w=x?b:T.getTextValue(),B=s.pointer,C={table:I().ev,id:s.args.targetBlockId,spaceId:s.pointer.spaceId},P=Array.from(T.getTextInstanceIds()),N=p({operation:"applyMoveTextSliceOperation.detachFromParent",fn:()=>{v.detachFromParent();const e=[...v.iterateTextSliceTrees()].map((e=>e.getTextSlice()));try{M.appendChild(v)}catch(t){return f(B),C.id!==B.id&&C.id!==S.id&&f(C),{exit:!0}}if(s.args.isMerge){const e=_.getTextValue();null==l||l.logRemainingTextAfterMerge(k().AhH(e))}return{affectedTextSlices:e}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}});if("exit"in N)return;const U=N.affectedTextSlices;p({operation:"applyMoveTextSliceOperation.updateSourceBlock",fn:()=>{(0,z().B4)({blockValue:y,textSliceTree:_,originalTextValue:b})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}}),p({operation:"applyMoveTextSliceOperation.updateTextInstanceBlockListMappingSourceBlock",fn:()=>{const e=Array.from(_.getTextInstanceIds()),t=n().R9(h,e);for(const r of t){const e=o.get(r);e?n().TF(e,(e=>e.id===y.id)):(0,j().MX)(r!==s.args.textInstanceId&&r!==s.args.targetTextInstanceId,"Text instance ID not in block mapping should not be in operation args.")}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}});const R={table:I().ev,id:y.id,spaceId:y.space_id};r({pointer:R,newValue:y});const D=S!==y?{table:I().ev,id:S.id,spaceId:S.space_id}:R;return S!==y&&(p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.setTextSliceTree",fn:()=>{(0,z().B4)({blockValue:S,textSliceTree:T,originalTextValue:w})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}}),p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.updateTextInstanceBlocks",fn:()=>{const e=T.getTextInstanceIds(),t=[],r=new Set(P);for(const n of e)r.has(n)||t.push(n);for(const n of t){let e=o.get(n);void 0===e&&(e=[],o.set(n,e)),e.push(D)}},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,numTargetTextInstanceIdsBefore:P.length,userAction:d}}),p({operation:"applyMoveTextSliceOperation.updateTargetBlockIfDifferent.setNewValue",fn:()=>{r({pointer:D,newValue:S})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}})),p({operation:"applyMoveTextSliceOperation.updateTextSliceBlockMappingEntries",fn:()=>{!function({textSliceBlockMappingMap:e,affectedTextSlices:t,sourceBlockPointer:r,targetBlockPointer:n,setNewValue:o}){if(r.id===n.id)return;for(const a of t){const t=(0,j().o9)(e.get(a.textInstanceId),"text_slice_block_mapping: text instance id doesn't exist"),i=(0,j().o9)(t.get(a.getSearchLabel()),"text_slice_block_mapping: search label doesn't exist");(0,j().MX)(r.id===i.block_id,"text_slice_block_mapping: old block ID should match");const s={...i,block_id:n.id,version:i.version+1};t.set(a.getSearchLabel(),s);o({pointer:{table:ne().H,id:s.id,spaceId:s.space_id},newValue:s})}}({textSliceBlockMappingMap:a,affectedTextSlices:U,sourceBlockPointer:R,targetBlockPointer:D,setNewValue:r})},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,numAffectedTextSlices:U.length,numTextSliceBlockMapping:a.size,userAction:d}}),y.alive||null==l||l.addTagsToCurrentSpan(s.args.isMerge?{"apply_move_text_slice_operation.merge_from_deleted_block":!0}:{"apply_move_text_slice_operation.split_deleted_block":!0}),S.alive||null==l||l.addTagsToCurrentSpan({"apply_move_text_slice_operation.merge_into_deleted_block":!0}),p({operation:"applyMoveTextSliceOperation.incrementMismatchedBlockVersion",fn:()=>{B.id!==y.id&&(f(B),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()),C.id!==B.id&&C.id!==S.id&&(f(C),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer())},minDurationMs:100,tags:{sourceBlockId:y.id,targetBlockId:S.id,userAction:d}}),{sourceBlockPointer:R,targetBlockPointer:D}}var ae=()=>r(498212),ie=()=>r(398966);function se(e){const t=e.splitIntoSlices();return(0,j().MX)(2===t.length,"Text slice expected to be split into two slices"),{splitTextSlice:t[0],newTextSlice:t[1]}}function le(e){var t;const{getRecordModel:r,setNewValue:o,textInstanceBlocksMap:a,textSliceBlockMappingMap:s,textOperation:l,logger:u,env:d,debugUserAction:p}=e,m=r.getRecordValue({id:l.args.targetBlockId,spaceId:l.pointer.spaceId,table:"block"}),f=(0,j().o9)(null==m||null===(t=m.crdt_data)||void 0===t?void 0:t.title,i().cf),g=q().iu((0,re().b)(),f).getTextSlice().textInstanceId,y=oe({getRecordModel:r,setNewValue:o,textInstanceBlocksMap:a,textSliceBlockMappingMap:s,textOperation:{command:"moveTextSlice",pointer:l.pointer,path:[],opVersion:W().TU,args:{...l.args,sourceSearchLabel:l.args.sourceSearchLabel,targetTextInstanceId:g,targetSearchLabel:c().DI,targetTextSliceEndItemId:"end"}},logger:u,env:d,debugUserAction:p});if(!y)return;const{sourceBlockPointer:_,targetBlockPointer:v}=y;!function(e){var t;const{getRecordModel:r,setNewValue:o,sourceBlockPointer:a,targetBlockPointer:s}=e,l=(0,j().o9)(r.getRecordValue(a),i().pr),c=(0,j().o9)(r.getRecordValue(s),i().pr);if(l.parent_table!==I().ev||c.parent_table!==I().ev)return;if(l.id===c.id)return;if(c.parent_id===l.id&&c.id===(null===(t=l.content)||void 0===t?void 0:t[0]))return;const u={table:I().ev,id:l.parent_id,spaceId:l.space_id},d=(0,j().o9)(r.getRecordValue(u),i().pr),p={table:I().ev,id:c.parent_id,spaceId:c.space_id},m=p.id===u.id?d:(0,j().o9)(r.getRecordValue(p),i().pr);let f=(0,j().o9)(d.content,i().T_).indexOf(l.id);const g=(0,j().o9)(m.content,i().T_).indexOf(c.id);if(!l.alive)return;if((0,j().MX)(f>=0,"Expected source block to be in its parent's content array"),(0,j().MX)(g>=0,"Expected target block to be in its parent's content array"),c.parent_id===l.parent_id&&g===f+1)return;const y=(0,L().K)(d),_=p.id===u.id?y:(0,L().K)(m);(0,j().o9)(_.content,i().T_).splice(g,1);const v=(0,j().o9)(y.content,i().T_);if(f=v.indexOf(l.id),(0,j().MX)(f>=0,"Expected source block to be in content array"),v.splice(f+1,0,c.id),y.version+=1,o({pointer:u,newValue:y}),_!==y){const e=n().mg(c);e.parent_id=y.id,e.version+=1,o({pointer:s,newValue:e}),_.version+=1,o({pointer:p,newValue:_})}}({getRecordModel:r,setNewValue:o,sourceBlockPointer:_,targetBlockPointer:v})}var ce=r.n(r(702189)),ue=()=>r(957705),de=()=>r(826081);var pe=()=>r(855355);function me(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:o,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,useNewCrdtSplitStrategy:u}=e,d=s.pointer;let m;try{m=function(e){const{getRecordModel:t,textInstanceBlocksMap:r,crdtOperation:o,env:a,textSliceBlockMappingMap:i,useNewCrdtSplitStrategy:s}=e,l=o.textInstanceId,c=(0,z().rf)({getRecordModel:t,textInstanceBlocksMap:r,textInstanceId:l,env:a,allowEmpty:!0}).map(n().mg),u=(0,z().TA)(c,l,o.searchLabel,i);if(0===u.size)return;const d=(0,z().C5)({originId:o.originId,searchLabelTextSlices:u,useNewCrdtSliceFindingStrategy:s,newItemId:o.id});if(void 0===d)return;const{searchLabel:p,textSlice:m,originPresentInTextSlice:f}=d;m.applyOperation({op:o,originPresentInTextSlice:f});const{splitTextSlice:g,newTextSlice:y}=se(m);ie().Ay.updateSearchLabelAfterSplit({splitTextSlice:g,newTextSlice:y});const _=(0,j().o9)(u.get(p),"textSliceWithContext for split not found"),v=_.textSliceBlockMappingValue,b={...v,search_label:g.getSearchLabel(),version:v.version+1},h={...v,id:(0,ae().lZ)(),search_label:y.getSearchLabel(),last_version:0,version:0};return{sourceBlockValue:_.blockValue,splitTextSlice:g,newTextSlice:y,splitTextSliceBlockMappingValue:b,newTextSliceBlockMappingValue:h,originalUnchangedSearchLabel:p}}({getRecordModel:t,textInstanceBlocksMap:o,textSliceBlockMappingMap:a,crdtOperation:W().k3(s),env:c,useNewCrdtSplitStrategy:u})}catch(A){if(A instanceof p().AM)return;throw A}const{sourceBlockValue:f,splitTextSlice:g,newTextSlice:y,splitTextSliceBlockMappingValue:_,newTextSliceBlockMappingValue:v,originalUnchangedSearchLabel:b}=(0,j().o9)(m,"splitTextSliceResult must exist");f.version++;r({pointer:{table:I().ev,id:f.id,spaceId:f.space_id},newValue:f}),function(e){const{setNewValue:t,textSliceBlockMappingMap:r,splitTextSlice:n,newTextSlice:o,splitTextSliceBlockMappingValue:a,newTextSliceBlockMappingValue:i,originalUnchangedSearchLabel:s}=e,l={table:ne().H,id:a.id,spaceId:a.space_id};t({pointer:l,newValue:a});const c={table:ne().H,id:i.id,spaceId:i.space_id};t({pointer:c,newValue:i});const u=n.textInstanceId,d=(0,j().o9)(r.get(u),"text_slice_block_map entry for text instance expected to exist.");d.delete(s),d.set(n.getSearchLabel(),a),d.set(o.getSearchLabel(),i)}({setNewValue:r,textSliceBlockMappingMap:a,splitTextSlice:g,newTextSlice:y,splitTextSliceBlockMappingValue:_,newTextSliceBlockMappingValue:v,originalUnchangedSearchLabel:b});const h=function(e,t,r){const n=t.textInstanceId,o=(0,z().$e)(e),a=(0,j().o9)(o.findTextSliceTreeContainingItemWithId(n,t.getStartItem().id),i().Dp);a.replaceTextSlice(t);const s=new(pe().Ay)((0,re().b)(),r);return[...a.children].forEach((e=>{e.detachFromParent(),s.appendChild(e)})),a.appendChild(s),o}(f,g,y);if(function(e,t){e.crdt_data={title:q().lK(t)},e.crdt_format_version=1,e.properties??={},e.properties.title=t.getTextValue()}(f,h),l){const e=(0,j().o9)(o.get(s.args.textInstanceId),"Split operation text instance not found in blocks map").length;l.logReadFanOut(e)}if(d.id!==f.id){const e=(0,L().K)((0,j().o9)(t.getRecordValue(d),i().pr));e.version+=2,r({pointer:d,newValue:e}),null==l||l.logTextOperationAppliedToDifferentBlockThanOperationPointer()}}function fe(e){const{getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,operation:s,logger:l,env:c,crdtBackfillPrevItemsOnInsert:u,useNewCrdtBackfillStrategy:d,useNewCrdtSplitStrategy:p,enforceMonotonicInsertTextOperations:m,debugUserAction:f}=e;switch(s.command){case"insertText":case"deleteText":case"addAnnotation":case"removeAnnotation":return void Z({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,useNewCrdtBackfillStrategy:d,crdtBackfillPrevItemsOnInsert:u,enforceMonotonicInsertTextOperations:m,debugUserAction:f});case"splitText":return void me({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,useNewCrdtSplitStrategy:p});case"moveTextSlice":return void oe({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c,debugUserAction:f});case"moveTextSliceIntoBlock":return void le({getRecordModel:t,setNewValue:r,textInstanceBlocksMap:n,textSliceBlockMappingMap:a,textOperation:s,logger:l,env:c});case"replaceTextInBlock":return void function(e){const{getRecordModel:t,setNewValue:r,textOperation:n,logger:o,debugUserAction:a}=e,s=a??"",l=o?(...e)=>o.traceSync(...e):({fn:e})=>e(),c=(e=>l({operation:"applyReplaceTextInBlockOperation.cloneBlockValue",fn:()=>(0,L().K)(e),minDurationMs:100,tags:{blockId:e.id,userAction:s}}))((0,j().o9)(t.getRecordValue(n.pointer),i().pr)),u=(e=>l({operation:"applyReplaceTextInBlockOperation.getTextSliceTreeFromBlock",fn:()=>(0,z().$e)(e),minDurationMs:100,tags:{blockId:e.id,userAction:s}}))(c),d=u.getTextValue(),p=(0,k().q4_)(d),m=(0,k().q4_)(n.args.textValue),f=(0,de().rE)(p,m);let g=0;for(const[i,v]of f)switch(i){case ce().DIFF_DELETE:u.deleteText(g,g+v.length-1);break;case ce().DIFF_INSERT:u.insertTextValue(g,[[v]]),g+=v.length;break;case ce().DIFF_EQUAL:g+=v.length;break;default:throw new Error(`unhandled diff type: ${i}`)}const{originalAnnotationRanges:y,newAnnotationRanges:_}=l({operation:"applyReplaceTextInBlockOperation.getAnnotationRanges",fn:()=>({originalAnnotationRanges:(0,ue().k)(u.getTextValue()),newAnnotationRanges:(0,ue().k)(n.args.textValue)}),minDurationMs:100,tags:{blockId:c.id,userAction:s}});l({operation:"applyReplaceTextInBlockOperation.removeOriginalAnnotations",fn:()=>{for(const e of y.values()){e.sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:t,endIndex:r,annotation:n}of e){const e=(0,k().JIi)(n);u.removeAnnotation(t,r,e,!0)}}},minDurationMs:100,tags:{blockId:c.id,numOriginalAnnotationRanges:y.size,userAction:s}}),l({operation:"applyReplaceTextInBlockOperation.addNewAnnotations",fn:()=>{for(const e of _.values()){e.sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:t,endIndex:r,annotation:n}of e)u.addAnnotation(t,r,n)}},minDurationMs:100,tags:{blockId:c.id,numNewAnnotationRanges:_.size,userAction:s}}),l({operation:"applyReplaceTextInBlockOperation.setTextSliceTreeAndUpdateDiscussions",fn:()=>{(0,z().B4)({blockValue:c,textSliceTree:u,originalTextValue:d})},minDurationMs:100,tags:{blockId:c.id,userAction:s}}),r({pointer:n.pointer,newValue:c})}({getRecordModel:t,setNewValue:r,textOperation:s,logger:l,debugUserAction:f});default:(0,o().HB)(s)}}var ge=()=>r(220719);const ye={set:function(e){return n().mg(e)},update:function(e,t={}){return{...t,...n().mg(e)}},listBefore:function(e,t){let r=Array.isArray(t)?t:[];r=f({id:e.id},r);const n=r.findIndex((t=>t===e.before));return n>=0?r.splice(n,0,e.id):r.unshift(e.id),r},listAfter:function(e,t){let r=Array.isArray(t)?t:[];r=f({id:e.id},r);const n=r.findIndex((t=>t===e.after));return n>=0?r.splice(n+1,0,e.id):r.push(e.id),r},listRemove:f,listReplace:function(e,t){let r=Array.isArray(t)?t:[];return r=r.map((t=>t===e.id?e.newId:t)),r},listAfterMulti:function(e,t){const r=new Set(e.ids),n=(Array.isArray(t)?t:[]).filter((e=>!r.has(e))),o=n.findIndex((t=>t===e.after));return o>=0?n.splice(o+1,0,...e.ids):n.push(...e.ids),n},listBeforeMulti:function(e,t){const r=new Set(e.ids),n=(Array.isArray(t)?t:[]).filter((e=>!r.has(e))),o=n.findIndex((t=>t===e.before));return o>=0?n.splice(o,0,...e.ids):n.unshift(...e.ids),n},keyedObjectListBefore:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value);let a=Array.isArray(t)?t:[];a=g({key:r,remove:o,caseInsensitive:e.caseInsensitive},a);const i=e.before?e.before[r]:void 0,s=a.findIndex((t=>t&&void 0!==t[r]&&void 0!==i&&m(t[r],i,e.caseInsensitive)));return s>=0?a.splice(s,0,o):a.unshift(o),a},keyedObjectListAfter:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value);let a=Array.isArray(t)?t:[];a=g({key:r,remove:o,caseInsensitive:e.caseInsensitive},a);const i=e.after?e.after[r]:void 0,s=a.findIndex((t=>t&&void 0!==t[r]&&void 0!==i&&m(t[r],i,e.caseInsensitive)));return s>=0?a.splice(s+1,0,o):a.push(o),a},keyedObjectListRemove:g,keyedObjectListUpdate:function(e,t){const r=e.key??"id",o=(0,n().mg)(e.value),a=Array.isArray(t)?[...t]:[],i=a.findIndex((t=>t&&t[r]&&m(t[r],e.value[r],e.caseInsensitive)));return i>=0?a[i]={...a[i],...o}:a.push(o),a},appendActivity:r(813206).up,setPermissionItem:function(e,t){let r=t||[];if("public_permission"===e.type){const t=r.filter((e=>(0,b().FP)(e))).map((e=>e.added_timestamp||0));t.length>0?e.added_timestamp=Math.min(...t):e.added_timestamp=(new Date).getTime()}return r=r.filter((t=>!(0,v().nK)(t,e))),r.push(e),r=r.filter((e=>!(0,b().hI)(e)||"none"!==(0,b().Lw)(e))),r},temporarySetPermissionItemForBackfill:function(e,t){let r=t||[];return r=r.filter((t=>!(0,v().nK)(t,e))),r.push(e),r=r.filter((e=>!(0,b().hI)(e)||"none"!==(0,b().Lw)(e))),r},setSingletonPermissionItem:function(e,t){const{singletonPermissionItem:r,set:n}=e;let o=t||[];return o=o.filter((e=>!(0,v().nK)(e,r))),n&&o.push(r),o},addRelationAfter:function(e,t){return P({value:{id:e.id,spaceId:e.spaceId,table:I().ev},after:e.after?{id:e.after,spaceId:e.spaceId,table:I().ev}:void 0,currentValueAtPath:t,fromTextValueFn:h().n,toTextValueFn:h().Ap,equalityFn:A().L3.isEqualIdTable})},addRelationBefore:function(e,t){return N({value:{id:e.id,spaceId:e.spaceId,table:I().ev},before:e.before?{id:e.before,spaceId:e.spaceId,table:I().ev}:void 0,currentValueAtPath:t,fromTextValueFn:h().n,toTextValueFn:h().Ap,equalityFn:A().L3.isEqualIdTable})},addRelations:function(e,t){const r=n().Gv(t)?t:{},o={...r};for(const n in e){const t=e[n],a=(0,h().n)(r[n]),i=A().L3.uniq([...a,...t.map((e=>({id:e.id,spaceId:e.spaceId,table:I().ev})))]);o[n]=(0,h().Ap)(i)}return o},removeRelation:function(e,t){return(0,h().Ap)(U({value:{id:e.id,spaceId:e.spaceId,table:I().ev},currentValues:(0,h().n)(t),equalityFn:A().L3.isEqualIdTable}))},addPersonAfter:function(e,t){return P({value:e.pointer,after:e.after,currentValueAtPath:t,fromTextValueFn:e=>(0,k().ELt)({value:e,includeTemplateVariables:!0}),toTextValueFn:S().R,equalityFn:w})},addPersonBefore:function(e,t){return N({value:e.pointer,before:e.before,currentValueAtPath:t,fromTextValueFn:e=>(0,k().ELt)({value:e,includeTemplateVariables:!0}),toTextValueFn:S().R,equalityFn:w})},removePerson:function(e,t){return(0,S().R)(U({value:e.pointer,currentValues:(0,k().ELt)({value:t,includeTemplateVariables:!0}),equalityFn:w}))},addSelectOptionAfter:function(e,t){return P({value:e.option,after:e.after,currentValueAtPath:t,fromTextValueFn:h().yH,toTextValueFn:h().rK,equalityFn:B})},addSelectOptionBefore:function(e,t){return N({value:e.option,before:e.before,currentValueAtPath:t,fromTextValueFn:h().yH,toTextValueFn:h().rK,equalityFn:B})},removeSelectOption:function(e,t){const r=U({value:e.option,currentValues:(0,h().yH)(t),equalityFn:B});return r.length>0?(0,h().rK)(r):[]},copyFile:function(e,t){const r=t.file_ids||[];return r.includes(e.fileId)?{...t}:{...t,file_ids:[...r,e.fileId]}},removeTeamMembershipItem:E().Gy,setTeamMembershipItem:E().aw,ensureScheduleId:function(e,t){const{id:r,scheduleId:n}=e,a=t||{};return(0,o().O9)(a[r])?a:{...a,[r]:n}}};function _e(e,t){return function(e,t){return e.pointer.table===I().ev&&0===e.path.length&&(0,o().Gv)(e.args)&&!Array.isArray(e.args)&&(0,o().Gv)(t)&&!Array.isArray(t)&&0===Object.keys(t).length}(e,t)?{pointer:e.pointer,path:[],command:"update",args:{alive:!1}}:{pointer:e.pointer,path:e.path,command:"set",args:a().pN(t)?null:t}}function ve(e){return void 0===e.size?1:e.size}function be(e,t,r){if(0===t.length)throw new(p().Um)("Empty path to set");const o=n().mg(e);let a=o;for(let i=0;i<t.length;i++){const e=t[i],o=(0,_().JZ)(e)?n().SL(a,{id:e.id}):e;if(i===t.length-1)a[o]=r;else{let e=a[o];null==e&&(e="number"==typeof t[i+1]?[]:{}),a[o]=e,a=e}}return o}function he(e,t,r={}){const n=t||{},o=e.path.length>0?(0,_().OU)(n,e.path):n,i=n.version?n.version+ve(e):ve(e),s=ye[e.command];if(!s)throw new Error(`Unknown operation command ${e.command}.`);if(void 0!==e.expectedVersion&&n.version&&e.expectedVersion!==n.version){if(!e.onlyLogVersionMismatch)throw new(p().Kh)("Mismatching expected and actual versions for the record",{clientData:{type:"operation_conflict",expectedVersion:e.expectedVersion,currentVersion:n.version,command:e.command,path:e.path,pointer:e.pointer}});var l;null===(l=r.logExpectedVersionMismatch)||void 0===l||l.call(r)}const c=s(e.args,o),d=e.path.length>0?be(n,e.path,c):c,m=F().Ay[e.pointer.table],f=m.requiredColumns||{},g=m.defaultColumnValues||{};for(const u of Object.keys(f))!t||a().pN(t[u])||d&&!a().pN(d[u])||(d[u]=g.hasOwnProperty(u)?g[u]:t[u]);if(d&&t){const e=t.file_ids||[];if((d.file_ids||[]).length<e.length){var y;if(r.allowFileIdsRemoval)null===(y=r.logFileIdsRemoval)||void 0===y||y.call(r);r.allowFileIdsRemoval||(d.file_ids=e)}}return{...(0,u().A)(d,"mangle-class-instances",e.path||[]),id:e.pointer.id,version:i}}function Ae(e,t){let r;switch(t=t||{},r=e.path.length>0?(0,_().OU)(t,e.path):t,e.command){case"set":return _e(e,r);case"update":return function(e,t){t||(t={});const r={};return Object.keys(e.args).forEach((e=>{r[e]=t[e],void 0===r[e]&&(r[e]=null)})),{pointer:e.pointer,path:e.path,command:"update",args:r}}(e,r);case"listBefore":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id));if(n>=0){if(n+1===r.length)return{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id}};const t=r[n+1];return{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id,before:t}}}return{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,r);case"listAfter":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id));if(n>0){const t=r[n-1];return{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:t}}}return 0===n?{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id}}:{pointer:e.pointer,path:e.path,command:"listRemove",args:{id:e.args.id}}}(e,r);case"listRemove":return function(e,t){const r=Array.isArray(t)?t:[],n=r.findIndex((t=>t===e.args.id)),o=r[n-1];return o?{pointer:e.pointer,path:e.path,command:"listAfter",args:{id:e.args.id,after:o}}:{pointer:e.pointer,path:e.path,command:"listBefore",args:{id:e.args.id}}}(e,r);case"keyedObjectListBefore":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&m(t[r],e.args.value[r],e.args.caseInsensitive)));if(o>=0){if(o+1===n.length)return{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{...e.args,value:n[o]}};const t=n[o+1];return{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:n[o],before:t,caseInsensitive:e.args.caseInsensitive}}}return{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListAfter":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&m(t[r],e.args.value[r],e.args.caseInsensitive)));if(o>0){const t=n[o-1];return{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{key:r,value:n[o],after:t,caseInsensitive:e.args.caseInsensitive}}}return 0===o?{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:n[o],caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListRemove":return function(e,t){const r=e.args.key??"id",n=Array.isArray(t)?t:[],o=n.findIndex((t=>t&&t[r]&&m(t[r],e.args.remove[r],e.args.caseInsensitive))),a=n[o],i=n[o-1];return a?i?{pointer:e.pointer,path:e.path,command:"keyedObjectListAfter",args:{key:r,value:a,after:i,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListBefore",args:{key:r,value:a,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.remove,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"keyedObjectListUpdate":return function(e,t){const r=e.args.key??"id";t||(t={});const n=(Array.isArray(t)?t:[]).find((t=>t&&t[r]&&m(t[r],e.args.value[r],e.args.caseInsensitive)));return n?{pointer:e.pointer,path:e.path,command:"keyedObjectListUpdate",args:{key:r,value:n,caseInsensitive:e.args.caseInsensitive}}:{pointer:e.pointer,path:e.path,command:"keyedObjectListRemove",args:{key:r,remove:e.args.value,caseInsensitive:e.args.caseInsensitive}}}(e,r);case"addRelationAfter":case"addRelationBefore":return O(e,r);case"removeRelation":return function(e,t){const r=(0,h().n)(t);return D({removedValue:{id:e.args.id,spaceId:e.args.spaceId,table:I().ev},previousValues:r,equalityFn:A().L3.isEqualIdTable,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationAfter",args:{id:t.id,after:null==r?void 0:r.id,spaceId:t.spaceId}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addRelationBefore",args:{id:t.id,before:null==r?void 0:r.id,spaceId:t.spaceId}})})}(e,r);case"addPersonAfter":case"addPersonBefore":return M(e,r);case"removePerson":return function(e,t){const r=(0,k().jEb)({value:t});return D({removedValue:e.args.pointer,previousValues:r,equalityFn:w,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonAfter",args:{pointer:t,after:r}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addPersonBefore",args:{pointer:t,before:r}})})}(e,r);case"addSelectOptionAfter":case"addSelectOptionBefore":return C(e,r);case"removeSelectOption":return function(e,t){const r=(0,h().yH)(t);return D({removedValue:e.args.option,previousValues:r,equalityFn:B,createAddAfterOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionAfter",args:{option:t,after:r}}),createAddBeforeOpFn:(t,r)=>({pointer:e.pointer,path:e.path,command:"addSelectOptionBefore",args:{option:t,before:r}})})}(e,r);case"appendActivity":case"listReplace":case"setPermissionItem":case"temporarySetPermissionItemForBackfill":case"setSingletonPermissionItem":case"addRelations":case"copyFile":case"listBeforeMulti":case"listAfterMulti":case"removeTeamMembershipItem":case"setTeamMembershipItem":case"ensureScheduleId":return;default:(0,o().HB)(e)}}function Ie(e){return"copyFile"===e.command}function ke(e){const{getRecordModel:t,setNewValue:r,recordOperations:n,updateOnly:o,options:a}=e;for(const i of n)if((0,_().mP)(i)){const e=(0,d().d4)(i,t.getRecordValue,t);for(const n of e)xe({primitiveOperation:n,getRecordModel:t,setNewValue:r,updateOnly:o,options:a})}else xe({primitiveOperation:i,getRecordModel:t,setNewValue:r,updateOnly:o,options:a})}function xe(e){const{getRecordModel:t,setNewValue:r,primitiveOperation:n,updateOnly:o,options:a}=e,i=t.getRecordValue(n.pointer);if(!o||i){var s,l;const e=null===(s=a.getBlockCrdtDataForRestore)||void 0===s?void 0:s.call(a,n),t=he(n,i,a);r({pointer:n.pointer,newValue:t}),null===(l=a.onPrimitiveOperationApplied)||void 0===l||l.call(a,{primitiveOperation:n,blockCrdtDataBeforeOperation:e})}}function Se(e){const{recordMap:t,operations:r,updateOnly:n=!1,options:o={}}=e,a=y().b4_.fromRecordMap(t),i=e=>t.setValue(e.pointer,e.newValue),s=r.some((e=>(0,W().ph)(e))),{textInstanceBlocksMap:c,textSliceBlockMappingMap:u}=e.crdtMaps??(s?Me.getCrdtMapsFromRecordMap(t):{textInstanceBlocksMap:new Map,textSliceBlockMappingMap:new Map});for(const d of r)(0,W().ph)(d)?((0,ge().MX)(s,"TextOperation requires CRDT handling"),fe({getRecordModel:a,setNewValue:i,textInstanceBlocksMap:c,textSliceBlockMappingMap:u,operation:d,env:l().a(),useNewCrdtBackfillStrategy:!0,useNewCrdtSplitStrategy:!1})):("set"===d.command&&s&&Te(d,c,u),ke({getRecordModel:a,setNewValue:i,recordOperations:[d],updateOnly:n,options:o}));return{textInstanceBlocksMap:c,textSliceBlockMappingMap:u}}function Te(e,t,r){if(e.pointer.table!==I().ev)return;const n=(0,s().Fl)(e.pointer.id,"title"),o=(0,ge().o9)(e.pointer.spaceId??("object"==typeof e.args&&null!==e.args&&"space_id"in e.args&&"string"==typeof e.args.space_id?e.args.space_id:void 0));t.set(n,[e.pointer]),r.set(n,function({id:e,blockId:t,spaceId:r,textInstanceId:n}){const o={id:e,space_id:r,text_instance_id:n,search_label:c().DI,block_id:t,version:0,last_version:0};return new Map([[c().DI,o]])}({id:"in-memory-only",textInstanceId:n,blockId:e.pointer.id,spaceId:o}))}const Me={getCrdtMapsFromRecordMap:function(e){const t=new Map,r=new Map;for(const n of e.getModelsByTable(I().ev)){if(!n.useCrdt())continue;const e=(0,ge().o9)(n.getBlockTitleTextSliceTree(),i().cf),o=e.getTextInstanceIds();for(const r of o){const e=t.get(r);e?e.push(n.pointer):t.set(r,[n.pointer])}const a=n.getSpaceId();for(const t of e.iterateTextSliceTrees()){const e=t.getTextSlice(),o=e.textInstanceId,i=e.getSearchLabel(),s={id:"in-memory-only",space_id:a,text_instance_id:o,search_label:i,block_id:n.pointer.id,version:0,last_version:0},l=r.get(o);if(l)l.set(i,s);else{const e=new Map([[i,s]]);r.set(o,e)}}}return{textInstanceBlocksMap:t,textSliceBlockMappingMap:r}}}},478367:(e,t,r)=>{r.d(t,{I:()=>a});var n=()=>r(534177),o=()=>r(952882);function a(e){return t=e.operator,!!(0,n().O)(o().ic,t);var t}},485819:(e,t,r)=>{r.d(t,{A:()=>a,n:()=>o});var n=()=>r(292588);const o="legal_hold_page_actor",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,legal_hold_page_id:n().A.UUID,user_id:n().A.UUID,created_by_id:n().A.UUID,created_by_table:n().A.String},requiredColumns:{id:!0,version:!0,space_id:!0,legal_hold_page_id:!0,created_by_id:!0,created_by_table:!0},model:(0,r(152853).P)({RecordStore:!1})}},488715:(e,t,r)=>{r.d(t,{Q:()=>d});var n=()=>r(534177),o=()=>r(939768),a=()=>r(700500),i=()=>r(921940),s=()=>r(938379),l=()=>r(142748),c=()=>r(651784),u=()=>r(197959);function d(e){switch(e.model.table){case"collection":return function(e){const{baseUrl:t,pageVisitSource:r,model:n,analyticsNotificationId:o,chatThreadId:a}=e;return(0,s().C)({collectionId:n.id,spaceId:n.getSpaceId(),spaceDomain:void 0,domainBaseUrl:t,pageVisitSource:r,parentCvbId:n.getParentPointer().id,analyticsNotificationId:o,chatThreadId:a})}(e);case"block":return function(e){const t=function(e){const{blockModel:t,getRecordModel:r,baseUrl:n,discussionId:o,pageVisitSource:s,notificationId:c,analyticsNotificationId:d,collectionViewId:p,...m}=e;if((0,a().$I)(t.getType()))return(0,i().A)({pageId:t.id,pageModel:t,baseUrl:n,discussionId:o,notificationId:c,analyticsNotificationId:d,collectionViewId:p,pageVisitSource:s,...m});const f=l().Yn(t.pointer,r),g=l().yb(f);if(g){let e=t.id;if(o){const n=r({table:u().$Y,id:o,spaceId:t.getSpaceId()});if(n){const t=r(n.getParentPointer());e=t&&t.getType()===a().xd.tableRow?t.getParentId():n.getParentId()}}return(0,i().A)({pageId:g.id,pageModel:g,scrollToBlockId:e,baseUrl:n,discussionId:o,notificationId:c,analyticsNotificationId:d,pageVisitSource:s,...m})}}({...e,blockModel:e.model});if(t)return t;return e.baseUrl||"/"}(e);case"space":return function(e){const{model:t,baseUrl:r}=e,n=c().p0({route:{name:"space",spaceId:t.id,spaceDomain:void 0,requestedOnPublicDomain:void 0,searchQuery:void 0,searchRequest:void 0}});if(r)return o().pf({relativeUrl:n,baseUrl:r});return n}(e);default:(0,n().HB)(e.model)}}},489242:(e,t,r)=>{r.d(t,{Kg:()=>c,LE:()=>y,M7:()=>_,Mw:()=>m,PX:()=>l,Ul:()=>i,W7:()=>a,XA:()=>g,_o:()=>p,eP:()=>b,ec:()=>f,gu:()=>h,k6:()=>s,xw:()=>v});r(16280);var n=()=>r(534177),o=()=>r(13643);const a={tasks:o().dC,projects:o().Tw},i="createNew";function s(e){return e&&f(e)?o().Fh[e].type:o().Fh.untyped.type}function l(e,t){return e&&f(e)?o().Fh[e].singular:t?o().TZ.untyped_item_singular:o().Fh.untyped.singular}function c(e,t){return e&&f(e)?o().Fh[e].plural:t?o().TZ.untyped_item_plural:o().Fh.untyped.plural}const u=(0,r(69708).YK)({custom_new:{defaultMessage:"New {singularItemName}",id:"appPlatform.customItemNames.new"},goal_singular:{defaultMessage:"goal",id:"appPlatform.predefinedItemNames.goal.type"},goal_plural:{defaultMessage:"goals",id:"appPlatform.predefinedItemNames.goal.plural"},goal_new:{defaultMessage:"New goal",id:"appPlatform.predefinedItemNames.goal.new"}}),d={doc:o().Fh["notion://docs_collection"],meeting:o().Fh["notion://meetings_collection"],project:o().Fh["notion://projects_collection"],task:o().Fh["notion://tasks_collection"],goal:{singular:u.goal_singular,plural:u.goal_plural,new:u.goal_new}};function p(e,t,r){const{isItem:a,usePageDefault:i=!0}=r||{},s=null==t?void 0:t.getItemNameConfigV2();if(s)switch(s.type){case"custom":return e.formatMessage(u.custom_new,{singularItemName:s.singular});case"predefined":return e.formatMessage(d[s.value].new);default:(0,n().HB)(s)}const l=null==t?void 0:t.getDatabaseType();if(l)return m(e,l);const c=null==t?void 0:t.getItemNameConfig();return c?e.formatMessage(u.custom_new,{singularItemName:c.singular}):a?e.formatMessage(o().TZ.untyped_item_new):i?e.formatMessage(o().Fh.untyped.new):e.formatMessage(o().TZ.untyped_new_generic)}function m(e,t){return e.formatMessage(o().Fh[t].new)}function f(e){return o().kw.includes(e)}function g(e){return e===o().iH}function y(e){return o().SE.has(e)}function _(e){return o().bt.has(e)}function v(e){return y(e)||_(e)}function b(e){return"title"===e.value.type&&(e.value,!0)}function h(e){const t=e.getFormatStore().getKeyStore("app_config_uri").getValue(),r=null==t?void 0:t.includes("/tutorial/");return Boolean(r)}},492908:(e,t,r)=>{r.d(t,{Ay:()=>s,k$:()=>o,lY:()=>i});var n=()=>r(292588);const o="billing_data_history_entry",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,start_time:n().A.Number,type_version:n().A.Number,billing_data:n().A.JSON},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,start_time:!0,type_version:!0,billing_data:!0},model:(0,r(152853).P)({RecordStore:!0})},i={space:!0},s=a},494142:(e,t,r)=>{r.d(t,{A:()=>a,W:()=>o});var n=()=>r(292588);const o="apple_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,access_token:n().A.String,refresh_token:n().A.String,apple_user_id:n().A.String}}},495989:(e,t,r)=>{r.d(t,{Ay:()=>i,wZ:()=>o,xM:()=>a});var n=()=>r(292588);const o=["unseen","home","views","owner","verification","tags","complete"],a="user_settings",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,settings:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},498140:(e,t,r)=>{r.d(t,{DZ:()=>p,FA:()=>_e,FM:()=>Be,J8:()=>Te,JC:()=>Ae,KZ:()=>Me,Ku:()=>Se,Z$:()=>Pe,bm:()=>ye,e_:()=>Ve,mP:()=>ke,pT:()=>Ie,vK:()=>xe,yc:()=>we,zA:()=>he});r(16280),r(18107),r(967357),r(898992),r(354520),r(581454);var n=()=>r(906745),o=r.n(r(104650)),a=()=>r(496603),i=()=>r(834499),s=()=>r(720665),l=()=>r(416504),c=()=>r(402390),u=()=>r(597777),d=()=>r(604995);const p=(0,r(69708).YK)({now:{id:"dateParserHelpers.now",defaultMessage:"now"},remind:{id:"dateParserHelpers.remind",defaultMessage:"remind"},me:{id:"dateParserHelpers.me",defaultMessage:"me"},at:{id:"dateParserHelpers.at",defaultMessage:"at"},todayShort:{id:"dateParserHelpers.today.short",defaultMessage:"td"},today:{id:"dateParserHelpers.today",defaultMessage:"today"},tomorrowShort:{id:"dateParserHelpers.tomorrow.short",defaultMessage:"tm"},tomorrow:{id:"dateParserHelpers.tomorrow",defaultMessage:"tomorrow"},yesterdayShort:{id:"dateParserHelpers.yesterday.short",defaultMessage:"yd"},yesterday:{id:"dateParserHelpers.yesterday",defaultMessage:"yesterday"},last:{id:"dateParserHelpers.last",defaultMessage:"last"},next:{id:"dateParserHelpers.next",defaultMessage:"next"},month:{id:"dateParserHelpers.month",defaultMessage:"month"},year:{id:"dateParserHelpers.year",defaultMessage:"year"},day:{id:"dateParserHelpers.day",defaultMessage:"day"}}),m="_";Symbol("TokenParser");function f(){return n().c9.now().set({hour:9}).toFormat("a")}function g(){return n().c9.now().set({hour:14}).toFormat("a")}function y(e){const t=n().c9.fromObject(e);if(t.isValid)return t}function _(e){return o().succeed(null).chain(e)}const v=!1;function b(e){return t=>o().custom(((r,n)=>(n,o)=>(v&&(console.info(e),console.info("input:",n),console.info("start:",`${Array(o).fill(" ").join("")}^`),console.info(JSON.stringify(t,void 0,2))),r(o,t))))}function h(e,t=1){return o().custom(((r,n)=>(o,a)=>{let s=0;if((0,i().Q)(o)!==o)throw new Error("You need to simplify input before parsing!");const l=o,c=(0,i().Q)(e);for(;s<c.length&&l.charAt(a+s)===c.charAt(s);)s++;return s>=t?r(a+s,l.slice(a,a+s)):n(a,`Expected prefix of '${c}'`)}))}const A=o().alt(o().regex(/\s+/),o().eof),I=o().regex(/[\.\/]/),k=o().alt(o().string("-"),I),x=o().alt(k,o().eof),S=o().regex(/[\s\,]+/),T=o().alt(S,o().eof),M=o().regex(/\s*[-~]\s*/),w=o().string(":");function B(e){return o().optWhitespace.then(o().alt(o().string((0,c().wW)().formatMessage(p.at)),o().string(e.formatMessage(p.at)),o().string(","),o().succeed(""))).then(o().optWhitespace)}const C=o().regex(/[0-9]+/),P=o().regex(/[0-2]?[0-9]/),N=o().alt(A,M,C),U=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],R=u().S2((0,c().wW)());function D(e,t){const r=parseInt(e,10);if((0,s().Et)(r)){const e=Math.abs(r);return e<12&&t.length>0&&(0,i().Q)(t)===(0,i().Q)(g())?e+12:12===e&&t.length>0&&(0,i().Q)(t)===(0,i().Q)(f())?0:e}return function(e){return e&&(0,i().Q)(e)===(0,i().Q)(g())?18:9}(t)}function O(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<69)return 2e3+e;if(e<100)return 1900+e;if(e>=1e3)return e}}function F(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<=12)return e}}function E(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);if(e<=31)return e}}const V=_((()=>{const e=f();return o().alt(h("am").lookahead(N),h(e).lookahead(N)).result(e)})),L=_((()=>{const e=n().c9.now().set({hour:15}).toFormat("a");return o().alt(h("pm").lookahead(N),h(e).lookahead(N)).result(e)})),H=o().alt(V,L),G=o().seqMap(P,w.times(0,1),C.times(0,1),o().optWhitespace,H.times(0,1),((e,t,r,n,o)=>({hour:e,minute:r[0]||"",meridian:o[0]||""}))),q=o().seqMap(H,o().optWhitespace,P.times(0,1),w.times(0,1),C.times(0,1),((e,t,r,n,o)=>({meridian:e,hour:r[0],minute:o[0]}))),j=o().alt(G,q).chain((({hour:e,minute:t,meridian:r})=>{const a=D(e,r),i=function(e){const t=parseInt(e,10);if((0,s().Et)(t)){const e=Math.abs(t);return e>59?0:e}return 0}(t),l=n().c9.fromObject({hour:a,minute:i});if(!l.isValid)return r?o().succeed({type:"time",time:n().c9.now().toFormat(u().GE),hasAmPm:!0}):o().fail("Invalid time");const c={type:"time",time:l.toFormat(u().GE),hasAmPm:r.length>0};return o().succeed(c)})).notFollowedBy(I).chain(b("parseTime")),$=j.chain((e=>{const t=M.then(j).map((t=>{if(e.hasAmPm){if(t.hasAmPm){return{type:"timerange",start:e.time,end:t.time}}const r=n().c9.fromFormat(e.time,u().GE),o=n().c9.fromFormat(t.time,u().GE);if(r>o&&o.hour<12){const t=o.plus({hour:12}).toFormat(u().GE);return{type:"timerange",start:e.time,end:t}}return{type:"timerange",start:e.time,end:t.time}}if(t.hasAmPm){const r=n().c9.fromFormat(e.time,u().GE),o=n().c9.fromFormat(t.time,u().GE);if(r.hour+12<o.hour){return{type:"timerange",start:r.plus({hour:12}).toFormat(u().GE),end:t.time}}}return{type:"timerange",start:e.time,end:t.time}})).chain(b("parseTimeRange"));return o().alt(t,o().succeed(e))})).chain(b("parseTimeOrTimeRange"));function z(e){return o().alt(...de(e,p.todayShort,p.today)).map((()=>({type:"date",start_date:n().c9.now().toFormat(d().tr)})))}function W(e){return o().alt(...de(e,p.tomorrowShort,p.tomorrow)).map((()=>({type:"date",start_date:n().c9.now().plus({day:1}).toFormat(d().tr)})))}function Z(e){return o().alt(...de(e,p.yesterdayShort,p.yesterday)).map((()=>({type:"date",start_date:n().c9.now().minus({day:1}).toFormat(d().tr)})))}const Q=_((()=>{const e=n().R2.weekdays(),t=a().yU(U,e);return o().alt(...t.map((([e,t],r)=>o().alt(h(e).lookahead(N),h(t).lookahead(N)).map((()=>{const e=n().c9.now(),t=e.set({weekday:r+1});return{type:"date",start_date:(t.weekday===e.weekday?t.plus({week:1}):t).toFormat(d().tr)}})).chain(b("daysOfWeek")))))}));function K(e,t,r){const n=o().alt(...t.map((([t,n],a)=>o().alt(h((0,c().wW)().formatMessage(r)),h(e.formatMessage(r))).then(o().optWhitespace).then(o().alt(h(t).lookahead(N),h(n).lookahead(N))).map((()=>({weekday:a+1})))))),a=o().alt(...t.map((([t,n],a)=>o().alt(h(t),h(n)).then(o().optWhitespace).then(o().alt(h((0,c().wW)().formatMessage(r)).lookahead(N),h(e.formatMessage(r)).lookahead(N))).map((()=>({weekday:a+1}))))));return o().alt(n,a)}function J(e){return _((()=>{const t=n().R2.weekdays(),r=a().yU(U,t);return K(e,r,p.last).map((({weekday:e})=>({type:"date",start_date:n().c9.now().set({weekday:e}).minus({week:1}).toFormat(d().tr)})))}))}function Y(e){return o().alt(h((0,c().wW)().formatMessage(p.last)).lookahead(N),h(e.formatMessage(p.last)).lookahead(N)).then(o().optWhitespace).then(o().eof).map((()=>({type:"date",start_date:n().c9.now().minus({week:1}).toFormat(d().tr)})))}function X(e){return _((()=>{const t=n().R2.weekdays(),r=a().yU(U,t);return K(e,r,p.next).map((({weekday:e})=>({type:"date",start_date:n().c9.now().set({weekday:e}).plus({week:1}).toFormat(d().tr)})))}))}function ee(e){return o().alt(h((0,c().wW)().formatMessage(p.next)).lookahead(N),h(e.formatMessage(p.next)).lookahead(N)).then(o().optWhitespace).then(o().eof).map((()=>({type:"date",start_date:n().c9.now().plus({week:1}).toFormat(d().tr)})))}function te(e){return o().alt(...function(e){return[z(e),W(e),Z(e),J(e),X(e),Q,ee(e),Y(e)]}(e)).chain(b("parseRelativeDate"))}const re=_((()=>{const e=n().R2.months(),t=a().yU(R,e);return o().alt(...t.map((([e,t],n)=>{var a;return o().alt(...[h(e).lookahead(N),null===(a=ne(t))||void 0===a?void 0:a.lookahead(N)].filter(r(534177).O9)).map((()=>n+1))})))}));function ne(e){if(/^\d+/.test(e)){if(1===e.length)return;return o().string(e)}return h(e)}function oe(e,t){const r=n().c9.now(),o=r.year,a=r.minus({month:1});return n().c9.fromObject({month:e,day:t,year:o-1})>a?o-1:n().c9.fromObject({month:e,day:t,year:o})>a?o:o+1}var ae=function(e){return e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Day=2]="Day",e}(ae||{});function ie(e){const t=function(e){const t=ue(e,p.year).map((e=>e.map((e=>({parsed:e,dateElementKind:ae.Year}))))),r=ue(e,p.month).map((e=>e.map((e=>({parsed:e,dateElementKind:ae.Month}))))),n=ue(e,p.day).map((e=>e.map((e=>({parsed:e,dateElementKind:ae.Day})))));return o().seqMap(C.notFollowedBy(o().alt(w,H)).skip(o().optWhitespace),o().alt(...t,...r,...n),((e,t)=>({...t,digits:e})))}(e);return t.skip(o().optWhitespace).times(1,3).map((e=>{let t,r,o;for(const n of e.flat())switch(n.dateElementKind){case ae.Year:t=O(n.digits);break;case ae.Month:r=F(n.digits);break;case ae.Day:o=E(n.digits)}o=o||1,r=r??n().c9.now().month,t=t??oe(r,o);return{type:"date",start_date:(y({year:t,month:r,day:o})??n().c9.now()).toFormat(d().tr)}}))}const se=o().seqMap(C.notFollowedBy(o().alt(w,H)),k.notFollowedBy(o().alt(w,H)),C.times(0,1),x.times(0,1),C.times(0,1),((e,t,r,o,a)=>{const i=parseInt(e);let s,l,c;i>31?(s=O(e),r[0]&&(l=F(r[0])),a[0]&&(c=E(a[0]))):i>12||n().c9.fromISO("1990-12-28").toLocaleString(n().c9.DATE_SHORT).startsWith("28")?(c=E(e),r[0]&&(l=F(r[0])),a[0]&&(s=O(a[0]))):(l=F(e),r[0]&&(c=E(r[0])),a[0]&&(s=O(a[0]))),c=c??1,l=l??n().c9.now().month,s=s??oe(l,c);return{type:"date",start_date:(y({year:s,month:l,day:c})??n().c9.now()).toFormat(d().tr)}})).chain(b("parseShortFormDate"));function le(e){return o().alt(te(e),function(e){return o().alt(ie(e),o().seqMap(re.skip(o().optWhitespace),C.notFollowedBy(o().alt(w,H)).times(0,1),T.times(0,1),C.notFollowedBy(o().alt(w,H)).times(0,1),((e,t,r,o)=>{const a=E(t[0])??1;return{type:"date",start_date:(y({year:O(o[0])??oe(e,a),month:e,day:a})??n().c9.now()).toFormat(d().tr)}}))).chain(b("parseLongFormDate"))}(e),se)}const ce=$.map((e=>{const t=(0,d().Ec)((0,l().P)());if("time"===e.type){return{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:(0,l().P)()}}return{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:(0,l().P)()}}));function ue(e,t){return[...(0,c().wW)().formatMessage(t).split(m).map((e=>h(e).lookahead(N))),...e.formatMessage(t).split(m).map((e=>h(e).lookahead(N)))]}function de(e,t,r){const n=[...(0,c().wW)().formatMessage(t).split(m).map((e=>o().string(e))),...e.formatMessage(t).split(m).map((e=>o().string(e)))];return[...[...(0,c().wW)().formatMessage(r).split(m).map((e=>h(e).lookahead(N))),...e.formatMessage(r).split(m).map((e=>h(e).lookahead(N)))],...n]}function pe(e){return o().alt(function(e){return o().alt(...ue(e,p.now)).map((()=>(0,d().T_)((0,l().P)())))}(e),ce,function(e){return le(e).skip(B(e)).chain((t=>{const r=B(e).then($).chain(b("parseStartTimeOrTimeRange")).map((e=>"time"===e.type?{type:"datetime",start_date:t.start_date,start_time:e.time,time_zone:(0,l().P)()}:{type:"datetimerange",start_date:t.start_date,start_time:e.start,end_date:t.start_date,end_time:e.end,time_zone:(0,l().P)()})).chain((t=>{if("datetimerange"===t.type)return o().succeed(t);const r=t,n=M.then(le(e)).chain(b("parseEndDate")).map((e=>({type:"datetimerange",start_date:r.start_date,start_time:r.start_time,end_date:e.start_date,end_time:"00:00",time_zone:(0,l().P)()}))).chain((t=>{const r=B(e).then(j).map((e=>({...t,end_time:e.time}))).chain(b("parseEndTime"));return o().alt(r,o().succeed(t))})).chain(b("parseEndDateTime"));return o().alt(n,o().succeed(r))})).chain(b("parseDateTimeOrDateTimeRange")),n=M.then(le(e)).map((e=>({type:"daterange",start_date:t.start_date,end_date:e.start_date}))).chain(b("parseDateRange")),a={type:"date",start_date:t.start_date};return o().alt(r,n,o().succeed(a))})).chain(b("parseDateOrDateTimeOrDateTimeRange"))}(e)).map((e=>(0,d().u7)(e))).map((e=>(0,d().PZ)(e))).skip(M.times(0,1)).skip(S.times(0,1)).chain(b("parsePersistedDate"))}function me(e){return o().alt(...ue(e,p.remind)).skip(function(e){return o().optWhitespace.then(o().alt(o().string((0,c().wW)().formatMessage(p.me)),o().string(e.formatMessage(p.me)),o().string(","),o().succeed(""))).then(o().optWhitespace)}(e)).chain(b("remindParser"))}function fe(e){return(t,r)=>{const o=n().wB.defaultLocale,a=(0,c().H)(r);n().wB.defaultLocale=a;const s=e(r).parse((0,i().Q)(t));if(n().wB.defaultLocale=o,s.status)return s.value}}function ge(e){const t=(0,d().AA)(e,(0,l().P)());return!t.start.isValid||t.end&&!t.end.isValid?o().fail("Invalid date validation"):o().succeed(e)}const ye=fe((e=>function(e){return me(e).times(0,1).chain((([t])=>pe(e).times(0,1).chain((([e])=>{if(t&&e)return e="date"===e.type||"daterange"===e.type?{...e,reminder:{unit:"day",value:0,time:u().lM,defaultTimeZone:(0,l().P)()}}:{...e,reminder:{unit:"minute",value:0}},o().succeed(e);if(t){const e=(0,d().uf)((0,l().P)());return e.reminder={unit:"day",value:0,time:u().lM,defaultTimeZone:(0,l().P)()},o().succeed(e)}return e?o().succeed(e):o().fail("Failed to parse.")}))))}(e).chain(ge))),_e=fe((e=>pe(e).chain(ge))),ve=fe((e=>j.map((({time:e})=>e)))),be=fe((e=>le(e).chain(ge).map((({start_date:e})=>e))));function he(e,t){if(e.match(/^\d{1,2}:\d{2}/))return;if(e.match(/\d{2}-\d{4}/))return;const r=n().c9.fromISO(e,{zone:null==t?void 0:t.timeZone});if(r.isValid)return r;const o=e.replace(/ /,"T");if(o!==e){const e=n().c9.fromISO(o,{zone:null==t?void 0:t.timeZone});if(e.isValid)return e}}function Ae(e,t,r){const n=Pe(e,{intl:t,includeSeconds:!0,inputDateFormat:r});if(n)return n;const o=he(e,t);return o?Ie(o):void 0}function Ie(e){return e.valueOf()===e.startOf("day").valueOf()?{type:"date",start_date:e.toFormat(d().tr)}:{type:"datetime",start_date:e.toFormat(d().tr),start_time:e.toFormat(u().GE),time_zone:e.zoneName}}function ke(e){return{type:"date",start_date:n().c9.fromISO(e).toFormat(d().tr)}}function xe(e){const t=n().c9.fromISO(e);return{type:"datetime",start_date:t.toFormat(d().tr),start_time:t.toFormat(u().GE),time_zone:t.zoneName}}function Se(e,t){const r=n().c9.fromISO(e),o=n().c9.fromISO(t);return{type:"datetimerange",start_date:r.toFormat(d().tr),start_time:r.toFormat(u().GE),end_date:o.toFormat(d().tr),end_time:o.toFormat(u().GE),time_zone:r.zoneName}}function Te(e,t){if(e)return we(e,d().tr,t)}function Me(e,t){if(e)return Be(e,u().GE,t)}function we(e,t,r){const o=n().c9.fromFormat(e,t,{locale:(0,c().H)(r)});return o.isValid?o.setLocale(u().M5).toFormat(d().tr):be(e,r)}function Be(e,t,r){const o=n().c9.fromFormat(e,t,{locale:(0,c().H)(r)});return o.isValid?o.setLocale(u().M5).toFormat(u().GE):ve(e,r)}const Ce="";function Pe(e,t){var r;const n=Boolean(null==t?void 0:t.includeSeconds),o=u().$R.exec(e);let a,i;o&&o[1]&&o[2]?(a=o[1],i=o[2]):a=e,i=i||(null==t||null===(r=t.intl)||void 0===r?void 0:r.timeZone)||(0,l().P)();const s=a.split(Ce);if(s[0]&&s[1]){const e=s[0].trim(),r=s[1].trim(),o=Ee(e,i,n,null==t?void 0:t.inputDateFormat);if(void 0!==o){let e=Ee(r,i,n,null==t?void 0:t.inputDateFormat);if(void 0===e){e=Ee(`${o.date}, ${r}`,i,n,null==t?void 0:t.inputDateFormat)}if(void 0!==e){return{type:"datetimerange",start_date:o.date,start_time:o.time,end_date:e.date,end_time:e.time,time_zone:i}}}else{const n=Fe(e,null==t?void 0:t.inputDateFormat);if(void 0!==n){const e=Fe(r,null==t?void 0:t.inputDateFormat);if(void 0!==e){return{type:"daterange",start_date:n,end_date:e}}}}}else if(s[0]){const e=s[0].trim(),r=Ee(e,i,n,null==t?void 0:t.inputDateFormat);if(void 0!==r){return{type:"datetime",start_date:r.date,start_time:r.time,time_zone:i}}{const r=Fe(e,null==t?void 0:t.inputDateFormat);if(void 0!==r){return{type:"date",start_date:r}}}}}class Ne{constructor(e){this.parsers=void 0,this.formats=e}getParsers(){return void 0===this.parsers&&(this.parsers=this.formats.map((e=>n().c9.buildFormatParser(e,{locale:u().M5})))),this.parsers}}const Ue=new Ne(["LLLL d yyyy","yyyy LL dd","LL dd yyyy","LLL dd yyyy","dd LLL yyyy","LL/dd/yyyy","LL-dd-yyyy","L/d/yyyy","L-d-yyyy","LL/dd/yy","LL-dd-yy","L/d/yy","L-d-yy","d LLL yy","d/LLL/yy","d-LLL-yy","d LLL yyyy","d/LLL/yyyy","d-LLL-yyyy","yyyy/LL/dd","yyyy-LL-dd","LLLL d, yyyy","dd/LL/yyyy","dd-LL-yyyy","yyyyLd"]),Re=new Ne(["LLLL d yyyy, HH:mm ZZZ","yyyy LL dd, HH:mm ZZZ","LL dd yyyy, HH:mm ZZZ","LLL dd yyyy, HH:mm ZZZ","dd LLL yyyy, HH:mm ZZZ","LL/dd/yyyy, HH:mm ZZZ","LL-dd-yyyy, HH:mm ZZZ","L/d/yyyy, HH:mm ZZZ","L-d-yyyy, HH:mm ZZZ","LL/dd/yy, HH:mm ZZZ","LL-dd-yy, HH:mm ZZZ","L/d/yy, HH:mm ZZZ","L-d-yy, HH:mm ZZZ","d LLL yy, HH:mm ZZZ","d/LLL/yy, HH:mm ZZZ","d-LLL-yy, HH:mm ZZZ","yyyy/LL/dd, HH:mm ZZZ","yyyy-LL-dd, HH:mm ZZZ","LLLL d yyyy, HH:mm","LLLL d, yyyy HH:mm","LLLL d, yyyy H:mm","yyyy LL dd, HH:mm","LL dd yyyy, HH:mm","LLL dd yyyy, HH:mm","dd LLL yyyy, HH:mm","LL/dd/yyyy, HH:mm","LL/dd/yyyy HH:mm","LL/dd/yyyy H:mm","LL-dd-yyyy HH:mm","LL-dd-yyyy H:mm","dd/LL/yyyy HH:mm","dd-LL-yyyy HH:mm","dd/LL/yyyy H:mm","dd-LL-yyyy H:mm","LL-dd-yyyy, HH:mm","L/d/yyyy, HH:mm","L-d-yyyy, HH:mm","LL/dd/yy, HH:mm","LL-dd-yy, HH:mm","L/d/yy, HH:mm","L-d-yy, HH:mm","d LLL yy, HH:mm","d/LLL/yy, HH:mm","d-LLL-yy, HH:mm","d LLL yyyy, HH:mm","d/LLL/yyyy, HH:mm","d-LLL-yyyy, HH:mm","yyyy/LL/dd, HH:mm","yyyy/LL/dd HH:mm","yyyy/LL/dd H:mm","yyyy-LL-dd, HH:mm","yyyy-LL-dd H:mm","yyyy-LL-dd HH:mm","yyyy-LL-dd, H:mm","LLLL d yyyy, hh:mm a","yyyy LL dd, hh:mm a","LL dd yyyy, hh:mm a","LLL dd yyyy, hh:mm a","dd LLL yyyy, hh:mm a","dd-LL-yyyy hh:mm a","dd/LL/yyyy, hh:mm a","LL/dd/yyyy hh:mm a","LL-dd-yyyy hh:mm a","LL-dd-yyyy, hh:mm a","L/d/yyyy, hh:mm a","L-d-yyyy, hh:mm a","LL/dd/yy, hh:mm a","LL-dd-yy, hh:mm a","L/d/yy, hh:mm a","L-d-yy, hh:mm a","d LLL yy, hh:mm a","d/LLL/yy, hh:mm a","d-LLL-yy, hh:mm a","yyyy/LL/dd hh:mm a","yyyy-LL-dd hh:mm a","yyyyLd H:mm","yyyyLd h:mm a"]),De=new Ne(["LLLL d yyyy, HH:mm:ss ZZZ","yyyy LL dd, HH:mm:ss ZZZ","LL dd yyyy, HH:mm:ss ZZZ","LLL dd yyyy, HH:mm:ss ZZZ","dd LLL yyyy, HH:mm:ss ZZZ","LL/dd/yyyy, HH:mm:ss ZZZ","LL-dd-yyyy, HH:mm:ss ZZZ","L/d/yyyy, HH:mm:ss ZZZ","L-d-yyyy, HH:mm:ss ZZZ","LL/dd/yy, HH:mm:ss ZZZ","LL-dd-yy, HH:mm:ss ZZZ","L/d/yy, HH:mm:ss ZZZ","L-d-yy, HH:mm:ss ZZZ","d LLL yy, HH:mm:ss ZZZ","d/LLL/yy, HH:mm:ss ZZZ","d-LLL-yy, HH:mm:ss ZZZ","yyyy/LL/dd, HH:mm:ss ZZZ","yyyy-LL-dd, HH:mm:ss ZZZ","LLLL d yyyy, HH:mm:ss","LLLL d, yyyy HH:mm:ss","LLLL d, yyyy H:mm:ss","yyyy LL dd, HH:mm:ss","LL dd yyyy, HH:mm:ss","LLL dd yyyy, HH:mm:ss","dd LLL yyyy, HH:mm:ss","LL/dd/yyyy, HH:mm:ss","LL/dd/yyyy HH:mm:ss","LL/dd/yyyy H:mm:ss","LL-dd-yyyy HH:mm:ss","LL-dd-yyyy H:mm:ss","dd/LL/yyyy HH:mm:ss","dd-LL-yyyy HH:mm:ss","dd/LL/yyyy H:mm:ss","dd-LL-yyyy H:mm:ss","LL-dd-yyyy, HH:mm:ss","L/d/yyyy, HH:mm:ss","L-d-yyyy, HH:mm:ss","LL/dd/yy, HH:mm:ss","LL-dd-yy, HH:mm:ss","L/d/yy, HH:mm:ss","L-d-yy, HH:mm:ss","d LLL yy, HH:mm:ss","d/LLL/yy, HH:mm:ss","d-LLL-yy, HH:mm:ss","d LLL yyyy, HH:mm:ss","d/LLL/yyyy, HH:mm:ss","d-LLL-yyyy, HH:mm:ss","yyyy/LL/dd, HH:mm:ss","yyyy/LL/dd HH:mm:ss","yyyy/LL/dd H:mm:ss","yyyy-LL-dd, HH:mm:ss","yyyy-LL-dd H:mm:ss","yyyy-LL-dd HH:mm:ss","yyyy-LL-dd, H:mm:ss","LLLL d yyyy, hh:mm:ss a","yyyy LL dd, hh:mm:ss a","LL dd yyyy, hh:mm:ss a","LLL dd yyyy, hh:mm:ss a","dd LLL yyyy, hh:mm:ss a","dd-LL-yyyy hh:mm:ss a","dd/LL/yyyy, hh:mm:ss a","LL/dd/yyyy hh:mm:ss a","LL-dd-yyyy hh:mm:ss a","LL-dd-yyyy, hh:mm:ss a","L/d/yyyy, hh:mm:ss a","L-d-yyyy, hh:mm:ss a","LL/dd/yy, hh:mm:ss a","LL-dd-yy, hh:mm:ss a","L/d/yy, hh:mm:ss a","L-d-yy, hh:mm:ss a","d LLL yy, hh:mm:ss a","d/LLL/yy, hh:mm:ss a","d-LLL-yy, hh:mm:ss a","yyyy/LL/dd hh:mm:ss a","yyyy-LL-dd hh:mm:ss a","yyyyLd H:mm:ss","yyyyLd h:mm:ss a"]);function Oe(e){return"m"===e.trim()[0].toLowerCase()?"l":e.trim()[0].toLowerCase()}function Fe(e,t){const r=t?Oe(t):void 0;for(const o of Ue.getParsers()){if(r&&!o.format.trim().toLowerCase().startsWith(r))continue;const t=n().c9.fromFormatParser(e,o,{locale:u().M5});if(t.isValid)return(0,d().kB)(t)}}function Ee(e,t,r,o){let a=Re.getParsers();r&&(a=a.concat(De.getParsers()));const i=o?Oe(o):void 0;for(const s of a){if(i&&!s.format.trim().toLowerCase().startsWith(i))continue;const r=n().c9.fromFormatParser(e,s,{locale:u().M5,zone:t});if(r.isValid)return{date:(0,d().kB)(r),time:(0,d().bP)(r),timeZone:t}}}const Ve=fe((e=>te(e).map((({start_date:e})=>e))))},500993:(e,t,r)=>{r.d(t,{A:()=>n});r(16280),r(898992),r(672577);function n(e,t){var r;const n=null===(r=t.form_conditional_modules)||void 0===r?void 0:r[e];if(n&&"formQuestion"===n.type)return{module:n,area:"form_conditional_modules"};const o=t.form_layout_schema.find((t=>t.id===e));if(!o||"formQuestion"!==o.type)throw new Error(`Cannot find module with id: ${e} in form areas`);return{module:o,area:"form_layout_schema"}}},506327:(e,t,r)=>{r.d(t,{Ay:()=>i,U1:()=>a,bw:()=>o});var n=()=>r(292588);const o="related_content",a={block:!0},i={table:o,columnTypes:{id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.String,relationship:n().A.String,related_content:n().A.JSON,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID},requiredColumns:{version:!0,parent_table:!0,parent_id:!0,relationship:!0,related_content:!0,updated_time:!0,space_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},506391:(e,t,r)=>{r.d(t,{$B:()=>P,D:()=>F,E4:()=>S,GL:()=>L,Ku:()=>w,MS:()=>A,MV:()=>f,Nm:()=>j,OK:()=>h,Q7:()=>T,RD:()=>M,TJ:()=>_,WS:()=>R,Wo:()=>U,YX:()=>v,cz:()=>g,fk:()=>x,fu:()=>N,gh:()=>y,mW:()=>z,nN:()=>I,nx:()=>b,pL:()=>H,q0:()=>G,q8:()=>$,t6:()=>q,wN:()=>k,xT:()=>V,xp:()=>B});r(898992),r(823215),r(672577),r(581454);var n=()=>r(906745),o=()=>r(496603),a=()=>r(534177),i=()=>r(939768),s=()=>r(597777),l=()=>r(604995),c=()=>r(498140),u=()=>r(416845),d=()=>r(388693),p=()=>r(792071),m=()=>r(332393);const f=10;function g(e){return"inline"===e.type&&e.values.length>=1&&"string"==typeof e.values[0]}function y(e){return"inline"===e.type&&e.values.length>=1&&"number"==typeof e.values[0]}function _(e){return"inline"===e.type&&e.values.length>=1&&"boolean"==typeof e.values[0]}function v(e){return"inline"===e.type&&e.values.length>=1&&b(e.values[0])}function b(e){return"object"==typeof e&&"r"in e}function h(e){var t,r;return g(e)&&("enum"===(null===(t=e.format)||void 0===t?void 0:t.type)||"title"===(null===(r=e.format)||void 0===r?void 0:r.type))}function A(e){return"embed"===e.type&&e.values.length>=1}function I(e){return"embed"===e.type&&e.values.length>=1&&"image/*"===e.mimeType}function k(e){if(!A(e))return!1;const t=e.format;return!(!t||!("type"in t))&&"icon"===t.type}function x(e){return"relation"===e.type}function S(e){return"person"===e.type}function T(e){var t;return"inline"===e.type&&e.values.length>=1&&"string"==typeof e.values[0]&&"code"===(null===(t=e.format)||void 0===t?void 0:t.type)}function M(e){return"inline"===e.type&&s().kC(e.values[0])}function w(e){return"inline"===e.type}function B(e){var t;return"rich_text"===(null==e||null===(t=e.format)||void 0===t?void 0:t.type)}function C(e){const{integration:t,currentSpaceId:r}=e,n=p().Bj6.fromIntegration(t),{original_url_domains:o=[],development_url_domains:a=[]}=n.getInfo()||{};return(0,m().C7)(r,n)?[...o,...a]:o}function P(e){const{url:t,integrations:r,currentSpaceId:n}=e,o=U(t);if(!o)return{type:"failure"};let s,l;for(const i of r){const e=C({integration:i,currentSpaceId:n});for(const r of i.info.original_url_patterns||[]){const n=N({url:t,domains:e,regex:new RegExp(r.regex)});if("invalid_url"===n.type)break;if("url_does_not_match_domain"===n.type)break;if("url_does_not_match_regex"!==n.type){if("success"===n.type){s=i,l=r;break}(0,a().HB)(n)}else s=i}if(s&&l)break}return l&&s?{type:"success",integration:s,pattern:l}:s?{type:"partial",integration:s,urlDomain:o,parsedUrl:(0,i().qg)(t)}:{type:"failure"}}function N(e){const{url:t,domains:r,regex:n}=e,o=U(t);return o?r.find((e=>e===o))?n.test(t)?{type:"success"}:{type:"url_does_not_match_regex"}:{type:"url_does_not_match_domain"}:{type:"invalid_url"}}function U(e){var t;const r=null===(t=(0,i().qg)(e).hostname)||void 0===t?void 0:t.split(".");return r&&r.length>=2?r.slice(r.length-2).join("."):void 0}function R(e){const{url:t,integration:r}=e;if(!(r&&(0,d().v_)(r)&&r.info&&r.info.original_url_patterns))return[];const n=r.info.original_url_patterns.find((({regex:e})=>new RegExp(e).test(t)));if(n){const e=new RegExp(n.regex);return o().oE([...(n.attributes||[]).map((r=>function(e,t,r){return g(r)||A(r)?{...r,values:r.values.map((r=>t.replace(e,r)))}:r}(e,t,r)))])}return[]}function D(e){return Array.isArray(e)?e:[e]}function O(e){return 1===e.length?e[0]:e}function F(e){return"avatar"===e||"identifier"===e||"title"===e||"primary"===e||"secondary"===e||"body"===e||void 0===e}function E(e){return"avatar"===e||"identifier"===e||"primary"===e||"secondary"===e||"body"===e||void 0===e}function V(e){return void 0===e}function L(e){return void 0===e}function H(e){return"entity"===e||"background"===e||void 0===e}function G(e){return"primary"===e||"secondary"===e||void 0===e}function q(e){return"avatar"===e||"entity"===e||"embed"===e||void 0===e}function j(e){return"embed"===e||void 0===e}function $(e){const{id:t,name:r}=e,n={id:t,name:r};if("inline"in e){const t="inline";if("rich_text"in e.inline)return new(u().yI)("Rich text not supported here");if("plain_text"in e.inline)return{...n,type:t,values:D(e.inline.plain_text.value),...e.inline.plain_text.section&&{format:{section:e.inline.plain_text.section}}};if("code"in e.inline)return{...n,type:t,values:D(e.inline.code.value),format:{type:"code",section:e.inline.code.section,language:e.inline.code.language}};if("boolean"in e.inline)return{...n,type:t,values:D(e.inline.boolean.value)};if("number"in e.inline)return{...n,type:t,values:D(e.inline.number.value)};if("title"in e.inline)return{...n,type:t,values:D(e.inline.title.value),format:{type:"title",...e.inline.title.color&&{color:e.inline.title.color},section:"title"}};if("enum"in e.inline)return{...n,type:t,values:D(e.inline.enum.value),format:{type:"enum",...e.inline.enum.color&&{color:e.inline.enum.color},...e.inline.enum.section&&{section:e.inline.enum.section}}};if("color"in e.inline)return{...n,type:t,values:D(e.inline.color.value),...e.inline.color.section&&{format:{section:e.inline.color.section}}};if("date"in e.inline){const r=D(e.inline.date.value).map(c().mP);return r.every(s().$P)?{...n,type:t,values:r,...e.inline.date.section&&{format:{section:e.inline.date.section}}}:new(u().yI)("Invalid date value.")}if("datetime"in e.inline){const r=D(e.inline.datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,...e.inline.datetime.section&&{format:{section:e.inline.datetime.section}}}:new(u().yI)("Invalid datetime value.")}if("datetimerange"in e.inline){if(e.inline.datetimerange.value.length<2)return new(u().yI)("Invalidate datetimerange value.");const[r,o]=e.inline.datetimerange.value,a=(0,c().Ku)(r,o);return s().L3(a)?{...n,type:t,values:[a],...e.inline.datetimerange.section&&{format:{section:e.inline.datetimerange.section}}}:new(u().yI)("Invalid datetimerange value.")}if("created_datetime"in e.inline){const r=D(e.inline.created_datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,format:{type:"created_time",...e.inline.created_datetime.section&&{section:e.inline.created_datetime.section}}}:new(u().yI)("Invalid created_datetime value.")}if("last_edited_datetime"in e.inline){const r=D(e.inline.last_edited_datetime.value).map(c().vK);return r.every(s().Ar)?{...n,type:t,values:r,format:{type:"last_edited_time",...e.inline.last_edited_datetime.section&&{section:e.inline.last_edited_datetime.section}}}:new(u().yI)("Invalid last_edited_datetime value.")}(0,a().HB)(e.inline)}else if("embed"in e){const t={};e.embed.default_height&&(t.defaultHeight=e.embed.default_height),e.embed.default_width&&(t.defaultWidth=e.embed.default_width);const r="embed";if("html"in e.embed)return{...n,type:r,values:D(e.embed.src_url),mimeType:"text/html",...e.embed.html.section&&{format:{section:e.embed.html.section,...t}}};if("image"in e.embed)return{...n,type:r,values:D(e.embed.src_url),mimeType:"image/*",format:{...e.embed.image.format&&{type:e.embed.image.format},...t,...e.embed.image.section&&{section:e.embed.image.section}}};if("audio"in e.embed)return{...n,type:r,values:D(e.embed.src_url),mimeType:"audio/*",...e.embed.audio.section&&{format:{section:e.embed.audio.section,...t}}};if("video"in e.embed)return{...n,type:r,values:D(e.embed.src_url),mimeType:"video/*",...e.embed.video.section&&{format:{section:e.embed.video.section,...t}}};if("pdf"in e.embed)return{...n,type:r,values:D(e.embed.src_url),mimeType:"application/pdf",...e.embed.pdf.section&&{format:{section:e.embed.pdf.section,...t}}};(0,a().HB)(e.embed)}else{if("relation"in e){const t="relation";return e.relation.extension?{...n,type:t,values:D(e.relation.uri),format:{type:"extension",extension:e.relation.extension}}:e.relation.mention?{...n,type:t,values:D(e.relation.uri),format:{type:"mention",section:null===(o=e.relation.mention)||void 0===o?void 0:o.section}}:{...n,type:t,values:D(e.relation.uri)};var o}if("people"in e)return{...n,type:"person",values:D(e.people.uri)};(0,a().HB)(e)}}function z(e){const{id:t,name:r}=e,n={id:t,name:r};if(w(e)){var o,i,l,c,u,d,p,m,f;if(g(e))return"title"===(null===(o=e.format)||void 0===o?void 0:o.type)?{...n,type:"inline",inline:{title:{value:e.values[0],..."title"===(null===(l=e.format)||void 0===l?void 0:l.section)&&{section:"title"}}}}:"enum"===(null===(i=e.format)||void 0===i?void 0:i.type)?{...n,type:"inline",inline:{enum:{value:O(e.values),...(null===(c=e.format)||void 0===c?void 0:c.section)&&(H=e.format.section,"primary"===H||void 0===H)&&{section:e.format.section}}}}:{...n,type:"inline",inline:{plain_text:{value:O(e.values),...(null===(u=e.format)||void 0===u?void 0:u.section)&&E(e.format.section)&&{section:e.format.section}}}};if(_(e))return{...n,type:"inline",inline:{boolean:{value:O(e.values)}}};if(y(e))return{...n,type:"inline",inline:{number:{value:O(e.values)}}};if(v(e))return{...n,type:"inline",inline:{color:{value:O(e.values),...(null===(d=e.format)||void 0===d?void 0:d.section)&&{section:e.format.section}}}};if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().$P(e.values[0])}(e)){var b;const t=e.values.map((({start_date:e})=>e));return{...n,type:"inline",inline:{date:{value:O(t),...(null===(b=e.format)||void 0===b?void 0:b.section)&&{section:e.format.section}}}}}if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().Ar(e.values[0])}(e)){var h,A;const t=e.values.map((({start_date:e,start_time:t,time_zone:r})=>W({date:e,time:t,timeZone:r})));var I,k,x;return"created_time"===(null===(h=e.format)||void 0===h?void 0:h.type)?{...n,type:"inline",inline:{created_datetime:{value:t[0],...(null===(I=e.format)||void 0===I?void 0:I.section)&&{section:e.format.section}}}}:"last_edited_time"===(null===(A=e.format)||void 0===A?void 0:A.type)?{...n,type:"inline",inline:{last_edited_datetime:{value:t[0],...(null===(k=e.format)||void 0===k?void 0:k.section)&&{section:e.format.section}}}}:{...n,type:"inline",inline:{datetime:{value:O(t),...(null===(x=e.format)||void 0===x?void 0:x.section)&&{section:e.format.section}}}}}if(function(e){return"inline"===e.type&&s().kC(e.values[0])&&s().L3(e.values[0])&&s().kC(e.values[1])&&s().L3(e.values[1])}(e)){var S;const{start_date:t,start_time:r,end_date:o,end_time:a,time_zone:i}=e.values[0],s=[W({date:t,time:r,timeZone:i}),W({date:o,time:a,timeZone:i})];return{...n,type:"inline",inline:{datetimerange:{value:s,...(null===(S=e.format)||void 0===S?void 0:S.section)&&{section:e.format.section}}}}}if(T(e))return{...n,type:"inline",inline:{code:{value:O(e.values)[0],language:null===(p=e.format)||void 0===p?void 0:p.language,...(null===(m=e.format)||void 0===m?void 0:m.section)&&{section:e.format.section}}}};if(B(e))return{...n,type:"inline",inline:{rich_text:{value:[],...(null===(f=e.format)||void 0===f?void 0:f.section)&&{section:e.format.section}}}};(0,a().HB)(e)}else if("embed"===e.type){var M,C,P,N,U,R;if("image/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],image:{...(null===(M=e.format)||void 0===M?void 0:M.type)&&{format:e.format.type},...(null===(C=e.format)||void 0===C?void 0:C.section)&&{section:e.format.section}}}};if("video/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],video:{...(null===(P=e.format)||void 0===P?void 0:P.section)&&{section:e.format.section}}}};if("audio/*"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],audio:{...(null===(N=e.format)||void 0===N?void 0:N.section)&&{section:e.format.section}}}};if("application/pdf"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],pdf:{...(null===(U=e.format)||void 0===U?void 0:U.section)&&{section:e.format.section}}}};if("text/html"===e.mimeType)return{...n,type:"embed",embed:{src_url:e.values[0],html:{...(null===(R=e.format)||void 0===R?void 0:R.section)&&{section:e.format.section}}}};(0,a().HB)(e)}else{var D,F,V,L;if("relation"===e.type)return"extension"===(null===(D=e.format)||void 0===D?void 0:D.type)?{...n,type:"relation",relation:{uri:O(e.values),type:"extension",...(null===(V=e.format)||void 0===V?void 0:V.extension)&&{extension:e.format.extension}}}:"mention"===(null===(F=e.format)||void 0===F?void 0:F.type)?{...n,type:"relation",relation:{uri:O(e.values),type:"mention",...(null===(L=e.format)||void 0===L?void 0:L.section)&&{section:e.format.section}}}:{...n,type:"relation",relation:{uri:O(e.values)}};if("person"===e.type)return{...n,type:"people",people:{uri:O(e.values)}};(0,a().HB)(e)}var H}function W(e){const{date:t,time:r,timeZone:o}=e;return n().c9.fromFormat(`${t} ${r}`,`${l().tr} ${s().GE}`,{zone:o}).toISO()}},510618:(e,t,r)=>{r.d(t,{A:()=>a,W:()=>o});var n=()=>r(292588);const o="ai_embedding_config",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.UUID,space_id:n().A.UUID,is_allowed:n().A.Boolean},model:(0,r(152853).P)({RecordStore:!0})}},510916:(e,t,r)=>{r.d(t,{i:()=>o});var n=()=>r(534177);function o(e){switch(e){case"created_time":return"Created Time";case"last_edited_time":return"Last Edited Time";case"last_edited_by":return"Last Edited By";case"created_by":return"Created By";case"title":return"Page Name";default:(0,n().HB)(e)}}},519831:(e,t,r)=>{r.d(t,{Ay:()=>s,Qn:()=>a,Vl:()=>i});var n=()=>r(415622),o=()=>r(292588);const a={block:!0,collection:!0},i="collection",s={table:i,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,name:o().A.JSON,description:o().A.JSON,icon:o().A.String,cover:o().A.String,schema:o().A.JSON,format:o().A.JSON,parent_id:o().A.UUID,parent_table:o().A.String,alive:o().A.Boolean,file_ids:o().A.StringArray,template_pages:o().A.StringArray,copied_from:o().A.UUID,migrated:o().A.Boolean,space_id:o().A.UUID,deleted_schema:o().A.JSON,permissions:o().A.JSON,created_time:o().A.Number,last_edited_time:o().A.Number,created_by_table:o().A.String,created_by_id:o().A.UUID,last_edited_by_table:o().A.String,last_edited_by_id:o().A.UUID,moved_to_trash_table:o().A.String,moved_to_trash_id:o().A.UUID,moved_to_trash_time:o().A.Number,deleted_from_trash_time:o().A.Number,deleted_from_trash_table:o().A.String,deleted_from_trash_id:o().A.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0},defaultColumnValues:{alive:!1},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon",getKeyStoreMethod:"getIconStore"},cover:{getKeyStoreMethod:!0},format:{defaultOnRead:n().PL},schema:{defaultOnRead:n().PL},deleted_schema:{defaultOnRead:n().PL},copied_from:{getMethod:!1}}})}},522419:(e,t,r)=>{r.d(t,{Du:()=>C,EY:()=>D,GM:()=>B,JB:()=>P,Jt:()=>L,Nh:()=>G,OG:()=>w,QC:()=>E,SB:()=>H,SR:()=>N,T8:()=>b,TV:()=>v,Zv:()=>Z,_2:()=>j,_J:()=>x,hj:()=>d,jy:()=>U,ku:()=>W,oN:()=>$,pJ:()=>R,pc:()=>O,v5:()=>V,xm:()=>q,yC:()=>u});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(814603),r(147566),r(198721);var n=()=>r(496603),o=()=>r(498212),a=()=>r(534177),i=()=>r(939768),s=()=>r(825237),l=()=>r(179034),c=()=>r(519831);const u=["A4","A3"],d=["Letter","Legal","Tabloid"],p=(u.concat(d),new Set([l().ev,c().Vl,r(363497).TF,r(234459).To]),new Set([l().ev,c().Vl])),m="secure.notion-static.com",f="https://s3-us-west-2.amazonaws.com/secure.notion-static.com";function g(e){return(0,a().y$)(p,e)}function y(e){let t;try{t=new URL(e)}catch(s){return}if(!t.hostname.endsWith(".amazonaws.com"))return;const r=t.pathname.slice(1),n=t.hostname.split(".");let o,a,i;if(5===n.length&&"s3"===n[1])o=n[0],a=r,i=t.origin;else{if((4!==n.length||"s3"!==n[0])&&3!==n.length)return;o=r.slice(0,r.indexOf("/")),a=r.slice(r.indexOf("/")+1),i=`${t.origin}/${o}`}return{bucket:o,key:a,baseurl:i}}function _(e){const t=y(e);if(!t)return;const{bucket:r,key:n}=t,a=n.split("/"),i="space/id/name"===function(e,t){if(e.includes("temporary")&&t){const e=t.split("/").filter(Boolean);return e.length>1&&(0,o().uj)(e[0])&&(0,o().uj)(e[1])?"space/id/name":"id/name"}return e.endsWith("files-secure")?"space/id/name":"id/name"}(r,n)?a.shift():void 0,[s,l]=a;return{key:n,bucket:r,fileId:(0,o().uj)(s)?s:void 0,spaceId:(0,o().uj)(i)?i:void 0,fileName:l}}function v(e){let t,r;if(G(e)){const n=j(e);if(!n)return;t=n.fileId,r=n.fileName}else{const n=_(e);if(!n||!n.fileId)return;t=n.fileId,r=n.fileName}const n=r.indexOf(".");if(-1===n)return`${r}-${t}`;return`${r.slice(0,n)}-${t}.${r.slice(n+1)}`}function b(e){const t=["https://file.notion.so/","https://file-dev.notion.so/","https://file-stg.notion.so/"];for(const r of t)if(null!=e&&e.startsWith(r))return!0;return!(null==e||!e.startsWith("http://localhost:3000/f-local/"))}const h="temporary.notion-static.com",A="-files-secure",I="-notion-temporary-files-";function k(e,t){if(!e)return!1;if(!(e.startsWith(t)||e.replace("s3.","s3-").startsWith(t)))return!1;if(t.includes(h)||t.includes(I))return!0;if(t.includes(m)||t.includes(A)){const t=i().qg(e);if(!t.pathname)return!1;const r=t.pathname.split("/")??[];return 4===r.length&&""!==r[3]}return!1}function x(e){const t=["https://local-files-secure.s3.us-west-2.amazonaws.com","https://stg-files-secure.s3.us-west-2.amazonaws.com","https://prod-files-secure.s3.us-west-2.amazonaws.com","https://dev-files-secure.s3.us-west-2.amazonaws.com"];for(const r of[...t,f])if(k(e,r))return!0;return!(!e||!G(e))}const S={"image/fits":!0,"image/ief":!0,"image/jp2":!0,"image/jpeg":!0,"image/jpg":!0,"image/jpm":!0,"image/jpx":!0,"image/png":!0,"image/tiff":!0,"image/tif":!0,"image/heic":!0,"image/x-icon":!0,"image/svg+xml":!0,"application/pdf":!0},T={heic:!0,ico:!0,jpeg:!0,jpg:!0,png:!0,tif:!0,tiff:!0,gif:!0,svg:!0,pdf:!0,webp:!0},M=["heic","tiff","tif"];function w(e){const t=e.toLowerCase();return M.some((e=>e===t))}function B(e){if(C(e))return!1;const t=(E(e)||"").toLowerCase();return!(!T[t]&&!S[`image/${t}`])&&("gif"!==t||!x(e))}function C(e){const t=e.toLowerCase();return t.startsWith("/images/")&&!t.includes("..")}function P(e){return e.startsWith("https://images.unsplash.com/")}function N(e){const t=new RegExp("^(http|https)://media[0-9-]+.giphy.com/");return null!==e.match(t)}function U(e,t){const r=i().qg(e);return i().Gm({url:`https://images.unsplash.com${r.pathname}`,query:{...r.query,w:(3*Math.max(400*Math.round(t/400),400)).toString()}})}function R(e,t,r,n,o){const a=(0,s().wY)({url:e,permissionRecord:t,baseUrl:r,fullyQualified:!1,userId:n});return fetch(a).then((e=>e.blob())).then((e=>{const t=document.createElement("a");t.href=window.URL.createObjectURL(e),t.download=o||"image",t.click(),window.URL.revokeObjectURL(t.href)}))}function D(e,t,r){const n=F(e,t,r);if(void 0!==n)return n;if(G(e)){var o;const t=null===(o=j(e))||void 0===o?void 0:o.fileId;if(t)return{id:t}}const a=_(e);return a&&a.fileId&&a.bucket&&a.key&&(e.startsWith(f)||a.bucket.endsWith("-files-secure"))?{id:a.fileId}:void 0}function O(e){const{source:t,secureFileConfigRootpath:r,secureFileConfigHostname:n}=e;if(void 0===t)return;if(void 0===F(t,r,n))return;const o=i().qg(t);if(!o.pathname)return;const a=o.pathname.split("/");if(a.length<5)return;return{name:a[5],link:q({fileId:a[4],fileName:a[5]})}}function F(e,t,r){if(function(e,t,r){const n=i().qg(e);if(!n.pathname||n.host!==r)return!1;const o=n.pathname.split("/")??[];return Boolean(e&&o.length>=3&&`/${o[1]}`===t)}(e,t,r)){const t=i().qg(e);if(!t.pathname)return;const r=t.pathname.split("/");if(r.length<5)return;const n=4,o=r[n],a=r.slice(n).join("/");if(o&&a){return{id:o}}}}function E(e){const t=i().qg(e);if(!t.href)return;if(!t.pathname)return;const r=n().HV(t.pathname.split("/"));if(!r)return;const o=r.split(".");return 1===o.length?"":o[o.length-1]}function V(e){const t=e.lastIndexOf(".");return t>=0?e.substring(0,t):e}function L(e){if(G(e)){var t;const r=null===(t=j(e))||void 0===t?void 0:t.fileName;if(r)return r}const r=i().qg(e);if(r.pathname){const e=r.pathname.substring(r.pathname.lastIndexOf("/")+1);if(e)return e}return""}function H(e){let t=e.title||L(e.source)||e.source;if(e.title){const r=E(e.source),n=E(t.replace("#",""));r&&r!==n&&(t+=`.${r}`)}return t}function G(e){return e.startsWith("attachment:")}function q(e){return`attachment:${e.fileId}:${e.fileName}`}function j(e){const t=e.split(":");if(3!==t.length)return;const[r,n,o]=t;return"attachment"===r&&n&&o&&!n.includes("../")&&!o.includes("../")?{fileId:n,fileName:o}:void 0}function $(e){const{urlOrAlias:t}=e;return z({urlOrAlias:t,spaceId:""})}function z(e){const{urlOrAlias:t,spaceId:r}=e;if(G(t)){const e=j(t);return e&&e.fileId&&e.fileName?{key:`${r}/${e.fileId}/${e.fileName}`,fileId:e.fileId,fileName:e.fileName}:void 0}const n=_(t);if(n&&n.fileId&&n.fileName)return{key:`${(null==n?void 0:n.spaceId)??r}/${n.fileId}/${n.fileName}`,fileId:n.fileId,fileName:n.fileName}}function W(e,t="file.notion.so"){try{const r=new URL(e);if(r.host!==t)return;const n=new URLSearchParams(r.search),a=n.get("id"),i=n.get("table"),s=n.get("spaceId");if(!a||!i||!s)return;if(!g(i))return;const l=r.pathname.split("/").filter(Boolean);if(l.length<5)return;const c=l[2],u=l[3],d=l.slice(4).join("/");if(!(0,o().uj)(u)||!(0,o().uj)(c))return;if(c!==s)return;return{fileId:u,fileName:d,key:`${s}/${u}/${d}`,copiedSource:{table:i,id:a,spaceId:s}}}catch(r){}}function Z(e){const t=e.split("/image/")[1];if(!t)return;const r=t.split("?")[1],n=new URLSearchParams(r),o=n.get("id"),a=n.get("table"),i=n.get("spaceId"),s=decodeURIComponent(t.split("?")[0]);if(!s)return;if(!o||!a||!i)return;if(!g(a))return;const l=z({urlOrAlias:s,spaceId:i});return l&&l.fileId&&l.fileName?{fileId:l.fileId,fileName:l.fileName,key:l.key,copiedSource:{table:a,id:o,spaceId:i}}:void 0}},524853:(e,t,r)=>{r.d(t,{A:()=>a,H:()=>o});var n=()=>r(292588);const o="external_integration_app",a={table:o,columnTypes:{id:n().A.UUID,client_id:n().A.String,client_secret:n().A.String,oauth_authorize_url:n().A.String,oauth_token_url:n().A.String,deletion_url:n().A.String,scopes:n().A.StringArray,internal_integration_id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,updated_by_table:n().A.String,updated_by_id:n().A.UUID,updated_at:n().A.Number},model:(0,r(152853).P)({})}},527925:(e,t,r)=>{r.d(t,{A:()=>a,v:()=>o});var n=()=>r(292588);const o="template_content_group",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,title:n().A.String,contents:n().A.JSON,published_version:n().A.Number,created_at:n().A.Number,last_updated_at:n().A.Number,last_synced_at:n().A.Number,locale:n().A.String,category_id:n().A.String,is_editorial:n().A.Boolean,editorial_attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,contentful_id:!0,title:!0,contents:!0,published_version:!0,created_at:!0,last_updated_at:!0,last_synced_at:!0,locale:!0},model:(0,r(152853).P)({RecordStore:!0})}},529745:(e,t,r)=>{r.d(t,{Ay:()=>i,Ht:()=>a,ad:()=>o});var n=()=>r(292588);const o={space:!0},a="marketplace_acquisition",i={table:a,columnTypes:{id:n().A.UUID,listing_id:n().A.UUID,customer_id:n().A.UUID,seller_id:n().A.UUID,stripe_payment_intent_id:n().A.String,product_price:n().A.Number,total_price:n().A.Number,status:n().A.String,created_time:n().A.Number,updated_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,destination_table:n().A.String,destination_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,attributes:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},538748:(e,t,r)=>{r.d(t,{A:()=>a,m:()=>o});var n=()=>r(292588);const o="offer_code",a={table:o,columnTypes:{id:n().A.UUID,code:n().A.String,campaign:n().A.String,status:n().A.String,version:n().A.Number,last_version:n().A.Number,redeemed_by:n().A.Blob},requiredColumns:{code:!0,campaign:!0,status:!0,version:!0,redeemed_by:!0},model:(0,r(152853).P)({RecordStore:!0})}},541837:(e,t,r)=>{r.d(t,{Ay:()=>i,c0:()=>o,ly:()=>a});var n=()=>r(292588);const o={space:!0},a="workflow_external_connection",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,module_type:n().A.String,external_id:n().A.String,data:n().A.JSON},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,created_by_id:!0,created_by_table:!0,created_time:!0,module_type:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},545893:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>a});var n=()=>r(292588);const o="space_email_domain",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_created_by_id:n().A.UUID,space_created_by_table:n().A.String,space_created_by_email_domain:n().A.String},model:(0,r(152853).P)({properties:{space_created_by_id:{getRelationalPointerMethod:!1}}})}},548632:(e,t,r)=>{r.d(t,{Ay:()=>i,YV:()=>o,rL:()=>a});var n=()=>r(292588);const o="assistant_session_starter",a={space_view:!0},i={table:o,columnTypes:{id:n().A.UUID,alive:n().A.Boolean,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,created_by_table:n().A.String,created_by_id:n().A.UUID,created_time:n().A.Number,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,space_id:n().A.UUID,user_id:n().A.UUID,type:n().A.String,data:n().A.JSON},requiredColumns:{id:!0,alive:!0,version:!0,parent_id:!0,parent_table:!0,created_by_table:!0,created_by_id:!0,created_time:!0,last_edited_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,space_id:!0,user_id:!0,type:!0,data:!0},model:(0,r(152853).P)({RecordStore:!0})}},549094:(e,t,r)=>{r.d(t,{Ay:()=>a,Eg:()=>o});var n=()=>r(292588);const o="marketplace_payout",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,external_id:n().A.String,seller_id:n().A.UUID,amount:n().A.Number,currency:n().A.String,paid_time:n().A.Number,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,seller_id:!0,amount:!0,currency:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},551121:(e,t,r)=>{r.d(t,{A:()=>a,H:()=>o});var n=()=>r(292588);const o="block_token",a={table:o,columnTypes:{id:n().A.UUID,token_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number}}},552826:(e,t,r)=>{r.d(t,{Ay:()=>s,Zz:()=>i,yD:()=>o});var n=()=>r(292588);const o="inference_transcript",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,transcript:n().A.JSON,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_by:n().A.UUID,created_at:n().A.Number},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_by:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},i={workflow:!0,space:!0},s=a},559653:(e,t,r)=>{r.d(t,{$5:()=>i,Ay:()=>l,F9:()=>s,Qp:()=>a});var n=()=>r(498212),o=()=>r(292588);const a={block:!0};function i(e){const{parent_id:t,user_id:r}=e;return(0,n().gB)(`block:${t}:${r}`)}const s="page_visit",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.UUID,user_id:o().A.UUID,visited_at:o().A.Number,space_id:o().A.UUID,was_unlisted:o().A.Boolean,type:o().A.String},requiredColumns:{parent_table:!0,parent_id:!0,user_id:!0,visited_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},561565:(e,t,r)=>{r.d(t,{e:()=>g,u:()=>l});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(581454);var n=()=>r(496603),o=()=>r(534177),a=()=>r(506391);const i=(0,r(69708).YK)({githubPullOpened:{id:"unfurling.github.githubPullOpened",defaultMessage:"Opened {value}"},githubPullClosed:{id:"unfurling.github.githubPullClosed",defaultMessage:"Closed {value}"},githubPullMerged:{id:"unfurling.github.githubPullMerged",defaultMessage:"Merged {value}"},githubCommitted:{id:"unfurling.github.githubCommitted",defaultMessage:"Committed {value}"},githubPullRequest:{id:"unfurling.github.githubPullRequest",defaultMessage:"Pull Request {value}"},githubIssue:{id:"unfurling.github.githubIssue",defaultMessage:"Issue {value}"},githubCommit:{id:"unfurling.github.githubCommit",defaultMessage:"Commit"},githubFile:{id:"unfurling.github.githubFile",defaultMessage:"File"},githubRef:{id:"unfurling.github.githubRef",defaultMessage:"Ref"},codeLanguage:{id:"unfurling.github.codeLanguage",defaultMessage:"Language"},githubRepoUpdated:{id:"unfurling.github.githubRepoUpdated",defaultMessage:"Updated {value}"},githubPullRequests:{id:"unfurling.github.githubPullRequests",defaultMessage:"{value} Pull Requests"},githubIssues:{id:"unfurling.github.githubIssues",defaultMessage:"{value} Issues"},jiraAssignee:{id:"unfurling.jira.jiraAssignee",defaultMessage:"Assigned to {value}"},jiraUpdated:{id:"unfurling.github.jiraUpdated",defaultMessage:"Updated {value}"},slackMessage:{id:"unfurling.slack.slackMessage",defaultMessage:"Message in Slack"},slackThread:{id:"unfurling.slack.slackThread",defaultMessage:"Thread in Slack"},slackReplyCount:{id:"unfurling.slack.slackReplyCount",defaultMessage:"{value, plural, one {{value} reply} other {{value} replies}}"},zoomMeeting:{id:"unfurling.zoom.joinZoomMeeting",defaultMessage:"Join Zoom meeting"},zoomPasscode:{id:"unfurling.zoom.zoomPasscode",defaultMessage:"Passcode: {value}"},asanaDueAt:{id:"unfurling.asana.asanaDueAt",defaultMessage:"Due {value}"},asanaUpdatedAt:{id:"unfurling.asana.asanaUpdatedAt",defaultMessage:"Updated {value}"},asanaPreviewEntity:{id:"unfurling.asana.asanaTask",defaultMessage:"Preview Asana"},asanaAssignedTo:{id:"unfurling.asana.asanaAssignedTo",defaultMessage:"Assigned to {value}"},trelloDueAt:{id:"unfurling.trello.trelloDueAt",defaultMessage:"Due {value}"},trelloUpdatedAt:{id:"unfurling.trello.trelloUpdatedAt",defaultMessage:"Updated {value}"},trelloAssignedTo:{id:"unfurling.trello.trelloAssignedTo",defaultMessage:"Assigned to {value}"},trelloCard:{id:"unfurling.trello.trelloCard",defaultMessage:"Card in Trello"},figmaFile:{id:"unfurling.figma.figmaFile",defaultMessage:"Figma File"},figmaLastModifiedBy:{id:"unfurling.figma.figmaLastModifiedBy",defaultMessage:"Last modified by {value}"},dropboxFile:{id:"unfurling.dropbox.dropboxFile",defaultMessage:"Dropbox File"},status:{id:"unfurling.generic.status",defaultMessage:"Status"},pullRequest:{id:"unfurling.github.pullRequest",defaultMessage:"PR"},author:{id:"unfurling.generic.author",defaultMessage:"Author"},issue:{id:"unfurling.github.issue",defaultMessage:"Issue"},assigned:{id:"unfurling.generic.assigned",defaultMessage:"Assigned"},section:{id:"unfurling.generic.section",defaultMessage:"Section"},due:{id:"unfurling.generic.due",defaultMessage:"Due"},created:{id:"unfurling.generic.created",defaultMessage:"Created"},updated:{id:"unfurling.generic.updated",defaultMessage:"Updated"},type:{id:"unfurling.generic.type",defaultMessage:"Type"},project:{id:"unfurling.generic.project",defaultMessage:"Project"},meetingId:{id:"unfurling.zoom.meetingId",defaultMessage:"Meeting ID"},passcode:{id:"unfurling.zoom.passcode",defaultMessage:"Passcode"},host:{id:"unfurling.zoom.host",defaultMessage:"Host"},list:{id:"unfurling.trello.list",defaultMessage:"List"},lastModifiedBy:{id:"unfurling.generic.lastModifiedBy",defaultMessage:"Modified by"},lastModifiedAt:{id:"unfurling.generic.lastModifiedAt",defaultMessage:"Modified at"},replies:{id:"unfurling.slack.replies",defaultMessage:"Replies"},owner:{id:"unfurling.github.owner",defaultMessage:"Owner"},gitlabIssues:{id:"unfurling.gitlab.gitlabIssues",defaultMessage:"{value} Pull Requests"},gitlabMerges:{id:"unfurling.gitlab.gitlabMerges",defaultMessage:"{value} Issues"},dynamicLabelForHover:{id:"unfurling.hover.label",defaultMessage:"{value}"},calendarEventTime:{id:"unfurling.calendar.eventTime",defaultMessage:"Event time"},calendarLocation:{id:"unfurling.calendar.location",defaultMessage:"Location"},googleDrivePreview:{id:"unfurling.googleDrive.preview",defaultMessage:"Google Drive link preview"},selectFileToPreview:{id:"unfurling.googleDrive.selectFileToPreview",defaultMessage:"Select file to preview"}});function s(e){var t,r,o,a;const i=[];for(const n of e.root.attributes||[]){var s;if("relation"===n.type&&"extension"===(null==n||null===(s=n.format)||void 0===s?void 0:s.type))for(const t of n.format.extension||[]){const r=I({rootAttribute:n,subAttribute:b(e,n.id,t.id),section:t.section});r&&i.push(r)}else i.push(n)}i.push(...e.parsedAttributes);const l=n().hS(i,"id"),c=n().$z(l,(({format:e})=>null==e?void 0:e.section));return{icons:c.avatar||[],title:null===(t=c.title)||void 0===t?void 0:t[0],body:null===(r=c.body)||void 0===r?void 0:r[0],entityIcon:null===(o=c.entity)||void 0===o?void 0:o[0],identifier:null===(a=c.identifier)||void 0===a?void 0:a[0],primaries:c.primary||[],secondaries:c.secondary||[],embeds:c.embed||[]}}const l={block:e=>{const{icons:t,title:r,primaries:o,body:i,entityIcon:l,identifier:c,secondaries:u,embeds:d}=s(e);return{icons:t,headerAttributes:n().oE([r?{attribute:r}:void 0,...o.map((e=>({attribute:e})))]),bodyAttribute:i&&(0,a().cz)(i)?i:void 0,subheaderIcon:l,subheaderAttributes:n().oE([c?{attribute:c}:void 0,...u.map((e=>({attribute:e})))]),previewAttributes:d.filter(a().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:a,entityIcon:i}=s(e);return{icon:i,identifier:a,title:r?{attribute:r}:void 0,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:u}=s(e),d=null==c?void 0:c[0],p=[u,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:i.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:i.updated},value:{attribute:e}}:{key:{formatter:i.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:d&&(0,a().nN)(d)?d:void 0}}};function c(e){const t=v(e,"key"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,n=r?r.split("-").slice(1).map(((e,t)=>0===t?`${e[0].toUpperCase()}${e.substring(1)}`:e)).join(" "):void 0,o=h(e,"members"),s=o.map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),l=o.map((e=>e.find((({id:e})=>"title"===e||"name"===e)))),c=b(e,"board","title")||b(e,"board","board_name"),u=b(e,"list","title")||b(e,"list","name"),d=y(e,"title"),p=y(e,"due_at"),m=y(e,"updated_at");return{title:d?{attribute:d}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:t&&t.values[0]?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.trelloCard},memberNames:l,boardName:c,listName:u,dueAt:p,updatedAt:m,memberIcons:s}}function u(e){var t;const r=v(e,"title"),n=r&&(0,a().cz)(r)?r.values[0]:void 0,o=n?null===(t=x(n))||void 0===t?void 0:t.split("-").join(" ").replace(/   /g," - "):void 0,s=y(e,"title")||y(e,"name"),l=y(e,"updated_at"),c=y(e,"username")||b(e,"user","title")||b(e,"user","name"),u=y(e,"avatar_url")||b(e,"user","avatar_url"),d=y(e,"thumbnail_url"),p=v(e,"site");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.figmaFile},lastModifiedByName:c,parsedSite:p,lastModifiedAt:l,previewImageAttribute:d,lastModifiedByAvatar:u}}function d(e){const t=v(e,"title"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,n=r?x(r):void 0,o=y(e,"title"),s=y(e,"file_size"),l=y(e,"preview_image");return{title:o?{attribute:o}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.dropboxFile},fileSizeAttribute:s,previewImageAttribute:l}}function p(e){const t=v(e,"title"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,n=r?x(r):void 0,o=y(e,"title"),s=y(e,"file_size"),l=y(e,"preview_image");return{title:o?{attribute:o}:n?{attribute:{id:"title",name:"Title",type:"inline",values:[n]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.dropboxFile},fileSizeAttribute:s,previewImageAttribute:l}}function m(){return{block:e=>{const t=v(e,"title"),r=v(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=b(e,"user","title")||b(e,"user","login"),c=b(e,"user","avatar_url"),u=y(e,"state"),d=b(e,"state","icon"),p=b(e,"state","title")||b(e,"state","name"),m=p&&(0,a().cz)(p)?p.values[0]:void 0;let f;const g=y(e,"created_at"),_=y(e,"merged_at"),h=y(e,"closed_at");return"Open"===m&&g?f={attribute:g,formatter:i.githubPullOpened}:"Closed"===m&&h?f={attribute:h,formatter:i.githubPullClosed}:"Merged"===m&&_&&(f={attribute:_,formatter:i.githubPullMerged}),{icons:n().oE([c||l]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t,formatter:i.githubPullRequest}:void 0,u?{attribute:u}:void 0]),subheaderIcon:d,subheaderAttributes:s||l||f?n().oE([s?{attribute:s}:void 0,l?{attribute:l}:void 0,f]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=v(e,"title"),r=y(e,"title"),o=y(e,"number"),s=y(e,"state"),l=b(e,"state","icon");return{icon:l&&(0,a().nN)(l)?l:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t,formatter:i.githubPullRequest}:void 0,attributes:n().oE([s])}},hover:e=>{const t=v(e,"title"),r=v(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=y(e,"user"),c=y(e,"state"),u=b(e,"state","title")||b(e,"state","name"),d=u&&(0,a().cz)(u)?u.values[0]:void 0;let p;const m=y(e,"created_at"),f=y(e,"merged_at"),g=y(e,"closed_at");return"Open"===d&&m?p={attribute:m,formatter:i.githubPullOpened}:"Closed"===d&&g?p={attribute:g,formatter:i.githubPullClosed}:"Merged"===d&&f&&(p={attribute:f,formatter:i.githubPullMerged}),{title:o?{attribute:o}:t?{attribute:t,formatter:i.githubPullRequest}:void 0,headerAttributes:n().oE([r?{attribute:r}:void 0,p]),dictionaryAttributes:n().oE([s?{key:{formatter:i.pullRequest},value:{attribute:s}}:void 0,c?{key:{formatter:i.status},value:{attribute:c}}:void 0,l?{key:{formatter:i.author},value:{attribute:l}}:void 0])}}}}const f={github_app_pull:m(),github_pull:m(),"Calendar event":{block:e=>({}),inline:e=>({}),hover:e=>{const t=y(e,"title"),r=y(e,"event_time"),o=y(e,"location");return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([r?{key:{formatter:i.calendarEventTime},value:{attribute:r}}:void 0,o?{key:{formatter:i.calendarLocation},value:{attribute:o}}:void 0])}}},github_issue:{block:e=>{const t=v(e,"title"),r=v(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=b(e,"user","title")||b(e,"user","login"),c=b(e,"user","avatar_url"),u=y(e,"state"),d=b(e,"state","icon"),p=b(e,"state","title")||b(e,"state","name"),m=p&&(0,a().cz)(p)?p.values[0]:void 0;let f;const g=y(e,"created_at"),_=y(e,"closed_at");return"Open"===m&&g?f={attribute:g,formatter:i.githubPullOpened}:"Closed"===m&&_&&(f={attribute:_,formatter:i.githubPullClosed}),{icons:n().oE([c||l]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t,formatter:i.githubIssue}:void 0,u?{attribute:u}:void 0]),subheaderIcon:d,subheaderAttributes:s||l||f?n().oE([s?{attribute:s}:void 0,l?{attribute:l}:void 0,f]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=v(e,"title"),r=y(e,"title"),o=y(e,"number"),s=y(e,"state"),l=b(e,"user","avatar_url"),c=b(e,"state","icon");return{icon:c&&(0,a().nN)(c)?c:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t,formatter:i.githubIssue}:void 0,attributes:n().oE([s,l])}},hover:e=>{const t=v(e,"title"),r=v(e,"owner_and_repo"),o=y(e,"title"),s=y(e,"number"),l=y(e,"user"),c=y(e,"state"),u=b(e,"state","title")||b(e,"state","name"),d=u&&(0,a().cz)(u)?u.values[0]:void 0;let p;const m=y(e,"created_at"),f=y(e,"closed_at");return"Open"===d&&m?p={attribute:m}:"Closed"===d&&f&&(p={attribute:f}),{title:o?{attribute:o}:t?{attribute:t,formatter:i.githubIssue}:void 0,headerAttributes:n().oE([r?{attribute:r}:void 0,p]),dictionaryAttributes:n().oE([s?{key:{formatter:i.issue},value:{attribute:s}}:void 0,c?{key:{formatter:i.status},value:{attribute:c}}:void 0,l?{key:{formatter:i.author},value:{attribute:l}}:void 0])}}},github_commit:{block:e=>{const t=y(e,"title"),r=v(e,"commit_sha"),o=v(e,"owner_and_repo"),s=b(e,"author","title")||b(e,"author","login"),l=b(e,"author","avatar_url"),c=y(e,"created_at");return{icons:n().oE([l||s]),headerAttributes:n().oE([t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.githubCommit},!t&&r&&(0,a().cz)(r)?{attribute:{...r,values:[r.values[0].substring(0,7)]}}:void 0]),subheaderAttributes:s||c?n().oE([s?{attribute:s}:void 0,c?{attribute:c,formatter:i.githubCommitted}:void 0]):n().oE([o?{attribute:o}:void 0])}},inline:e=>{const t=y(e,"title"),r=v(e,"commit_sha"),o=y(e,"number"),s=y(e,"state"),l=b(e,"user","avatar_url");return{identifier:o&&(0,a().cz)(o)?o:void 0,title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.githubCommit},attributes:s||l?n().oE([s,l]):n().oE([r&&(0,a().cz)(r)?{...r,values:[r.values[0].substring(0,7)]}:void 0])}},hover:e=>{const t=y(e,"title"),r=v(e,"commit_sha"),o=v(e,"owner_and_repo"),s=y(e,"author"),l=y(e,"created_at");return{title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.githubCommit},headerAttributes:n().oE([o?{attribute:o}:void 0,r&&(0,a().cz)(r)?{attribute:{...r,values:[r.values[0].substring(0,7)]}}:void 0]),dictionaryAttributes:n().oE([s?{key:{formatter:i.author},value:{attribute:s}}:void 0,l?{key:{formatter:i.created},value:{attribute:l}}:void 0])}}},github_repo:{block:e=>{const t=v(e,"owner"),r=v(e,"title")||v(e,"name"),o=y(e,"title")||y(e,"name"),a=b(e,"owner","title")||b(e,"owner","login"),s=b(e,"owner","avatar_url"),l=y(e,"updated_at");return{icons:n().oE([s||a]),headerAttributes:n().oE([o?{attribute:o}:r?{attribute:r}:void 0]),subheaderAttributes:a||l?n().oE([a?{attribute:a}:void 0,l?{attribute:l,formatter:i.githubRepoUpdated}:void 0]):n().oE([t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"title")||v(e,"name"),r=y(e,"title")||y(e,"name"),o=y(e,"state"),a=b(e,"owner","avatar_url");return{title:r?{attribute:r}:t?{attribute:t}:void 0,attributes:n().oE([o,a])}},hover:e=>{const t=v(e,"title")||v(e,"name"),r=y(e,"title")||y(e,"name"),o=y(e,"owner"),a=y(e,"updated_at");return{title:r?{attribute:r}:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([o?{key:{formatter:i.owner},value:{attribute:o}}:void 0,a?{key:{formatter:i.updated},value:{attribute:a}}:void 0])}}},github_file:{block:e=>{var t,r;const o=v(e,"owner_and_repo"),a=v(e,"path")||v(e,"path"),i=y(e,"title")||y(e,"name"),s=b(e,"owner","name"),l=b(e,"owner","avatar_url"),c=y(e,"content"),u="code"===(null==c||null===(t=c.format)||void 0===t?void 0:t.type)?c:void 0,d=null==u||null===(r=u.format)||void 0===r?void 0:r.language,p=k(v(e,"commit_or_branch")),m=k(y(e,"ref"));return{icons:n().oE([l||s]),headerAttributes:n().oE([i?{attribute:i}:a?{attribute:a}:void 0,s?{attribute:s}:o?{attribute:o}:void 0]),bodyAttribute:u,subheaderAttributes:n().oE([m?{attribute:m}:p?{attribute:p}:void 0,d?{attribute:{id:"language",name:"Language",type:"inline",values:[d]}}:void 0])}},inline:e=>{const t=v(e,"owner_and_repo"),r=v(e,"path")||v(e,"path"),o=y(e,"title")||y(e,"name"),a=b(e,"owner","name"),i=b(e,"owner","avatar_url");return{title:o?{attribute:o}:r?{attribute:r}:void 0,attributes:n().oE([i,a||t])}},hover:e=>{var t,r,o;const a=v(e,"owner_and_repo"),s=y(e,"content"),l="code"===(null==s||null===(t=s.format)||void 0===t?void 0:t.type)?s:void 0,c=v(e,"path")||v(e,"path"),u=y(e,"title")||y(e,"name"),d=b(e,"owner","name"),p=k(v(e,"commit_or_branch")),m=k(y(e,"ref"));return{headerAttributes:n().oE([a?{attribute:a}:d?{attribute:d}:void 0,m?{attribute:m}:p?{attribute:p}:void 0]),title:u?{attribute:u}:c?{attribute:c}:void 0,dictionaryAttributes:n().oE([a?{key:{formatter:i.owner},value:{attribute:a}}:void 0,m?{key:{formatter:i.githubRef},value:{attribute:m}}:void 0,null!=l&&null!==(r=l.format)&&void 0!==r&&r.language?{key:{formatter:i.codeLanguage},value:{attribute:{id:"language",name:"Language",type:"inline",values:[null===(o=l.format)||void 0===o?void 0:o.language]}}}:void 0])}}},github_pulls:{block:e=>{const t=v(e,"owner"),r=v(e,"repo"),o=y(e,"owner"),a=y(e,"repo");return{headerAttributes:n().oE([a?{attribute:a}:r?{attribute:r,formatter:i.githubPullRequests}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:i.githubPullRequests}:void 0}}},github_issues:{block:e=>{const t=v(e,"owner"),r=v(e,"repo"),o=y(e,"owner"),a=y(e,"repo");return{headerAttributes:n().oE([a?{attribute:a}:r?{attribute:r,formatter:i.githubIssues}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:i.githubIssues}:void 0}}},jira_issue:{block:e=>{const t=v(e,"title"),r=v(e,"site"),o=y(e,"title"),a=y(e,"key"),s=y(e,"status"),l=b(e,"type","icon"),c=y(e,"updated"),u=b(e,"assignee","title")||b(e,"assignee","name"),d=b(e,"assignee","avatar_url");return{icons:n().oE([d||u]),headerAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0,s?{attribute:s}:void 0]),subheaderIcon:l,subheaderAttributes:a||u||c?n().oE([a?{attribute:a}:void 0,u?{attribute:u,formatter:i.jiraAssignee}:void 0,c?{attribute:c,formatter:i.jiraUpdated}:void 0]):n().oE([r?{attribute:r}:void 0])}},inline:e=>{const t=v(e,"title"),r=y(e,"title"),o=y(e,"key"),i=b(e,"assignee","avatar_url"),s=b(e,"type","icon")||y(e,"icon"),l=y(e,"status");return{icon:s&&(0,a().nN)(s)?s:void 0,identifier:o,title:r?{attribute:r}:t?{attribute:t}:void 0,attributes:n().oE([l,i])}},hover:e=>{const t=v(e,"title"),r=y(e,"title"),o=y(e,"key"),a=y(e,"status"),s=y(e,"type"),l=y(e,"updated"),c=y(e,"assignee");return{title:r?{attribute:r}:t?{attribute:t}:void 0,dictionaryAttributes:n().oE([s?{key:{formatter:i.type},value:{attribute:s}}:void 0,o?{key:{formatter:i.project},value:{attribute:o}}:void 0,a?{key:{formatter:i.status},value:{attribute:a}}:void 0,c?{key:{formatter:i.assigned},value:{attribute:c}}:void 0,l?{key:{formatter:i.updated},value:{attribute:l}}:void 0])}}},jira_project:{block:e=>{const t=v(e,"site"),r=v(e,"title"),o=y(e,"site"),a=y(e,"title");return{headerAttributes:n().oE([a?{attribute:a}:r?{attribute:r}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"title"),r=y(e,"title");return{title:r?{attribute:r}:t?{attribute:t}:void 0}}},slack_message:{block:e=>{const t=v(e,"workspace"),r=v(e,"threadTimestamp"),o=Boolean(r&&(0,a().cz)(r)&&r.values[0]),s=y(e,"reply_count"),l=s&&(0,a().gh)(s)&&s.values[0]||0,c=b(e,"parent_thread","reply_count"),u=c&&(0,a().gh)(c)&&c.values[0]||0,d=l>0||u>0,p=o||d,m=b(e,"user","title")||b(e,"user","name"),f=b(e,"user","avatar_url"),g=y(e,"title")||y(e,"text"),_=b(e,"channel","title")||b(e,"channel","name"),I=y(e,"sent_at"),k=h(e,"reply_users").map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),x=A("slack");return{icons:n().oE([f||m||g&&x,...k]),headerAttributes:n().oE([m?{attribute:m}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:p?i.slackThread:i.slackMessage},I?{attribute:I}:void 0]),bodyAttribute:g&&((0,a().cz)(g)||(0,a().xp)(g))?g:void 0,subheaderAttributes:n().oE([d?s?{attribute:s,formatter:i.slackReplyCount}:c?{attribute:c,formatter:i.slackReplyCount}:void 0:void 0,_?{attribute:_}:t?{attribute:t}:void 0,,])}},inline:e=>{const t=e.integrationIcon?{id:"slack_icon",name:"Slack Icon",type:"embed",mimeType:"image/*",values:[e.integrationIcon]}:void 0,r=b(e,"user","title")||b(e,"user","name"),o=b(e,"user","avatar_url"),s=y(e,"title")||y(e,"text"),l=b(e,"channel","title")||b(e,"channel","name"),c=o&&(0,a().nN)(o)?o:s?A("slack"):void 0;return{icon:c,identifier:r||void 0,title:s?{attribute:s}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.slackMessage},attributes:n().oE([c?t:void 0,l])}},hover:e=>{const t=v(e,"workspace"),r=y(e,"reply_count"),o=r&&(0,a().gh)(r)&&r.values[0]?r:void 0,s=b(e,"parent_thread","reply_count"),l=s&&(0,a().gh)(s)&&s.values[0]?s:void 0,c=o??l,u=y(e,"user"),d=b(e,"user","avatar_url"),p=b(e,"user","title")||b(e,"user","name"),m=Boolean(b(e,"user","title")||b(e,"user","name")),f=y(e,"title")||y(e,"text"),g=b(e,"channel","title")||b(e,"channel","name"),_=y(e,"sent_at"),I=h(e,"reply_users").map((e=>{const t=e.find((({id:e})=>"avatar_url"===e)),r=e.find((({id:e})=>"title"===e||"name"===e));return t||r})),k=A("slack");return{icons:n().oE([d||p||f&&k,...I]),headerAttributes:n().oE([g?{attribute:g}:t?{attribute:t}:void 0,_?{attribute:_}:void 0]),bodyAttribute:f&&((0,a().cz)(f)||(0,a().xp)(f))?f:void 0,dictionaryAttributes:n().oE([u&&m?{key:{formatter:i.author},value:{attribute:u}}:void 0,c?{key:{formatter:i.slackReplyCount},value:{attribute:c}}:void 0])}}},zoom_meeting:{block:e=>{const t=v(e,"meetingId"),r=b(e,"host","title")||b(e,"host","name"),o=b(e,"host","avatar_url"),a=y(e,"title"),s=y(e,"status"),l=y(e,"meeting_id"),c=y(e,"passcode");return{icons:n().oE([o||r]),headerAttributes:n().oE([a?{attribute:a}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.zoomMeeting},s?{attribute:s}:void 0]),subheaderAttributes:n().oE([l?{attribute:l}:t?{attribute:t}:void 0,c?{attribute:c,formatter:i.zoomPasscode}:void 0])}},inline:e=>{const t=v(e,"meetingId"),r=y(e,"title"),o=y(e,"meeting_id");return{title:r?{attribute:r}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.zoomMeeting},attributes:n().oE([o||t])}},hover:e=>{const t=v(e,"meetingId"),r=b(e,"host","title")||b(e,"host","name"),o=b(e,"host","avatar_url"),a=y(e,"title"),s=y(e,"status"),l=y(e,"meeting_id"),c=y(e,"passcode"),u=l??t;return{title:a?{attribute:a}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.zoomMeeting},dictionaryAttributes:n().oE([u?{key:{formatter:i.meetingId},value:{attribute:u}}:void 0,c?{key:{formatter:i.passcode},value:{attribute:c}}:void 0,s?{key:{formatter:i.status},value:{attribute:s}}:void 0,r?{key:{formatter:i.host},value:{icon:o,attribute:r}}:void 0])}}},asana_task:{block:e=>{const t=b(e,"assignee","title")||b(e,"assignee","name"),r=b(e,"assignee","avatar_url"),o=y(e,"title"),a=_(e,["updated_at","updated"]),s=_(e,["due_at","duedate"]),l=b(e,"project","color"),c=b(e,"project","title")||b(e,"project","project_name"),u=b(e,"section","title")||b(e,"section","name"),d=y(e,"completed");return{icons:n().oE([r||t]),headerAttributes:n().oE([o?{attribute:o}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.asanaPreviewEntity},d?{attribute:d}:u?{attribute:u}:void 0,s?{attribute:s,formatter:i.asanaDueAt}:void 0]),subheaderIcon:l,subheaderAttributes:n().oE([c?{attribute:c}:void 0,t?{attribute:t,formatter:i.asanaAssignedTo}:void 0,a?{attribute:a,formatter:i.asanaUpdatedAt}:void 0])}},inline:e=>{const t=y(e,"title"),r=b(e,"section","title")||b(e,"section","name"),o=b(e,"assignee","avatar_url"),a=y(e,"completed");return{title:t?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.asanaPreviewEntity},attributes:n().oE([a||r,o])}},hover:e=>{const t=y(e,"assignee"),r=y(e,"title"),o=_(e,["updated_at","updated"]),a=_(e,["due_at","duedate"]),s=b(e,"project","title")||b(e,"project","project_name"),l=b(e,"section","title")||b(e,"section","name"),c=y(e,"completed");return{title:r?{attribute:r}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.asanaPreviewEntity},headerAttributes:s?[{attribute:s}]:void 0,dictionaryAttributes:n().oE([t?{key:{formatter:i.assigned},value:{attribute:t}}:void 0,c?{key:{formatter:i.status},value:{attribute:c}}:void 0,l?{key:{formatter:i.section},value:{attribute:l}}:void 0,a?{key:{formatter:i.due},value:{attribute:a}}:void 0,o?{key:{formatter:i.updated},value:{attribute:o}}:void 0])}}},asana_project:{block:e=>({headerAttributes:n().oE([{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.asanaPreviewEntity}])}),inline:e=>({title:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.asanaPreviewEntity}})},trello_card:{block:e=>{const{boardName:t,dueAt:r,listName:o,memberIcons:a,memberNames:s,title:l,updatedAt:u}=c(e);return{icons:n().oE(a),headerAttributes:n().oE([l,r?{attribute:r,formatter:i.trelloDueAt}:void 0,o?{attribute:o}:void 0]),subheaderAttributes:n().oE([t?{attribute:t}:void 0,s[0]?{attribute:s[0],formatter:i.trelloAssignedTo}:void 0,u?{attribute:u,formatter:i.trelloUpdatedAt}:void 0])}},inline:e=>{const t=v(e,"key"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,o=r?r.split("-").slice(1).map(((e,t)=>0===t?`${e[0].toUpperCase()}${e.substring(1)}`:e)).join(" "):void 0,s=b(e,"members","avatar_url"),l=b(e,"list","title")||b(e,"list","name"),c=y(e,"title");return{title:c?{attribute:c}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:t&&t.values[0]?{attribute:t}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.trelloCard},attributes:n().oE([l,s])}},hover:e=>{const{boardName:t,dueAt:r,listName:o,memberIcons:a,memberNames:s,title:l,updatedAt:u}=c(e);return{title:l,headerAttributes:t?[{attribute:t}]:[],dictionaryAttributes:n().oE([s[0]?{key:{formatter:i.assigned},value:{attribute:s[0],icon:n().$1(a)}}:void 0,r?{key:{formatter:i.due},value:{attribute:r}}:void 0,o?{key:{formatter:i.list},value:{attribute:o}}:void 0,u?{key:{formatter:i.updated},value:{attribute:u}}:void 0])}}},trello_board:{block:e=>{const t=v(e,"key"),r=y(e,"boardId");return{headerAttributes:n().oE([r?{attribute:r}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"key"),r=y(e,"key");return{title:r?{attribute:r}:t?{attribute:t}:void 0}}},figma_file:{block:e=>{const{title:t,lastModifiedAt:r,lastModifiedByAvatar:o,lastModifiedByName:s,parsedSite:l,previewImageAttribute:c}=u(e);return{icons:n().oE([o]),headerAttributes:[t],subheaderAttributes:n().oE([s?{attribute:s,formatter:i.figmaLastModifiedBy}:l?{attribute:l}:void 0,r?{attribute:r}:void 0]),previewAttributes:n().oE([c&&(0,a().MS)(c)?c:void 0])}},inline:e=>{var t;const r=v(e,"title"),o=r&&(0,a().cz)(r)?r.values[0]:void 0,s=o?null===(t=x(o))||void 0===t?void 0:t.split("-").join(" ").replace(/   /g," - "):void 0,l=y(e,"title")||y(e,"name"),c=b(e,"user","avatar_url"),u=y(e,"updated_at"),d=v(e,"site");return{title:l?{attribute:l}:s?{attribute:{id:"title",name:"Title",type:"inline",values:[s]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.figmaFile},attributes:n().oE([c,u??d])}},hover:e=>{const{title:t,lastModifiedAt:r,lastModifiedByAvatar:o,lastModifiedByName:s,previewImageAttribute:l}=u(e);return{title:t,dictionaryAttributes:n().oE([s?{key:{formatter:i.lastModifiedBy},value:{attribute:s,icon:o}}:void 0,r?{key:{formatter:i.lastModifiedAt},value:{attribute:r}}:void 0]),previewImageAttribute:l&&(0,a().nN)(l)?l:void 0}}},dropbox_file:{block:e=>{const{title:t,previewImageAttribute:r,fileSizeAttribute:o}=d(e);return{headerAttributes:[t],subheaderAttributes:n().oE([o?{attribute:o}:void 0]),previewAttributes:n().oE([r&&(0,a().MS)(r)?r:void 0])}},inline:e=>{const t=v(e,"title"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,o=r?x(r):void 0,s=y(e,"title"),l=y(e,"file_size");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.dropboxFile},attributes:n().oE([l])}},hover:e=>{const{title:t,previewImageAttribute:r,fileSizeAttribute:n}=d(e);return{title:t,headerAttributes:n?[{attribute:n}]:[],previewImageAttribute:r&&(0,a().nN)(r)?r:void 0}}},onedrive_file:{block:e=>{const{title:t,fileSizeAttribute:r,previewImageAttribute:o}=p(e);return{headerAttributes:[t],subheaderAttributes:n().oE([r?{attribute:r}:void 0]),previewAttributes:n().oE([o&&(0,a().MS)(o)?o:void 0])}},inline:e=>{const t=v(e,"title"),r=t&&(0,a().cz)(t)?t.values[0]:void 0,o=r?x(r):void 0,s=y(e,"title"),l=y(e,"file_size");return{title:s?{attribute:s}:o?{attribute:{id:"title",name:"Title",type:"inline",values:[o]}}:{attribute:{id:"title",name:"Title",type:"inline",values:[""]},formatter:i.dropboxFile},attributes:n().oE([l])}},hover:e=>{const{title:t,fileSizeAttribute:r,previewImageAttribute:n}=p(e);return{title:t,headerAttributes:r?[{attribute:r}]:[],previewImageAttribute:n&&(0,a().nN)(n)?n:void 0}}},gitlab_issues:{block:e=>{const t=v(e,"owner"),r=v(e,"repo"),o=y(e,"owner"),a=y(e,"repo");return{headerAttributes:n().oE([a?{attribute:a}:r?{attribute:r,formatter:i.gitlabIssues}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:i.gitlabIssues}:void 0}}},gitlab_merges:{block:e=>{const t=v(e,"owner"),r=v(e,"repo"),o=y(e,"owner"),a=y(e,"repo");return{headerAttributes:n().oE([a?{attribute:a}:r?{attribute:r,formatter:i.gitlabMerges}:void 0]),subheaderAttributes:n().oE([o?{attribute:o}:t?{attribute:t}:void 0])}},inline:e=>{const t=v(e,"repo"),r=y(e,"repo");return{title:r?{attribute:r}:t?{attribute:t,formatter:i.gitlabMerges}:void 0}}},google_drive_file:{block:e=>{const{icons:t,title:r,primaries:o,body:l,entityIcon:c,identifier:u,secondaries:d,embeds:p}=s(e);let m;var f;r&&(m={attribute:r},428===(null===(f=e.root)||void 0===f||null===(f=f.error)||void 0===f?void 0:f.status_code)&&(m={...m,formatter:i.googleDrivePreview}));return{icons:t,headerAttributes:n().oE([m,...o.map((e=>({attribute:e})))]),bodyAttribute:l&&(0,a().cz)(l)?l:void 0,subheaderIcon:c,subheaderAttributes:n().oE([u?{attribute:u}:void 0,...d.map((e=>({attribute:e})))]),previewAttributes:p.filter(a().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:a,entityIcon:l}=s(e);let c;var u;r&&(c={attribute:r},428===(null===(u=e.root)||void 0===u||null===(u=u.error)||void 0===u?void 0:u.status_code)&&(c={...c,formatter:i.selectFileToPreview}));return{icon:l,identifier:a,title:c,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:u}=s(e),d=null==c?void 0:c[0],p=[u,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:i.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:i.updated},value:{attribute:e}}:{key:{formatter:i.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:d&&(0,a().nN)(d)?d:void 0}}},google_docs:{block:e=>{const{icons:t,title:r,primaries:o,body:l,entityIcon:c,identifier:u,secondaries:d,embeds:p}=s(e);let m;var f;r&&(m={attribute:r},428===(null===(f=e.root)||void 0===f||null===(f=f.error)||void 0===f?void 0:f.status_code)&&(m={...m,formatter:i.googleDrivePreview}));return{icons:t,headerAttributes:n().oE([m,...o.map((e=>({attribute:e})))]),bodyAttribute:l&&(0,a().cz)(l)?l:void 0,subheaderIcon:c,subheaderAttributes:n().oE([u?{attribute:u}:void 0,...d.map((e=>({attribute:e})))]),previewAttributes:p.filter(a().MS)}},inline:e=>{const{icons:t,title:r,primaries:o,identifier:a,entityIcon:l}=s(e);let c;var u;r&&(c={attribute:r},428===(null===(u=e.root)||void 0===u||null===(u=u.error)||void 0===u?void 0:u.status_code)&&(c={...c,formatter:i.selectFileToPreview}));return{icon:l,identifier:a,title:c,attributes:n().oE([...o.slice(0,2),t[0]])}},hover:e=>{const{title:t,secondaries:r,primaries:l,embeds:c,identifier:u}=s(e),d=null==c?void 0:c[0],p=[u,...l,...r].filter(o().O9).map((e=>{const{id:t}=e;return"created_at"===t?{key:{formatter:i.created},value:{attribute:e}}:"updated_at"===t?{key:{formatter:i.updated},value:{attribute:e}}:{key:{formatter:i.dynamicLabelForHover},value:{attribute:e}}}));return{title:t?{attribute:t}:void 0,dictionaryAttributes:n().oE(p),previewImageAttribute:d&&(0,a().nN)(d)?d:void 0}}}};function g(e){return(e?f[e]:void 0)??l}function y(e,t){const{root:r}=e;return(r.attributes||[]).find((({id:e})=>e===t))}function _(e,t){const{root:r}=e,n=r.attributes||[];for(let o=0;o<t.length;o++){const e=n.find((({id:e})=>e===t[o]));if(e)return e}}function v(e,t){const{parsedAttributes:r}=e;return r.find((({id:e})=>e===t))}function b(e,t,r){var n;const{root:o,relations:a}=e,i=(o.attributes||[]).find((({id:e})=>e===t)),s=i&&"relation"===i.type?i.values[0]:void 0,l=a.find((e=>e.uri===s));return null==l||null===(n=l.attributes)||void 0===n?void 0:n.find((({id:e})=>e===r))}function h(e,t){const{root:r,relations:n}=e,i=(r.attributes||[]).find((({id:e})=>e===t)),s=new Set(i&&(0,a().fk)(i)&&i.values||[]);return n.filter((e=>s.has(e.uri))).map((e=>e.attributes)).filter(o().O9)}function A(e){return{id:`${e}-person-placeholder`,name:"Person Placeholder",type:"embed",mimeType:"image/*",values:["images/external_integrations/person_placeholder.png"]}}function I(e){const{rootAttribute:t,subAttribute:r,section:n}=e;if(!r)return;const i=`${t.id}_${r.id}`;if((0,a().cz)(r)){if((0,a().D)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().gh)(r)){if((0,a().xT)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().TJ)(r)){if((0,a().GL)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().YX)(r)){if((0,a().pL)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().RD)(r)){if((0,a().q0)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().nN)(r)){if((0,a().t6)(n))return{...r,id:i,name:t.name,format:{section:n}}}else if((0,a().MS)(r)){if((0,a().Nm)(n))return{...r,id:i,name:t.name,format:{section:n}}}else(0,a().fk)(r)||(0,a().E4)(r)||(0,a().Q7)(r)||(0,a().xp)(r)||(0,o().HB)(r)}function k(e){if(e&&(0,a().cz)(e)&&e.values[0].length>=40){const t=e.values[0].substring(0,7);return{...e,values:[t]}}return e}function x(e){try{return decodeURIComponent(e)}catch(t){return}}},564766:(e,t,r)=>{r.d(t,{$W:()=>l,Hw:()=>a,J4:()=>i,vU:()=>s,zW:()=>o});var n=()=>r(427704);function o(e,t){return`${a(t)}/${e}`}function a(e){return`${e}${n().JZ.samlAuth}`}function i(e){const{samlConfigStatus:t,emailDomains:r,idp_metadata:n,idp_metadata_url:o}=e;return("configured"===t||"enforced"===t||"enforced_for_domain"===t)&&void 0!==r&&r.length>0&&Boolean(n||o)}function s(e){return 0===e.length?{type:"invalid",reason:"empty"}:{type:"valid"}}function l(e){return 0===e.length?{type:"invalid",reason:"empty"}:e.includes('WantAuthnRequestsSigned="true"')?{type:"invalid",reason:"signed_request"}:{type:"valid"}}},568063:(e,t,r)=>{r.d(t,{$J:()=>S,I:()=>b,Pm:()=>h,U$:()=>C,cl:()=>w,dk:()=>T,eY:()=>x,fS:()=>B,tf:()=>A,yH:()=>k});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(534177),a=()=>r(952882),i=()=>r(363170),s=()=>r(67657),l=()=>r(9559),c=()=>r(898244),u=()=>r(713998),d=()=>r(632905),p=()=>r(869190),m=()=>r(604995),f=()=>r(236162),g=()=>r(402390),y=()=>r(792071),_=()=>r(936802),v=()=>r(571595);function b(e){const{property:t,schema:r,block:c,getRecordModel:d,collectionRequestContext:f,formulasModule:_,spaceIdCreator:b}=e,{userTimeZone:A,depth:I,intl:k}=f,S=x({property:t,schema:r,getRecordModel:d,spaceIdCreator:b,block:c});if(!S)return;const{propertySchema:T}=S;if("person"===S.rollupType){const{personPropertySchema:e,targetProperty:t,targetCollectionSchema:r}=S,o=y().Bj6.fromBlock(c),s=(0,i().e)({textValue:o.getProperty(T.person_property),propertySchema:e,blockCreatorPointer:o.getCreatedByPointer()}),u=n().oE(s.map((e=>{if("space_permission_group"===e.table)return;const n=d(e);if(n&&"notion_user"===n.table)if(w(t)){if(t===a().zi)return n.getEmail();if(t===a().Ym){return n.getFullName(k)??n.getEmail()}}else if(r&&b&&c.getSpaceId()){const e=c.getSpaceId(),o=(0,v().rf)({spaceIdCreator:b,userId:n.id}),a=d({id:o,table:"block",spaceId:e});if(a&&"block"===a.table)return(0,l().W)({property:t,schema:r,block:a,getRecordModel:d,collectionRequestContext:{...f,depth:I+1,visitedProperties:new Set},formulasModule:_,spaceIdCreator:b})}})));return"show_unique"===T.aggregation?Array.from(new Set(u)).join(","):u.join(",")}if("relation"===S.rollupType){const{relationPropertySchema:e,targetCollectionSchema:a,targetProperty:i}=S;if(!T.relation_property||!T.target_property)return;if(!T.aggregation||"show_unique"===T.aggregation){const t=y().Bj6.fromBlock(c).getProperties(),r=u().bG({relationValue:u().n(t[T.relation_property]),propertySchema:e,getRecordModel:d,includeNoAccess:!1}),o=new Set;return n().oE(r.map((e=>{const t=d(e);if(T.target_property&&t){const e=(0,l().W)({property:i,schema:a,block:t,getRecordModel:d,collectionRequestContext:{...f,depth:I+1,visitedProperties:new Set},formulasModule:_,spaceIdCreator:b});if("show_unique"===T.aggregation&&void 0!==e){if(o.has(e))return;o.add(e)}return e}}))).join(",")}{const e=h({property:t,schema:r,block:c,getRecordModel:d,collectionRequestContext:f,formulasModule:_,spaceIdCreator:b});if(void 0===e)return;if("text"===e.type)return e.value;if("number"===e.type){if(void 0===e.value||null===e.value)return;return e.value.toString()}if("date"===e.type){if(!e.value)return;if(!(0,s().Y)(T.aggregation))return;if("earliest_date"===T.aggregation||"latest_date"===T.aggregation)return(0,p().W_)(m().ln(e.value,A),"medium",(0,g().H)(k));if("date_range"===T.aggregation)return(0,p().a3)(e.value,A,k);(0,o().HB)(T.aggregation)}(0,o().HB)(e)}}}function h(e){const{schema:t,property:r,block:n,getRecordModel:o,collectionRequestContext:a,formula2Error:l,formulasModule:c,spaceIdCreator:p}=e,m=I({resultCache:a.resultCache,blockId:n.id,property:r});if(void 0!==m)return m;const g=x({property:r,schema:t,getRecordModel:o,spaceIdCreator:p,block:n});if(!g)return;const{propertySchema:y}=g;if(y.aggregation&&y.target_property)if("person"!==g.rollupType){if("relation"===g.rollupType){const{relationPropertySchema:e,targetCollectionSchema:t,targetProperty:i}=g;if(!y.relation_property)return;const m=u().bG({relationValue:u().n(u().yQ(n,y.relation_property)),getRecordModel:o,propertySchema:e,includeNoAccess:!1}),_=function(e){const{relationPointers:t,initialState:r,getRecordModel:n,targetPropertyId:o,targetCollectionSchema:a,collectionRequestContext:i,formula2Error:l,formulasModule:c,spaceIdCreator:u}=e,d={...r};for(const p of t){const e=n(p);if(e&&(0,f().zN)({getRecordModel:n,block:e})){const t={property:o,aggregator:d.type};(0,s().KW)({aggregation:t,state:d,schema:a,block:e,getRecordModel:n,propertyMapping:void 0,collectionRequestContext:i,formula2Error:l,formulasModule:c,spaceIdCreator:u})}}return d}({initialState:(0,s().J7)(y.aggregation),relationPointers:m,getRecordModel:o,targetPropertyId:i,targetCollectionSchema:t,collectionRequestContext:a,formula2Error:l,formulasModule:c,spaceIdCreator:p}),v=(0,s().ek)(_);return function({resultCache:e,blockId:t,property:r,value:n}){const o=e.get(t)??new Map;o.set(`${r}:${d().A.CollectionAggregationResult}`,n),e.set(t,o)}({resultCache:a.resultCache,blockId:n.id,property:r,value:v}),v}}else{const e=u().yQ(n,y.person_property),t=(0,i().e)({textValue:e,propertySchema:g.personPropertySchema,blockCreatorPointer:n.getCreatedByPointer()});if(0===t.length)return;if("count"===y.aggregation)return{type:"number",value:t.length};if(!w(g.targetProperty)&&p&&n.getSpaceId()&&g.targetCollectionSchema){const e=(0,s().J7)(y.aggregation),r=[];for(const n of t){const e=o(n);if("notion_user"===(null==e?void 0:e.table)){const t=(0,v().ZH)({spaceIdCreator:p,userId:e.id});if(t){const e=o(t);e&&"block"===e.table&&r.push(e)}}}for(const t of r)(0,s().KW)({aggregation:{aggregator:y.aggregation,property:g.targetProperty},state:e,schema:g.targetCollectionSchema,block:t,getRecordModel:o,collectionRequestContext:a,formulasModule:c,propertyMapping:void 0,spaceIdCreator:p});return(0,s().ek)(e)}}}function A({remoteResultCache:e,blockId:t,property:r}){if(!(0,o().O9)(e))return;return I({resultCache:e,blockId:t,property:r})}function I({resultCache:e,blockId:t,property:r}){var n;return null===(n=e.get(t))||void 0===n?void 0:n.get(`${r}:${d().A.CollectionAggregationResult}`)}function k(e){const{schema:t,property:r,block:n,getRecordModel:o,spaceIdCreator:a}=e,s=x({property:r,schema:t,getRecordModel:o,spaceIdCreator:a,block:n});if(!s)return[];if("person"===s.rollupType){const{propertySchema:e,personPropertySchema:t}=s;if(!e.person_property||w(s.targetProperty))return[];const r=n.getSpaceId();if(!r||!a||!s.targetCollectionModel)return[];const l=(0,i().e)({textValue:u().yQ(n,e.person_property),propertySchema:t,blockCreatorPointer:n.getCreatedByPointer()}),c=[];for(const n of l){const e=o(n);if(e&&"notion_user"===e.table){const t=o({id:(0,v().rf)({spaceIdCreator:a,userId:e.id}),table:"block",spaceId:r});t&&"block"===t.table&&c.push(t)}}return c}if("relation"===s.rollupType){const{propertySchema:e,relationPropertySchema:t}=s;if(!e.relation_property||!e.target_property)return[];const r=u().bG({relationValue:u().n(u().yQ(n,e.relation_property)),getRecordModel:o,propertySchema:t,includeNoAccess:!1}),a=[];for(const n of r){const e=o(n);e&&a.push(e)}return a}return[]}function x(e){const{schema:t,property:r,preLoadedTargetCollectionModel:n,getRecordModel:a,block:i,spaceIdCreator:s}=e,l=B({schema:t,property:r});if(!l.isValid)return;const{rollupPropertySchema:u}=l;if("person_system"===l.type){if(!(0,o().Xk)(S,u.target_property))return;return{rollupType:"person",propertySchema:u,targetProperty:u.target_property,personPropertySchema:l.personPropertySchema,targetPropertySchema:T(u.target_property)}}if("people_collection"===l.type){if(!s||!i)return;const e=a((0,_().ig)({spaceIdCreator:s}));if(!e)return;const t=e.getNormalizedSchema(),r=u.target_property,n=t[r];if(!n)return;if(void 0!==u.target_property_type&&u.target_property_type!==n.type)return;return{rollupType:"person",propertySchema:u,targetProperty:r,personPropertySchema:l.personPropertySchema,targetPropertySchema:n,targetCollectionModel:e,targetCollectionSchema:t}}if("relation"===l.type){const{relationPropertySchema:e}=l,t=n??a((0,c().Nv)(e));if(!t||!u.target_property)return;const r=t.getNormalizedSchema(),o=t.getMappedProperty(u.target_property),i=r[o];if(!i||u.target_property_type!==i.type)return;return{rollupType:"relation",propertySchema:u,targetProperty:o,relationPropertySchema:e,targetCollectionModel:t,targetCollectionSchema:r,targetPropertySchema:i}}}const S=[a().Ym,a().zi];function T(e,t){switch(e){case a().Ym:return{type:"text",name:(null==t?void 0:t.formatMessage(M[a().Ym]))??M[a().Ym].defaultMessage};case a().zi:return{type:"email",name:(null==t?void 0:t.formatMessage(M[a().zi]))??M[a().zi].defaultMessage}}}const M=(0,r(69708).YK)({[a().Ym]:{id:"rollup.person.name",defaultMessage:"Name"},[a().zi]:{id:"rollup.person.email",defaultMessage:"Email"}});function w(e){return!!(0,o().Xk)(S,e)}function B(e){const{schema:t,property:r}=e,n=t[r];if(!n||"rollup"!==n.type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};if("person"===n.rollup_type){if(!n.person_property||!n.target_property||!n.target_property_type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};const e=t[n.person_property];if(!e||"person"!==e.type)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};if(w(n.target_property)){const t=T(n.target_property);return n.target_property_type!==t.type?{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0}:{isValid:!0,type:"person_system",rollupPropertySchema:n,personPropertySchema:e}}return{isValid:!0,type:"people_collection",rollupPropertySchema:n,personPropertySchema:e}}if(!n.relation_property||!n.target_property_type||!n.target_property)return{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0};const o=t[n.relation_property];return o&&"relation"===o.type&&(0,c().zO)(o)?{isValid:!0,type:"relation",rollupPropertySchema:n,relationPropertySchema:o}:{isValid:!1,type:void 0,rollupPropertySchema:void 0,relationPropertySchema:void 0,personPropertySchema:void 0}}function C(e){return Object.fromEntries((0,o().WP)(e).filter((([e])=>"title"!==e&&e!==(0,_().OA)("person")&&e!==(0,_().OA)("email"))))}},571595:(e,t,r)=>{r.d(t,{MN:()=>l,ZH:()=>c,m$:()=>d,qI:()=>u,rf:()=>s,sD:()=>i});var n=()=>r(534177),o=()=>r(488715),a=()=>r(179034);(0,r(69708).YK)({defaultName:{id:"people.toPersonProfileName.default",defaultMessage:"Anonymous"}});const i=20;function s(e){const{spaceIdCreator:t,userId:r}=e;return t.deterministicIdInSavedSpace(a().ev,`person-profile-${r}`)}function l(e){const{userId:t,spaceIdCreator:r,getRecordModel:n,pageVisitSource:a}=e,i=n(c({userId:t,spaceIdCreator:r}));if(i)return(0,o().Q)({model:i,getRecordModel:n,pageVisitSource:a})}function c(e){const{spaceIdCreator:t,userId:r}=e;return{id:s({spaceIdCreator:t,userId:r}),table:a().ev,spaceId:t.getSpaceId()}}function u(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":case"restricted_member":return!0;case"page_guest":case"none":return!1;default:(0,n().HB)(e)}}function d(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":return!0;case"restricted_member":case"page_guest":case"none":return!1;default:(0,n().HB)(e)}}},581325:(e,t,r)=>{r.d(t,{Ay:()=>a,pE:()=>o});var n=()=>r(292588);const o="marketplace_creator_stripe_balance_log",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,type:n().A.String,seller_id:n().A.UUID,foreign_table:n().A.String,foreign_id:n().A.String,amount:n().A.Number,currency:n().A.String,available_at:n().A.Number,archived:n().A.Boolean,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,created_at:!0,updated_at:!0,type:!0,seller_id:!0,amount:!0,currency:!0,available_at:!0,archived:!0},model:(0,r(152853).P)({RecordStore:!1})}},581793:(e,t,r)=>{r.d(t,{h:()=>s});r(581454);var n=()=>r(681873),o=()=>r(437607),a=()=>r(798880),i=()=>r(201980);function s(e){const t=e.map((e=>e.table===o().n?i().wmz(i().dWL(e.id,e.spaceId)):e.table===a().oo?i().wmz(i().P4h(e.id)):i().wmz(i().Vb6(e.id))));return(0,n().G)(t,(()=>i().Ey_(",")))}},583622:(e,t,r)=>{r.d(t,{A:()=>a,m:()=>o});var n=()=>r(292588);const o="drive_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,notion_user_id:n().A.UUID,google_user_id:n().A.String,email:n().A.String,access_token:n().A.String,refresh_token:n().A.String,expires_at:n().A.Number}}},583835:(e,t,r)=>{r.d(t,{Dv:()=>n});Symbol("eventName");function n(e){return e}},583839:(e,t,r)=>{r.d(t,{Ay:()=>i,QH:()=>a,ZP:()=>o});var n=()=>r(292588);const o="sidebar_section_item",a={[r(395868).Cr]:!0};const i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,item_id:n().A.UUID,item_table:n().A.String,fractional_index:n().A.String,properties:n().A.JSON,alive:n().A.Boolean,created_at:n().A.Number},requiredColumns:{user_id:!0,space_id:!0,parent_id:!0,parent_table:!0,item_id:!0,item_table:!0,fractional_index:!0,alive:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},585639:(e,t,r)=>{r.d(t,{v:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"4.73 3.12 10.53 13.76",svg:(0,r(474848).jsx)("path",{d:"M4.78 3.524a.63.63 0 0 1 .583-.399h9.274a.625.625 0 1 1 0 1.25H6.976l5.663 5.163a.625.625 0 0 1 0 .924l-5.663 5.163h7.661a.625.625 0 1 1 0 1.25H5.363a.625.625 0 0 1-.421-1.087L11.29 10 4.942 4.212a.625.625 0 0 1-.162-.688"})},o=(0,r(340498).wt)("sum",n)},590178:(e,t,r)=>{r.d(t,{Ay:()=>a,oN:()=>o});var n=()=>r(292588);const o="subscription",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,provider:n().A.String,api_version:n().A.String,product:n().A.String,expires_at:n().A.Number,data:n().A.JSON,updated_at:n().A.Number,write_id:n().A.UUID},requiredColumns:{space_id:!0,provider:!0,data:!0,updated_at:!0}}},590779:(e,t,r)=>{r.d(t,{A:()=>a,p:()=>o});var n=()=>r(292588);const o="offer_status",a={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,user_id:n().A.UUID,physical_device_id:n().A.String,offer_code_id:n().A.UUID,type:n().A.String,start_date_ms:n().A.Number,end_date_ms:n().A.Number,entrypoint:n().A.String,offer:n().A.Blob,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,last_edited_time:n().A.Number},requiredColumns:{space_id:!0,user_id:!0,type:!0,start_date_ms:!0,entrypoint:!0,offer:!0,version:!0,created_time:!0,last_edited_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},591822:(e,t,r)=>{r.d(t,{A:()=>a,G:()=>o});var n=()=>r(292588);const o="server_integrations__slack_unique_local_user",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,slack_workspace_id:n().A.String,slack_local_user_id:n().A.String,slack_unique_global_user_id:n().A.UUID}}},597777:(e,t,r)=>{r.d(t,{$K:()=>oe,$P:()=>S,$R:()=>Q,Ar:()=>M,B4:()=>G,CE:()=>A,D1:()=>X,DG:()=>U,DH:()=>ce,ED:()=>V,GE:()=>W,HB:()=>le,L3:()=>w,Lh:()=>R,M5:()=>Z,Mb:()=>N,O:()=>re,Rz:()=>de,S2:()=>ae,S6:()=>Y,SA:()=>y,WA:()=>I,Wq:()=>J,ZD:()=>d,Zo:()=>z,_Z:()=>C,_g:()=>k,b7:()=>ne,c1:()=>H,cW:()=>u,dV:()=>j,dq:()=>ie,eU:()=>ue,ex:()=>F,fQ:()=>l,fc:()=>P,g7:()=>O,h1:()=>me,j1:()=>ee,jS:()=>B,jk:()=>b,kC:()=>$,l1:()=>pe,lM:()=>g,m6:()=>q,mO:()=>te,oM:()=>T,pp:()=>L,px:()=>h,qL:()=>se,tq:()=>K,vK:()=>_,vM:()=>f,vW:()=>D,vv:()=>E,vz:()=>v,wJ:()=>m,xz:()=>p});r(944114);var n=()=>r(906745),o=()=>r(69708),a=()=>r(615234),i=()=>r(534177),s=()=>r(416504);const l=Date.UTC(2020,4,27),c={date:!0,daterange:!0,datetime:!0,datetimerange:!0};function u(e){return e in c}new Date;const d=["hidden","12h","24h"],p=(0,o().YK)({ll:{defaultMessage:"Full date",id:"dateHelpers.dateFormat.fullDate"},"MMM d":{defaultMessage:"Short date",id:"dateHelpers.dateFormat.shortDate"},"MMM DD, YYYY":{defaultMessage:"Month Day, Year",id:"dateHelpers.dateFormat.explicitMonthDayYear"},"MM/DD/YYYY":{defaultMessage:"Month/Day/Year",id:"dateHelpers.dateFormat.monthDayYear"},"DD/MM/YYYY":{defaultMessage:"Day/Month/Year",id:"dateHelpers.dateFormat.dayMonthYear"},"YYYY/MM/DD":{defaultMessage:"Year/Month/Day",id:"dateHelpers.dateFormat.yearMonthDay"},relative:{defaultMessage:"Relative",id:"dateHelpers.dateFormat.relative"}}),m=["ll","MMM d","MM/DD/YYYY","DD/MM/YYYY","YYYY/MM/DD","relative"],f="09:00",g="09:00",y=[{unit:"none"},{unit:"minute",value:0},{unit:"minute",value:5},{unit:"minute",value:10},{unit:"minute",value:15},{unit:"minute",value:30},{unit:"hour",value:1},{unit:"hour",value:2},{unit:"day",value:1,time:g,defaultTimeZone:(0,s().P)()},{unit:"day",value:2,time:g,defaultTimeZone:(0,s().P)()}],_=[{unit:"none"},{unit:"day",value:0,time:g,defaultTimeZone:(0,s().P)()},{unit:"day",value:1,time:g,defaultTimeZone:(0,s().P)()},{unit:"day",value:2,time:g,defaultTimeZone:(0,s().P)()},{unit:"week",value:1,time:g,defaultTimeZone:(0,s().P)()}],v="ll",b=" ",h=(0,o().YK)({"12h":{defaultMessage:"12 hour",id:"dateHelpers.12hourTimeFormat"},"24h":{defaultMessage:"24 hour",id:"dateHelpers.24hourTimeFormat"},hidden:{defaultMessage:"Hidden",id:"dateHelpers.hiddenTimeFormat"}}),A="LT";function I(e){return"en-US"===e?"DD":"D"}const k="t",x={none:!1,year:!1,month:!1,week:!1,day:!1,hour:!0,minute:!0};function S(e){return"date"===e.type}function T(e){return Boolean("daterange"===e.type&&e.start_date&&e.end_date)}function M(e){return"datetime"===e.type}function w(e){return"datetimerange"===e.type}function B(e){return"daterange"===e.type}function C(e){return!!T(e)||!!w(e)}function P(e){return!x[e.unit]&&"none"!==e.unit}function N(e){return"none"===e.unit}function U(e){return void 0!==e&&!N(e)}function R(e){return U(e.reminder)?(e.reminder,!0):(e.reminder,!1)}function D(e,t){return P(e)?e:{unit:"day",value:0,time:g,defaultTimeZone:t}}function O(e){return Date.now()+e*a().nD}function F(e){return P(e)&&0===e.value?{unit:"minute",value:0}:e}function E(e){if(e&&("date"===e.type||"daterange"===e.type))return e.reminder}function V(e){if(e&&("datetime"===e.type||"datetimerange"===e.type))return e.reminder}function L(e){return"datetime"===e.type?{type:"date",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:e}function H(e){switch(e){case"DD/MM/YYYY":return"dd/MM/yyyy";case"MM/DD/YYYY":return"MM/dd/yyyy";case"YYYY/MM/DD":return"yyyy/MM/dd";case"MMM DD, YYYY":return"MMM dd, yyyy";case"MMM d":return"MMM d";default:return"DDD"}}function G(e){switch(e){case"h:mm A":return"h:mm a";case"H:mm":return"H:mm";case"A h:mm":return"a h:mm";case b:return b;default:return"t"}}function q(e,t,r,n){return Boolean(j(e,t,r)||n&&(j(r,n,e)||j(r,n,t)))}function j(e,t,r){return r>=e&&r<=t}function $(e){const t=e;return Boolean(t&&t.type&&t.start_date)}function z(e,t){return!(e.type!==t.type||e.start_date!==t.start_date||"start_time"in e&&"start_time"in t&&(null==e?void 0:e.start_time)!==(null==t?void 0:t.start_time)||"end_date"in e&&"end_date"in t&&(null==e?void 0:e.end_date)!==(null==t?void 0:t.end_date)||"end_time"in e&&"end_time"in t&&(null==e?void 0:e.end_time)!==(null==t?void 0:t.end_time)||"time_zone"in e&&"time_zone"in t&&(null==e?void 0:e.time_zone)!==(null==t?void 0:t.time_zone))}const W="HH:mm",Z="en",Q=/(.+) \((.+)\)/;function K(e){return{type:"date",start_date:e.start_date,reminder:e.reminder}}function J(e){return{type:"date",start_date:e.end_date,reminder:e.reminder}}function Y(e){return{type:"datetime",start_date:e.start_date,start_time:e.start_time,time_zone:e.time_zone,reminder:e.reminder}}function X(e){return{type:"datetime",start_date:e.end_date,start_time:e.end_time,time_zone:e.time_zone,reminder:e.reminder}}function ee(e){return"daterange"===e.type?K(e):"datetimerange"===e.type?Y(e):e}function te(e){return"daterange"===e.type?J(e):"datetimerange"===e.type?X(e):e}function re(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function ne(e){return"daterange"===e.type&&e.start_date===e.end_date?{type:"date",start_date:e.start_date,reminder:e.reminder}:"datetimerange"===e.type&&e.start_date===e.end_date&&e.start_time===e.end_time?{type:"datetime",start_date:e.start_date,start_time:e.start_time,reminder:e.reminder,time_zone:e.time_zone}:e}function oe(e){if("datetime"===e.type||"datetimerange"===e.type)return e.time_zone}function ae(e){const{locale:t}=e,r=[],n=new Intl.DateTimeFormat(t,{month:"long"});for(let o=1;o<13;o++){const e=new Date(Date.UTC(2021,o,0)),t=n.format(e);r.push(t)}return r}function ie(e){if(e.start_date&&e.end_date){return{type:"range",value:{type:"daterange",start_date:e.start_date,end_date:e.end_date}}}if(e.start_date){return{type:"starting",value:{type:"date",start_date:e.start_date}}}if(e.end_date){return{type:"ending",value:{type:"date",start_date:e.end_date}}}}function se(e){return"datetime"===e.type?{type:"date",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:e}function le(e){return"date"===e.type?{type:"daterange",start_date:e.start_date}:"daterange"===e.type?e:"datetime"===e.type?{type:"daterange",start_date:e.start_date}:"datetimerange"===e.type?{type:"daterange",start_date:e.start_date,end_date:e.end_date}:(0,i().HB)(e)}function ce(e){return e}function ue(e){return new Date(e)}function de(e){const t=e??new Date;return Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())}function pe(e){const t=n().c9.fromMillis(e).setZone("UTC");return new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second).getTime()}function me(e){const t=n().c9.fromJSDate(e).setZone("UTC");return new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second)}},599677:(e,t,r)=>{r.d(t,{A:()=>a,h:()=>o});var n=()=>r(292588);const o="geo_ip_network",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,network:n().A.String,geoname_id:n().A.Number,registered_country_geoname_id:n().A.Number,represented_country_geoname_id:n().A.Number,is_anonymous_proxy:n().A.Boolean,is_satellite_provider:n().A.Boolean,postal_code:n().A.String,latitude:n().A.Number,longitude:n().A.Number,accuracy_radius:n().A.Number}}},600464:(e,t,r)=>{r.d(t,{A:()=>a,I:()=>o});var n=()=>r(292588);const o="trello_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,account:n().A.String,request_token:n().A.String,request_secret:n().A.String,access_token:n().A.String,access_secret:n().A.String}}},602468:(e,t,r)=>{r.d(t,{Ay:()=>a,Yx:()=>o});var n=()=>r(292588);const o="invoice",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,subscription_id:n().A.UUID,billing_data_id:n().A.UUID,external_id:n().A.String,external_url:n().A.String,status:n().A.String,created_at:n().A.Number,due_date:n().A.Number,overrides:n().A.JSON,payment_intent:n().A.JSON,external_subscription_id:n().A.String},requiredColumns:{version:!0,billing_data_id:!0,subscription_id:!0,status:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},603557:(e,t,r)=>{r.d(t,{Ay:()=>c,Oh:()=>i,_8:()=>l,b6:()=>s,lM:()=>a});var n=()=>r(498212),o=()=>r(292588);const a="marketplace_profile_member",i=["reader","membership_admin","editor"];function s(e){const{profileId:t,userId:r}=e;return`${t}|${r}`}function l(e){return e.table===a&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}const c={table:a,columnTypes:{id:o().A.String,profile_id:o().A.UUID,user_id:o().A.UUID,membership_type:o().A.String,salesforce_id:o().A.String,version:o().A.Number,last_version:o().A.Number},requiredColumns:{id:!0,profile_id:!0,user_id:!0,membership_type:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},604995:(e,t,r)=>{r.d(t,{AA:()=>Z,AQ:()=>Ie,C6:()=>we,Dz:()=>ne,EK:()=>_e,Ec:()=>h,En:()=>k,GF:()=>ke,HF:()=>q,J0:()=>ye,K1:()=>Ae,KQ:()=>E,Lm:()=>Be,Mb:()=>U,Mk:()=>L,Mw:()=>ve,NC:()=>H,P9:()=>de,PZ:()=>ee,St:()=>ie,T_:()=>D,Tj:()=>C,Xf:()=>be,Xo:()=>V,Yz:()=>B,ZG:()=>w,Zq:()=>m,Zs:()=>Me,ah:()=>b,ak:()=>Q,bO:()=>Ce,bP:()=>_,c_:()=>le,d9:()=>z,dB:()=>Se,fN:()=>ae,hp:()=>fe,iB:()=>pe,jA:()=>I,jI:()=>T,jY:()=>oe,k8:()=>d,kB:()=>y,kW:()=>xe,lN:()=>F,lW:()=>Pe,le:()=>S,ln:()=>J,mF:()=>j,mK:()=>me,p6:()=>O,q8:()=>Te,rL:()=>re,sm:()=>ce,t0:()=>M,to:()=>ge,tr:()=>l,u7:()=>te,uf:()=>A,uj:()=>K,uo:()=>he,vF:()=>v,vY:()=>se,wN:()=>ue,wc:()=>x});r(16280);var n=()=>r(906745),o=()=>r(534177),a=()=>r(720665),i=()=>r(416504),s=()=>r(597777);const l="yyyy-MM-dd",c=/^(\d{4})-(\d{2})-(\d{2})$/,u=/^(\d{2}):(\d{2})$/,d="yyyy-MM-dd HH:mm",p="UTC",m=(0,i().P)();function f(e,t=2){return e<0?`-${(-e).toString().padStart(t,"0")}`:e.toString().padStart(t,"0")}const g="Invalid DateTime";function y(e){return e.isValid?`${f(e.year,4)}-${f(e.month,2)}-${f(e.day,2)}`:g}function _(e){return e.isValid?`${f(e.hour,2)}:${f(e.minute,2)}`:g}function v(e){const t=e.date??Date.now(),r=e.timezone??m;return n().c9.fromMillis(t,{zone:r})}function b(e,t){return((0,o().O9)(t)?n().c9.fromMillis(t):n().c9.now()).setZone(e).startOf("day")}function h(e,t){return{type:"date",start_date:y(b(e,t))}}function A(e){return{type:"date",start_date:y(b(e).plus({days:1}))}}function I(e){const t=b(e),r=t.startOf("week");return{type:"date",start_date:y(r<=t?r.plus({week:1}):r)}}function k(e){return{type:"date",start_date:y(b(e).plus({weeks:1}))}}function x(e){return{type:"date",start_date:y(b(e).plus({months:1}))}}function S(e){return{type:"date",start_date:y(b(e).plus({years:1}))}}function T(e){return{type:"date",start_date:y(b(e).minus({days:1}))}}function M(e){return{type:"date",start_date:y(b(e).minus({week:1}))}}function w(e){return{type:"date",start_date:y(b(e).minus({months:1}))}}function B(e){return{type:"date",start_date:y(b(e).minus({years:1}))}}function C(e){const t=n().c9.now().setZone(e).plus({hours:1}).startOf("hour");return{type:"datetime",start_date:y(t),start_time:_(t),time_zone:e}}const P="yyyy-MM-dd",N=n().c9.invalid("null"),U=`${N.toRelative()} (${N.toFormat(P)})`;const R=new Map;function D(e,t){const r=Math.floor(Date.now()/a().Xb);if(!(0,o().O9)(t)){const t=R.get(e);if(void 0!==t&&r===t[0])return t[1]}const i=function(e,t){const r=((0,o().O9)(t)?n().c9.fromMillis(t):n().c9.now()).setZone(e);return{type:"datetime",start_date:y(r),start_time:_(r),time_zone:e}}(e,t);return(0,o().O9)(t)||R.set(e,[r,i]),i}function O(e,t){return F(n().c9.fromMillis(e,{zone:t}))}function F(e){return{type:"date",start_date:y(e)}}function E(e,t){return V(n().c9.fromMillis(e,{zone:t}))}function V(e){return{type:"datetime",start_date:y(e),start_time:_(e),time_zone:e.zoneName}}function L(e,t,r){const o=n().c9.fromMillis(e,{zone:r}),a=n().c9.fromMillis(t,{zone:r});return{type:"daterange",start_date:y(o),end_date:y(a)}}function H(e,t,r){const o=n().c9.fromMillis(e,{zone:r}),a=n().c9.fromMillis(t,{zone:r});return{type:"datetimerange",start_date:y(o),start_time:_(o),end_date:y(a),end_time:_(a),time_zone:r}}function G(e){const t=c.exec(e.start_date);if(t){const[,e,r,n]=t;return[Number(e),Number(r),Number(n)]}}function q(e,t,r){const o=G(e);return void 0!==o?n().c9.local(o[0],o[1],o[2],{zone:t,locale:r||s().M5}):n().c9.invalid("unparsable",`the input "${e.start_date}" can't be parsed as format ${l}`)}function j(e,t){const r=G(e),o=function(e){const t=u.exec(e.start_time);if(t){const[,e,r]=t;return[Number(e),Number(r)]}}(e);if(void 0!==r&&void 0!==o)return n().c9.local(r[0],r[1],r[2],o[0],o[1],{locale:t||s().M5,zone:e.time_zone});const a=`${e.start_date} ${e.start_time}`,i=`${l} ${s().GE}`;return n().c9.invalid("unparsable",`the input "${a}" can't be parsed as format ${i}`)}function $(e,t){return E(q(e,t).toMillis(),t)}function z(e,t){const r=Z(e,t);return H(r.start.valueOf(),r.end.endOf("day").valueOf(),t)}const W=new WeakMap;function Z(e,t,r){var n;const o=void 0!==r?`${t}-${r}`:t;let a=null===(n=W.get(e))||void 0===n?void 0:n[o];if(void 0===a){a=function(e,t,r){return"datetimerange"===e.type?{start:j((0,s().S6)(e),r),end:j((0,s().D1)(e),r)}:"datetime"===e.type?{start:j(e,r)}:"daterange"===e.type?{start:q((0,s().tq)(e),t,r),end:q((0,s().Wq)(e),t,r)}:{start:q(e,t,r)}}(e,t,r);const n=W.get(e);void 0===n?W.set(e,{[o]:a}):n[o]=a}return a}function Q(e){return Boolean(e.end)}function K(e){const{previous:t,updatedStartTime:r}=e,n=function(e){const t=Z(e,(0,i().P)());return t.end.diff(t.start)}(t),o=j({type:"datetime",start_date:t.start_date,start_time:r,time_zone:t.time_zone}),a=o.plus(n);return{newDate:{...t,start_time:e.updatedStartTime,end_date:y(a),end_time:_(a)},currentMonth:o}}function J(e,t){return Z(e,t).start.valueOf()}const Y="";function X(e){return e.replace(/[-]/g,(e=>String(Y.indexOf(e))))}function ee(e){const t=e=>void 0!==e&&/[-]/.test(e);return t(e.start_date)||"daterange"===e.type&&t(e.end_date)||("datetime"===e.type||"datetimerange"===e.type)&&t(e.start_time)||"datetimerange"===e.type&&t(e.end_time)?{...e,...e.start_date?{start_date:X(e.start_date)}:{},..."daterange"===e.type&&e.end_date?{end_date:X(e.end_date)}:{},..."datetime"!==e.type&&"datetimerange"!==e.type||!e.start_time?{}:{start_time:X(e.start_time)},..."datetimerange"===e.type&&e.end_time?{end_time:X(e.end_time)}:{}}:e}function te(e){if("date"===e.type||"datetime"===e.type)return e;{const t=Z(e,(0,i().P)());return t.end&&t.start>t.end?"daterange"===e.type?{...e,start_date:e.end_date}:{...e,start_date:e.end_date,start_time:e.end_time}:e}}function re(e){if("date"===e.type||"datetime"===e.type)return e;{const t=Z(e,(0,i().P)());return t.end&&t.end<t.start?"daterange"===e.type?{...e,end_date:e.start_date}:{...e,end_date:e.start_date,end_time:e.start_time}:e}}function ne(e){if((0,s()._Z)(e)){const t=Z(e,(0,i().P)());return function(e){return e.start.isValid&&void 0!==e.end&&e.end.isValid&&e.start<=e.end}(t)?t:void 0}return Z(e,(0,i().P)())}function oe(e,t){if(e&&t){const r=(0,s().j1)(e),n=(0,s().j1)(t);if("datetime"===r.type){const e="datetime"===n.type?n:$(n,r.time_zone);return{type:"datetimerange",start_date:r.start_date,start_time:r.start_time,end_date:e.start_date,end_time:e.start_time,time_zone:r.time_zone}}if("datetime"===n.type){const e=$(r,n.time_zone);return{type:"datetimerange",start_date:e.start_date,start_time:e.start_time,end_date:n.start_date,end_time:n.start_time,time_zone:n.time_zone}}return{type:"daterange",start_date:r.start_date,end_date:n.start_date}}return e?(0,s().j1)(e):t?(0,s().j1)(t):void 0}function ae(e){if("exact"===e.type)return e.value&&{type:"date",start_date:e.value.start_date};switch(e.value){case"today":return h((0,i().P)());case"tomorrow":return A((0,i().P)());case"yesterday":return T((0,i().P)());case"one_month_ago":return w((0,i().P)());case"one_month_from_now":return x((0,i().P)());case"one_week_ago":return M((0,i().P)());case"one_week_from_now":return k((0,i().P)());default:(0,o().HB)(e)}}function ie(e){const{firstDate:t,secondDate:r}=e;return n().c9.fromMillis(t).hasSame(n().c9.fromMillis(r),"year")}function se(e){const{firstDate:t,secondDate:r}=e;return n().c9.fromMillis(t).hasSame(n().c9.fromMillis(r),"month")}function le(e){return n().c9.fromMillis(e).hasSame(n().c9.local(),"day")}function ce(e,t){const r=t?{zone:t}:void 0,o=n().c9.fromMillis(e,r);return 6===o.weekday||7===o.weekday}function ue(e){return n().c9.fromMillis(e).day}function de(e){return n().c9.fromMillis(e).endOf("day").valueOf()}function pe(e,t,r){const o=n().c9.fromMillis(e,{zone:r});if(7===o.weekday&&0===t)return o.startOf("day");const a=o.startOf("week");return 0===t?a.minus({days:1}).startOf("day"):a.startOf("day")}function me(e,t){return pe(e,t,(0,i().P)()).valueOf()}function fe(e,t,r){const o=n().c9.fromMillis(e,{zone:r});if(7===o.weekday&&0===t)return o.plus({days:6}).endOf("day");const a=o.endOf("week");return 0===t?a.minus({days:1}).endOf("day"):a.endOf("day")}function ge(e,t){return fe(e,t,(0,i().P)()).valueOf()}function ye(e,t,r){const o=n().c9.fromMillis(e,{zone:r});if(1===o.weekday)return o.startOf("day");const a=pe(e,t,r);return 1===t?a.startOf("day"):a.plus({days:1})}function _e(e,t,r){const o=n().c9.fromMillis(e,{zone:r});if(5===o.weekday)return o.endOf("day");if(6===o.weekday)return o.minus({days:1}).endOf("day");if(1===t){return pe(e,t,r).plus({days:4}).endOf("day")}return pe(e,t,r).plus({days:5}).endOf("day")}function ve(e){return n().c9.fromMillis(e).startOf("month").valueOf()}function be(e){return n().c9.fromMillis(e).endOf("month").valueOf()}function he(e,t){const r=Z(e,t);return{start:r.start.valueOf(),end:r.end?r.end.valueOf():void 0}}function Ae(e){const{date:t,daysToAdd:r}=e;return n().c9.fromMillis(t).plus({days:r}).valueOf()}function Ie(e){const{date:t,monthsToAdd:r}=e;return n().c9.fromMillis(t).plus({months:r}).valueOf()}function ke(e){return n().c9.local({zone:e}).toFormat("ZZZZ")}function xe(e,t){if("date"===e.type||"daterange"===e.type)return e;const r=Z(e,t),n=r.start.setZone(t),o={type:"datetime",start_date:y(n),start_time:_(n),time_zone:t,reminder:e.reminder};if("datetimerange"===e.type){if(!r.end)throw new Error("Datetimerange with no end.");const e=r.end.setZone(t);return{...o,type:"datetimerange",end_date:y(e),end_time:_(e)}}return o}function Se(e,t){var r,n;return(null==e||null===(r=e.settings)||void 0===r?void 0:r.time_zone)||(null==t||null===(n=t.settings)||void 0===n?void 0:n.time_zone)||(0,i().P)()}function Te(e,t){if(!(0,s().Lh)(e))return;const r=e.reminder,{unit:o,value:a}=r;if((0,s().fc)(r)){const{time:i}=r;return n().c9.fromFormat(`${e.start_date} ${i}`,d,{zone:t}).minus({[o]:a})}return Z(e,t).start.minus({[o]:a})}function Me(e,t){const r=Te(e,t);return!!r&&r<=n().c9.now()}const we={toPersistedDate:(e,t=(0,i().P)())=>O(e,t),toPersistedDateTime:(e,t=(0,i().P)())=>E(e,t),toPersistedDateRange:(e,t=(0,i().P)())=>({type:"daterange",start_date:y(t?e.start.setZone(t):e.start),end_date:y(t?e.end.setZone(t):e.end)}),toPersistedDateTimeRange:(e,t=(0,i().P)())=>{const r=e.start.setZone(t),n=e.end.setZone(t);return{type:"datetimerange",start_date:y(r),start_time:_(r),end_date:y(n),end_time:_(n),time_zone:t}},toPersistedDateWithType(e,t,r){if("daterange"===t||"datetimerange"===t){return("daterange"===t?we.toPersistedDateRange:we.toPersistedDateTimeRange)({start:e.start,end:e.end},r)}if("date"===t||"datetime"===t){return("date"===t?we.toPersistedDate:we.toPersistedDateTime)(e.start.valueOf(),r)}(0,o().HB)(t)},toUnixMs:e=>j(e).valueOf(),isoToUnixMs:(e,t)=>{const r=n().c9.fromISO(e,{zone:t});if(r.isValid)return r.valueOf()},jsDateToLuxon:e=>n().c9.fromJSDate(e),notionDateToLuxon:(e,t)=>{const{timeZone:r=(0,i().P)(),locale:o}=t??{};return n().c9.fromISO(e.start_date,{zone:r,locale:o})},notionDateTimeToLuxon:(e,t)=>j(e,t),notionDateOrDateTimeToLuxon:(e,t)=>"date"===e.type?we.notionDateToLuxon(e,t):"datetime"===e.type?we.notionDateTimeToLuxon(e,null==t?void 0:t.locale):void(0,o().HB)(e),notionDateToJsDate:(e,t=(0,i().P)())=>we.notionDateToLuxon(e,{timeZone:t}).toJSDate()};function Be(){return 0}function Ce(e){return e.weekday%7}function Pe(e){return e&&function(e){return n().R2.normalizeZone(e).isValid}(e)?e:p}},606219:(e,t,r)=>{r.d(t,{Ay:()=>i,TF:()=>a,kQ:()=>o});var n=()=>r(292588);const o={space:!0},a="webhook_subscription",i={table:a,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,webhook_url:n().A.String,webhook_secret:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,api_version:n().A.String,health:n().A.JSON,version:n().A.Number,last_version:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID,created_time:n().A.Number,last_edited_time:n().A.Number,webhook_customization:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},610409:(e,t,r)=>{r.d(t,{A:()=>a,P:()=>o});var n=()=>r(292588);const o="space_user_recovery",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,user_id:n().A.UUID,created_time:n().A.Number,type:n().A.String,block_id:n().A.UUID,team_id:n().A.UUID,permission_group_id:n().A.UUID,permission_role:n().A.String,membership_type:n().A.String,restored_time:n().A.Number,restored_by_id:n().A.UUID,restored_by_table:n().A.String},requiredColumns:{id:!0,version:!0,created_time:!0,space_id:!0,user_id:!0,type:!0},model:(0,r(152853).P)({})}},612740:(e,t,r)=>{r.d(t,{Do:()=>p,LA:()=>g,MC:()=>m,dE:()=>c,iL:()=>f,ni:()=>u,rl:()=>l});r(898992),r(672577);var n=()=>r(69708),o=()=>r(651124),a=()=>r(179034),i=()=>r(506391);const s=(0,n().YK)({restrictedSyncedBlockDescription:{id:"restrictedSyncedBlockDescription",defaultMessage:"You dont have access to this synced block"}});function l(e){return e.formatMessage(s.restrictedSyncedBlockDescription)}function c(e){if(e)return{pointer:e.pointer,icon:(0,o().WO)(e.icon)}}function u(e,t,r){const n=e.getKeyStore("uri").getValue(),o=e.getKeyStore("attributes").getValue();if(n&&o){const a=null==o?void 0:o.find((e=>{var t;return"avatar"===(null===(t=e.format)||void 0===t?void 0:t.section)}));if(a&&(0,i().wN)(a))return{pointer:e.pointer,icon:a.values[0]};if(t){const o=function(e,t,r){if(!r)return;const n=(0,i().$B)({url:e,integrations:r,currentSpaceId:t});if("success"!==n.type)return;return n.integration.info.icon||void 0}(n,t,r);if(o)return{pointer:e.pointer,icon:o}}}}const d=(0,n().YK)({embed:{defaultMessage:"Embed",id:"blockHelpers.embedBlockType"},bookmark:{defaultMessage:"Bookmark",id:"blockHelpers.bookmarkBlockType"},image:{defaultMessage:"Image",id:"blockHelpers.imageBlockType"},video:{defaultMessage:"Video",id:"blockHelpers.videoBlockType"},audio:{defaultMessage:"Audio",id:"blockHelpers.audioBlockType"},file:{defaultMessage:"File",id:"blockHelpers.fileBlockType"},pdf:{defaultMessage:"PDF",id:"blockHelpers.pdfBlockType"},google_drive:{defaultMessage:"Google Drive",id:"blockHelpers.googleDriveBlockType"},figma:{defaultMessage:"Figma",id:"blockHelpers.figmaBlockType"},loom:{defaultMessage:"Loom",id:"blockHelpers.loomBlockType"},codepen:{defaultMessage:"Codepen",id:"blockHelpers.codepenBlockType"},maps:{defaultMessage:"Maps",id:"blockHelpers.mapsBlockType"},invision:{defaultMessage:"Invision",id:"blockHelpers.invisionBlockType"},framer:{defaultMessage:"Framer",id:"blockHelpers.framerBlockType"},whimsical:{defaultMessage:"Whimsical",id:"blockHelpers.whimsicalBlockType"},miro:{defaultMessage:"Miro",id:"blockHelpers.miroBlockType"},link_preview:{id:"blockType.linkPreview.message",defaultMessage:"Link Preview"},typeform:{id:"blockType.typeform.message",defaultMessage:"Typeform"},external_object_instance:{id:"blockType.externalObjectInstance.message",defaultMessage:"External Object Instance"},tweet:{defaultMessage:"Tweet",id:"blockHelpers.tweetBlockType"},gist:{defaultMessage:"Gist",id:"blockHelpers.gistBlockType"},drive:{defaultMessage:"Drive",id:"blockHelpers.driveBlockType"},abstract:{defaultMessage:"Abstract",id:"blockHelpers.abstractBlockType"},sketch:{defaultMessage:"Sketch",id:"blockHelpers.sketchBlockType"},excalidraw:{defaultMessage:"Excalidraw",id:"blockHelpers.excalidrawBlockType"},replit:{defaultMessage:"Replit",id:"blockHelpers.replitBlockType"},hex:{defaultMessage:"Hex",id:"blockHelpers.hexBlockType"},deepnote:{defaultMessage:"Deepnote",id:"blockHelpers.deepnoteBlockType"},drawing:{defaultMessage:"Drawing",id:"blockHelpers.drawingBlockType"},mixpanel:{defaultMessage:"Mixpanel",id:"blockHelpers.mixpanelBlockType"}});function p(e,t){return"mixpanel"===t?e.formatMessage({id:"blockHelpers.mixpanelBlockType",defaultMessage:"Mixpanel"}):e.formatMessage(d[t])}const m=(0,n().YK)({placeholder:{id:"externalObjectInstanceBlock.placeholder.message",defaultMessage:"Embed {value}"},editLabel:{id:"externalObjectInstanceBlock.editLabel.message",defaultMessage:"Link Preview"}});function f(e){const{blockId:t,spaceId:r}=e;return{id:t,table:a().ev,spaceId:r}}function g(e){return e.table in a().NL}},615771:(e,t,r)=>{r.d(t,{A:()=>s});r(16280),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=r.n(r(625473)),o=()=>r(220719);const a=new WeakMap;function i(e){let t=a.get(e);return void 0!==t||(t=n()(e),a.set(e,t)),t}class s{constructor(e=i){this.nodes=new Map,this.getKey=e}addNode(e){const t=this.getKey(e);this.nodes.has(t)||this.nodes.set(t,{children:new Set,value:e})}hasNode(e){const t=this.getKey(e);return this.nodes.has(t)}removeNode(e){const t=this.getKey(e);if(this.nodes.has(t)){const e=(0,o().o9)(this.nodes.get(t));this.nodes.delete(t);for(const{children:t}of this.nodes.values())t.delete(e)}}addEdge(e,t){this.addNode(e),this.addNode(t);const r=(0,o().o9)(this.nodes.get(this.getKey(e))),n=(0,o().o9)(this.nodes.get(this.getKey(t)));if(!r.children.has(n)&&(r.children.add(n),this.hasCycle(r)))throw r.children.delete(n),new Error(`Cycle detected adding edge ${this.getKey(e)} -> ${this.getKey(t)}`)}removeEdge(e,t){const r=(0,o().o9)(this.nodes.get(this.getKey(e))),n=(0,o().o9)(this.nodes.get(this.getKey(t)));r.children.has(n)&&r.children.delete(n)}hasEdge(e,t){const r=this.nodes.get(this.getKey(e)),n=this.nodes.get(this.getKey(t));return Boolean(r&&n&&r.children.has(n))}hasCycle(e){const t=new Set,r=new Set,n=e=>{if(t.has(e))return!0;if(r.has(e))return!1;t.add(e);for(const t of e.children)if(n(t))return!0;return t.delete(e),r.add(e),!1};return n(e)}getSortedNodes(){const e=[],t=new Set,r=n=>{t.add(n);for(const e of n.children)t.has(e)||r(e);e.unshift(n.value)};for(const n of this.nodes.values())t.has(n)||r(n);return e}}},619618:(e,t,r)=>{r.d(t,{A:()=>a,K:()=>o});var n=()=>r(292588);const o="password",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,password_hash:n().A.String}}},622317:(e,t,r)=>{r.d(t,{Ri:()=>i,VQ:()=>s,jJ:()=>o,nb:()=>a,wh:()=>n});const n="ungrouped_chart_results",o="grouped_chart_results",a="aggregation_chart_results",i="group_menu_chart_groups",s="group_menu_chart_subgroups"},623403:(e,t,r)=>{r.d(t,{A:()=>a,r:()=>o});var n=()=>r(292588);const o="contact_sales",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,submission_data:n().A.JSON,created_time:n().A.Number},requiredColumns:{created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},628536:(e,t,r)=>{r.d(t,{Ay:()=>en,TG:()=>Kr,bI:()=>Yr,ep:()=>Zr,jo:()=>$r,vi:()=>Qr});r(581454);var n=()=>r(496603),o=()=>r(296344),a=()=>r(801634),i=()=>r(400846),s=()=>r(789011),l=()=>r(310442),c=()=>r(838838),u=()=>r(40117),d=()=>r(510618),p=()=>r(299816),m=()=>r(494142),f=()=>r(85216),g=()=>r(363497),y=()=>r(771927),_=()=>r(548632),v=()=>r(912720),b=()=>r(199378),h=()=>r(853040),A=()=>r(492908),I=()=>r(959017),k=()=>r(179034),x=()=>r(551121),S=()=>r(824862),T=()=>r(767194),M=()=>r(265229),w=()=>r(63128),B=()=>r(519831),C=()=>r(869558),P=()=>r(343666),N=()=>r(721776),U=()=>r(623403),R=()=>r(317727),D=()=>r(646178),O=()=>r(837420),F=()=>r(326215),E=()=>r(67385),V=()=>r(197959),L=()=>r(926397),H=()=>r(583622),G=()=>r(54006),q=()=>r(823377),j=()=>r(636045),$=()=>r(326399),z=()=>r(942198),W=()=>r(656048),Z=()=>r(402904),Q=()=>r(258911),K=()=>r(329251),J=()=>r(524853),Y=()=>r(840911),X=()=>r(343747),ee=()=>r(647147),te=()=>r(80518),re=()=>r(952232),ne=()=>r(873005),oe=()=>r(835338),ae=()=>r(37165),ie=()=>r(783230),se=()=>r(296749),le=()=>r(791036),ce=()=>r(599677),ue=()=>r(192125),de=()=>r(829126),pe=()=>r(965571),me=()=>r(552826),fe=()=>r(332393),ge=()=>r(193657),ye=()=>r(964348),_e=()=>r(420948),ve=()=>r(776217),be=()=>r(204742),he=()=>r(426302),Ae=()=>r(602468),Ie=()=>r(435826),ke=()=>r(144081),xe=()=>r(379951),Se=()=>r(741037),Te=()=>r(338180),Me=()=>r(485819),we=()=>r(761152),Be=()=>r(529745),Ce=()=>r(247821),Pe=()=>r(287772),Ne=()=>r(374982),Ue=()=>r(736062),Re=()=>r(581325),De=()=>r(664540),Oe=()=>r(665344),Fe=()=>r(666450),Ee=()=>r(266442),Ve=()=>r(549094),Le=()=>r(197651),He=()=>r(183171),Ge=()=>r(115850),qe=()=>r(628720),je=()=>r(603557),$e=()=>r(365970),ze=()=>r(471987),We=()=>r(452665),Ze=()=>r(464912),Qe=()=>r(422200),Ke=()=>r(895180),Je=()=>r(69946),Ye=()=>r(959044),Xe=()=>r(682186),et=()=>r(538748),tt=()=>r(590779),rt=()=>r(946064),nt=()=>r(887175),ot=()=>r(463776),at=()=>r(874852),it=()=>r(559653),st=()=>r(765008),lt=()=>r(619618),ct=()=>r(837241),ut=()=>r(449418),dt=()=>r(9904),pt=()=>r(204384),mt=()=>r(415292),ft=()=>r(526147),gt=()=>r(847866),yt=()=>r(684558),_t=()=>r(506327),vt=()=>r(158816),bt=()=>r(429485),ht=()=>r(265809),At=()=>r(133340),It=()=>r(628588),kt=()=>r(652106),xt=()=>r(474989),St=()=>r(838968),Tt=()=>r(885316),Mt=()=>r(41693),wt=()=>r(384148),Bt=()=>r(591822),Ct=()=>r(158158),Pt=()=>r(141150),Nt=()=>r(395868),Ut=()=>r(583839),Rt=()=>r(379922),Dt=()=>r(101628),Ot=()=>r(123382),Ft=()=>r(865377),Et=()=>r(860620),Vt=()=>r(295043),Lt=()=>r(96689),Ht=()=>r(296900),Gt=()=>r(641284),qt=()=>r(188845),jt=()=>r(545893),$t=()=>r(7615),zt=()=>r(420532),Wt=()=>r(29568),Zt=()=>r(437607),Qt=()=>r(158009),Kt=()=>r(899605),Jt=()=>r(848538),Yt=()=>r(231460),Xt=()=>r(610409),er=()=>r(84520),tr=()=>r(590178),rr=()=>r(421076),nr=()=>r(324694),or=()=>r(854150),ar=()=>r(959577),ir=()=>r(87845),sr=()=>r(527925),lr=()=>r(192249),cr=()=>r(827570),ur=()=>r(197577),dr=()=>r(925753),pr=()=>r(976617),mr=()=>r(234459),fr=()=>r(155792),gr=()=>r(867178),yr=()=>r(600464),_r=()=>r(277816),vr=()=>r(232802),br=()=>r(868935),hr=()=>r(798880),Ar=()=>r(674770),Ir=()=>r(172542),kr=()=>r(782398),xr=()=>r(412742),Sr=()=>r(806045),Tr=()=>r(62182),Mr=()=>r(978841),wr=()=>r(294712),Br=()=>r(144986),Cr=()=>r(908651),Pr=()=>r(495989),Nr=()=>r(606219),Ur=()=>r(749257),Rr=()=>r(743246),Dr=()=>r(758256),Or=()=>r(145820),Fr=()=>r(541837),Er=()=>r(78881),Vr=()=>r(183541),Lr=()=>r(978234),Hr=()=>r(39603),Gr=()=>r(969752),qr=()=>r(633240);const jr={block:1,record_counter:2,discussion:3,comment:4,[ct().Z]:5,[gt().iP]:6,collection:7,collection_view:8,space_recover_pages:9,[Te().o]:10,[Me().n]:11,[a().kz]:12,[fr().mS]:13,[ht().Xi]:14,[Dr().U6]:15,[mr().To]:16,[G().I]:17,[Nt().Cr]:18,[Ut().ZP]:19};new Map(Object.entries(jr).map((([e,t])=>[t,e])));o().O,o().Dv,a().kz,a().Z,i().e,s().j,l().yj,l().tL,d().W,p().y,m().W,f().c,y().Nm,y()._F,v().yB,v().bs,b().SC,b().ls,h().kf,h().NU,I().h,k().ev,k().NL,x().H,S().GP,S().FF,M().hG,B().Vl,B().Qn,C().Gy,C().pg,P().SN,P().r0,N()._,R().$,D().eU,F().$2,E().r1,V().$Y,V().yy,L().Hx,L().qF,H().m,$().XH,q().$,j().v,z().g,W().ad,Z().As,Z().ht,Q().h,K().$,J().H,Y().Ps,Y().q6,X().rG,ee().D,ne().T2,oe().Cy,pe().$,le().W,ce().h,fe().Li,fe().YN,ye().S,_e().Q,ve().bn,re().O,be().CE,be().Zq,he().Yx,Ae().Yx,ke().zx,ke().GB,Be().Ht,Be().ad,De().K,Ce().jv,Pe().u,We().J6,Ze().OC,Ze().dO,He().V1,Ge().qt,Ge().HU,qe().qr,qe().H8,je().lM,ze().XX,ze().qz,Fe().UL,Je().M,Qe().es,Ye()._p,gt().iP,gt().dv,hr().oo,Xe().w,rt().y7,ot().M,nt().v,at().ou,at().b8,it().F9,it().Qp,st().eV,lt().K,ut()._6,ut().hY,dt().A,pt().ez,pt().hz,mt().sN,mt().r9,ft().Fu,ft().uB,vt()._7,bt().Xh,kt().k,It().G,Tt().s,Ct().o,xt().ns,xt().CM,wt().eq,Bt().G,Mt().H,St().m,Pt().Q,Rt().o,Ot().MC,Ot().vA,Ft().VY,Ft().sS,Et().K,Vt().Xw,Vt().gj,Lt().NX,Ht().m3,qt().j,jt().$,zt().q,Gt().a,Wt().gD,Zt().n,Qt().f3,Kt().Jr,Jt().aJ,Xt().P,Yt().sB,er().mu,er().t_,tr().oN,rr().yt,rr().Bd,nr().y,$t().Jm,or().yK,or().fL,ar().XX,ir().b,sr().v,lr().Hi,cr()._F,ur().hR,dr().R$,pr().H,gr().wI,yr().I,Ar().yv,br().B,Ir().g,kr().S,xr()._0,Sr().r,wr().GD,Br().WQ,Br().P5,Cr().p,Pr().xM,Nr().TF,Nr().kQ,Dt().Eu,Dt().j4,Nt().Cr,Ut().ZP,Ut().QH,O().e,Oe()._i,Ee().UN,ae().lo,ae().QM,ie().i,ct().Z,ge().bh,de().W,Mr().b,Tr().C,_r().A,_().YV,_().rL,se().j,w().Ay,w().Lb,_t().bw,_t().U1,$e().en,Ne().QO,Ne().Vf,Ve().Eg,Ue().Kc,Le().zi,g().TF,g().oe,Rr().C0,Rr().V8,Gr().Ec,Gr().rA,Or().QR,Or().ZY,Lr().yM,Lr().fx,me().yD,me().Zz,mr().To,mr().OW,fr().mS,fr().$J,Hr().P,Fr().ly,Fr().c0,Er().N,Vr().tE,Vr().e7,Dr().U6,Dr().rk,ht().Xi,ue().h,qr().e,xe().PX,we().I,Te().o,Me().n,vr().GU,vr().Jo,Ke().S,c().KN,c().dT,u().l,c().gN,U().r,Re().pE,T().q,Se().dP,te().kM,et().m,yt().W,Ie().aF,At().G,tt().p,Ur().du,Ur().wg,A().k$,A().lY,G().I;const $r={block:k().Ay,customer:F().Ay,notion_user:hr().Ay,space:Lt().Ay,space_bot:Ht().Ay,space_permission_group:Zt().uY,space_permission_group_member:Qt().sy,space_user:Jt().Ay,space_view:er().Ay,token:gr().Ay,user_root:wr().Ay,temporary_password:dr().Ay,password:lt().A,collection:B().Ay,collection_view:C().Ay,apple_token:m().A,google_token:pe().A,follow:oe().Ay,activity:a().Ay,notification:Ye().Ay,firebase_token:ne().Ay,trello_token:yr().A,asana_token:f().A,confluence_token:N().A,monday_token:Je().A,external_entity:K().A,external_token:ee().A,external_integration_app:J().A,slack_integration:Ft().Ay,slack_notification:Et().A,discussion:V().Ay,comment:P().Ay,snapshot:Vt().Ay,credit:D().Ay,used_credit:br().A,user_settings:Pr().Ay,evernote_token:z().A,space_recover_pages:Kt().Ay,drive_token:H().A,block_token:x().A,user_metadata:Sr().A,bot:S().Ay,bot_token:M().Ay,saml_config:vt().Ay,sidebar_section:Nt().Ay,sidebar_section_item:Ut().Ay,experiment:W().Ay,education_domain:q().A,education_email:j().A,edge:G().A,space_invite_link:zt().A,public_email_domain:dt().h,user_data_consent_permissions:Ir().A,access_request:o().Ay,template_tag:ur().Ay,template_collection:ir().A,page_visit:it().Ay,page_exit:at().Ay,subscription:tr().Ay,space_domain:qt().A,admin_api_log:i().A,admin_api_op_log:s().A,integration:fe().Ay,integration_management_permissions:ye().A,integration_token:_e().A,oauth_authorization_code:Xe().A,mfa_settings:Qe().Ay,device:E().Ay,user_device:kr().A,[Z().As]:Z().Ay,[Q().h]:Q().A,[Nr().TF]:Nr().Ay,[X().rG]:X().Ay,[Cr().p]:Cr().A,team:or().Ay,[Rt().o]:Rt().A,[R().$]:R().A,[ce().h]:ce().A,[le().W]:le().A,[pt().ez]:pt().Ay,[Y().Ps]:Y().Ay,[L().Hx]:L().Ay,[$().XH]:$().Ay,[jt().$]:jt().A,[he().Yx]:he().Ay,[v().yB]:v().Ay,[bt().Xh]:bt().Ay,[kt().k]:kt().A,[It().G]:It().A,[Tt().s]:Tt().A,[Ct().o]:Ct().A,[wt().eq]:wt().Ay,[Bt().G]:Bt().A,[xt().ns]:xt().Ay,[Mt().H]:Mt().A,[St().m]:St().A,[Pt().Q]:Pt().A,[mt().sN]:mt().Ay,[ft().Fu]:ft().Ay,[b().SC]:b().Ay,[Be().Ht]:Be().Ay,[$t().Jm]:$t().Ay,[Yt().sB]:Yt().Ay,[xr()._0]:xr().Ay,[Gt().a]:Gt().A,[Wt().gD]:Wt().Ay,[ar().XX]:ar().Ay,[lr().Hi]:lr().Ay,[sr().v]:sr().A,[cr()._F]:cr().Ay,[rt().y7]:rt().Ay,[ot().M]:ot().A,[nt().v]:nt().A,[l().yj]:l().Ay,[Xt().P]:Xt().A,[Ot().MC]:Ot().Ay,[p().y]:p().A,[d().W]:d().A,[g().TF]:g().Ay,[y().Nm]:y().Ay,[ke().zx]:ke().Ay,[rr().yt]:rr().Ay,[De().K]:De().A,[ze().XX]:ze().Ay,[Fe().UL]:Fe().Ay,[be().CE]:be().Ay,[ut()._6]:ut().Ay,[h().kf]:h().Ay,[Ae().Yx]:Ae().Ay,[I().h]:I().A,[Dt().Eu]:Dt().Ay,[O().e]:O().A,[Oe()._i]:Oe().Ay,[$e().en]:$e().Ay,[Ve().Eg]:Ve().Ay,[Ue().Kc]:Ue().Ay,[Le().zi]:Le().Ay,[Ee().UN]:Ee().Ay,[Ce().jv]:Ce().Ay,[Pe().u]:Pe().A,[We().J6]:We().Ay,[Ze().OC]:Ze().Ay,[He().V1]:He().Ay,[Ge().qt]:Ge().Ay,[qe().qr]:qe().Ay,[je().lM]:je().Ay,[ae().lo]:ae().Ay,[ie().i]:ie().A,[ct().Z]:ct().A,[gt().iP]:gt().Ay,[ge().bh]:ge().Ay,[de().W]:de().A,[Mr().b]:Mr().A,[Tr().C]:Tr().A,[_r().A]:_r().h,[_().YV]:_().Ay,[se().j]:se().A,[w().Ay]:w().Vv,[_t().bw]:_t().Ay,[st().eV]:st().Ay,[Ne().QO]:Ne().Ay,[Rr().C0]:Rr().Ay,[Gr().Ec]:Gr().Ay,[Or().QR]:Or().Ay,[Hr().P]:Hr().A,[Fr().ly]:Fr().Ay,[Er().N]:Er().A,[Vr().tE]:Vr().Ay,[Dr().U6]:Dr().Ay,[Lr().yM]:Lr().Ay,[me().yD]:me().Ay,[mr().To]:mr().Ay,[fr().mS]:fr().Ay,[ht().Xi]:ht().Ay,[ve().bn]:ve().Ay,[re().O]:re().v,[ue().h]:ue().A,[pr().H]:pr().A,[qr().e]:qr().A,[xe().PX]:xe().Ay,[we().I]:we().A,[Te().o]:Te().A,[Me().n]:Me().A,[vr().GU]:vr().Ay,[Ke().S]:Ke().A,[c().KN]:c().Ay,[u().l]:u().A,[Br().WQ]:Br().Ay,[U().r]:U().A,[Re().pE]:Re().Ay,[T().q]:T().A,[nr().y]:nr().A,[Se().dP]:Se().Ay,[te().kM]:te().Ay,[et().m]:et().A,[yt().W]:yt().A,[Ar().yv]:Ar().Ay,[Ie().aF]:Ie().Ay,[At().G]:At().A,[tt().p]:tt().A,[Ur().du]:Ur().Ay,[A().k$]:A().Ay},zr={customer:1,notion_user:2,space:3,space_bot:4,space_user:5,space_view:6,token:7,user_root:8,temporary_password:9,password:10,collection:11,collection_view:12,apple_token:13,google_token:14,follow:15,activity:16,notification:17,firebase_token:18,trello_token:19,asana_token:20,confluence_token:21,monday_token:22,external_entity:23,external_token:24,external_integration_app:25,slack_integration:26,slack_notification:27,discussion:28,comment:29,snapshot:30,credit:31,used_credit:32,user_settings:33,evernote_token:34,space_recover_pages:35,drive_token:36,block_token:37,user_metadata:38,bot:39,bot_token:40,saml_config:41,experiment:42,education_domain:43,education_email:44,space_invite_link:45,public_email_domain:46,user_data_consent_permissions:47,access_request:48,page_visit:49,page_exit:50,subscription:51,space_domain:52,admin_api_op_log:53,admin_api_log:54,integration:55,integration_token:56,oauth_authorization_code:57,mfa_settings:58,device:59,user_device:60,[Z().As]:61,[Q().h]:62,[Nr().TF]:63,[X().rG]:64,[Cr().p]:65,team:66,[Rt().o]:67,[R().$]:68,[ce().h]:69,[le().W]:70,[pt().ez]:71,[Y().Ps]:72,[L().Hx]:73,[$().XH]:74,[jt().$]:75,[he().Yx]:76,[v().yB]:77,[kt().k]:78,[It().G]:79,[Tt().s]:80,[Ct().o]:81,[xt().ns]:82,[wt().eq]:83,[Bt().G]:84,[Mt().H]:85,[St().m]:86,[Pt().Q]:87,[mt().sN]:88,[ft().Fu]:89,[b().SC]:90,[$t().Jm]:91,[Yt().sB]:92,[xr()._0]:93,[Gt().a]:94,[Wt().gD]:95,[ar().XX]:96,[ur().hR]:97,[lr().Hi]:98,[sr().v]:99,[cr()._F]:100,[rt().y7]:101,[ot().M]:102,[l().yj]:103,[Xt().P]:104,[Ot().MC]:105,[p().y]:106,[g().TF]:108,[y().Nm]:109,[ke().zx]:110,[rr().yt]:111,[ut()._6]:112,[d().W]:113,[h().kf]:114,[Ae().Yx]:115,[be().CE]:116,[I().h]:117,[De().K]:118,[Fe().UL]:119,[Be().Ht]:120,[Dt().Eu]:121,[O().e]:122,[Oe()._i]:123,[Ee().UN]:124,[ae().lo]:125,[ct().Z]:126,[ir().b]:127,[gt().iP]:128,[ge().bh]:129,[de().W]:130,[Mr().b]:131,[Tr().C]:132,[_r().A]:133,[_().YV]:134,[se().j]:135,[Zt().n]:136,[Qt().f3]:137,[w().Ay]:138,[_t().bw]:139,[ie().i]:141,[$e().en]:142,[st().eV]:143,[Ne().QO]:144,[Gr().Ec]:145,[Rr().C0]:146,[Or().QR]:147,[Hr().P]:148,[ht().Xi]:149,[Ve().Eg]:150,[Ue().Kc]:151,[me().yD]:152,[ve().bn]:153,[ue().h]:154,[pr().H]:155,[xe().PX]:156,[vr().GU]:157,[we().I]:158,[Le().zi]:159,[qr().e]:160,[Ke().S]:161,[Te().o]:162,[Fr().ly]:163,[Er().N]:164,[Me().n]:165,[c().KN]:166,[u().l]:167,[ze().XX]:168,[mr().To]:169,[fr().mS]:170,[U().r]:171,[bt().Xh]:172,[Br().WQ]:173,[Re().pE]:174,[Dr().U6]:175,[T().q]:176,[nr().y]:177,[re().O]:178,[Se().dP]:179,[te().kM]:180,[Vr().tE]:181,[Lr().yM]:182,[et().m]:183,[yt().W]:184,[He().V1]:185,[Ge().qt]:186,[je().lM]:187,[Ar().yv]:188,[Ce().jv]:189,[Pe().u]:190,[Ie().aF]:191,block:192,[At().G]:193,[tt().p]:194,[Ur().du]:195,[A().k$]:196,[We().J6]:197,[Ze().OC]:198,[qe().qr]:199,[nt().v]:200,[ye().S]:201,[Nt().Cr]:202,[Ut().ZP]:203,[G().I]:204};new Map(Object.entries(zr).map((([e,t])=>[t,e]))),l().yj,v().yB,B().Vl,k().ev,S().GP,C().Gy,P().SN,$().XH,Z().As,X().rG,ke().zx,rt().y7,ut()._6,vt()._7,Ot().MC,Lt().NX,Zt().n,Kt().Jr,or().yK,Nr().TF,Dt().Eu,_().YV,vr().GU,xe().PX,c().KN,u().l,Lr().yM,Ar().yv,Ie().aF,Rr().C0,tt().p,Ur().du,rt().y7;const Wr={block:!0,customer:!1,notion_user:!1,space:!0,space_bot:!0,space_permission_group:!0,space_permission_group_member:!0,space_user:!0,space_view:!0,token:!1,user_root:!1,temporary_password:!1,password:!1,collection:!0,collection_view:!0,apple_token:!1,google_token:!1,follow:!0,activity:!0,notification:!0,firebase_token:!1,trello_token:!1,asana_token:!1,confluence_token:!0,monday_token:!0,external_entity:!0,external_token:!1,external_integration_app:!1,slack_integration:!1,slack_notification:!1,discussion:!0,comment:!0,snapshot:!0,credit:!1,used_credit:!1,user_settings:!1,evernote_token:!1,space_recover_pages:!0,drive_token:!1,block_token:!1,user_metadata:!1,bot:!0,bot_token:!1,saml_config:!1,experiment:!1,education_domain:!1,education_email:!1,space_invite_link:!1,public_email_domain:!1,user_data_consent_permissions:!1,access_request:!1,page_visit:!0,page_exit:!0,subscription:!0,space_domain:!1,admin_api_op_log:!1,admin_api_log:!1,integration:!1,integration_management_permissions:!0,integration_token:!1,oauth_authorization_code:!1,mfa_settings:!1,device:!1,user_device:!1,[Z().As]:!0,[Q().h]:!0,[Nr().TF]:!0,[X().rG]:!0,[Cr().p]:!1,team:!0,[Rt().o]:!1,[R().$]:!1,[ce().h]:!1,[le().W]:!1,[pt().ez]:!0,[Y().Ps]:!1,[L().Hx]:!1,[$().XH]:!1,[jt().$]:!1,[he().Yx]:!0,[v().yB]:!0,[kt().k]:!0,[It().G]:!0,[Tt().s]:!1,[At().G]:!1,[Ct().o]:!1,[xt().ns]:!1,[wt().eq]:!1,[Bt().G]:!1,[Mt().H]:!1,[St().m]:!1,[Pt().Q]:!1,[mt().sN]:!0,[ft().Fu]:!0,[b().SC]:!0,[$t().Jm]:!0,[Yt().sB]:!0,[xr()._0]:!1,[Gt().a]:!1,[Wt().gD]:!0,[ar().XX]:!1,[ur().hR]:!1,[lr().Hi]:!1,[ir().b]:!1,[sr().v]:!1,[cr()._F]:!1,[rt().y7]:!1,[ot().M]:!0,[l().yj]:!0,[Xt().P]:!0,[Ot().MC]:!0,[p().y]:!1,[g().TF]:!0,[y().Nm]:!0,[ke().zx]:!0,[rr().yt]:!0,[ut()._6]:!0,[d().W]:!0,[h().kf]:!1,[Ae().Yx]:!1,[be().CE]:!1,[I().h]:!1,[De().K]:!1,[ze().XX]:!1,[Fe().UL]:!1,[He().V1]:!1,[Ge().qt]:!1,[qe().qr]:!1,[je().lM]:!1,[Be().Ht]:!1,[Ce().jv]:!1,[Pe().u]:!1,[We().J6]:!1,[Ze().OC]:!1,[Dt().Eu]:!0,[O().e]:!0,[Oe()._i]:!1,[Ee().UN]:!1,[ae().lo]:!0,[ct().Z]:!1,[gt().iP]:!0,[ge().bh]:!1,[de().W]:!1,[Mr().b]:!1,[Tr().C]:!1,[_r().A]:!0,[_().YV]:!0,[se().j]:!0,[w().Ay]:!0,[_t().bw]:!0,[ie().i]:!0,[$e().en]:!1,[Ve().Eg]:!1,[Ue().Kc]:!1,[Le().zi]:!1,[st().eV]:!1,[Ne().QO]:!1,[Rr().C0]:!0,[Gr().Ec]:!0,[Or().QR]:!0,[Hr().P]:!1,[Fr().ly]:!0,[Er().N]:!1,[Vr().tE]:!0,[Lr().yM]:!0,[ht().Xi]:!0,[me().yD]:!0,[mr().To]:!0,[fr().mS]:!0,[ve().bn]:!1,[re().O]:!0,[ue().h]:!1,[pr().H]:!0,[qr().e]:!0,[xe().PX]:!1,[we().I]:!1,[Te().o]:!0,[Me().n]:!0,[vr().GU]:!0,[Ke().S]:!1,[c().KN]:!0,[u().l]:!1,[U().r]:!1,[bt().Xh]:!0,[Br().WQ]:!0,[Re().pE]:!1,[Dr().U6]:!0,[T().q]:!0,[Nt().Cr]:!0,[Ut().ZP]:!0,[nr().y]:!1,[Se().dP]:!1,[te().kM]:!1,[et().m]:!1,[yt().W]:!0,[Ar().yv]:!1,[Ie().aF]:!1,[tt().p]:!1,[Ur().du]:!0,[A().k$]:!1,[nt().v]:!1,[G().I]:!0};function Zr(e){return Wr[e]}function Qr(e){return zr[e]}function Kr(e){return jr[e]}const Jr=(0,r(534177).uv)($r);function Yr(e){return Jr.includes(e)}r(638681).literals(...(0,r(720665).HP)($r));const Xr={};n().uk($r,(e=>{e.columnTypes&&n().uk(e.columnTypes,((e,t)=>{t&&(Xr[t]=!0)}))}));const en=$r},628588:(e,t,r)=>{r.d(t,{A:()=>a,G:()=>o});var n=()=>r(292588);const o="server_integrations__github_installation",a={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,installation_id:n().A.String,space_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},628720:(e,t,r)=>{r.d(t,{Ay:()=>i,H8:()=>a,qr:()=>o});var n=()=>r(292588);const o="marketplace_profile_invitation",a={[r(183171).V1]:!0},i={table:o,columnTypes:{id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,membership_type:n().A.String,status:n().A.String,invitee_id:n().A.UUID,created_at:n().A.Number,created_by:n().A.UUID,cancelled_at:n().A.Number,cancelled_by:n().A.UUID,rejected_at:n().A.Number,accepted_at:n().A.Number,attributes:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,parent_id:!0,parent_table:!0,membership_type:!0,status:!0,invitee_id:!0,created_at:!0,created_by:!0,version:!0},model:(0,r(152853).P)({RecordStore:!0})}},632905:(e,t,r)=>{r.d(t,{A:()=>n,wB:()=>o});let n=function(e){return e[e.FormulaValue=0]="FormulaValue",e[e.FormulaValue2=1]="FormulaValue2",e[e.CollectionAggregationResult=2]="CollectionAggregationResult",e}({});const o={"421618d2-8a87-4d8b-89f3-66b3be775c42":"B1","152bf835-0558-4737-a7c0-f8320e4e8b96":"B2","fdd25a45-a3ff-4405-9750-4850d9dae916":"B3","ea7d751e-a89f-473b-a900-168c543bd156":"B4","9a447736-eb8f-4816-92a2-9a805605ab6b":"B5","3ff86601-f54d-49a7-83c7-667d1d259267":"B6"}},633240:(e,t,r)=>{r.d(t,{A:()=>a,e:()=>o});var n=()=>r(292588);const o="workspace_encryption_key",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,encrypted_key_blob:n().A.String,customer_kms_arn:n().A.String,created_at:n().A.Number,updated_at:n().A.Number,revoked_at:n().A.Number},requiredColumns:{version:!0,space_id:!0,encrypted_key_blob:!0,customer_kms_arn:!0,created_at:!0,updated_at:!0},model:(0,r(152853).P)({RecordStore:!1})}},634201:(e,t,r)=>{r.d(t,{AP:()=>v,FT:()=>x,Fk:()=>A,Fq:()=>y,I:()=>l,LJ:()=>f,PE:()=>k,Se:()=>T,Yf:()=>m,Z4:()=>S,bz:()=>g,f7:()=>_,qg:()=>M,sd:()=>b});r(18107),r(944114),r(967357),r(898992),r(354520);var n=()=>r(496603),o=()=>r(534177),a=()=>r(148307),i=()=>r(669729),s=()=>r(220719);const l=60,c=64,u=1,d=/[\u{E0020}-\u{E007E}]/u,p="";function m(e,t){var r;const n=A(e);return null===(r=(0,i().$)(n,t))||void 0===r||null===(r=r.keywords)||void 0===r?void 0:r[0]}function f(e){return{x:e.sheetX*(c+2*u)+u,y:e.sheetY*(c+2*u)+u,size:c}}function g(e){return"apple"===e?a().A.images.emoji.appleEmojiSpritesheet64Png:"twitter"===e?a().A.images.emoji.twitterEmojiSpritesheet64Png:"google"===e?a().A.images.emoji.googleEmojiSpritesheet64Png:(0,o().HB)(e)}function y(e,t){const r=(0,i().$)(e,t);return r&&r.variations||[]}function _(e){const t=e.toLowerCase().replace(/_/g," ").replace(/([a-z0-9])-$/g,"$1").replace(/-([a-z])/g," $1").replace(/\s+/g," ").trim();if(t)return t}function v(e){var t;const r=(null===(t=_(e))||void 0===t?void 0:t.split(/\s+/g).filter(Boolean))??[];return[_(e)??e,...r]}function b(e,t){return k(e).filter((e=>!(0,i().$)(e,t))).join("")}const h=["","","","",""];function A(e){let t=e;return h.forEach((e=>t=t.replace(e,""))),t}const I=new(r(759303).q)({max:30,ttl:r(720665).Xb,updateAgeOnGet:!0});function k(e){const t=I.get(e);if(t)return t;if(n().Kg(e)){const t=function(e){const t=[];let r=0;for(;r<e.length;){let n=e[r];if(""===e[r]&&r+2<=e.length){const t=r;for(r+=1;r<e.length&&d.test(e[r]);)r+=1;if(r<e.length&&e[r]===p){const o=r;n=e.slice(t,o+1).join("")}else r=t}t.push(n),r+=1}return t}(n().$r(e));return I.set(e,t),t}return n().$r(e)}class x{constructor(e){this.codepointToGraphemeMap=void 0,this.codepointToGraphemeMap=new Map;let t=0,r=0;for(;r<e.length;r++){const n=e[r].length;for(let e=0;e<n;e++)this.codepointToGraphemeMap.set(t+e,r);t+=n}this.codepointToGraphemeMap.set(t,r)}getGraphemeIndex(e){return(0,s().o9)(this.codepointToGraphemeMap.get(e))}}class S{constructor(e){this.graphemeInfoArray=void 0,this.graphemeInfoArray=[];let t=0;for(const r of e)this.graphemeInfoArray.push({char:r,startIndex:t,length:r.length}),t+=r.length}getStringStartIndex(e){return(0,s().MX)(0<=e&&e<=this.graphemeInfoArray.length,"Invalid grapheme index"),e===this.graphemeInfoArray.length?this.getStringLength():this.graphemeInfoArray[e].startIndex}getStringEndIndex(e){return(0,s().MX)(0<=e&&e<this.graphemeInfoArray.length,"Invalid grapheme index"),this.graphemeInfoArray[e].startIndex+this.graphemeInfoArray[e].length-1}getCharLength(e){return(0,s().MX)(0<=e&&e<this.graphemeInfoArray.length,"Invalid grapheme index"),this.graphemeInfoArray[e].length}getStringLength(){return this.graphemeInfoArray.length?this.graphemeInfoArray.at(-1).startIndex+this.graphemeInfoArray.at(-1).length:0}getInclusiveStringRangeForSelection(e){return{startIndex:this.getStringStartIndex(e.startIndex),endIndex:this.getStringEndIndex(e.endIndex-1)}}getLength(){return this.graphemeInfoArray.length}}function T(e){const t={};for(const[r,n]of Object.entries(e.emojiByColorRaw))for(const e of n)t[e]=r;return{...e,emojiByColorProcessed:t}}Symbol("UnicodeEmojiString");const M={isCustomEmojiString:e=>e.startsWith("notion://custom_emoji/"),fromPointer:e=>({type:"custom",pointer:e}),fromCustomEmojiString:function(e){const{pathname:t}=(0,r(188835).parse)(e),[n,o,a]=t.split("/");return{type:"custom",pointer:{table:r(837420).e,id:a,spaceId:o}}},fromUnicodeEmojiString:function(e){return{type:"unicode",unicode:e}},toString(e){switch(e.type){case"custom":return`notion://custom_emoji/${e.pointer.spaceId}/${e.pointer.id}`;case"unicode":return e.unicode;default:(0,o().HB)(e)}}}},636045:(e,t,r)=>{r.d(t,{A:()=>a,v:()=>o});var n=()=>r(292588);const o="education_email",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,email:n().A.String,activated:n().A.Boolean},requiredColumns:{email:!0,activated:!0},defaultColumnValues:{activated:!1}}},637997:(e,t,r)=>{r.d(t,{aI:()=>o,fB:()=>a,pi:()=>n});const n=["","","","","",""],o=n.length-1,a={}},638013:(e,t,r)=>{r.d(t,{p:()=>u});var n=()=>r(751735),o=()=>r(512062),a=()=>r(382041);const i="rgb(15, 15, 15)",s="rgb(15, 15, 15)",l=o().M.light.uiBlue[600],c=o().M.light.red[500],u={shadowColor:{light:i,dark:s},shadowOpacity:{light:.1,dark:.2},bottomActionBarShadow:{light:`0 -1px 0 1px ${(0,n().X4)(i,.05)}, 0 -3px 6px ${(0,n().X4)(i,.1)}`,dark:`0 -1px 0 1px ${(0,n().X4)(s,.05)}, 0 -3px 6px ${(0,n().X4)(i,.1)}`},buttonBoxShadow:{light:`inset 0 0 0 1px ${(0,n().X4)(i,.1)}, 0 1px 2px ${(0,n().X4)(i,.1)}`,dark:`inset 0 0 0 1px ${(0,n().X4)(s,.2)}, 0 1px 2px ${(0,n().X4)(s,.1)}`},connectorBubbleShadow:{light:`0 0 0 1.5px ${(0,n().X4)(i,.04)}`,dark:"0 0 0 1.5px rgba(255, 255, 255, 0.07)"},timelineTableBoxShadow:{light:`0 0 8px 0 ${(0,n().X4)(i,.03)}`,dark:`0 0 8px 0 ${(0,n().X4)(s,.03)}`},elevatedButtonBoxShadow:{light:`inset 0 0 0 1px ${(0,n().X4)(i,.15)}, 0 2px 4px ${(0,n().X4)(i,.07)}`,dark:`inset 0 0 0 1px ${(0,n().X4)(s,.2)}, 0 2px 4px ${(0,n().X4)(s,.1)}`},avatarBoxShadow:{light:"0 2px 4px rgba(15, 15, 15, 0.1)",dark:"0 2px 4px rgba(15, 15, 15, 0.2)"},buttonBlueFocusRing:{light:"\n\t\t\t0px 0px 0px 2px #f8f8f7,\n            0px 0px 0px 4px #2383E2,\n            0px 0px 0px 6px rgba(255,255,255,0.25)\n\t  ",dark:"\n\t\t\t0px 0px 0px 2px #191919,\n            0px 0px 0px 4px #2383E2,\n            0px 0px 0px 6px #191919\n\t  "},inputBoxShadow:{light:d({elevation:1,color:i,opacity:.1,inner:!1}),dark:"rgba(255, 255, 255, 0.075) 0 0 0 1px"},inputRedFocusRing:{light:`\n            0px 0px 0px 1px ${c} inset,\n            0px 0px 0px 1px ${c}\n\t\t`,dark:`\n\t\t\t0px 0px 0px 1px ${c} inset,\n            0px 0px 0px 1px ${c}\n\t\t`},inputBlueFocusRing:{light:`\n            0px 0px 0px 1px ${l} inset,\n            0px 0px 0px 1px ${l}\n\t\t`,dark:`\n\t\t\t0px 0px 0px 1px ${l} inset,\n            0px 0px 0px 1px ${l}\n\t\t`},collectionTableOutlineUltraThinBlueInputBoxShadow:{light:"\n\t\t\trgba(35, 131, 226, 0.35) 0px 0px 0px 1px inset,\n\t\t\trgba(35, 131, 226, 0.3) 0px 0px 0px 1.5px inset\n\t  ",dark:"\n\t\trgba(35, 131, 226, 0.35) 0px 0px 0px 1px inset,\n\t\trgba(35, 131, 226, 0.3) 0px 0px 0px 1.5px inset\n\t  "},sidebarResizerBoxShadow:{light:"inset calc(var(--direction, 1) * -2px) 0px 0px 0px rgba(0, 0, 0, 0.1)",dark:"inset calc(var(--direction, 1) * -2px) 0px 0px 0px rgba(255, 255, 255, 0.1)"},sidebarBoxShadow:{light:"inset calc(var(--direction, 1) * -1px) 0px 0px 0px #EEEEEC",dark:"inset calc(var(--direction, 1) * -1px) 0px 0px 0px #2A2A2A"},secondarySidebarDiffuseShadow:{light:"0px 14px 28px -6px rgba(0, 0, 0, 0.10), 0px 2px 4px -1px rgba(0, 0, 0, 0.06)",dark:"0px 14px 28px -6px rgba(0, 0, 0, 0.20), 0px 2px 4px -1px rgba(0, 0, 0, 0.12)"},secondarySidebarResizerBoxShadow:{light:"inset calc(var(--direction, 1) * -2px) 0px 0px 0px rgb(229, 229, 229)",dark:"inset calc(var(--direction, 1) * -2px) 0px 0px 0px rgba(255, 255, 255, 0.095)"},secondarySidebarBorderBoxShadow:{light:"inset calc(var(--direction, 1) * -1px) 0px 0px 0px rgba(84, 72, 49, 0.08)",dark:"inset calc(var(--direction, 1) * -1px) 0px 0px 0px rgba(255, 255, 255, 0.095)"},topbarAndroidShadow:{light:"\n\t\t\trgba(15, 15, 15, 0.1) 0px 2px 4px,\n\t\t\trgba(15, 15, 15, 0.15) 0px 2px 8px\n\t\t",dark:"\n\t\t\trgba(15, 15, 15, 0.2) 0px 2px 4px,\n\t\t\trgba(15, 15, 15, 0.3) 0px 2px 8px\n\t\t"},topbarAndroidShadowCollapsed:{light:"\n\t\t\trgba(15, 15, 15, 0.1) 0px 1px 0px,\n\t\t\ttransparent 0px 0px 0px\n\t\t",dark:"\n\t\t\trgba(15, 15, 15, 0.2) 0px 1px 0px,\n\t\t\ttransparent 0px 0px 0px\n\t\t"},homeScrollButtonShadow:{light:d({elevation:2,color:i,opacity:.1}),dark:d({elevation:2,color:s,opacity:.2})},homeShadow:{light:{card:{base:d({inner:!1,elevation:1,color:"black",opacity:.05}),hovered:d({inner:!1,elevation:1,color:"black",opacity:.1})},templateCard:{base:d({inner:!1,elevation:1,color:"black",opacity:.06}),hovered:d({inner:!1,elevation:1,color:"black",opacity:.12})}},dark:{card:{base:"unset",hovered:d({inner:!0,elevation:1,color:"white",opacity:.05})},templateCard:{base:"unset",hovered:d({inner:!0,elevation:1,color:"white",opacity:.05})}}},frontDialogShadow:{light:d({elevation:5,color:(0,n().Mj)("rgb(15, 15, 15)"),opacity:.1}),dark:d({elevation:5,color:(0,n().Mj)("rgb(15, 15, 15)"),opacity:.1})},focusedShadow:{light:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px",dark:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},shadow2XS:{light:"0 0 0 1px rgba(84, 72, 49, 0.15)",dark:"0 0 0 1px rgba(255, 255, 255, 0.095)"},shadowXS:{light:"0px 2px 4px 0 rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(84, 72, 49, 0.08)",dark:`0 0 0 1px ${a().n.border.dark.primary}, 0px 2px 4px 0 rgba(0, 0, 0, 0.08)`},shadowSM:{light:"0px 4px 12px -2px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(84, 72, 49, 0.08)",dark:`0 0 0 1px ${a().n.border.dark.primary}, 0px 4px 12px -2px rgba(0, 0, 0, 0.16)`},shadowSMThickerOutline:{light:"0px 4px 12px -2px rgba(0, 0, 0, 0.08), 0 0 0 2px rgba(84, 72, 49, 0.08)",dark:`0 0 0 2px ${a().n.border.dark.primary}, 0px 4px 12px -2px rgba(0, 0, 0, 0.16)`},shadowMD:{light:"0px 14px 28px -6px rgba(0, 0, 0, 0.10), 0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 1px rgba(84, 72, 49, 0.08)",dark:`0 0 0 1px ${a().n.border.dark.primary}, 0px 14px 28px -6px rgba(0, 0, 0, 0.20), 0px 2px 4px -1px rgba(0, 0, 0, 0.12)`},shadowMDPrimaryOutline:{light:`0px 14px 28px -6px rgba(0, 0, 0, 0.10), 0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 1px ${a().n.border.light.primaryTranslucent}`,dark:`inset 0 0 0 1px ${a().n.border.dark.primaryTranslucent}, 0px 14px 28px -6px rgba(0, 0, 0, 0.20), 0px 2px 4px -1px rgba(0, 0, 0, 0.12)`},shadowMDThickerOutline:{light:"0px 14px 28px -6px rgba(0, 0, 0, 0.10), 0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0 0 0 2px rgba(84, 72, 49, 0.08)",dark:`0 0 0 2px ${a().n.border.dark.primary}, 0px 14px 28px -6px rgba(0, 0, 0, 0.20), 0px 2px 4px -1px rgba(0, 0, 0, 0.12)`},shadowLG:{light:"0px 24px 48px -8px rgba(0, 0, 0, 0.24), 0px 4px 12px -1px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(84, 72, 49, 0.08)",dark:`0 0 0 1px ${a().n.border.dark.primary}, 0px 24px 48px -8px rgba(0, 0, 0, 0.48), 0px 4px 12px -1px rgba(0, 0, 0, 0.24)`}};function d({elevation:e,color:t=(0,n().Mj)({h:0,s:1,l:7}),opacity:r=.1,inner:o=!1}){const a=o?"inset":"";switch(e){case 1:return`\n\t\t\t\t\t${a} 0 0 0 1px ${(0,n().X4)(t,r)}\n\t\t\t\t`;case 2:return`\n\t\t\t\t\t${a} 0 0 0 1px ${(0,n().X4)(t,r)},\n\t\t\t\t\t${a} 0 2px 4px ${(0,n().X4)(t,r)}\n\t\t\t\t`;default:return`\n\t\t\t\t\t${a} 0 0 0 1px ${(0,n().X4)(t,r/2)},\n\t\t\t\t\t${a} 0 ${Number(e)}px ${2*e}px ${(0,n().X4)(t,r)},\n\t\t\t\t\t${a} 0 ${3*e}px ${8*e}px ${(0,n().X4)(t,2*r)}\n\t\t\t\t`}}},641284:(e,t,r)=>{r.d(t,{A:()=>a,a:()=>o});var n=()=>r(292588);const o="space_content_duplication_lookup",a={table:o,columnTypes:{id:n().A.UUID,source_space_id:n().A.UUID,target_space_id:n().A.UUID,source_id:n().A.UUID,source_type:n().A.String,target_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number},model:(0,r(152853).P)({properties:{source_id:{getRelationalPointerMethod:!1},target_id:{getRelationalPointerMethod:!1}}})}},646178:(e,t,r)=>{r.d(t,{Ay:()=>i,P:()=>o,eU:()=>a});var n=()=>r(292588);const o="promo",a="credit",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,amount:n().A.Number,created_timestamp:n().A.Number,type:n().A.String,to_user_id:n().A.UUID,activated:n().A.Boolean,from_user_id:n().A.UUID,sent_email:n().A.Boolean}}},647147:(e,t,r)=>{r.d(t,{A:()=>a,D:()=>o});var n=()=>r(292588);const o="external_token",a={table:o,columnTypes:{id:n().A.UUID,external_entity_id:n().A.UUID,scopes:n().A.StringArray,auth_type:n().A.String,access_token:n().A.String,refresh_token:n().A.String,expires_at:n().A.Number,lock_status:n().A.String,alive:n().A.Boolean,version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,updated_by_table:n().A.String,updated_by_id:n().A.UUID},model:(0,r(152853).P)({})}},651124:(e,t,r)=>{r.d(t,{Cn:()=>C,Dq:()=>v,IE:()=>d,LH:()=>S,Lu:()=>s,OA:()=>y,PI:()=>A,RL:()=>_,Sn:()=>N,Ts:()=>U,Ui:()=>x,WH:()=>l,WO:()=>R,Xv:()=>h,ZC:()=>p,Zi:()=>g,bg:()=>k,fi:()=>b,jf:()=>c,kp:()=>I,qL:()=>T,u9:()=>m,uO:()=>u,v:()=>M,vj:()=>f,w3:()=>B,zl:()=>w});r(898992),r(672577);var n=()=>r(534177),o=()=>r(634201),a=()=>r(278238),i=()=>r(945778);const s={type:"database"},l="list";let c=function(e){return e[e.Page=0]="Page",e[e.Collection=1]="Collection",e[e.Table=2]="Table",e[e.Board=3]="Board",e[e.Calendar=4]="Calendar",e[e.List=5]="List",e[e.Gallery=6]="Gallery",e[e.Timeline=7]="Timeline",e[e.PageView=8]="PageView",e[e.Relation=9]="Relation",e[e.Chart=10]="Chart",e[e.FormEditor=11]="FormEditor",e[e.Feed=12]="Feed",e[e.ChatView=13]="ChatView",e[e.CustomView=14]="CustomView",e[e.Dashboard=15]="Dashboard",e}({}),u=function(e){return e.Jira="Jira",e.Salesforce="Salesforce",e}({}),d=function(e){return e.CsvImport="CsvImport",e}({});const p=["goal","project","task","doc","meeting"];function m(e){return"table"===e?"table_properties":"board"===e?"board_properties":"calendar"===e?"calendar_properties":"gallery"===e?"gallery_properties":"list"===e?"list_properties":"timeline"===e?"timeline_properties":"page"===e?"page_view_properties":"feed"===e?"feed_properties":void("chart"===e||"dashboard"===e||"form_editor"===e||"map"===e||"chat"===e||"custom"===e||(0,n().HB)(e))}const f=["show","hide_if_empty","hide"],g={backlinks:"section_collapsed",comments:"section_show",margin_comments:"inline"},y=["inline","minimal","section_hide"],_=["inline","minimal"];function v(e){switch(e){case"code":case"preview":case"split_view":return!0;default:return!1}}const b="medium",h=280,A=220,I=200,k=35,x=["hours","day","week","bi_week","month","quarter","year","5_years"];function S(e){return!(!function(e){return!(!e.original_url||!e.external_object_id)}(e)&&!function(e){return!(!e.is_placeholder||e.integration_id)}(e))}function T(e){return"table"===e?c.Table:"board"===e?c.Board:"calendar"===e?c.Calendar:"list"===e?c.List:"timeline"===e?c.Timeline:"page"===e?c.PageView:"gallery"===e?c.Gallery:"chart"===e?c.Chart:"form_editor"===e?c.FormEditor:"feed"===e?c.Feed:"map"===e||"chat"===e?c.ChatView:"custom"===e?c.CustomView:"dashboard"===e?c.Dashboard:void(0,n().HB)(e)}function M(e){var t;return null==e||null===(t=e.getFormat())||void 0===t?void 0:t.drive_properties}function w(e){return Boolean(e)}function B(e,t){return Boolean(e&&t.find((({property:e,visible:t})=>Boolean("title"===e&&t))))}function C(e,t,r){let n=[...e];const o=e.findIndex((e=>e.property===t)),a=e[o];return a?!a.visible&&r&&(n[o]={...n[o],visible:!0}):n=[{property:t,visible:!0},...e],n}const P=new RegExp(/notion:\/\/.*\/tutorial\/.*/);function N(e){return!!e&&P.test(e)}r(720665).Xb;function U(e,t){var r;if(!e)return{status:"notRunning"};const o=null===(r=e.update_ai_inferences_status)||void 0===r?void 0:r[t];return o?"requested"===o.type?{status:"requested"}:"updating"===o.type?{status:"running",numPagesFilled:o.num_pages_filled??0,numPagesRequested:o.num_pages_requested??0,lastEditedTime:o.last_edited_time??0}:void(0,n().HB)(o):{status:"notRunning"}}function R(e){if(null!=e)return o().qg.isCustomEmojiString(e)?{type:"custom_emoji",emoji:o().qg.fromCustomEmojiString(e),icon:e}:(0,a().T8)(e)?{type:"notion_icon",icon:e}:(0,a()._O)(e)?{type:"app_package_asset",icon:e}:(0,i().A)(e)?{type:"unicode_emoji",emoji:o().qg.fromUnicodeEmojiString(e),icon:e}:{type:"url",icon:e}}},652106:(e,t,r)=>{r.d(t,{A:()=>a,k:()=>o});var n=()=>r(292588);const o="server_integrations__jira_webhook",a={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,webhook_id:n().A.Number,space_id:n().A.UUID,version:n().A.Number,user_id:n().A.UUID,site:n().A.String,webhook_details:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number}}},656048:(e,t,r)=>{r.d(t,{Ay:()=>a,ad:()=>o});var n=()=>r(292588);const o="experiment",a={table:o,columnTypes:{id:n().A.UUID,experiment_id:n().A.String,version:n().A.Number,last_version:n().A.Number,groups:n().A.JSON,overrides:n().A.JSON,experiment_version:n().A.Number,start_time:n().A.Number,end_time:n().A.Number,target_type:n().A.String}}},657970:(e,t,r)=>{r.d(t,{w:()=>a});var n=()=>r(201980),o=()=>r(356246);function a(e){return n().k4p(e).trim().toLowerCase()===o().I1.trim().toLowerCase()}},660237:(e,t,r)=>{r.d(t,{Ef:()=>a,SV:()=>i,_D:()=>p,eh:()=>u});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);const n=[{name:"Afghanistan",countryCode:"AF"},{name:"land Islands",countryCode:"AX"},{name:"Albania",countryCode:"AL"},{name:"Algeria",countryCode:"DZ"},{name:"American Samoa",countryCode:"AS"},{name:"Andorra",countryCode:"AD"},{name:"Angola",countryCode:"AO"},{name:"Anguilla",countryCode:"AI"},{name:"Antarctica",countryCode:"AQ"},{name:"Antigua and Barbuda",countryCode:"AG"},{name:"Argentina",countryCode:"AR"},{name:"Armenia",countryCode:"AM"},{name:"Aruba",countryCode:"AW"},{name:"Australia",countryCode:"AU"},{name:"Austria",countryCode:"AT"},{name:"Azerbaijan",countryCode:"AZ"},{name:"Bahamas",countryCode:"BS"},{name:"Bahrain",countryCode:"BH"},{name:"Bangladesh",countryCode:"BD"},{name:"Barbados",countryCode:"BB"},{name:"Belarus",countryCode:"BY"},{name:"Belgium",countryCode:"BE"},{name:"Belize",countryCode:"BZ"},{name:"Benin",countryCode:"BJ"},{name:"Bermuda",countryCode:"BM"},{name:"Bhutan",countryCode:"BT"},{name:"Bolivia (Plurinational State of)",countryCode:"BO"},{name:"Bonaire, Sint Eustatius and Saba",countryCode:"BQ"},{name:"Bosnia and Herzegovina",countryCode:"BA"},{name:"Botswana",countryCode:"BW"},{name:"Bouvet Island",countryCode:"BV"},{name:"Brazil",countryCode:"BR"},{name:"British Indian Ocean Territory",countryCode:"IO"},{name:"Brunei Darussalam",countryCode:"BN"},{name:"Bulgaria",countryCode:"BG"},{name:"Burkina Faso",countryCode:"BF"},{name:"Burundi",countryCode:"BI"},{name:"Cabo Verde",countryCode:"CV"},{name:"Cambodia",countryCode:"KH"},{name:"Cameroon",countryCode:"CM"},{name:"Canada",countryCode:"CA"},{name:"Cayman Islands",countryCode:"KY"},{name:"Central African Republic",countryCode:"CF"},{name:"Chad",countryCode:"TD"},{name:"Chile",countryCode:"CL"},{name:"China",countryCode:"CN"},{name:"Christmas Island",countryCode:"CX"},{name:"Cocos (Keeling) Islands",countryCode:"CC"},{name:"Colombia",countryCode:"CO"},{name:"Comoros",countryCode:"KM"},{name:"Congo",countryCode:"CG"},{name:"Congo, Democratic Republic of the",countryCode:"CD"},{name:"Cook Islands",countryCode:"CK"},{name:"Costa Rica",countryCode:"CR"},{name:"Cte d'Ivoire",countryCode:"CI"},{name:"Croatia",countryCode:"HR"},{name:"Cuba",countryCode:"CU"},{name:"Curaao",countryCode:"CW"},{name:"Cyprus",countryCode:"CY"},{name:"Czechia",countryCode:"CZ"},{name:"Denmark",countryCode:"DK"},{name:"Djibouti",countryCode:"DJ"},{name:"Dominica",countryCode:"DM"},{name:"Dominican Republic",countryCode:"DO"},{name:"Ecuador",countryCode:"EC"},{name:"Egypt",countryCode:"EG"},{name:"El Salvador",countryCode:"SV"},{name:"Equatorial Guinea",countryCode:"GQ"},{name:"Eritrea",countryCode:"ER"},{name:"Estonia",countryCode:"EE"},{name:"Eswatini",countryCode:"SZ"},{name:"Ethiopia",countryCode:"ET"},{name:"Falkland Islands (Malvinas)",countryCode:"FK"},{name:"Faroe Islands",countryCode:"FO"},{name:"Fiji",countryCode:"FJ"},{name:"Finland",countryCode:"FI"},{name:"France",countryCode:"FR"},{name:"French Guiana",countryCode:"GF"},{name:"French Polynesia",countryCode:"PF"},{name:"French Southern Territories",countryCode:"TF"},{name:"Gabon",countryCode:"GA"},{name:"Gambia",countryCode:"GM"},{name:"Georgia",countryCode:"GE"},{name:"Germany",countryCode:"DE"},{name:"Ghana",countryCode:"GH"},{name:"Gibraltar",countryCode:"GI"},{name:"Greece",countryCode:"GR"},{name:"Greenland",countryCode:"GL"},{name:"Grenada",countryCode:"GD"},{name:"Guadeloupe",countryCode:"GP"},{name:"Guam",countryCode:"GU"},{name:"Guatemala",countryCode:"GT"},{name:"Guernsey",countryCode:"GG"},{name:"Guinea",countryCode:"GN"},{name:"Guinea-Bissau",countryCode:"GW"},{name:"Guyana",countryCode:"GY"},{name:"Haiti",countryCode:"HT"},{name:"Heard Island and McDonald Islands",countryCode:"HM"},{name:"Holy See",countryCode:"VA"},{name:"Honduras",countryCode:"HN"},{name:"Hong Kong",countryCode:"HK"},{name:"Hungary",countryCode:"HU"},{name:"Iceland",countryCode:"IS"},{name:"India",countryCode:"IN"},{name:"Indonesia",countryCode:"ID"},{name:"Iran (Islamic Republic of)",countryCode:"IR"},{name:"Iraq",countryCode:"IQ"},{name:"Ireland",countryCode:"IE"},{name:"Isle of Man",countryCode:"IM"},{name:"Israel",countryCode:"IL"},{name:"Italy",countryCode:"IT"},{name:"Jamaica",countryCode:"JM"},{name:"Japan",countryCode:"JP"},{name:"Jersey",countryCode:"JE"},{name:"Jordan",countryCode:"JO"},{name:"Kazakhstan",countryCode:"KZ"},{name:"Kenya",countryCode:"KE"},{name:"Kiribati",countryCode:"KI"},{name:"Korea, Republic of",countryCode:"KR"},{name:"Kosovo",countryCode:"XK"},{name:"Kuwait",countryCode:"KW"},{name:"Kyrgyzstan",countryCode:"KG"},{name:"Lao People's Democratic Republic",countryCode:"LA"},{name:"Latvia",countryCode:"LV"},{name:"Lebanon",countryCode:"LB"},{name:"Lesotho",countryCode:"LS"},{name:"Liberia",countryCode:"LR"},{name:"Libya",countryCode:"LY"},{name:"Liechtenstein",countryCode:"LI"},{name:"Lithuania",countryCode:"LT"},{name:"Luxembourg",countryCode:"LU"},{name:"Macao",countryCode:"MO"},{name:"Madagascar",countryCode:"MG"},{name:"Malawi",countryCode:"MW"},{name:"Malaysia",countryCode:"MY"},{name:"Maldives",countryCode:"MV"},{name:"Mali",countryCode:"ML"},{name:"Malta",countryCode:"MT"},{name:"Marshall Islands",countryCode:"MH"},{name:"Martinique",countryCode:"MQ"},{name:"Mauritania",countryCode:"MR"},{name:"Mauritius",countryCode:"MU"},{name:"Mayotte",countryCode:"YT"},{name:"Mexico",countryCode:"MX"},{name:"Micronesia (Federated States of)",countryCode:"FM"},{name:"Moldova, Republic of",countryCode:"MD"},{name:"Monaco",countryCode:"MC"},{name:"Mongolia",countryCode:"MN"},{name:"Montenegro",countryCode:"ME"},{name:"Montserrat",countryCode:"MS"},{name:"Morocco",countryCode:"MA"},{name:"Mozambique",countryCode:"MZ"},{name:"Myanmar",countryCode:"MM"},{name:"Namibia",countryCode:"NA"},{name:"Nauru",countryCode:"NR"},{name:"Nepal",countryCode:"NP"},{name:"Netherlands",countryCode:"NL"},{name:"New Caledonia",countryCode:"NC"},{name:"New Zealand",countryCode:"NZ"},{name:"Nicaragua",countryCode:"NI"},{name:"Niger",countryCode:"NE"},{name:"Nigeria",countryCode:"NG"},{name:"Niue",countryCode:"NU"},{name:"Norfolk Island",countryCode:"NF"},{name:"North Korea",countryCode:"KP"},{name:"North Macedonia",countryCode:"MK"},{name:"Northern Mariana Islands",countryCode:"MP"},{name:"Norway",countryCode:"NO"},{name:"Oman",countryCode:"OM"},{name:"Pakistan",countryCode:"PK"},{name:"Palau",countryCode:"PW"},{name:"Palestine, State of",countryCode:"PS"},{name:"Panama",countryCode:"PA"},{name:"Papua New Guinea",countryCode:"PG"},{name:"Paraguay",countryCode:"PY"},{name:"Peru",countryCode:"PE"},{name:"Philippines",countryCode:"PH"},{name:"Pitcairn",countryCode:"PN"},{name:"Poland",countryCode:"PL"},{name:"Portugal",countryCode:"PT"},{name:"Puerto Rico",countryCode:"PR"},{name:"Qatar",countryCode:"QA"},{name:"Runion",countryCode:"RE"},{name:"Romania",countryCode:"RO"},{name:"Russian Federation",countryCode:"RU"},{name:"Rwanda",countryCode:"RW"},{name:"Saint Barthlemy",countryCode:"BL"},{name:"Saint Helena, Ascension and Tristan da Cunha",countryCode:"SH"},{name:"Saint Kitts and Nevis",countryCode:"KN"},{name:"Saint Lucia",countryCode:"LC"},{name:"Saint Martin (French part)",countryCode:"MF"},{name:"Saint Pierre and Miquelon",countryCode:"PM"},{name:"Saint Vincent and the Grenadines",countryCode:"VC"},{name:"Samoa",countryCode:"WS"},{name:"San Marino",countryCode:"SM"},{name:"Sao Tome and Principe",countryCode:"ST"},{name:"Saudi Arabia",countryCode:"SA"},{name:"Senegal",countryCode:"SN"},{name:"Serbia",countryCode:"RS"},{name:"Seychelles",countryCode:"SC"},{name:"Sierra Leone",countryCode:"SL"},{name:"Singapore",countryCode:"SG"},{name:"Sint Maarten (Dutch part)",countryCode:"SX"},{name:"Slovakia",countryCode:"SK"},{name:"Slovenia",countryCode:"SI"},{name:"Solomon Islands",countryCode:"SB"},{name:"Somalia",countryCode:"SO"},{name:"South Africa",countryCode:"ZA"},{name:"South Georgia and the South Sandwich Islands",countryCode:"GS"},{name:"South Sudan",countryCode:"SS"},{name:"Spain",countryCode:"ES"},{name:"Sri Lanka",countryCode:"LK"},{name:"Sudan",countryCode:"SD"},{name:"Suriname",countryCode:"SR"},{name:"Svalbard and Jan Mayen",countryCode:"SJ"},{name:"Sweden",countryCode:"SE"},{name:"Switzerland",countryCode:"CH"},{name:"Syrian Arab Republic",countryCode:"SY"},{name:"Taiwan",countryCode:"TW"},{name:"Tajikistan",countryCode:"TJ"},{name:"Tanzania, United Republic of",countryCode:"TZ"},{name:"Thailand",countryCode:"TH"},{name:"Timor-Leste",countryCode:"TL"},{name:"Togo",countryCode:"TG"},{name:"Tokelau",countryCode:"TK"},{name:"Tonga",countryCode:"TO"},{name:"Trinidad and Tobago",countryCode:"TT"},{name:"Tunisia",countryCode:"TN"},{name:"Turkey",countryCode:"TR"},{name:"Turkmenistan",countryCode:"TM"},{name:"Turks and Caicos Islands",countryCode:"TC"},{name:"Tuvalu",countryCode:"TV"},{name:"Uganda",countryCode:"UG"},{name:"Ukraine",countryCode:"UA"},{name:"United Arab Emirates",countryCode:"AE"},{name:"United Kingdom",countryCode:"GB"},{name:"United States",countryCode:"US"},{name:"United States Minor Outlying Islands",countryCode:"UM"},{name:"Uruguay",countryCode:"UY"},{name:"Uzbekistan",countryCode:"UZ"},{name:"Vanuatu",countryCode:"VU"},{name:"Venezuela (Bolivarian Republic of)",countryCode:"VE"},{name:"Viet Nam",countryCode:"VN"},{name:"Virgin Islands (British)",countryCode:"VG"},{name:"Virgin Islands (U.S.)",countryCode:"VI"},{name:"Wallis and Futuna",countryCode:"WF"},{name:"Western Sahara",countryCode:"EH"},{name:"Yemen",countryCode:"YE"},{name:"Zambia",countryCode:"ZM"},{name:"Zimbabwe",countryCode:"ZW"}],o=new Set(n.map((({countryCode:e})=>e)));function a(e){return void 0!==e&&o.has(e)}function i(e){if(a(e))return e}const s={Afghanistan:"AF",AlandIslands:"AX",Albania:"AL",Algeria:"DZ",AmericanSamoa:"AS",Andorra:"AD",Angola:"AO",Anguilla:"AI",Antarctica:"AQ",AntiguaAndBarbuda:"AG",Argentina:"AR",Armenia:"AM",Aruba:"AW",Australia:"AU",Austria:"AT",Azerbaijan:"AZ",Bahamas:"BS",Bahrain:"BH",Bangladesh:"BD",Barbados:"BB",Belarus:"BY",Belgium:"BE",Belize:"BZ",Benin:"BJ",Bermuda:"BM",Bhutan:"BT",Bolivia:"BO",BosniaAndHerzegovina:"BA",Botswana:"BW",BouvetIsland:"BV",Brazil:"BR",BritishIndianOceanTerritory:"IO",BritishVirginIslands:"VG",Brunei:"BN",Bulgaria:"BG",BurkinaFaso:"BF",Burundi:"BI",Cambodia:"KH",Cameroon:"CM",Canada:"CA",CapeVerde:"CV",CaribbeanNetherlands:"BQ",CaymanIslands:"KY",CentralAfricanRepublic:"CF",Chad:"TD",Chile:"CL",China:"CN",ChristmasIsland:"CX",CocosIslands:"CC",Colombia:"CO",Comoros:"KM",CongoBrazzaville:"CG",CongoKinshasa:"CD",CookIslands:"CK",CostaRica:"CR",CotedIvoire:"CI",Croatia:"HR",Cuba:"CU",Curacao:"CW",Cyprus:"CY",Czechia:"CZ",Denmark:"DK",Djibouti:"DJ",Dominica:"DM",DominicanRepublic:"DO",Ecuador:"EC",Egypt:"EG",ElSalvador:"SV",EquatorialGuinea:"GQ",Eritrea:"ER",Estonia:"EE",Eswatini:"SZ",Ethiopia:"ET",FalklandIslands:"FK",FaroeIslands:"FO",Fiji:"FJ",Finland:"FI",France:"FR",FrenchGuiana:"GF",FrenchPolynesia:"PF",FrenchSouthernTerritories:"TF",Gabon:"GA",Gambia:"GM",Georgia:"GE",Germany:"DE",Ghana:"GH",Gibraltar:"GI",Greece:"GR",Greenland:"GL",Grenada:"GD",Guadeloupe:"GP",Guam:"GU",Guatemala:"GT",Guernsey:"GG",Guinea:"GN",GuineaBissau:"GW",Guyana:"GY",Haiti:"HT",HeardAndMcDonaldIslands:"HM",Honduras:"HN",HongKong:"HK",Hungary:"HU",Iceland:"IS",India:"IN",Indonesia:"ID",Iran:"IR",Iraq:"IQ",Ireland:"IE",IsleofMan:"IM",Israel:"IL",Italy:"IT",Jamaica:"JM",Japan:"JP",Jersey:"JE",Jordan:"JO",Kazakhstan:"KZ",Kenya:"KE",Kiribati:"KI",Kosovo:"XK",Kuwait:"KW",Kyrgyzstan:"KG",Laos:"LA",Latvia:"LV",Lebanon:"LB",Lesotho:"LS",Liberia:"LR",Libya:"LY",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Macao:"MO",Madagascar:"MG",Malawi:"MW",Malaysia:"MY",Maldives:"MV",Mali:"ML",Malta:"MT",MarshallIslands:"MH",Martinique:"MQ",Mauritania:"MR",Mauritius:"MU",Mayotte:"YT",Mexico:"MX",Micronesia:"FM",Moldova:"MD",Monaco:"MC",Mongolia:"MN",Montenegro:"ME",Montserrat:"MS",Morocco:"MA",Mozambique:"MZ",Myanmar:"MM",Namibia:"NA",Nauru:"NR",Nepal:"NP",Netherlands:"NL",NewCaledonia:"NC",NewZealand:"NZ",Nicaragua:"NI",Niger:"NE",Nigeria:"NG",Niue:"NU",NorfolkIsland:"NF",NorthernMarianaIslands:"MP",NorthKorea:"KP",NorthMacedonia:"MK",Norway:"NO",Oman:"OM",Pakistan:"PK",Palau:"PW",Palestine:"PS",Panama:"PA",PapuaNewGuinea:"PG",Paraguay:"PY",Peru:"PE",Philippines:"PH",PitcairnIslands:"PN",Poland:"PL",Portugal:"PT",PuertoRico:"PR",Qatar:"QA",Reunion:"RE",Romania:"RO",Russia:"RU",Rwanda:"RW",Samoa:"WS",SanMarino:"SM",SaoTomeAndPrincipe:"ST",SaudiArabia:"SA",Senegal:"SN",Serbia:"RS",Seychelles:"SC",SierraLeone:"SL",Singapore:"SG",SintMaarten:"SX",Slovakia:"SK",Slovenia:"SI",SolomonIslands:"SB",Somalia:"SO",SouthAfrica:"ZA",SouthGeorgiaAndSouthSandwichIslands:"GS",SouthKorea:"KR",SouthSudan:"SS",Spain:"ES",SriLanka:"LK",StBarthelemy:"BL",StHelena:"SH",StKittsAndNevis:"KN",StLucia:"LC",StMartin:"MF",StPierreAndMiquelon:"PM",StVincentAndGrenadines:"VC",Sudan:"SD",Suriname:"SR",SvalbardAndJanMayen:"SJ",Sweden:"SE",Switzerland:"CH",Syria:"SY",Taiwan:"TW",Tajikistan:"TJ",Tanzania:"TZ",Thailand:"TH",TimorLeste:"TL",Togo:"TG",Tokelau:"TK",Tonga:"TO",TrinidadAndTobago:"TT",Tunisia:"TN",Turkiye:"TR",Turkmenistan:"TM",TurksAndCaicosIslands:"TC",Tuvalu:"TV",Uganda:"UG",Ukraine:"UA",UnitedArabEmirates:"AE",UnitedKingdom:"GB",UnitedStates:"US",Uruguay:"UY",USOutlyingIslands:"UM",USVirginIslands:"VI",Uzbekistan:"UZ",Vanuatu:"VU",VaticanCity:"VA",Venezuela:"VE",Vietnam:"VN",WallisAndFutuna:"WF",WesternSahara:"EH",Yemen:"YE",Zambia:"ZM",Zimbabwe:"ZW"},l=Object.fromEntries(n.map((e=>[e.countryCode,e])));const c=new Set([s.Austria,s.Belgium,s.Bulgaria,s.Croatia,s.Cyprus,s.Czechia,s.Denmark,s.Estonia,s.Finland,s.France,s.Germany,s.Greece,s.Hungary,s.Ireland,s.Italy,s.Latvia,s.Lithuania,s.Luxembourg,s.Malta,s.Netherlands,s.Poland,s.Portugal,s.Romania,s.Slovakia,s.Slovenia,s.Spain,s.Sweden]);Object.fromEntries([...c].map((e=>[e,["EUR"]]))),s.UnitedKingdom,s.Brazil,s.SouthKorea,s.Japan,s.UnitedStates;function u(e){if(!a(e))return{opt:"in",defaultOptIn:!1};switch(e){case s.Albania:case s.Andorra:case s.Armenia:case s.Azerbaijan:case s.Belarus:case s.Belgium:case s.BosniaAndHerzegovina:case s.Bulgaria:case s.Croatia:case s.Cyprus:case s.Czechia:case s.Denmark:case s.Estonia:case s.Finland:case s.France:case s.Georgia:case s.Greece:case s.VaticanCity:case s.Iceland:case s.Ireland:case s.Italy:case s.Kazakhstan:case s.Kosovo:case s.Latvia:case s.Liechtenstein:case s.Lithuania:case s.Luxembourg:case s.Malta:case s.Moldova:case s.Monaco:case s.Montenegro:case s.Netherlands:case s.NorthMacedonia:case s.Norway:case s.Portugal:case s.Romania:case s.Russia:case s.SanMarino:case s.Serbia:case s.Slovakia:case s.Slovenia:case s.Spain:case s.Sweden:case s.Turkiye:case s.Ukraine:case s.UnitedKingdom:return{opt:"out",defaultOptIn:!0};case s.Hungary:case s.Poland:return{opt:"in",defaultOptIn:!1};case s.Austria:case s.Germany:case s.Switzerland:return{opt:"doubleIn",defaultOptIn:!1};default:return{opt:"in",defaultOptIn:!0}}}function d(e,t){return e.formatDisplayName(t,{type:"region"})??function(e){var t;return null===(t=l[e])||void 0===t?void 0:t.name}(t)}function p(e,t={}){const{locale:r=e.locale,collator:n=new Intl.Collator(r,{sensitivity:"base"})}=t;return Array.from(o).map((t=>({countryCode:t,name:d(e,t)}))).sort(((t,r)=>n.compare(d(e,t.countryCode),d(e,r.countryCode))))}},662149:(e,t,r)=>{r.d(t,{Y:()=>o});var n=()=>r(935136);function o(e){return t=e.operator,n().E.hasOwnProperty(t);var t}},664540:(e,t,r)=>{r.d(t,{A:()=>a,K:()=>o});var n=()=>r(292588);const o="marketplace_customer",a={table:o,columnTypes:{id:n().A.UUID,acquirer_table:n().A.String,acquirer_id:n().A.String,stripe_customer_id:n().A.String,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},665344:(e,t,r)=>{r.d(t,{Ay:()=>i,Fe:()=>o,_i:()=>a});var n=()=>r(292588);function o(e){return"mobile_app"===e||"web_gallery"===e||"in_app"===e||"public_page"===e||"agent_personalization_settings"===e}const a="marketplace_installation",i={table:a,columnTypes:{id:n().A.UUID,destination_table:n().A.String,destination_id:n().A.String,actor_table:n().A.String,actor_id:n().A.String,acquisition_id:n().A.String,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,status:n().A.String,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,destination_table:!0,destination_id:!0,actor_table:!0,actor_id:!0,acquisition_id:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},666450:(e,t,r)=>{r.d(t,{Ay:()=>a,UL:()=>o});var n=()=>r(292588);const o="marketplace_listing",a=(r(959577).XX,r(452665).J6,{table:o,columnTypes:{id:n().A.UUID,product_table:n().A.String,product_id:n().A.String,creator_id:n().A.String,price:n().A.Number,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,checkout_enabled:n().A.Boolean,ratings_attributes:n().A.JSON,installation_count:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})})},669729:(e,t,r)=>{r.d(t,{$:()=>o});var n=()=>r(637997);function o(e,{positionalEmojiData:t}){const r=t[e];if(!r)return;const[o,a,i,s]=r,{keywords:l,uniqueKeywords:c}=n().fB[e]||{};return{codepoints:o,sheetX:a,sheetY:i,variations:s,keywords:l,uniqueKeywords:c}}},673337:(e,t,r)=>{r.d(t,{Dx:()=>o,lS:()=>n,nj:()=>a});function n(e,t){return"start"===e||"end"===e?e===t:"start"!==t&&"end"!==t&&o(e,t)}function o(e,t){return e[0]===t[0]&&e[1]===t[1]}function a(e,t){return e.anchor===t.anchor&&n(e.id,t.id)}},674770:(e,t,r)=>{r.d(t,{Ay:()=>a,yv:()=>o});var n=()=>r(292588);const o="user_alias",a={table:o,columnTypes:{id:n().A.String,user_id:n().A.UUID,alias_type:n().A.String,is_primary:n().A.Boolean,clearbit:n().A.String,kickbox:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,last_version:n().A.Number,version:n().A.Number,created_by_table:n().A.String,last_edited_by_table:n().A.String,alive:n().A.Boolean},model:(0,r(152853).P)({})}},681373:(e,t,r)=>{r.d(t,{$D:()=>Tr,$c:()=>Er,Au:()=>un,BQ:()=>i,EQ:()=>kt,ER:()=>mn,Eg:()=>g,GQ:()=>z,HP:()=>Yt,Hp:()=>Ve,I1:()=>Fe,Ij:()=>Tt,JC:()=>Zt,MX:()=>Ue,N5:()=>rr,O3:()=>xe,OR:()=>Ir,Q0:()=>Jr,Qm:()=>We,R:()=>Ht,RN:()=>dn,RX:()=>jr,S4:()=>O,Si:()=>Ye,Sq:()=>A,T:()=>nt,Uy:()=>Kr,WW:()=>p,Wo:()=>or,XK:()=>N,Xk:()=>Ft,Yp:()=>re,Yu:()=>_e,ZR:()=>Me,_X:()=>ln,aI:()=>w,bZ:()=>Pr,cg:()=>ie,cy:()=>x,cz:()=>Ce,dR:()=>c,de:()=>Vr,fL:()=>rt,gV:()=>Be,gi:()=>nn,go:()=>cr,gv:()=>ir,i8:()=>Mr,iG:()=>qr,iQ:()=>Ae,ik:()=>Dr,iz:()=>Ar,jI:()=>pt,jc:()=>ne,ju:()=>V,kJ:()=>pn,lZ:()=>Q,lf:()=>sn,mu:()=>yt,n5:()=>te,nN:()=>ht,ox:()=>Ee,p5:()=>$,qU:()=>ue,ql:()=>U,qs:()=>Ut,rD:()=>mr,ri:()=>st,rl:()=>v,rw:()=>ar,sh:()=>me,tI:()=>qe,wx:()=>G,yn:()=>Y,z7:()=>Gr,zI:()=>Oe,zX:()=>Bt});r(898992),r(354520),r(581454);var n=()=>r(100622),o=()=>r(671593),a=()=>r(638681);const i={Bold:"b",Italic:"i",Strike:"s",Code:"c",FormulaError:"~",Underline:"_",Inserted:"+",Deleted:"-",TemporaryComment:"z",User:"u",Bot:"r",Page:"p",TemporaryPage:"pt",Collection:"ds",TemporaryCollection:"dst",Date:"d",ExternalObjectInstance:"eoi",TemplateVariable:"tv",Comment:"cm",Group:"g",Team:"t",LinkMention:"lm",CustomEmoji:"ce",SlackSpecialMention:"sm",Citation:"ci",TemporaryCitation:"cit",Discussion:"m",Link:"a",Highlight:"h",Equation:"e",TemporaryEquation:"et",TemporaryInput:"xt",TemporarySelection:"st",TemporaryCommentHighlight:"tch",TemporarySuggestionUnderline:"tsu",FormulaPageProperty:"fpp",FormulaContextValue:"fv",TemporaryFindHighlight:"mark",TemporarySelectedFindHighlight:"smark",TemporaryCursor:"tc",SuggestionInsertText:"si",SuggestionRemoveText:"sr",SuggestionAnnotate:"sa",SuggestionUnannotate:"sua",TemporaryHighlight:"ht",TemporaryNativeMABFilter:"mabf",TemporaryDictation:"dut",AssistantInstructionsCollection:"aic",Place:"plc",TemporarySearchFilter:"sf",SearchFilterCreatedTime:"sfct",SearchFilterLastEditedTime:"sflet",TitleOnly:"to",Sort:"so"},s=a().literal(i.Bold),l=a().tuple([s]);function c(e){return 1===e.length&&e[0]===i.Bold}const u=a().literal(i.Italic),d=a().tuple([u]);function p(e){return 1===e.length&&e[0]===i.Italic}const m=a().literal(i.Strike),f=a().tuple([m]);function g(e){return 1===e.length&&e[0]===i.Strike}const y=a().literal(i.Code),_=a().tuple([y]);function v(e){return 1===e.length&&e[0]===i.Code}const b=a().literal(i.FormulaError),h=a().tuple([b]);function A(e){return 1===e.length&&e[0]===i.FormulaError}const I=a().literal(i.Underline),k=a().tuple([I]);function x(e){return 1===e.length&&e[0]===i.Underline}const S=a().tuple([a().literal(i.Inserted),a().string()]);const T=a().literal(i.Inserted),M=a().union([a().tuple([T]),S]);function w(e){return e[0]===i.Inserted&&(1===e.length||2===e.length)}const B=a().tuple([a().literal(i.Deleted),a().string()]);const C=a().literal(i.Deleted),P=a().union([a().tuple([C]),B]);function N(e){return e[0]===i.Deleted&&(1===e.length||2===e.length)}function U(e){return function(e){return 2===e.length&&e[0]===i.Inserted}(e)||function(e){return 2===e.length&&e[0]===i.Deleted}(e)}const R=a().literal(i.TemporaryComment),D=a().tuple([R]);function O(e){return 1===e.length&&e[0]===i.TemporaryComment}const F=a().literal(i.TemporarySelection),E=a().tuple([F]);function V(e){return 1===e.length&&e[0]===i.TemporarySelection}const L=a().literal(i.TemporaryFindHighlight),H=a().tuple([L]);function G(e){return 1===e.length&&e[0]===i.TemporaryFindHighlight}const q=a().literal(i.TemporarySelectedFindHighlight),j=a().tuple([q]);function $(e){return 1===e.length&&e[0]===i.TemporarySelectedFindHighlight}function z(e){return G(e)||$(e)}const W=a().literal(i.TemporaryCursor),Z=a().tuple([W]);function Q(e){return 1===e.length&&e[0]===i.TemporaryCursor}const K=a().literal(i.TemporaryCommentHighlight),J=a().tuple([K]);function Y(e){return 1===e.length&&e[0]===i.TemporaryCommentHighlight}const X=a().literal(i.TemporarySuggestionUnderline),ee=a().tuple([X,a().string()]);function te(e){return 2===e.length&&e[0]===i.TemporarySuggestionUnderline}function re(e,t){return 2===e.length&&e[0]===i.TemporarySuggestionUnderline&&e[1]===t}function ne(e){const[t]=e;return 1===e.length&&e[0]!==i.TemporaryEquation&&e[0]!==i.TemporaryPage&&e[0]!==i.TemporaryCollection&&e[0]!==i.TitleOnly&&e[0]!==i.TemporaryCitation||(2===e.length&&e[0]===i.TemporarySuggestionUnderline||(t===i.Bold||t===i.Italic||t===i.Strike||t===i.Underline||t===i.Inserted||t===i.Deleted||t===i.TemporaryComment||t===i.TemporarySelection||t===i.TemporaryCursor))}const oe=a().literal(i.TitleOnly),ae=a().tuple([oe]);function ie(e){return 1===e.length&&e[0]===i.TitleOnly}const se=a().union([a().literal("lea"),a().literal("led"),a().literal("cta"),a().literal("ctd")]),le=a().literal(i.Sort),ce=a().tuple([le,se]);function ue(e){return 2===e.length&&e[0]===i.Sort}const de=a().literal(i.Link),pe=a().tuple([de,a().union([a().string(),a().isUndefined()])]);function me(e){return 2===e.length&&e[0]===i.Link}const fe=a().literal(i.Highlight),ge=(0,o().rv)((e=>null),"BlockColor"),ye=a().tuple([fe,ge]);function _e(e){return 2===e.length&&e[0]===i.Highlight}const ve=a().literal(i.Discussion),be=a().string(),he=a().tuple([ve,be]);function Ae(e){return 2===e.length&&e[0]===i.Discussion}const Ie=a().literal(i.SuggestionInsertText),ke=a().tuple([Ie,be]);function xe(e){return 2===e.length&&e[0]===i.SuggestionInsertText}const Se=a().literal(i.SuggestionRemoveText),Te=a().tuple([Se,be]);function Me(e){return 2===e.length&&e[0]===i.SuggestionRemoveText}const we=a().union([l,d,f,_,k,pe,ye]);function Be(e){switch(e){case i.Bold:case i.Italic:case i.Strike:case i.Code:case i.Underline:case i.Link:case i.Highlight:return!0;default:return!1}}function Ce(e){return!!(c(e)||p(e)||g(e)||v(e)||x(e)||me(e)||_e(e))}const Pe=a().literal(i.SuggestionAnnotate),Ne=a().tuple([Pe,be,we]);function Ue(e){return 3===e.length&&e[0]===i.SuggestionAnnotate}const Re=a().literal(i.SuggestionUnannotate),De=a().tuple([Re,be,we]);function Oe(e){return 3===e.length&&e[0]===i.SuggestionUnannotate}function Fe(e){return!!(Oe(e)||Ue(e)||Me(e)||xe(e))}function Ee(e){switch(e){case i.SuggestionInsertText:case i.SuggestionRemoveText:case i.SuggestionAnnotate:case i.SuggestionUnannotate:return!0;default:return!1}}function Ve(e){return!!Fe(e)||!!Ae(e)}const Le=a().literal(i.TemporaryInput),He=a().object({required:{prefix:a().string(),suffix:a().string(),completion:a().string(),prefixIcon:a().union([(0,o().rv)((e=>null),"ReactNode"),a().isUndefined()])},optional:{}}),Ge=a().tuple([Le,He]);function qe(e){return 2===e.length&&e[0]===i.TemporaryInput}const je=a().literal(i.TemporaryNativeMABFilter),$e=a().object({required:{hint:a().string()},optional:{}}),ze=a().tuple([je,$e]);function We(e){return 2===e.length&&e[0]===i.TemporaryNativeMABFilter}const Ze=a().literal(i.TemporaryDictation),Qe=a().number(),Ke=a().string(),Je=a().tuple([Ze,Qe,Ke]);function Ye(e){return 3===e.length&&e[0]===i.TemporaryDictation}const Xe=a().literal(i.TemporaryHighlight),et=(0,o().rv)((e=>null),"HexColor"),tt=a().tuple([Xe,et]);function rt(e){return 2===e.length&&e[0]===i.TemporaryHighlight}function nt(e){return!!(ne(e)||me(e)||Ae(e)||Fe(e)||_e(e)||qe(e)||We(e)||Ye(e)||rt(e))}const ot=a().literal(i.User),at=a().string(),it=a().tuple([ot,at]);function st(e){return 2===e.length&&e[0]===i.User}const lt=a().literal(i.Page),ct=a().string(),ut=a().string(),dt=a().union([a().tuple([lt,ct]),a().tuple([lt,ct,ut])]);function pt(e){return(2===e.length||3===e.length)&&e[0]===i.Page}const mt=a().literal(i.Collection),ft=a().string(),gt=a().union([a().tuple([mt,ft]),a().tuple([mt,ft,ut]),a().tuple([mt,ft,ut,ct])]);function yt(e){return(2===e.length||3===e.length||4===e.length)&&e[0]===i.Collection}const _t=a().literal(i.CustomEmoji),vt=a().uuid(),bt=a().tuple([_t,vt,ut]);function ht(e){return 3===e.length&&e[0]===i.CustomEmoji}const At=a().literal(i.TemporaryPage),It=a().tuple([At]);function kt(e){return 1===e.length&&e[0]===i.TemporaryPage}const xt=a().literal(i.TemporaryCitation),St=a().tuple([xt]);function Tt(e){return 1===e.length&&e[0]===i.TemporaryCitation}const Mt=a().literal(i.TemporaryCollection),wt=a().tuple([Mt]);function Bt(e){return 1===e.length&&e[0]===i.TemporaryCollection}const Ct=a().literal(i.Date),Pt=(0,o().rv)((e=>null),"DateAnnotationData"),Nt=a().tuple([Ct,Pt]);function Ut(e){return 2===e.length&&e[0]===i.Date}const Rt=a().literal(i.Bot),Dt=a().string(),Ot=a().tuple([Rt,Dt]);function Ft(e){return 2===e.length&&e[0]===i.Bot}const Et=a().literal(i.Group),Vt=a().string(),Lt=a().tuple([Et,Vt,ut]);function Ht(e){return 3===e.length&&e[0]===i.Group}const Gt=a().literal(i.Team),qt=a().string(),jt=a().literal("everyone"),$t=a().literal("teamspace"),zt=a().union([jt,$t]),Wt=a().tuple([Gt,qt,ut,zt]);function Zt(e){return 4===e.length&&e[0]===i.Team}const Qt=a().union([a().literal("here"),a().literal("channel")]),Kt=a().literal(i.SlackSpecialMention),Jt=a().tuple([Kt,Qt]);function Yt(e){return 2===e.length&&e[0]===i.SlackSpecialMention}const Xt=a().literal(i.ExternalObjectInstance),er=a().string(),tr=a().tuple([Xt,er]);function rr(e){return 2===e.length&&e[0]===i.ExternalObjectInstance}const nr=a().literal(i.TemplateVariable),or=["me"],ar=[...or,"now","today"],ir=a().union(ar.map(a().literal)),sr=a().object({required:{type:ir},optional:{}}),lr=a().tuple([nr,sr]);function cr(e){return 2===e.length&&e[0]===i.TemplateVariable}const ur=a().literal(i.Comment),dr=a().string(),pr=a().tuple([ur,dr,ut]);function mr(e){return 3===e.length&&e[0]===i.Comment}const fr=a().literal(i.FormulaPageProperty),gr=a().object({required:{table:a().literal(r(519831).Vl),id:a().string()},optional:{spaceId:a().string()}}),yr=(0,o().rv)((e=>a().string().validator(e)),"SerializedContextValueId"),_r=a().object({required:{contextValueId:yr,property:a().string(),valueSnapshot:a().union([a().literal("current"),a().string()])},optional:{name:a().string()}}),vr=a().object({required:{property:a().string()},optional:{collection:gr,name:a().string()}}),br=a().union([vr,_r]),hr=a().tuple([fr,br]);function Ar(e){return 2===e.length&&e[0]===i.FormulaPageProperty}function Ir(e){const t="contextValueId"in e&&e.contextValueId,r="property"in e&&e.property,n="valueSnapshot"in e&&e.valueSnapshot;return!!(t&&r&&n)||!!r}const kr=a().literal(i.FormulaContextValue),xr=(0,o().rv)((e=>null),"FormulaContextValueMentionAnnotationData"),Sr=a().tuple([kr,xr]);function Tr(e){return 2===e.length&&e[0]===i.FormulaContextValue}function Mr(e){return Ar(e)||Tr(e)}const wr=a().literal(i.Citation),Br=a().intersection([a().object({required:{},optional:{positionWithinSource:a().number(),resultId:a().string(),traceId:a().string()}}),a().union([a().object({required:{href:a().string(),blockId:a().union([a().string(),a().isUndefined()]),type:a().union([a().literal("block"),a().isUndefined()])},optional:{collectionViewId:a().string(),citationNumber:a().number(),spaceId:a().string(),discussionId:a().string(),scrollToBlockId:a().string()}}),a().object({required:{href:a().string(),type:a().literal("url")},optional:{}}),a().object({required:{href:a().string(),type:a().literal("google-drive"),messageId:a().string(),url:a().string()},optional:{}}),a().object({required:{href:a().string(),type:a().literal("helpdoc"),url:a().string()},optional:{}}),a().object({required:{href:a().string(),type:a().literal("helpdoc-section"),url:a().string(),parentPageHref:a().string()},optional:{}}),a().object({required:{type:a().literal("query_database_result"),href:a().string(),queryDatabaseResultId:a().string()},optional:{}}),a().object({required:{href:a().string(),type:a().literal("slack"),domain:a().union([a().string(),a().isUndefined()]),baseUrl:a().union([a().string(),a().isUndefined()]),channelId:a().string(),messageId:a().string(),threadTs:a().union([a().string(),a().isUndefined()]),threadHref:a().string()},optional:{}}),a().object({required:{href:a().string(),type:a().literal("microsoft-teams"),url:a().string(),messageId:a().string(),channelId:a().string(),threadTs:a().union([a().string(),a().isUndefined()]),threadHref:a().string(),messageType:a().union([a().literal("channel"),a().literal("thread"),a().literal("chat")])},optional:{}}),a().object({required:{href:a().string(),type:a().literal("discord"),url:a().string()},optional:{}}),...r(902006).fl.filter((e=>"microsoft-teams"!==e&&"slack"!==e&&"discord"!==e)).map((e=>a().object({required:{href:a().string(),type:a().literal(e),messageId:a().string(),url:a().string()},optional:{}}))),a().object({required:{href:a().string(),type:a().literal("webpage"),url:a().string()},optional:{}})])]),Cr=a().tuple([wr,Br]);function Pr(e){return 2===e.length&&e[0]===i.Citation}const Nr=a().literal(i.LinkMention),Ur=a().object({required:{href:a().string()},optional:{title:a().string(),description:a().string(),link_author:a().string(),link_provider:a().string(),thumbnail_url:a().string(),icon_url:a().string(),iframe_url:a().string(),height:a().number(),padding:a().number(),padding_top:a().number()}}),Rr=a().tuple([Nr,Ur]);function Dr(e){return 2===e.length&&e[0]===i.LinkMention}const Or=a().literal(i.AssistantInstructionsCollection),Fr=a().union([a().tuple([Or,ft]),a().tuple([Or,ft,ut])]);function Er(e){return(2===e.length||3===e.length)&&e[0]===i.AssistantInstructionsCollection}function Vr(e){return 2===e.length&&e[0]===i.Place}const Lr=a().literal(i.Place),Hr=a().tuple([Lr,a().object({required:{lat:a().number(),lon:a().number()},optional:{name:a().string(),googlePlaceId:a().string(),awsPlaceId:a().string(),address:a().string()}})]),Gr={[i.User]:!0,[i.Bot]:!0,[i.Page]:!0,[i.TemporaryPage]:!0,[i.Collection]:!0,[i.TemporaryCollection]:!0,[i.Date]:!0,[i.SearchFilterCreatedTime]:!0,[i.SearchFilterLastEditedTime]:!0,[i.ExternalObjectInstance]:!0,[i.TemplateVariable]:!0,[i.Comment]:!0,[i.Group]:!0,[i.Team]:!0,[i.FormulaPageProperty]:!0,[i.FormulaContextValue]:!0,[i.Citation]:!0,[i.TemporaryCitation]:!0,[i.LinkMention]:!0,[i.AssistantInstructionsCollection]:!0,[i.CustomEmoji]:!0,[i.Place]:!0,[i.SlackSpecialMention]:!0,[i.TemporarySearchFilter]:!0,[i.TitleOnly]:!0,[i.Sort]:!0};function qr(e){return!!(st(e)||pt(e)||kt(e)||yt(e)||Bt(e)||Ft(e)||rr(e)||Ut(e)||Jr(e)||Ht(e)||Zt(e)||cr(e)||mr(e)||Mr(e)||Pr(e)||Tt(e)||Dr(e)||Er(e)||ht(e)||Vr(e)||Yt(e)||jr(e)||ie(e)||ue(e)||yt(e))}i.User,i.Bot,i.Page,i.Collection,i.SearchFilterCreatedTime,i.SearchFilterLastEditedTime,i.Group,i.Team,i.TitleOnly,i.Sort;function jr(e){return 2===e.length&&e[0]===i.TemporarySearchFilter}const $r=a().literal(i.SearchFilterCreatedTime),zr=a().tuple([$r,Pt]);function Wr(e){return 2===e.length&&e[0]===i.SearchFilterCreatedTime}const Zr=a().literal(i.SearchFilterLastEditedTime),Qr=a().tuple([Zr,Pt]);function Kr(e){return 2===e.length&&e[0]===i.SearchFilterLastEditedTime}function Jr(e){return!(!Wr(e)&&!Kr(e))}const Yr=a().literal(i.TemporarySearchFilter),Xr=a().tuple([Yr,a().union([it,dt,gt,zr,Qr,Ot,Lt,Wt,ae,ce])]),en=a().string(),tn=a().literal(i.Equation),rn=a().tuple([tn,en]);function nn(e){return 2===e.length&&e[0]===i.Equation}const on=a().literal(i.TemporaryEquation),an=a().tuple([on]);function sn(e){return 1===e.length&&e[0]===i.TemporaryEquation}function ln(e){return e[0]}const cn={[i.Bold]:{validatorType:l},[i.Italic]:{validatorType:d},[i.Strike]:{validatorType:f},[i.Code]:{validatorType:_},[i.FormulaError]:{validatorType:h},[i.Underline]:{validatorType:k},[i.Inserted]:{validatorType:M},[i.Deleted]:{validatorType:P},[i.TemporaryComment]:{validatorType:D,isTemporary:!0},[i.TemporarySelection]:{validatorType:E,isTemporary:!0},[i.TemporaryFindHighlight]:{validatorType:H,isTemporary:!0},[i.TemporarySelectedFindHighlight]:{validatorType:j,isTemporary:!0},[i.TemporaryCursor]:{validatorType:Z,isTemporary:!0},[i.Link]:{validatorType:pe},[i.Highlight]:{validatorType:ye},[i.Discussion]:{validatorType:he,isMultiInstance:!0},[i.SuggestionInsertText]:{validatorType:ke},[i.SuggestionRemoveText]:{validatorType:Te,isMultiInstance:!0},[i.SuggestionAnnotate]:{validatorType:Ne,isMultiInstance:!0},[i.SuggestionUnannotate]:{validatorType:De,isMultiInstance:!0},[i.TemporaryInput]:{validatorType:Ge,isTemporary:!0},[i.TemporaryNativeMABFilter]:{validatorType:ze,isTemporary:!0},[i.TemporaryDictation]:{validatorType:Je,isTemporary:!0},[i.TemporaryHighlight]:{validatorType:tt,isTemporary:!0},[i.User]:{validatorType:it},[i.Page]:{validatorType:dt},[i.Collection]:{validatorType:gt},[i.CustomEmoji]:{validatorType:bt},[i.TemporaryPage]:{validatorType:It,isTemporary:!0},[i.TemporaryCitation]:{validatorType:St,isTemporary:!0},[i.TemporaryCollection]:{validatorType:wt,isTemporary:!0},[i.Date]:{validatorType:Nt},[i.SearchFilterCreatedTime]:{validatorType:zr},[i.SearchFilterLastEditedTime]:{validatorType:Qr},[i.Bot]:{validatorType:Ot},[i.Group]:{validatorType:Lt},[i.Team]:{validatorType:Wt},[i.ExternalObjectInstance]:{validatorType:tr},[i.TemplateVariable]:{validatorType:lr},[i.Comment]:{validatorType:pr},[i.FormulaPageProperty]:{validatorType:hr},[i.FormulaContextValue]:{validatorType:Sr},[i.Citation]:{validatorType:Cr},[i.LinkMention]:{validatorType:Rr},[i.AssistantInstructionsCollection]:{validatorType:Fr},[i.SlackSpecialMention]:{validatorType:Jt},[i.Equation]:{validatorType:rn},[i.TemporaryEquation]:{validatorType:an,isTemporary:!0},[i.TemporaryCommentHighlight]:{validatorType:J,isTemporary:!0},[i.TemporarySuggestionUnderline]:{validatorType:ee,isTemporary:!0},[i.Place]:{validatorType:Hr},[i.TemporarySearchFilter]:{validatorType:Xr,isTemporary:!0},[i.TitleOnly]:{validatorType:ae},[i.Sort]:{validatorType:ce}};function un(e){if(e[0]===i.Highlight){const t=e[1];return n().Wr.includes(t)&&(0,n().Cg)(t)?"hb":"hf"}return e[0]}function dn(e){switch(e){case"hb":case"hf":return"h";default:return e}}function pn(e){return"h"===e?["hf","hb"]:[e]}function mn(e){return function(e){const t=cn[e];if(t&&"isMultiInstance"in t&&t.isMultiInstance)return!0;return!1}(ln(e))}},681873:(e,t,r)=>{r.d(t,{G:()=>n});r(944114),r(898992),r(803949);function n(e,t){const r=[];return e.forEach(((n,o)=>{r.push(n),e[o+1]&&r.push(t(o))})),r}},682186:(e,t,r)=>{r.d(t,{A:()=>a,w:()=>o});var n=()=>r(292588);const o="oauth_authorization_code",a={table:o,columnTypes:{id:n().A.UUID,created_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,redirect_uri:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,bot_id:n().A.UUID,created_bot_token_id:n().A.UUID,revoked_at:n().A.Number,type:n().A.String,space_id:n().A.UUID,integration_id:n().A.UUID,optional_info:n().A.JSON,capabilities:n().A.JSON}}},684558:(e,t,r)=>{r.d(t,{A:()=>a,W:()=>o});var n=()=>r(292588);const o="referral",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_at:n().A.Number,referral_code:n().A.String,referral_program:n().A.String},requiredColumns:{space_id:!0,created_at:!0,referral_code:!0,referral_program:!0},model:(0,r(152853).P)({})}},688728:(e,t,r)=>{r.d(t,{Fw:()=>a,We:()=>i,Zm:()=>o,uW:()=>s});var n=()=>r(534177);const o={page_main:"page_layout_schema",page_details:"page_info_layout_schema",form_layout_schema:"form_layout_schema",views_main_tab_modules:"views_main_tab_modules",form_conditional_modules:"form_conditional_modules",person_profile_page_main:"person_profile_page_main",person_profile_page_details:"person_profile_page_details",dashboard_layout_schema:"dashboard_layout_schema"};function a(e){switch(e){case"page_layout_schema":return"page_main";case"page_info_layout_schema":return"page_details";case"form_layout_schema":return"form_layout_schema";case"views_main_tab_modules":return"views_main_tab_modules";case"form_conditional_modules":return"form_conditional_modules";case"person_profile_page_main":return"person_profile_page_main";case"person_profile_page_details":return"person_profile_page_details";case"dashboard_layout_schema":return"dashboard_layout_schema";default:(0,n().HB)(e)}}function i(e){switch(e){case"page_main":case"page_details":case"views_main_tab_modules":case"dashboard_layout_schema":return"layout";case"form_layout_schema":case"form_conditional_modules":return"form";case"person_profile_page_main":case"person_profile_page_details":return"person_profile_page";default:(0,n().HB)(e)}}function s(e){return"form_layout_schema"===e||"form_conditional_modules"===e}},695608:(e,t,r)=>{r.d(t,{T2:()=>l,c6:()=>s,wH:()=>i});var n=()=>r(496603),o=()=>r(792071),a=()=>r(798880);function i(e){const{userId:t,spaceId:r}=e;return{id:t,table:a().oo,spaceId:r}}function s(e,t,r){if(t){return o().Bj6.fromValue(a().oo,t).getDisplayName(e,r)}return e.formatMessage(o().Fvx.messages.anonymousPlaceholder)}function l(e){return n().oE([e.name,e.email]).join(" ")}},696446:(e,t,r)=>{r.d(t,{KZ:()=>c,OH:()=>d,Sp:()=>u,Xq:()=>p});r(944114);var n=()=>r(496603),o=()=>r(700500),a=()=>r(898244),i=()=>r(696706),s=()=>r(179034),l=()=>r(519831);function*c(e){const t=[];let r,o=e.length;for(;o>0;){const a=[];for(let n=0;n<e.length;n++){const i=e[n];if(void 0===i)continue;const s=void 0!==r?i.next(r):i.next();s.done?(e[n]=void 0,o--,t[n]=s.value):a.push(s.value)}a.length>0&&(r=yield{recordPointers:(0,n().hS)(a.flatMap((e=>e.recordPointers??[])),(e=>`${e.table}:${e.id}`)),collectionBlockProperties:a.flatMap((e=>e.collectionBlockProperties??[]))})}return t}function*u(e,t){if(!e.length)return[];const r=yield{recordPointers:e},n=t.limit,o=[];for(const i of e){if(void 0!==n&&o.length>=n)break;const e=r.getRecordModel(i);if(!e||!e.getAlive()||e.isTemplate())continue;const s=yield*p(e);(null==s?void 0:s.id)===(0,a().zO)(t)&&o.push(e)}return o}function*d(e,t){const r=t[e];if(!(r&&"rollup"===r.type&&r.relation_property&&r.target_property_type&&r.target_property))return;if("person"===r.rollup_type)return;const n=t[r.relation_property];if(!n||"relation"!==n.type||!(0,a().zO)(n))return;const o=(0,a().Nv)(n),{getRecordModel:i}=yield{recordPointers:[o]},s=i(o);if(!s)return;const l=s.getNormalizedSchema(),c=s.getMappedProperty(r.target_property),u=l[c];return u&&r.target_property_type===u.type?{rollupType:"relation",propertySchema:r,targetProperty:c,relationPropertySchema:n,targetCollectionModel:s,targetCollectionSchema:l,targetPropertySchema:u,targetCollectionPointer:o}:void 0}function*p(e){const t=e.getParentPointer();if(t.table===l().Vl){return(yield{recordPointers:[t]}).getRecordModel(t)}const r=e.getType();if((0,o().NC)(r))return yield*function*(e){let t=e.getParentPointer();for(;t;){if(i().L3.isEqual(t,e.pointer))return;if(t.table!==s().ev)return;const r=(yield{recordPointers:[t]}).getRecordModel(t);if(!r)return;if(!r.isCollectionView()){t=r.getParentPointer();continue}const n=r.getCollectionPointers();if(1!==n.length)return;const o=n[0],a=(yield{recordPointers:[o]}).getRecordModel(o);if(!a)return;const l=a.getRootPagePointer();return a.isPageTreeCollection()&&l&&i().L3.isEqual(l,t)?a:void 0}}(e)}},696706:(e,t,r)=>{r.d(t,{L3:()=>y,TX:()=>b,Yt:()=>v,Z2:()=>h,tr:()=>_,w1:()=>g});var n=()=>r(498212),o=()=>r(212547),a=()=>r(115850),i=()=>r(603557),s=()=>r(885316),l=()=>r(158158),c=()=>r(296900),u=()=>r(437607),d=()=>r(158009),p=()=>r(848538),m=()=>r(674770);const f={[r(801634).kz]:!0,[r(197959).$Y]:!0,[r(343666).SN]:!0,[r(559653).F9]:!0,[r(874852).ou]:!0,[r(835338).Cy]:!0,[r(295043).Xw]:!0,[r(343747).rG]:!0,[r(258911).h]:!0,[r(964348).S]:!0,[r(426302).Yx]:!0,[r(912720).yB]:!0,[r(415292).sN]:!0,[r(526147).Fu]:!0,[r(199378).SC]:!0,[r(606219).TF]:!0,[r(310442).yj]:!0,[r(123382).MC]:!0,[c().m3]:!0,[u().n]:!0,[d().f3]:!0,[p().aJ]:!0,[r(610409).P]:!0,[r(771927).Nm]:!0,[r(363497).TF]:!0,[r(652106).k]:!0,[r(144081).zx]:!0,[r(421076).yt]:!0,[r(510618).W]:!0,[r(101628).Eu]:!0,[r(837420).e]:!0,[r(37165).lo]:!0,[r(847866).iP]:!0,[r(277816).A]:!0,[r(548632).YV]:!0,[r(296749).j]:!0,[r(63128).qm]:!0,[r(506327).bw]:!0,[r(783230).i]:!0,[r(743246).C0]:!0,[r(145820).QR]:!0,[r(969752).Ec]:!0,[r(552826).yD]:!0,[r(758256).U6]:!0,[r(183541).tE]:!0,[r(978234).yM]:!0,[r(234459).To]:!0,[r(155792).mS]:!0,[r(265809).Xi]:!0,[r(976617).H]:!0,[r(633240).e]:!0,[r(232802).GU]:!0,[r(338180).o]:!0,[r(485819).n]:!0,[r(144986).WQ]:!0,[r(767194).q]:!0,[r(429485).Xh]:!0,[r(395868).Cr]:!0,[r(583839).ZP]:!0,[r(952232).O]:!0,[r(7615).Jm]:!0,[r(231460).sB]:!0,[r(684558).W]:!0,[r(749257).du]:!0,[r(959044)._p]:!0};function g(e){return e in f}const y={fromSpaceShardRecordId:(e,t)=>({id:e.id,spaceId:e.spaceId,table:t}),fromPointerLike(e){const{table:t,id:r,spaceId:n}=e;return{table:t,id:r,spaceId:n}},fromRecordWithTable(e){const t=e.table,r=e.value.id,n=o().ms.getSpaceId(e);return void 0!==n?{table:t,id:r,spaceId:n}:{table:t,id:r}},getParentPointerFromRecordWithParent(e){const t=e.parent_id,r=e.parent_table,n=o().Eb.getSpaceId(e);return void 0!==n?{table:r,id:t,spaceId:n}:{table:r,id:t}},uniq:e=>r(496603).hS(e,(e=>`${e.table}:${e.id}`)),toKey:e=>e.spaceId?`${e.spaceId}:${e.table}:${e.id}`:`${e.table}:${e.id}`,toIdTableKey:e=>`${e.table}:${e.id}`,isEqualIdTable:(e,t)=>e.id===t.id&&e.table===t.table,isEqual(e,t){return this.isEqualIdTable(e,t)&&e.spaceId===t.spaceId}},_={toKey:e=>`${e.userId}:${y.toKey(e.pointer)}`};function v(e,t){return"function"==typeof t?t(e.table):e.table===t}function b(e){return(0,n().uj)(e.id)||"temporary_password"===e.table||e.table===l().o||e.table===s().s||e.table===m().yv||(0,p().l3)(e)||(0,c().jW)(e)||(0,u().hI)(e)||(0,d().is)(e)||(0,a().FH)(e)||(0,i()._8)(e)}function h(e,t){return e.table===t.table&&e.id===t.id}},700500:(e,t,r)=>{r.d(t,{$I:()=>ge,Af:()=>Ie,B$:()=>c,B8:()=>Me,BJ:()=>V,BN:()=>he,CN:()=>_e,D:()=>p,D2:()=>Ue,Db:()=>ke,EY:()=>x,Ef:()=>Ae,Fb:()=>z,G8:()=>be,Gz:()=>we,H_:()=>O,IA:()=>P,IU:()=>ae,Ib:()=>M,KK:()=>b,KT:()=>A,Lk:()=>oe,Mp:()=>de,NC:()=>Be,Q3:()=>fe,RG:()=>v,Si:()=>U,U6:()=>re,UL:()=>se,V4:()=>h,Wn:()=>L,XC:()=>E,Z3:()=>ie,ZK:()=>d,ZL:()=>Fe,ZW:()=>Te,aO:()=>pe,bF:()=>Ce,bI:()=>ue,bl:()=>k,dY:()=>xe,ei:()=>Ne,ev:()=>T,go:()=>I,hc:()=>F,ie:()=>le,kC:()=>l,kt:()=>Y,lL:()=>ce,ls:()=>Z,mf:()=>Pe,nH:()=>m,oh:()=>K,p7:()=>ye,pD:()=>me,pL:()=>u,sh:()=>s,tA:()=>ne,ti:()=>S,u0:()=>Oe,uP:()=>te,v_:()=>ve,w8:()=>ee,wK:()=>J,wy:()=>De,xd:()=>f,y4:()=>D,z9:()=>Se,zx:()=>R});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(66689),a=()=>r(696706),i=()=>r(179034);const s={toggleFormatHeaderBlock:"toggle_format_header_block",toggleFormatSubHeaderBlock:"toggle_format_sub_header_block",toggleFormatSubSubHeaderBlock:"toggle_format_sub_sub_header_block",column2Block:"column2_block",column3Block:"column3_block",column4Block:"column4_block",column5Block:"column5_block",mermaidCodeBlock:"mermaid_code_block",aiFreePromptBlock:"ai_free_prompt_block"};s.aiFreePromptBlock;const l={header:"toggle_format_header_block",sub_header:"toggle_format_sub_header_block",sub_sub_header:"toggle_format_sub_sub_header_block"};l.header;const c={toggle_format_header_block:"header",toggle_format_sub_header_block:"sub_header",toggle_format_sub_sub_header_block:"sub_sub_header",column2_block:"column_list",column3_block:"column_list",column4_block:"column_list",column5_block:"column_list",mermaid_code_block:"code",ai_free_prompt_block:"ai_block"};function u(e){return Object.values(s).includes(e)}function d(e){return e.startsWith("column")&&e.endsWith("block")}function p(e){return e.startsWith("toggle_format_")}function m(e){return e.startsWith("ai_")&&e.endsWith("_block")}c.mermaid_code_block;const f={image:"image",video:"video",bookmark:"bookmark",file:"file",page:"page",linkToPage:"link_to_page",personalHomePage:"personal_home_page",homeShortcuts:"home_shortcuts",linkToCollection:"link_to_collection",text:"text",header:"header",subHeader:"sub_header",subSubHeader:"sub_sub_header",toDo:"to_do",bulletedList:"bulleted_list",numberedList:"numbered_list",toggle:"toggle",code:"code",factory:"factory",button:"button",divider:"divider",columnList:"column_list",column:"column",copyIndicator:"copy_indicator",breadcrumb:"breadcrumb",equation:"equation",quote:"quote",collectionView:"collection_view",collectionViewPage:"collection_view_page",form:"form",embed:"embed",framer:"framer",tweet:"tweet",gist:"gist",drive:"drive",figma:"figma",loom:"loom",typeform:"typeform",codepen:"codepen",audio:"audio",maps:"maps",invision:"invision",pdf:"pdf",callout:"callout",tableOfContents:"table_of_contents",whimsical:"whimsical",miro:"miro",abstract:"abstract",sketch:"sketch",excalidraw:"excalidraw",alias:"alias",transclusionContainer:"transclusion_container",transclusionReference:"transclusion_reference",replit:"replit",externalObjectInstance:"external_object_instance",table:"table",tableRow:"table_row",tab:"tab",hex:"hex",deepnote:"deepnote",mixpanel:"mixpanel",externalObjectInstancePage:"external_object_instance_page",aiBlock:"ai_block",drawing:"drawing",slide:"slide",post:"post",workflow:"workflow",transcription:"transcription",mail:"mail"},g={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,page:!0,column:!0,column_list:!0,factory:!0,transclusion_container:!0,callout:!0,quote:!0,table:!0,tab:!0,ai_block:!0,slide:!0,post:!0,table_row:!0,transcription:!0,mail:!0},y={header:!0,sub_header:!0,sub_sub_header:!0},_={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,column:!0,transclusion_container:!0,callout:!0,quote:!0,post:!0,ai_block:!0},v={callout:!0},b={callout:!0,quote:!0},h={transclusion_container:!0,transclusion_reference:!0,collection_view:!0,column_list:!0,column:!0,table:!0,factory:!0,ai_block:!0,button:!0,slide:!0,callout:!0,transcription:!0,mail:!0},A={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0},I={to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0},k={header:!0,sub_header:!0,sub_sub_header:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,callout:!0},x={text:!0,page:!0,collection_view_page:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,transclusion_container:!0,transclusion_reference:!0,alias:!0},S={text:!0,header:!0,sub_header:!0,sub_sub_header:!0},T={header:!0,sub_header:!0,sub_sub_header:!0,quote:!0,callout:!0},M={image:!0,video:!0,embed:!0,tweet:!0,drive:!0,gist:!0,invision:!0,framer:!0,audio:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0,whimsical:!0,miro:!0,abstract:!0,sketch:!0,excalidraw:!0,replit:!0,hex:!0,deepnote:!0,mixpanel:!0,drawing:!0},w={...M,file:!0},B={image:!0,video:!0,embed:!0,drive:!0,gist:!0,invision:!0,framer:!0,maps:!0,figma:!0,loom:!0,typeform:!0,codepen:!0,pdf:!0,whimsical:!0,miro:!0,abstract:!0,sketch:!0,excalidraw:!0,replit:!0,hex:!0,deepnote:!0,mixpanel:!0},C={image:!0,pdf:!0},P={...M,bookmark:!0,file:!0,code:!0},N={transclusion_container:!0,transclusion_reference:!0},U={text:!0,header:!0,sub_header:!0,sub_sub_header:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,code:!0,quote:!0,callout:!0,equation:!0,transclusion_container:!0,column_list:!0,slide:!0},R=["text","header","sub_header","sub_sub_header","to_do","bulleted_list","numbered_list","toggle","code","page"],D={image:!0,video:!0,tweet:!0,drive:!0,maps:!0,gist:!0,audio:!0,file:!0,collection_view:!0,pdf:!0,table:!0},O={column_list:!0,collection_view:!0,external_object_instance:!0,...M},F={text:!0,to_do:!0,bulleted_list:!0,numbered_list:!0,toggle:!0,quote:!0,page:!0,header:!0,sub_header:!0,sub_sub_header:!0,bookmark:!0,file:!0,collection_view_page:!0,callout:!0,table_of_contents:!0,button:!0},E={callout:!0,button:!0,page:!0,collection_view_page:!0,external_object_instance_page:!0},V={page:!0,collection_view:!0,collection_view_page:!0,external_object_instance_page:!0,form:!0,personal_home_page:!0,post:!0,workflow:!0},L={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0},H={column:!0,column_list:!0,copy_indicator:!0,divider:!0,link_to_page:!0,link_to_collection:!0,table_of_contents:!0,collection_view:!0,collection_view_page:!0,transclusion_container:!0,transclusion_reference:!0},G={collection_view:!0},q={text:!0,page:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,external_object_instance_page:!0,ai_block:!0,file:!0},j={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,factory:!0,code:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0},$={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,code:!0};function z(e){return!!(0,n().O)($,e)&&$[e]}const W={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0};function Z(e){return!!(0,n().O)(W,e)&&W[e]}const Q={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0};function K(e){return!!(0,n().O)(Q,e)&&Q[e]}const J={header:!0,sub_header:!0,sub_sub_header:!0},Y={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0},X={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,callout:!0,slide:!0},ee={collection_view:!0,collection_view_page:!0};const te={text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,quote:!0,header:!0,sub_header:!0,sub_sub_header:!0},re={page:!0,callout:!0,column:!0,factory:!0,button:!0,transclusion_container:!0,transclusion_reference:!0,tab:!0,slide:!0},ne={...J,toggle:!0,numbered_list:!0,bulleted_list:!0,text:!0,to_do:!0},oe={toggle:!0,numbered_list:!0,bulleted_list:!0,text:!0,to_do:!0,page:!0,external_object_instance_page:!0,collection_view_page:!0,...J};function ae(e,t){return ve(e,t)||Ie(e,t)||!!(0,n().O)(g,e)&&g[e]}function ie(e,t){return ve(e,t)||!!(0,n().O)(_,e)&&_[e]}function se(e){return!!(0,n().O)(M,e)&&M[e]}function le(e){return!!(0,n().O)(w,e)&&w[e]}function ce(e){return!!(0,n().O)(B,e)&&B[e]}function ue(e){return!!(0,n().O)(C,e)&&C[e]}function de(e){return!!(0,n().O)(N,e)&&N[e]}function pe(e){return!!(0,n().O)(U,e)&&U[e]}function me(e,t){const r=!!(0,n().O)(H,e)&&H[e],o=Ie(e,t),s=Boolean(t&&t.alias_pointer&&(0,a().Yt)(t.alias_pointer,i().ev));return r&&!o||s}function fe(e){return!!(0,n().O)(G,e)&&G[e]}function ge(e){return!!(0,n().O)(V,e)&&V[e]}function ye(e){switch(e){case f.page:case f.collectionView:case f.collectionViewPage:case f.form:case f.button:return!0;default:return!1}}function _e(e){return!!(0,n().O)(y,e)&&y[e]}function ve(e,t){return _e(e)&&(null==t?void 0:t.toggleable)}function be(e,t){return _e(e)&&!(null!=t&&t.toggleable)}function he(e,t){return"toggle"===e||ve(e,t)}function Ae(e){return!!(0,n().O)(ee,e)&&ee[e]}function Ie(e,t){return Ae(e)&&(null==t?void 0:t.app_config_uri)===o().pO}function ke(e,t){return void 0!==e&&((e!==f.callout||2!==(null==t?void 0:t.callout_version))&&!!(0,n().O)(q,e))}function xe(e,t){return!!ke(e,t)&&!!(0,n().O)(j,e)}function Se(e){return!!(0,n().O)(P,e)&&P[e]}function Te(e){return!!(0,n().O)(X,e)&&X[e]}function Me(e){return!!(0,n().O)(A,e)&&A[e]}const we={page:!0,collection_view_page:!0,external_object_instance_page:!0};function Be(e){return!!(0,n().O)(we,e)&&we[e]}const Ce={asanaImport:"asana_import",confluenceApiImport:"confluence_api_import",googleDocsImport:"google_docs_import",dropboxPaperImport:"dropbox_paper_import",evernoteImport:"evernote_import",mondayImport:"monday_import",quipImport:"quip_import",trelloImport:"trello_import",workflowyImport:"workflowy_import",wordImport:"word_import",csvImport:"csv_import",markdownImport:"markdown_import",htmlImport:"html_import",genericImport:"generic_import",pdfImport:"pdf_import"},Pe=new Set(["table_add_parent_item_bottom","table_add_parent_item_top","table_add_item_bottom","list_view_add_item_bottom","list_view_add_parent_item_bottom","timeline_add_item_bottom","timeline_add_parent_item_bottom","timeline_add_subitem_bottom","gallery_view_add_item_bottom","board_group_add_item_bottom","board_group_add_item_top","cvb_add_item","cvb_new_subitem","collection_view_empty_state"]),Ne={text:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,bulleted_list:!0,numbered_list:!0,table:!1,table_row:!1,page:!1,personal_home_page:!1,home_shortcuts:!1,toggle:!1,quote:!1,factory:!1,button:!1,column_list:!1,column:!1,embed:!1,framer:!1,tweet:!1,gist:!1,drive:!1,audio:!1,maps:!1,invision:!1,mixpanel:!1,image:!1,video:!1,file:!1,bookmark:!1,equation:!1,code:!1,collection_view:!1,collection_view_page:!1,form:!1,breadcrumb:!1,copy_indicator:!1,divider:!1,link_to_page:!1,link_to_collection:!1,figma:!1,loom:!1,typeform:!1,codepen:!1,pdf:!1,callout:!1,table_of_contents:!1,whimsical:!1,miro:!1,abstract:!1,sketch:!1,excalidraw:!1,replit:!1,alias:!1,transclusion_container:!1,transclusion_reference:!1,external_object_instance:!1,tab:!1,external_object_instance_page:!1,hex:!1,deepnote:!1,ai_block:!1,drawing:!1,slide:!1,post:!1,workflow:!1,transcription:!1,mail:!1},Ue={...Ne,tab:!0,quote:!0,table:!0,table_row:!0,column_list:!0,column:!0,code:!0,toggle:!0,callout:!0,transclusion_container:!0,transclusion_reference:!0},Re={collection_view_page:!0,collection_view:!0,transclusion_container:!0,slide:!0};function De(e,t){return!!e&&(e===f.callout&&2===(null==t?void 0:t.callout_version)||!!(0,n().O)(Re,e)&&Re[e])}const Oe={header:!0,sub_header:!0,sub_sub_header:!0},Fe={header:!0,sub_header:!0,sub_sub_header:!0,text:!0,bulleted_list:!0,numbered_list:!0,to_do:!0,toggle:!0,transclusion_container:!0,transclusion_reference:!0,page:!0,collection_view_page:!0,alias:!0,column_list:!0,collection_view:!0,file:!0,divider:!0,button:!0}},701218:(e,t,r)=>{r.d(t,{Ux:()=>o,hA:()=>s,mZ:()=>a,vH:()=>n,vO:()=>l});const n=1;function o(e){return void 0!==(null==e?void 0:e.crdt_format_version)&&e.crdt_format_version>=n}const a=!0,i=Symbol("crdtAware");function s(e,t="production"){return"test"===t?e:Object.defineProperty(Array.isArray(e)?[...e]:{...e},i,{value:!0,enumerable:!1,configurable:!1,writable:!1})}function l(e){return i in e&&!0===e[i]}},702826:(e,t,r)=>{r.d(t,{l:()=>o});var n=()=>r(183558);function o(e,t,r){const o=(0,n().Ay)(),a={id:o,type:"placeholder",parentModuleId:t,parentConditionalGroupId:r};return{operation:{pointer:e,command:"update",path:["modules","form_conditional_modules"],args:{[a.id]:a}},placeholderModuleId:o}}},706665:(e,t,r)=>{r.d(t,{Dm:()=>u,H9:()=>p,Q9:()=>A,S5:()=>g,UW:()=>m,V7:()=>b,ZG:()=>k,lT:()=>S,mK:()=>y,wJ:()=>x,xR:()=>_,xT:()=>f,xU:()=>h,z5:()=>d});r(16280),r(18107),r(944114),r(967357),r(898992),r(354520),r(672577),r(803949),r(581454);var n=()=>r(496603),o=()=>r(797809),a=()=>r(387358);class i extends Error{constructor(e,t,r){super(`DuplicatePropertyInGroupError: ${`${e} -- ${`propertyId: ${t} duplicated in group with id ${r.id}`}`}`)}}class s extends Error{constructor(e,t){super(`MissingPropertyGroupId: ${`${e} -- ${`property groups does not contain a group with id ${t}`}`}`)}}class l extends Error{constructor(e,t){super(`MissingPropertyGroupAtIndex: ${`${e} -- ${`property groups does not contain a group at index ${t}`}`}`)}}Error;Error;class c extends Error{constructor(e,t,r){super(`MissingPropertyIdInGroup: ${`${e} -- ${`property with id ${t} is not in group with id ${r}`}`}`)}}function u({propertyGroups:e,schema:t}){var r;if(!e)return;if(0===e.length)return;const a=(0,n().fN)(t,((e,t)=>!(0,o().TV)(t))),i=e.map((e=>e.propertyIds?{...e,propertyIds:e.propertyIds.filter((e=>Boolean(a[e])))}:e)),s=(0,n().LG)(a,(()=>!1));i.forEach((e=>{var t;null===(t=e.propertyIds)||void 0===t||t.forEach((e=>s[e]=!0))}));const c=Object.keys((0,n().fN)(s,(e=>!e))).sort();if(!c)return i;const u=null===(r=i.at(-1))||void 0===r?void 0:r.id;if(!u)throw new l("cannot add missing properties from schema to last property group",i.length-1);return _({propertyGroups:i,groupId:u,propertyIds:c})}function d({propertyGroups:e,groupId:t}){return e.find((e=>e.id===t))}function p({propertyGroups:e,groupId:t,errorMessageIfMissing:r}){const n=d({propertyGroups:e,groupId:t});if(!n)throw new s(r,t);return n}function m(e){return e.map((e=>{var t;return{...e,propertyIds:null===(t=e.propertyIds)||void 0===t?void 0:t.filter((e=>!(0,a().k9)(e)))}}))}function f({propertyGroup:e,propertyId:t}){return!!e.propertyIds&&e.propertyIds.includes(t)}function g({propertyGroups:e,groupId:t,newValue:r}){const n=e.findIndex((e=>e.id===t)),o=e[n];if(-1===n)throw new s("cannot set value for property group",t);const a={...o,...r},i=[...e];return i[n]=a,i}function y({propertyGroups:e,groupId:t,propertyIds:r,belowPropertyId:n}){const o=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:a,...s}=function({propertyGroup:e,propertyIds:t,belowPropertyId:r}){if(0===t.length)return{...e};if(!e.propertyIds)return{...e,propertyIds:[...t]};for(const a of t)if(f({propertyGroup:e,propertyId:a}))throw new i("cannot add property",a,e);const n=e.propertyIds.findIndex((e=>e===r)),o=[...e.propertyIds];return-1!==n?o.splice(n+1,0,...t):o.push(...t),{...e,propertyIds:o}}({propertyGroup:o,propertyIds:r,belowPropertyId:n});return g({propertyGroups:e,groupId:o.id,newValue:s})}function _({propertyGroups:e,groupId:t,propertyIds:r}){const n=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:o,...a}=function({propertyGroup:e,propertyIds:t}){return 0===t.length?{...e}:e.propertyIds?(t.forEach((t=>{if(f({propertyGroup:e,propertyId:t}))throw new i("cannot add property",t,e)})),{...e,propertyIds:[...e.propertyIds,...t]}):{...e,propertyIds:[...t]}}({propertyGroup:n,propertyIds:r});return g({propertyGroups:e,groupId:n.id,newValue:a})}function v({propertyGroups:e,groupId:t,propertyIds:r}){const n=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),{id:o,...a}=function({propertyGroup:e,propertyIds:t}){return 0===t.length?{...e}:e.propertyIds?(t.forEach((t=>{if(f({propertyGroup:e,propertyId:t}))throw new i("cannot add property",t,e)})),{...e,propertyIds:[...t,...e.propertyIds]}):{...e,propertyIds:[...t]}}({propertyGroup:n,propertyIds:r});return g({propertyGroups:e,groupId:n.id,newValue:a})}function b({propertyGroups:e,propertyId:t}){return e.map((e=>function({propertyGroup:e,propertyId:t}){if(!e.propertyIds)return{...e};const r=e.propertyIds.filter((e=>e!==t));return{...e,propertyIds:r}}({propertyGroup:e,propertyId:t})))}function h({propertyGroup:e,newPartialProperties:t}){const r=e.propertyIds;if(!r)return{...e};const n={};r.forEach((e=>n[e]=!0)),t.forEach((t=>{if(!n[t])throw new c("cannot update property order",t,e.id)}));const o={};t.forEach((e=>{o[e]=!0}));const a=r.filter((e=>!o[e])),i=[...t,...a];return{...e,propertyIds:i}}function A({propertyGroups:e,groupId:t}){const r=d({propertyGroups:e,groupId:t});if(!r)return[...e];if(1===e.length)return;if(null==r||!r.propertyIds||0===r.propertyIds.length)return I({propertyGroups:e,groupId:t});const n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to delete",t);if(0===n){const n=e.at(1);if(!n)throw new l("cannot find second group to add properties to",1);return I({propertyGroups:v({propertyGroups:e,groupId:n.id,propertyIds:r.propertyIds}),groupId:t})}const o=n-1,a=e.at(n-1);if(!a)throw new l("cannot find group above to to add properties to",o);return I({propertyGroups:_({propertyGroups:e,groupId:a.id,propertyIds:r.propertyIds}),groupId:t})}function I({propertyGroups:e,groupId:t}){return e.filter((e=>e.id!==t))}function k({propertyGroups:e,groupId:t}){const r=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to move",t);if(0===n)return[...e];const o=n-1,a=e.at(n-1);if(!a)throw new l("cannot find group above to to swap with",o);const i=[...e];return i[o]=r,i[n]=a,i}function x({propertyGroups:e,groupId:t}){const r=p({propertyGroups:e,groupId:t,errorMessageIfMissing:"cannot add property to group"}),n=e.findIndex((e=>e.id===t));if(n<0)throw new s("Cannot determine index of property group to move",t);if(n===e.length-1)return[...e];const o=n+1,a=e.at(n+1);if(!a)throw new l("cannot find group below to to swap with",o);const i=[...e];return i[o]=r,i[n]=a,i}function S({propertyGroups:e,propertyId:t,destinationGroupId:r}){if(f({propertyGroup:p({propertyGroups:e,groupId:r,errorMessageIfMissing:"cannot move property to group"}),propertyId:t}))return e;return _({propertyGroups:b({propertyGroups:e,propertyId:t}),groupId:r,propertyIds:[t]})}},708685:(e,t,r)=>{r.r(t),r.d(t,{getFormulaPropertySchemaBaseResultType:()=>c,getFormulaPropertySchemaResultType:()=>l,getHumanReadableType:()=>d,getHumanReadableValueType:()=>p,isNumberFormulaPropertySchema:()=>m,removeFunctionsFromType:()=>s,wrapLegacyFormulaValue:()=>u});var n=()=>r(597777),o=()=>r(145076),a=()=>r(239381),i=()=>r(201980);function s(e){if("function"===e.type)return{type:"unknown"};if("array"===e.type){return{type:"array",of:s(e.of)}}return e}function l(e){var t,r;return e&&"formula"===e.type?"v2"===e.version?(null==e||null===(r=e.formula2)||void 0===r?void 0:r.result_type.type)??"unknown":(null===(t=e.formula)||void 0===t?void 0:t.result_type)??"unknown":"unknown"}function c(e){var t,r;return e&&"formula"===e.type?"v2"===e.version?null!=e&&null!==(r=e.formula2)&&void 0!==r&&r.result_type?(0,a().pg)(e.formula2.result_type).type??"unknown":"unknown":(null===(t=e.formula)||void 0===t?void 0:t.result_type)??"unknown":"unknown"}function u(e){return"string"==typeof e?{type:"text",value:(0,i().x9d)(e)}:"number"==typeof e?{type:"number",value:e}:"boolean"==typeof e?{type:"checkbox",value:e}:(0,n().kC)(e)?{type:"date",value:e}:{type:"undefined"}}function d(e){if("array"===e.type){const t=(0,a().JK)(e.of);return o().BJ[t.type]}return o().qY[e.type]}function p(e){if("array"===e.type){const t=(0,a().Dj)(e);return"undefined"===t.type?o().BJ.unknown:o().BJ[t.type]}return"undefined"===e.type?o().qY.unknown:o().qY[e.type]}function m(e){return"formula"===e.type&&Boolean("number"===l(e)||e.formula2&&"number"===(0,a().pg)(e.formula2.result_type).type)}},713998:(e,t,r)=>{r.d(t,{$E:()=>Be,Ap:()=>le,BX:()=>oe,DY:()=>ze,Dz:()=>he,FE:()=>z,GH:()=>Qe,H6:()=>ge,HB:()=>Oe,Hz:()=>$e,J4:()=>X,Jb:()=>Ye,Jf:()=>De,KF:()=>ye,L3:()=>Q,MC:()=>ae,MO:()=>Se,Mn:()=>Ae,N8:()=>Ce,O4:()=>Ne,On:()=>we,QV:()=>L,RZ:()=>ne,U8:()=>J,UY:()=>Me,V5:()=>ve,VF:()=>V,VI:()=>Pe,Vf:()=>pe,Vl:()=>Ze,Xw:()=>G,_f:()=>Ve,_g:()=>H,ah:()=>He,bG:()=>ce,bu:()=>We,dg:()=>Fe,di:()=>me,eQ:()=>xe,fF:()=>K,fc:()=>je,iU:()=>Ke,iY:()=>Re,j2:()=>te,jB:()=>de,jw:()=>Te,jy:()=>j,ki:()=>Je,ks:()=>F,m5:()=>ie,n:()=>se,o2:()=>Y,o6:()=>D,pJ:()=>ke,pj:()=>ue,rK:()=>ee,rl:()=>Ie,sP:()=>fe,tH:()=>Le,up:()=>_e,uv:()=>be,w3:()=>Ue,wb:()=>re,xr:()=>O,yH:()=>Z,yQ:()=>R,zP:()=>U});r(16280),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(534177),a=()=>r(59674),i=()=>r(687871),s=()=>r(700500),l=()=>r(423517),c=()=>r(335997),u=()=>r(581793),d=()=>r(363170),p=()=>r(443239),m=()=>r(898244),f=()=>r(254947),g=()=>r(835243),y=()=>r(315771),_=()=>r(617871),v=()=>r(522419),b=()=>r(236162),h=()=>r(681873),A=()=>r(997769),I=()=>r(792071),k=()=>r(72135),x=()=>r(696706),S=()=>r(179034),T=()=>r(519831),M=()=>r(798880),w=()=>r(797809),B=()=>r(201980),C=()=>r(285179),P=()=>r(506391),N=()=>r(931075);function U(e,t){const r=e.getCollectionPointerIfSingleSource(t);if(r){const e=t(r);return null==e?void 0:e.getName()}return R(e,"title",t)}function R(e,t,r){const n=I().Bj6.fromBlock(e),a=n.getProperty(t);if(a)return a;if(n.getType()===s().xd.externalObjectInstancePage&&(0,p().u)(t)||"title"===t){var i;const e=null===(i=n.getExternalObjectAttributes())||void 0===i?void 0:i.find((e=>"title"===t?e.id===t:e.id===t.slice(1)));if(e)return function(e,t,r,n){if(P().Ku(e)){if(function(e){var t;return"rich_text"===(null===(t=e.format)||void 0===t?void 0:t.type)}(e))return e.values;return e.values.flatMap((e=>{if("string"==typeof e)return B().x9d(e);if("number"==typeof e)return(0,c().h)(e);if("boolean"==typeof e)return(0,l().r)(e);if(P().nx(e))return[];if("date"===e.type||"datetime"===e.type||"datetimerange"===e.type)return ie(e);throw new Error(`Expected attributeValue.type to never occur: " + ${JSON.stringify(e.type)}`)}))}if("embed"===e.type)return e.values.flatMap(Te);if("relation"===e.type)return le(e.values.map((e=>{const r=null==t?void 0:t[e];if(r)return{table:S().ev,id:r,spaceId:n}})).filter(o().O9));if("person"===e.type)return(0,u().h)(e.values.map((e=>{const t=null==r?void 0:r[e];if(t)return{table:M().oo,id:t,spaceId:n}})).filter(o().O9));(0,o().HB)(e)}(e,n.getFormatValue("related_external_object_uris_to_instance_ids"),n.getFormatValue("related_external_object_uris_to_user_ids"),n.getSpaceId())}if(n.isType(s().xd.transcription)&&t===w().hx){const e=n.getFormat().transcription_calendar_event;if(null!=e&&e.attendeeIds){const t=e.attendeeIds.map((e=>({table:M().oo,id:e,spaceId:n.getSpaceId()})));return(0,u().h)(t)}return[]}}function D(e,t,r){if(!e||!r)return;const n=e.getProperty(t);if(!n)return;let o;if("person"===r.type){o=(0,d().e)({textValue:n,propertySchema:r,blockCreatorPointer:e.getCreatedByPointer()}).length}else if("multi_select"===r.type){o=Y(n,r.options??[]).length}else if("relation"===r.type){o=se(n).length}else if("file"===r.type){o=ke(n).length}return o}function O(e,t,r){var n;const o=r[t];if(null==o||!o.derived_property_record_metadata||"external_object_instance_page_metadata"!==o.derived_property_record_metadata.type)return;const a=o.derived_property_record_metadata;if(!r[a.pointer_property_uri])return;return{eoipPointer:null===(n=se(e.getProperty(a.pointer_property_uri)))||void 0===n?void 0:n[0],eoipMetadata:a}}function F(e,t,r){const n=E(e,t,r);if(n)return R(n.eoip,`${p().U}${n.externalObjectAttribute}`)}function E(e,t,r){if(!r)return;const n=e.getParentPointer();if(!n.id||!n.spaceId||n.table!==T().Vl)return;const o=r(n);if((null==o?void 0:o.table)!==T().Vl)return;const a=O(e,t,o.getSchema());if(!a)return;const{eoipPointer:i,eoipMetadata:s}=a;if(!i)return;const l=r(i);return l?{eoip:l,externalObjectAttribute:s.external_object_attribute}:void 0}function V(e,t,r){if(!e||!t)return!1;const n=E(e,t,r);return Boolean(n)}function L(e){const{textValue:t,blockModel:r,getRecordModel:n,propertySchema:o}=e,a=r.getParentPointer();if("auto_increment_id"===(null==o?void 0:o.type)&&"collection"===(null==a?void 0:a.table)&&null!=a&&a.spaceId){var i;return`${`${null===(i=n((0,g().aZ)({spaceId:a.spaceId,parentTable:"collection",parentId:a.id})))||void 0===i?void 0:i.record_key}-`}${t}`}return t}function H(e){const{schema:t,property:r}=e;return t[r]||t[`${p().U}${r}`]}function G(e){var t;return Boolean(e.properties||(null===(t=e.format)||void 0===t?void 0:t.attributes))}const q=new WeakMap;function j(e,t){const r=function(e){if(!e.length)return;let t=q.get(e);if(void 0===t){t=new Map;for(const r of e){const e=(0,B().xV3)(r.value).trim().toLowerCase();t.set(e,r)}q.set(e,t)}return t}(e);return null==r?void 0:r.get((0,B().xV3)(t).trim().toLowerCase())}function $(e,t){var r;return null===(r=j(e,t))||void 0===r?void 0:r.value}function z(e,t){var r;return null===(r=j(e,t))||void 0===r?void 0:r.color}const W=new WeakMap;function Z(e){if(void 0===e)return[];const t=W.get(e);if(void 0!==t)return t;const r=B().k4p(e).split(",").map((e=>e.trim())).filter(Boolean);return W.set(e,r),r}function Q(e,t){const r=Z(e);for(const n of r){const e=$(t,n);if(e)return e}}function K(e,t){const r=Z(e);for(const n of r){const e=j(t,n);if(e)return e}}function J(e){return e?[[e]]:[]}function Y(e,t){const r=Z(e).map((e=>{const r=$(t,e);if(r)return r}));return n().sb(n().oE(r))}function X(e,t){const r=Z(e).map((e=>j(t,e)));return n().sb(n().oE(r))}function ee(e){if(!e)return[];return[[e.join(",")]]}function te(e){if(!e)return[];const[t,r]=e,n=[];return t.table===M().oo?n.push(B().wmz(B().P4h(t.id))):n.push(B().wmz(B().Vb6(t.id))),n.push(ie(r)[0]),(0,h().G)(n,(()=>B().Ey_(",")))}const re=J;function ne(e,t){return oe(e,t)??t.defaultOption}function oe(e,t){return Q(e,t.options??[])}function ae(e,t,r){var n,o,a,i;const s=ne(e,t),l=t.groups??[],c=(t.options??[]).find((e=>e.value===s)),u=c&&l.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(c.id)})),d=r.formatMessage(f().oz.statusGroupNameComplete),p=r.formatMessage(f().oz.statusGroupNameInProgress);return(null==u||null===(n=u.name)||void 0===n?void 0:n.toLowerCase())===d.toLowerCase()||(null==u||null===(o=u.name)||void 0===o?void 0:o.toLowerCase())===f().P0.toLowerCase()||((null==u||null===(a=u.name)||void 0===a?void 0:a.toLowerCase())===p.toLowerCase()||(null==u||null===(i=u.name)||void 0===i?void 0:i.toLowerCase())===f().jc.toLowerCase())&&"partial"}function ie(e){return e?[B().wmz(B().Ww9(e))]:[]}function se(e){const t=B().moK(e);return x().L3.uniq(t)}function le(e){const t=e.map((e=>B().wmz(B().ld4(e.id,e.spaceId))));return(0,h().G)(t,(()=>B().Ey_(",")))}function ce(e){const{relationValue:t,propertySchema:r,getRecordModel:n}=e,o=r.limit,a=[];for(const s of t){var i;if(o&&a.length>=o)break;const t=n(s);if(!t){e.includeNoAccess&&a.push(s);continue}if(!t.getAlive())continue;if(t.isTemplate())continue;(null===(i=(0,b().SH)({getRecordModel:n,block:t}))||void 0===i?void 0:i.id)===(0,m().zO)(r)&&a.push(s)}return a}function ue({relationValue:e,getRecordModel:t,originAction:r}){const n=[];for(const o of e){if("paste"===r){n.push(o);continue}const e=t(o);e&&e.getAlive()&&n.push(o)}return n}async function de(e){const{relationValue:t,propertySchema:r,loadRecordModel:a,limit:i}=e,s=r.limit??i,l=[];for(const c of n().iv(t,10)){const e=(await Promise.all(c.map((async e=>{var t;const n=await a(e);if(!n||!n.getAlive())return;return(null===(t=await(0,b().wC)({loadRecordModel:a,block:n}))||void 0===t?void 0:t.id)===(0,m().zO)(r)?n:void 0})))).filter(o().O9);if(s){const t=s-l.length;e.splice(t)}if(l.push(...e),s&&l.length>=s)break}return l}function pe(e,t,r){let n=[...e];const o=e.findIndex((e=>e.property===t));return n=e[o]?[...e.slice(0,o),{property:t,visible:r},...e.slice(o+1)]:[...e,{property:t,visible:r}],n}function me(e){return he(e)===_().ob}function fe(e){return he(e)===_().io}function ge(e){return he(e)===_().Hd}function ye(e){return he(e)===_().e1}function _e(e){return he(e)===_().k0}function ve(e){return he(e)===_().mn}function be(e){return he(e)===_().zG}function he(e){if(e&&"relation"===e.type&&e.connectedRelation)return e.connectedRelation.integration_id}function Ae(e){return e===_().mn}function Ie(e,t){return!!(0,m().bT)(e)&&function(e,t){return!!e.relation_property&&ve(t[e.relation_property])}(e,t)}function ke(e){const t=B().CY8(e),r=n().hS(t,(e=>e.url));if(r.length>0)return r;const o=B().k4p(e);var a;if((0,v().Nh)(o))return[{name:(null===(a=(0,v()._2)(o))||void 0===a?void 0:a.fileName)??o,url:o}];if(o){const e=B().ctx(o);if(e)return[{name:e.value,url:e.href}]}return[]}function xe(e){const t=e.map((e=>B().Ey_(e.name,[B().Sez(e.url)])));return(0,h().G)(t,(()=>B().Ey_(",")))}function Se(e){const t=B().CY8(e);if(t.length>0)return t[0].url;return B().k4p(e)}function Te(e){if(null==e)return[];const t=Me("url",[[e]]);return[B().Ey_(e,[B().Sez(t||e)])]}function Me(e,t){if("url"===e){const e=Se(t);if(e){const t=A().I6(e);if(t&&t[0]&&t[0].href)return t[0].href}}else if("phone_number"===e){const e=Se(t);if(e){const t=e.trim().replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\-/g,"").replace(/\./g,"");return t.includes("tel:")?t:`tel:${t}`}}else if("email"===e){const e=Se(t);return e&&!e.includes("mailto:")?`mailto:${e}`:e}}function we(e){const t=B().k4p(e);return k().$J(t)}function Be(e){return void 0===e||isNaN(e)?[]:[[e.toString()]]}function Ce(e){const t=I().Bj6.fromBlock(e.block);if("page"===t.getType()&&t.getParentTable()===T().Vl)return t.getParentPointer()}function Pe(e){const{block:t,getRecordModel:r}=e,n=Ce({block:t});return n&&r(n)}function Ne(e){const{block:t,propertySchema:r,getRecordModel:n}=e;if(void 0===r.property)return{rawRelatedPointers:[],normalizedRelatedPages:[]};const a=R(t,r.property);if(void 0===a)return{rawRelatedPointers:[],normalizedRelatedPages:[]};const i=se(a);return{rawRelatedPointers:i,normalizedRelatedPages:ce({relationValue:i,getRecordModel:n,propertySchema:r,includeNoAccess:!0}).map((e=>n(e))).filter(o().O9)}}function Ue({before:e,after:t}){if(!(e&&t&&(0,m().DQ)(e)&&(0,m().DQ)(t)))return;const r=e.options??[],o=t.options??[],a=n().pY(r,"id"),i=n().pY(o,"id"),s=[],l=[],c=[];for(const n of r){const e=i[n.id];e?e.value!==n.value&&c.push({before:n,after:e}):l.push(n)}for(const n of o)a[n.id]||s.push(n);return{newOptions:s,removedOptions:l,modifiedOptions:c}}function Re({isAuthed:e,isSpaceAdmin:t,isPropertyAdminAuthOnly:r,isMobile:n}){return!e&&!t&&r&&!n}function De(e){const{property:t,propertySchema:r,isTypedProperty:n,schema:o}=e,a=(0,m().UU)(r),s=Ie(r,o);return"title"===r.type||"verification"===r.type||t===N()._e.Owner||t===i().Z.Owner&&"person"===r.type||"auto_increment_id"===r.type||n||a||s}function Oe(e){switch(e.type){case"status":case"number":case"select":case"multi_select":case"date":case"created_time":case"last_edited_time":case"person":case"url":case"formula":case"button":case"rollup":case"auto_increment_id":return!0;case"relation":return!he(e)||me(e)||ve(e);case"text":return Boolean((0,m().om)(e));default:return!1}}function Fe(e){return[...B().moK(e),...B().jEb({value:e,convertGroupPointersToBeComposite:!0})]}const Ee=[a().y.MeetingNoteToCalendarEventRelation,a().y.Attendees,a().y.MeetingTime];function Ve(e,t){return!!e&&Ee.some((r=>{var n;return(null===(n=e.getPropertyMapping())||void 0===n?void 0:n[r])===t}))}function Le(e){const{beforeValue:t,afterValue:r,propertySchema:n,getRecordModel:o,getBlockTitle:a}=e,i=se(t),s=se(r),l=(0,y().H)(i,s,(e=>`${e.id}${e.table}`)),c=new Set(ce({relationValue:l.created,getRecordModel:o,propertySchema:n,includeNoAccess:!0})),u=new Set(ce({relationValue:l.deleted,getRecordModel:o,propertySchema:n,includeNoAccess:!0})),d=[...c,...u];return d.flatMap(((e,t)=>{const r=a({table:S().ev,id:e.id})||[],n=[],o=B().RQ(r);for(const a of o)if(B().bHQ(a)){const t=c.has(e)?"+":"-",r=[a[0],[[t]]];n.push(r)}else n.push(a);return t<d.length-1&&n.push(B().Ey_("\n")),n}))}function He(e,t){return!!e&&(("myMeetings"!==(null==t?void 0:t.type)||"location"!==e.type)&&"button"!==e.type)}const Ge=new Set(["title","text","person","checkbox","select","multi_select","status","number","date","created_by","created_time","last_edited_by","last_edited_time","place"]),qe=new Set(["relation","rollup","formula"]);function je({propertySchema:e,isConditionalColorM2Enabled:t}){return!!e&&(Ge.has(e.type)||t&&qe.has(e.type))}function $e(e){var t;if(!e)return!1;const r="button"===(null==e?void 0:e.type),n=("text"===(null==e?void 0:e.type)&&(null===(t=e.ai_inference)||void 0===t?void 0:t.auto_update_on_edit))??!1;return!r&&!n}function ze(e){return!!e&&("text"===e||"title"===e||"url"===e||"email"===e||"phone_number"===e)}function We(e){return"relation"===e.type||"person"===e.type}function Ze(e,t){return(e??[]).filter((e=>e in t))}function Qe(e){if(void 0===e)return;const t=se(e);return 1===t.length?t[0]:void 0}function Ke(e,t,r){const n=e.getSharingEnabledRelationProperty();if(!n)return;const o=Qe(R(t,n.propertyId));return void 0!==o?(r&&r.set(t.pointer,o),o):void 0}function Je(e){const t=new Set,r=new Set;return e.forEach((e=>{const n="string"==typeof e?e:e.value;t.has(n.toLowerCase())||(t.add(n.toLowerCase()),r.add(e))})),Array.from(r)}function Ye(e,t){const r=JSON.stringify(e).length;return r>1e3*C().hQ||t>0&&r>t}},716016:(e,t,r)=>{r.d(t,{H4:()=>s,N_:()=>c,V_:()=>u,f_:()=>l,yP:()=>d});r(898992),r(354520),r(581454);var n=()=>r(496603),o=()=>r(898244),a=()=>r(792071),i=()=>r(415292);function s(e,t){return!n().Et(t)||isNaN(t)?"":e?`${e}-${t}`:`${t}`}function l(e){const{spaceId:t}=e;return{table:"record_counter",id:(0,i().gD)(e),spaceId:t}}function c(e){return u(e).length>0}function u(e){const t=a().Bj6.fromCollection(e);return[...d((0,o().Dp)(e)),...d((0,o().ao)(t))]}function d(e){return Object.entries(e).filter((([e,t])=>t&&"auto_increment_id"===t.type)).map((([e])=>e))}},721726:(e,t,r)=>{r.d(t,{W:()=>o});var n=()=>r(450648);function o(e){const{propertyValue:t,getRecordModel:r,collectionRequestContext:o}=e,{userTimeZone:a,intl:i}=o;return{type:"text",value:(0,n().r4)({textValue:t,getRecordModel:r,userTimeZone:a,intl:i}).trim()}}},721776:(e,t,r)=>{r.d(t,{A:()=>a,_:()=>o});var n=()=>r(292588);const o="confluence_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,site:n().A.String,email:n().A.String,access_token:n().A.String,instance:n().A.String,authentication_type:n().A.String,user_id:n().A.UUID,space_id:n().A.UUID}}},728272:(e,t,r)=>{r.d(t,{d:()=>n});r(898992),r(354520);class n{constructor(e){if(this.internalState=void 0,this.internalState=new(r(400017).A)(r(452540).jV),e)for(const t of e)this.add(t)}size(){return this.internalState.size}add(e){this.internalState.add(e)}delete(e){this.internalState.delete(e)}has(e){return this.internalState.has(e)}union(e){return new n([...this,...e])}difference(e){return new n([...this].filter((t=>!e.has(t))))}*[Symbol.iterator](){for(const e of this.internalState)yield e}}},728396:(e,t,r)=>{r.d(t,{A8:()=>s,Hc:()=>o,Jc:()=>l,NS:()=>i,U2:()=>a});var n=()=>r(190674);function o(e){switch(e){case"page_in_collection":default:return!1;case"form":return!0}}function a(e){return"page_in_collection"===e}function i(e){const t=e.form_layout_schema;return t&&t.length>0?"form":"page_in_collection"}function s(e){return!!e&&("page_in_collection"===i(e)&&(0,n().El)(e))}function l(e){return!!e&&("page_in_collection"===i(e)&&(0,n().zg)(e))}},736062:(e,t,r)=>{r.d(t,{Ay:()=>a,Kc:()=>o});var n=()=>r(292588);const o="marketplace_creator_balance_transaction",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,external_id:n().A.String,seller_id:n().A.UUID,seller_account_id:n().A.String,payout_id:n().A.UUID,acquisition_id:n().A.UUID,amount:n().A.Number,currency:n().A.String,exchange_rate:n().A.Number,created_time:n().A.Number,attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,external_id:!0,seller_id:!0,seller_account_id:!0,acquisition_id:!0,amount:!0,currency:!0,exchange_rate:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!1})}},737658:(e,t,r)=>{r.d(t,{Bb:()=>s,TR:()=>l,Yd:()=>a,hJ:()=>i,hy:()=>c});var n=()=>r(534177),o=()=>r(90634);const a={getCollectionId(e){if(i(e))return(0,o().rJ)(e);if(l(e))return`${e.spaceId}-${e.type}`;switch(e.type){case"collection":return e.id;case"typed":return e.databaseType;default:(0,n().HB)(e)}},getTaintId(e){if(i(e)){return`${(0,o().rJ)(e)}:${e.spaceId}`}if(l(e))return`${e.spaceId}-${e.type}`;switch(e.type){case"collection":return e.id;case"typed":return`${e.spaceId}-${e.type}`;default:(0,n().HB)(e)}},hasCollections(e){if(i(e))return!1;if(l(e))return!0;switch(e.type){case"collection":case"typed":return!0;default:(0,n().HB)(e)}}};function i(e){return s(null==e?void 0:e.type)}function s(e){return"trending"===e||"similarUsers"===e}function l(e){return c(null==e?void 0:e.type)}function c(e){switch(e){case"createdByMe":case"recents":case"mentionsMe":case"sharedWithMe":case"myPages":case"myMeetings":case"favorites":case"private":case"shared":return!0;default:return!1}}},738182:(e,t,r)=>{r.d(t,{v:()=>n});const n={serialize:e=>JSON.stringify(e),deserialize:e=>JSON.parse(e)}},741037:(e,t,r)=>{r.d(t,{Ay:()=>i,dP:()=>o,wU:()=>a});var n=()=>r(292588);const o="legal_hold_export",a=30*r(615234).nD,i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,legal_hold_id:n().A.UUID,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,status:n().A.String,s3_url:n().A.String,metadata:n().A.JSON,space_ids:n().A.StringArray},requiredColumns:{id:!0,version:!0,legal_hold_id:!0,created_time:!0,created_by_id:!0,created_by_table:!0,status:!0,space_ids:!0}}},743246:(e,t,r)=>{r.d(t,{Ay:()=>s,C0:()=>o,V8:()=>i});var n=()=>r(292588);const o="workflow",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_by_table:n().A.String,created_by_id:n().A.UUID,created_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID,last_edited_time:n().A.Number,alive:n().A.Boolean,permissions:n().A.JSON,moved_to_trash_table:n().A.String,moved_to_trash_id:n().A.UUID,moved_to_trash_time:n().A.Number,deleted_from_trash_time:n().A.Number,deleted_from_trash_table:n().A.String,deleted_from_trash_id:n().A.UUID},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0},defaultColumnValues:{created_by_table:"notion_user",alive:!0,permissions:[]},model:(0,r(152853).P)({RecordStore:!0})},i={block:!0,space:!0},s=a},748580:(e,t,r)=>{r.d(t,{d2:()=>C,bv:()=>M,IS:()=>_,tI:()=>b,ry:()=>y,po:()=>h,hz:()=>I});r(898992),r(672577),r(581454);var n=()=>r(534177);var o=()=>r(559653),a=()=>r(604995);function i(e){if(!e.timestamp)return{type:"date",value:void 0};return{type:"date",value:a().KQ(e.timestamp,e.userTimeZone)}}function s(e){const{propertyValue:t}=e;return{type:"number",value:(0,r(302322).M)(t)}}var l=()=>r(721726);function c(e){const{propertyValue:t}=e;return{type:"text",value:r(201980).k4p(t)}}var u=()=>r(713998),d=()=>r(568063),p=()=>r(597777),m=()=>r(450648),f=()=>r(931075);const g={text:"text",url:"text",email:"text",phone_number:"text",checkbox:"checkbox",select:"select",multi_select:"multi_select",status:"status",person:"person",relation:"relation",created_by:"person",last_edited_by:"person",number:"number",auto_increment_id:"number",date:"date",created_time:"date",last_edited_time:"date",last_visited_time:"date",title:"text",file:"file",location:"location",verification:"verification",place:"place"};function y(e){return e in g}function _(e){return g[e]}const v={created_by:!0,last_edited_by:!0,created_time:!0,last_edited_time:!0,last_visited_time:!0,location:!0};function b(e){return y(e.type)&&!(e.type in v)}function h(e){const{propertySchema:t,propertyValue:r}=e;if(!t||"status"!==t.type)return{type:"status",option:void 0,group:void 0};const n=t.options??[],o=u().RZ(r,t),a=n.find((e=>e.value===o)),i=t.groups??[],s=a?i.find((e=>{var t;return null===(t=e.optionIds)||void 0===t?void 0:t.includes(a.id)})):void 0;return{type:"status",option:o,group:null==s?void 0:s.name}}const A={text:l().W,title:l().W,url:c,email:c,phone_number:c,checkbox:function(e){const{propertyValue:t}=e;return{type:"checkbox",value:(0,r(657970).w)(t)}},select:function(e){const{propertyValue:t,propertySchema:r}=e,n=r&&"select"===r.type&&r.options||[];return{type:"select",value:u().L3(t,n)}},multi_select:function(e){const{propertySchema:t,propertyValue:r}=e;if(!t||"multi_select"!==t.type)return{type:"multi_select",value:void 0};const n=t.options||[];return{type:"multi_select",value:u().o2(r,n)}},status:h,relation:function(e){const{propertyValue:t,propertySchema:r,getRecordModel:n}=e;return r&&"relation"===r.type?{type:"relation",value:u().bG({relationValue:u().n(t),propertySchema:r,getRecordModel:n,includeNoAccess:!0})}:{type:"relation",value:void 0}},person:function(e){const{block:t,propertyValue:n,propertySchema:o,skipDefault:a}=e;return{type:"person",value:(0,r(363170).e)({textValue:n,propertySchema:o,blockCreatorPointer:t.getCreatedByPointer(),skipDefault:a})}},created_by:({block:e})=>{const t=e.getCreatedByPointer();return{type:"person",value:t?[t]:void 0}},last_edited_by:({block:e})=>{const t=e.getLastEditedByPointer();return{type:"person",value:t?[t]:void 0}},number:s,auto_increment_id:s,date:function(e){const{propertyValue:t}=e;return{type:"date",value:(0,r(187696).b)(t)}},created_time:({block:e,collectionRequestContext:{userTimeZone:t}})=>i({timestamp:e.getCreatedTime(),userTimeZone:t}),last_edited_time:({block:e,collectionRequestContext:{userTimeZone:t}})=>i({timestamp:e.getLastEditedTime(),userTimeZone:t}),file:function(e){const{propertyValue:t}=e;return{type:"file",value:u().pJ(t).map((e=>e.url))}},location:function(e){const{block:t,propertySchema:r}=e;return r&&"location"===r.type?{type:"location",value:u().N8({block:t})}:{type:"location",value:void 0}},last_visited_time:function(e){const{block:t,propertySchema:r,getRecordModel:n,collectionRequestContext:a}=e,{userTimeZone:s,userId:l}=a;if(!l||!r||"last_visited_time"!==r.type)return{type:"date",value:void 0};const c=(0,o().$5)({parent_id:t.id,user_id:l}),u=n({table:o().F9,id:c,spaceId:t.getSpaceId()});return i({timestamp:null==u?void 0:u.getVisitedAt(),userTimeZone:s})},verification:function(e){const{propertyValue:t}=e,r=(0,f().U1)(t);return{type:"verification",value:(0,f().B2)(r).type}},place:function(e){return{type:"place",value:(0,r(96330).eC)(e.propertyValue)}}};function I(e){const{filterValueType:t,propertySchema:r}=e;if(!r)return{type:t,value:void 0};if(!y(r.type))return{type:t,value:void 0};const n=A[r.type];return n?n(e):{type:t,value:void 0}}function k(e){return void 0===e.value||""===e.value?[]:[[e.value]]}function x(e){return u().jw(e.value)}function S(e){return r(335997).h(e.value)}const T={text:k,title:k,url:x,email:x,phone_number:x,checkbox:function(e){return(0,r(423517).r)(e.value)},select:function(e){return u().U8(e.value)},multi_select:function(e){return u().rK(e.value)},status:function(e){return u().wb(e.option)},relation:function(e){return u().Ap(e.value||[])},person:function(e){return(0,r(581793).h)(e.value||[])},number:S,auto_increment_id:S,date:function(e){return u().m5(e.value)},file:function(e){return u().eQ((e.value||[]).map((e=>({name:e,url:e}))))},location:function(){return[]},verification:function(e){return[]},place:function(e){return[]}};function M(e){const{propertyType:t,filterValue:r}=e;return(0,T[t])(r)}function*w(e){const{block:t,schema:r,property:o,getRecordModel:a,collectionRequestContext:i,formula2Error:s,formulasModule:l,spaceIdCreator:c}=e,{userTimeZone:u,depth:d,intl:m,visitedProperties:f,resultCache:g,regExpCache:y,formatDateCache:_,formulaTimeoutTimestampMs:v,logFormulaTimeoutFn:b,logFormulaStatsFn:h,experimentService:A,collectionFeatureGates:I}=i,k=r[o];if(k&&"formula"===k.type&&l)if("v2"===k.version){if(!k.formula2)return;const{code:e}=k.formula2,r=l.evaluateCollectionFormula2({block:t,property:o,formulaCode:e,getRecordModel:a,intl:m,userTimeZone:u,depth:d,visitedProperties:f,formulaTimeoutTimestampMs:v,logFormulaTimeoutFn:b,logFormulaStatsFn:h,formula2Error:s,resultCache:g,regExpCache:y,formatDateCache:_,experimentService:A,collectionFeatureGates:I,spaceIdCreator:c});if(!r)return;yield*B(r,a,u,m)}else{if(!k.formula)return;if(!k.formula.result_type)return;const e=l.evaluateFormulaProperty({schema:r,property:o,block:t,getRecordModel:a,collectionRequestContext:{userId:void 0,userTimeZone:u,depth:d,intl:m,resultCache:g,regExpCache:y,formatDateCache:_,visitedProperties:f,formulaTimeoutTimestampMs:v,logFormulaTimeoutFn:b,experimentService:A,collectionFeatureGates:I},spaceIdCreator:c});if("number"===k.formula.result_type){if("number"!=typeof e)return}else if("text"===k.formula.result_type){if("string"!=typeof e)return}else if("checkbox"===k.formula.result_type){if("boolean"!=typeof e)return}else if("date"===k.formula.result_type){if(!p().kC(e))return}else(0,n().HB)(k.formula.result_type);yield{type:k.formula.result_type,value:e}}}function*B(e,t,r,n){if(e&&"undefined"!==e.type)if("array"===e.type)for(const o of e.values)yield*B(o,t,r,n);else if("block"===e.type){const o=t(e.value);if(!o)return;yield{type:"text",value:o.getRenderTitle({getRecordModel:t,userTimeZone:r,intl:n})}}else"person"===e.type?yield{type:"person",value:[e.value]}:"text"===e.type?yield{type:"text",value:(0,m().r4)({textValue:e.value,getRecordModel:t,userTimeZone:r,intl:n})}:("number"===e.type||"date"===e.type||"checkbox"===e.type)&&(yield{type:e.type,value:e.value});else;}function*C(e){const{block:t,schema:r,property:n,getRecordModel:o,propertyMapping:a,collectionRequestContext:i}=e,s=r[n];if(!s)return;if("formula"===s.type)return void(yield*w(e));if("rollup"===s.type)return void(yield*function*(e){const{block:t,schema:r,property:n,getRecordModel:o,collectionRequestContext:a,formula2Error:i,formulasModule:s,spaceIdCreator:l}=e,c=r[n];if(!c)return;if("rollup"!==c.type)return;const u=(0,d().eY)({property:n,schema:r,getRecordModel:o,spaceIdCreator:l});if(!u)return;if("person"===u.rollupType)return;if(c.aggregation&&"show_unique"!==c.aggregation){const t=(0,d().Pm)(e);return void(t&&(yield t))}const p=(0,d().yH)({property:n,schema:r,block:t,getRecordModel:o,spaceIdCreator:l});for(const d of p)yield*C({block:d,property:u.targetProperty,schema:u.targetCollectionSchema,getRecordModel:o,propertyMapping:void 0,collectionRequestContext:{...a,depth:a.depth+1},formula2Error:i,formulasModule:s,spaceIdCreator:l})}(e));if("button"===s.type)return;const l=_(s.type),c=(null==a?void 0:a[n])??n,p=I({filterValueType:l,propertySchema:s,propertyValue:u().yQ(t,c,o),block:t,getRecordModel:o,collectionRequestContext:i});yield p}},749257:(e,t,r)=>{r.d(t,{Ay:()=>i,du:()=>a,wg:()=>o});var n=()=>r(292588);const o={space:!0},a="worker",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,name:n().A.String,custom_function_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,alive:n().A.Boolean},requiredColumns:{version:!0,space_id:!0,name:!0,custom_function_id:!0,parent_id:!0,parent_table:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})}},751735:(e,t,r)=>{r.d(t,{Mj:()=>n().Mj,X4:()=>o,e$:()=>i,e0:()=>a,lY:()=>s});var n=()=>r(983640);function o(e,t){return"string"==typeof e&&e.startsWith("var(")?`rgb(from ${e} r g b / ${t})`:s((0,n().Mj)(e).alpha(t))}function a(e,t){const r=50*t;if(e.startsWith("var("))return`hsl(from ${e} h s calc(l + ${r}))`;const o=(0,n().Mj)(e).toHsl();return o.l=Math.max(0,Math.min(100,o.l+r)),s((0,n().Mj)(o))}function i(e,t){if(e.startsWith("var(")){return`lab(from ${e} calc(l - ${16*t}) a b)`}const r=(0,n().Mj)(e).toLab();return r.l-=16*t,s((0,n().Mj)(r))}function s(e){return e.minify({hex:!1,hsl:!1})}(0,n().X$)([r(283439).A,r(920008).A,r(767105).A,r(329309).A])},754195:(e,t,r)=>{r.d(t,{$N:()=>c,D$:()=>l,NV:()=>s,hV:()=>o,mP:()=>d,py:()=>u,qu:()=>a,ty:()=>i});var n=()=>r(534177);const o={date_is:!0,date_is_before:!0,date_is_after:!0,date_is_on_or_before:!0,date_is_on_or_after:!0,date_is_within:!0,date_is_relative_to:!0,is_empty:!0,is_not_empty:!0},a=(0,n().uv)(o),i=[...(0,r(720665).zu)({today:{type:"relative",value:"today"},tomorrow:{type:"relative",value:"tomorrow"},yesterday:{type:"relative",value:"yesterday"},one_week_ago:{type:"relative",value:"one_week_ago"},one_week_from_now:{type:"relative",value:"one_week_from_now"},one_month_ago:{type:"relative",value:"one_month_ago"},one_month_from_now:{type:"relative",value:"one_month_from_now"}}),{type:"exact",value:void 0}],s={this_week:{type:"relative",value:"surrounding",unit:"week"},the_past_week:{type:"relative",value:"custom",direction:"past",count:1,unit:"week"},the_past_month:{type:"relative",value:"custom",direction:"past",count:1,unit:"month"},the_past_year:{type:"relative",value:"custom",direction:"past",count:1,unit:"year"},the_next_week:{type:"relative",value:"custom",direction:"future",count:1,unit:"week"},the_next_month:{type:"relative",value:"custom",direction:"future",count:1,unit:"month"},the_next_year:{type:"relative",value:"custom",direction:"future",count:1,unit:"year"}},l={start_date:!1,end_date:!0},c=(0,n().uv)(l),u=[...Object.values(s),{type:"exact",value:void 0}],d=[{type:"relative",value:"custom",direction:"future",count:2,unit:"week"},{type:"exact",value:void 0}]},758256:(e,t,r)=>{r.d(t,{Ay:()=>i,U6:()=>a,rk:()=>o});var n=()=>r(292588);const o={workflow:!0,thread:!0},a="workflow_artifact",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,created_at:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,type:n().A.String,data:n().A.JSON},requiredColumns:{space_id:!0,version:!0,parent_id:!0,parent_table:!0,type:!0,created_at:!0,created_by_table:!0,created_by_id:!0,data:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},761152:(e,t,r)=>{r.d(t,{A:()=>a,I:()=>o});var n=()=>r(292588);const o="legal_hold_user",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,legal_hold_id:n().A.UUID,user_id:n().A.UUID,deleted_at_time:n().A.Number,deleted_by_id:n().A.UUID,deleted_by_table:n().A.String},requiredColumns:{id:!0,version:!0,legal_hold_id:!0,user_id:!0},model:(0,r(152853).P)({RecordStore:!1})}},764880:(e,t,r)=>{r.d(t,{A7:()=>v,Ah:()=>d,D3:()=>_,H3:()=>f,L_:()=>p,MR:()=>A,Mq:()=>h,Pu:()=>y,h2:()=>g,lR:()=>x,oC:()=>I,ps:()=>m,qt:()=>b,w2:()=>k,xC:()=>S});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=()=>r(534177),o=()=>r(638681),a=()=>r(799288),i=()=>r(792071),s=()=>r(310442),l=()=>r(824862),c=()=>r(798880);const u={[c().oo]:!0,[l().GP]:!0,[s().yj]:!0};const d=o().union([o().object({required:{table:o().literals("bot","notion_user"),id:o().string()},optional:{spaceId:o().string()}}),o().object({required:{table:o().literal("agent"),id:o().string(),spaceId:o().string()},optional:{}})]);function p(e){return e.isUser()}function m(e){return e.table===c().oo}function f(e){return e.table===l().GP}function g(e){return e.table===s().yj}function y(e){return"object"==typeof e&&"table"in e&&"id"in e&&("string"==typeof(t=e.table)&&t in u);var t}function _(e){return i().Bj6.isAnyModel(e)?e.asActor:"asActor"in e?e:void 0===e.value?{table:e.table,asActor:void 0}:i().Bj6.fromRecordWithTable(e).asActor}function v(e){return i().Bj6.fromValue(c().oo,e)}function b(e){return i().Bj6.fromValue(l().GP,e)}function h(e){return i().Bj6.fromValue(s().yj,e)}function A(e){return e?v(e):{table:c().oo,asActor:void 0}}function I(e){return e?b(e):{table:l().GP,asActor:void 0}}function k(e){return e?h(e):{table:s().yj,asActor:void 0}}function x(e,t){return t?t.table===c().oo?(null===(r=t.asActor)||void 0===r?void 0:r.getDisplayName(e))??e.formatMessage(i().Fvx.messages.anonymousPlaceholder):t.table===l().GP?(0,a().Hg)(t.asActor):t.table===s().yj?(null===(o=t.asActor)||void 0===o?void 0:o.getName())??e.formatMessage(i().TIe.messages.unnamedAgent):void(0,n().HB)(t):e.formatMessage(i().Fvx.messages.anonymousPlaceholder);var r,o}function S(e){var t;const{pointer:r}=e;return(null===(t=i().b4_.fromGetRecordValueFn(e.getRecordValue||e.getRecordModel)(r))||void 0===t?void 0:t.asActor)??{table:r.table,asActor:void 0}}new Set(r(498212).w7)},765008:(e,t,r)=>{r.d(t,{Ay:()=>i,eV:()=>a});var n=()=>r(638681),o=()=>r(292588);const a="passkey_authenticator",i=(n().literals("direct","indirect","enterprise","none"),n().literals("ble","cable","hybrid","internal","nfc","smart-card","usb"),{table:a,columnTypes:{id:o().A.UUID,user_id:o().A.UUID,credential_id:o().A.Blob,public_key:o().A.Blob,authenticator_name:o().A.String,signature_count:o().A.Number,aaguid:o().A.String,authenticator_attestation_type:o().A.String,transports:o().A.StringArray,created_at:o().A.Number,updated_at:o().A.Number,last_used_at:o().A.Number,version:o().A.Number,last_version:o().A.Number,authenticator_signature:o().A.String},model:(0,r(152853).P)({RecordStore:!0})})},767194:(e,t,r)=>{r.d(t,{A:()=>a,q:()=>o});var n=()=>r(292588);const o="bot_extended_metadata",a={table:o,columnTypes:{id:n().A.UUID,bot_id:n().A.UUID,space_id:n().A.UUID,version:n().A.Number,type:n().A.String,metadata:n().A.JSON,created_at:n().A.Number,updated_at:n().A.Number,alive:n().A.Boolean,key:n().A.String,last_version:n().A.Number,integration_id:n().A.UUID}}},770940:(e,t,r)=>{r.d(t,{I:()=>n});const n={palette:{uiBlue:{50:"var(--ca-palUiBlu50)",75:"var(--ca-palUiBlu75)",100:"var(--ca-palUiBlu100)",150:"var(--cd-palUiBlu150)",200:"var(--ca-palUiBlu200)",300:"var(--ca-palUiBlu300)",400:"var(--ca-palUiBlu400)",500:"var(--ca-palUiBlu500)",600:"var(--c-palUiBlu600)",700:"var(--c-palUiBlu700)"},pink:{30:"var(--cl-palPin30)",50:"var(--cd-palPin50)",75:"var(--cd-palPin75)",100:"var(--cl-palPin100)",200:"var(--ca-palPin200)",300:"var(--cl-palPin300)",400:"var(--ca-palPin400)",500:"var(--cd-palPin500)",600:"var(--cd-palPin600)",700:"var(--cd-palPin700)",800:"var(--c-palPin800)",900:"var(--c-palPin900)"},purple:{30:"var(--cl-palPur30)",50:"var(--cd-palPur50)",75:"var(--cd-palPur75)",100:"var(--cl-palPur100)",200:"var(--ca-palPur200)",300:"var(--cl-palPur300)",400:"var(--ca-palPur400)",500:"var(--cd-palPur500)",600:"var(--cd-palPur600)",700:"var(--cd-palPur700)",800:"var(--c-palPur800)",900:"var(--c-palPur900)"},green:{30:"var(--cl-palGre30)",50:"var(--cd-palGre50)",75:"var(--cd-palGre75)",100:"var(--cl-palGre100)",200:"var(--ca-palGre200)",300:"var(--cl-palGre300)",400:"var(--ca-palGre400)",500:"var(--cd-palGre500)",600:"var(--cd-palGre600)",700:"var(--cd-palGre700)",800:"var(--c-palGre800)",900:"var(--c-palGre900)"},gray:{0:"var(--c-palGra0)",30:"var(--cl-palGra30)",50:"var(--c-palGra50)",75:"var(--cl-palGra75)",90:"var(--cl-palGra90)",100:"var(--cl-palGra100)",200:"var(--cl-palGra200)",300:"var(--cl-palGra300)",400:"var(--cl-palGra400)",500:"var(--c-palGra500)",600:"var(--c-palGra600)",700:"var(--c-palGra700)",800:"var(--c-palGra800)",850:"var(--c-palGra850)",900:"var(--c-palGra900)"},translucentGray:{30:"var(--cl-palTraGra30)",50:"var(--cl-palTraGra50)",75:"var(--ca-palTraGra75)",100:"var(--ca-palTraGra100)",200:"var(--ca-palTraGra200)",300:"var(--ca-palTraGra300)",400:"var(--ca-palTraGra400)",500:"var(--ca-palTraGra500)",600:"var(--ca-palTraGra600)",700:"var(--ca-palTraGra700)",800:"var(--ca-palTraGra800)",850:"var(--ca-palTraGra850)",900:"var(--ca-palTraGra900)"},orange:{30:"var(--cl-palOra30)",50:"var(--cd-palOra50)",75:"var(--cd-palOra75)",100:"var(--cl-palOra100)",200:"var(--ca-palOra200)",300:"var(--cl-palOra300)",400:"var(--ca-palOra400)",500:"var(--cd-palOra500)",600:"var(--cd-palOra600)",700:"var(--cd-palOra700)",800:"var(--c-palOra800)",900:"var(--c-palOra900)"},brown:{30:"var(--cl-palBro30)",50:"var(--cd-palBro50)",75:"var(--cd-palBro75)",100:"var(--cl-palBro100)",200:"var(--ca-palBro200)",300:"var(--cl-palBro300)",400:"var(--ca-palBro400)",500:"var(--cd-palBro500)",600:"var(--cd-palBro600)",700:"var(--cd-palBro700)",800:"var(--c-palBro800)",900:"var(--c-palBro900)"},red:{30:"var(--cl-palRed30)",50:"var(--cd-palRed50)",75:"var(--cd-palRed75)",100:"var(--cl-palRed100)",200:"var(--ca-palRed200)",300:"var(--cl-palRed300)",400:"var(--ca-palRed400)",500:"var(--cd-palRed500)",600:"var(--cd-palRed600)",700:"var(--cd-palRed700)",800:"var(--c-palRed800)",900:"var(--c-palRed900)"},yellow:{30:"var(--cl-palYel30)",50:"var(--cd-palYel50)",75:"var(--cd-palYel75)",100:"var(--cl-palYel100)",200:"var(--ca-palYel200)",300:"var(--cl-palYel300)",400:"var(--ca-palYel400)",500:"var(--cd-palYel500)",600:"var(--cd-palYel600)",700:"var(--cd-palYel700)",800:"var(--c-palYel800)",900:"var(--c-palYel900)"},blue:{30:"var(--cl-palBlu30)",50:"var(--cd-palBlu50)",75:"var(--cd-palBlu75)",100:"var(--cl-palBlu100)",200:"var(--ca-palBlu200)",300:"var(--cl-palBlu300)",400:"var(--ca-palBlu400)",500:"var(--cd-palBlu500)",600:"var(--cd-palBlu600)",700:"var(--cd-palBlu700)",800:"var(--c-palBlu800)",900:"var(--c-palBlu900)"},pageGlass:{0:"var(--ca-palPagGla0)"},washGlass:{0:"var(--ca-palWasGla0)"}},text:{quaternary:"var(--ca-texQua)",uiRedSecondary:"var(--ca-texUiRedSec)",primary:"var(--c-texPri)",secondary:"var(--c-texSec)",tertiary:"var(--c-texTer)",disabled:"var(--c-texDis)",accentPrimary:"var(--c-texAccPri)",inversePrimary:"var(--c-texInvPri)",inverseSecondary:"var(--c-texInvSec)"},icon:{quaternary:"var(--ca-icoQua)",primary:"var(--c-icoPri)",secondary:"var(--c-icoSec)",tertiary:"var(--c-icoTer)",disabled:"var(--c-icoDis)",accentPrimary:"var(--c-icoAccPri)",inversePrimary:"var(--c-icoInvPri)",inverseSecondary:"var(--c-icoInvSec)"},gray:{background:{primaryTranslucent:"var(--ca-graBacPriTra)",secondaryTranslucent:"var(--ca-graBacSecTra)",tertiaryTranslucent:"var(--ca-graBacTerTra)",primary:"var(--c-graBacPri)",secondary:"var(--c-graBacSec)",tertiary:"var(--c-graBacTer)",elevated:"var(--c-graBacEle)",accentPrimary:"var(--c-graBacAccPri)",accentSecondary:"var(--c-graBacAccSec)"},border:{primaryTranslucent:"var(--ca-graBorPriTra)",secondaryTranslucent:"var(--ca-graBorSecTra)",primary:"var(--c-graBorPri)",secondary:"var(--c-graBorSec)",inversePrimary:"var(--c-graBorInvPri)",accentPrimary:"var(--c-graBorAccPri)",strong:"var(--c-graBorStr)"},text:{primary:"var(--c-graTexPri)",secondary:"var(--c-graTexSec)",tertiary:"var(--c-graTexTer)",disabled:"var(--c-graTexDis)",accentPrimary:"var(--c-graTexAccPri)",inversePrimary:"var(--c-graTexInvPri)",inverseSecondary:"var(--c-graTexInvSec)"},icon:{primary:"var(--c-graIcoPri)",secondary:"var(--c-graIcoSec)",tertiary:"var(--c-graIcoTer)",disabled:"var(--c-graIcoDis)",accentPrimary:"var(--c-graIcoAccPri)",inversePrimary:"var(--c-graIcoInvPri)",inverseSecondary:"var(--c-graIcoInvSec)"}},red:{background:{primaryTranslucent:"var(--ca-redBacPriTra)",secondaryTranslucent:"var(--ca-redBacSecTra)",tertiaryTranslucent:"var(--ca-redBacTerTra)",primary:"var(--c-redBacPri)",secondary:"var(--c-redBacSec)",tertiary:"var(--c-redBacTer)",elevated:"var(--c-redBacEle)",accentPrimary:"var(--c-redBacAccPri)",accentSecondary:"var(--c-redBacAccSec)"},border:{primaryTranslucent:"var(--ca-redBorPriTra)",secondaryTranslucent:"var(--ca-redBorSecTra)",primary:"var(--c-redBorPri)",secondary:"var(--c-redBorSec)",inversePrimary:"var(--c-redBorInvPri)",accentPrimary:"var(--c-redBorAccPri)",strong:"var(--c-redBorStr)"},text:{primary:"var(--c-redTexPri)",secondary:"var(--c-redTexSec)",tertiary:"var(--c-redTexTer)",disabled:"var(--c-redTexDis)",accentPrimary:"var(--c-redTexAccPri)",inversePrimary:"var(--c-redTexInvPri)",inverseSecondary:"var(--c-redTexInvSec)"},icon:{primary:"var(--c-redIcoPri)",secondary:"var(--c-redIcoSec)",tertiary:"var(--c-redIcoTer)",disabled:"var(--c-redIcoDis)",accentPrimary:"var(--c-redIcoAccPri)",inversePrimary:"var(--c-redIcoInvPri)",inverseSecondary:"var(--c-redIcoInvSec)"}},orange:{background:{primaryTranslucent:"var(--ca-oraBacPriTra)",secondaryTranslucent:"var(--ca-oraBacSecTra)",tertiaryTranslucent:"var(--ca-oraBacTerTra)",primary:"var(--c-oraBacPri)",secondary:"var(--c-oraBacSec)",tertiary:"var(--c-oraBacTer)",elevated:"var(--c-oraBacEle)",accentPrimary:"var(--c-oraBacAccPri)",accentSecondary:"var(--c-oraBacAccSec)"},border:{primaryTranslucent:"var(--ca-oraBorPriTra)",secondaryTranslucent:"var(--ca-oraBorSecTra)",primary:"var(--c-oraBorPri)",secondary:"var(--c-oraBorSec)",inversePrimary:"var(--c-oraBorInvPri)",accentPrimary:"var(--c-oraBorAccPri)",strong:"var(--c-oraBorStr)"},text:{primary:"var(--c-oraTexPri)",secondary:"var(--c-oraTexSec)",tertiary:"var(--c-oraTexTer)",disabled:"var(--c-oraTexDis)",accentPrimary:"var(--c-oraTexAccPri)",inversePrimary:"var(--c-oraTexInvPri)",inverseSecondary:"var(--c-oraTexInvSec)"},icon:{primary:"var(--c-oraIcoPri)",secondary:"var(--c-oraIcoSec)",tertiary:"var(--c-oraIcoTer)",disabled:"var(--c-oraIcoDis)",accentPrimary:"var(--c-oraIcoAccPri)",inversePrimary:"var(--c-oraIcoInvPri)",inverseSecondary:"var(--c-oraIcoInvSec)"}},yellow:{background:{primaryTranslucent:"var(--ca-yelBacPriTra)",secondaryTranslucent:"var(--ca-yelBacSecTra)",tertiaryTranslucent:"var(--ca-yelBacTerTra)",primary:"var(--c-yelBacPri)",secondary:"var(--c-yelBacSec)",tertiary:"var(--c-yelBacTer)",elevated:"var(--c-yelBacEle)",accentPrimary:"var(--c-yelBacAccPri)",accentSecondary:"var(--c-yelBacAccSec)"},border:{primaryTranslucent:"var(--ca-yelBorPriTra)",secondaryTranslucent:"var(--ca-yelBorSecTra)",primary:"var(--c-yelBorPri)",secondary:"var(--c-yelBorSec)",inversePrimary:"var(--c-yelBorInvPri)",accentPrimary:"var(--c-yelBorAccPri)",strong:"var(--c-yelBorStr)"},text:{primary:"var(--c-yelTexPri)",secondary:"var(--c-yelTexSec)",tertiary:"var(--c-yelTexTer)",disabled:"var(--c-yelTexDis)",accentPrimary:"var(--c-yelTexAccPri)",inversePrimary:"var(--c-yelTexInvPri)",inverseSecondary:"var(--c-yelTexInvSec)"},icon:{primary:"var(--c-yelIcoPri)",secondary:"var(--c-yelIcoSec)",tertiary:"var(--c-yelIcoTer)",disabled:"var(--c-yelIcoDis)",accentPrimary:"var(--c-yelIcoAccPri)",inversePrimary:"var(--c-yelIcoInvPri)",inverseSecondary:"var(--c-yelIcoInvSec)"}},green:{background:{primaryTranslucent:"var(--ca-greBacPriTra)",secondaryTranslucent:"var(--ca-greBacSecTra)",tertiaryTranslucent:"var(--ca-greBacTerTra)",primary:"var(--c-greBacPri)",secondary:"var(--c-greBacSec)",tertiary:"var(--c-greBacTer)",elevated:"var(--c-greBacEle)",accentPrimary:"var(--c-greBacAccPri)",accentSecondary:"var(--c-greBacAccSec)"},border:{primaryTranslucent:"var(--ca-greBorPriTra)",secondaryTranslucent:"var(--ca-greBorSecTra)",primary:"var(--c-greBorPri)",secondary:"var(--c-greBorSec)",inversePrimary:"var(--c-greBorInvPri)",accentPrimary:"var(--c-greBorAccPri)",strong:"var(--c-greBorStr)"},text:{primary:"var(--c-greTexPri)",secondary:"var(--c-greTexSec)",tertiary:"var(--c-greTexTer)",disabled:"var(--c-greTexDis)",accentPrimary:"var(--c-greTexAccPri)",inversePrimary:"var(--c-greTexInvPri)",inverseSecondary:"var(--c-greTexInvSec)"},icon:{primary:"var(--c-greIcoPri)",secondary:"var(--c-greIcoSec)",tertiary:"var(--c-greIcoTer)",disabled:"var(--c-greIcoDis)",accentPrimary:"var(--c-greIcoAccPri)",inversePrimary:"var(--c-greIcoInvPri)",inverseSecondary:"var(--c-greIcoInvSec)"}},teal:{background:{primaryTranslucent:"var(--ca-teaBacPriTra)",secondaryTranslucent:"var(--ca-teaBacSecTra)",tertiaryTranslucent:"var(--ca-teaBacTerTra)",primary:"var(--c-teaBacPri)",secondary:"var(--c-teaBacSec)",tertiary:"var(--c-teaBacTer)",elevated:"var(--c-teaBacEle)",accentPrimary:"var(--c-teaBacAccPri)",accentSecondary:"var(--c-teaBacAccSec)"},border:{primaryTranslucent:"var(--ca-teaBorPriTra)",secondaryTranslucent:"var(--ca-teaBorSecTra)",primary:"var(--c-teaBorPri)",secondary:"var(--c-teaBorSec)",inversePrimary:"var(--c-teaBorInvPri)",accentPrimary:"var(--c-teaBorAccPri)",strong:"var(--c-teaBorStr)"},text:{primary:"var(--c-teaTexPri)",secondary:"var(--c-teaTexSec)",tertiary:"var(--c-teaTexTer)",disabled:"var(--c-teaTexDis)",accentPrimary:"var(--c-teaTexAccPri)",inversePrimary:"var(--c-teaTexInvPri)",inverseSecondary:"var(--c-teaTexInvSec)"},icon:{primary:"var(--c-teaIcoPri)",secondary:"var(--c-teaIcoSec)",tertiary:"var(--c-teaIcoTer)",disabled:"var(--c-teaIcoDis)",accentPrimary:"var(--c-teaIcoAccPri)",inversePrimary:"var(--c-teaIcoInvPri)",inverseSecondary:"var(--c-teaIcoInvSec)"}},blue:{background:{primaryTranslucent:"var(--ca-bluBacPriTra)",secondaryTranslucent:"var(--ca-bluBacSecTra)",tertiaryTranslucent:"var(--ca-bluBacTerTra)",primary:"var(--c-bluBacPri)",secondary:"var(--c-bluBacSec)",tertiary:"var(--c-bluBacTer)",elevated:"var(--c-bluBacEle)",accentPrimary:"var(--c-bluBacAccPri)",accentSecondary:"var(--c-bluBacAccSec)"},border:{primaryTranslucent:"var(--ca-bluBorPriTra)",secondaryTranslucent:"var(--ca-bluBorSecTra)",primary:"var(--c-bluBorPri)",secondary:"var(--c-bluBorSec)",inversePrimary:"var(--c-bluBorInvPri)",accentPrimary:"var(--c-bluBorAccPri)",strong:"var(--c-bluBorStr)"},text:{primary:"var(--c-bluTexPri)",secondary:"var(--c-bluTexSec)",tertiary:"var(--c-bluTexTer)",disabled:"var(--c-bluTexDis)",accentPrimary:"var(--c-bluTexAccPri)",inversePrimary:"var(--c-bluTexInvPri)",inverseSecondary:"var(--c-bluTexInvSec)"},icon:{primary:"var(--c-bluIcoPri)",secondary:"var(--c-bluIcoSec)",tertiary:"var(--c-bluIcoTer)",disabled:"var(--c-bluIcoDis)",accentPrimary:"var(--c-bluIcoAccPri)",inversePrimary:"var(--c-bluIcoInvPri)",inverseSecondary:"var(--c-bluIcoInvSec)"}},purple:{background:{primaryTranslucent:"var(--ca-purBacPriTra)",secondaryTranslucent:"var(--ca-purBacSecTra)",tertiaryTranslucent:"var(--ca-purBacTerTra)",primary:"var(--c-purBacPri)",secondary:"var(--c-purBacSec)",tertiary:"var(--c-purBacTer)",elevated:"var(--c-purBacEle)",accentPrimary:"var(--c-purBacAccPri)",accentSecondary:"var(--c-purBacAccSec)"},border:{primaryTranslucent:"var(--ca-purBorPriTra)",secondaryTranslucent:"var(--ca-purBorSecTra)",primary:"var(--c-purBorPri)",secondary:"var(--c-purBorSec)",inversePrimary:"var(--c-purBorInvPri)",accentPrimary:"var(--c-purBorAccPri)",strong:"var(--c-purBorStr)"},text:{primary:"var(--c-purTexPri)",secondary:"var(--c-purTexSec)",tertiary:"var(--c-purTexTer)",disabled:"var(--c-purTexDis)",accentPrimary:"var(--c-purTexAccPri)",inversePrimary:"var(--c-purTexInvPri)",inverseSecondary:"var(--c-purTexInvSec)"},icon:{primary:"var(--c-purIcoPri)",secondary:"var(--c-purIcoSec)",tertiary:"var(--c-purIcoTer)",disabled:"var(--c-purIcoDis)",accentPrimary:"var(--c-purIcoAccPri)",inversePrimary:"var(--c-purIcoInvPri)",inverseSecondary:"var(--c-purIcoInvSec)"}},pink:{background:{primaryTranslucent:"var(--ca-pinBacPriTra)",secondaryTranslucent:"var(--ca-pinBacSecTra)",tertiaryTranslucent:"var(--ca-pinBacTerTra)",primary:"var(--c-pinBacPri)",secondary:"var(--c-pinBacSec)",tertiary:"var(--c-pinBacTer)",elevated:"var(--c-pinBacEle)",accentPrimary:"var(--c-pinBacAccPri)",accentSecondary:"var(--c-pinBacAccSec)"},border:{primaryTranslucent:"var(--ca-pinBorPriTra)",secondaryTranslucent:"var(--ca-pinBorSecTra)",primary:"var(--c-pinBorPri)",secondary:"var(--c-pinBorSec)",inversePrimary:"var(--c-pinBorInvPri)",accentPrimary:"var(--c-pinBorAccPri)",strong:"var(--c-pinBorStr)"},text:{primary:"var(--c-pinTexPri)",secondary:"var(--c-pinTexSec)",tertiary:"var(--c-pinTexTer)",disabled:"var(--c-pinTexDis)",accentPrimary:"var(--c-pinTexAccPri)",inversePrimary:"var(--c-pinTexInvPri)",inverseSecondary:"var(--c-pinTexInvSec)"},icon:{primary:"var(--c-pinIcoPri)",secondary:"var(--c-pinIcoSec)",tertiary:"var(--c-pinIcoTer)",disabled:"var(--c-pinIcoDis)",accentPrimary:"var(--c-pinIcoAccPri)",inversePrimary:"var(--c-pinIcoInvPri)",inverseSecondary:"var(--c-pinIcoInvSec)"}},brown:{background:{primaryTranslucent:"var(--ca-broBacPriTra)",secondaryTranslucent:"var(--ca-broBacSecTra)",tertiaryTranslucent:"var(--ca-broBacTerTra)",primary:"var(--c-broBacPri)",secondary:"var(--c-broBacSec)",tertiary:"var(--c-broBacTer)",elevated:"var(--c-broBacEle)",accentPrimary:"var(--c-broBacAccPri)",accentSecondary:"var(--c-broBacAccSec)"},border:{primaryTranslucent:"var(--ca-broBorPriTra)",secondaryTranslucent:"var(--ca-broBorSecTra)",primary:"var(--c-broBorPri)",secondary:"var(--c-broBorSec)",inversePrimary:"var(--c-broBorInvPri)",accentPrimary:"var(--c-broBorAccPri)",strong:"var(--c-broBorStr)"},text:{primary:"var(--c-broTexPri)",secondary:"var(--c-broTexSec)",tertiary:"var(--c-broTexTer)",disabled:"var(--c-broTexDis)",accentPrimary:"var(--c-broTexAccPri)",inversePrimary:"var(--c-broTexInvPri)",inverseSecondary:"var(--c-broTexInvSec)"},icon:{primary:"var(--c-broIcoPri)",secondary:"var(--c-broIcoSec)",tertiary:"var(--c-broIcoTer)",disabled:"var(--c-broIcoDis)",accentPrimary:"var(--c-broIcoAccPri)",inversePrimary:"var(--c-broIcoInvPri)",inverseSecondary:"var(--c-broIcoInvSec)"}},background:{secondaryTranslucent:"var(--ca-bacSecTra)",elevatedTranslucent:"var(--cd-bacEleTra)",tertiaryTranslucent:"var(--ca-bacTerTra)",primary:"var(--c-bacPri)",secondary:"var(--c-bacSec)",tertiary:"var(--c-bacTer)",elevated:"var(--c-bacEle)",accentPrimary:"var(--c-bacAccPri)",accentSecondary:"var(--c-bacAccSec)"},border:{primary:"var(--c-borPri)",primaryTranslucent:"var(--ca-borPriTra)",secondary:"var(--c-borSec)",secondaryTranslucent:"var(--ca-borSecTra)",inversePrimary:"var(--c-borInvPri)",accentPrimary:"var(--c-borAccPri)",strong:"var(--c-borStr)"},primaryBlack:"var(--c-priBla)",darkTextColor:"var(--ca-darTexCol)",pageTitlePlaceholderTextColor:"var(--cl-pagTitPlaTexCol)",headerBlockPlaceholderTextColor:"var(--cl-heaBloPlaTexCol)",lightDividerColor:"var(--ca-ligDivCol)",regularDividerColor:"var(--ca-regDivCol)",darkDividerColor:"var(--ca-darDivCol)",chartLegendItemHiddenColor:"var(--cl-chaLegIteHidCol)",chartInactiveLegendNavigationColor:"var(--cl-chaInaLegNavCol)",chartRowRightColor:"var(--ca-chaRowRigCol)",tableDividerColor:"var(--c-tabDivCol)",tableHomeDividerColor:"var(--ca-tabHomDivCol)",tableFrozenFilterDividerColor:"var(--c-tabFroFilDivCol)",tableFrozenSelectedDividerColor:"var(--c-tabFroSelDivCol)",tableLightDividerColor:"var(--c-tabLigDivCol)",largePopupBorder:"var(--ca-larPopBor)",largeShimmerColor:"var(--ca-larShiCol)",linkDecorationColor:"var(--cl-linDecCol)",opacityLinkDecorationColor:"var(--ca-opaLinDecCol)",regularEmojiColor:"var(--c-regEmoCol)",sidebarTextColor:"var(--c-sidTexCol)",sidebarSecondaryColor:"var(--c-sidSecCol)",sidebarItemSelectedBackground:"var(--ca-sidIteSelBac)",sidebarSecondaryBackground:"var(--ca-sidSecBac)",contentBackgroundTransparent:"var(--ca-conBacTra)",cardContentBackgroundTransparent:"var(--ca-carConBacTra)",overlaySmokescreen:"var(--ca-oveSmo)",calendarItemBackground:"var(--c-calIteBac)",calendarItemHoveredBackground:"var(--cl-calIteHovBac)",popoverBackground:"var(--c-popBac)",popoverWaxPaperBackground:"var(--ca-popWaxPapBac)",boardItemDefaultBackground:"var(--cd-boaIteDefBac)",collectionGalleryPreviewCardBackground:"var(--cd-colGalPreCarBac)",collectionGalleryPreviewCardCover:"var(--ca-colGalPreCarCov)",collectionUnsetDependencyArrow:"var(--cl-colUnsDepArr)",collectionValidDependencyArrow:"var(--ca-colValDepArr)",modalUnderlayBackground:"var(--ca-modUndBac)",altTextPopupBackground:"var(--ca-altTexPopBac)",filterGroupBackground:"var(--ca-filGroBac)",beigeBannerBackground:"var(--c-beiBanBac)",darkBannerBackground:"var(--c-darBanBac)",keyboardDoneBarBackground:"var(--c-keyDonBarBac)",keyboardActionBarBackground:"var(--c-keyActBarBac)",UIUserAvatarInnerOutline:"var(--ca-UIUseAvaInnOut)",UIUserAvatarSelfBorder:"var(--c-UIUseAvaSelBor)",UIUserAvatarIdleOutline:"var(--c-UIUseAvaIdlOut)",suspendedUIUserAvatarBackground:"var(--cl-susUIUseAvaBac)",selectorBorderUnselected:"var(--cl-selBorUns)",codeBlockBackground:"var(--cd-codBloBac)",codeStickyBlockBackground:"var(--c-codStiBloBac)",codeBlockButtonBackground:"var(--c-codBloButBac)",tableHeaderRowColumnBackground:"var(--cd-tabHeaRowColBac)",embedPlaceholderBackground:"var(--cd-embPlaBac)",defaultBadgeBackground:"var(--ca-defBadBac)",inputBackground:"var(--ca-inpBac)",tokenInputMenuItemBackground:"var(--ca-tokInpMenIteBac)",hoveredDiscussionBackground:"var(--cl-hovDisBac)",hoveredMarginDiscussionBackground:"var(--c-hovMarDisBac)",selectedMarginDiscussionBackground:"var(--c-selMarDisBac)",focusDiscussionBackground:"var(--cl-focDisBac)",focusDiscussionInputBackground:"var(--ca-focDisInpBac)",filterPillBackground:"var(--ca-filPilBac)",filterPillBorder:"var(--ca-filPilBor)",buttonHoveredBackground:"var(--ca-butHovBac)",tableRowHoveredBackground:"var(--ca-tabRowHovBac)",outlineButtonHoveredBackground:"var(--ca-outButHovBac)",outlineButtonPressedBackground:"var(--cl-outButPreBac)",buttonPressedBackground:"var(--ca-butPreBac)",buttonPressedBackgroundLight:"var(--ca-butPreBacLig)",cardBackground:"var(--cl-carBac)",cardHoveredBackground:"var(--cl-carHovBac)",cardPressedBackground:"var(--cl-carPreBac)",blueButtonBackground:"var(--cd-bluButBac)",blueButtonHoveredBackground:"var(--c-bluButHovBac)",blueButtonPressedBackground:"var(--c-bluButPreBac)",white:"var(--c-whi)",whiteButtonBackground:"var(--c-whiButBac)",assistantCornerButtonBackground:"var(--c-assCorButBac)",assistantCornerButtonBackgroundHovered:"var(--c-assCorButBacHov)",assistantCornerButtonBackgroundPressed:"var(--c-assCorButBacPre)",assistantTintedActionButtonBackground:"var(--ca-assTinActButBac)",assistantTintedActionButtonBackgroundHovered:"var(--ca-assTinActButBacHov)",assistantTintedActionButtonBackgroundPressed:"var(--ca-assTinActButBacPre)",redButtonBackground:"var(--cd-redButBac)",redButtonHoveredBackground:"var(--cd-redButHovBac)",redButtonPressedBackground:"var(--cd-redButPreBac)",grayButtonBackground:"var(--c-graButBac)",grayButtonHoveredBackground:"var(--c-graButHovBac)",grayButtonPressedBackground:"var(--c-graButPreBac)",lightGrayButtonBackground:"var(--ca-ligGraButBac)",lightGrayButtonHoveredBackground:"var(--ca-ligGraButHovBac)",lightGrayButtonPressedBackground:"var(--ca-ligGraButPreBac)",buttonGroupBackground:"var(--c-butGroBac)",checkboxBackground:"var(--c-cheBac)",checkboxHoveredBackground:"var(--c-cheHovBac)",checkboxPressedBackground:"var(--c-chePreBac)",uncheckedCheckboxHoveredBackground:"var(--ca-uncCheHovBac)",uncheckedCheckboxPressedBackground:"var(--ca-uncChePreBac)",whiteButtonHoveredBackground:"var(--c-whiButHovBac)",whiteButtonPressedBackground:"var(--c-whiButPreBac)",outlineBlueButtonHoveredBackground:"var(--ca-outBluButHovBac)",outlineBlueButtonPressedBackground:"var(--ca-outBluButPreBac)",outlineRedButtonBorder:"var(--ca-outRedButBor)",outlinefrontSecondaryButtonHoveredBackground:"var(--ca-outSecButHovBac)",outlinefrontSecondaryButtonPressedBackground:"var(--ca-outSecButPreBac)",outlineButtonBorder:"var(--ca-outButBor)",filterGroupBorder:"var(--ca-filGroBor)",radioButtonBorder:"var(--ca-radButBor)",timelineBackground:"var(--c-timBac)",peekTimelineBackground:"var(--c-peeTimBac)",timelineDarkerBackground:"var(--cd-timDarBac)",timelineRed:"var(--cd-timRed)",topbarFavorite:"var(--c-topFav)",calendarTodayBackground:"var(--cd-calTodBac)",home:{emptyStatePreview:{joinButtonBackground:"var(--cl-homEmpStaPreJoiButBac)",calendarIndicator:"var(--cl-homEmpStaPreCalInd)",verticalDivider:"var(--cl-homEmpStaPreVerDiv)"},scrollButtonBackground:{base:"var(--c-homScrButBacBas)",pressed:"var(--cl-homScrButBacPre)"},tile:{background:"var(--ca-homTilBac)"},cards:{coverPhoto:{base:"var(--ca-homCarCovPhoBas)"},background:{base:"var(--cd-homCarBacBas)",hovered:"var(--cd-homCarBacHov)",pressed:"var(--ca-homCarBacPre)"},templateCardBackground:{base:"var(--cd-homCarTemCarBacBas)",hovered:"var(--cd-homCarTemCarBacHov)",pressed:"var(--ca-homCarTemCarBacPre)"}}},personalHomeBackgroundPhone:"var(--cl-perHomBacPho)",importOptionsButtonBackground:"var(--cd-impOptButBac)",importOptionsIconWrapBackground:"var(--c-impOptIcoWraBac)",sitesPagePreviewWindowsChromeBar:"var(--c-sitPagPreWinChrBar)",seoPreviewTitle:"var(--c-seoPreTit)",sitesBuilderBackground:"var(--c-sitBuiBac)",sitesInstructionStep:"var(--cl-sitInsSte)",selectLightGray:{30:"var(--cl-selLigGra30)",50:"var(--cl-selLigGra50)",100:"var(--cl-selLigGra100)",200:"var(--cl-selLigGra200)",300:"var(--cl-selLigGra300)",400:"var(--cl-selLigGra400)",500:"var(--cl-selLigGra500)",700:"var(--cl-selLigGra700)"},guestIconColor:"var(--c-gueIcoCol)",legacyDefaultSelectColor:"var(--ca-legDefSelCol)",legacyRedSelectColor:"var(--ca-legRedSelCol)",equationTemporaryPlaceholderBackground:"var(--ca-equTemPlaBac)",simpleTableSelectionBorder:"var(--c-simTabSelBor)",onboardingBackground:"var(--c-onbBac)",onboardingPreviewBackground:"var(--c-onbPreBac)",errorText:"var(--cd-errTex)",lightErrorText:"var(--cd-ligErrTex)",aiPurpleColor:"var(--cl-aiPurCol)",invoiceGreen:"var(--c-invGre)",statusTokenBackground:{green:"var(--c-staTokBacGre)",yellow:"var(--c-staTokBacYel)",red:"var(--c-staTokBacRed)"},statusTokenIndicator:{green:"var(--c-staTokIndGre)",yellow:"var(--c-staTokIndYel)",red:"var(--c-staTokIndRed)"},findHighlightMatch:{selectedBackground:"var(--ca-finHigMatSelBac)",unselectedBackground:"var(--cl-finHigMatUnsBac)"},statusTokenText:{green:"var(--c-staTokTexGre)",yellow:"var(--c-staTokTexYel)",red:"var(--c-staTokTexRed)"},guestTokenBackground:"var(--ca-gueTokBac)",marketplaceStarDefault:"var(--ca-marStaDef)",marketplaceStarSelected:"var(--c-marStaSel)",pill:{background:{yellow:"var(--ca-pilBacYel)",blue:"var(--ca-pilBacBlu)",red:"var(--ca-pilBacRed)",white:"var(--cl-pilBacWhi)"},border:{yellow:"var(--cd-pilBorYel)",blue:"var(--ca-pilBorBlu)",red:"var(--c-pilBorRed)",white:"var(--ca-pilBorWhi)"},icon:{yellow:"var(--c-pilIcoYel)",blue:"var(--c-pilIcoBlu)",red:"var(--c-pilIcoRed)",white:"var(--cl-pilIcoWhi)"},outline:{yellow:"var(--ca-pilOutYel)",blue:"var(--ca-pilOutBlu)",red:"var(--ca-pilOutRed)",white:"var(--cl-pilOutWhi)"},hover:{background:{yellow:"var(--c-pilHovBacYel)",blue:"var(--ca-pilHovBacBlu)",red:"var(--c-pilHovBacRed)",white:"var(--ca-pilHovBacWhi)"},border:{yellow:"var(--cl-pilHovBorYel)",blue:"var(--ca-pilHovBorBlu)",red:"var(--ca-pilHovBorRed)",white:"var(--ca-pilHovBorWhi)"},text:{yellow:"var(--cd-pilHovTexYel)",blue:"var(--c-pilHovTexBlu)",red:"var(--c-pilHovTexRed)",white:"var(--c-pilHovTexWhi)"}},pressed:{background:{yellow:"var(--ca-pilPreBacYel)",blue:"var(--ca-pilPreBacBlu)",red:"var(--ca-pilPreBacRed)",white:"var(--ca-pilPreBacWhi)"},border:{yellow:"var(--cl-pilPreBorYel)",blue:"var(--ca-pilPreBorBlu)",red:"var(--cl-pilPreBorRed)",white:"var(--ca-pilPreBorWhi)"}},selected:{background:{yellow:"var(--cd-pilSelBacYel)",blue:"var(--cl-pilSelBacBlu)",red:"var(--c-pilSelBacRed)",white:"var(--cl-pilSelBacWhi)"},border:{yellow:"var(--ca-pilSelBorYel)",blue:"var(--cl-pilSelBorBlu)",red:"var(--ca-pilSelBorRed)",white:"var(--ca-pilSelBorWhi)"},hover:{background:{yellow:"var(--cl-pilSelHovBacYel)",blue:"var(--ca-pilSelHovBacBlu)",red:"var(--ca-pilSelHovBacRed)",white:"var(--ca-pilSelHovBacWhi)"},border:{yellow:"var(--ca-pilSelHovBorYel)",blue:"var(--cl-pilSelHovBorBlu)",red:"var(--ca-pilSelHovBorRed)",white:"var(--ca-pilSelHovBorWhi)"}},pressed:{background:{yellow:"var(--c-pilSelPreBacYel)",blue:"var(--ca-pilSelPreBacBlu)",red:"var(--cl-pilSelPreBacRed)",white:"var(--ca-pilSelPreBacWhi)"},border:{yellow:"var(--ca-pilSelPreBorYel)",blue:"var(--cl-pilSelPreBorBlu)",red:"var(--ca-pilSelPreBorRed)",white:"var(--ca-pilSelPreBorWhi)"}}}},marketplaceTopic:{text:{hover:{red:"var(--c-marTopTexHovRed)",yellow:"var(--c-marTopTexHovYel)",blue:"var(--c-marTopTexHovBlu)",white:"var(--cl-marTopTexHovWhi)"},pressed:{red:"var(--c-marTopTexPreRed)",yellow:"var(--c-marTopTexPreYel)",blue:"var(--c-marTopTexPreBlu)",white:"var(--c-marTopTexPreWhi)"},dropdownViewAll:{red:"var(--c-marTopTexDroVieAllRed)",yellow:"var(--c-marTopTexDroVieAllYel)",blue:"var(--c-marTopTexDroVieAllBlu)",white:"var(--c-marTopTexDroVieAllWhi)"}}},marketplaceEditorialIllustration:{red:"var(--cl-marEdiIllRed)",yellow:"var(--cl-marEdiIllYel)",blue:"var(--cl-marEdiIllBlu)",white:"var(--cl-marEdiIllWhi)"},marketplaceEditorial:{icon:{red:"var(--c-marEdiIcoRed)",yellow:"var(--c-marEdiIcoYel)",blue:"var(--c-marEdiIcoBlu)",white:"var(--cl-marEdiIcoWhi)"},border:{red:"var(--cd-marEdiBorRed)",yellow:"var(--cd-marEdiBorYel)",blue:"var(--cd-marEdiBorBlu)",white:"var(--ca-marEdiBorWhi)",hover:{red:"var(--ca-marEdiBorHovRed)",yellow:"var(--ca-marEdiBorHovYel)",blue:"var(--cd-marEdiBorHovBlu)",white:"var(--ca-marEdiBorHovWhi)"},pressed:{red:"var(--ca-marEdiBorPreRed)",yellow:"var(--ca-marEdiBorPreYel)",blue:"var(--ca-marEdiBorPreBlu)",white:"var(--ca-marEdiBorPreWhi)"}},background:{red:"var(--ca-marEdiBacRed)",yellow:"var(--ca-marEdiBacYel)",blue:"var(--ca-marEdiBacBlu)",white:"var(--ca-marEdiBacWhi)",hover:{red:"var(--c-marEdiBacHovRed)",yellow:"var(--c-marEdiBacHovYel)",blue:"var(--cd-marEdiBacHovBlu)",white:"var(--ca-marEdiBacHovWhi)"},pressed:{red:"var(--cl-marEdiBacPreRed)",yellow:"var(--cl-marEdiBacPreYel)",blue:"var(--cd-marEdiBacPreBlu)",white:"var(--ca-marEdiBacPreWhi)"}},illustration:{red:"var(--c-marEdiIllRed2)",yellow:"var(--c-marEdiIllYel2)",blue:"var(--c-marEdiIllBlu2)",white:"var(--c-marEdiIllWhi2)"}},creatorProfile:{inReviewText:"var(--c-creProInRevTex)",inReviewHoveredText:"var(--c-creProInRevHovTex)",inReviewBackground:"var(--c-creProInRevBac)"},zipImport:{border:"var(--cd-zipImpBor)",background:"var(--cd-zipImpBac)"},shadowColor:"var(--c-shaCol)",bottomActionBarShadow:"var(--c-botActBarSha)",buttonBoxShadow:"var(--c-butBoxSha)",connectorBubbleShadow:"var(--c-conBubSha)",timelineTableBoxShadow:"var(--c-timTabBoxSha)",elevatedButtonBoxShadow:"var(--c-eleButBoxSha)",avatarBoxShadow:"var(--c-avaBoxSha)",buttonBlueFocusRing:"var(--c-butBluFocRin)",inputBoxShadow:"var(--cd-inpBoxSha)",inputRedFocusRing:"var(--c-inpRedFocRin)",inputBlueFocusRing:"var(--c-inpBluFocRin)",collectionTableOutlineUltraThinBlueInputBoxShadow:"var(--c-colTabOutUltThiBluInpBoxSha)",sidebarResizerBoxShadow:"var(--c-sidResBoxSha)",sidebarBoxShadow:"var(--c-sidBoxSha)",secondarySidebarDiffuseShadow:"var(--c-secSidDifSha)",secondarySidebarResizerBoxShadow:"var(--c-secSidResBoxSha)",secondarySidebarBorderBoxShadow:"var(--c-secSidBorBoxSha)",topbarAndroidShadow:"var(--c-topAndSha)",topbarAndroidShadowCollapsed:"var(--c-topAndShaCol)",homeScrollButtonShadow:"var(--c-homScrButSha)",homeShadow:{card:{base:"var(--c-homShaCarBas)",hovered:"var(--c-homShaCarHov)"},templateCard:{base:"var(--c-homShaTemCarBas)",hovered:"var(--c-homShaTemCarHov)"}},frontDialogShadow:"var(--c-froDiaSha)",focusedShadow:"var(--c-focSha)",shadow2XS:"var(--c-sha2XS)",shadowXS:"var(--c-shaXS)",shadowSM:"var(--c-shaSM)",shadowSMThickerOutline:"var(--c-shaSMThiOut)",shadowMD:"var(--c-shaMD)",shadowMDPrimaryOutline:"var(--c-shaMDPriOut)",shadowMDThickerOutline:"var(--c-shaMDThiOut)",shadowLG:"var(--c-shaLG)",shadow:{outline:{md:"var(--c-shaOutMd)",lg:"var(--c-shaOutLg)",diffuse:"var(--c-shaOutDif)",scrim:"var(--c-shaOutScr)",sm:"var(--c-shaOutSm)"},base:{lg:"var(--c-shaBasLg)",scrim:"var(--c-shaBasScr)",md:"var(--c-shaBasMd)",sm:"var(--c-shaBasSm)",diffuse:"var(--c-shaBasDif)"}},aiChatButton:{unselected:"var(--ca-aiChaButUns)",unselectedHover:"var(--ca-aiChaButUnsHov)",selected:"var(--cd-aiChaButSel)",selectedHover:"var(--cd-aiChaButSelHov)",pressed:"var(--cd-aiChaButPre)"},state:{hover:"var(--ca-staHov)",pressed:"var(--ca-staPre)"},glass:{page:"var(--ca-glaPag)",wash:"var(--ca-glaWas)"},lightBlueBannerBackground:"var(--ca-ligBluBanBac)",lightGrayBannerBackground:"var(--cl-ligGraBanBac)",popupOverlayBackground:"var(--ca-popOveBac)",formFilePropertyUploadButtonHoveredBorder:"var(--ca-forFilProUplButHovBor)",formFilePropertyDropzoneBg:"var(--ca-forFilProDroBg)",mediaPickerDropzoneBg:"var(--ca-medPicDroBg)",frozenColumnDividerShadowBackgroundFiltered:"var(--c-froColDivShaBacFil)",frozenColumnDividerShadowBackground:"var(--c-froColDivShaBac)",switcherButtonTeackBg:"var(--ca-swiButTeaBg)",switcherToggleDesktopTrackBg:"var(--ca-swiTogDesTraBg)",switcherToggleDesktopTrackBgVariant:"var(--ca-swiTogDesTraBgVar)",embedBlockResizerInnerBg:"var(--ca-embBloResInnBg)",searchModalUniqueIdDividerFocused:"var(--ca-seaModUniIdDivFoc)",searchModalUniqueIdDivider:"var(--ca-seaModUniIdDiv)",calendarEventHoveredBackground:"var(--ca-calEveHovBac)"}},771927:(e,t,r)=>{r.d(t,{Ay:()=>i,Nm:()=>a,_F:()=>o});var n=()=>r(292588);const o={assistant_chat_session:!0},a="assistant_chat_step",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,created_time:n().A.Number,properties:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,created_time:!0,parent_table:!0,parent_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},776217:(e,t,r)=>{r.d(t,{Ay:()=>i,Of:()=>o,bn:()=>a});var n=()=>r(292588);const o=["pending","paused","archived","active"],a="integration_webhook_subscription",i={table:a,columnTypes:{id:n().A.UUID,integration_id:n().A.UUID,url:n().A.String,status:n().A.String,paused_reason:n().A.String,verification_token:n().A.String,verification_token_hash:n().A.String,api_version:n().A.String,created_by_id:n().A.UUID,created_by_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,event_types:n().A.JSON},model:(0,r(152853).P)({RecordStore:!1})}},778078:(e,t,r)=>{r.d(t,{Ay:()=>v,It:()=>h,gK:()=>c,qR:()=>m,sH:()=>p,tb:()=>d,tz:()=>u});r(898992),r(581454),r(908872);var n=()=>r(538556),o=r.n(r(844751)),a=()=>r(496603),i=()=>r(834499),s=()=>r(534177);const l=2e6,c=1e6,u=9e5,d=1e5,p=1e4,m=1e3,f=950,g=900;function y(e){return e.normalize("NFKD")}function _(e){return-e.score}function v(e,t,r,n){const o=(null==n?void 0:n.minThreshold)||0,i=(null==n?void 0:n.getSortScore)||_,s=a().oE(t.map((t=>{const a=h(e,r(t),{normalizeFuzzyScore:null==n?void 0:n.normalizeFuzzyScore});if(a&&a.score>o)return{original:t,score:a.score}})));return a().Ul(s,(e=>i(e))).map((e=>e.original))}function b(e,t,r){const o=y(e).toLowerCase(),s=y(t).toLowerCase();if(s===o)return{isExactMatch:!0};const l=s.indexOf(o);if(0===l)return{isPrefixMatch:!0};if(" "===s[l-1])return n().validate(s.substring(l,l+e.length))?{isExactMatch:!0}:{isWordPrefixMatch:!0};if(l>-1)return{isSubstringMatch:!0};const c=(0,i().Q)(e).toLowerCase();if((0,i().Q)(t).toLowerCase().indexOf(c)>-1)return{isSimplifiedSubstringMatch:!0};if(o.includes(" ")){const e=function(e,t){const r=a().Nt(e.trim()).replace(/\s+/g,"(.*?) "),n=new RegExp(r),o=t.match(n);return o?{result:!0,distance:o.slice(1).reduce(((e,t)=>e+t.length),0)}:{result:!1}}(o,s);return e.result?{isInOrderTokenMatch:!0,inOrderMatchDistance:e.distance}:void 0}return null!=r&&r.ignoreFuzzyFallback?void 0:{isFuzzyMatch:!0}}function h(e,t,r){const n=y(e),a=y(t),i=o().match(n,a,r);if(!i)return;const u=n.toLowerCase(),_=a.toLowerCase(),v=b(u,_,r);if(v){if("isExactMatch"in v)return{...i,score:c,matchMetadata:v};if("isPrefixMatch"in v)return{...i,score:d,matchMetadata:v};if("isWordPrefixMatch"in v)return{...i,score:p,matchMetadata:v};if("isSubstringMatch"in v)return{...i,score:m,matchMetadata:v};if("isSimplifiedSubstringMatch"in v)return{...i,score:f,matchMetadata:v};if("isInOrderTokenMatch"in v)return{...i,score:g-v.inOrderMatchDistance,matchMetadata:v};if("isFuzzyMatch"in v){const e=function(e,t,r){const n=e.charAt(0);let a=r;for(let i=1;i<t.length;++i){if(t.charAt(i)!==n)continue;const r=o().match(e,t.substring(i));r&&r.score>a&&(a=r.score)}return a}(u,_,i.score);return{...i,score:null!=r&&r.normalizeFuzzyScore?A(u,e):e,matchMetadata:v}}if("isExactIdMatch"in v)return{...i,score:l,matchMetadata:v};(0,s().HB)(v)}}function A(e,t){if(t){return function(e){const{inputValue:t,inputMin:r,inputMax:n,targetMin:o,targetMax:a}=e,i=n-r;if(0===i)return a;return(t-r)/i*(a-o)+o}({inputValue:t,inputMin:0,inputMax:(r=e.length,Math.pow(2,r+1)-r-2),targetMin:0,targetMax:g-1})}return 0;var r}},778781:(e,t,r)=>{r.d(t,{QV:()=>_,nM:()=>g,cn:()=>h,gp:()=>A,K9:()=>u,N1:()=>y,E2:()=>c,NS:()=>d,i_:()=>f,gx:()=>i,CA:()=>s,Mj:()=>a,Yp:()=>m,V_:()=>p,_Q:()=>o,y6:()=>b,V6:()=>v});const n={property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0};function o(e){return Boolean(e&&"normalizedTitleWithIcon"===e.type)}function a(e){return Boolean(e&&"titleWithIcon"===e.type)}function i(e){return Boolean(e&&s(e.type))}function s(e){return Boolean(e in n)}const l={property_person:!0,property_created_by:!0,property_last_edited_by:!0};function c(e){return e.type in l}function u(e){return"property_file"===e.type}function d(e){return"property_place"===e.type}function p(e){return Boolean(e&&"relationsGroup"===e.type)}function m(e){return Boolean(e&&"property_relation"===e.type)}function f(e){return Boolean(e&&"properties"===e.type)}function g(e){return Boolean(e&&"deleted_property"===e.type)}function y(e){return Boolean(e&&"inlinePageSections"===e.type)}function _(e){return Boolean(e&&"bottomControls"===e.type)}function v(e){return"views"===e.type||"viewsMain"===e.type}function b(e){return"viewsMain"===e.type}function h(e){return"collectionView"===e.type||"collectionViewV2"===e.type}function A(e){return Boolean(e&&"editor"===e.type)}},782398:(e,t,r)=>{r.d(t,{A:()=>a,S:()=>o});var n=()=>r(292588);const o="user_device",a={table:o,columnTypes:{id:n().A.UUID,user_id:n().A.UUID,device_id:n().A.UUID,token_id:n().A.UUID,created_at:n().A.Number,last_login_at:n().A.Number,last_login_ip_address:n().A.String,last_login_geographic_location:n().A.String,last_seen_time:n().A.Number,version:n().A.Number,last_version:n().A.Number,revoked:n().A.Boolean},model:(0,r(152853).P)({})}},783230:(e,t,r)=>{r.d(t,{A:()=>a,i:()=>o});var n=()=>r(292588);const o="form_response_snapshot",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,created_time:n().A.Number,form_data:n().A.JSON,form_id:n().A.UUID,form_version:n().A.Number,user_provided_email:n().A.String,user_id:n().A.UUID,secret_key:n().A.String},requiredColumns:{id:!0,version:!0,space_id:!0,created_time:!0,form_data:!0,form_id:!0,form_version:!0,secret_key:!0},model:(0,r(152853).P)({RecordStore:!0})}},783982:(e,t,r)=>{r.d(t,{A:()=>a});r(581454),r(296540);var n=r(474848);function o({viewBox:e,fittedViewBox:t,direction:r="all"}){const[n,o,a,i]=e.split(" ").map(Number),[s,l,c,u]=t.split(" ").map(Number);return"horizontal"===r?`${s} ${o} ${c} ${i}`:"vertical"===r?`${n} ${l} ${a} ${u}`:`${s} ${l} ${c} ${u}`}function a({children:e,viewBox:t,style:r,className:a,label:i,fittedViewBox:s,fitToViewBox:l}){return(0,n.jsx)("svg",{...void 0!==i?{"aria-label":i}:{"aria-hidden":!0},role:"graphics-symbol",viewBox:l&&s?o({viewBox:t,fittedViewBox:s,direction:l}):t,style:{width:"100%",height:"100%",display:"block",fill:"inherit",flexShrink:0,...r},className:a,children:e})}},789011:(e,t,r)=>{r.d(t,{A:()=>a,j:()=>o});var n=()=>r(292588);const o="admin_api_op_log",a={table:o,columnTypes:{id:n().A.UUID,request_id:n().A.UUID,timestamp:n().A.Number,event_name:n().A.String,operation_index:n().A.Number,operation:n().A.JSON,version:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,request_id:!0,timestamp:!0,event_name:!0,operation:!0,operation_index:!0}}},791036:(e,t,r)=>{r.d(t,{A:()=>a,W:()=>o});var n=()=>r(292588);const o="geo_ip_location",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,geoname_id:n().A.Number,locale_code:n().A.String,continent_code:n().A.String,continent_name:n().A.String,country_iso_code:n().A.String,country_name:n().A.String,subdivision_1_iso_code:n().A.String,subdivision_1_name:n().A.String,subdivision_2_iso_code:n().A.String,subdivision_2_name:n().A.String,city_name:n().A.String,metro_code:n().A.Number,time_zone:n().A.String,is_in_european_union:n().A.Boolean}}},793909:(e,t,r)=>{r.d(t,{b:()=>s});var n=()=>r(227030),o=()=>r(534177);const a=12,i=Symbol.for("CRDT_SESSION_ID");function s(){return(0,o().GV)((0,n().Ak)(a),i)}},795727:(e,t,r)=>{r.d(t,{A:()=>i});r(581454);var n=r.n(r(625473));const o=new WeakMap;function a(e){let t=o.get(e);return void 0!==t||(t=n()(e),o.set(e,t)),t}class i{constructor({getKey:e=a,from:t}={}){if(this.map=new Map,this.getKey=void 0,this.getKey=e,t)for(const[r,n]of t)this.set(r,n)}get size(){return this.map.size}set(e,t){return this.map.set(this.getKey(e),[e,t])}get(e){const t=this.map.get(this.getKey(e));if(t)return t[1]}update(e,t){const r=this.getKey(e),[n,o]=this.map.get(r)??[e,void 0],a=t(o);a!==o&&this.map.set(r,[n,a])}getKeyObject(e){const t=this.map.get(this.getKey(e));if(t)return t[0]}has(e){return this.map.has(this.getKey(e))}delete(e){return this.map.delete(this.getKey(e))}*entries(){for(const e of this.map.values())yield e}[Symbol.iterator](){return this.entries()}*keys(){for(const[e,t]of this.map.values())yield e}*values(){for(const[e,t]of this.map.values())yield t}valuesArray(){return Array.from(this.values())}compactedValuesArray(){return r(496603).oE(Array.from(this.values()))}clear(){this.map.clear()}}},797809:(e,t,r)=>{r.d(t,{BY:()=>m,PJ:()=>f,RX:()=>d,TV:()=>l,g1:()=>g,h5:()=>c,hx:()=>y,vn:()=>i});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=()=>r(69708),o=()=>r(496603),a=()=>r(534177);const i=["title","description","caption","link","checked","language","source","size"],s=new Set(i);function l(e){return s.has(e)}const c=Object.keys(r(15440).Yj).map((e=>({value:e,id:e}))),u=(0,n().YK)({title:{id:"block.propertyTypeName.title",defaultMessage:"Title"},description:{id:"block.propertyTypeName.description",defaultMessage:"Description"},caption:{id:"block.propertyTypeName.caption",defaultMessage:"Caption"},link:{id:"block.propertyTypeName.link",defaultMessage:"Link"},checked:{id:"block.propertyTypeName.checked",defaultMessage:"Checked"},language:{id:"block.propertyTypeName.language",defaultMessage:"Language"},source:{id:"block.propertyTypeName.source",defaultMessage:"Source"},size:{id:"block.propertyTypeName.size",defaultMessage:"Size"}}),d=(0,o().Bj)((e=>{const t={name:e.formatMessage(u.title),type:"title"},r={name:e.formatMessage(u.link),type:"url"};return{title:t,description:{name:e.formatMessage(u.description),type:"text"},caption:{name:e.formatMessage(u.caption),type:"text"},link:r,checked:{name:e.formatMessage(u.checked),type:"checkbox"},language:{name:e.formatMessage(u.language),type:"select",options:c},source:{name:e.formatMessage(u.source),type:"url"},size:{name:e.formatMessage(u.size),type:"text"}}}),(e=>e.locale)),p=(0,n().YK)({created_by:{id:"block.propertyTypeName.created_by",defaultMessage:"Created by"},created_time:{id:"block.propertyTypeName.created_time",defaultMessage:"Created time"},last_edited_by:{id:"block.propertyTypeName.last_edited_by",defaultMessage:"Last edited by"},last_edited_time:{id:"block.propertyTypeName.last_edited_time",defaultMessage:"Last edited time"},last_visited_time:{id:"block.propertyTypeName.last_visited_time",defaultMessage:"Last visited time"},location:{id:"block.propertyTypeName.location",defaultMessage:"Location"}}),m=((0,o().Bj)(((e,t)=>({created_by:{type:"created_by",name:e.formatMessage(p.created_by)},created_time:{type:"created_time",name:e.formatMessage(p.created_time),time_format:" ",date_format:"myMeetings"===t?"MMM d":"relative"},last_edited_by:{type:"last_edited_by",name:e.formatMessage(p.last_edited_by)},last_edited_time:{type:"last_edited_time",name:e.formatMessage(p.last_edited_time),time_format:" "},last_visited_time:{type:"last_visited_time",name:e.formatMessage(p.last_visited_time)},location:{type:"location",name:e.formatMessage(p.location)}})),(e=>e.locale)),["title","created_by","created_time","last_edited_by","last_edited_time"]);function f(e){return!!(0,a().Xk)(m,e)}function g(e,t){switch(e){case"title":return t.formatMessage(u.title);case"created_by":return t.formatMessage(p.created_by);case"created_time":return t.formatMessage(p.created_time);case"last_edited_by":return t.formatMessage(p.last_edited_by);case"last_edited_time":return t.formatMessage(p.last_edited_time);default:(0,a().HB)(e)}}const y="notion://meeting_notes/attendees"},799288:(e,t,r)=>{r.d(t,{EK:()=>g,Hg:()=>_,Hx:()=>f,ML:()=>c,SZ:()=>m,Sd:()=>p,ap:()=>y,cT:()=>l,hu:()=>d,qs:()=>u,tb:()=>v});r(898992),r(823215);var n=()=>r(496603),o=()=>r(534177),a=()=>r(792071),i=()=>r(68263),s=()=>r(824862);function l(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&Object.entries(e).every((([e,t])=>{return!(r=e,"read_property"!==r&&"insert_property"!==r&&"update_property"!==r||!0!==t);var r}))}function c(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&Object.entries(e).every((([e,t])=>{return r=e,!!(0,o().Xk)(i().oI,r)&&!0===t;var r}))}function u(e){if(!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{read_user_without_email:t,read_user_with_email:r,inherit_creator_permissions:n,link_preview:a,synced_database:i,webhooks:s,workspace_search:u,workspace_page_export:d,workspace_content_transfer:p,read_teamspace:m,interact_with_agents:f,...g}=e;return(void 0===r||!0===r&&void 0!==t&&!0===t)&&((void 0===t||!0===t)&&((void 0===n||!0===n)&&(l(g)||c(g)||function(e){return!(!(0,o().Gv)(e)||0===(0,o().uv)(e).length||!0!==e.workspace_content_transfer&&!0!==e.interact_with_agents)}({workspace_content_transfer:p,interact_with_agents:f}))))}function d(e){return a().Bj6.fromValue(s().GP,e).isBotWithCoreApiCapabilities()}function p(e){return u(e.capabilities)&&f(e.capabilities)}function m(e){return a().Bj6.fromValue(s().GP,e).isScimBot()}function f(e){if(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{link_preview:t,synced_database:r}=e;return!0===t||!0===r}function g(e){return!(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)&&!0===e.webhooks}function y(e){if(!e||!(0,o().Gv)(e)||0===(0,o().uv)(e).length)return!1;const{synced_database:t}=e;return!0===t}function _(e){return(a().Bj6.isAnyModel(e)?e.getName():null==e?void 0:e.name)||"Unnamed Bot"}function v(e){return n().oE([e.name,"bot"]).join(" ")}},799690:(e,t,r)=>{r.d(t,{$:()=>i});var n=()=>r(534177),o=()=>r(604995),a=()=>r(270995);function i(e){const{operatorValue:t,userTimeZone:r}=e;if("exact"===t.type){const e=t.value;if(!(0,n().O9)(e))return;const{start:a}=o().AA(e,r);return a.startOf("day").valueOf()}return(0,a().U)({operatorValue:t,userTimeZone:r})}},800065:(e,t,r)=>{function n(e){return{properties:!0,property_number:!0,property_title:!0,property_person:!0,property_file:!0,property_text:!0,property_checkbox:!0,property_url:!0,property_email:!0,property_phone_number:!0,property_created_by:!0,property_last_edited_by:!0,property_button:!0,property_select:!0,property_multi_select:!0,property_status:!0,property_date:!0,property_created_time:!0,property_last_edited_time:!0,property_last_visited_time:!0,property_relation:!0,property_rollup:!0,property_formula:!0,property_auto_increment_id:!0,property_location:!0,property_verification:!0,property_place:!0,deleted_property:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,views:!0,viewsMain:!1,view:!0,row:!0,discussions:e,editor:e,cover:!1,formTitle:!1,formSubmit:!1,normalizedTitleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,recentActivity:!1,collaborators:!1,teamspaces:!1}}function o(e){return{properties:!0,property:!0,views:!0,viewsMain:!1,view:!0,row:!0,relationsGroup:!0,placeholder:!0,formQuestion:!0,discussions:e,editor:e,cover:!1,formTitle:!1,formSubmit:!1,titleWithIcon:!1,inlinePageSections:!1,expandedBacklinks:!1,bottomControls:!1,transcript:!1,collectionView:!0,collectionViewV2:!0,recentActivity:!1,collaborators:!1,teamspaces:!1}}r.d(t,{LJ:()=>s,LU:()=>d,Lo:()=>l,PF:()=>a,c0:()=>c,iw:()=>i,xU:()=>u});const a=["discussions","editor"];function i(e,t){return n(t)[e.type]}function s(e,t){return n(t)[e.type]&&!a.includes(e.type)}function l(e,t){return n(t)[e.type]&&a.includes(e.type)}function c(e,t){return o(t)[e.type]}function u(e,t){return o(t)[e.type]&&!a.includes(e.type)}function d(e,t){return o(t)[e.type]&&a.includes(e.type)}},801634:(e,t,r)=>{r.d(t,{Ay:()=>m,Fv:()=>d,IP:()=>u,Z:()=>s,kz:()=>p,rY:()=>i,vd:()=>c,w5:()=>l});r(898992),r(354520),r(581454);var n=r.n(r(625473)),o=()=>r(498212),a=()=>r(292588);const i=r(720665).HP({space_id:!0,team_id:!0,navigable_block_id:!0,collection_id:!0,mentioned_user_id:!0,mentioned_block_id:!0,mentioned_property:!0,top_level_block_id:!0,collection_row_id:!0,discussion_id:!0,invited_user_id:!0,collection_property_id:!0,collection_view_id:!0,reminder_block_id:!0,reminder_property:!0,permission_group_id:!0,access_request_id:!0,mentioned_group_id:!0,mentioned_team_id:!0,contains_important_property_updates_only:!0,access_request_type:!0,suggestion_session_id:!0,reacted_comment_id:!0,upgrade_request_type:!0,automation_id:!0,workflow_id:!0}),s={block:!0,space:!0,user_root:!0,collection:!0,team:!0};function l(e){const t=Object.fromEntries(Object.entries(e).filter((([e,t])=>i.includes(e)&&null!=t))),r=n()(t);return(0,o().gB)(r)}const c={"block-created":"block-edited","block-deleted":"block-edited","block-changed":"block-edited","block-property-changed":"block-property-edited","permission-created":"permissions-edited","permission-deleted":"permissions-edited","permission-changed":"permissions-edited","collection-property-permission-created":"permissions-edited","collection-property-permission-updated":"permissions-edited","collection-property-permission-deleted":"permissions-edited","permission-restriction-created":"permissions-edited","permission-restriction-deleted":"permissions-edited","top-level-block-created":"top-level-block-created","top-level-block-deleted":"top-level-block-deleted","collection-row-created":"collection-row-created","collection-row-deleted":"collection-row-deleted","mention-created":"user-mentioned","mention-deleted":"user-mentioned","suggestion-created":"commented","comment-created":"commented","comment-changed":"commented","comment-deleted":"commented","team-member-added":"team-membership-edited","user-invited":"user-invited","collection-created":"collection-edited","collection-changed":"collection-edited","collection-deleted":"collection-edited","collection-page-layout-edited":"collection-page-layout-edited","collection-property-created":"collection-property-edited","collection-property-deleted":"collection-property-edited","collection-property-changed":"collection-property-edited","collection-view-created":"collection-view-edited","collection-view-deleted":"collection-view-edited","collection-view-changed":"collection-view-edited","reminder-created":"reminder","page-locked":"page-locked","page-unlocked":"page-unlocked","email-changed":"email-edited","access-requested":"access-requested","access-request-resolved":"access-request-resolved","page-deleted":"page-deleted","page-restored":"page-restored","page-permanently-deleted":"page-permanently-deleted","private-content-transferred":"private-content-transferred","permission-group-mention-created":"permission-group-mentioned","permission-group-mention-deleted":"permission-group-mentioned","team-mention-created":"team-mentioned","team-mention-deleted":"team-mentioned","transcript-deleted":"transcript-deleted","export-completed":"export-completed","import-completed":"import-completed","in-app-notification-automation-action-triggered":"in-app-notification-automation-action-triggered","automation-typecheck-error-raised":"automation-typecheck-error-raised","reaction-created":"reacted","reaction-deleted":"reacted","upgrade-request-created":"upgrade-request-created","trial-created":"trial-created","app-builder-notification":"app-builder-notification","external-integration-notification":"external-integration-notification"},u=["block-edited","permissions-edited","commented","page-locked","page-unlocked"],d=["block-edited","permissions-edited","collection-row-created","collection-row-deleted","collection-edited","collection-property-edited","collection-view-edited","collection-page-layout-edited"],p="activity",m={table:p,columnTypes:{id:a().A.UUID,version:a().A.Number,last_version:a().A.Number,index:a().A.Number,start_time:a().A.String,end_time:a().A.String,space_id:a().A.UUID,team_id:a().A.UUID,navigable_block_id:a().A.UUID,collection_id:a().A.UUID,mentioned_user_id:a().A.UUID,mentioned_block_id:a().A.UUID,mentioned_property:a().A.String,top_level_block_id:a().A.UUID,discussion_id:a().A.UUID,invited_user_id:a().A.UUID,collection_row_id:a().A.UUID,collection_view_id:a().A.UUID,collection_property_id:a().A.String,reminder_block_id:a().A.UUID,reminder_property:a().A.String,permission_group_id:a().A.UUID,access_request_id:a().A.UUID,type:a().A.String,edits:a().A.JSON,invalid:a().A.Boolean,parent_table:a().A.String,parent_id:a().A.UUID,shard_id:a().A.Number,context_id:a().A.UUID,in_log:a().A.Boolean,mentioned_group_id:a().A.UUID,mentioned_team_id:a().A.UUID,contains_important_property_updates_only:a().A.Boolean,access_request_type:a().A.String},model:(0,r(152853).P)({RecordStore:!0})}},803884:(e,t,r)=>{r.d(t,{Zx:()=>u,iu:()=>c,lK:()=>l,p:()=>s});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(581454),r(908872);var n=()=>r(274147),o=()=>r(855355),a=()=>r(933449),i=()=>r(892073);const s={root:"r",nodes:"n",textSlice:"s",childKeys:"c"};function l(e){const t={};for(const r of e.iterateTextSliceTrees()){const e=r.getTextSlice(),n=r.children;t[e.getSliceKey()]={[s.textSlice]:i().l(e),[s.childKeys]:n.map((e=>e.getTextSlice().getSliceKey()))}}return{[s.root]:e.getTextSlice().getSliceKey(),[s.nodes]:t}}function c(e,t,r){const l=t[s.root],c=t[s.nodes];return function(e,t,r,n){const l=[{sliceKey:t,parent:null,childIndex:0,childrenKeys:[],textSliceTree:null}];let c=null;for(;l.length>0;){const t=l[l.length-1];if(null===t.textSliceTree){const{[s.textSlice]:l,[s.childKeys]:c=[]}=(0,a().o9)(r[t.sliceKey],"Serialized node not found for slice"),u=(0,a().o9)(n[l.x],"Op clock not found for slice text instance"),d=i().i(l,u);t.textSliceTree=new(o().Ay)(e,d),t.childrenKeys=c,t.childIndex=0}if(t.childIndex<t.childrenKeys.length){const e=t.childrenKeys[t.childIndex];t.childIndex++,l.push({sliceKey:e,parent:t.textSliceTree,childIndex:0,childrenKeys:[],textSliceTree:null})}else l.pop(),t.parent&&t.textSliceTree?t.parent.appendChild(t.textSliceTree):!t.parent&&t.textSliceTree&&(c=t.textSliceTree)}return(0,a().o9)(c,"Failed to deserialize TextSliceTree: no root node found")}(e,l,c,r=r??Object.values(c).reduce(((e,t)=>{const{[s.textSlice]:r}=t;return e[r.x]||(e[r.x]=new(n().g)),e}),{}))}function u(e){return new Set(function*(e){yield*function*t(r){const n=(0,a().o9)(e.n[r],"node for sliceKey should exist");if(yield n.s.x,n.c)for(const e of n.c)yield*t(e)}(e.r)}(e))}},806045:(e,t,r)=>{r.d(t,{A:()=>a,r:()=>o});var n=()=>r(292588);const o="user_metadata",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,metadata:n().A.JSON,updated_at:n().A.Number}}},807427:(e,t,r)=>{function n(e){return Boolean(e)}function o(){const e="production";switch(e){case"local":case"staging":case"development":case"production":return e;default:return"production"}}r.d(t,{I:()=>n,a:()=>o})},813197:(e,t,r)=>{r.d(t,{L:()=>o});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.5 3.07 13 13.83",svg:(0,r(474848).jsx)("path",{d:"M8.848 3.085c.34.06.567.384.507.724l-.61 3.466h3.42l.65-3.683a.625.625 0 0 1 1.23.216l-.61 3.467h2.435a.625.625 0 1 1 0 1.25h-2.655l-.52 2.95h2.435a.625.625 0 0 1 0 1.25h-2.655l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467h-3.42l-.65 3.684a.625.625 0 0 1-1.23-.217l.61-3.467H4.13a.625.625 0 1 1 0-1.25h2.605l.52-2.95H4.87a.625.625 0 0 1 0-1.25h2.605l.65-3.683a.625.625 0 0 1 .723-.507m2.578 8.39.52-2.95H8.523l-.52 2.95z"})},o=(0,r(340498).wt)("number",n)},813206:(e,t,r)=>{r.d(t,{Gc:()=>N,J6:()=>V,JT:()=>E,Jc:()=>H,KP:()=>F,LR:()=>U,Lf:()=>j,TW:()=>P,Ti:()=>D,ar:()=>R,hd:()=>G,kJ:()=>O,mP:()=>B,r$:()=>S,s2:()=>q,up:()=>x,zP:()=>w,zu:()=>L});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(430670),r(803949),r(581454),r(737550);var n=()=>r(496603),o=()=>r(498212),a=()=>r(534177),i=()=>r(720665),s=()=>r(700500),l=()=>r(855826),c=()=>r(488715),u=()=>r(898244),d=()=>r(792071),p=()=>r(68263),m=()=>r(801634),f=()=>r(179034),g=()=>r(519831),y=()=>r(197959),_=()=>r(959044),v=()=>r(96689),b=()=>r(854150),h=()=>r(798880),A=()=>r(107273),I=()=>r(797809),k=()=>r(201980);i().Xb;function x(e,t){const r=d().Bj6.fromValue(m().kz,t),{edits:a,index:i}=e,s=[...r&&r.getEdits()||[],...a],l=A().gW(s),c=l[0],u=c&&c.timestamp.toString()||r&&r.start_time||a[0].timestamp,p=n().HV(l),_=p&&p.timestamp.toString()||r&&r.end_time||u,h=T(a[0]),I=function(e){const{space_id:t,navigable_block_id:r,collection_id:n,collection_row_id:o,top_level_block_id:a,discussion_id:i,team_id:s,access_request_type:l}=e;return r?"guest_invite_request"===l?{parent_table:v().NX,parent_id:t}:{parent_table:f().ev,parent_id:r}:a?{parent_table:f().ev,parent_id:a}:o?{parent_table:f().ev,parent_id:o}:i?{parent_table:y().$Y,parent_id:i}:n?{parent_table:g().Vl,parent_id:n}:s?{parent_table:b().yK,parent_id:s}:{parent_table:v().NX,parent_id:t}}(a[0]);return{type:m().vd[a[0].type],index:i,start_time:u.toString(),end_time:_.toString(),edits:l.slice(0,1e3),invalid:M(l),shard_id:(0,o().TK)(h.space_id),context_id:m().w5(h),...h,...I}}function S(e){if("collection-changed"===e.type&&e.collection_data){if(!e.collection_data.before&&!e.collection_data.after)return!1;if(!e.collection_data.before||!e.collection_data.after)return!0;const t=e.collection_data.before.description,r=e.collection_data.after.description;return(0,k().dze)(t,r)}if("collection-created"===e.type&&e.collection_data){const t=e.collection_data.description;return Boolean(t)}return!1}function T(e){return i().Up(e,m().rY)}function M(e){if(0===A().W9(e).length)return!0;{const t=e[0];if("mention-deleted"===t.type)return!0;if("mention-created"===t.type){if(t.authors&&t.authors.some((e=>e.table===h().oo&&e.id===t.mentioned_user_id)))return!0}else{if(e.every((e=>"comment-deleted"===e.type)))return!0;if(e.every((e=>"reaction-deleted"===e.type)))return!0}}return!1}function w(e,t){const r=function(e){const t=d().Bj6.fromValue(m().kz,e),r=t&&t.getEdits()||[];return i().qt(n().Bq(r.map((e=>e.authors||[]))))}(d().Bj6.fromValue(m().kz,e));return r.some((e=>e.table===h().oo&&e.id===t))}function B(e){const{before:t,after:r}=e,n=[];return new Set((0,a().uv)(t.properties||{}).concat((0,a().uv)(r.properties||{}))).forEach((e=>{(0,k().dze)(t&&t.properties&&t.properties[e],r&&r.properties&&r.properties[e])&&n.push(e)})),n}const C=["page_icon","is_placeholder"];function P(e){const{before:t,after:r}=e,n=[];return C.forEach((e=>{(t.format&&t.format[e])!==(r.format&&r.format[e])&&n.push(e)})),n}function N(e){const{before:t,after:r,property:n}=e;return(0,k().dze)(t&&t.properties&&t.properties[n],r&&r.properties&&r.properties[n])}function U(e){const{before:t,after:r,schema:n}=e;return(0,l().PE)({before:t,after:r,schema:n}).length>0}function R(e){return e.after.type===s().xd.tableRow&&B(e).length>0}function D(e){return P(e).length>0}function O(e){const{before:t,after:r}=e,n=d().Bj6.fromBlock(t),o=d().Bj6.fromBlock(r),a=n.type,i=o.type,s=n.isNavigableBlock()&&o.isNavigableBlock();return a&&i&&a!==i&&!s}function F(e){const{activity:t,getRecordModel:r,baseUrl:n,pageVisitSource:o}=e;if(t.isType("top-level-block-created")||t.isType("top-level-block-deleted")){const e=r(t.getTopLevelBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("commented")){const e=r(t.getDiscussionPointer());if(e){const t=r(e.getParentPointer());if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,discussionId:e.id,pageVisitSource:o})}}else if(t.isType("collection-row-created")||t.isType("collection-row-deleted")){const e=r(t.getCollectionRowPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("permissions-edited")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else{const e=r(t.getSpacePointer());if(e)return(0,c().Q)({model:e,baseUrl:n})}}else if(t.isType("block-edited")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("user-mentioned")||t.isType("team-mentioned")||t.isType("permission-group-mentioned")){const e=r(t.getMentionedBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("reacted")){const e=r(t.getDiscussionPointer());if(e){const t=r(e.getParentPointer());if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,discussionId:e.id,pageVisitSource:o})}}else if(t.isType("reminder")){const e=r(t.getReminderBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("user-invited")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else{const e=r(t.getSpacePointer());if(e)return(0,c().Q)({model:e,baseUrl:n})}}else if(t.isType("block-property-edited")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("private-content-transferred")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("access-requested")){const e=t.getNavigableBlockPointer(),a=e&&r(e);if(a)return(0,c().Q)({model:a,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("access-request-resolved")){const e=t.getNavigableBlockPointer(),a=e&&r(e);if(a)return(0,c().Q)({model:a,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("verification-expired")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("in-app-notification-automation-action-triggered")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("automation-typecheck-error-raised")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("no-conflicts-found")){const e=r(t.getNavigableBlockPointer());if(e)return(0,c().Q)({model:e,getRecordModel:r,baseUrl:n,pageVisitSource:o})}else if(t.isType("app-builder-notification")){const e=t.getNavigableBlockPointer();if(e){const t=r(e);if(t)return(0,c().Q)({model:t,getRecordModel:r,baseUrl:n,pageVisitSource:o})}}else{if(t.isType("team-membership-edited")||t.isType("collection-edited")||t.isType("collection-page-layout-edited")||t.isType("collection-property-edited")||t.isType("collection-view-edited")||t.isType("page-locked")||t.isType("page-unlocked")||t.isType("email-edited")||t.isType("upgrade-request-created")||t.isType("page-deleted")||t.isType("page-restored")||t.isType("page-permanently-deleted")||t.isType("import-completed")||t.isType("export-completed")||t.isType("external-integration-notification")||t.isType("trial-created")||t.isType("transcript-deleted"))return n||"/";(0,a().HB)(t)}return n||"/"}function E(e){switch(e){case"top-level-block-created":return"activity_top_level_block_created";case"top-level-block-deleted":return"activity_top_level_block_deleted";case"collection-row-created":return"activity_collection_row_created";case"collection-row-deleted":return"activity_collection_row_deleted";case"block-edited":return"activity_block_edited";case"block-property-edited":return"activity_block_property_edited";case"permissions-edited":return"activity_permissions_edited";case"user-mentioned":return"activity_mention";case"commented":return"activity_comment";case"user-invited":return"activity_invited";case"collection-edited":return"collection_edited";case"collection-view-edited":return"collection_view_edited";case"collection-property-edited":return"collection_property_edited";case"reminder":return"activity_reminder";case"page-locked":return"activity_page_locked";case"page-unlocked":return"activity_page_unlocked";case"email-edited":return"activity_email_edited";case"access-requested":return"activity_access_requested";case"access-request-resolved":return"activity_access_request_resolved";case"page-deleted":return"activity_page_deleted";case"page-restored":return"activity_page_restored";case"page-permanently-deleted":return"activity_page_permanently_deleted";case"team-membership-edited":return"activity_team_membership_edited";case"private-content-transferred":return"activity_private_content_transferred";case"permission-group-mentioned":return"activity_permission_group_mentioned";case"team-mentioned":return"activity_team_mentioned";case"verification-expired":return"activity_verification_expired";case"import-completed":return"activity_import_completed";case"export-completed":return"activity_export_completed";case"in-app-notification-automation-action-triggered":return"activity_in_app_notification_automation_action_triggered";case"collection-page-layout-edited":return"activity_collection_page_layout_edited";case"no-conflicts-found":return"activity_no_conflicts_found";case"automation-typecheck-error-raised":return"activity_automation_typecheck_error_raised";case"reacted":return"activity_reaction";case"upgrade-request-created":return"activity_upgrade_request_created";case"app-builder-notification":return"activity_app_builder_notification";case"external-integration-notification":return"activity_external_integration_notification";case"trial-created":return"activity_trial_created";case"transcript-deleted":return"activity_transcript_deleted"}}function V(e){const t=[],r=[],n=[],o=[];return e.forEach((e=>{!function(e){if("permission-created"===e.type){const t=e.permission_data;if("user_permission"===t.type&&p().Tt(t.role)&&e.authors&&1===e.authors.length&&e.authors[0].table===h().oo&&e.authors[0].id===t.user_id)return!0}return!1}(e)?"permission-restriction-created"===e.type||"permission-restriction-deleted"===e.type?r.push(e):"collection-property-permission-updated"===e.type||"collection-property-permission-created"===e.type||"collection-property-permission-deleted"===e.type?n.push(e):o.push(e):t.push(e)})),{autojoinEdits:t,inheritanceEdits:r,collectionPropertyPermissionEdits:n,otherEdits:o}}function L(e){return"commented"===e||"following"===_().ZS[e]}function H(e){return"mentions"===_().ZS[e]}function G(e,t){return e.block_schema?(0,u().Q8)(e):(0,I().RX)(t)}function q(e){return new Set(e.flatMap((e=>Object.keys(e.property_updates)))).size}function j(e){return"block-property-changed"===e.type}},813690:(e,t,r)=>{r.d(t,{Oj:()=>o,ho:()=>a,xb:()=>n});Symbol("Record Loading Function");const n={constant(e){return this.fromMonomorphicFunctionUnsafe((()=>e))},throw(e){return this.fromMonomorphicFunctionUnsafe((()=>{throw e()}))},tryUntilFound(...e){return this.fromMonomorphicFunctionUnsafe((t=>{for(const r of e){const e=r(t);if(void 0!==e)return e}}))},fromRecordMap(e){return this.fromMonomorphicFunctionUnsafe((t=>e.getValue(t)))},fromRecordMapWithRole(e){return this.fromMonomorphicFunctionUnsafe((t=>e.getValue(t)))},fromMonomorphicFunctionUnsafe:e=>e},o={fromRecordMapWithRole:e=>t=>e.getRole(t),empty:()=>e=>{},constantForPointer:(e,t)=>n=>{if(r(696706).L3.isEqualIdTable(n,e))return t},tryUntilFound:(...e)=>t=>{for(const n of e){const e=n(t);if((0,r(534177).O9)(e))return e}}},a={fromGetRecordValueFn(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e(t))))},fromRecordMap(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e.getValue(t))))},fromRecordMapWithRole(e){return this.fromMonomorphicFunctionUnsafe((t=>Promise.resolve(e.getValue(t))))},sideEffect(e){return this.fromMonomorphicFunctionUnsafe((t=>e(t).then((()=>{}))))},tryUntilFound(...e){return this.fromMonomorphicFunctionUnsafe((async t=>{for(const r of e){const e=await r(t);if(void 0!==e)return e}}))},fromMonomorphicFunctionUnsafe:e=>e}},820156:(e,t,r)=>{r.d(t,{A:()=>n,L:()=>o});const n=50,o=100},823377:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>a});var n=()=>r(292588);const o="education_domain",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,domain:n().A.String,activated_count:n().A.Number},requiredColumns:{domain:!0,activated_count:!0},defaultColumnValues:{activated_count:0}}},825237:(e,t,r)=>{r.d(t,{De:()=>m,Eq:()=>s,MU:()=>u,Rr:()=>i,Ws:()=>f,wY:()=>c,x8:()=>l});r(581454);var n=()=>r(496603),o=()=>r(939768),a=()=>r(720665);const i=2e3,s=5e3;function l(e){return d({...e,permissionRecord:void 0})}function c(e){return d(e)}function u(e){if(e.startsWith("data:")||e.startsWith("blob:")||e.startsWith("/icons/"))return;if(e.startsWith("https://images.unsplash.com/"))return;if(!e.includes("/image/")&&e.startsWith("http"))return o().Gm({url:`/image/${encodeURIComponent(e)}`,query:{offline:"true"}});if(e.startsWith("/images/"))return e;const t=["width","cache"].reduce(((e,t)=>o().qm(e,t)),e);return o().O$(t,{offline:"true"})}function d(e){const{userId:t,favicon:r,freeze:a}=e;let{url:s,width:l}=e;const{baseUrl:c,fullyQualified:u,stripGoogleIconQuery:d,permissionRecord:p}=e;if(s.startsWith("C:\\"))return s;o().cW(s)&&(s=o().pf({relativeUrl:s,baseUrl:c})),d&&(s=s.replace("?sz=50",""));const m={...p};l&&s.indexOf(".ico")<0&&s.indexOf(".svg")<0&&s.indexOf(".gif")<0&&(l*=2,l=n().LI(l,-1),l=Math.max(l,40),l=Math.min(l,i),m.width=l.toString()),r&&(m.favicon="true"),a&&(m.freeze="true"),m.userId=t;const f=u?c:"";return o().Gm({url:`${f}/image/${encodeURIComponent(s)}`,query:{...m,cache:"v2"}})}const p="current_space_id";function m(e){const t=(0,a().$z)(e,(e=>e.permissionRecord.spaceId||p));return Array.from(t.keys()).map((e=>({spaceId:e===p?void 0:e,urls:t.get(e)||[]})))}function f(e){const{baseURL:t,url:r,downloadName:n,download:a,permissionRecord:i,currentUserId:s,domainBaseURL:l}=e,c=o().cW(r)?o().pf({relativeUrl:r,baseUrl:t}):r,u={...i};n&&(u.name=n),a&&(u.download="true"),s&&(u.userId=s);const d=l||"";return o().Gm({url:`${d}/signed/${encodeURIComponent(c)}`,query:{...u,cache:"v2"}})}},826081:(e,t,r)=>{r.d(t,{Cm:()=>i,Ug:()=>s,lw:()=>l,rE:()=>c});r(16280),r(898992),r(354520),r(581454);var n=r.n(r(702189)),o=()=>r(634201);const a=new(n()),i=n().DIFF_DELETE,s=n().DIFF_INSERT,l=n().DIFF_EQUAL;function c(e,t){const r=u(e,{count:0,encoding:{},decoding:{}}),n=r.encodedString,o=u(t,r.cypher),i=o.encodedString,s=o.cypher,l=function(e,t){return e.map((([e,r])=>[e,d(r,t)]))}(a.diff_main(n,i),s);return l.filter((([e,t])=>""!==t))}function u(e,t){const r=o().PE(e).map((e=>{const r=t.encoding[e];if(r)return r;{const r=String.fromCharCode(t.count);return t.count++,t.encoding[e]=r,t.decoding[r]=e,r}}));if(t.count>65535)throw new Error("This string has way too many different characters.");const n=r.join("");return{cypher:t,encodedString:n}}function d(e,t){return e.split("").map((e=>t.decoding[e])).join("")}},827570:(e,t,r)=>{r.d(t,{Ay:()=>a,_F:()=>o});var n=()=>r(292588);const o="template_draft",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,price:n().A.Number,authors:n().A.StringArray,made_by:n().A.String,tags:n().A.StringArray,attributes:n().A.JSON,block_id:n().A.UUID,created_at:n().A.Number,last_updated_at:n().A.Number,published_version:n().A.Number,status:n().A.String,draft_attributes:n().A.JSON},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,made_by:!0,attributes:!0,created_at:!0,last_updated_at:!0,published_version:!0,status:!0,draft_attributes:!0},model:(0,r(152853).P)({RecordStore:!0})}},829126:(e,t,r)=>{r.d(t,{A:()=>a,W:()=>o});var n=()=>r(292588);const o="global_oauth_client",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,client_name:n().A.String,client_secret:n().A.String,default_scopes:n().A.JSON,redirect_uris:n().A.StringArray,created_at:n().A.Number,updated_at:n().A.Number,metadata:n().A.JSON},model:(0,r(152853).P)({})}},829764:(e,t,r)=>{r.d(t,{Di:()=>o,fQ:()=>a});var n=()=>r(498212);function o(e){return(0,n().gB)(JSON.stringify({table:e.table,contentfulId:e.contentful_id,locale:e.locale}))}function a(e){return(0,n().gB)(JSON.stringify({table:e.table,parent_table:e.parentTable,parentId:e.parentId}))}},834499:(e,t,r)=>{function n(e){return function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}(e).toLowerCase()}r.d(t,{Q:()=>n})},835195:(e,t,r)=>{r.d(t,{FU:()=>v,z8:()=>j,a7:()=>z,e$:()=>G,kX:()=>H,wF:()=>I,oH:()=>k,R2:()=>R,bC:()=>F});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(823215),r(803949),r(581454);var n=()=>r(496603),o=()=>r(534177);function a(e){return(0,r(657970).w)(e.textValue)}var i=()=>r(67657),s=()=>r(713998),l=()=>r(568063),c=()=>r(597777),u=()=>r(869190),d=()=>r(604995),p=()=>r(239381),m=()=>r(450648),f=()=>r(559653),g=()=>r(437607),y=()=>r(201980),_=()=>r(931075);const v=["ascending","descending"],b=new Set(["select","multi_select","status","created_time","date","last_edited_time","last_visited_time","number","auto_increment_id","verification"]),h=new Set(["count","count_values","unique","empty","not_empty","checked","unchecked","count_per_group","percent_empty","percent_not_empty","percent_checked","percent_unchecked","percent_per_group","sum","average","median","min","max","range"]),A=(0,r(69708).YK)({noSchema:{defaultMessage:"This property cannot be sorted",id:"database.tableHeaderCell.sortPropertyNoSchema"},button:{defaultMessage:"Button properties cannot be sorted",id:"database.tableHeaderCell.sortPropertyButton"},rollup:{defaultMessage:"This rollup type cannot be sorted",id:"database.tableHeaderCell.sortPropertyRollup"}});function I(e){return e?"button"===e.type?A.button:"rollup"===e.type?A.rollup:void 0:A.noSchema}function k(e){return!!e&&("rollup"===e.type?x(e):"button"!==e.type)}function x(e){var t,r;return b.has(e.type)||"formula"===e.type&&("number"===(null===(t=e.formula2)||void 0===t?void 0:t.result_type.type)||"number"===(null===(r=e.formula)||void 0===r?void 0:r.result_type))||"rollup"===e.type&&"number"===e.target_property_type||"rollup"===e.type&&void 0!==e.aggregation&&h.has((0,i().ZP)(e.aggregation))}function S(e){const{textValue:t,getRecordModel:r,collectionRequestContext:n}=e,{userTimeZone:o,intl:a}=n;return(0,m().r4)({intl:a,textValue:t,getRecordModel:r,userTimeZone:o,disableAnnotationPrefix:!0,renderDateAnnotationsAsISO:!0}).trim()}function T(e){const{textValue:t,propertySchema:r}=e,n=r.options||[],o=s().L3(t,n),a=n.findIndex((e=>e.value===o));if(a>=0)return a}const M=new WeakMap;function w(e){const t=function(e){const t=e.options||[],r=e.groups||[],o=new Map;for(const[n,a]of r.entries())for(const e of a.optionIds??[])o.set(e,n);return n().Ul([...t.entries()],[([e,t])=>o.get(t.id),([e,t])=>e]).map((([e,t])=>t))}(e),r=new Map;for(let n=0;n<t.length;n++)r.set(t[n].value,n);return r}function B(e){return y().k4p(e.textValue)}function C(e){return r(302322).M(e.textValue)}function P(e){const{actors:t,getRecordModel:r,intl:o}=e;return n().oE(t.map((e=>{const t=r(e);return null==t?void 0:t.getDisplayName(o)}))).join(" ")}function N(e){const{actors:t,getRecordModel:r,intl:o}=e;return n().oE(t.map((e=>{if((0,g().I6)(e)){const t=e.id,n=e.spaceId,a=(0,g().S4)({spacePermissionGroupId:t,spaceId:n}),i=r(a);return null==i?void 0:i.getDisplayName(o)}{const t=r(e);return null==t?void 0:t.getDisplayName(o)}}))).join(" ")}function U(e){const{pointers:t,getRecordModel:r}=e;return n().oE(t.map((e=>{const t=r(e),n=t?s().yQ(t,"title",r):"";return t&&n?y().k4p(n).replace(/,/g,""):""}))).join(" ")}function R(e){const{result:t,getRecordModel:r,userTimeZone:n,intl:o,useImprovedSort:a}=e;if("checkbox"===t.type||"number"===t.type)return t.value;if("text"===t.type)return a?(0,m().r4)({textValue:t.value,getRecordModel:r,userTimeZone:n,intl:o,disableAnnotationPrefix:!0,renderDateAnnotationsAsISO:!0}).trim():(0,m().r4)({textValue:t.value,getRecordModel:r,userTimeZone:n,intl:o}).trim();if("date"===t.type)return(0,u().wh)(t.value,n);if("person"===t.type)return N({actors:[t.value],getRecordModel:r,intl:o});if("block"===t.type){const e=r(t.value);if(!e)return;return e.getRenderTitle({getRecordModel:r,userTimeZone:n,intl:o})}if("array"===t.type){const e=t.values;if(0===e.length)return;if(e.every((e=>"block"===e.type))){return U({pointers:e.map((e=>e.value)),getRecordModel:r})}if(function(e){return e.every((e=>"person"===e.type))}(e)){return N({actors:e.map((e=>e.value)),getRecordModel:r,intl:o})}return a?(0,m().r4)({textValue:(0,p().Ht)(t),getRecordModel:r,userTimeZone:n,intl:o,disableAnnotationPrefix:!0,renderDateAnnotationsAsISO:!0}):(0,m().r4)({textValue:(0,p().Ht)(t),getRecordModel:r,userTimeZone:n,intl:o})}}const D={title:S,text:S,select:T,multi_select:T,status:function(e){const{textValue:t,propertySchema:r}=e,n=s().RZ(t,r);if(!n)return;const o=M.get(r);if(o)return o.get(n);const a=w(r);return M.set(r,a),a.get(n)},url:B,email:B,phone_number:B,checkbox:a,number:C,auto_increment_id:C,location:function(e){const{getRecordModel:t,block:r,collectionRequestContext:n}=e,o=s().VI({block:r,getRecordModel:t});if(o)return S({textValue:o.getName(),getRecordModel:t,collectionRequestContext:n}).trim()},person:function(e){const{textValue:t,getRecordModel:n,propertySchema:o,block:a,collectionRequestContext:i}=e,{intl:s}=i;return N({intl:s,actors:(0,r(363170).e)({textValue:t,propertySchema:o,blockCreatorPointer:a.getCreatedByPointer(),convertGroupPointersToBeComposite:!0}),getRecordModel:n})},date:function(e){const{textValue:t,collectionRequestContext:n}=e,{userTimeZone:o}=n,a=(0,r(187696).b)(t);if(a)return d().ln(a,o)},relation:function(e){const{textValue:t,getRecordModel:r,propertySchema:n}=e;if("relation"!==n.type)return;return U({pointers:s().bG({relationValue:s().n(t),getRecordModel:r,propertySchema:n,includeNoAccess:!0}),getRecordModel:r})},created_time:({block:e})=>e.getCreatedTime(),last_edited_time:({block:e})=>e.getLastEditedTime(),file:({textValue:e})=>y().k4p(e),created_by:({block:e,getRecordModel:t,collectionRequestContext:r})=>{const{intl:n}=r,o=e.getCreatedByPointer();if(o)return P({actors:[o],getRecordModel:t,intl:n})},last_edited_by:({block:e,getRecordModel:t,collectionRequestContext:r})=>{const{intl:n}=r,o=e.getLastEditedByPointer();if(o)return P({actors:[o],getRecordModel:t,intl:n})},last_visited_time:({block:e,getRecordModel:t,collectionRequestContext:r})=>{const{userId:n}=r;if(!n)return;const o=(0,f().$5)({parent_id:e.id,user_id:n}),a=t({table:f().F9,id:o,spaceId:e.getSpaceId()});return null==a?void 0:a.getVisitedAt()},verification:function(e){const t=(0,_().U1)(e.textValue);if(!t)return;const r=(0,_().B2)(t),n=r.type;switch(n){case"verified":return r.isIndefinite?Number.POSITIVE_INFINITY:r.dateTimeRange.end.valueOf();case"expired":return r.dateTimeRange.end.valueOf();case"none":return;default:(0,o().HB)(n)}},place:S};function O(e){const{property:t,schema:r,block:n,getRecordModel:a,propertyMapping:i,collectionRequestContext:u,formulasModule:p,spaceIdCreator:m}=e,{userTimeZone:f,depth:g,intl:y,formulaTimeoutTimestampMs:_,logFormulaTimeoutFn:v}=u,b=r[t];if(!b)return;if("formula"===b.type){if(!p)return;if(void 0===b.version){const t=p.evaluateFormulaProperty({...e,collectionRequestContext:{...u,visitedProperties:new Set}});return c().kC(t)?d().ln(t,f):t}{if(!b.formula2)return;const e=p.evaluateCollectionFormula2({block:n,property:t,formulaCode:b.formula2.code,getRecordModel:a,intl:y,userTimeZone:f,depth:g,visitedProperties:new Set,formulaTimeoutTimestampMs:_,logFormulaTimeoutFn:v,logFormulaStatsFn:u.logFormulaStatsFn,resultCache:u.resultCache,regExpCache:u.regExpCache,formatDateCache:u.formatDateCache,experimentService:u.experimentService,collectionFeatureGates:u.collectionFeatureGates,spaceIdCreator:m});if(!e)return;const r=R({result:e,getRecordModel:a,userTimeZone:f,intl:y,useImprovedSort:!0});return"string"==typeof r?r.toLowerCase():r}}if("rollup"===b.type){const n=(0,l().eY)({property:t,schema:r,getRecordModel:a,spaceIdCreator:m});if(!n)return;if("person"===n.rollupType)return;if(b.aggregation&&"show_unique"!==b.aggregation){const t=(0,l().Pm)({...e,collectionRequestContext:{...u,visitedProperties:new Set},spaceIdCreator:m});if(void 0===t)return;if("number"===t.type||"text"===t.type)return t.value;if("date"===t.type){if(!t.value)return;return d().ln(t.value,f)}(0,o().HB)(t)}const i=(0,l().yH)(e);if(0===i.length)return;const s=i[0];return O({property:n.targetProperty,schema:n.targetCollectionSchema,block:s,getRecordModel:a,propertyMapping:void 0,collectionRequestContext:{...u,depth:g+1},formulasModule:p,spaceIdCreator:m})}if("button"===b.type)return;const h=D[b.type],A=(null==i?void 0:i[t])??t;let I;return I="title"===b.type&&n.isType("collection_view_page")?s().zP(n,a):s().yQ(n,A,a),h({textValue:I,propertySchema:b,...e})}function F(e,t){const r=[...e];return r.sort(t.compare),r}function E(e){const{property:t,propertySchema:r,direction:n,userTimeZone:o,userId:a,intl:i,formulasModule:s,spaceIdCreator:l}=e;return{getSortValue:({block:e,schema:r,propertyMapping:n,getRecordModel:c,formulaTimeoutTimestampMs:u,logFormulaTimeoutFn:d,logFormulaStatsFn:p,resultCache:m,regExpCache:f,formatDateCache:g,experimentService:y,collectionFeatureGates:_})=>O({property:t,schema:r,block:e,getRecordModel:c,propertyMapping:n,collectionRequestContext:{intl:i,userId:a,userTimeZone:o,depth:0,resultCache:m,regExpCache:f,formatDateCache:g,visitedProperties:new Set,formulaTimeoutTimestampMs:u,logFormulaTimeoutFn:d,logFormulaStatsFn:p,experimentService:y,collectionFeatureGates:_},formulasModule:s,spaceIdCreator:l}),descending:"descending"===n,isNumeric:!!r&&x(r)}}function V(e){const{userId:t,userTimeZone:r,intl:n,apiSorts:a,formulasModule:i,spaceIdCreator:s}=e;return a?a.map((a=>"property"in a?E({property:a.property,propertySchema:e.schema[a.property],direction:a.direction,userId:t,userTimeZone:r,intl:n,formulasModule:i,spaceIdCreator:s}):"timestamp"in a?function(e){const{timestamp:t,direction:r}=e;return{getSortValue:({block:e})=>"created_time"===t?e.getCreatedTime():"last_edited_time"===t?e.getLastEditedTime():void(0,o().HB)(t),descending:"descending"===r,isNumeric:!0}}(a):void(0,o().HB)(a))):[]}function L(e){const{userTimeZone:t,intl:r,userId:n,userSorts:o,schema:a,formulasModule:i,spaceIdCreator:s}=e;return[...o.map((e=>E({property:e.property,propertySchema:a[e.property],direction:e.direction,userId:n,userTimeZone:t,intl:r,formulasModule:i,spaceIdCreator:s})))]}function H(e){return[...V(e),...L(e)]}function G(e){return[new q(e),{getSortValue:({block:e})=>e.getCreatedTime(),descending:!0,isNumeric:!0},{getSortValue:({block:e})=>e.id,descending:!1,isNumeric:!0}]}class q{constructor(e){this.pageSortIndex=void 0,this.ids=void 0,this.descending=!1,this.isNumeric=!0,this.ids=e,this.pageSortIndex=q.buildPageSortIndex(e)}getIds(){return this.ids}getSortValue(e){return this.pageSortIndex[e.block.id]}[Symbol.iterator](){return Object.entries(this.pageSortIndex)[Symbol.iterator]()}update(e){this.ids=e,this.pageSortIndex=q.buildPageSortIndex(e)}}q.buildPageSortIndex=e=>{const t={};return e.forEach(((e,r)=>t[e]=r)),t};class j{constructor(e){this.resultSortMap=void 0,this.compare=(e,t)=>{const{querySorts:r,resultSortMap:n}=this;for(let o=0;o<r.length;o++){const a=r[o],i=z(n[e][o],n[t][o],{numeric:a.isNumeric,descending:a.descending});if(0!==i)return i}return 0},this.querySorts=e,this.resultSortMap={}}debugDump(){return this.resultSortMap}hasBlock(e){return void 0!==this.resultSortMap[e]}deleteBlock(e){delete this.resultSortMap[e]}updateBlock(e){const t=this.querySorts.map((t=>t.getSortValue(e)));this.resultSortMap[e.block.id]=t}updatePageSortIfAny(e){const t=this.querySorts.findIndex((e=>e instanceof q));if(-1===t)return[];const r=this.querySorts[t];r.update(e);const n=[];for(const[o,a]of Object.entries(this.resultSortMap)){const e=a[t],i=r.getSortValue({block:{id:o}});e!==i&&(a[t]=i,n.push(o))}return n}}const $=new Intl.Collator("en",{caseFirst:"upper",numeric:!0});function z(e,t,{numeric:r,descending:n}){const o=null==e||""===e,a=null==t||""===t;return o&&!a?1:a&&!o?-1:o||a?0:r?e>t?n?-1:1:e<t?n?1:-1:0:n?$.compare(t.toString(),e.toString()):$.compare(e.toString(),t.toString())}},835338:(e,t,r)=>{r.d(t,{Ay:()=>d,Cy:()=>u,JY:()=>l,RN:()=>c,gK:()=>a,gU:()=>s,lx:()=>i});var n=()=>r(498212),o=()=>r(292588);function a(e){return{comments:"all",property_updates:"important",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function i(e){return{comments:"all",property_updates:"off",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function s(e){return{comments:"replies",property_updates:"off",mentions:!0,other:!1,explicitly_set_by_user:e.explicitly_set_by_user}}function l(e){return{comments:"all",property_updates:"all",mentions:!0,other:!0,explicitly_set_by_user:e.explicitly_set_by_user}}function c(e){const{user_id:t,navigable_block_id:r}=e;return(0,n().gB)([t,r].join(""))}const u="follow",d={table:u,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.UUID,navigable_block_id:o().A.UUID,following:o().A.Boolean,created_time:o().A.Number,space_id:o().A.UUID,follow_settings:o().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},837241:(e,t,r)=>{r.d(t,{A:()=>a,Z:()=>o});var n=()=>r(292588);const o="plus_lock_waitlist",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,opted_in_at:n().A.Number,opted_in_by_id:n().A.UUID,opted_in_by_table:n().A.String,metadata:n().A.JSON},requiredColumns:{version:!0,space_id:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})}},837420:(e,t,r)=>{r.d(t,{A:()=>a,e:()=>o});var n=()=>r(292588);const o="custom_emoji",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,name:n().A.String,url:n().A.String,file_ids:n().A.StringArray,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,alive:n().A.Boolean},requiredColumns:{version:!0,space_id:!0,name:!0,url:!0,created_time:!0,created_by_id:!0,created_by_table:!0,alive:!0},model:(0,r(152853).P)({RecordStore:!0})}},837788:(e,t,r)=>{r.d(t,{A:()=>i});r(16280),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);function n(e){return!("object"!=typeof e||!e)&&!(function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==function(e){if(null===e)return void 0===e?"[object Undefined]":"[object Null]";return toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e)||Array.isArray(e)||s(e)||l(e))}function o(e,t){return("ignore-class-instances"!==t||!n(e))&&(null==e||Array.isArray(e)&&0===e.length||s(e)&&0===e.size||l(e)&&0===e.size||c(e)&&!s(e)&&!l(e)&&0===Object.keys(e).length)}const a={annotationOpsBefore:!0,annotationOpsAfter:!0,a:!0,b:!0,crdt_data:!0,workflowOperations:!0,threadOperations:!0,threadRecordMap:!0};const i=function e(t,r,i=[]){if("ignore-class-instances"===r&&n(t))return t;if(Array.isArray(t)){const n=t;let a=0;for(let t=0;t<n.length;t++){if(i.length>0&&i[0]!==t){n[a]=n[t],a+=1;continue}const s=e(n[t],r,i.slice(1));o(s,r)||(n[a]=s,a+=1)}n.length=a}else if(s(t)){if(i.length>0)throw new Error("Cannot traverse path into a Set");for(const e of t)o(e,r)&&t.delete(e)}else if(l(t)){if(i.length>0)throw new Error("Cannot traverse path into a map");const n=t.keys();for(const a of n){const n=e(t.get(a),r);o(n,r)?t.delete(a):t.set(a,n)}}else if(c(t)){const n=Object.keys(t);for(const s of n){if(a[s])continue;if(i.length>0&&i[0]!==s)continue;const n=e(t[s],r,i.slice(1));o(n,r)?delete t[s]:t[s]=n}}return o(t,r)?void 0:t};function s(e){return e instanceof Set}function l(e){return e instanceof Map}function c(e){const t=typeof e;return null!==e&&("object"===t||"function"===t)}},838838:(e,t,r)=>{r.d(t,{Ay:()=>l,KN:()=>o,dT:()=>i,gN:()=>s});var n=()=>r(292588);const o="ai_connector_connection",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,space_id:n().A.UUID,parent_id:n().A.UUID,parent_table:n().A.String,third_party_id:n().A.String,connection_type:n().A.String,connection_details:n().A.JSON,status:n().A.String,status_reason:n().A.String,auth_details:n().A.JSON,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,last_version:n().A.Number},requiredColumns:{id:!0,version:!0,space_id:!0,parent_id:!0,parent_table:!0,third_party_id:!0,connection_type:!0,connection_details:!0,status:!0,auth_details:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,last_version:!0},model:(0,r(152853).P)({RecordStore:!1})},i={space:!0,organization:!0},s={space:!0,organization:!0},l=a},838968:(e,t,r)=>{r.d(t,{A:()=>a,m:()=>o});var n=()=>r(292588);const o="server_integrations__slack_channel",a={table:o,columnTypes:{id:n().A.UUID,slack_channel_id:n().A.String,slack_workspace_id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number,preferences:n().A.JSON}}},840911:(e,t,r)=>{r.d(t,{Ay:()=>l,Ps:()=>s,WW:()=>i,q6:()=>a});var n=()=>r(638681),o=()=>r(292588);const a={notion_user:!0},i=n().object({required:{oauth_authorize_url:n().string(),oauth_token_url:n().string(),client_id:n().string(),client_secret:n().string()},optional:{scopes:n().string(),deletion_url:n().string()}});i.value;const s="external_integration_authorization",l={table:s,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,parent_table:o().A.String,parent_id:o().A.String,oauth_authorize_url:o().A.String,oauth_token_url:o().A.String,client_id:o().A.String,client_secret:o().A.String,scopes:o().A.String,deletion_url:o().A.String},model:(0,r(152853).P)({})}},842599:(e,t,r)=>{r.d(t,{C3:()=>p,Ct:()=>f,DT:()=>s,Ff:()=>h,Wy:()=>_,iL:()=>d,j5:()=>v,l2:()=>m,qh:()=>i,xn:()=>u,zN:()=>y});r(944114),r(898992),r(803949),r(581454);var n=()=>r(538556),o=()=>r(496603),a=()=>r(660237);function i(e){if(e){const t=g(e);if(!t)return;const{name:r,domain:n}=t;return`${r.trim().toLowerCase()}@${n.trim().toLowerCase()}`}}function s(e){return Boolean(e&&n().validate(e))}const l=/[a-z0-9.!#$%&'*+/=?^_`{|}~\-]+@[a-z0-9._+\-]+\.[a-z0-9._+\-]+/gi,c=/^[a-z0-9.!#$%&'*+/=?^_`{|}~\-]+(@([a-z0-9._+\-]+(\.[a-z0-9._+\-]+)?)?)?$/gi;function u(e){const t=e.match(c);return null!==t&&t.length>0}function d(e){const t=function(e){const t=e.match(l);if(t&&!(t.length<1))return i(t[0])}(e);return t||""}function p(e){const t=e.match(l);return null===t?[]:o().sb(o().oE(t.map(i)))}function m(e){const t=[],r=[],n=e.split(",").map((e=>e.trim()));n.slice(0,-1).forEach((e=>{if(0===e.length)return;const n=p(e);n.length>0?t.push(...n):r.push(e)}));const a=n[n.length-1],s=p(a);let l="";if(0===s.length)l=a;else if(1===s.length){const e=s[0];i(e)!==i(a)||t.length>0?t.push(e):l=a}else t.push(...s);return{extractedEmails:o().sb(o().oE(t.map(i))),invalidParts:o().sb(r),newInputValue:l}}function f(e){const t=p(e);return t.length>1||1===t.length&&i(t[0])!==i(e)?{extractedEmails:t,newInputValue:""}:{extractedEmails:[],newInputValue:e}}function g(e){const t=e.lastIndexOf("@"),r=e.substring(0,t),n=e.substring(t+1);if(""!==r&&""!==n)return{name:r,domain:n}}function y(e){var t;if(e)return null===(t=g(e))||void 0===t?void 0:t.domain}function _(e,t){if(!e)return!1;const r=y(t);return o().mK(e,r)}function v(e){return"doubleIn"===(0,a().eh)(e).opt?"https://privacyportal.onetrust.com/ui/#/preferences/multipage/login/85da1f3a-9621-4cdf-a38b-0c15137a20c5":"https://privacyportal.onetrust.com/ui/#/preferences/multipage/login/06108214-ebec-46eb-ba8b-20521af00794"}const b=["gmail.com","googlemail.com","outlook.com","hotmail.com","live.com","msn.com","yahoo.com","icloud.com","me.com","mac.com","aol.com","hey.com","protonmail.com","proton.me","zoho.com","yandex.com","mail.com","gmx.com","qq.com","privaterelay.appleid.com","163.com","126.com","naver.com","foxmail.com","sina.com","gmx.de","web.de","yahoo.com.br","yeah.net","pm.me","hotmail.fr","yahoo.fr","kakao.com","mail.ru"];function h(e){return b.includes(e.toLowerCase())}},845315:(e,t,r)=>{r.d(t,{g:()=>o});const n=(0,r(69708).YK)({workflowDefaultName:{defaultMessage:"Unnamed agent",id:"workflow.defaultName"}});function o(e){return e.formatMessage(n.workflowDefaultName)}},847866:(e,t,r)=>{r.d(t,{Ay:()=>i,dv:()=>a,iP:()=>o});r(898992),r(354520),r(625473);var n=()=>r(292588);const o="record_mention",a={block:!0,comment:!0},i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,type:n().A.String,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,parent_property_id:n().A.String,mentioned_space_id:n().A.UUID,mentioned_table:n().A.String,mentioned_id:n().A.UUID,mentioned_property_id:n().A.UUID},requiredColumns:{type:!0,space_id:!0,parent_table:!0,parent_id:!0,mentioned_table:!0,mentioned_id:!0},model:(0,r(152853).P)({})}},848538:(e,t,r)=>{r.d(t,{$I:()=>x,Ay:()=>P,C4:()=>y,DR:()=>v,GN:()=>I,Jm:()=>h,KM:()=>T,LF:()=>A,MN:()=>S,P:()=>k,SM:()=>m,V2:()=>B,Wf:()=>w,Yr:()=>l,aJ:()=>C,fS:()=>s,i1:()=>g,jM:()=>b,kI:()=>d,l3:()=>p,nc:()=>u,ps:()=>_,v1:()=>c,vp:()=>M,yO:()=>f});var n=()=>r(498212),o=()=>r(534177),a=()=>r(416845),i=()=>r(292588);const s=["none","page_guest","restricted_member","member","membership_admin","owner"],l={none:0,page_guest:1,restricted_member:2,member:3,membership_admin:4,owner:5};const c=s.filter(S),u=s.filter(k);function d(e){return!!(0,o().Xk)(s,e)}function p(e){return e.table===C&&function(e){const t=e.split("|"),[r,o]=t;return 2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)}(e.id)}function m(e){const t=e.split("|"),[r,o]=t;if(!(2===t.length&&(0,n().uj)(r)&&(0,n().uj)(o)))throw new(a().yI)("invalid SpaceUserId",{data:{id:e}});return{userId:r,spaceId:o}}function f(e){const{userId:t,spaceId:r}=e;return`${t}|${r}`}function g(e){const{userId:t,spaceId:r}=e;return{id:f({userId:t,spaceId:r}),table:C,spaceId:r}}function y(e){return"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":void(0,o().HB)(e)}function _(e){return function(e){return d(e)?"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":"none"===e||"page_guest"===e?"none":void(0,o().HB)(e):"none"}(e)}function v(e){return d(e)?"member"===e||"restricted_member"===e?"read_and_write":"membership_admin"===e?"membership_admin":"owner"===e?"editor":"none"===e||"page_guest"===e?"none":void(0,o().HB)(e):"none"}function b(e){return"read_and_write"===e?"member":"membership_admin"===e?"membership_admin":"editor"===e?"owner":"none"}function h(e){return"owner"===e}function A(e){return"owner"===e||"membership_admin"===e}function I(e){return"restricted_member"===e}function k(e){return"page_guest"===e}function x(e){return"none"===e}function S(e){return!(!d(e)||x(e)||k(e))}function T(e){return!(!S(e)||I(e))}function M(e){return B({minimumType:"membership_admin",membershipType:e})}function w(e){return B({minimumType:"member",membershipType:e})}function B({minimumType:e,membershipType:t}){return!!t&&l[t]>=l[e]}const C="space_user",P={table:C,columnTypes:{id:i().A.String,user_id:i().A.String,space_id:i().A.String,membership_type:i().A.String,invite_id:i().A.String,version:i().A.Number,last_version:i().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},853040:(e,t,r)=>{r.d(t,{Ay:()=>s,NU:()=>i,kf:()=>o});var n=()=>r(292588);const o="billing_data",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,created_at:n().A.Number,external_id:n().A.String,provider:n().A.String,clock:n().A.JSON,trial:n().A.JSON,email:n().A.String,address:n().A.JSON,payment_method:n().A.JSON,locked_currency_code:n().A.String,tax_ids:n().A.JSON,account_balances:n().A.JSON},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})},i={space:!0},s=a},855355:(e,t,r)=>{r.d(t,{Ay:()=>d});r(16280),r(18107),r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(967357),r(898992),r(672577),r(803949),r(581454),r(908872);var n=()=>r(534177),o=()=>r(634201),a=()=>r(201980),i=()=>r(91913),s=()=>r(187534),l=()=>r(398966),c=()=>r(933449);const u={type:"contains",includeEndItem:!1};class d{constructor(e,t){this.parent=void 0,this.children=[],this.sessionId=e,this.textSlice=t}insertText(e,t){(0,c().MX)(!1,"insertText is for testing only");const r=this.getOperationForInsertText(e,t,!0);if(r){const{operation:e}=r;this.applyInsertTextOperation(e)}return this}insertTextValue(e,t){if(0===t.length)return this;const{operations:r}=this.getOperationsForInsertTextValue(e,t);for(const o of r){const e=o.type;"insertText"===e?this.applyInsertTextOperation(o):"addAnnotation"===e||"removeAnnotation"===e?this.applyAnnotationOperation(o):(0,n().HB)(e)}return this}getTextItem(e,t){for(const r of this.iterateTextSliceTrees(e)){const e=r.getTextSlice().getTextItem(t);if(e)return e}}getIndexOfTextItem(e,t){let r=0;for(const o of this.iterateTextSliceTrees()){const a=o.getTextSlice();if(a.textInstanceId===e){const e=a.getIndexOfTextItem(t);if(void 0!==e)switch(e.type){case"visible":return{type:"visible",index:r+e.index};case"deleted":return{type:"deleted",nextVisibleIndex:r+e.nextVisibleIndex};default:(0,n().HB)(e)}}r+=a.getVisibleCount()}}getGraphemeIndexOfTextItem(e,t){const r=this.getIndexOfTextItem(e,t);if(void 0===r)return;const i=this.getTextValue(),s=new(o().FT)(a().qAZ(i));switch(r.type){case"visible":return{type:"visible",index:s.getGraphemeIndex(r.index)};case"deleted":return{type:"deleted",nextVisibleIndex:s.getGraphemeIndex(r.nextVisibleIndex)};default:(0,n().HB)(r)}}getGraphemeIndicesOfSlice(e){let t,r=0;for(const o of this.iterateTextSliceTrees()){const n=o.getTextSlice();if(n.textInstanceId===e.textInstanceId&&("start"===e.boundary&&n.getStartItem().startsWithId(e.start)||"end"===e.boundary&&n.getEndItem().endsWithId(e.end))){t=[r,r+n.getVisibleCount()];break}r+=n.getVisibleCount()}if(!t)return;const n=this.getTextValue(),i=new(o().FT)(a().qAZ(n));return{startIndex:i.getGraphemeIndex(t[0]),exclusiveEndIndex:i.getGraphemeIndex(t[1])}}getOperationsForInsertTextValue(e,t,r=!1,n){const o=a().q4_(t),i=this.getOperationForInsertText(e,o,r,n);if(!i)return{operations:[],invertedOperations:[]};const{operation:s,invertedOperation:l}=i,{textSliceTree:c}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e),{textSlice:u}=c;return{operations:[s,...this.getAnnotationOperationsForInsertTextValue(s,t,u)],invertedOperations:[l]}}getOperationsForInsertTextValueAfterOriginId(e,t,r,n){const o=(0,c().o9)(this.findTextSliceTreeContainingItemWithId(e,r),i().Dp),{textSlice:s}=o,l=a().q4_(n);if(0===l.length)return{operations:[],invertedOperations:[]};const u={type:"insertText",textInstanceId:e,searchLabel:t,id:[this.sessionId,s.opClock.reserveTicks(l.length)],originId:r,content:l},d={type:"invertedInsertText",textInstanceId:e,searchLabel:t,startId:u.id,endId:[u.id[0],u.id[1]+l.length-1]};return{operations:[u,...this.getAnnotationOperationsForInsertTextValue(u,n,s)],invertedOperations:[d]}}getActiveAnnotationsBeforeIndex(e){if(e<0)throw new Error("Index to identify annotations must be non-negative");const t=e-1;if(-1===t)return this.textSlice.getActiveAnnotationsAfterId(this.textSlice.getStartItem().id);{const{textSliceTree:e,originId:r}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(t),{textSlice:n}=e;return n.getActiveAnnotationsAfterId(r)}}getAnnotationOperationsForInsertTextValue(e,t,n){const i=new(o().Z4)(a().qAZ(t)),s=(0,r(957705).k)(t,i),l=n.getActiveAnnotationsAfterId(e.originId),u=new Map,d=new Map;for(const[o,a]of s){const e=l.get(o);if(!e){d.set(o,a);continue}const t=[],n=[];for(const{startIndex:o,endIndex:i,annotation:l,sortIndex:c}of a)(0,r(269288).y)(l,e)?t.push({startIndex:o,endIndex:i}):n.push({startIndex:o,endIndex:i,annotation:l,sortIndex:c});const s=p(t,i.getStringLength()-1);s.length&&u.set(o,s),n.length&&d.set(o,n)}for(const r of l.keys())s.has(r)||((0,c().MX)(!u.has(r),"Annotation already marked for removal"),u.set(r,[{startIndex:0,endIndex:i.getStringLength()-1}]));const m=i.getStringLength(),f=n.getItemIdAfterItem(e.originId),g=[];for(const[r,o]of u){const t=(0,c().o9)(l.get(r),"Active annotations must include given annotation"),i=a().SZO(t);for(const{startIndex:r,endIndex:s}of o){const o=i?{anchor:"before",id:[this.sessionId,e.id[1]+r]}:{anchor:"after",id:r-1>=0?[this.sessionId,e.id[1]+r-1]:e.originId},l={anchor:"before",id:s+1<m?[this.sessionId,e.id[1]+s+1]:f};g.push({type:"removeAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.searchLabel,id:[this.sessionId,n.opClock.reserveTicks(1)],start:o,end:l,annotationKey:a().JIi(t)})}}const y=[...d.values()].flat().sort(((e,t)=>e.sortIndex-t.sortIndex));for(const{startIndex:r,endIndex:o,annotation:c}of y){const t=a().SZO(c),i={anchor:"before",id:[this.sessionId,e.id[1]+r]},s=t?{anchor:"before",id:o+1<m?[this.sessionId,e.id[1]+o+1]:f}:{anchor:"after",id:[this.sessionId,e.id[1]+o]};g.push({type:"addAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.searchLabel,id:[this.sessionId,n.opClock.reserveTicks(1)],start:i,end:s,annotation:c})}return g}getOperationForInsertText(e,t,r=!1,n){if(0===t.length)return;const{textSliceTree:o,originId:a,prevItems:i}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e,r,n),{textSlice:s}=o,l=s.getSearchLabel(),c={type:"insertText",textInstanceId:s.textInstanceId,searchLabel:l,id:[this.sessionId,s.opClock.reserveTicks(t.length)],originId:a,content:t,...r?{prevItems:i}:{}};return{operation:c,invertedOperation:{type:"invertedInsertText",textInstanceId:s.textInstanceId,searchLabel:l,startId:c.id,endId:[c.id[0],c.id[1]+t.length-1]}}}TEST_ONLY__getOperationForInsertText(e,t,r){return this.getOperationForInsertText(e,t,!0,r)}applyInsertTextOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,e.originId),i().Dp).applyInsertTextOperation({op:e})}deleteText(e,t){return this.getOperationsForDeleteText(e,t).operations.forEach((e=>this.applyDeleteOperation(e))),this}getOperationsForDeleteText(e,t){if((0,c().MX)(e<=t,"Delete start index must be less than or equal to end index"),0===this.getVisibleCount())return{operations:[],invertedOperations:[]};const r=[],n=[];for(const{textSliceTree:i,textSliceStartIndex:l,textSliceEndIndex:u}of this.getTextSliceTreesInRange(e,t)){const{textSlice:d}=i,p=Math.max(0,e-l),m=Math.min(u-l,t-l),f=d.getItemIdsInRange(p,m),g=(0,s().QG)(f),y=d.getTextValue(),_=new(o().FT)(a().qAZ(y)),v=a().Ffo(y,_.getGraphemeIndex(p),_.getGraphemeIndex(m)+1),b=v.reduce(((e,t)=>{var r;return e+((null===(r=t[0])||void 0===r?void 0:r.length)??0)}),0);(0,c().MX)(b===g.length,"Deleted text should have same length as deleted item IDs",{expected:g.length,actual:b}),r.push({type:"deleteText",textInstanceId:d.textInstanceId,searchLabel:d.getSearchLabel(),idRanges:f}),n.push({type:"invertedDeleteText",textInstanceId:d.textInstanceId,searchLabel:d.getSearchLabel(),originId:(0,c().o9)(g.at(-1),"Delete text operation IDs must be non-empty"),deletedTextValue:v,deletedIds:g})}return(0,c().MX)(r.length>0,"Delete operations must be non-empty"),(0,c().MX)(n.length>0,"Inverted delete operations must be non-empty"),{operations:r,invertedOperations:n}}applyDeleteOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,(0,c().o9)(e.idRanges[0][0],"Delete text operation ID ranges must be non-empty")),i().Dp).applyDeleteTextOperation(e)}addAnnotation(e,t,r){const{operations:n}=this.getOperationsForAddAnnotation(e,t,r);return n.forEach((e=>this.applyAnnotationOperation(e))),this}removeAnnotation(e,t,r,n=!1){return this.getOperationsForRemoveAnnotation(e,t,r,n).operations.forEach((e=>this.applyAnnotationOperation(e))),this}getOperationsForAddAnnotation(e,t,r){(0,c().MX)(e<=t,"Add annotation start index must be less than or equal to end index");const n=a().SZO(r),o=this.getTextSliceSpansForAnnotationOperation(e,t,n,!1).map((({textSlice:e,start:t,end:n})=>({type:"addAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],start:t,end:n,annotation:r})));(0,c().MX)(o.length>0,"Add annotation operations must be non-empty");const{textSliceTree:i,opId:s}=this.getTextSliceTreeAndItemIdForIndex(e),{textSliceTree:l,opId:u}=this.getTextSliceTreeAndItemIdForIndex(t);return{operations:o,invertedOperations:[{type:"invertedAddAnnotation",startTextInstanceId:i.textSlice.textInstanceId,startId:s,endTextInstanceId:l.textSlice.textInstanceId,endId:u,annotationKey:a().JIi(r)}]}}getOperationsForRemoveAnnotation(e,t,r,n=!1){(0,c().MX)(e<=t,"Remove annotation start index must be less than or equal to end index");const i=a().M4u(r),s=a().Kxr(i),l=this.getTextSliceSpansForAnnotationOperation(e,t,s,!0).map((({textSlice:e,start:t,end:n})=>({type:"removeAnnotation",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],start:t,end:n,annotationKey:r})));if((0,c().MX)(l.length>0,"Remove annotation operations must be non-empty"),n)return{operations:l,invertedOperations:[]};const{textSliceTree:u,opId:d}=this.getTextSliceTreeAndItemIdForIndex(e),{textSliceTree:p,opId:m}=this.getTextSliceTreeAndItemIdForIndex(t),f=this.getTextValue(),g=new(o().FT)(a().qAZ(f)),y=a().LPC({textValue:f,startIndex:g.getGraphemeIndex(e),endIndex:g.getGraphemeIndex(t)+1,groupingKey:a().M4u(r)}).find((({annotation:e})=>a().JMm(a().JIi(e),r)));return{operations:l,invertedOperations:y?[{type:"invertedRemoveAnnotation",startTextInstanceId:u.textSlice.textInstanceId,startId:d,endTextInstanceId:p.textSlice.textInstanceId,endId:m,annotation:y.annotation}]:[]}}getTextSliceSpansForAnnotationOperation(e,t,r,n){(0,c().MX)(0<=e&&e<=t&&t<this.getVisibleCount(),"Invalid range to get text slice span",{startIndex:e,endIndex:t});const o=[];for(const{textSliceTree:a,textSliceStartIndex:i,textSliceEndIndex:s}of this.getTextSliceTreesInRange(e,t)){const{textSlice:l}=a;let c,u;c=e<i?{id:l.getStartItem().id,anchor:"after"}:n&&!r?{id:l.getItemIdBeforeIndex(e-i),anchor:"after"}:{id:l.getItemIdAtIndex(e-i),anchor:"before"},u=s<t?{id:l.getEndItem().id,anchor:"before"}:n||r?{id:l.getItemIdAfterIndex(t-i),anchor:"before"}:{id:l.getItemIdAtIndex(t-i),anchor:"after"},o.push({textSlice:l,start:c,end:u})}return o}applyAnnotationOperation(e){(0,c().o9)(this.findTextSliceContainingItemWithId(e.textInstanceId,e.start.id),i().Dp).applyAnnotationOperation({op:e})}splitAtIndex(e){(0,c().MX)(!1,"splitAtIndex is for testing only");const t=this.getOperationsForSplitAtIndex(e),r=t.type;switch(r){case"splitNodeEnd":{const{newTextSliceTree:e,textSliceTreesToMove:r}=t;e.detachFromParent();for(const t of r)t.detachFromParent(),e.appendChild(t);return e}case"splitWithinNode":{const{splitOp:e,textSliceTreesToMove:r}=t,n=this.applySplitOperation(e,!0);n.detachFromParent();for(const t of r)t.detachFromParent(),n.appendChild(t);return n}default:(0,n().HB)(r)}}getOperationsForSplitForMerge(){const{textSlice:e}=this;e.opClock.reserveTicks(20);const t=e.getStartItem();return{type:"splitWithinNode",splitOp:{type:"splitText",textInstanceId:e.textInstanceId,searchLabel:e.getSearchLabel(),id:[this.sessionId,e.opClock.reserveTicks(1)],originId:(0,c().Wg)(t.id,l().XD,i().qP)},textSliceTreeToSplit:this,textSliceTreesToMove:[]}}getOperationsForSplitAtIndex(e){const{textSliceTree:t,originId:r}=this.getTextSliceTreeAndOriginItemIdForInsertionIndex(e),{textSlice:n}=t;if(n.isLastOriginItemId(r)){const e=this.getNextTextSliceTree(t);if(e)return{type:"splitNodeEnd",previousTextSliceTree:t,newTextSliceTree:e,textSliceTreesToMove:this.getFollowingTopLevelTextSliceTrees(e)}}return{type:"splitWithinNode",splitOp:{type:"splitText",textInstanceId:n.textInstanceId,searchLabel:n.getSearchLabel(),id:[this.sessionId,n.opClock.reserveTicks(1)],originId:r},textSliceTreeToSplit:t,textSliceTreesToMove:this.getFollowingTopLevelTextSliceTrees(t)}}applySplitOperation(e,t){const r=(0,c().o9)(this.findTextSliceTreeContainingItemWithId(e.textInstanceId,e.originId),i().Dp);r.textSlice.applySplitTextOperation({op:e,originPresentInTextSlice:t});const n=r.textSlice.splitIntoSlices();(0,c().MX)(2===n.length,"Expected two text slices after split");const o=n[1],a=new d(this.sessionId,o);for(;r.children.length;){const e=r.children[0];e.detachFromParent(),a.appendChild(e)}return r.appendChild(a),a}getTextValue(){const e=[];for(const t of this.iterateTextSliceTrees())e.push(...t.textSlice.getTextValue());return a().__s(e)}getText(){return a().q4_(this.getTextValue())}detachFromParent(){var e;null===(e=this.parent)||void 0===e||e.removeChild(this)}getTextSlice(){return this.textSlice}replaceTextSlice(e){(0,c().MX)(e.textInstanceId===this.textSlice.textInstanceId,"Text instance ID mismatch"),this.textSlice=e}removeChild(e){const t=this.children.indexOf(e);return(0,c().MX)(-1!==t,"Child not found"),this.children.splice(t,1),e.parent=void 0,this}appendChild(e){if((0,c().nh)(e.parent,"Child must not have a parent before appending"),e.parent=this,this.children.push(e),e.hasCycle())throw e.detachFromParent(),new Error("Appending child resulted in a cycle");return this}hasCycle(){const e=new Set;let t=this;for(;t;){if(e.has(t))return!0;e.add(t),t=t.parent}return!1}getTextSliceTreeAndOriginItemIdForInsertionIndex(e,t=!1,r){let n,o;if(0===e){let e;for(const t of this.iterateTextSliceTrees())if(e=t,t.textSlice.getVisibleCount()>0)break;n=(0,c().o9)(e,"No text slice trees"),o=0}else{const t=(0,c().o9)(this.getTextSliceTreesInRange(e-1,e-1)[0],"No text slice trees including index");n=t.textSliceTree,o=e-t.textSliceStartIndex}const a=n.textSlice,{id:i}=a.getOriginItemForInsertionIndex(o),s=t?function(e,t){if(!t||"disabled"===t.mode)return e;switch(t.mode){case"absolute":return e.slice(0,t.max_length);case"relative":return e.slice(0,Math.min(t.fraction*e.length,t.max_length));default:return e}}(a.getPrevItemsForOriginId(i),r):void 0;return{textSliceTree:n,originId:i,prevItems:s}}getTextSliceTreeAndItemIdForIndex(e){const{textSliceTree:t,textSliceStartIndex:r}=(0,c().o9)(this.getTextSliceTreesInRange(e,e)[0],"No text slice trees including index"),n=e-r;return{textSliceTree:t,opId:t.textSlice.getItemIdAtIndex(n)}}findTextSliceContainingItemWithId(e,t,r){var n;return null===(n=this.findTextSliceTreeContainingItemWithId(e,t,r))||void 0===n?void 0:n.textSlice}findTextSliceTreeBeforeTextSliceStartingWithItemId(e,t){let r;for(const n of this.iterateTextSliceTrees()){const{textSlice:o}=n;if(o.textInstanceId===e&&o.getStartItem().startsWithId(t))return r;r=n}}findTextSliceTreeContainingItemWithId(e,t,r=u){for(const o of this.iterateTextSliceTrees(e))switch(r.type){case"contains":if(o.textSlice.containsItemWithId(t,r))return o;break;case"start":if(o.textSlice.getStartItem().startsWithId(t))return o;break;case"end":if(o.textSlice.getEndItem().endsWithId(t))return o;break;default:(0,n().HB)(r)}}getTextSliceTreesInRange(e,t){const r=[];(0,c().MX)(0<=e&&e<=t&&t<this.getVisibleCount(),"Invalid range to get text slice tree",{startIndex:e,endIndex:t});let n=-1;for(const o of this.iterateTextSliceTrees()){const{textSlice:a}=o;if(0===a.getVisibleCount())continue;const i=n+1,s=i+a.getVisibleCount()-1;if(s<e)n=s;else{if(t<i)break;r.push({textSliceTree:o,textSliceStartIndex:i,textSliceEndIndex:s}),n=s}}return r}getNextTextSliceTree(e){let t;for(const r of this.iterateTextSliceTrees()){if(t===e)return r;t=r}}getFollowingTopLevelTextSliceTrees(e){const t=[this];for(;t.length;){const r=(0,c().o9)(t.shift(),"missing tree after shift");if(r===e)return[...t];t.unshift(...r.children)}return[]}getLastTextSliceTreeInPreOrderTraversal(){let e=this;for(const t of this.iterateTextSliceTrees())e=t;return e}getVisibleCount(){let e=0;for(const t of this.iterateTextSliceTrees())e+=t.textSlice.getVisibleCount();return e}*iterateTextSliceTrees(e){const t=[this];for(;t.length>0;){const r=t.pop();e&&r.textSlice.textInstanceId!==e||(yield r);for(let e=r.children.length-1;e>=0;e--)t.push(r.children[e])}}equals(e){if(void 0===e)return!1;if(this===e)return!0;const t=[...this.iterateTextSliceTrees()],r=[...e.iterateTextSliceTrees()];if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++){const e=t[n],o=r[n];if(!e.textSlice.equals(o.textSlice))return!1;const a=e.children,i=o.children;if(a.length!==i.length)return!1;for(let t=0;t<a.length;t++){const e=a[t],r=i[t];if(e.textSlice.getSliceKey()!==r.textSlice.getSliceKey())return!1}}return!0}getTextInstanceIds(){const e=new Set;for(const t of this.iterateTextSliceTrees())e.add(t.textSlice.textInstanceId);return e}static createEmpty(e=(0,s().Fl)((()=>r(206267))().JW(),"title"),t=(0,(()=>r(793909))().b)(),n=(()=>r(426234))().DI){return new d(t,l().Ay.createEmpty({textInstanceId:e,searchLabel:n}))}}function p(e,t){const r=[];let n=-1;for(const{startIndex:o,endIndex:a}of e)o>n+1&&r.push({startIndex:n+1,endIndex:o-1}),n=a;return t>=n+1&&r.push({startIndex:n+1,endIndex:t}),r}},855826:(e,t,r)=>{r.d(t,{PE:()=>a});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(803949),r(581454);var n=()=>r(797809),o=()=>r(201980);function a(e){const{before:t,after:r,schema:a}=e;return function(e){const{before:t,after:r,schema:a}=e,i=[],s=a?Object.keys(a):n().vn;return s.forEach((e=>{(0,o().dze)(t&&t[e],r&&r[e])&&i.push(e)})),i}({before:null==t?void 0:t.properties,after:null==r?void 0:r.properties,schema:a})}},860620:(e,t,r)=>{r.d(t,{A:()=>a,K:()=>o});var n=()=>r(292588);const o="slack_notification",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,sent:n().A.Boolean}}},861170:(e,t,r)=>{r.d(t,{Bi:()=>o,DK:()=>n,wb:()=>a});const n=(0,r(69708).YK)({notes:{defaultMessage:"Notes",id:"transcriptionBlock.tab.notes"},transcript:{defaultMessage:"Transcript",id:"transcriptionBlock.tab.transcript"},summary:{defaultMessage:"Summary",id:"transcriptionBlock.tab.summary"}});function o(e){var t,r,n;if("transcription"!==e.type)return[];return[{type:"summary",id:null===(t=e.format)||void 0===t?void 0:t.transcription_summary_id},{type:"notes",id:null===(r=e.format)||void 0===r?void 0:r.transcription_notes_id},{type:"transcript",id:null===(n=e.format)||void 0===n?void 0:n.transcription_transcript_id}]}function a(e){const{transcriptionBlockFormat:t,tabBlockId:r}=e;switch(r){case t.transcription_transcript_id:return n.transcript;case t.transcription_notes_id:return n.notes;case t.transcription_summary_id:return n.summary}}},862e3:(e,t,r)=>{r.d(t,{$:()=>a});var n=()=>r(67657),o=()=>r(708685);function a(e){const t=(0,o().getFormulaPropertySchemaResultType)(e);return"formula"===e.type?"date"===t:"rollup"===e.type?Boolean(e.relation_property&&e.target_property&&e.aggregation&&"date"===(0,n().ou)((0,n().ZP)(e.aggregation))):"date"===e.type||"created_time"===e.type||"last_edited_time"===e.type}},862387:(e,t,r)=>{r.d(t,{Ub:()=>l,eE:()=>s,jh:()=>i,vd:()=>a});var n=()=>r(534177),o=()=>r(144081);function a(e,t){for(const r of o().Hj)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o)){if(!(0,n().zR)(e,"view_tab_"))continue;const a=o[e];if(a)for(let n=0;n<a.length;n++){t(a[n],{area:r,viewId:e,index:n})}}}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;const o=Object.values(n);for(let e=0;e<o.length;e++){const n=o[e];t(n,{area:r,moduleId:n.id})}}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}else{const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}}function i(e,t){for(const r of o().E4)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o)){if(!(0,n().zR)(e,"view_tab_"))continue;const a=o[e];if(a)for(let n=0;n<a.length;n++){t(a[n],{area:r,viewId:e,index:n})}}}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;const o=Object.values(n);for(let e=0;e<o.length;e++){const n=o[e];t(n,{area:r,moduleId:n.id})}}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}else{const n=e[r];if(!n)continue;for(let e=0;e<n.length;e++){t(n[e],{area:r,index:e})}}}function s(e,t){for(const r of o().E4)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o))(0,n().zR)(e,"view_tab_")&&t(o[e],{area:r,viewId:e})}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;t(n,{area:r})}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;t(Object.values(n),{area:r})}else{const n=e[r];if(!n)continue;t(n,{area:r})}}function l(e,t){for(const r of o().Hj)if("views_main_tab_modules"===r){const o=e[r];if(!o)continue;for(const e of Object.keys(o))(0,n().zR)(e,"view_tab_")&&t(o[e],{area:r,viewId:e})}else if("form_conditional_modules"===r){const n=e[r];if(!n)continue;t(Object.values(n),{area:r})}else if("dashboard_layout_schema"===r){const n=e[r];if(!n)continue;t(n,{area:r})}else{const n=e[r];if(!n)continue;t(n,{area:r})}}},863654:(e,t,r)=>{r.d(t,{Tk:()=>n,dK:()=>o});const n={gray:{0:"rgba(255, 255, 255, 1)",10:"rgba(249, 248, 247, 1)",20:"rgba(240, 239, 237, 1)",30:"rgba(230, 229, 227, 1)",40:"rgba(212, 211, 207, 1)",50:"rgba(188, 186, 182, 1)",60:"rgba(168, 164, 156, 1)",70:"rgba(152, 149, 144, 1)",80:"rgba(142, 139, 134, 1)",90:"rgba(134, 131, 126, 1)",100:"rgba(95, 94, 89, 1)",110:"rgba(73, 72, 70, 1)",120:"rgba(48, 48, 46, 1)",130:"rgba(44, 44, 43, 1)",140:"rgba(32, 32, 32, 1)",150:"rgba(25, 25, 25, 1)"},red:{0:"rgba(255, 255, 255, 1)",10:"rgba(253, 246, 246, 1)",20:"rgba(252, 233, 231, 1)",30:"rgba(247, 217, 213, 1)",40:"rgba(240, 197, 190, 1)",50:"rgba(224, 174, 166, 1)",60:"rgba(208, 152, 141, 1)",70:"rgba(233, 115, 102, 1)",80:"rgba(229, 100, 88, 1)",90:"rgba(207, 81, 72, 1)",100:"rgba(146, 73, 67, 1)",110:"rgba(109, 53, 49, 1)",120:"rgba(80, 44, 41, 1)",130:"rgba(65, 39, 37, 1)",140:"rgba(36, 29, 29, 1)",150:"rgba(28, 25, 24, 1)"},orange:{0:"rgba(255, 255, 255, 1)",10:"rgba(252, 247, 244, 1)",20:"rgba(251, 235, 222, 1)",30:"rgba(243, 221, 203, 1)",40:"rgba(234, 204, 178, 1)",50:"rgba(218, 183, 152, 1)",60:"rgba(203, 162, 125, 1)",70:"rgba(222, 146, 85, 1)",80:"rgba(213, 128, 59, 1)",90:"rgba(210, 123, 45, 1)",100:"rgba(136, 82, 47, 1)",110:"rgba(106, 66, 34, 1)",120:"rgba(83, 54, 31, 1)",130:"rgba(61, 42, 29, 1)",140:"rgba(35, 30, 27, 1)",150:"rgba(27, 25, 23, 1)"},yellow:{0:"rgba(255, 255, 255, 1)",10:"rgba(252, 250, 239, 1)",20:"rgba(249, 243, 220, 1)",30:"rgba(242, 227, 183, 1)",40:"rgba(232, 212, 151, 1)",50:"rgba(226, 202, 136, 1)",60:"rgba(216, 194, 131, 1)",70:"rgba(234, 194, 107, 1)",80:"rgba(216, 163, 47, 1)",90:"rgba(203, 148, 52, 1)",100:"rgba(131, 100, 38, 1)",110:"rgba(101, 81, 33, 1)",120:"rgba(80, 68, 37, 1)",130:"rgba(55, 51, 37, 1)",140:"rgba(35, 34, 26, 1)",150:"rgba(27, 27, 22, 1)"},green:{0:"rgba(255, 255, 255, 1)",10:"rgba(246, 249, 247, 1)",20:"rgba(232, 241, 236, 1)",30:"rgba(215, 230, 221, 1)",40:"rgba(190, 217, 201, 1)",50:"rgba(166, 199, 180, 1)",60:"rgba(139, 183, 157, 1)",70:"rgba(114, 188, 143, 1)",80:"rgba(70, 161, 113, 1)",90:"rgba(80, 148, 110, 1)",100:"rgba(55, 103, 76, 1)",110:"rgba(42, 83, 60, 1)",120:"rgba(38, 61, 48, 1)",130:"rgba(36, 52, 43, 1)",140:"rgba(27, 33, 29, 1)",150:"rgba(23, 27, 23, 1)"},teal:{0:"rgba(255, 255, 255, 1)",10:"rgba(243, 250, 251, 1)",20:"rgba(224, 243, 247, 1)",30:"rgba(202, 233, 240, 1)",40:"rgba(176, 219, 228, 1)",50:"rgba(153, 200, 211, 1)",60:"rgba(126, 182, 194, 1)",70:"rgba(79, 185, 201, 1)",80:"rgba(55, 164, 180, 1)",90:"rgba(44, 139, 158, 1)",100:"rgba(34, 100, 113, 1)",110:"rgba(24, 80, 91, 1)",120:"rgba(20, 61, 69, 1)",130:"rgba(25, 52, 57, 1)",140:"rgba(23, 33, 36, 1)",150:"rgba(20, 26, 28, 1)"},blue:{0:"rgba(255, 255, 255, 1)",10:"rgba(243, 249, 253, 1)",20:"rgba(229, 242, 252, 1)",30:"rgba(206, 227, 247, 1)",40:"rgba(182, 212, 243, 1)",50:"rgba(157, 192, 234, 1)",60:"rgba(131, 171, 225, 1)",70:"rgba(94, 159, 232, 1)",80:"rgba(39, 131, 222, 1)",90:"rgba(56, 125, 201, 1)",100:"rgba(53, 95, 139, 1)",110:"rgba(38, 74, 114, 1)",120:"rgba(35, 56, 80, 1)",130:"rgba(33, 48, 65, 1)",140:"rgba(26, 32, 39, 1)",150:"rgba(23, 26, 29, 1)"},purple:{0:"rgba(255, 255, 255, 1)",10:"rgba(250, 247, 252, 1)",20:"rgba(243, 235, 249, 1)",30:"rgba(232, 219, 242, 1)",40:"rgba(219, 200, 232, 1)",50:"rgba(199, 179, 213, 1)",60:"rgba(180, 156, 198, 1)",70:"rgba(191, 142, 218, 1)",80:"rgba(181, 119, 214, 1)",90:"rgba(154, 107, 180, 1)",100:"rgba(103, 77, 123, 1)",110:"rgba(85, 59, 105, 1)",120:"rgba(60, 45, 71, 1)",130:"rgba(54, 41, 63, 1)",140:"rgba(34, 29, 37, 1)",150:"rgba(27, 24, 29, 1)"},pink:{0:"rgba(255, 255, 255, 1)",10:"rgba(252, 247, 249, 1)",20:"rgba(250, 233, 241, 1)",30:"rgba(244, 216, 228, 1)",40:"rgba(234, 196, 213, 1)",50:"rgba(216, 175, 193, 1)",60:"rgba(200, 151, 173, 1)",70:"rgba(223, 132, 168, 1)",80:"rgba(219, 105, 153, 1)",90:"rgba(193, 76, 138, 1)",100:"rgba(123, 71, 96, 1)",110:"rgba(104, 53, 78, 1)",120:"rgba(78, 43, 60, 1)",130:"rgba(63, 38, 49, 1)",140:"rgba(38, 28, 32, 1)",150:"rgba(29, 23, 26, 1)"},brown:{0:"rgba(255, 255, 255, 1)",10:"rgba(250, 248, 246, 1)",20:"rgba(245, 237, 233, 1)",30:"rgba(235, 223, 215, 1)",40:"rgba(224, 205, 192, 1)",50:"rgba(207, 184, 168, 1)",60:"rgba(188, 162, 144, 1)",70:"rgba(189, 149, 118, 1)",80:"rgba(182, 137, 101, 1)",90:"rgba(159, 118, 90, 1)",100:"rgba(109, 83, 64, 1)",110:"rgba(88, 68, 55, 1)",120:"rgba(69, 54, 45, 1)",130:"rgba(56, 45, 38, 1)",140:"rgba(37, 32, 29, 1)",150:"rgba(28, 24, 22, 1)"}},o=["gray","red","orange","yellow","green","teal","blue","purple","pink","brown"]},865377:(e,t,r)=>{r.d(t,{Ay:()=>i,VY:()=>a,sS:()=>o});var n=()=>r(292588);const o={block:!0},a="slack_integration",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,team_name:n().A.String,channel:n().A.String,channel_id:n().A.String,configuration_url:n().A.String,webhook_url:n().A.String,enabled:n().A.Boolean,parent_id:n().A.UUID,parent_table:n().A.String,channel_locale:n().A.String},model:(0,r(152853).P)({RecordStore:!0})}},867178:(e,t,r)=>{r.d(t,{Ay:()=>a,wI:()=>o});var n=()=>r(292588);const o="token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,timestamp:n().A.Number,revoked:n().A.Boolean,user_ids:n().A.UUIDArray,auth_types:n().A.JSON,admin_user_id:n().A.UUID,expiration_settings:n().A.JSON,refresh_time:n().A.Number,versions:n().A.NumberArray,saml_auth_info:n().A.JSON},model:(0,r(152853).P)({})}},868935:(e,t,r)=>{r.d(t,{A:()=>a,B:()=>o});var n=()=>r(292588);const o="used_credit",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,amount:n().A.Number}}},869190:(e,t,r)=>{r.d(t,{PS:()=>g,W_:()=>T,Yq:()=>m,ZF:()=>c,a3:()=>b,aD:()=>w,eV:()=>x,fU:()=>f,jE:()=>C,qV:()=>M,rj:()=>I,sH:()=>y,up:()=>v,v9:()=>B,vP:()=>S,wh:()=>u,zI:()=>A,zV:()=>d});r(581454);var n=()=>r(906745),o=()=>r(209199),a=()=>r(534177),i=()=>r(416504),s=()=>r(597777),l=()=>r(604995);function c(e){return d({...e,formatValuesFn:e=>{const{endDate:t,endTime:r,startDate:n}=e;return(0,a().O9)(r)?`${n} ${(0,o().A1)()?"":""} ${r}`:(0,a().O9)(t)?`${n} ${(0,o().A1)()?"":""} ${t}`:n}})}function u(e,t){const{start:r,end:n}=l().AA(e,t);return(0,a().O9)(n)?`${r.toISO()}  ${n.toISO()}`:r.toISO()}function d(e){const{value:t,shortenDateAndRange:r,allowRelativeDates:o,date_format:a,time_format:c,intl:u,alwaysIncludeTimezone:d,formatValuesFn:m,getToday:f}=e,{locale:y}=u,v=e.userTimeZone&&function(e){if(e in p)return p[e];try{Intl.DateTimeFormat(void 0,{timeZone:e})}catch(t){return p[e]=!1,!1}return p[e]=!0,!0}(e.userTimeZone)?e.userTimeZone:(0,i().P)(),b=l().AA(t,v,y),h=Boolean(r),A=a??s().vz,I="date"===t.type||"daterange"===t.type,k=!I&&e.displayInUserTimezone,x=k?b.start.setZone(v):b.start,S=b.end&&k?b.end.setZone(v):b.end,T=x.toLocaleString(n().c9.DATE_SHORT).startsWith(String(x.year)),M=_({date:x,dateFormat:A,timeFormat:c,shortenDate:h,allowRelativeDates:o,userTimeZone:v,intl:u,hasRangeDate:T?void 0:S,excludeTime:I,alwaysIncludeTimezone:d,getToday:f});if(S){if("datetimerange"===t.type&&x.startOf("day").equals(S.startOf("day"))){return m({endTime:g({dateTime:S,timeFormat:c,humanReadable:!1}),startDate:M})}return m({endDate:_({date:S,dateFormat:A,timeFormat:c,shortenDate:h,allowRelativeDates:o,userTimeZone:v,intl:u,hasRangeDate:T?x:void 0,excludeTime:I,alwaysIncludeTimezone:d,getToday:f}),startDate:M})}return m({startDate:M})}const p={};function m(e){const{date:t,dateFormat:r,allowRelativeDates:o,shortenDate:a,hasRangeDate:i,intl:c,getToday:u}=e;return o&&"relative"===r?function(e){const{date:t,intl:r,shortenDate:n}=e,o=e.getToday??l().ah,a=o(t.zone),i=Math.round(t.startOf("day").diff(a,"days").get("days"));if(0===i)return r.formatMessage({defaultMessage:"Today",id:"dateFormatHelpers.text.today"});if(1===i)return r.formatMessage({defaultMessage:"Tomorrow",id:"dateFormatHelpers.text.tomorrow"});if(-1===i)return r.formatMessage({defaultMessage:"Yesterday",id:"dateFormatHelpers.text.yesterday"});const s=t.toLocaleString({weekday:n?"short":"long"}),c=function(e,t){const r=e.startOf("day"),n=t.startOf("day"),[o,a]=r<=n?[r,n]:[n,r];let i=0,s=o;for(;s<a;){if(7===s.weekday&&(i++,i>1))return!1;s=s.plus({days:1})}return 1===i}(a,t);if(c)return i>0?r.formatMessage({defaultMessage:"Next {dayOfTheWeek}",id:"dateFormatHelpers.text.nextDayOfTheWeek"},{dayOfTheWeek:s}):r.formatMessage({defaultMessage:"Last {dayOfTheWeek}",id:"dateFormatHelpers.text.lastDayOfTheWeek"},{dayOfTheWeek:s});if(a.weekNumber===t.weekNumber&&a.year===t.year)return s;const u=n&&t.year===a.year,d=x({value:t,preset:n?"medium":"long",options:u?{year:void 0}:void 0});if(n&&t.year===a.year)return d.replace(new RegExp(`, ${t.year}$`),"");return d}({date:t,intl:c,getToday:u,shortenDate:a}):function(e){const{date:t,dateFormat:r,shortenDate:o,hasRangeDate:a}=e,i=function(e){const t="relative"===e.dateFormat||"MMM DD, YYYY"===e.dateFormat?s().vz:e.dateFormat;return s().c1(t)}({dateFormat:r});if("DDD"===i){const e=o&&(!a&&t.year===n().c9.now().year||t.year===(null==a?void 0:a.year));return t.toLocaleString({year:e?void 0:"numeric",month:o?"short":"long",day:"numeric"})}return t.toFormat(i)}({date:t,dateFormat:r,shortenDate:a,hasRangeDate:i})}function f(e){const{time_format:t}=e,r=Boolean(e.humanReadable);return g({dateTime:n().c9.fromFormat(e.start_time,s().GE).setLocale(e.intl.locale),timeFormat:t,humanReadable:r})}function g(e){const{dateTime:t,humanReadable:r,timeFormat:o}=e;if(r&&"h:mm A"===o){return t.toLocaleString(n().c9.TIME_SIMPLE).replace(" ","").toLowerCase()}if(o){const e=s().B4(o);return t.toFormat(e)}return t.toLocaleString(n().c9.TIME_SIMPLE)}function y(e){const{time_format:t,intl:r,start_time:o,end_time:a,humanReadable:i}=e;let l=n().c9.fromFormat(o,s().GE).setLocale(r.locale).toFormat(s().B4(t)),c=n().c9.fromFormat(a,s().GE).setLocale(r.locale).toFormat(s().B4(t));return i&&"h:mm A"===t&&((l.includes("AM")&&c.includes("AM")||l.includes("PM")&&c.includes("PM"))&&(l=l.replace("AM","").replace("PM","")),l.includes(":00")&&c.includes(":00")&&(l=l.replace(":00",""),c=c.replace(":00","")),l=l.replace(" ","").toLowerCase(),c=c.replace(" ","").toLowerCase()),[l,c].join("-")}function _(e){const{date:t,dateFormat:r,timeFormat:n,userTimeZone:o,excludeTime:a,alwaysIncludeTimezone:i}=e;if(!t.isValid)return"";const s=m(e);if(a)return s;const c=[s,g({dateTime:t,timeFormat:n,humanReadable:"relative"===r})].join(" "),u=t.setZone(o);if(i||t.toFormat(l().k8)!==u.toFormat(l().k8)){return`${c} (${t.toFormat("ZZZZ")})`}return c}function v(e,t){const r=e.years;if(r&&r>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} year} other {{number} years}}",id:"dateFormatHelpers.formatDuration.years"},{number:h(r)});const n=e.months||e.month;if(n&&n>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} month} other {{number} months}}",id:"dateFormatHelpers.formatDuration.months"},{number:h(n)});const o=e.days||e.day;if(o&&o>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} day} other {{number} days}}",id:"dateFormatHelpers.formatDuration.days"},{number:Math.round(o)});const a=e.hours||e.hour;if(a&&a>=1)return t.formatMessage({defaultMessage:"{number, plural, one {{number} hour} other {{number} hours}}",id:"dateFormatHelpers.formatDuration.hours"},{number:Math.round(a)});const i=e.minutes||e.minute||0;return t.formatMessage({defaultMessage:"{number, plural, one {{number} minute} other {{number} minutes}}",id:"dateFormatHelpers.formatDuration.minutes"},{number:Math.round(i)})}function b(e,t,r){const n=l().AA(e,t);if(l().ak(n)){const e=n.end.diff(n.start),t=e.as("year");if(t>=1)return v({years:h(t)},r);const o=e.as("months");if(o>=1)return v({months:h(o)},r);const a=e.as("days");if(a>=1)return v({days:Math.round(a)},r);const i=e.as("hours");if(i>=1)return v({hours:Math.round(i)},r);const s=e.as("minutes");return v({minutes:Math.round(s)},r)}return""}function h(e){return Math.round(10*e)/10}function A(e,t){return(1===e?[1,2,3,4,5,6,7]:[7,1,2,3,4,5,6]).map((e=>[e,n().c9.fromObject({weekday:e}).setLocale(t).toLocaleString({weekday:"short"})]))}function I(e){return[1,2,3,4,5].map((t=>[t,n().c9.fromObject({weekday:t}).setLocale(e).toLocaleString({weekday:"short"})]))}const k={very_short:{year:"2-digit",month:"numeric",day:"numeric"},short:n().c9.DATE_SHORT,short2:{year:"numeric",month:"2-digit",day:"2-digit"},medium:n().c9.DATE_MED,medium_with_time:n().c9.DATETIME_MED,medium_with_seconds:{...n().c9.DATETIME_MED,second:"numeric"},long:n().c9.DATE_FULL,day:{day:"numeric"},month_long:{month:"long"},month_short:{month:"short"},month_day:{day:"numeric",month:"short"},month_day_time:{day:"numeric",month:"short",hour:"numeric",minute:"numeric"},month_day_long:{day:"numeric",month:"long"},month_year_long:{month:"long",year:"numeric"},month_year_short:{month:"short",year:"numeric"},year:{year:"numeric"},time:{hour:"numeric",minute:"numeric"},time_with_seconds:n().c9.TIME_WITH_SECONDS};function x({value:e,preset:t,locale:r,options:n}){return(r?e.setLocale(r):e).toLocaleString({...k[t],...n})}function S(e,t){return"YYYY-MM-DD"===t?e.toISODate():e.toFormat(s().c1(t))}function T(e,t,r,o){return x({value:n().c9.fromMillis(e,{locale:r,zone:o}),preset:t})}function M(e){return n().c9.fromMillis(e).toUTC().toISO({format:"extended"})}function w(e,t=!1){return(t?n().c9.fromMillis(e).toUTC():n().c9.fromMillis(e)).toISODate({format:"extended"})}function B(e,t){return n().c9.fromMillis(e,{locale:t}).toRelative()??""}function C(e,t,r,o,a){const i=n().c9.now().startOf("day"),s=n().c9.fromMillis(e,{locale:t}),l=Math.round(s.startOf("day").diff(i,"days").as("days")),c=s.toLocaleString(n().c9.TIME_SIMPLE),u=a||"medium_with_time";if(o){if(0===l)return r.formatMessage({defaultMessage:"Today {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.todayDelimiter"},{delimiter:o,time:c});if(-1===l)return r.formatMessage({defaultMessage:"Yesterday {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.yesterdayDelimiter"},{delimiter:o,time:c});const e=x({value:s,preset:u});return r.formatMessage({defaultMessage:"{formattedDate} {delimiter} {time}",id:"dateFormatHelpers.formatMillisToCalendar.customDelimiter"},{formattedDate:e,delimiter:o,time:c})}return 0===l?r.formatMessage({defaultMessage:"Today at {time}",id:"dateFormatHelpers.formatMillisToCalendar.todayAt"},{time:c}):-1===l?r.formatMessage({defaultMessage:"Yesterday at {time}",id:"dateFormatHelpers.formatMillisToCalendar.yesterdayAt"},{time:c}):x({value:s,preset:u})}},869558:(e,t,r)=>{r.d(t,{Ay:()=>i,Gy:()=>a,pg:()=>o});var n=()=>r(292588);const o={block:!0,layout:!0},a="collection_view",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,type:n().A.String,name:n().A.String,page_sort:n().A.UUIDArray,parent_id:n().A.UUID,parent_table:n().A.String,alive:n().A.Boolean,format:n().A.JSON,query2:n().A.JSON,space_id:n().A.UUID,created_time:n().A.Number,created_by_table:n().A.String,created_by_id:n().A.UUID,last_edited_time:n().A.Number,last_edited_by_table:n().A.String,last_edited_by_id:n().A.UUID},requiredColumns:{parent_id:!0,parent_table:!0,alive:!0,type:!0},defaultColumnValues:{alive:!1},model:(0,r(152853).P)({RecordStore:!0,properties:{query2:{getMethod:"getRawQuery",getKeyStoreMethod:"getQueryStore"},format:{defaultOnRead:{}}}})}},873005:(e,t,r)=>{r.d(t,{Ay:()=>s,ON:()=>a,T2:()=>i});var n=()=>r(206267),o=()=>r(292588);function a(e){const{user_id:t,token:r}=e;return n().gB([t,r].join(""))}const i="firebase_token",s={table:i,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,token:o().A.String,user_id:o().A.UUID,invalid:o().A.Boolean}}},873317:(e,t,r)=>{function n(e,t){const{lowerCaseFirstLetter:r=!0}=t??{};let n=e.replace(/\s+/g,"").replace(/[^a-zA-Z0-9]/g,"");return r&&(n=n.replace(/^(.)/,(e=>e.toLowerCase()))),""===n&&(n="untitled"),r&&/^[^a-z]/.test(n)&&(n=`_${n}`),n}r.d(t,{L:()=>n})},874852:(e,t,r)=>{r.d(t,{Ay:()=>i,b8:()=>o,ou:()=>a});var n=()=>r(292588);const o={block:!0};const a="page_exit",i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_table:n().A.String,parent_id:n().A.UUID,user_id:n().A.UUID,exited_at:n().A.Number,space_id:n().A.UUID},requiredColumns:{parent_table:!0,parent_id:!0,user_id:!0,exited_at:!0},model:(0,r(152853).P)({RecordStore:!0})}},885316:(e,t,r)=>{r.d(t,{A:()=>a,s:()=>o});var n=()=>r(292588);const o="server_integrations__slack_enterprise",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_at:n().A.Number,updated_at:n().A.Number}}},887175:(e,t,r)=>{r.d(t,{A:()=>a,v:()=>o});var n=()=>r(292588);const o="organization_request",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,organization_id:n().A.UUID,space_id:n().A.UUID,type:n().A.String,status:n().A.String,previous_request_id:n().A.UUID,properties:n().A.JSON,requested_by_id:n().A.UUID,requested_by_table:n().A.String,created_time:n().A.Number},requiredColumns:{id:!0,version:!0,organization_id:!0,type:!0,status:!0,requested_by_id:!0,requested_by_table:!0,created_time:!0},model:(0,r(152853).P)({RecordStore:!0})}},892073:(e,t,r)=>{r.d(t,{i:()=>S,l:()=>x});r(944114);var n=()=>r(91913),o=()=>r(908948),a=()=>r(274147),i=()=>r(398966),s=()=>r(426234),l=()=>r(933449),c=()=>r(534177),u=()=>r(425877),d=(r(581454),()=>r(980090));const p={before:"b",after:"a",addAnnotation:"a",removeAnnotation:"r",id:"i",anchor:"a",type:"t",textInstanceId:"x",searchLabel:"l",start:"s",end:"e",annotation:"a",annotationKey:"k"};function m(e){return"before"===e?p.before:"after"===e?p.after:(0,c().HB)(e)}function f(e){return e===p.before?"before":e===p.after?"after":(0,c().HB)(e)}function g(e){switch(e.type){case"addAnnotation":return function(e){return{[p.type]:p.addAnnotation,[p.textInstanceId]:e.textInstanceId,[p.searchLabel]:e.searchLabel,[p.id]:e.id,[p.start]:{[p.id]:e.start.id,[p.anchor]:m(e.start.anchor)},[p.end]:{[p.id]:e.end.id,[p.anchor]:m(e.end.anchor)},[p.annotation]:e.annotation}}(e);case"removeAnnotation":return function(e){return{[p.type]:p.removeAnnotation,[p.textInstanceId]:e.textInstanceId,[p.searchLabel]:e.searchLabel,[p.id]:e.id,[p.start]:{[p.id]:e.start.id,[p.anchor]:m(e.start.anchor)},[p.end]:{[p.id]:e.end.id,[p.anchor]:m(e.end.anchor)},[p.annotationKey]:e.annotationKey}}(e)}}function y(e){switch(e.t){case p.addAnnotation:return function(e){return{type:"addAnnotation",textInstanceId:e[p.textInstanceId],searchLabel:s().i_(e[p.searchLabel]),id:e[p.id],start:{id:e[p.start][p.id],anchor:f(e[p.start][p.anchor])},end:{id:e[p.end][p.id],anchor:f(e[p.end][p.anchor])},annotation:e[p.annotation]}}(e);case p.removeAnnotation:return function(e){return{type:"removeAnnotation",textInstanceId:e[p.textInstanceId],searchLabel:s().i_(e[p.searchLabel]),id:e[p.id],start:{id:e[p.start][p.id],anchor:f(e[p.start][p.anchor])},end:{id:e[p.end][p.id],anchor:f(e[p.end][p.anchor])},annotationKey:e[p.annotationKey]}}(e)}}function _(e){return e.getOps().map(g)}function v(e){return new(d().A)(e.map(y))}const b={type:"t",id:"i",originId:"o",length:"l",content:"c",annotationOpsBefore:"b",annotationOpsAfter:"a"},h={start:"s",end:"e",text:"t",split:"p"};function A(e){let t;e instanceof u().mc?t={[b.type]:h.start}:e instanceof u().fn?t={[b.type]:h.end}:e instanceof u().of?t=function(e){return{[b.type]:h.split,[b.id]:e.id,[b.originId]:e.originId}}(e):e instanceof u().pC?t=function(e){return{[b.type]:h.text,[b.id]:e.id,[b.originId]:e.originId,[b.length]:e.isDeleted()?-e.getLength():e.getLength(),[b.content]:e.isDeleted()?void 0:e.getDefinedContent()}}(e):(0,c().HB)(e);const r=e.getAnnotationOpSetForAnchor("before");r&&(t[b.annotationOpsBefore]=_(r));const n=e.getAnnotationOpSetForAnchor("after");return n&&(t[b.annotationOpsAfter]=_(n)),t}function I(e){let t,r=0;switch(e.t){case h.start:t=new(u().mc);break;case h.end:t=new(u().fn);break;case h.split:const n=function(e){return new(u().of)(e[b.id],e[b.originId])}(e);t=n,r=Math.max("string"==typeof n.originId?0:n.originId[1],n.id[1]);break;case h.text:const o=function(e){return e[b.length]<0?u().pC.createDeleted(e[b.id],e[b.originId],-e[b.length]):u().pC.create(e[b.id],e[b.originId],(0,l().o9)(e[b.content],"Content not found for serialized text item"))}(e);t=o,r=Math.max("string"==typeof o.originId?0:o.originId[1],o.getEndId()[1]);break;default:(0,c().HB)(e)}const n=e[b.annotationOpsBefore];if(n){t.maybeCreateAnnotationOpSetForAnchor("before",{opSet:v(n),deserializationSkipCloning:!0});for(const e of n){const t=e[p.start][p.id],n=e[p.end][p.id];r=Math.max(r,e[p.id][1],"string"==typeof t?0:t[1],"string"==typeof n?0:n[1])}}const o=e[b.annotationOpsAfter];if(o){t.maybeCreateAnnotationOpSetForAnchor("after",{opSet:v(o),deserializationSkipCloning:!0});for(const e of o){const t=e[p.start][p.id],n=e[p.end][p.id];r=Math.max(r,e[p.id][1],"string"==typeof t?0:t[1],"string"==typeof n?0:n[1])}}return{item:t,maxTimestamp:r}}const k={textInstanceId:"x",items:"i",searchLabel:"l"};function x(e){const t=[];for(const r of e.iterateItems({includeDeleted:!0,includeEndItem:!0}))t.push(A(r));return{[k.textInstanceId]:e.textInstanceId,[k.items]:t,[k.searchLabel]:e.getSearchLabel()}}function S(e,t){const r=[];let c=0;for(const n of e.i){const{item:e,maxTimestamp:t}=I(n);r.push(e),c=Math.max(c,t)}o().RT(r);const u=(0,l().Wg)(r[0],i().c$,n().JW);return t.set(Math.max(t.get(),c)),new(i().Ay)(e.x,new(a().A)(t),u,s().i_(e.l))}},895180:(e,t,r)=>{r.d(t,{A:()=>a,S:()=>o});var n=()=>r(292588);const o="microsoft_oauth",a={table:o,columnTypes:{id:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number,notion_user_id:n().A.UUID,microsoft_user_tid_oid:n().A.String,access_token:n().A.String,refresh_token:n().A.String},requiredColumns:{id:!0,version:!0,created_time:!0,updated_time:!0,microsoft_user_tid_oid:!0},model:(0,r(152853).P)({RecordStore:!1})}},898244:(e,t,r)=>{r.d(t,{Ho:()=>Be,Sh:()=>b,Hm:()=>De,rb:()=>N,rn:()=>we,Ky:()=>ie,mF:()=>C,D:()=>v,om:()=>se,YE:()=>le,RM:()=>ce,og:()=>Ue,QP:()=>w,ZO:()=>Ae,ao:()=>ke,Dp:()=>Ie,Q8:()=>xe,v2:()=>F,nP:()=>Re,Zd:()=>_,zO:()=>h,Nv:()=>A,mh:()=>I,ol:()=>Te,wz:()=>ye,$M:()=>ae,nu:()=>Y,pq:()=>T,UU:()=>V,CH:()=>k,o2:()=>x,bB:()=>pe,hN:()=>O,cP:()=>Pe,lb:()=>H,cC:()=>Ce,F_:()=>ne,Ou:()=>$,st:()=>Z,z3:()=>U,sS:()=>J,DQ:()=>te,us:()=>ee,iB:()=>q,qD:()=>ue,sO:()=>ge,nC:()=>E,bT:()=>L,lx:()=>z,P8:()=>j,DD:()=>G,YW:()=>fe,UH:()=>de,NM:()=>Ne,rd:()=>S,G2:()=>M,rK:()=>be,M1:()=>W,WF:()=>he,dA:()=>_e,Pl:()=>P,vB:()=>Q,Z8:()=>y,cN:()=>R});r(944114),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(898992),r(354520),r(672577),r(430670),r(803949),r(581454);var n=()=>r(100622),o=()=>r(496603),a=()=>r(183558),i=()=>r(534177),s=()=>r(720665),l=()=>r(148307),c=()=>r(443239),u=()=>r(254947);r(16280);function d(e){if("conditional"===e.type)return{type:e.type,condition:d(e.condition),true:d(e.true),false:d(e.false),result_type:e.result_type};if("constant"===e.type)return{type:e.type,value:e.value,value_type:e.value_type,result_type:e.result_type};if("function"===e.type){const t=e.args||[];return{type:e.type,name:e.name,args:t.map(d),result_type:e.result_type}}if("operator"===e.type){const t=e.args||[];return{type:e.type,operator:e.operator,name:e.name,args:t.map(d),result_type:e.result_type}}if("symbol"===e.type)return{type:e.type,name:e.name,result_type:e.result_type};if("property"===e.type)return{type:e.type,id:e.id,name:e.name,result_type:e.result_type};if("error"===e.type)return{type:e.type,message:e.message,result_type:e.result_type,size:e.size};throw new Error("Invalid formula type.")}var p=()=>r(206267),m=()=>r(792071),f=()=>r(519831),g=()=>r(161479);function y(e){const{collectionId:t,spaceId:r}=e;return{id:t,table:f().Vl,spaceId:r}}function _(e){const t=n().tS.filter((t=>!e.find((e=>e.color===t)))),r=t.length>0?t:n().tS;return r[o().yT(0,r.length-1)]}function v(e,t){const r=[{id:p().JW(),value:t.formatMessage(u().M_.statusOptionNotStarted)},{id:p().JW(),value:t.formatMessage(u().M_.statusOptionInProgress),color:"blue"},{id:p().JW(),value:t.formatMessage(u().M_.statusOptionDone),color:"green"}];return{name:e,type:"status",options:r,groups:[{id:p().JW(),name:u().QV,optionIds:[r[0].id],color:"gray"},{id:p().JW(),name:u().jc,optionIds:[r[1].id],color:"blue"},{id:p().JW(),name:u().P0,optionIds:[r[2].id],color:"green"}],defaultOption:t.formatMessage(u().M_.statusOptionNotStarted)}}let b=function(e){return e[e.SyncProjects=0]="SyncProjects",e[e.SyncAdditionalProperties=1]="SyncAdditionalProperties",e}({});function h(e){var t;return(null===(t=e.collection_pointer)||void 0===t?void 0:t.id)??e.collection_id}function A(e){return e.collection_pointer??(void 0!==e.collection_id?{table:f().Vl,id:e.collection_id,spaceId:(0,g().e)(void 0)}:void 0)}function I(e,t){const r=[];for(const[n,o]of Object.entries(e))o&&"rollup"===o.type&&o.relation_property===t&&r.push(n);return r}function k(e,t,r){return"relation"===t.type&&x(e,t)||"rollup"===t.type&&function(e,t,r){if(!(0,i().O9)(t.relation_property))return!1;const n=null==r?void 0:r[t.relation_property];if("relation"!==(null==n?void 0:n.type))return!1;return x(e,n)}(e,t,r)}function x(e,t){const r=A(t);return!(!e||!(0,i().O9)(null==r?void 0:r.spaceId))&&r.spaceId!==e}function S(e){var t;const{propertySchema:r,property:n,sourceCollectionId:o,targetCollectionSchema:a}=e;if(!r.property)return!1;const i=Boolean(a[r.property]&&"relation"===(null===(t=a[r.property])||void 0===t?void 0:t.type));return(r.property!==n||h(r)!==o)&&i}function T(e){return e.table===f().Vl&&"propertyId"in e}function M(e,t){var r;const n=e.id,o=e.propertyId,a=e.propertySchema,i=t.id,s=a.property;if(!s)return!1;const l=t.getNormalizedSchema()[s];if(!l)return!1;if(!("relation"===l.type))return!1;if(!((null===(r=A(l))||void 0===r?void 0:r.id)===n&&l.property===o))return!1;const c=n===i&&o===s;return!(!a.version&&c)}function w(e){const{type:t}=e;switch(t){case"title":case"text":return"text";case"relation":return"relation";case"checkbox":case"number":case"person":case"file":case"url":case"email":case"phone_number":case"created_time":case"created_by":case"last_edited_time":case"last_edited_by":case"last_visited_time":case"formula":case"rollup":case"select":case"multi_select":case"date":case"button":case"status":case"auto_increment_id":case"location":case"verification":case"place":return"arrow";default:(0,i().HB)(t)}}const B=["person","date"];function C(e){return(0,i().Xk)(B,e)}const P=["title","text","url","email","phone_number","checkbox","person","created_by","last_edited_by","file","select","multi_select","status","number","date","created_time","last_edited_time","last_visited_time","formula","relation","rollup","button","auto_increment_id","location","verification","place"],N=new Set(["last_edited_by","created_by","last_edited_time","created_time","auto_increment_id","location"]);function U(e){return!e||N.has(e.type)}const R=["text","number","select","multi_select","status","date","person","file","checkbox","url","email","phone_number","formula","relation","rollup","created_time","created_by","last_edited_time","last_edited_by","button","auto_increment_id","verification","place"],D=["ai_summary","ai_custom_prompt","ai_extract","ai_translate","ai_keywords"];function O(e){return(0,i().Xk)(D,e)}function F(e){if(O(e))switch(e){case"ai_custom_prompt":case"ai_summary":case"ai_extract":case"ai_translate":return"text";case"ai_keywords":return"multi_select";default:(0,i().HB)(e)}return e}function E(e){return"relation"===e.type}function V(e){return"relation"===e.type&&Boolean(e.connectedRelation)}function L(e){return"rollup"===e.type}function H(e){return"formula"===e.type}function G(e){return"status"===e.type}function q(e){return"place"===e.type}function j(e){return"select"===e.type}function $(e){return"multi_select"===e.type}function z(e){return"select"===e.type||"multi_select"===e.type}function W(e){return"verification"===e.type}function Z(e){return"relation"===e.type||"verification"===e.type||"auto_increment_id"===e.type}function Q(e){return R.includes(e.type)&&!Z(e)}const K=["person","multi_select","status","select","number","relation","email","phone_number","text","title","url"];function J(e){return!!e&&(0,i().Xk)(K,e.type)}function Y(e){return"button"===e.type}const X=["select","multi_select","status"];function ee(e){return(0,i().Xk)(X,e)}function te(e){return(0,i().Xk)(X,e.type)}const re=["created_by","created_time","last_edited_by","last_edited_time","auto_increment_id","location"];function ne(e){return(0,i().Xk)(re,e)}const oe=["text","select","multi_select"];function ae(e){return"read_only"!==e.synced_permissions&&(0,i().Xk)(oe,e.type)}function ie(e){switch(e.type){case"text":case"checkbox":case"date":case"email":case"number":case"phone_number":case"person":case"multi_select":case"status":case"select":case"url":return!0;case"rollup":case"verification":case"title":case"place":case"relation":case"last_edited_time":case"file":case"last_edited_by":case"last_visited_time":case"location":case"created_time":case"created_by":case"auto_increment_id":case"formula":case"button":return!1;default:(0,i().HB)(e)}}function se(e){if(e)switch(e.type){case"text":const t=e.ai_inference;return"translate"===(null==t?void 0:t.type)?function(e){if("chinese"===e.toLanguage)return{...e,toLanguage:"chinese (simplified)"};return e}(t):t;case"select":case"multi_select":return e.select_ai_inference;default:return}}function le(e){if("select"===e.type||"multi_select"===e.type||"text"===e.type)return se(e)}function ce(e){switch(e.type){case"text":return"ai_inference";case"select":case"multi_select":return"select_ai_inference";default:(0,i().HB)(e)}}function ue(e){if(!e)return!1;switch(e.type){case"extract":case"custom":return!0;case"select":case"multi_select":case"summarize":case"translate":return!1;default:throw(0,i().HB)(e)}}function de(e){return"custom"===e||"extract"===e||"translate"===e||"summarize"===e}function pe(e,t){return!!e&&(!("text"!==t||!de(e.type))||("select"===t||"multi_select"===t)&&e.type===t)}const me=["text","title","url","email","phone_number","number","place"];function fe(e){return me.includes(e)}function ge(e){return"relation"===e.type||"person"===e.type}const ye=["text","relation","url","select","multi_select","person","number","email","phone_number","title","place"],_e=["created_by","created_time","checkbox","last_edited_by","last_edited_time","location"];const ve=["verification","button"];function be(e){return(0,i().Xk)(ve,e)}const he=1e3;function Ae(e){const t={},r=Object.keys(e);for(const n of r)(0,a().Ut)(n)&&(t[n]=e[n]);return t}function Ie(e){const t=m().Bj6.fromCollection(e),r={...Me(t),...Se(null==t?void 0:t.getSchema(),null==t?void 0:t.id)},n=Te(r);return r[n]||(r[n]={type:we,name:"Name"}),r}function ke(e){return Se(null==e?void 0:e.getDeletedSchema())}function xe(e){return Se(e.block_schema)}function Se(e,t){return function(e,t){const r={...e};let n=!1;const o=Object.keys(r);for(const a of o){const e=r[a];if(e)if((z(e)||G(e))&&e.options){const o=new Set,i=[];for(const r of e.options)r.value&&!o.has(r.value)&&(o.add(r.value),r.collectionIds=t?[t]:void 0,i.push(r));i.length!==e.options.length&&(r[a]={...e,options:i},n=!0)}else if("relation"===e.type)A(e)?e.property||e.version||(r[a]={...e,property:a},n=!0):(r[a]={name:e.name,type:"text"},n=!0);else if("formula"===e.type){const t=e.formula?d(e.formula):void 0,{formula2:o}=e,i=void 0===(null==o?void 0:o.code)?void 0:o;r[a]={...e,formula:t,formula2:i},n=!0}else if(void 0===e.type){const t=e.name;a===we&&"string"==typeof t?(r[a]={type:"title",name:t},n=!0):r[a]=void 0}}return{wasNormalized:n,normalizedSchema:r}}(e,t).normalizedSchema}function Te(e){return Be in e?Be:we}function Me(e){var t;const r=null==e||null===(t=e.getFormat())||void 0===t?void 0:t.external_schema;return r?(0,s().MU)(Object.entries(r).flatMap((([t,r])=>{if(void 0===r)return[];const n=`${c().U}${t}`;if("relation"===(null==r?void 0:r.type)){var o;const t=null===(o=e.getFormat())||void 0===o||null===(o=o.related_external_object_uris_to_instance_ids)||void 0===o?void 0:o[r.uri];return t?[[n,{name:r.name,type:null==r?void 0:r.type,collection_id:t,collection_pointer:y({collectionId:t,spaceId:e.getSpaceId()})}]]:[]}return[[n,r]]}))):{}}const we="title",Be=`${c().U}${we}`;function Ce(e){return e===we}function Pe(e){return e===Be}function Ne(e){return Ce(e)||Pe(e)}l().A.images.icons.titlePng,l().A.images.icons.textPng,l().A.images.icons.numberPng,l().A.images.icons.urlPng,l().A.images.icons.selectPng,l().A.images.icons.multipleSelectPng,l().A.images.icons.typesStatusSvg,l().A.images.icons.personPng,l().A.images.icons.emailPng,l().A.images.icons.phoneNumberPng,l().A.images.icons.datePng,l().A.images.icons.filePng,l().A.images.icons.checkboxPng,l().A.images.icons.formulaPng,l().A.images.icons.relationPng,l().A.images.icons.relationPng,l().A.images.icons.createdAtPng,l().A.images.icons.createdByPng,l().A.images.icons.createdAtPng,l().A.images.icons.createdByPng,l().A.images.icons.createdAtPng,l().A.images.icons.formulaPng,l().A.images.icons.idPng,l().A.images.icons.locationPng,l().A.images.icons.verificationSvg,l().A.images.icons.verificationSvg;function Ue(e){const{collectionId:t,property:r,propertySchema:n,newOption:a,isAscending:i}=e,s=n.options||[],l=o().SL(s,(e=>e.value.localeCompare(a.value,void 0,{sensitivity:"base"})*(i?1:-1)>=0));return-1!==l?{pointer:{table:f().Vl,id:t},command:"keyedObjectListBefore",path:["schema",r,"options"],args:{value:a,before:s[l]}}:{pointer:{table:f().Vl,id:t},command:"keyedObjectListAfter",path:["schema",r,"options"],args:{value:a}}}function Re(e){const{newTokenValues:t,property:r,propertySchema:n,collectionId:o}=e;if(!z(n))return;const a=n.options||[],i=t.flatMap((e=>e.filter((e=>e&&!a.find((t=>t.value.toLowerCase()===e.toLowerCase()))))));if(0===i.length)return;const s=[];return i.forEach((e=>{const t=_(a),i={id:p().JW(),value:e,color:t};"alphabetical"===n.auto_sort_options||"reverse_alphabetical"===n.auto_sort_options?s.push(Ue({collectionId:o,property:r,propertySchema:n,newOption:i,isAscending:"alphabetical"===n.auto_sort_options})):s.push({pointer:{table:f().Vl,id:o},command:"keyedObjectListAfter",path:["schema",r,"options"],args:{value:i}})})),s}const De=50},899605:(e,t,r)=>{r.d(t,{Ay:()=>a,Jr:()=>o});var n=()=>r(292588);const o="space_recover_pages",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,space_id:n().A.UUID,pages:n().A.StringArray,created_time:n().A.Number,last_edited_time:n().A.Number}}},901610:(e,t,r)=>{function n(e){return o(e.type)}function o(e){return"column"===e||"bar"===e||"line"===e}r.d(t,{I:()=>o,m:()=>n})},908651:(e,t,r)=>{r.d(t,{A:()=>a,p:()=>o});var n=()=>r(292588);const o="user_session_auth_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,expires_at:n().A.Number,cookies:n().A.JSON,source_type:n().A.String}}},908948:(e,t,r)=>{r.d(t,{Gf:()=>i,RT:()=>l,W:()=>a,fe:()=>o,r5:()=>s});r(944114);var n=()=>r(425877);function*o(e,t){let r=e;for(;r;){let e=!0;(null==t||!t.includeDeleted)&&r instanceof n().pC&&r.isDeleted()?e=!1:null!=t&&t.includeEndItem||r.next||(e=!1),e&&(yield r),r=r.next}}function a(e){let t=e;for(const r of o(e,{includeDeleted:!0,includeEndItem:!0}))t=r;return t}function i(e){let t=0;for(const r of o(e,{includeDeleted:!1}))r instanceof n().pC&&(t+=r.getLength());return t}function s(e){const t=[e];let r=e.next;for(;r;)if(r instanceof n().of&&r.next){const e=r.clone(),n=r.next;e.next=n,n.prev=e,e.prev=void 0,r.next=void 0,t.push(e),r=e.next}else r=r.next;return t}function l(e){for(let t=1;t<e.length;t++)e[t].prev=e[t-1],e[t-1].next=e[t]}},912720:(e,t,r)=>{r.d(t,{Ay:()=>c,Vx:()=>l,bs:()=>o,cK:()=>s,wt:()=>a,yB:()=>i});var n=()=>r(292588);const o={block:!0,collection:!0};function a(e){return!1===e.frequency}const i="automation",s=300,l=30,c={table:i,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,space_id:n().A.UUID,parent_table:n().A.String,parent_id:n().A.UUID,alive:n().A.Boolean,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,status:n().A.String,trigger:n().A.JSON,action_ids:n().A.StringArray,run_at:n().A.Number,properties:n().A.JSON,copied_from_pointer:n().A.JSON,last_executed_time:n().A.Number,last_failed_time:n().A.Number,last_failed_reason:n().A.JSON},requiredColumns:{id:!0,version:!0,space_id:!0,parent_table:!0,parent_id:!0,alive:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,status:!0,trigger:!0},defaultColumnValues:{status:"disabled"},model:(0,r(152853).P)({RecordStore:!0,properties:{copied_from_pointer:{getMethod:"getCopiedFrom",getKeyStoreMethod:!1,getRelationStoreMethod:!1},trigger:{getKeyStoreMethod:!1}}})}},914462:(e,t,r)=>{r.d(t,{D:()=>n,n:()=>o});const n=(0,r(69708).YK)({groupPlaceHolder:{id:"sharedSpacePermissionGroupHelpers.permissionGroup.anonymous",defaultMessage:"Anonymous group"},untitledGroupName:{defaultMessage:"Untitled",id:"sharedSpacePermissionGroupHelpers.permissionGroup.untitled"}});function o(e){const{intl:t,permissionGroupModel:r}=e;return r?0===r.name.length?t.formatMessage(n.untitledGroupName):`${r.name}`:t.formatMessage(n.groupPlaceHolder)}},919767:(e,t,r)=>{r.d(t,{h:()=>d});r(581454);var n=()=>r(496603),o=()=>r(939768),a=()=>r(700500),i=()=>r(713998),s=()=>r(561565),l=()=>r(179034),c=()=>r(201980),u=()=>r(506391);function d({blockModel:e,getRecordModel:t,externalIntegrations:r,intl:d}){var p,m;let f;if(!e.isType(a().xd.externalObjectInstance)&&!e.isType(a().xd.externalObjectInstancePage))return;if(f=e.getFormatValue("original_url")||e.getFormatValue("uri"),!f)return;const g=o().Jf({str:o().qg(f).href,allowNoProtocol:!0});if(e.isType(a().xd.externalObjectInstance)&&!g)return;const y=(0,u().$B)({url:f,integrations:r,currentSpaceId:e.getSpaceId()});let _=[];const v="success"===y.type?y.pattern.name:void 0,b=(0,s().e)(v),h=e.getFormatValue("related_external_object_uris_to_instance_ids"),A=Object.values(h||{});_=n().oE(A.map((r=>{var n;return null===(n=t({table:l().ev,id:r,spaceId:e.getSpaceId()}))||void 0===n?void 0:n.getFormat()})));const I="success"===y.type?(0,u().WS)({url:f,integration:y.integration}):[],k="success"===y.type?y.integration.info.icon:void 0,x=b.inline({integrationIcon:k,root:e.getFormat(),relations:_,parsedAttributes:I});if(null!=x&&null!==(p=x.title)&&void 0!==p&&p.formatter&&(0,u().cz)(x.title.attribute)){const{attribute:e,formatter:t}=x.title;return d.formatMessage(t,{value:e.values[0]})}return null!=x&&null!==(m=x.title)&&void 0!==m&&m.attribute&&(0,u().cz)(x.title.attribute)?x.title.attribute.values[0]:(0,i().yQ)(e,"title")?c().q4_((0,i().yQ)(e,"title")):g||f}},921940:(e,t,r)=>{r.d(t,{A:()=>f,L:()=>m});r(814603),r(147566),r(198721);var n=()=>r(498212),o=()=>r(939768),a=()=>r(584262),i=()=>r(700500),s=()=>r(713998),l=()=>r(305785),c=()=>r(792071),u=()=>r(427704),d=()=>r(201980),p=()=>r(530199);function m({config:e,domainName:t,isCustomHostname:r}){const{port:n,protocol:a}=new URL(e.domainBaseUrl);return r?o().GP({protocol:a,hostname:t,port:n}):o().GP({protocol:a,host:`${t}.${e.publicDomainName}`})}function f(e){const{pageId:t,spaceDomain:r,scrollToBlockId:m,peekViewBlockId:f,peekMode:g,collectionViewId:y,baseUrl:_,discussionId:v,showMoveTo:b,saveParent:h,duplicate:A,pageVisitSource:I,templateGalleryItem:k,projectManagementLaunch:x,notificationId:S,analyticsNotificationId:T,openPageUpdatesTab:M,updateSidebarTab:w,workflowViewType:B,workflowViewId:C,workflowPrompt:P,chatThreadId:N,queryId:U,demoWorkspaceMode:R,slug:D,embedded:O,config:F,origin:E,autoStartTranscriptionNonce:V,backToSpace:L}=e;let H;"pageModel"in e&&e.pageModel?H=e.pageModel:"pageValue"in e&&e.pageValue&&(H=c().Bj6.fromValue("block",e.pageValue));let G,q="";if(H&&(0,i().Db)(H.getType(),H.getFormat())&&(0,s().yQ)(H,"title")&&!O){const e=(0,s().yQ)(H,"title");q=d().k4p(e||[]).replace(/[^\w]/g," ").trim().slice(0,100).split(/\s+/g).join("-")}G=O?`${u().GJ.embedPublicPages}/`:"/",r&&(G+=`${r}/`),void 0!==D?G+=`${D}`:t&&(G+=q?`${q}-${n().Xw(t)}`:`${n().Xw(t)}`),_&&(G=`${_}${G}`);let j={};return y&&(j.v=n().Xw(y)),f&&(j[p().ZI]=n().Xw(f)),g&&(j.pm=g),v&&(j.d=n().Xw(v)),S&&(j.n=n().Xw(S)),j={...j,...(0,l().s)({pageVisitSource:I,queryId:U,analyticsNotificationId:T,chatThreadId:N})},b&&(j.showMoveTo="true"),h&&(j.saveParent="true"),L&&(j.bts=JSON.stringify(L)),A&&(j.duplicate="true"),k&&(j.tg=k),x&&(j.pjm="true"),M&&(j[a().ec]="true"),void 0!==w&&(j.updateSidebarTab=String(w)),R&&(j.demoWorkspaceMode="true"),B&&(j.wfv=B),C&&(j.wfk=n().Xw(C)),P&&(j.wfp=P),F&&(j[p().q8]=JSON.stringify(F)),E&&(j.origin=E),V&&(j[p().Gh]=V),o().Gm({url:G,query:j,hash:m&&n().Xw(m)})}},922189:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>o,personCircleFillIcon:()=>a});r(296540);var n=r(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10 5.125c-.95 0-1.723.393-2.245 1.044-.51.635-.75 1.474-.75 2.346s.24 1.71.75 2.346c.522.65 1.295 1.044 2.245 1.044s1.723-.394 2.245-1.044c.51-.635.75-1.474.75-2.346s-.24-1.711-.75-2.346c-.522-.65-1.294-1.044-2.245-1.044"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.268C6.702 13.495 8.246 12.56 10 12.56s3.298.934 4.087 2.332A6.375 6.375 0 0 0 10 3.626"})]})},a=(0,r(340498).wt)("personCircleFill",o)},925753:(e,t,r)=>{r.d(t,{Ay:()=>a,R$:()=>o});var n=()=>r(292588);const o="temporary_password",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,password:n().A.String,timestamp:n().A.Number,use_case:n().A.String}}},926397:(e,t,r)=>{r.d(t,{Ay:()=>i,Hx:()=>a,qF:()=>o});var n=()=>r(292588);const o={notion_user:!0},a="domain_verification_code";const i={table:a,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,domain:n().A.String,verification_code:n().A.String,created_at:n().A.Number,expires_at:n().A.Number,verified_at:n().A.Number,alive:n().A.Boolean,type:n().A.String,info:n().A.JSON},model:(0,r(152853).P)({RecordStore:!0})}},927826:(e,t,r)=>{function n(e){return Array.isArray(e.value)?e.value:e.value.value?[e.value]:[]}r.d(t,{W:()=>n})},931075:(e,t,r)=>{r.d(t,{B2:()=>f,D6:()=>h,F7:()=>_,FG:()=>m,RD:()=>v,U1:()=>p,_e:()=>d,gj:()=>y,nl:()=>I,sN:()=>g,yj:()=>u});r(16280),r(898992),r(354520);var n=()=>r(906745),o=()=>r(69708),a=()=>r(187696),i=()=>r(597777),s=()=>r(604995),l=()=>r(437607),c=()=>r(201980);const u=[90,30,7],d={Owner:"verification_owner",Verification:"verification"};function p(e){if(!e)return;const t=c().jEb({value:e,convertGroupPointersToBeComposite:!0}).filter((e=>e.table!==l().n));if(0===t.length)return;const r=(0,a().b)(e);return r&&((0,i().Ar)(r)||(0,i().L3)(r))?[t[0],r]:void 0}const m=["verified","expired","none"];function f(e){if(!e)return{type:"none"};const[t,r]=e,o=s().Dz(r);return o?s().ak(o)?function(e){return e.end.valueOf()<=n().c9.now().valueOf()}(o)?{type:"expired",actorPointer:t,dateTimeRange:o}:{type:"verified",actorPointer:t,isIndefinite:!1,dateTimeRange:o}:{type:"verified",actorPointer:t,isIndefinite:!0,startDateTime:o.start}:{type:"none"}}function g(e){if(!e)return!1;return"verified"===f(p(e.getProperty(d.Verification))).type}function y(e){return e.end.diff(e.start,"days").days}function _(e){return n().c9.min(e,n().c9.now()).toRelative()}function v(e,t){if(e<0)throw new Error("negative number of days");if(!isFinite(e))throw new Error("non-finite number of days");const r=t.plus({days:e}).startOf("day");return{start:t,end:r}}const b=(0,o().YK)({verified:{defaultMessage:"Verified",id:"verificationHelpers.verified"},expired:{defaultMessage:"Expired",id:"verificationHelpers.expired"},none:{defaultMessage:"Empty",id:"verificationHelpers.empty"}});function h(e){return b[e]}const A=(0,o().YK)({verifiedIndefinitely:{defaultMessage:"Verified by {actor} indefinitely",id:"verificationHelpers.verifiedIndefinitely"},verifiedUntil:{defaultMessage:"Verified by {actor} until {datetime}",id:"verificationHelpers.verifiedUntil"}}),I={...b,...A}},933449:(e,t,r)=>{r.d(t,{MX:()=>a,Wg:()=>l,nh:()=>s,o9:()=>i,oC:()=>c});var n=()=>r(416845),o=()=>r(220719);function a(e,t,r){return o().MX(e,t,r,n().Qk)}function i(e,t,r){return o().o9(e,t,r,n().Qk)}function s(e,t,r){return o().nh(e,t,r,n().Qk)}function l(e,t,r,a){return o().Wg(e,t,r,a,n().Qk)}function c(e,t,r,a){return o().oC(e,t,r,a,n().Qk)}},935136:(e,t,r)=>{r.d(t,{E:()=>n,I:()=>o});r(898992),r(354520);const n={string_is:!0,string_is_not:!0,string_contains:!0,string_does_not_contain:!0,string_starts_with:!0,string_ends_with:!0,is_empty:!0,is_not_empty:!0,string_has_no_alphabet_prefix:!1},o=(0,r(720665).HP)(n).filter((e=>n[e]))},936802:(e,t,r)=>{r.d(t,{FS:()=>p,OA:()=>s,Pg:()=>d,fD:()=>c,ig:()=>m,l$:()=>f,mW:()=>l,up:()=>g});r(944114);var n=()=>r(534177),o=()=>r(179034),a=()=>r(519831);const i="people:";function s(e){return`${i}${e}`}function l(e){return s(`scim:${e}`)}function c(){return[s("person")]}function u(e){return l(`urn:ietf:params:scim:schemas:extension:${e.extension}:2.0:${e.property}`)}function d(e){const{spaceIdCreator:t}=e;return t.deterministicIdInSavedSpace(o().ev,"people-collection-view-page")}function p(e){const{spaceIdCreator:t}=e;return t.deterministicIdInSavedSpace(a().Vl,"people-collection")}function m(e){const{spaceIdCreator:t}=e;return{id:p({spaceIdCreator:t}),table:a().Vl,spaceId:t.getSpaceId()}}function f(e){if(!e)return!1;switch(e){case"owner":case"membership_admin":case"member":return!0;case"restricted_member":case"page_guest":case"none":return!1;default:(0,n().HB)(e)}}function g(e){const{shouldSyncAllScimProperties:t}=e;let r=[];return t&&(r=[{id:l("active"),name:"Active",type:"checkbox"},{id:l("addresses"),name:"Address",type:"text"},{id:l("emails"),name:"Email",type:"email"},{id:l("groups"),name:"Groups",type:"text"},{id:l("locale"),name:"Locale",type:"text"},{id:l("manager.displayName"),name:"Manager Name",type:"text"},{id:l("manager.value"),name:"Manager",type:"person"},{id:l("name.familyName"),name:"Family Name",type:"text"},{id:l("name.formatted"),name:"Formatted Name",type:"text"},{id:l("name.givenName"),name:"Given Name",type:"text"},{id:l("phoneNumbers"),name:"Phone Number",type:"phone_number"},{id:l("photos"),name:"Profile Photo",type:"text"},{id:l("preferredLanguage"),name:"Preferred Language",type:"text"},{id:l("timezone"),name:"Timezone",type:"text"},{id:u({extension:"enterprise",property:"User.costCenter"}),name:"Cost Center",type:"text"},{id:u({extension:"enterprise",property:"User.department"}),name:"Department",type:"text"},{id:u({extension:"enterprise",property:"User.division"}),name:"Division",type:"text"},{id:u({extension:"enterprise",property:"User.organization"}),name:"Organization",type:"text"},{id:u({extension:"notion",property:"User:role"}),name:"Role",type:"text"},{id:l("userName"),name:"Username",type:"text"},{id:l("userType"),name:"User Type",type:"text"}]),r.push({id:l("title"),name:"Title",type:"text"}),r}},938379:(e,t,r)=>{r.d(t,{C:()=>c,f:()=>l});var n=()=>r(498212),o=()=>r(939768),a=()=>r(305785),i=()=>r(530199);const s="ds";function l(e){const{collectionAnnotation:t,spaceId:r,spaceDomain:n,parentCvbId:o,domainBaseUrl:a,...i}=e;return c({collectionId:t[1],spaceId:t[2]??r,spaceDomain:n,parentCvbId:t[3]??o,domainBaseUrl:a,...i})}function c(e){const{spaceId:t,spaceDomain:r,collectionId:l,domainBaseUrl:c,parentCvbId:u,...d}=e;let p={};u&&(p[i().vB]=(0,n().S2)(u)),p={...p,...(0,a().s)(d)};const m=r||(t?(0,n().S2)(t):void 0),f=`${m?`/${m}`:""}/${s}/${(0,n().S2)(l)}`;return o().Gm({url:c?`${c}${f}`:f,query:p})}},942198:(e,t,r)=>{r.d(t,{A:()=>a,g:()=>o});var n=()=>r(292588);const o="evernote_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,account:n().A.String,request_token:n().A.String,request_secret:n().A.String,access_token:n().A.String,access_secret:n().A.String,created_time:n().A.Number}}},945778:(e,t,r)=>{r.d(t,{A:()=>n});const n=function(e){return!(!e||e.length>100||e.startsWith("data")||e.startsWith("http")||e.startsWith("/images")||e.startsWith("/icons")||e.startsWith("notion:")||e.startsWith("attachment:"))&&r(289887).onlyEmoji(e).length>0}},946064:(e,t,r)=>{r.d(t,{Ay:()=>a,y7:()=>o});var n=()=>r(292588);const o="organization",a={table:o,columnTypes:{id:n().A.UUID,name:n().A.String,roles:n().A.JSON,version:n().A.Number,last_version:n().A.Number,alive:n().A.Boolean,created_time:n().A.Number,created_by_id:n().A.UUID,created_by_table:n().A.String,last_edited_time:n().A.Number,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,default_space_settings:n().A.JSON,email_domains:n().A.StringArray,managed_user_settings:n().A.JSON,saml_provisioning_space_id:n().A.UUID,icon:n().A.String,onboarding_status:n().A.String},requiredColumns:{id:!0,name:!0,version:!0,alive:!0,created_time:!0,created_by_id:!0,created_by_table:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,onboarding_status:!0,managed_user_settings:!0},model:(0,r(152853).P)({RecordStore:!0,properties:{icon:{getMethod:"getRawIcon"}}})}},952232:(e,t,r)=>{r.d(t,{O:()=>o,v:()=>a});var n=()=>r(292588);const o="file_upload",a={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,alive:n().A.Boolean,status:n().A.String,filename:n().A.String,internal_file_id:n().A.UUID,content_type:n().A.String,content_length:n().A.Number,expiry_time:n().A.Number,upload_id:n().A.String,multipart_upload_etags:n().A.JSON,number_of_parts:n().A.Number,external_url:n().A.String,import_file_result:n().A.JSON,created_by_id:n().A.UUID,created_by_table:n().A.String,version:n().A.Number,last_version:n().A.Number,created_time:n().A.Number,updated_time:n().A.Number},model:(0,r(152853).P)({RecordStore:!1})}},952882:(e,t,r)=>{r.d(t,{Jz:()=>a,Uj:()=>n,Ym:()=>i,ic:()=>o,zi:()=>s});const n=["person","created_by","last_edited_by"],o={person_contains:!0,person_does_not_contain:!0,is_empty:!0,is_not_empty:!0},a=(0,r(534177).uv)(o),i="person:name",s="person:email"},955363:(e,t,r)=>{r.r(t),r.d(t,{arrowDiagonalUpRightIcon:()=>o,iconDefinition:()=>n});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"4.42 4.42 11.16 11.16",directional:!0,svg:(0,r(474848).jsx)("path",{d:"M15.575 5.05a.625.625 0 0 0-.625-.625H7.313a.625.625 0 1 0 0 1.25h6.128L4.596 14.52a.617.617 0 0 0 .012.872c.244.244.635.25.872.012l8.845-8.845v6.128a.625.625 0 1 0 1.25 0z"})},o=(0,r(340498).wt)("arrowDiagonalUpRight",n)},957705:(e,t,r)=>{r.d(t,{k:()=>i});r(944114),r(898992),r(803949);var n=()=>r(634201),o=()=>r(201980),a=()=>r(980090);function i(e,t){const r=new Map;return t||(t=new(n().Z4)(o().qAZ(e))),o().gsT({textValue:e,startIndex:0,endIndex:t.getLength()}).forEach((({startIndex:e,endIndex:n,annotation:o},i)=>{const s=t.getStringStartIndex(e),l=t.getStringEndIndex(n-1),c=(0,a().G)(o),u=r.get(c)??[];u.push({startIndex:s,endIndex:l,annotation:o,sortIndex:i}),r.set(c,u)})),r}},959017:(e,t,r)=>{r.d(t,{A:()=>a,h:()=>o});var n=()=>r(292588);const o="billing_subscription",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,billing_data_id:n().A.UUID,external_id:n().A.String,status:n().A.String,start_date:n().A.Number,trial_end:n().A.Number,current_period_end:n().A.Number,items:n().A.JSON,created_at:n().A.Number,pending:n().A.JSON,unrepresentable_reason:n().A.String},requiredColumns:{version:!0,billing_data_id:!0,status:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({})}},959044:(e,t,r)=>{r.d(t,{Ay:()=>u,ZS:()=>s,_p:()=>c,aF:()=>i,x9:()=>l});var n=()=>r(534177),o=()=>r(292588);const a=["grouped-commented","grouped-block-property-updated","grouped-user-mentioned"];function i(e){return!!(0,n().Xk)(a,e)}const s={"user-mentioned":"mentions",commented:"mentions","block-property-edited":"mentions","user-invited":"mentions","team-membership-edited":"mentions",reminder:"mentions","email-edited":"mentions","access-requested":"mentions","access-request-resolved":"mentions","private-content-transferred":"mentions","permission-group-mentioned":"mentions","team-mentioned":"mentions","verification-expired":"mentions","import-completed":"mentions","export-completed":"mentions","in-app-notification-automation-action-triggered":"mentions","no-conflicts-found":"mentions","automation-typecheck-error-raised":"mentions",reacted:"mentions","upgrade-request-created":"mentions","trial-created":"mentions","app-builder-notification":"mentions","external-integration-notification":"mentions","block-edited":"following","permissions-edited":"following","top-level-block-created":"following","top-level-block-deleted":"following","transcript-deleted":"following","collection-row-created":"following","collection-row-deleted":"following","collection-edited":"following","collection-property-edited":"following","collection-view-edited":"following","collection-page-layout-edited":"following","page-locked":"following","page-unlocked":"following","page-deleted":"following","page-restored":"following","page-permanently-deleted":"following"},l={...s,"grouped-commented":"mentions","grouped-block-property-updated":"mentions","grouped-user-mentioned":"mentions"};const c="notification",u={table:c,columnTypes:{id:o().A.UUID,version:o().A.Number,last_version:o().A.Number,user_id:o().A.String,activity_id:o().A.UUID,received:o().A.Boolean,read:o().A.Boolean,visited:o().A.Boolean,emailed:o().A.Boolean,invalid:o().A.Boolean,space_id:o().A.UUID,navigable_block_id:o().A.UUID,collection_id:o().A.UUID,discussion_id:o().A.UUID,parent_notification_id:o().A.UUID,child_notification_ids:o().A.UUIDArray,end_time:o().A.String,type:o().A.String,channel:o().A.String,archived_at:o().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},959577:(e,t,r)=>{r.d(t,{Ay:()=>i,XX:()=>o,fJ:()=>a});var n=()=>r(292588);const o="template",a=["none","optional","required"],i={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,contentful_id:n().A.String,name:n().A.String,slug:n().A.String,locale:n().A.String,description:n().A.String,price:n().A.Number,authors:n().A.StringArray,made_by:n().A.String,tags:n().A.StringArray,body:n().A.JSON,attributes:n().A.JSON,block_id:n().A.UUID,created_at:n().A.Number,last_updated_at:n().A.Number,published_version:n().A.Number,last_synced_at:n().A.Number,all_tags:n().A.StringArray,number_of_duplicates:n().A.Number,score_1:n().A.Number,score_2:n().A.Number,score_3:n().A.Number,score_4:n().A.Number,score_5:n().A.Number,score_6:n().A.Number,score_7:n().A.Number,score_8:n().A.Number,score_9:n().A.Number,score_10:n().A.Number,score_11:n().A.Number,score_12:n().A.Number,show_in_gallery:n().A.Boolean,template_draft_id:n().A.UUID,template_draft_version:n().A.Number,tags_v2:n().A.StringArray,all_tags_v2:n().A.StringArray,listing_id:n().A.UUID,is_default_locale:n().A.Boolean},requiredColumns:{id:!0,version:!0,contentful_id:!0,name:!0,slug:!0,locale:!0,description:!0,made_by:!0,attributes:!0,created_at:!0,last_updated_at:!0,published_version:!0,last_synced_at:!0,number_of_duplicates:!0,score_1:!0,score_2:!0,score_3:!0,score_4:!0,score_5:!0,score_6:!0,score_7:!0,score_8:!0,score_9:!0,score_10:!0,score_11:!0,score_12:!0,show_in_gallery:!0,is_default_locale:!0,template_draft_id:!0,template_draft_version:!0,listing_id:!0},model:(0,r(152853).P)({RecordStore:!0})}},962277:(e,t,r)=>{function n(e){return"none"!==e.role&&Boolean(!e.is_public_share_link||e.is_site)}r.d(t,{W:()=>n})},964348:(e,t,r)=>{r.d(t,{A:()=>a,S:()=>o});var n=()=>r(292588);const o="integration_management_permissions",a={table:o,columnTypes:{id:n().A.UUID,integration_id:n().A.UUID,space_id:n().A.UUID,created_time:n().A.Number,last_update_time:n().A.Number,version:n().A.Number,admin_only:n().A.Boolean},model:(0,r(152853).P)({RecordStore:!0})}},965571:(e,t,r)=>{r.d(t,{$:()=>o,A:()=>a});var n=()=>r(292588);const o="google_token",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,token:n().A.String,google_user_id:n().A.String}}},969752:(e,t,r)=>{r.d(t,{Ay:()=>s,Ec:()=>o,rA:()=>i});var n=()=>r(292588);const o="workflow_transcript",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,parent_id:n().A.UUID,parent_table:n().A.String,space_id:n().A.UUID,data:n().A.JSON,created_at:n().A.Number},requiredColumns:{version:!0,parent_id:!0,parent_table:!0,space_id:!0,created_at:!0},defaultColumnValues:{},model:(0,r(152853).P)({RecordStore:!0})},i={workflow:!0},s=a},976617:(e,t,r)=>{r.d(t,{A:()=>a,H:()=>o});var n=()=>r(292588);const o="text_slice_block_mapping",a={table:o,columnTypes:{id:n().A.UUID,space_id:n().A.UUID,text_instance_id:n().A.UUID,search_label:n().A.String,block_id:n().A.UUID,version:n().A.Number,last_version:n().A.Number},model:(0,r(152853).P)({RecordStore:!0})}},978234:(e,t,r)=>{r.d(t,{Ay:()=>i,fx:()=>a,yM:()=>o});var n=()=>r(292588);const o="workflow_module",a={notion_user:!0,workflow:!0},i={table:o,columnTypes:{alive:n().A.Boolean,created_by_id:n().A.UUID,created_by_table:n().A.String,created_time:n().A.Number,data:n().A.JSON,id:n().A.UUID,last_edited_by_id:n().A.UUID,last_edited_by_table:n().A.String,last_edited_time:n().A.Number,last_version:n().A.Number,module_type:n().A.String,parent_id:n().A.UUID,parent_table:n().A.String,permissions:n().A.JSON,space_id:n().A.UUID,version:n().A.Number},requiredColumns:{alive:!0,created_by_id:!0,created_by_table:!0,created_time:!0,last_edited_by_id:!0,last_edited_by_table:!0,last_edited_time:!0,module_type:!0,parent_id:!0,parent_table:!0,space_id:!0,version:!0},defaultColumnValues:{alive:!0,permissions:[]},model:(0,r(152853).P)({RecordStore:!0})}},978841:(e,t,r)=>{r.d(t,{A:()=>a,b:()=>o});var n=()=>r(292588);const o="user_oauth_authorization_code",a={table:o,columnTypes:{id:n().A.UUID,version:n().A.Number,last_version:n().A.Number,user_id:n().A.UUID,client_id:n().A.UUID,created_at:n().A.Number,expires_at:n().A.Number,revoked_at:n().A.Number},model:(0,r(152853).P)({})}},980090:(e,t,r)=>{r.d(t,{A:()=>u,G:()=>p});r(898992),r(581454),r(941795);var n=r.n(r(625473)),o=()=>r(496603),a=()=>r(416845),i=()=>r(201980),s=()=>r(673337),l=()=>r(187534),c=()=>r(933449);class u{constructor(e=[],t=!1){this.ops=e,t||function(e){for(let t=1;t<e.length;t++)if(!((0,l().Nf)(e[t-1].id,e[t].id)<0))throw new(a().Qk)("Annotation operation ID is out of order")}(e)}add(e){(0,c().MX)(!(0,s().nj)(e.start,e.end),"Annotation start and end positions should not be the same"),"addAnnotation"===e.type&&(i().iGj(e.annotation)||i().gir(e.annotation))&&(0,c().MX)((0,s().lS)(e.start.id,e.end.id)&&"before"===e.start.anchor&&"after"===e.end.anchor,"Mention/equation annotation should only be applied to one character",{start:e.start,end:e.end,id:e.id,textInstanceId:e.textInstanceId,searchLabel:e.searchLabel});const t=this.findInsertionIndex(e.id);this.ops.splice(t,0,e)}findInsertionIndex(e){const t=this.ops.findIndex((t=>(0,l().Nf)(t.id,e)>0));return t>=0?t:this.ops.length}getOps(){return this.ops}getActiveAnnotationsInternal(){const e=new(r(319954).r);for(const t of this.ops){const n=t.type;"addAnnotation"===n?e.add(t.annotation):"removeAnnotation"===n?"string"==typeof t.annotationKey?e.removeGroupingKey(t.annotationKey):e.remove(t.annotationKey):(0,r(534177).HB)(n)}return e}getActiveAnnotations(){const e=new Map;for(const t of this.getActiveAnnotationsInternal())e.set(p(t),t);return e}getResolvedAnnotations(){return this.getActiveAnnotationsInternal().toArray()}containsOpId(e){for(const t of this.ops)if((0,s().Dx)(t.id,e.id))return"annotationOp"===e.type&&o().n4(t,e.annotationOp)?"exists_same":"exists_different";return!1}clone(){return new u([...this.ops],!0)}equals(e){return o().n4(this.ops,e.ops)}static equals(e,t){return e===t||(void 0===e||void 0===t?e===t:e.equals(t))}toString(){const e=this.ops.map((e=>{switch(e.type){case"addAnnotation":return`+${d(e.annotation)}`;case"removeAnnotation":return`-${d(e.annotationKey)}`}}));return`[AnnotationOpSet ${e.length?e.join(", "):"empty"}]`}count(){return this.ops.length}}function d(e){const t="string"==typeof e?e:i().JIi(e);return"string"==typeof t?t:`(${t.join(",")})`}function p(e){const t=i().JIi(e);return"string"==typeof t?t:n()(t)}},992214:(e,t,r)=>{r.d(t,{L:()=>a,gS:()=>s,mA:()=>i,tS:()=>n});const n=1e3,o=(0,r(69708).YK)({emptyPageTitle:{id:"emptyPageTitle",defaultMessage:"Untitled"},restrictedPageTitle:{id:"restrictedPageTitle",defaultMessage:"No access"},notFoundPageTitle:{id:"textRenderHelpers.pageMention.untitledPlaceholder",defaultMessage:"Not found"}});function a(e){return e.formatMessage(o.emptyPageTitle)}function i(e){return e.formatMessage(o.restrictedPageTitle)}function s(e){return e.formatMessage(o.notFoundPageTitle)}},997769:(e,t,r)=>{r.d(t,{I6:()=>a,t6:()=>o});r(581454);var n=()=>r(639763);function o(e,t){return n().t6(e,t)}function a(e,t){return n().I6(e,t)}},998687:(e,t,r)=>{r.d(t,{R:()=>c});r(581454);var n=()=>r(534177),o=()=>r(764880),a=()=>r(681873),i=()=>r(437607),s=()=>r(798880),l=()=>r(201980);function c(e){const t=e.map((e=>l().MMZ(e)?l().wmz(l().Ii$({type:e})):(0,o().Pu)(e)?e.table===s().oo?l().wmz(l().P4h(e.id)):l().wmz(l().Vb6(e.id)):(0,i().I6)(e)?l().wmz(l().dWL(e.id,e.spaceId)):void(0,n().HB)(e)));return(0,a().G)(t,(()=>l().Ey_(",")))}},999515:(e,t,r)=>{r.d(t,{q:()=>n});const n={runSync(e,t){let n=t.next();for(;!n.done;){const o=r(388821).RecordMap.create();for(const t of n.value.recordPointers)o.setModel(t,e(t));n=t.next({recordMap:o})}return n.value},async runAsync(e,t){let r=t.next();for(;!r.done;){const n=await e(r.value.recordPointers);r=t.next({recordMap:n})}return r.value},*fetchRecord(e){const{recordMap:t}=yield{recordPointers:[e]};return t.getModel(e)},*fetchRecords(e){const{recordMap:t}=yield{recordPointers:e};return t},return:e=>function*(){return e}()}}}]);