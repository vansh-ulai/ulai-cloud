"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[46442],{6731:(e,t,i)=>{i.d(t,{D:()=>d});i(898992),i(803949);var o=i(296540),r=()=>i(56366),n=()=>i(476158),s=()=>i(388821),a=()=>i(231297),l=()=>i(841696),c=()=>i(765957);function d({unpersistedInMemoryRecordCache:e}){const t=(0,r().K8)((()=>{var e;return null===(e=c().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),i=(0,o.useCallback)((({perform:i})=>{const o=new(l().Z)({deadlockTimeoutMs:a().DEADLOCK_WARNING_TIMEOUT_MS}),r=i(o),c=s().RecordMap.create();o.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&c.addModel(t)})),(0,n().applyOperationsToRecordMap)({operations:o.operations,recordMap:c,updateOnly:!1});for(const n of c){const{model:i,pointer:o}=n;e.setModelAndRole({pointer:o,userId:t},i,"editor")}return e.emitAll(),{performResult:r,serverCommitResult:Promise.resolve(void 0),transactionId:o.id}}),[e,t]);return(0,o.useMemo)((()=>({createAndCommit:i})),[i])}},75491:(e,t,i)=>{i.d(t,{ED:()=>v,Kb:()=>S});i(296540);var o=()=>i(56366),r=()=>i(401497),n=()=>i(631524),s=()=>i(668725),a=()=>i(722872),l=()=>i(463830),c=()=>i(406699),d=()=>i(404277),u=()=>i(939740),g=()=>i(417392),p=()=>i(89924),m=()=>i(125565),h=()=>i(566468),f=i(474848);function v({title:e,items:t,disabled:i,hideDropdownIcon:n,itemMaxWidth:s,itemMinWidth:m,...h}){const v=(0,o().uB)(void 0,l().A),S=(0,r().IS)((()=>({container:{minWidth:180}})),[]),b={key:"workspace-users-menu",render:e=>(0,f.jsx)(p().A,{...e}),items:t};return(0,f.jsx)(c().A,{popupType:g().nl.Popup,style:S.container,buttonPopupStore:v,disabled:i,renderOrigin:t=>(0,f.jsx)(x,{title:e,hideDropdownIcon:n,disabled:i,styles:h.styles,...t}),render:()=>(0,f.jsx)(d().A,{menuType:a().gu.Popup,maxWidth:s??250,minWidth:m,children:(0,f.jsx)(u().Ay,{type:u().Oh.Vertical,initialFocus:0,sections:[b],onAccept:()=>{v.setState({open:!1})}})})})}function x({title:e,hideDropdownIcon:t,disabled:i,...o}){const a=(0,r().IS)((e=>({container:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",maxWidth:"100%",...o.styles},chevron:{width:10,height:10,marginInlineStart:4,color:e.icon.tertiary}})),[o.styles]);return(0,f.jsxs)(n().p,{style:a.container,disabled:i,...o,children:[(0,f.jsx)(m().A,{showTooltipWhenTruncated:!0,children:e}),t||i?null:(0,s().b)(a.chevron)]})}function S(){const e=(0,r().IS)((()=>({title:{width:"50%"}})),[]);return(0,f.jsx)(h().mf,{titleStyles:e.title})}},90907:(e,t,i)=>{i.d(t,{h:()=>n});i(296540);var o=i(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.06 15.66",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,o.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},n=(0,i(340498).wt)("lock",r)},206625:(e,t,i)=>{i.d(t,{a:()=>u});i(296540);var o=()=>i(56366),r=()=>i(401497),n=()=>i(406094),s=()=>i(570869),a=()=>i(69708),l=()=>i(284371),c=()=>i(125565),d=i(474848);function u({sudoModeStore:e}){const t=(0,r().IS)((e=>({WorkspaceOwnerPermissions:{background:e.cardBackground,borderRadius:4,padding:18,margin:24,maxWidth:400,textAlign:"center"},WorkspaceOwnerPermissionsButton:{fontWeight:l().Wy.medium,justifyContent:"center",margin:"18px auto 12px"}})),[]),i=(0,o().K8)((()=>e.shouldUserHaveAccessToPrivatePageBlock()),[e]),u=(0,o().O$)(e);return i&&u.privatePageStore&&!u.changePermissionsEnabled?(0,d.jsxs)("div",{style:t.WorkspaceOwnerPermissions,children:[(0,d.jsx)(c().A,{isMultiline:!0,style:{textAlign:"center"},children:(0,d.jsx)(a().sA,{id:"fullPageError.workspaceOwner.canChangePermissionsMessage",defaultMessage:"As a <b>workspace owner</b>, you can change the permissions of this page to add yourself or others. Any changes will appear in the audit log.",values:{b:(...e)=>(0,d.jsx)("b",{children:e})}})}),(0,d.jsx)(n().A,{size:"lg",style:t.WorkspaceOwnerPermissionsButton,onClick:()=>e.setState({...e.state,changePermissionsEnabled:!0}),iconLeading:{icon:s().keySmallIcon,size:"sm"},children:(0,d.jsx)(a().sA,{id:"fullPageError.workspaceOwner.canChangePermissionsMessageButton",defaultMessage:"Change permissions"})})]}):null}},223884:(e,t,i)=>{i.d(t,{D:()=>b});i(296540);var o=()=>i(484714),r=()=>i(56366),n=()=>i(406094),s=()=>i(160432),a=()=>i(427704),l=()=>i(69708),c=()=>i(284371),d=()=>i(31790),u=()=>i(433052),g=()=>i(701141),p=()=>i(577142),m=()=>i(235921),h=()=>i(1130),f=()=>i(607859),v=()=>i(765957),x=()=>i(527441),S=i(474848);function b({canJoinSpaceWithData:e,color:t,route:i,store:n,isRevamped:s}){const c=(0,o().v3)(),g=(0,r().K8)((()=>{const{currentUserRootStore:e}=v().default.state;return e&&0===e.getSpaceViewPointers().length}),[]),{isCreatingSpace:b,flowId:w}=(0,r().K8)((()=>{const{isCreatingSpace:e,flowId:t}=n.state;return{isCreatingSpace:e,flowId:t}}),[n]),A=(0,r().K8)((()=>{const{currentUserStore:e}=v().default.state;return!(null!=e&&e.getOnboardingCompleted())}),[]);return"ekmError"===i.name?(0,S.jsx)(y,{color:t,size:"lg",onClick:()=>j(c,w),children:(0,S.jsx)(l().sA,{id:"fullPageError.ekmError.tryAgainButton.label",defaultMessage:"Try again"})}):e?(0,S.jsx)(y,{color:t,size:"lg",onClick:()=>(0,x().pT)({publicPageData:e,environment:c,flowId:w,store:n}),children:(0,S.jsx)(l().sA,{id:"fullPageError.joinSpaceButton.label",defaultMessage:"Join the space"})}):"onboarding"===i.name||A?(0,S.jsx)(y,{color:t,size:"lg",onClick:()=>function(e,t){(0,d().X)(e,{button_name:"back-to-onboarding",flow_id:t}),u().Aj();const i=m().A.state;m().A.isOnboarding()?i.isFirstTimeOnboarding?h().startOnboarding(e,{type:"new-user",disableRedirectUrl:!0,source:"page_error"}):h().startOnboarding(e,{type:"create-or-join",disableRedirectUrl:!0,source:"page_error"}):(f().default.reset(),m().A.reset(),(0,p().navigate)({environment:e,url:a().JZ.root}))}(c,w),style:s?{width:232}:void 0,children:s?(0,S.jsx)(l().sA,{id:"fullPageError.returnToOnboardingButton.label.v2",defaultMessage:"Finish setup →"}):(0,S.jsx)(l().sA,{id:"fullPageError.returnToOnboardingButton.label",defaultMessage:"Back to onboarding"})}):g||b?(0,S.jsx)(y,{color:t,disabled:b,size:"lg",onClick:()=>async function(e,t,i){(0,d().X)(e,{button_name:"create-account",flow_id:t});const{currentUserRootStore:o,currentUserStore:r}=v().default.state;o&&r&&(i.setState({...i.state,isCreatingSpace:!0}),await h().createOrJoinSpace(e,"handle_create_account"),i.setState({...i.state,isCreatingSpace:!1}))}(c,w,n),children:(0,S.jsx)(l().sA,{id:"fullPageError.createOrJoinWorkspaceButton.label",defaultMessage:"Create or join a workspace"})}):(0,S.jsx)(y,{color:t,size:"lg",onClick:()=>j(c,w),children:(0,S.jsx)(l().sA,{id:"fullPageError.backToMyContentButton.label",defaultMessage:"Back to my content"})})}function y({color:e,...t}){return"blue"===e?(0,S.jsx)(s().A,{size:"lg",colorPalette:"blue",...t,style:t.style}):(0,S.jsx)(n().A,{size:"lg",hasSolidBackground:!0,...t,style:{fontWeight:c().Wy.medium,...t.style}})}function j(e,t){(0,d().X)(e,{button_name:"back-to-my-content",flow_id:t}),(0,g().G)(e)}},245737:(e,t,i)=>{i.r(t),i.d(t,{PageBlockPermissionsMenuComponent:()=>Pt,PageError:()=>bt,PageError404:()=>Wt});i(898992),i(823215),i(672577);var o=i(296540),r=()=>i(564884),n=()=>i(59226),s=()=>i(242422),a=()=>i(312788),l=()=>i(662303),c=()=>i(484714),d=()=>i(56366),u=()=>i(401497),g=()=>i(611648),p=()=>i(929219),m=()=>i(631524),h=()=>i(160432),f=()=>i(584262),v=()=>i(148307),x=()=>i(165358),S=()=>i(416504),b=i(474848);const y=(0,i(340498).wt)("googlePlay",{viewBox:"0 0 14 14",svg:(0,b.jsx)("path",{d:"M3.41741,13.7929001 L13.0843,8.42241009 C14.2002,7.80245009 14.2002,6.19755009 13.0843,5.57759009 L3.41741,0.207109087 C2.33284,-0.395426913 1,0.388821087 1,1.62952009 L1,12.3705001 C1,13.6112001 2.33284,14.3954001 3.41741,13.7929001 Z"})});var j=()=>i(236262),w=()=>i(888976),A=()=>i(427704),P=()=>i(802149),_=()=>i(69708),k=()=>i(100622),I=()=>i(973647),T=()=>i(284371),M=()=>i(245981),E=()=>i(44551);var D=()=>i(915086),C=()=>i(268931),R=()=>i(857783),B=()=>i(495939),W=()=>i(961606),z=()=>i(767877),L=()=>i(904671),N=()=>i(675925),O=()=>i(345913),U=()=>i(482707),F=()=>i(972435),K=()=>i(126744);function H(e){return Boolean(("page"===e.name||"space"===e.name)&&e.requestedOnExternalDomain)}var V=()=>i(100781),q=()=>i(89580),Y=()=>i(991221),G=()=>i(713304),J=()=>i(684381),$=()=>i(997513),Q=()=>i(211212),X=()=>i(133234),Z=()=>i(222130),ee=()=>i(215152),te=()=>i(20489),ie=()=>i(623275),oe=()=>i(437487),re=()=>i(869562),ne=()=>i(817411),se=()=>i(765957),ae=()=>i(869360),le=()=>i(529183);class ce extends(()=>i(757695))().Store{getInitialState(){return{isCreatingSpace:!1,didPerformAction:!1,flowId:i(206267).JW()}}}const de=ce;var ue=()=>i(990261),ge=()=>i(712505),pe=()=>i(454354),me=()=>i(47582),he=()=>i(11048),fe=()=>i(297872),ve=()=>i(296798),xe=()=>i(187820),Se=()=>i(2143),be=()=>i(125565),ye=()=>i(313786),je=()=>i(908470),we=()=>i(21140),Ae=()=>i(932736),Pe=()=>i(322114),_e=()=>i(527441),ke=()=>i(454317),Ie=()=>i(903252),Te=()=>i(781539),Me=()=>i(223884),Ee=()=>i(316755),De=()=>i(405077),Ce=()=>i(476800),Re=()=>i(206625),Be=()=>i(314529);var We=()=>i(278715),ze=()=>i(719147);function Le({route:e,store:t,hideBranding:i}){var r;const n=(0,c().v3)(),s=null===(r=n.currentUser)||void 0===r?void 0:r.isLoggedIn();return(0,o.useEffect)((()=>{(0,_e().K8)("content_classification_block",t.state.flowId,n)}),[n,t]),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),i?null:(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"unsafe"}),title:(0,b.jsx)(_().sA,{id:"fullPageError.unsafePageError.title",defaultMessage:"Page may be unsafe"}),description:(0,b.jsx)(_().sA,{id:"fullPageError.unsafePageError.description",defaultMessage:"This page was flagged as containing spam, phishing, illegal, or inappropriate content. If you trust this source, you can <proceedanywaylink>proceed anyway</proceedanywaylink>",values:{proceedanywaylink:e=>(0,b.jsx)(ze().A,{onClick:()=>function(e){const{mainEditorCurrentBlockStore:t}=se().default.state;t&&(We().A.bypassPage(t.id),function(e){(0,Be().DO_NOT_USE_trackLegacy)(e,"content_classification_proceed")}(e))}(n),children:e})}}),actionButtons:s?(0,b.jsx)(Me().D,{route:e,store:t,color:"white"}):null}),i?null:s?(0,b.jsx)(Ie().D,{}):(0,b.jsx)(Te().G,{})]})}var Ne=()=>i(993905),Oe=()=>i(852507),Ue=()=>i(396896),Fe=()=>i(90907),Ke=()=>i(558687),He=()=>i(853113),Ve=()=>i(799954),qe=()=>i(471095),Ye=()=>i(381175),Ge=()=>i(626466),Je=()=>i(601866),$e=()=>i(791627),Qe=()=>i(362749),Xe=()=>i(406999),Ze=()=>i(406699);function et(){const e=(0,c().v3)(),t=(0,d().uB)(void 0,$e().A),i=(0,d().uB)(void 0,te().A);(0,Oe().w)((()=>{(0,He().u)(!1)}));const r=(0,o.useMemo)((()=>(0,Xe().nc)()),[]),n=(0,o.useMemo)((()=>({organizationsInfo:[],spaceInfo:[]})),[]),s=(0,o.useCallback)((async({event:t,spaceViewStore:i})=>{const o=(0,Ye().V)(t);await Je().tR({environment:e,spaceViewStore:i,userSettingsStore:se().default.state.currentUserSettingsStore,userRootStore:se().default.state.currentUserRootStore,openInNew:o,pageVisitSource:f().y8.SwitchSpace,navigationType:"switchingToOrLoadingSpace"})}),[e]);return(0,b.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:(0,b.jsx)(Ze().A,{popupType:Ze().z.Popup,renderOrigin:({onClick:e})=>(0,b.jsxs)(m().p,{onClick:e,colorPalette:"gray",children:[(0,b.jsx)(_().sA,{defaultMessage:"Select workspace",id:"router.workspaceAccessRenderErrorPage.switchWorkspaceButton.label"}),(0,Ge().arrowChevronSingleDownFillIcon)({width:14,marginInlineStart:4})]}),render:e=>(0,b.jsx)(Qe().UL,{parent:e,onSpaceClick:s,loginStore:i,loginPermissionsStore:t,organizationEntryPointProps:n,permissionsInviteStore:r,isEnterpriseWorkspaceAccessRestriction:!0})})})}function tt(e){const t=it(),{title:i,description:o,primaryButtonText:r,onPrimaryButtonClick:n}=e;return(0,Oe().w)((()=>{(0,He().u)(!1)})),(0,b.jsxs)(Ne().s,{allowSelectionWithin:!0,style:t.reactErrorStyle,children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,position:"absolute",top:24,insetInlineStart:24,zIndex:2},children:[(0,Ke().notionIcon)({width:32,height:32}),(0,b.jsx)("div",{style:{height:24,width:1,background:"#E3E3E3",margin:"0 6px"}}),(0,b.jsx)(et,{})]}),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(De().N8,{icon:(0,qe().i)(t.iconLock),title:i,description:o,descriptionWidth:360,actionButtons:(0,b.jsx)(Ue().fI,{wrap:"wrap",gap:8,children:(0,b.jsx)(h().A,{colorPalette:"blue",size:"lg",onClick:n,children:r})})})]})]})}function it(){return(0,u().IS)((e=>({reactErrorStyle:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:100,...(0,Ve().xH)(l().locale)},reactErrorMessageStyle:{fontSize:14,textAlign:"center",marginTop:6,marginBottom:12,color:k().Tj.mediumTextColor},reactErrorMessageIdStyle:{fontSize:10,marginTop:8},iconLock:{width:32,height:32,fill:"light"===e.mode?e.icon.tertiary:e.icon.primary}})),[])}function ot({store:e,route:t}){const i=it();return(0,Oe().w)((()=>{(0,He().u)(!1)})),(0,b.jsxs)(Ne().s,{allowSelectionWithin:!0,style:i.reactErrorStyle,children:[(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,position:"absolute",top:24,insetInlineStart:24,zIndex:2},children:[(0,Ke().notionIcon)({width:32,height:32}),(0,b.jsx)("div",{style:{height:24,width:1,background:"#E3E3E3",margin:"0 6px"}}),(0,b.jsx)(et,{})]}),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(De().N8,{icon:(0,Fe().h)({width:42,height:42}),title:(0,b.jsx)(_().sA,{id:"router.ekmErrorPage.message",defaultMessage:"This workspace cannot be accessed"}),description:(0,b.jsx)(_().sA,{id:"router.ekmErrorPage.cantAccessWorkspaceFromEkmErrorDescription",defaultMessage:"Please contact your workspace owners to enable access. You may switch workspaces."}),descriptionWidth:360,actionButtons:(0,b.jsx)(Ue().fI,{wrap:"wrap",gap:8,children:(0,b.jsx)(Me().D,{route:t,store:e,color:"white"})})})]})]})}var rt=()=>i(511393);function nt(e){const{errorType:t}=e,i=(0,c().v3)(),o=(0,d().K8)((()=>(0,rt().h)(i)),[i]);return(0,b.jsx)(tt,{title:(0,b.jsx)(_().sA,{id:"router.workspaceAccessRenderErrorPage.message",defaultMessage:"This workspace cannot be accessed"}),description:at(t,o),primaryButtonText:(0,b.jsx)(_().sA,{id:"router.workspaceAccessRenderErrorPage.logoutButton.label",defaultMessage:"Try again"}),onPrimaryButtonClick:()=>{window.location.reload()}})}const st={cant_access_workspace_from_network:{admin:(0,b.jsx)(_().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromNetworkErrorAdminDescription",defaultMessage:"Your organization’s security settings prevent access to this workspace from your current network"}),default:(0,b.jsx)(_().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromNetworkErrorDescription",defaultMessage:"You do not have access to this workspace on your current network"})},cant_access_workspace_from_client:{admin:(0,b.jsx)(_().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromClientErrorAdminDescription",defaultMessage:"Unfortunately, we can’t access this workspace from your current client due to your organization’s security settings"}),default:(0,b.jsx)(_().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromClientError",defaultMessage:"Unfortunately, we can’t access this workspace from your current client"})}};function at(e,t){return t?st[e].admin:st[e].default}i(814603),i(147566),i(198721);var lt=()=>i(885443),ct=()=>i(559506),dt=()=>i(381678),ut=()=>i(725951),gt=()=>i(181405);function pt(e){const{requiredSamlConfigId:t}=e,i=(0,c().v3)(),o=(0,d().K8)((()=>{const e=(0,dt()._)(i);return(null==e?void 0:e.getEmail())??""}),[i]);return(0,b.jsx)(tt,{title:(0,b.jsx)(_().sA,{id:"router.workspaceAccessRenderErrorPage.samlRequired.title",defaultMessage:"This workspace cannot be accessed"}),description:(0,b.jsx)(_().sA,{id:"router.workspaceAccessRenderErrorPage.samlRequired.description",defaultMessage:"Your workspace requires signing in through SAML SSO to access its content."}),primaryButtonText:(0,b.jsx)(_().sA,{id:"router.workspaceAccessRenderErrorPage.samlRequired.authorizeButton.label",defaultMessage:"Authorize with SAML SSO"}),onPrimaryButtonClick:()=>{!async function(e){const{environment:t,requiredSamlConfigId:i,email:o}=e,{device:r}=t;let n;r.isElectronMail?n="nativemailredirect":r.isElectronCalendar||r.isMobileNativeCalendar?n="nativecalendarredirect":r.isElectron||(0,ut().jd)(t)?n="nativeredirect":r.isNative&&(n="native");const s=await ct().callApi({eventName:"getSamlRedirect",environment:t,data:{email:o,samlConfigId:i,callbackType:n}});if("failed"===s.type)return;const a=s.data.redirectUrl;if(a){const e=(0,lt().iK)();if(e){const i=new URL(a);i.searchParams.set(lt().sg,e),(0,gt().t8)(t,i.toString())}else(0,gt().t8)(t,a)}}({environment:i,requiredSamlConfigId:t,email:o})}})}var mt=()=>i(406094);function ht({href:e,store:t}){const{navigate:i}=(0,o.useContext)(a().E),r=(0,c().v3)();return(0,o.useEffect)((()=>(0,_e().K8)("incorrect_domain_interstitial_block",t.state.flowId,r)),[t,r]),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"incorrectDomain"}),title:(0,b.jsx)(_().sA,{id:"fullPageError.publicDomainInterstitial.title",defaultMessage:"Continue to external site"}),description:(0,b.jsx)(_().sA,{id:"fullPageError.publicDomainInterstitial.description",defaultMessage:"If you are not redirected to the external site automatically, <redirectlink>click here</redirectlink>",values:{redirectlink:t=>(0,b.jsx)(ze().A,{href:e,external:!1,children:t})}}),actionButtons:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(mt().A,{size:"lg",onClick:()=>{(0,x().log)({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateBack",canGoBack:(0,K().U)(r)}}}),(0,K().U)(r)?(0,B().a)(r):i({environment:r,url:"/home"})},children:(0,b.jsx)(_().sA,{id:"PageError.IncorrectDomainInterstitialButton.back.label",defaultMessage:"Go back"})}),(0,b.jsx)(h().A,{colorPalette:"blue",size:"lg",onClick:()=>{(0,x().log)({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateHome"}}}),i({environment:r,url:"/home"})},children:(0,b.jsx)(_().sA,{id:"PageError.IncorrectDomainInterstitialButton.home.label",defaultMessage:"Take me Home"})})]})}),(0,b.jsx)(Ie().D,{})]})}function ft({route:e,store:t}){var i;const r=(0,c().v3)(),n=null===(i=r.currentUser)||void 0===i?void 0:i.isLoggedIn();return(0,o.useEffect)((()=>{(0,_e().K8)("oauth_no_access",t.state.flowId,r)}),[r,t]),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(Ee().s,{isElectron:r.device.isElectron}),(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"notFound"}),title:(0,b.jsx)(_().sA,{id:"fullPageError.oauthNoAccess.title",defaultMessage:"You need access to this page"}),description:(0,b.jsx)(_().sA,{id:"fullPageError.oauthNoAccess.description",defaultMessage:"Contact the owner or try switching to a different account with access"}),actionButtons:n?(0,b.jsx)(Me().D,{route:e,store:t,color:"white"}):null}),(0,b.jsx)(Ie().D,{})]})}var vt=()=>i(339702);function xt({store:e}){const t=(0,c().v3)();return(0,o.useEffect)((()=>{(0,_e().K8)("offline",e.state.flowId,t),(0,vt().j)(t,{type:"page_error"})}),[e,t]),(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().xv,{}),(0,b.jsx)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"offline"}),title:(0,b.jsx)(_().sA,{id:"fullPageError.offlineError.title",defaultMessage:"You’re offline"}),description:(0,b.jsx)(_().sA,{id:"fullPage.offlineError.description",defaultMessage:"This page isn’t available offline. Check your network connection and try again."}),actionButtons:(0,b.jsx)(mt().A,{size:"lg",onClick:()=>window.location.reload(),children:(0,b.jsx)(_().sA,{id:"router.renderErrorPage.reloadButton.label",defaultMessage:"Refresh"})})}),(0,b.jsx)(Ie().D,{})]})}const St={width:16,height:16,marginInlineEnd:6,flexShrink:0};function bt({route:e,publicPageData:t,shouldRedirectFromHome:i}){const{navigateToExternalUrl:s}=(0,o.useContext)(a().E),l=(0,c().v3)(),u=jt(l),g=(0,d().uB)(void 0,de),m=(0,d().uB)(void 0,pe().A),h=(0,d().uB)(void 0,le().Ay),v=(0,d().uB)(ae().zo),S=(0,o.useRef)(!1),y=(0,d().K8)((()=>g.state.flowId),[g]),j=(0,d().K8)((()=>{var e;return null===(e=se().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),w=(0,d().K8)((()=>{var e;return(null===(e=se().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isPlaceholderWorkflowTemplateBlock())??!1}),[]),A=(0,d().K8)((()=>g.state.didPerformAction),[g]),_=!(0,d().O$)(p().e),k=(0,d().K8)((()=>{var e;const{mainEditorCurrentBlockStore:t}=se().default.state;return null==t||null===(e=t.getModel())||void 0===e?void 0:e.isNonverifiedContentClassification()}),[]),T=(0,d().O$)(se().AppStoreSidebarSpaceStore),M=(0,n().X)("space_restrictions_required_auth_step_lookup"),W=(0,d().K8)((()=>T?v.getWorkspaceAccessRestrictionForSpace(T.id):void 0),[v,T]);(0,o.useEffect)((()=>{ge().default.state.open&&C().J(ge().default.state.presenceStore,l,ue().o,ge().default.state.targetStore),C().J(se().default.state.presenceStore,l,ue().uk,se().default.state.mainEditorCurrentBlockStore),re().cancelSidebarInitialRenderLog()}),[l]),(0,o.useEffect)((()=>{x().log({level:"info",from:"pageError",type:"pageError",data:{miscDataToConvertToString:{pageBlockId:j,route:e,publicPageData:t,actor:l.currentUser.id}}})}),[l.currentUser.id,j,e,t]),(0,o.useEffect)((()=>{var e;if(!S.current&&(S.current=!0,D().setInitialRenderCompleted(),se().default.setPageRendered(),i&&async function({environment:e,flowId:t}){const i=se().default.state.sidebarSpaceViewStore;if(!i)return;(0,_e().K8)("invalid_home_block",t,e);const o=await(0,q().z)(e,i);I().Q.isSuccess(o)&&R().uK({environment:e,store:o.value,openInNew:void 0,templateGalleryItem:void 0,projectManagementLaunch:!1,pageVisitSource:f().y8.PersonalHomeErrorRedirect})}({environment:l,flowId:y}),jt(l)||(0,P().$P)(window.location.href),l.device.isElectron||l.mobileNative)){const i=null==t?void 0:t.requireInterstitial;if(i){const t=i+window.location.hash;s({environment:l,url:t}),(0,K().U)(l)?(0,B().a)(l):null===E().electronApi||void 0===E().electronApi||null===(e=E().electronApi.closeTab)||void 0===e||e.call(E().electronApi)}}}),[l,y,null==t?void 0:t.requireInterstitial,i,s]),(0,o.useEffect)((()=>{L().BX({environment:l,sudoModeStore:m,pageBlockId:j,sidebarSpaceStore:T})}),[l,j,m,T]);return(0,b.jsx)(he().A,{name:"PageError",children:A?null:_?(0,b.jsx)(xt,{store:g}):"teamsInvite"===e.name&&u?(0,b.jsx)(Ct,{publicPageData:t,route:e,store:g,sudoModeStore:m,inviteTargetsStore:h,source:"teamsInvite",canJoinSpace:!0}):"ekmError"===e.name?(0,b.jsx)(ot,{store:g,route:e}):W&&(0,ae().mR)(W)?((0,r().u)({environment:l,event:{eventName:"enterprise_workspace_restriction_encountered",eventProperties:{restriction_type:W.errorType}}}),(0,b.jsx)(nt,{errorType:W.errorType})):M&&W&&(0,ae().yQ)(W)?(0,b.jsx)(pt,{requiredSamlConfigId:W.samlConfigId}):"initiateExternalAuthenticationFromDesktop"===e.name?(0,b.jsx)(ft,{route:e,store:g}):w?(0,b.jsx)(Wt,{route:e,store:g}):t?t&&"onboarding"===e.name?(0,b.jsx)(Ct,{publicPageData:t,route:e,store:g,sudoModeStore:m,inviteTargetsStore:h,source:"onboarding",canJoinSpace:!1}):t.spaceName?k&&!t.requireInterstitial?(0,b.jsx)(Le,{route:e,store:g,hideBranding:H(e)}):k||(0,V().n)(e)?(0,b.jsx)(Wt,{route:e,store:g,hideBranding:H(e)}):t.requireInterstitial?(0,b.jsx)(ht,{href:t.requireInterstitial+window.location.hash,store:g}):u?(0,b.jsx)(zt,{route:e,publicPageData:t,pageErrorStore:g,sudoModeStore:m,inviteTargetsStore:h}):(0,b.jsx)(It,{store:g,publicPageData:t}):(0,b.jsx)(Wt,{route:e,store:g}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(ne().A,{skipFadeinDelay:!0})]})})}function yt({inviteeEmail:e}){return(0,b.jsx)("div",{style:{color:"#535353",fontSize:"18px",fontWeight:T().Wy.regular,lineHeight:"145.34%",marginBottom:24,maxWidth:358,opacity:.78,textAlign:"center",width:"100%"},children:(0,b.jsx)(_().sA,{id:"signupPage.subtitle.invitationVersion",defaultMessage:"Please check {invitee_email} for your temporary login code.",values:{invitee_email:(0,b.jsx)("b",{children:e})}})})}function jt(e){return Boolean(e.currentUser.id)}function wt({environment:e,currentRoute:t}){const{navigate:i}=(0,o.useContext)(a().E);return(0,o.useEffect)((()=>{i({environment:e,url:`/home?p=${t.peekViewBlockId}&pm=${t.peekMode}`})}),[e,t,i]),null}function At({isElectron:e,publicPageData:t,showInvitationVersion:i,inviterName:o,greetingStyle:r,iconBoxInitialStyle:n,trustedDomain:s}){const a=(0,c().v3)(),d=(0,_().tz)(),g=Boolean(s)&&"none"===t.publicAccessRole,p=(0,u().IS)((()=>({invitation:{fontSize:28,fontWeight:T().Wy.bold,maxWidth:358,letterSpacing:.364,lineHeight:1.2,textAlign:"center",textWrap:"balance",fontFamily:T().vc(l().locale).sans},normal:{fontSize:a.device.isMobile?18:20,fontWeight:T().Wy.medium,marginBottom:10,maxWidth:358,textAlign:"center",textWrap:"balance",...r}})),[a.device.isMobile,r]);return(0,b.jsxs)(b.Fragment,{children:[e?(0,b.jsx)(ye().A,{title:d.formatMessage({defaultMessage:"Log in",id:"errorPage.loggedOutWorkspace.title"})}):void 0,i?(0,b.jsx)("div",{style:p.invitation,children:o?(0,b.jsx)(_().sA,{id:"signupPage.title.showInvitationVersion",defaultMessage:"Verify your email to accept {inviter_name}’s invite",values:{inviter_name:o}}):(0,b.jsx)(_().sA,{id:"signupPage.title.showInvitationVersion.noInviterName",defaultMessage:"Verify your email to accept the invite"})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:{marginBottom:12},children:(0,b.jsx)(Ae().HS,{publicPageData:t,iconBoxInitialStyle:n,size:"lg"})}),(0,b.jsx)("div",{style:p.normal,children:g?(0,b.jsx)(_().sA,{id:"fullPageError.domainSharingPage.message",defaultMessage:"Sign in to view this shared page"}):(0,b.jsx)(_().sA,{id:"fullPageError.improveLoggedOutLandingExp.message",defaultMessage:"Sign in to see this page in {workspaceName}",values:{workspaceName:(0,b.jsx)("b",{children:t.spaceName})}})})]})]})}function Pt({sudoModeStore:e,inviteTargetsStore:t}){const i=(0,u().DP)(),o=(0,d().K8)((()=>e.shouldUserHaveAccessToPrivatePageBlock()),[e]),r=(0,d().O$)(e);return o&&r.privatePageStore&&r.changePermissionsEnabled?(0,b.jsx)("div",{style:{textAlign:"start",borderRadius:4,background:i.background.elevated,position:"relative",boxShadow:i.shadowMD,width:ie().$D,margin:"24px auto"},children:(0,b.jsx)(U().k,{store:r.privatePageStore,sudoModeStore:e,inviteTargetsStore:t,location:"no_access_page",onClose:()=>oe().Ay.reset()})}):null}function _t(e){const t=e.state.privatePageStore;if(!e.shouldUserHaveAccessToPrivatePageBlock()||!t)return;const i=t.getModel();if(!i)return;const o=i.getRenderTitleWithPlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,S().P)(),intl:F().A.getIntl()}),r=i.getRenderIcon({getRecordModel:t.getRecordModel});return(0,b.jsxs)(b.Fragment,{children:[r?(0,b.jsx)(xe().B6,{isEmptyPage:!0,disabled:!0,icon:r,iconRecordCategory:(0,xe().Te)(t),size:24,style:{display:"inline-block",marginInlineEnd:4}}):void 0,o?(0,b.jsx)("span",{children:o}):void 0]})}function kt(e){const t=(0,u().IS)((t=>{const i=e.themeOverride??t;return{backgroundImg:{position:"absolute",top:230,WebkitMask:"linear-gradient(to bottom, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%)",zIndex:0},wrapper:{boxShadow:i.shadowMD,zIndex:1,border:`1px ${i.border.primary}`,background:i.background.elevated,borderRadius:20,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:40},loginDisclaimer:{color:i.text.secondary,maxWidth:400}}}),[e.themeOverride]);return e.isEnabled?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("img",{alt:"",src:v().A.images.onboarding.skeletonPageSvg,style:t.backgroundImg}),(0,b.jsx)("div",{style:t.wrapper,children:e.children}),(0,b.jsx)(J().z,{style:t.loginDisclaimer,themeOverride:e.themeOverride})]}):(0,b.jsx)(b.Fragment,{children:e.children})}function It({publicPageData:e,store:t}){var i;const r=(0,u().DP)(),n=(0,c().v3)(),{device:s}=n,{inviteeEmail:a,inviterName:l,showInvitationVersion:p}=(0,d().K8)((()=>{const{inviteeEmail:e,inviterName:t}=Z().A.state;return{inviteeEmail:e,inviterName:t,showInvitationVersion:X().A.isTemporaryPasscode()&&e===X().A.state.email}}),[]),m=(0,k().O4)({theme:"light"}),f=null!==(i=e.domainLinkSharingEnabledDomains)&&void 0!==i&&i.length&&"none"===e.publicAccessRole?e.domainLinkSharingEnabledDomains[0]:void 0;(0,o.useEffect)((()=>{(0,_e().K8)("team_login",t.state.flowId,n),(0,P().wA)({url:window.location.href})}),[t,n]);const v=!(s.isMobile||s.isElectron||p),x=(0,o.useMemo)((()=>v?{paddingTop:"5vh"}:{}),[v]),S=(0,d().K8)((()=>X().A.isMfa()),[]),j=(0,b.jsx)(fe().A,{capture:!0,allowMobileAutoScroll:!0,render:t=>(0,b.jsx)(je().A,{analyticsName:"team_login",hideNavItems:!0,hideNotificationBanner:!0,children:(0,b.jsxs)(De().lz,{style:x,...t,children:[(0,b.jsxs)(kt,{isEnabled:v,themeOverride:m,children:[(0,b.jsx)(At,{isElectron:n.device.isElectron,publicPageData:e,showInvitationVersion:p,inviterName:l,greetingStyle:{color:m.text.primary,overflow:"hidden",textOverflow:"ellipsis"},iconBoxInitialStyle:{background:m.regularDividerColor,color:m.text.secondary},trustedDomain:f}),a&&p?(0,b.jsx)(yt,{inviteeEmail:a}):null,S?(0,b.jsx)(Q().A,{loginStore:X().A}):(0,b.jsx)(G().Ay,{emailLabelType:"email",from:"pageError",loginStore:X().A,showInvitationVersion:p,isSignup:p,themeOverride:m,disableDisclaimer:v})]}),!s.isMobile||s.isMobileNative||p?void 0:(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)("div",{style:{height:1,width:"100vw",background:r.regularDividerColor,marginTop:36,marginBottom:36}}),(0,b.jsxs)(h().A,{colorPalette:"blue",style:{width:280},size:"lg",onClick:()=>{(0,z().e)({url:window.location.href,environment:n})},children:[s.isIOS?(0,w().appleTintableIcon)(St):y(St),(0,b.jsx)(_().sA,{id:"fullPageError.openInMobileAppButton.label",defaultMessage:"Open in mobile app"})]}),(0,b.jsx)(ve().A,{href:s.isIOS?A().JZ.appStore:A().JZ.playStore,external:!0,innerStyle:{marginTop:16},children:(0,b.jsx)(be().A,{isSmall:!0,style:{textDecoration:"underline",fontSize:14,color:m.text.secondary},children:(0,b.jsx)(_().sA,{id:"fullPageError.downloadMobileAppButton.label",defaultMessage:"Get mobile app"})})})]}),(0,b.jsx)(Te().G,{forceTheme:m})]})})});return n.device.isMobileNative?(0,b.jsx)(Se().H,{type:g().A.Y,style:{width:"100%",height:"100%",overflow:"auto",WebkitOverflowScrolling:"touch"},children:j}):j}function Tt({publicPageData:e,sudoModeStore:t,inSudoModeAndInTrash:i,route:r,store:n}){const s=(0,d().K8)((()=>n.state.flowId),[n]),a=(0,c().v3)(),{spaceId:l,pageId:u}={...e},g=(0,o.useCallback)((async()=>{const{sidebarSpaceStore:e}=se().default.state,i=t.state.privatePageStore;if(!e||!i)return;const o="page_error";await(0,N().o)(a,{action:"restore_page",from:o,block_type:i.getType()},(t=>O().iN({environment:a,blockStore:i,spaceId:i.pointer.spaceId||e.id,from:o}))),t.reset()}),[t,a]);return e&&e.canRequestAccess&&l&&u?(0,b.jsxs)(we().Ye,{gap:8,children:[(0,b.jsx)(Me().D,{route:r,store:n,color:"white"}),i?(0,b.jsx)(h().A,{colorPalette:"blue",onClick:g,size:"lg",children:(0,b.jsx)(_().sA,{id:"fullPageError.pageInTrash.restoreButton",defaultMessage:"Restore page"})}):(0,b.jsx)(Pe().A,{type:"current-actor-to-block",block:{id:u,spaceId:l},flowId:s})]}):(0,b.jsx)(Me().D,{route:r,store:n,color:"white"})}function Mt({route:e,store:t}){const i=(0,d().K8)((()=>t.state.flowId),[t]);if("teamsInvite"!==e.name)return(0,b.jsx)(Me().D,{route:e,store:t,color:"white"});const{teamId:o}=e;return o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me().D,{route:e,store:t,color:"white"}),(0,b.jsx)(Pe().A,{buttonType:"primary",type:"current-actor-to-space-via-team",teamId:o,flowId:i})]}):(0,b.jsx)(Me().D,{route:e,store:t,color:"white"})}function Et({route:e,store:t,sudoModeStore:i,publicPageData:o,trustedDomain:r}){const n=(0,c().v3)(),s=(0,d().uB)(void 0,te().A),a=(0,d().uB)(void 0,ee().A);return(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(Ee().s,{isElectron:n.device.isElectron}),(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"noAccess",publicPageData:o}),title:(0,b.jsx)(_().sA,{id:"fullPageError.domainSharingPage.title",defaultMessage:"No access to this shared page"}),description:(0,b.jsx)(_().sA,{id:"fullPageError.domainSharingPage.messageV2",defaultMessage:"You can access this page by signing in to an account with a <b>@{trustedDomain}</b> email address.",values:{trustedDomain:r,b:e=>(0,b.jsx)("b",{children:e})}}),actionButtons:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me().D,{route:e,store:t,color:"white"}),(0,b.jsxs)(h().A,{colorPalette:"blue",size:"lg",onClick:()=>a.setState({open:!0}),children:[(0,b.jsx)(_().sA,{id:"fullPageError.domainSharingPage.login.",defaultMessage:"Log in"}),(0,b.jsx)($().z,{loginModalStore:a,loginStore:s,title:(0,b.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,b.jsx)(_().sA,{id:"sidebarSwitcherMultiAccount.addAccount.descriptionV2",defaultMessage:"Log in/sign up with a @makenotion.com email address. Your current account will remain logged in."}),className:"notion-space-settings",trustedDomain:r})]})]}),children:(0,b.jsx)(Re().a,{sudoModeStore:i})}),(0,b.jsx)(Ie().D,{loginModalStore:a,loginStore:s,trustedDomain:r})]})}function Dt({publicPageData:e,route:t,store:i,sudoModeStore:o,inviteTargetsStore:r}){const n=(0,c().v3)(),a=(0,d().K8)((()=>o.state.loading),[o]),l=(0,d().K8)((()=>o.shouldUserHaveAccessToPrivatePageBlock&&o.shouldUserHaveAccessToPrivatePageBlock()&&o.state.changePermissionsEnabled),[o]),u=(0,d().K8)((()=>o.shouldUserHaveAccessToPrivatePageBlock()),[o]),g=(0,d().K8)((()=>{if(!u||!s().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))return!1;const e=o.state.privatePageStore;return!!e&&(e.pathHasDeletedPermission()&&!e.pathHasPurgedDeletedPermission())}),[o,u]),p=(0,d().K8)((()=>Boolean(o.state.privatePageStore&&o.state.privatePageStore.pathIsDead()&&s().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))),[o]),m=(0,d().K8)((()=>_t(o)),[o]),h=(0,d().K8)((()=>Boolean(null==e?void 0:e.canRequestAccess)),[e]),f=(0,d().K8)((()=>!a&&!g&&!p&&h&&"control"!==s().default.getEligibleGroup({experimentId:"revamped_onboarding_private_page_v2",defaultGroup:"control"})),[a,g,p,h]);return a?(0,b.jsx)(ne().A,{skipFadeinDelay:!0}):g?(0,b.jsx)(Bt,{sudoModeStore:o,route:t,store:i}):f?(0,b.jsx)(De().ij,{pageTitle:m,publicPageData:e,route:t,store:i,shouldShowChangingPermissionsHeading:l??!1,shouldUserHaveAccessToPrivatePageBlock:u??!1,sudoModeStore:o,inviteTargetsStore:r}):(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(Ee().s,{isElectron:n.device.isElectron}),(0,b.jsx)(De().Y3,{}),(0,b.jsxs)(De().N8,{icon:(0,b.jsx)(Ae().fD,{type:"noAccess",publicPageData:e}),title:l?(0,b.jsx)(ke().S,{pageTitle:m}):(0,b.jsx)(Ce().r,{canRequestAccess:Boolean(null==e?void 0:e.canRequestAccess),pageTitle:m,inSudoModeAndInTrash:p}),description:l?(0,b.jsx)(ke().Q,{}):(0,b.jsx)(Ce().z,{canRequestAccess:Boolean(null==e?void 0:e.canRequestAccess),inSudoModeAndInTrash:p}),actionButtons:(0,b.jsx)(Tt,{publicPageData:e,sudoModeStore:o,inSudoModeAndInTrash:p,route:t,store:i}),children:[u?(0,b.jsx)(Pt,{sudoModeStore:o,inviteTargetsStore:r}):null,p?null:(0,b.jsx)(Re().a,{sudoModeStore:o})]}),(0,b.jsx)(Ie().D,{})]})}function Ct(e){const t=(0,c().v3)(),{source:i,canJoinSpace:r,publicPageData:n,route:s,store:a,sudoModeStore:l,inviteTargetsStore:d}=e;if((0,o.useEffect)((()=>{"onboarding"===i?(0,_e().K8)("onboarding_error",a.state.flowId,t):"teamsInvite"===i?(0,_e().K8)("team_invite_no_access",a.state.flowId,t):n&&(0,_e().K8)("team_no_access",a.state.flowId,t)}),[n,i,a,t]),n){var u;const e=null!==(u=n.domainLinkSharingEnabledDomains)&&void 0!==u&&u.length?n.domainLinkSharingEnabledDomains[0]:void 0;return e?(0,b.jsx)(Et,{route:s,store:a,sudoModeStore:l,publicPageData:n,trustedDomain:e}):(0,b.jsx)(Dt,{publicPageData:n,route:s,store:a,sudoModeStore:l,inviteTargetsStore:d})}return(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(Ee().s,{isElectron:t.device.isElectron}),(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{icon:n?(0,b.jsx)(Ae().fD,{type:"noAccess",publicPageData:n}):null,title:r?(0,b.jsx)(_().sA,{id:"fullPageError.notInWorkspace.message",defaultMessage:"You are not in this workspace."}):(0,b.jsx)(_().sA,{id:"fullPageError.accessNotAllowed.message",defaultMessage:"You do not have access to this page."}),description:"teamsInvite"===i?(0,b.jsx)(_().sA,{id:"fullPageError.canRequestWorkspaceAccess.message",defaultMessage:"You can access this workspace if someone approves your request."}):null,actionButtons:(0,b.jsx)(Mt,{route:s,store:a}),children:(0,b.jsx)(Re().a,{sudoModeStore:l})}),(0,b.jsx)(Ie().D,{})]})}function Rt({publicPageData:e,route:t,store:i,sudoModeStore:r,inviteTargetsStore:n}){const s=(0,c().v3)();return(0,o.useEffect)((()=>{(0,_e().K8)("team_page_no_access",i.state.flowId,s)}),[s,i]),(0,b.jsx)(Dt,{publicPageData:e,route:t,store:i,sudoModeStore:r,inviteTargetsStore:n})}function Bt({sudoModeStore:e,route:t,store:i}){const r=(0,c().v3)(),n=(0,d().K8)((()=>e.state.privatePageStore),[e]),s=(0,d().K8)((()=>e.shouldUserHaveAccessToPrivatePageBlock()),[e]),a=(0,Y().T)(),l=(0,o.useCallback)((()=>{n&&O().lT({environment:r,store:n,handleSuccess:()=>{M().L(r,{pageId:n.id,from:"page"}),(0,W().V)({environment:r,blocks:[n]})}})}),[r,n]),u=(0,o.useCallback)((e=>(0,b.jsx)(h().A,{colorPalette:"blue",...e,size:"lg",children:(0,b.jsx)(_().sA,{id:"fullPageError.deletedFromTrashPage.restoreButton",defaultMessage:"Restore page"})})),[]),g=(0,d().K8)((()=>_t(e)),[e]);return n&&s?(0,b.jsxs)(De().lz,{children:[(0,b.jsx)(De().xv,{}),(0,b.jsx)(Ee().s,{isElectron:r.device.isElectron}),(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{title:(0,b.jsx)(_().sA,{id:"fullPageError.deletedFromTrashPage.titleWithPageName",defaultMessage:"<bold>{pageTitle}</bold> has been deleted from the Trash",values:{pageTitle:g,bold:e=>(0,b.jsx)("b",{children:e})}}),description:(0,b.jsx)(_().sA,{id:"fullPageError.deletedFromTrashPage.message",defaultMessage:"As a workspace owner, you can restore this page. <br>This will be recorded in the audit log.</br>",values:{br:e=>(0,b.jsx)("div",{children:e})}}),actionButtons:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Me().D,{route:t,store:i,color:"white"}),(0,b.jsx)(me().V,{renderOrigin:u,store:n,environment:r,includeNonRestoreActions:!1,getValidDeletedPermissions:a,from:"retainedPage"})]}),children:(0,b.jsx)(m().p,{iconLeading:j().trashIcon,colorPalette:"gray",size:"lg",onClick:l,children:(0,b.jsx)(_().sA,{id:"fullPageError.deletedFromTrashPage.permanentlyDeleteButton",defaultMessage:"Permanently delete"})})}),(0,b.jsx)(Ie().D,{})]}):null}function Wt({store:e,route:t,hideBranding:i=!1}){const r=(0,c().v3)(),{device:n}=r,{isElectron:s}=n,a=jt(r),l=(0,_().tz)();return(0,o.useEffect)((()=>(0,_e().K8)("404",e.state.flowId,r)),[e,r]),(0,b.jsxs)(De().lz,{children:[s?(0,b.jsx)(ye().A,{title:l.formatMessage({defaultMessage:"Not found",id:"errorPage.contentDoesNotExist.tabTitle"})}):null,(0,b.jsx)(De().xv,{}),i?null:(0,b.jsx)(De().Y3,{}),(0,b.jsx)(De().N8,{title:(0,b.jsx)(_().sA,{id:"fullPageError.notFoundError.title",defaultMessage:"This page couldn’t be found"}),description:(0,b.jsx)(_().sA,{id:"fullPageError.notFoundError.description",defaultMessage:"You may not have access, or it might have been deleted or moved. Check the link and try again."}),actionButtons:a?(0,b.jsx)(Me().D,{route:t,store:e,color:"white"}):null}),i?null:a?(0,b.jsx)(Ie().D,{}):(0,b.jsx)(Te().G,{})]})}function zt({route:e,publicPageData:t,pageErrorStore:i,sudoModeStore:o,inviteTargetsStore:r}){const n=(0,c().v3)(),{allStoresLoaded:s,foundSpaceView:a}=(0,d().K8)((()=>{const{currentUserRootStore:e}=se().default.state;if(!e||!e.isReady())return{allStoresLoaded:!1,foundSpaceView:null};const i=(null==e?void 0:e.getSpaceViewStores())||[];if(!i.every((e=>e.isReady())))return{allStoresLoaded:!1,foundSpaceView:null};return{allStoresLoaded:!0,foundSpaceView:i.find((e=>e.getSpaceId()===t.spaceId))}}),[t.spaceId]);return s?a&&"page"===e.name?e.peekViewBlockId?(0,b.jsx)(wt,{environment:n,currentRoute:e}):(0,b.jsx)(Rt,{publicPageData:t,route:e,store:i,sudoModeStore:o,inviteTargetsStore:r}):t.canJoinSpace?"space"===e.name?(0,b.jsx)(Lt,{publicPageData:t,pageErrorStore:i}):(0,b.jsx)(Ct,{publicPageData:t,route:e,store:i,sudoModeStore:o,inviteTargetsStore:r,source:"workspace",canJoinSpace:!0}):(0,b.jsx)(Ct,{publicPageData:t,route:e,store:i,sudoModeStore:o,inviteTargetsStore:r,source:"workspace",canJoinSpace:!1}):null}function Lt({publicPageData:e,pageErrorStore:t}){const i=(0,c().v3)(),r=(0,d().K8)((()=>t.state.flowId),[t]);return(0,o.useEffect)((()=>{(0,_e().pT)({publicPageData:e,environment:i,flowId:r,store:t,skipClickLogging:!0})}),[e,i,r,t]),null}},256863:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var o=()=>i(56366),r=()=>i(824862),n=i(474848);const s=function(e){const{botValue:t,botStore:s,showActiveDot:a,style:l,size:c}=e,d=(0,i(69708).tz)(),u=(0,o().K8)((()=>{if(s){const e=s.getIcon();if(e)return{pointer:{table:r().GP,id:s.id,spaceId:s.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:r().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[s,t]),g=(0,o().K8)((()=>(null==s?void 0:s.getDisplayName(d))??(0,i(799288).Hg)(t)),[s,t,d]),{activeDotStyle:p}=(0,i(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.palette.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",insetInlineStart:11,top:11}})),[]);return(0,n.jsxs)("div",{style:l,children:[(0,n.jsx)(i(187820).B6,{icon:u,title:g,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),a?(0,n.jsx)("div",{style:p}):void 0]})}},313786:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(296540),r=()=>i(360568);function n(e){return(0,o.useEffect)((()=>{document.title=e.title,(0,r().H)(e.title)}),[e.title]),e.children}},316755:(e,t,i)=>{i.d(t,{s:()=>s});i(296540);var o=()=>i(69708),r=()=>i(313786),n=i(474848);function s({isElectron:e}){const t=(0,o().tz)();return e?(0,n.jsx)(r().A,{title:t.formatMessage({defaultMessage:"No access",id:"errorPage.workspaceNoAccess.title"})}):null}},339702:(e,t,i)=>{i.d(t,{j:()=>r});var o=()=>i(314529);function r(e,t){(0,o().DO_NOT_USE_trackLegacy)(e,"offline_access_failure",t)}},360568:(e,t,i)=>{i.d(t,{H:()=>r});var o=()=>i(44551);function r(e){var t;null===o().electronApi||void 0===o().electronApi||null===(t=o().electronApi.setWindowTitle)||void 0===t||t.call(o().electronApi,e)}},405077:(e,t,i)=>{i.d(t,{N8:()=>W,Y3:()=>R,b0:()=>U,ij:()=>L,lz:()=>C,xv:()=>B});var o=i(296540),r=()=>i(242422),n=()=>i(726637),s=()=>i(484714),a=()=>i(56366),l=()=>i(401497),c=()=>i(75435),d=()=>i(148307),u=()=>i(517592),g=()=>i(175947),p=()=>i(69708),m=()=>i(284371),h=()=>i(701141),f=()=>i(38337),v=()=>i(765957),x=()=>i(224011),S=()=>i(21140),b=()=>i(932736),y=()=>i(322114),j=()=>i(245737),w=()=>i(454317),A=()=>i(903252),P=()=>i(223884),_=()=>i(316755),k=()=>i(476800),I=()=>i(206625),T=i(474848);function M(e,t){return t?(0,T.jsx)("img",{src:d().A.images.sharing.freeSpotsPlanePng,alt:"Free spots plane",style:{width:72,height:36}}):(0,T.jsx)(b().fD,{type:"noAccess",publicPageData:e})}function E(e,t,i){return e?(0,T.jsx)(w().S,{pageTitle:t}):i?(0,T.jsx)(p().sA,{id:"fullPageError.accessrequest.alreadySent",defaultMessage:"Request sent!"}):(0,T.jsx)(k().r,{canRequestAccess:!0,pageTitle:t,inSudoModeAndInTrash:!1})}function D(e,t,i){return e?(0,T.jsx)(w().Q,{}):t?i?(0,T.jsx)(p().sA,{id:"fullPageError.accessrequest.alreadySentDescription",defaultMessage:"We’ll notify you when your access request is approved. Finish setting up your own workspace while you wait."}):(0,T.jsx)(p().sA,{id:"fullPageError.accessrequest.sentAccessRequest.returnToContent",defaultMessage:"We’ll notify you when your access request is approved."}):(0,T.jsx)(p().sA,{id:"fullPageError.accessrequest.requestAccessToPage",defaultMessage:"Request access to this page so an owner can approve it."})}function C({children:e,style:t={},...i}){const o=(0,l().IS)((e=>({wrapper:{width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...t}})),[t]);return(0,T.jsx)("section",{style:o.wrapper,...i,children:e})}function R({isLink:e}){const{isMobile:t,isElectronMac:i,isElectron:o}=(0,s().Y0)(),{isShowingTabBar:r,isFullscreen:n}=F(),c=(0,s().v3)(),d=(0,a().K8)((()=>c.WindowSizeStore.state.paddingTop),[c.WindowSizeStore]),p=(0,l().IS)((s=>({container:{display:"flex",alignItems:"center",alignSelf:"flex-start",paddingTop:t?d:!o||r||n?20:(0,g().ek)(i),maxWidth:1300,paddingInlineStart:20,paddingInlineEnd:20,cursor:e?"pointer":"default"},text:{fontWeight:m().Wy.medium,fontSize:16}})),[t,o,i,n,r,d,e]);return(0,T.jsxs)("header",{style:p.container,role:e?"button":void 0,tabIndex:e?0:void 0,onClick:()=>{e&&(0,h().G)(c)},onKeyDown:t=>{!e||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),(0,h().G)(c))},children:[(0,u().A)({width:t?28:30,height:t?28:30,marginInlineEnd:10,flexShrink:0}),(0,T.jsx)("div",{style:p.text,children:"Notion"})]})}function B(){const{isElectron:e,isElectronMac:t}=(0,s().Y0)(),{isShowingTabBar:i,isFullscreen:o}=F(),r=(0,l().IS)((e=>({desktopDragArea:{width:"100%",height:(0,g().ek)(t),position:"absolute",top:0,insetInlineStart:0}})),[t]);return!e||i||o?null:(0,T.jsx)("div",{className:f().sbV,style:r.desktopDragArea})}function W({actionButtons:e,children:t,description:i,icon:o,title:r,descriptionWidth:n}){const{isMobile:a}=(0,s().Y0)(),c=(0,l().IS)((e=>({actionButtons:{marginTop:"15px"},description:{color:e.text.secondary,fontSize:a?m().J.UIRegular.mobile:m().J.UIRegular.desktop,lineHeight:a?m().K_.UIRegular.mobile:m().K_.UIRegular.desktop,margin:0,maxWidth:n??"340px",padding:"0 8px",textAlign:"center"},title:{color:e.text.primary,fontSize:"17px",fontWeight:m().Wy.semibold,lineHeight:"22px",margin:0,maxWidth:"340px",padding:"0 8px",textAlign:"center"}})),[a,n]);return(0,T.jsxs)(S().wt,{alignItems:"center",flexGrow:1,gap:8,justifyContent:"center",children:[o??null,void 0!==r?(0,T.jsx)("p",{style:c.title,children:r}):null,void 0!==i?(0,T.jsx)("p",{style:c.description,children:i}):null,void 0!==e?(0,T.jsx)(S().Ye,{gap:6,style:c.actionButtons,children:e}):null,t]})}function z({children:e,descriptionWidth:t,publicPageData:i,route:r,store:s,shouldShowChangingPermissionsHeading:c,pageTitle:d}){const u=n().A.isMobile,{spaceId:g,pageId:p}={...i},h=(0,a().K8)((()=>s.state.flowId),[s]),[f,x]=(0,o.useState)(!1),b=(0,a().K8)((()=>{const{currentUserStore:e}=v().default.state;return!(null!=e&&e.getOnboardingCompleted())}),[]),j=M(i,f),w=E(c,d,f),A=D(c,f,b),_=(0,l().IS)((e=>({centeredContainer:{position:"fixed",top:"50%",insetInlineStart:"50%",transform:"translate(calc(-1 * 50%), -50%)",zIndex:10,background:e.background.elevated,borderRadius:20,boxShadow:e.shadowMD,padding:40,maxWidth:400,width:"90%",textAlign:"center"},description:{color:e.text.secondary,fontSize:u?m().J.UIRegular.mobile:m().J.UIRegular.desktop,lineHeight:u?m().K_.UIRegular.mobile:m().K_.UIRegular.desktop,margin:0,maxWidth:t??"340px",padding:"0 8px",textAlign:"center"},title:{color:e.text.primary,fontSize:"17px",fontWeight:m().Wy.semibold,lineHeight:"22px",margin:0,maxWidth:"340px",padding:"0 8px",textAlign:"center"},actionButtons:{marginTop:"15px"},button:{width:232}})),[u,t]);return(0,T.jsx)("div",{style:_.centeredContainer,children:(0,T.jsxs)(S().wt,{alignItems:"center",gap:u?8:12,justifyContent:"center",children:[j,(0,T.jsx)("p",{style:_.title,children:w}),(0,T.jsx)("p",{style:_.description,children:A}),(0,T.jsx)(S().Ye,{gap:6,style:_.actionButtons,children:!f&&p&&g?(0,T.jsx)(y().c,{type:"page",block:{id:p,spaceId:g},flowId:h,buttonType:"primary",customIsAccessRequestPending:f,customSetIsAccessRequestPending:x,buttonStyle:_.button}):(0,T.jsx)(P().D,{route:r,store:s,color:"blue",isRevamped:!0})}),e]})})}function L({pageTitle:e,publicPageData:t,route:i,store:o,shouldShowChangingPermissionsHeading:c,shouldUserHaveAccessToPrivatePageBlock:u,sudoModeStore:g,inviteTargetsStore:m}){const h=(0,l().DP)(),f=(0,s().v3)(),x=(0,p().tz)(),S=n().A.isMobile,b=(0,a().K8)((()=>!S&&"preview_and_form_factor"===r().default.getEligibleGroup({experimentId:"revamped_onboarding_private_page_v2",defaultGroup:"control"})),[S]),y=(0,a().K8)((()=>{const{currentUserStore:e}=v().default.state;return Boolean(null==e?void 0:e.getOnboardingCompleted())}),[]);return(0,T.jsxs)(C,{style:{cursor:"auto",flexDirection:b?void 0:"column",justifyContent:b?void 0:"center"},children:[(0,T.jsx)(B,{}),(0,T.jsx)(_().s,{isElectron:f.device.isElectron}),(0,T.jsx)(R,{isLink:y}),S?void 0:(0,T.jsx)(O,{src:"light"===h.mode?d().A.images.onboarding.skeletonPageExtendedLightSvg:d().A.images.onboarding.skeletonPageExtendedDarkSvg,alt:x.formatMessage({id:"fullPageError.privatePagePagePreview.alt",defaultMessage:"Blurred image showing a preview of a generic private page on Notion"}),shouldShowContentInCenter:b}),b?(0,T.jsxs)(z,{pageTitle:e,publicPageData:t,route:i,store:o,shouldShowChangingPermissionsHeading:c,children:[u?(0,T.jsx)(j().PageBlockPermissionsMenuComponent,{sudoModeStore:g,inviteTargetsStore:m}):null,(0,T.jsx)(I().a,{sudoModeStore:g})]}):(0,T.jsxs)(N,{pageTitle:e,publicPageData:t,route:i,store:o,shouldShowChangingPermissionsHeading:c,children:[u?(0,T.jsx)(j().PageBlockPermissionsMenuComponent,{sudoModeStore:g,inviteTargetsStore:m}):null,(0,T.jsx)(I().a,{sudoModeStore:g})]}),!S&&b?(0,T.jsx)("div",{style:{position:"fixed",bottom:0,insetInlineStart:"50%",transform:"translateX(calc(-1 * 50%))",zIndex:5},children:(0,T.jsx)(A().D,{padding:32})}):void 0]})}function N({children:e,descriptionWidth:t,publicPageData:i,route:r,store:s,shouldShowChangingPermissionsHeading:c,pageTitle:d}){const u=n().A.isMobile,{spaceId:g,pageId:p}={...i},h=(0,a().K8)((()=>s.state.flowId),[s]),[f,x]=(0,o.useState)(!1),b=(0,a().K8)((()=>{const{currentUserStore:e}=v().default.state;return!(null!=e&&e.getOnboardingCompleted())}),[]),j=M(i,f),w=E(c,d,f),_=D(c,f,b),k=(0,l().IS)((e=>({container:{background:u?"transparent":e.background.secondary,width:"100%",marginTop:u?0:"auto",paddingTop:32},actionButtons:{marginTop:"15px"},description:{color:e.text.secondary,fontSize:u?m().J.UIRegular.mobile:m().J.UIRegular.desktop,lineHeight:u?m().K_.UIRegular.mobile:m().K_.UIRegular.desktop,margin:0,maxWidth:t??"340px",padding:"0 8px",textAlign:"center"},title:{color:e.text.primary,fontSize:"17px",fontWeight:m().Wy.semibold,lineHeight:"22px",margin:0,maxWidth:"340px",padding:"0 8px",textAlign:"center"},button:{width:232}})),[u,t]);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(S().wt,{alignItems:"center",gap:u?8:12,justifyContent:"center",style:k.container,flexGrow:u?1:void 0,children:[j,(0,T.jsx)("p",{style:k.title,children:w}),(0,T.jsx)("p",{style:k.description,children:_}),(0,T.jsx)(S().Ye,{gap:6,style:k.actionButtons,children:!f&&p&&g?(0,T.jsx)(y().c,{type:"page",block:{id:p,spaceId:g},flowId:h,buttonType:"primary",customIsAccessRequestPending:f,customSetIsAccessRequestPending:x,buttonStyle:k.button}):(0,T.jsx)(P().D,{route:r,store:s,color:"blue",isRevamped:!0})}),e,u?void 0:(0,T.jsx)(A().D,{padding:32})]}),u?(0,T.jsx)(A().D,{}):void 0]})}function O({src:e,alt:t,shouldShowContentInCenter:i=!1}){const o=(0,l().IS)((e=>({container:{position:"fixed",insetInlineStart:i?"50%":"15%",top:i?"50%":"15%",width:i?void 0:"70vw",height:i?void 0:"70vw",transform:i?"translate(calc(-1 * 50%), calc(-1 * 50%))":"scale(1)",zIndex:-1,transformOrigin:"top left",WebkitMask:"linear-gradient(to bottom, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%)",filter:"dark"===e.mode?"brightness(0.6)":void 0},image:{objectFit:i?"cover":"contain",pointerEvents:"none",userSelect:"none",height:"100%",width:"100%"}})),[i]);return(0,T.jsx)("div",{style:o.container,children:(0,T.jsx)("img",{src:e,alt:t,style:o.image})})}function U({children:e,style:t}){const i=(0,l().IS)((e=>({PageErrorFooter:{paddingBottom:"44px",paddingTop:"44px",marginTop:"auto",textAlign:"center",...t}})),[t]);return(0,T.jsx)("footer",{style:i.PageErrorFooter,children:e})}function F(){return{isShowingTabBar:(0,a().O$)(c().b),isFullscreen:(0,a().K8)((()=>x().A.state.isFullScreen),[])}}},454317:(e,t,i)=>{i.d(t,{Q:()=>l,S:()=>a});i(296540);var o=()=>i(56366),r=()=>i(69708),n=()=>i(765957),s=i(474848);function a({pageTitle:e}){return e?(0,s.jsx)(r().sA,{id:"fullPageError.changePermissions.titleWithPageName",defaultMessage:"Change permissions for {pageTitle}",values:{pageTitle:e}}):(0,s.jsx)(r().sA,{id:"fullPageError.changePermissions.title",defaultMessage:"Change permissions for this page"})}function l(){const e=(0,o().K8)((()=>{var e;return null===(e=n().default.state.sidebarSpaceStore)||void 0===e?void 0:e.getName()}),[]);return e?(0,s.jsx)(r().sA,{id:"fullPageError.workspaceOwner.changePermissions.descriptionWithSpaceName",defaultMessage:"As a workspace owner for <b>{spaceName}</b>, you can change the permissions of this page.",values:{b:(...e)=>(0,s.jsx)("b",{children:e}),spaceName:e}}):(0,s.jsx)(r().sA,{id:"fullPageError.workspaceOwner.changePermissions.description",defaultMessage:"As an owner of this workspace, you can change the permissions of this page.",values:{b:(...e)=>(0,s.jsx)("b",{children:e})}})}},454354:(e,t,i)=>{i.d(t,{A:()=>n});var o=()=>i(765957);class r extends(()=>i(757695))().Store{getInitialState(){return{changePermissionsEnabled:!1,privatePageStore:void 0,privateWorkflowStore:void 0,loading:!1,error:void 0}}shouldSaveTransactionWithSudoMode(e){const t=e===this.state.privatePageStore||e===this.state.privateWorkflowStore,i=this.doesUserAlreadyHaveEditorAccess(e.pointer);return t&&this.state.changePermissionsEnabled&&!i}shouldUserHaveAccessToPrivatePageBlock(){var e,t;const i=null===(e=o().default.state.sidebarSpaceStore)||void 0===e?void 0:e.canAdmin(),r="enterprise"===(null===(t=o().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getSubscriptionTier());return this.state.privatePageStore&&i&&r}shouldUserHaveAccessToPrivateWorkflow(){var e,t;const i=null===(e=o().default.state.sidebarSpaceStore)||void 0===e?void 0:e.canAdmin(),r="enterprise"===(null===(t=o().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getSubscriptionTier());return this.state.privateWorkflowStore&&i&&r}doesUserAlreadyHaveEditorAccess(e){const t=o().default.state.sidebarSpaceStore;if(!t)return!1;return(e.table===i(179034).ev?i(148832).B.createChildStore(t,e):"collection"===e.table?i(543665).m.createChildStore(t,e):i(201718).N.createChildStore(t,e)).canAdmin()}}const n=r},476800:(e,t,i)=>{i.d(t,{r:()=>n,z:()=>s});i(296540);var o=()=>i(69708),r=i(474848);function n({canRequestAccess:e,pageTitle:t,inSudoModeAndInTrash:i}){return e?i?t?(0,r.jsx)(o().sA,{id:"fullPageError.canReqestAccess.inTrash.titleWithPageName",defaultMessage:"No access to {pageTitle} in Trash",values:{pageTitle:t}}):(0,r.jsx)(o().sA,{id:"fullPageError.canRequestAccess.inTrash.title",defaultMessage:"No access to this page in Trash"}):t?(0,r.jsx)(o().sA,{id:"fullPageError.canRequestAccess.titleWithPageName",defaultMessage:"No access to {pageTitle}",values:{pageTitle:t}}):(0,r.jsx)(o().sA,{id:"fullPageError.canRequestAccess.title",defaultMessage:"No access to this page"}):(0,r.jsx)(o().sA,{id:"fullPageError.noAccess.title",defaultMessage:"Page not found"})}function s({canRequestAccess:e,inSudoModeAndInTrash:t}){return e?t?(0,r.jsx)(o().sA,{id:"fullPageError.pageInTrash.message",defaultMessage:"As a <bold>workspace owner</bold>, you can restore this page to update access to it",values:{bold:e=>(0,r.jsx)("b",{children:e})}}):(0,r.jsx)(o().sA,{id:"fullPageError.canRequestAccess.message",defaultMessage:"You can access this page if someone approves your request."}):(0,r.jsx)(o().sA,{id:"fullPageError.cannotRequestAccess.message",defaultMessage:"You don’t have permission to access this page."})}},517592:(e,t,i)=>{i.d(t,{A:()=>r});i(296540);var o=i(474848);const r=(0,i(340498).wt)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},527441:(e,t,i)=>{i.d(t,{A$:()=>c,K8:()=>d,pT:()=>l});var o=()=>i(909520),r=()=>i(31790),n=()=>i(665859),s=()=>i(994877),a=()=>i(765957);function l(e){const{publicPageData:t,environment:i,flowId:o,store:s,skipClickLogging:l}=e;s.setState({...s.state,didPerformAction:!0}),l||(0,r().X)(i,{button_name:"join-workspace",flow_id:o});const{currentUserRootStore:c,currentUserSettingsStore:d}=a().default.state;if(c&&d&&t.spaceId){const e=t.spaceId;n().DT({environment:i,userRootStore:c,spaceId:e,navigate:!0,analyticsFrom:"page_error",userSettingsStore:d})}}function c(e){s().SI({environment:e,from:"page_error"})}function d(e,t,i){(0,o().x)(i,{type:e,flow_id:t})}},589895:(e,t,i)=>{i.d(t,{Bs:()=>d,L:()=>c,Ob:()=>l});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(803949);var o=i(296540),r=()=>i(852507),n=()=>i(118884),s=()=>i(994310),a=()=>i(473336);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e,this.localStorage[e]&&(delete this.localStorage[e],this.writeToLocalStorage());this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&(delete this.localStorage[e],this.writeToLocalStorage())}}registerView(e,t){if(this.currentPageId!==e)return;const i=this.entryForPage(e);i.v=[...new Set([...i.v,t])],i.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const i=this.localStorage[e];i&&(i.v=i.v.filter((e=>e!==t)),0===i.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=s().A.get(a().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),s().A.set(a().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function c({collectionContextStore:e,isFullScreen:t,wasCreatedThisSessionStore:i,didDelayOffscreenRenderRef:r,environment:n}){const s=(0,o.useCallback)((()=>{var t;const i=null===(t=e.collectionViewStore())||void 0===t?void 0:t.id,o=n.RouterStore.state.route;if("page"!==o.name)return;const a=o.blockId;a&&i&&(r.current?(l.unregisterView(a,i),e.shouldDelayRenderStore.removeListener(s)):l.registerView(a,i))}),[e,r,n]);(0,o.useEffect)((()=>{var o;if(t||i.state)return;const r=null===(o=e.collectionViewStore())||void 0===o?void 0:o.id,a=n.RouterStore.state.route;if("page"!==a.name)return;return a.blockId&&r?(e.shouldDelayRenderStore.addListener(s),s(),()=>{e.shouldDelayRenderStore.removeListener(s)}):void 0}),[e,t,i,n,s])}function d({pageId:e,isFrameContext:t}){(0,r().l)((()=>{t&&l.startCachingViewIds(e)})),(0,n().X)((()=>{t&&l.stopCachingViewIds()}))}},623275:(e,t,i)=>{i.d(t,{$D:()=>c,CJ:()=>g,CY:()=>f,Sg:()=>l,iM:()=>x,kJ:()=>p,kx:()=>h,qj:()=>v,rL:()=>n,sH:()=>m,u6:()=>s,zr:()=>d});var o=()=>i(278238),r=()=>i(115512);const n=16,s=20,a=10,l=12,c=456,d=24,u=24,g=48;function p({theme:e,isMobile:t}){return{background:e.background.tertiaryTranslucent,borderRadius:8,paddingTop:8,paddingBottom:8,paddingInlineStart:8,paddingInlineEnd:8,marginInlineStart:t?0:n,marginInlineEnd:t?0:n,marginTop:4,marginBottom:8}}function m(){return{...f(),width:"unset",height:g,paddingTop:6,paddingBottom:6}}function h({environment:e}){return(0,r().ny)(e,e.device.isMobile?"UISmall":"UIRegular")}function f(){return{borderRadius:a,transition:"background 150ms ease-out"}}function v({isMobile:e}){return e?12:10}function x({theme:e,colorOverride:t,size:i=u,useLargeBorderRadius:r,useLightBackgroundColor:n,icon:s}){return{background:t||(s&&(0,o().T8)(s)?(0,o().ez)({icon:s,mode:e.mode,useLightGrayColor:n}):n?e.lightDividerColor:e.regularDividerColor),width:i,height:i,borderRadius:r?6:"0.25em"}}},701141:(e,t,i)=>{i.d(t,{G:()=>d});var o=()=>i(584262),r=()=>i(427704),n=()=>i(126744),s=()=>i(765957),a=()=>i(495939),l=()=>i(577142),c=()=>i(601866);function d(e){if((0,n().U)(e))return void(0,a().a)(e);const{currentUserRootStore:t,currentUserSettingsStore:i,sidebarSpaceViewStore:d}=s().default.state;t&&i?d?c().tR({environment:e,spaceViewStore:d,userRootStore:t,userSettingsStore:i,pageVisitSource:o().y8.PageError,navigationType:"switchingToOrLoadingSpace"}):c().t9({environment:e,userRootStore:t,userSettingsStore:i,pageVisitSource:o().y8.PageError}):(0,l().navigate)({environment:e,url:r().JZ.root,redirect:!0})}},736316:(e,t,i)=>{i.d(t,{f:()=>r});var o=()=>i(449412);function r(e){const{name:t,startTime:i,endTime:r}=e;try{performance.measure(t,{start:i,end:r})}catch(n){o().Fg(n,{extra:{name:t,startTime:i,endTime:r}})}}},781539:(e,t,i)=>{i.d(t,{G:()=>m});i(296540);var o=()=>i(484714),r=()=>i(401497),n=()=>i(97294),s=()=>i(631524),a=()=>i(426388),l=()=>i(427704),c=()=>i(69708),d=()=>i(125565),u=()=>i(527441),g=()=>i(405077),p=i(474848);function m({forceTheme:e}){const t=(0,o().v3)(),i=(0,r().IS)((t=>({flexContainer:{alignItems:"center",display:"flex",gap:"6px"},secondaryColor:{color:e?e.text.secondary:t.text.secondary},button:{color:e?e.text.secondary:t.text.secondary,padding:0},buttonPressed:{background:e?e.buttonPressedBackground:t.buttonPressedBackground}})),[e]);return(0,p.jsxs)(g().b0,{style:i.flexContainer,children:[(0,p.jsx)(d().A,{isInline:!0,style:i.secondaryColor,children:(0,p.jsxs)(n().N,{href:"https://www.notion.com/product",external:!0,style:{...i.flexContainer,...i.secondaryColor},children:[(0,a().S)({width:16,height:16}),(0,p.jsx)(c().sA,{id:"fullPageError.whatIsNotionButton.label",defaultMessage:"What is Notion?"})]})}),(0,p.jsx)(d().A,{isInline:!0,style:i.secondaryColor,children:"·"}),(0,p.jsx)(d().A,{isInline:!0,style:i.secondaryColor,children:(0,p.jsx)(s().p,{colorPalette:"gray",onClick:()=>(0,u().A$)(t),pressedStyle:i.buttonPressed,style:i.button,children:(0,p.jsx)(c().sA,{id:"fullPageError.messageSupport.message",defaultMessage:"Message support"})})}),(0,p.jsx)(d().A,{isInline:!0,style:i.secondaryColor,children:"·"}),(0,p.jsx)(d().A,{isInline:!0,style:i.secondaryColor,children:(0,p.jsx)(n().N,{href:l().JZ.termsAndPrivacy,external:!0,children:(0,p.jsx)(c().sA,{id:"fullPageError.termsAndPrivacyButton.label",defaultMessage:"Terms"})})})]})}},817411:(e,t,i)=>{i.d(t,{A:()=>u});i(581454),i(296540);var o=()=>i(484714),r=()=>i(56366),n=()=>i(401497),s=()=>i(75435);const a=[[2,1,3,1],[1,0,2,0],[0,2,0,3],[3,3,0,2],[1,1,2,2]];var l=()=>i(710149),c=()=>i(749687),d=i(474848);function u({skipFadeinDelay:e}){const{isElectronMac:t,isTablet:i,isAndroid:u}=(0,o().Y0)(),p=(0,o().v3)(),m=(0,r().O$)(s().b),h=t&&!m,f=(0,r().O$)(c().sidebarExpandedStore),{paddingTop:v,paddingLeft:x}=(0,r().K8)((()=>{const{WindowSizeStore:e}=p;return{paddingTop:e.getSafePaddingTopPx(0),paddingLeft:e.getSafePaddingLeftPx(0)}}),[p]),S=(0,r().K8)((()=>f?c().sidebarWidthStore.state:0),[f]),b=(0,n().IS)((e=>{const t={width:20,height:20,borderRadius:4},o={height:10,minHeight:10,borderRadius:10};return{sidebar:{backgroundColor:e.background.secondary,boxShadow:e.sidebarBoxShadow,display:f?"flex":"none",minWidth:S,flexDirection:"column",padding:"12px 14px",paddingInlineStart:Math.max(x,14),...i&&u?{paddingTop:v+10}:{},overflow:"hidden"},heroSection:{paddingTop:h?36:0,marginBottom:22,display:"flex",alignItems:"center"},heroSectionIcon:{padding:"1px",...t,width:22,height:22},heroSectionTitle:{width:177,marginInlineStart:8,...o},toplevelMenu:{marginBottom:20,width:78,...o},toplevelMenuLast:{marginBottom:36,width:135,...o},sectionHeader:{marginBottom:14,width:56,...o},pageRow:{display:"flex",alignItems:"center",marginBottom:11},pageIcon:{...t},pageTitle:{marginInlineStart:8,...o}}}),[f,S,h,v,x,i,u]),y=(0,d.jsxs)("div",{style:b.heroSection,children:[(0,d.jsx)(l().A,{style:b.heroSectionIcon,emphasized:!0}),(0,d.jsx)(l().A,{style:b.heroSectionTitle,emphasized:!0})]}),j=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(l().A,{style:b.toplevelMenu,emphasized:!0}),(0,d.jsx)(l().A,{style:b.toplevelMenu,emphasized:!0}),(0,d.jsx)(l().A,{style:b.toplevelMenu,emphasized:!0}),(0,d.jsx)(l().A,{style:b.toplevelMenuLast,emphasized:!0})]}),w=(0,d.jsx)(l().A,{style:b.sectionHeader,emphasized:!0}),A=a.map(((t,i)=>t.map(((t,o)=>(0,d.jsxs)("div",{style:{...!e&&g(i),...b.pageRow},children:[(0,d.jsx)(l().A,{style:b.pageIcon,emphasized:!0}),(0,d.jsx)(l().A,{style:{...b.pageTitle,width:80+20*t},emphasized:!0})]},`${i}-${o}`)))));return(0,d.jsxs)("div",{style:b.sidebar,children:[y,j,w,A]})}function g(e){return 0===e?{}:{animation:`1s ease-in ${e}s 1 normal both running fadein`}}},853113:(e,t,i)=>{i.d(t,{u:()=>r});var o=()=>i(44551);function r(e){o().electronApi&&o().electronApi.navigationReady&&o().electronApi.navigationReady(e)}},903252:(e,t,i)=>{i.d(t,{D:()=>I});var o=i(296540),r=()=>i(484714),n=()=>i(56366),s=()=>i(401497),a=()=>i(427704),l=()=>i(69708),c=()=>i(284371),d=()=>i(401176),u=()=>i(381678),g=()=>i(38337),p=()=>i(181405),m=()=>i(997513),h=()=>i(905654),f=()=>i(215152),v=()=>i(20489),x=()=>i(765957),S=()=>i(589994),b=()=>i(125565),y=()=>i(453697),j=()=>i(719147),w=()=>i(21140),A=()=>i(527441),P=()=>i(781539),_=()=>i(405077),k=i(474848);function I(e){const{padding:t}=e,i=(0,s().DP)(),a=(0,r().v3)(),c=(0,n().K8)((()=>(0,u()._)(a)),[a]),g=(0,n().O$)(x().AppStoreMainEditorCurrentBlockStore),p=(0,n().K8)((()=>null==c?void 0:c.getEmail()),[c]);return(0,o.useEffect)((()=>{g&&d().bC({environment:a,store:g})}),[a,g]),c?(0,k.jsx)(_().b0,{style:t?{paddingTop:t,paddingBottom:t}:void 0,children:(0,k.jsxs)(w().Ye,{alignItems:"center",flexWrap:"wrap",gap:6,justifyContent:"center",children:[(0,k.jsx)(y().A,{userStore:c}),(0,k.jsx)(b().A,{isInline:!0,isSecondaryColor:!0,children:(0,k.jsx)(l().sA,{id:"fullPageError.loggedInUserCurrentAccount.message",defaultMessage:"Logged in as {currentlyLoggedInUser}",values:{currentlyLoggedInUser:(0,k.jsx)("span",{style:{color:i.text.primary},children:p})}})}),(0,k.jsx)(b().A,{isInline:!0,isSecondaryColor:!0,children:"·"}),(0,k.jsx)(T,{...e})]})}):(0,k.jsx)(P().G,{})}function T(e){const t=(0,r().v3)(),i=(0,n().uB)(e.loginStore,v().A),o=(0,n().uB)(e.loginModalStore,f().A);return S().transactionQueue.hasTasks()?(0,k.jsx)(b().A,{isInline:!0,isSecondaryColor:!0,children:(0,k.jsx)(j().A,{disableUnderline:!0,onClick:()=>(0,A().A$)(t),children:(0,k.jsx)(l().sA,{id:"fullPageError.messageSupport.message",defaultMessage:"Message support"})})}):(0,k.jsx)(b().A,{isInline:!0,isSecondaryColor:!0,style:{fontWeight:c().Wy.medium},children:h().T_(t)?(0,k.jsxs)(j().A,{disableUnderline:!0,onClick:()=>{o.setState({open:!0})},children:[(0,k.jsx)(l().sA,{id:"fullPageError.loggedInUserSwitchAccount.message",defaultMessage:"Switch account"}),(0,k.jsx)(m().z,{loginModalStore:o,loginStore:i,title:(0,k.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,k.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."}),className:g().w7$,trustedDomain:e.trustedDomain})]}):(0,k.jsx)(j().A,{disableUnderline:!0,href:a().JZ.logout,onClick:()=>p().ri(t),children:(0,k.jsx)(l().sA,{id:"fullPageError.loggedInUserSwitchAccount.message",defaultMessage:"Switch account"})})})}},915086:(e,t,i)=>{i.r(t),i.d(t,{measurePageRenderMetrics:()=>T,setInitialRenderCompleted:()=>k,setSubMetric:()=>w,setSubMetricsAtRenderCallback:()=>j,updateMetricData:()=>A,updateMetricDataWithIsPushTag:()=>I,updateOPFSMetadata:()=>_,updateOPFSMetricData:()=>P});i(898992),i(354520),i(581454),i(737550),i(814603),i(147566),i(198721);var o=()=>i(564884),r=()=>i(242422),n=()=>i(906510),s=()=>i(410690),a=()=>i(589895),l=()=>i(473336),c=()=>i(807054),d=()=>i(150749),u=()=>i(466088),g=()=>i(402411),p=()=>i(135055),m=()=>i(959462),h=()=>i(671973),f=()=>i(406792),v=()=>i(736316),x=()=>i(765957),S=()=>i(961581),b=()=>i(977390),y=()=>i(606932);function j(e){const{mainStartTime:t,prefetchInitiatedTime:i,statsigBootupBlockingStartTime:o,renderStartTime:r,renderEndTime:n}=e,a=s().getAppStartTime();if(!a)return;const l={app_start_to_main_start:{startTime:a,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:i},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:i,endTime:o},statsig_bootup_blocking:{startTime:o,endTime:r},render_start_to_render_end:{startTime:r,endTime:n}};for(const[s,c]of Object.entries(l)){const e=null==c?void 0:c.startTime,t=null==c?void 0:c.endTime;e&&t&&(0,v().f)({name:s,startTime:e,endTime:t})}S().A.state.subMetricsStore.update((e=>({...e,...l})))}function w(e){const{name:t,endTime:i}=e,o=e.startTime(S().A.state.subMetricsStore.state);o&&(S().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:o,endTime:i}}))),(0,v().f)({name:t,startTime:o,endTime:i}))}function A(e){S().A.state.metricDataStore.update((t=>({...t,...e})))}function P(e){S().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function _(e){S().A.update((t=>({...t,opfsMetadata:{...t.opfsMetadata,...e}})))}function k(){S().A.update((e=>({...e,initialRenderCompleted:!0}))),h().N.markInitialPageRendered()}function I(e){const t=e.RouterStore.state;let i;var o;"page"===t.route.name&&(i=t.route.mobileData,A({is_push:null===(o=i)||void 0===o?void 0:o.isPush}))}function T({environment:e,isEditable:t,isHomePage:i,isWikiHome:a,isPageWithCustomLayout:l,idSchema:d}){const{initialRoute:{name:g},route:p}=e.RouterStore.state,{initialRenderCompleted:m,initialRenderAfterLoginCompleted:v}=S().A.state,x=c().isPrewarmedTabInitialRender(e),j=(0,u().w)(e);m?v||"login"!==g?async function(e,t){const i="page"===t.name?t.mobileData:void 0,{timings:o,isDeduplicatingLcpc:r}=y().A.popTimings();if(o){const{navigationStart:n,requestFirstChunkStart:s,requestFirstChunkEnd:a,requestFirstChunkSource:l,requestFirstChunkLocalSource:d,pageViewBlockRender:u}=o,g=performance.now(),p="page"===t.name?e.prefetchCache.getPrefetchAnalytic(`loadCachedPageChunk(${t.blockId})`):void 0,{metrics:m,metadata:v}=y().A.popOPFSData(),x="local"===l&&"opfs"===d,{is_autosynced_origin:b,is_explicitly_offlined_origin:j}=C(e);f().default.measure({metricName:"navigation_page_render",startTime:n,endTime:g},{environment:e,data:{sub_metrics:{navigation_start_to_request_first_chunk_start:s?s-n:0,request_first_chunk_start_to_request_first_chunk_end:s&&a?a-s:0,request_first_chunk_end_to_pvb_render:a&&u?u-a:0,pvb_render_to_handle_navigation_render:u?g-u:0},chunk_source:l,local_source:d,is_push:(null==i?void 0:i.isPush)??!1,wasm_sqlite_initialized:S().A.state.metricDataStore.state.wasm_sqlite_initialized,opfs_metrics:x?m:void 0,opfs_metadata:v,...p?{page_chunk_prefetch:p,page_chunk_prefetch_type:p.type}:{},is_deduplicating_lcpc:"boolean"==typeof r?r:"unknown",is_autosynced_origin:b,is_explicitly_offlined_origin:j,is_swv2:await c().isSWV2()}}),h().N.markNavigationRender(e)}b().A.state.isMeasuring&&b().A.update((e=>({...e,isMeasuring:!1})))}(e,p):function(e){f().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),S().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(e):x?async function({environment:e,initialRoute:t,isEditable:i,isHomePage:o,isWikiHome:r,isPageWithCustomLayout:n,isPublicDomain:s,idSchema:a}){k();const l=performance.now();w({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:l});const{is_autosynced_origin:c,is_explicitly_offlined_origin:d}=await D(e),u=S().A.state.prewarmedTabAppStartTimeOverride;u&&f().default.measure({metricName:"initial_page_render",startTime:u,endTime:l},{environment:e,data:await M({initialRoute:t,isEditable:i,isHomePage:o,isWikiHome:r,isPageWithCustomLayout:n,isPublicDomain:s,idSchema:a,isPrewarmedTab:!0,prewarmedTabNavigationStart:u,isAutosyncedOrigin:c,isExplicitlyOfflinedOrigin:d}),shouldSendIfStatsigNotInitialized:!0});b().A.state.isMeasuring&&b().A.update((e=>({...e,isMeasuring:!1})))}({environment:e,initialRoute:g,isEditable:t,isHomePage:i,isWikiHome:a,isPageWithCustomLayout:l,isPublicDomain:j,idSchema:d}):async function({environment:e,initialRoute:t,isEditable:i,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:d,idSchema:u}){var g;const{initialLoadCachedPageChunkCalledAt:p}=S().A.state;k();const m=Boolean(null===(g=performance)||void 0===g?void 0:g.mark)?performance.mark("initial_page_render").startTime:performance.now();n().S3.mark("initial_page_render"),w({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:m});const h=s().getAppStartTime(),v=s().getPageOriginTime();h&&v&&v>0&&h>v&&w({name:"page_origin_to_app_start",startTime:()=>v,endTime:h});const{is_autosynced_origin:x,is_explicitly_offlined_origin:b}=await D(e);f().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:m},{environment:e,data:await M({initialRoute:t,isEditable:i,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:d,idSchema:u,onAppStartSetting:"root"===t?R(e):void 0,prefetchedQueryCollection:E(e),isPrewarmedTab:!1,isAutosyncedOrigin:x,isExplicitlyOfflinedOrigin:b}),shouldSendIfStatsigNotInitialized:!0});S().A.state.subMetricsStore.state;void 0!==p&&f().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:p},{environment:e,data:{initial_route:t},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});r().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t,i){var r;if(null===(r=performance)||void 0===r||!r.getEntriesByType)return;const n=performance.getEntriesByType("resource"),s={eventName:"pre_ipr_assets",eventProperties:{ipr_duration:i,ipr_end:t,assets:n.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}})).filter((e=>e.perf_end<=t))}};(0,o().u)({environment:e,event:s})}(e,m,v?m-v:void 0)}({environment:e,initialRoute:g,isEditable:t,isHomePage:i,isWikiHome:a,isPageWithCustomLayout:l,isPublicDomain:j,idSchema:d})}async function M(e){const{initialRoute:t,isEditable:i,isHomePage:o,isWikiHome:r,isPageWithCustomLayout:n,isPublicDomain:a,isPrewarmedTab:l,idSchema:u,prefetchedQueryCollection:g,onAppStartSetting:p,isAutosyncedOrigin:m,isExplicitlyOfflinedOrigin:h}=e;return{...c().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:i,is_home_page:o,is_page_with_custom_layout:n,is_public_domain:a,profiling_tool:(0,d().getProfilingToolForSession)(),is_wiki_home:r,time_origin_to_app_start:s().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:g,is_prewarmed_tab:l,desktop_load_origin:c().getDesktopLoadOrigin(l),desktop_tab_count:S().A.state.desktopTabCount,is_swv2:await c().isSWV2(),opfs_metadata:S().A.state.opfsMetadata,is_deduplicating_lcpc:"boolean"==typeof S().A.state.isDeduplicatingLcpc?S().A.state.isDeduplicatingLcpc:"unknown",on_app_start_setting:p,is_autosynced_origin:m,is_explicitly_offlined_origin:h}}function E(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return a().Ob.lookupViewIds(t.blockId).some((t=>{var i;const o=(0,l().A)(t),r=null===(i=e.prefetchCache)||void 0===i?void 0:i.getPrefetchAnalytic(o);return"hit-match"===(null==r?void 0:r.type)||"attempted"===(null==r?void 0:r.type)||"hit-mismatch"===(null==r?void 0:r.type)}))}async function D(e){if((0,p().Nj)(e))try{await m().A.waitUntil((()=>void 0!==m().A.state.offlinePages),{timeout:5e3})}catch(t){}return C(e)}function C(e){var t,i;const o=e.RouterStore.state.route;if("page"!==o.name||!o.blockId)return{is_autosynced_origin:!1,is_explicitly_offlined_origin:!1};return{is_autosynced_origin:(null===(t=m().A.state.offlinePages)||void 0===t||null===(t=t[o.blockId])||void 0===t?void 0:t.is_autosynced_origin)??!1,is_explicitly_offlined_origin:(null===(i=m().A.state.offlinePages)||void 0===i||null===(i=i[o.blockId])||void 0===i?void 0:i.is_explicitly_offlined_origin)??!1}}function R(e){var t,i;const o=null===(t=x().default.state.sidebarSpaceViewStore)||void 0===t?void 0:t.getModel(),r=null===(i=x().default.state.sidebarSpaceStore)||void 0===i?void 0:i.getModel();if(o&&r)return(0,g().Y)(e,{spaceView:o,space:r})}},969339:(e,t,i)=>{i.d(t,{C6:()=>s,HQ:()=>n,Yo:()=>a});var o=()=>i(645873);const r=new(o().O2)("login",(async()=>{const{default:e}=await Promise.all([i.e(44711),i.e(35837),i.e(4422),i.e(4330),i.e(6642),i.e(96229),i.e(98718),i.e(96966)]).then(i.bind(i,465209)),{default:t}=await Promise.all([i.e(44711),i.e(35837),i.e(4422),i.e(4330),i.e(6642),i.e(96229),i.e(98718),i.e(96966)]).then(i.bind(i,406370)),{LoginMobileNative:o}=await Promise.all([i.e(44711),i.e(35837),i.e(4422),i.e(4330),i.e(6642),i.e(96229),i.e(98718),i.e(96966)]).then(i.bind(i,551256)),{default:r}=await Promise.all([i.e(44711),i.e(35837),i.e(4422),i.e(4330),i.e(6642),i.e(96229),i.e(98718),i.e(96966)]).then(i.bind(i,204050)),{default:n}=await Promise.all([i.e(44711),i.e(35837),i.e(4422),i.e(4330),i.e(6642),i.e(96229),i.e(98718),i.e(96966)]).then(i.bind(i,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:o,FrontLoginPage:r,LoginModalContent:n}})),n=(0,o()._h)(r,(e=>e.LoginPage)),s=(0,o()._h)(r,(e=>e.FrontLoginPage)),a=(0,o()._h)(r,(e=>e.LoginModalContent))},997513:(e,t,i)=>{i.d(t,{z:()=>p});var o=i(296540),r=()=>i(484714),n=()=>i(56366),s=()=>i(401497),a=()=>i(611648),l=()=>i(69708),c=()=>i(107683),d=()=>i(2143),u=()=>i(969339),g=i(474848);function p({loginModalStore:e,loginStore:t,title:i,description:s,isSignup:a,disableLoginLink:l,redirectURL:d,className:p,onDismiss:v,trustedDomain:x}){const S=(0,r().v3)(),b=(0,n().K8)((()=>e.state.open),[e]),y=(0,o.useId)(),j=(0,o.useId)(),w={loginStore:t,title:i,description:s,isSignup:a,redirectURL:d,disableLoginLink:l,titleAriaId:y,descriptionAriaId:j,trustedDomain:x};return(0,g.jsx)(c().s,{ariaLabelledBy:y,ariaDescribedBy:j,isOpen:b,onDismiss:()=>{f({loginModalStore:e,loginStore:t,onDismiss:v})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,g.jsx)(m,{children:(0,g.jsxs)("div",{className:p,children:[S.device.isMobile?void 0:(0,g.jsx)(h,{loginModalStore:e,loginStore:t,onDismiss:v}),(0,g.jsx)(u().Yo,{...w})]})})})}function m({children:e}){return(0,r().v3)().device.isMobile?(0,g.jsx)(d().H,{type:a().A.Y,children:e}):e}function h({loginModalStore:e,loginStore:t,onDismiss:i}){const o=(0,s().DP)();return(0,g.jsx)("div",{style:{fontSize:14,color:o.text.secondary,position:"absolute",insetInlineEnd:0,marginTop:16,marginInlineEnd:16,cursor:"pointer",zIndex:1},onClick:()=>{f({loginModalStore:e,loginStore:t,onDismiss:i})},children:(0,g.jsx)(l().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function f(e){const{loginModalStore:t,loginStore:i,onDismiss:o}=e;i.reset(),t.setState({open:!1}),o&&o()}}}]);