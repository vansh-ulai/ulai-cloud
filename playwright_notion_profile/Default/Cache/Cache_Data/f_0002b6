"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2597],{9768:(e,t,o)=>{o.d(t,{Br:()=>M,Jh:()=>T,Lb:()=>b,YE:()=>w,cu:()=>A});o(16280),o(898992),o(672577);var n=o.n(o(32485)),i=o(296540),r=()=>o(59226),a=()=>o(726637),l=()=>o(484714),d=()=>o(56366),s=()=>o(778781),p=()=>o(534177),c=()=>o(623186),m=()=>o(860116),u=()=>o(620612),g=()=>o(600871),h=()=>o(478726),y=()=>o(321909),f=()=>o(548821),v=()=>o(517223),S=()=>o(823082),_=()=>o(241181),I=()=>o(817942),B=o(474848);const b=12,w=12,P=10,x=10,k=8;function C({collectionSchema:e,module:t}){return!(!e||"normalizedTitleWithIcon"!==t.type)&&(0,v().LD)({collectionSchema:e,module:t}).length>0}function T({layoutModule:e,area:t,context:o,collectionSchema:l,collectionStore:g,showDetailsPanelToggleButtonBelowTitle:v,modules:T,postContext:M}){const A=T.findIndex((t=>t.id===e.id)),E=null!=T&&T.length&&-1!==A?T[A+1]:void 0,D=(0,_().p)({collectionStore:g,layoutModule:E}),j=(0,c().aN)(g),K=(0,d().K8)((()=>Boolean(null==g?void 0:g.isPageTreeCollection())),[g]),V=(0,y().y)(),L=(0,r().X)("bottom_page_discussions_enabled"),N=(0,d().K8)((()=>(0,m().I)(null==g?void 0:g.getLayoutStore())),[g]),W=(0,d().K8)((()=>(0,u().n)()),[]),z=N&&!W,[F,R]=(0,i.useMemo)((()=>{const n=C({collectionSchema:l,module:e});let i=!1;const r={};if("page_details"===t||"person_profile_page_details"===t)r.marginBottom=P,r.paddingBottom=x;else if("page_main"===t||"person_profile_page_main"===t)r.marginBottom=w,r.paddingBottom=b;else if("views_main_tab_modules"===t)r.marginBottom=w,r.paddingBottom=b;else{if("form_layout_schema"===t||"form_conditional_modules"===t)throw new Error("Not implemented for forms");if("dashboard_layout_schema"===t)throw new Error("Not implemented for dashboard");(0,p().HB)(t)}const d="editor"===(null==E?void 0:E.type);(0,h().Mi)(M)?"editor"===e.type&&M!==f().Rr.DraftPostInFullPageComposer?i=!0:"normalizedTitleWithIcon"===e.type&&(r.marginBottom=void 0,r.paddingBottom=k):d&&(i=!0,"normalizedTitleWithIcon"!==e.type||n||(i=!1,r.marginBottom=void 0,r.paddingBottom=void 0),"views_main_tab_modules"===t&&(i=!1,r.marginBottom=void 0,r.paddingBottom=void 0)),D&&r.marginBottom&&(r.marginBottom=Math.max(r.marginBottom-4,0)),"page_main"!==t&&"page_details"!==t&&"views_main_tab_modules"!==t||(V||"discussions"===e.type?r.marginInlineStart=0:"normalizedTitleWithIcon"===e.type?r.marginInlineStart=-4:(0,s().gx)(e)||"properties"===e.type||"relationsGroup"===e.type?r.marginInlineStart=-6:"editor"===e.type&&(r.marginInlineStart=-2));const c="views"===(null==E?void 0:E.type)||"editor"===(null==E?void 0:E.type);return"page_main"!==t&&"page_details"!==t||!r.paddingBottom||c||("property_text"===e.type||"property_relation"===e.type&&j?r.paddingBottom=Math.max(r.paddingBottom-4,0):"properties"===e.type&&(K&&!a().A.isMobile||(r.paddingBottom=Math.max(r.paddingBottom-4,0))),"viewsMain"===(null==E?void 0:E.type)&&(r.paddingBottom=Math.max(r.paddingBottom-12,0))),"normalizedTitleWithIcon"===e.type&&(n?a().A.isMobile&&"properties"===(null==E?void 0:E.type)&&!D&&(r.paddingBottom=void 0,r.marginBottom=4):(v?"discussions"===(null==E?void 0:E.type)&&(r.marginBottom=void 0):"properties"===(null==E?void 0:E.type)?(r.paddingBottom=void 0,r.marginBottom=8):"discussions"===(null==E?void 0:E.type)&&(r.paddingBottom=b),a().A.isMobile&&"discussions"===(null==E?void 0:E.type)&&(r.marginBottom=void 0))),"bottomControls"===e.type&&(r.paddingBottom=void 0,r.marginBottom=void 0),"discussions"===e.type&&d&&(r.paddingBottom=void 0,L&&(r.marginBottom=void 0)),"discussions"===e.type&&z&&(r.paddingTop=40),"inlinePageSections"!==(null==E?void 0:E.type)&&"expandedBacklinks"!==(null==E?void 0:E.type)&&"bottomControls"!==(null==E?void 0:E.type)||(r.marginBottom=8),"editor"!==e.type||(0,h().Mi)(M)||o===f().Rr.Presentation||(r.marginTop=8),("views"===e.type||"editor"===e.type&&!(0,h().Mi)(M))&&(r.paddingBottom=void 0,r.marginBottom=void 0),"viewsMain"===e.type&&(r.paddingBottom=void 0),o===f().Rr.DraftPostInInlineComposer&&(r.marginBottom=4,r.paddingBottom=0),[i,r]}),[l,e,t,null==E?void 0:E.type,D,K,o,j,v,M,V,L,z]);return(0,i.useMemo)((()=>function(t){return(0,B.jsx)(I().vV,{className:n()({"layout-content-with-divider":F}),style:R,testId:(0,S().H)(e),children:t})}),[e,F,R])}function M({layoutModule:e,area:t,collectionSchema:o,collectionStore:n,showDetailsPanelToggleButtonBelowTitle:i,pageMainModules:r}){const a=(0,l().Y0)(),s=(0,d().K8)((()=>{if(!n)return!1;return!!r.find((e=>"normalizedTitleWithIcon"===e.type))&&i}),[n,r,i]),p=(0,g().D1)(a);if(!n)return!1;if("properties"!==e.type&&"discussions"!==e.type&&"relationsGroup"!==e.type)return!1;if("page_main"!==t)return!0;const c=r.findIndex((t=>t.id===e.id));if(0===c||r.length<=1)return!1;if("discussions"===e.type&&p)return!1;const m=r[c-1];if("normalizedTitleWithIcon"!==(null==m?void 0:m.type))return!0;if("relationsGroup"===e.type&&s)return!0;if("properties"===e.type&&s&&!a.isPhone)return!0;const u=C({collectionSchema:o,module:m});return("properties"!==e.type||!a.isPhone||!u)&&u}function A({collectionStore:e,modulesByArea:t}){return!((e.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0})||[]).length>0)&&0===(0,v().Ul)({collectionStore:e,modulesByArea:t}).length}},146594:(e,t,o)=>{o.d(t,{H:()=>r});var n=()=>o(645873);const i=new(n().O2)("UpdateSidebarTabInfo",(async()=>await Promise.all([o.e(75134),o.e(58636),o.e(78405),o.e(83627),o.e(21377)]).then(o.bind(o,722143)))),r=(0,n()._h)(i,(e=>e.UpdateSidebarTabInfo))},240865:(e,t,o)=>{o.d(t,{V:()=>r});var n=()=>o(56366),i=()=>o(765957);function r(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},241181:(e,t,o)=>{o.d(t,{p:()=>r});var n=o(296540),i=()=>o(56366);function r({collectionStore:e,layoutModule:t}){const o=(0,i().K8)((()=>Boolean(null==e?void 0:e.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0}))),[e]);return(0,n.useMemo)((()=>!(!t||!e)&&("properties"===t.type&&"pinned"!==t.variant&&o)),[e,o,t])}},323974:(e,t,o)=>{o.d(t,{q:()=>c});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(33791),l=()=>o(548821),d=()=>o(712287),s=()=>o(517223),p=()=>o(455994);function c(e){const{collectionStore:t,from:o,forceShowButtonIfNoProperties:c,pageViewBlockContext:m}=e,u=(0,r().K8)((()=>null==t?void 0:t.getLayoutStore()),[t]),g=(0,i().v3)(),h=m===l().Rr.PeekView,y=(0,r().K8)((()=>p().A.getPanelState(h?"peek":"mainPage").isOpen),[h]),f=(0,r().K8)((()=>!!t&&(0,a().v)({collectionStore:t,collectionViewBlockStore:t.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[t]),v=(0,r().K8)((()=>!!u&&u.getModules().page_details.length>0),[u]),{count:S,isPropertiesModuleInPageDetails:_}=(0,r().K8)((()=>v&&t?(0,s().pm)({collectionStore:t}):{count:0,isPropertiesModuleInPageDetails:!1}),[v,t]),I=n.useCallback((()=>{if(!u)return;const e={environment:g,layoutStore:u,from:o,panelLocation:h?"peek":"mainPage"};y?(0,d().F)(e):(0,d().j)(e)}),[g,o,y,h,u]),B=n.useMemo((()=>m!==l().Rr.InPageSnapShot&&(m!==l().Rr.DraftPostInInlineComposer&&(S>0||!!c&&(_&&f)))),[m,S,c,_,f]);return{pageDetailsPropertiesCount:S,toggleDetailsPanel:I,isDetailsPanelOpen:y,pageDetailsHasModules:v,canShowButton:B}}},396896:(e,t,o)=>{o.d(t,{VP:()=>d,fI:()=>l});o(296540);var n=()=>o(401497),i=o(474848);function r(e,t){const o={};if(e.margin)if("number"==typeof e.margin||"auto"===e.margin)o.marginInlineStart=e.margin,o.marginInlineEnd=e.margin,o.marginTop=e.margin,o.marginBottom=e.margin;else{const t=e.margin.split(/\s+/);1===t.length?(o.marginInlineStart=t[0],o.marginInlineEnd=t[0],o.marginTop=t[0],o.marginBottom=t[0]):2===t.length?(o.marginTop=t[0],o.marginBottom=t[0],o.marginInlineStart=t[1],o.marginInlineEnd=t[1]):3===t.length?(o.marginTop=t[0],o.marginInlineStart=t[1],o.marginInlineEnd=t[1],o.marginBottom=t[2]):4===t.length&&(o.marginTop=t[0],o.marginInlineEnd=t[1],o.marginBottom=t[2],o.marginInlineStart=t[3])}if(t.padding)if("number"==typeof t.padding)o.paddingInlineStart=t.padding,o.paddingInlineEnd=t.padding,o.paddingTop=t.padding,o.paddingBottom=t.padding;else{const e=t.padding.split(/\s+/);1===e.length?(o.paddingInlineStart=e[0],o.paddingInlineEnd=e[0],o.paddingTop=e[0],o.paddingBottom=e[0]):2===e.length?(o.paddingTop=e[0],o.paddingBottom=e[0],o.paddingInlineStart=e[1],o.paddingInlineEnd=e[1]):3===e.length?(o.paddingTop=e[0],o.paddingInlineStart=e[1],o.paddingInlineEnd=e[1],o.paddingBottom=e[2]):4===e.length&&(o.paddingTop=e[0],o.paddingInlineEnd=e[1],o.paddingBottom=e[2],o.paddingInlineStart=e[3])}return e.marginInlineStart&&(o.marginInlineStart=e.marginInlineStart),e.marginInlineEnd&&(o.marginInlineEnd=e.marginInlineEnd),e.marginTop&&(o.marginTop=e.marginTop),e.marginBottom&&(o.marginBottom=e.marginBottom),t.paddingInlineStart&&(o.paddingInlineStart=t.paddingInlineStart),t.paddingInlineEnd&&(o.paddingInlineEnd=t.paddingInlineEnd),t.paddingTop&&(o.paddingTop=t.paddingTop),t.paddingBottom&&(o.paddingBottom=t.paddingBottom),o}function a(e){const t=(0,n().IS)((t=>{const o=function(e){const t={};return void 0!==e.margin&&(t.margin=e.margin),void 0!==e.marginTop&&(t.marginTop=e.marginTop),void 0!==e.marginBottom&&(t.marginBottom=e.marginBottom),void 0!==e.marginInlineStart&&(t.marginInlineStart=e.marginInlineStart),void 0!==e.marginInlineEnd&&(t.marginInlineEnd=e.marginInlineEnd),t}({margin:e.margin,marginTop:e.marginTop,marginBottom:e.marginBottom,marginInlineStart:e.marginInlineStart,marginInlineEnd:e.marginInlineEnd}),n=function(e){const t={};return void 0!==e.padding&&(t.padding=e.padding),void 0!==e.paddingTop&&(t.paddingTop=e.paddingTop),void 0!==e.paddingBottom&&(t.paddingBottom=e.paddingBottom),void 0!==e.paddingInlineStart&&(t.paddingInlineStart=e.paddingInlineStart),void 0!==e.paddingInlineEnd&&(t.paddingInlineEnd=e.paddingInlineEnd),t}({padding:e.padding,paddingTop:e.paddingTop,paddingBottom:e.paddingBottom,paddingInlineStart:e.paddingInlineStart,paddingInlineEnd:e.paddingInlineEnd});return{root:{display:"flex",flexDirection:e.flexDirection,alignItems:e.alignItems,justifyContent:e.justifyContent,alignSelf:e.alignSelf,gap:e.gap??"inherit",flexGrow:e.grow,flexWrap:e.wrap,height:e.height,width:e.width,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:e.minHeight,...r(o,n)}}}),[e.flexDirection,e.alignItems,e.justifyContent,e.alignSelf,e.gap,e.margin,e.padding,e.grow,e.wrap,e.height,e.marginTop,e.marginBottom,e.marginInlineStart,e.marginInlineEnd,e.paddingTop,e.paddingBottom,e.paddingInlineStart,e.paddingInlineEnd,e.width,e.maxWidth,e.maxHeight,e.minWidth,e.minHeight]);return(0,i.jsx)("div",{style:t.root,children:e.children})}function l(e){return(0,i.jsx)(a,{flexDirection:"row",...e})}function d(e){return(0,i.jsx)(a,{flexDirection:"column",...e})}},555801:(e,t,o)=>{o.r(t),o.d(t,{TopbarLayoutInfoButton:()=>x});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=o(474848);const l={viewBox:"0 0 20 20",fittedViewBox:"1.62 3.62 16.75 12.75",directional:!0,svg:(0,a.jsx)("path",{d:"M16.25 3.625c1.174 0 2.125.951 2.125 2.125v8.5a2.125 2.125 0 0 1-2.125 2.125H3.75a2.125 2.125 0 0 1-2.125-2.125v-8.5c0-1.174.951-2.125 2.125-2.125zm-12.5 1.25a.875.875 0 0 0-.875.875v8.5c0 .483.392.875.875.875h8.7V4.875zm9.8 10.25h2.7a.875.875 0 0 0 .875-.875v-8.5a.875.875 0 0 0-.875-.875h-2.7z"})},d=(0,o(340498).wt)("sidebarRight",l);var s=()=>o(69708),p=()=>o(146594),c=()=>o(553965),m=()=>o(712287),u=()=>o(323974),g=()=>o(933951),h=()=>o(455994),y=()=>o(644914),f=()=>o(737230),v=()=>o(548821),S=()=>o(712505),_=()=>o(406699),I=()=>o(285790),B=()=>o(859428),b=()=>o(863059);const w=(0,s().YK)({showInfoToolTip:{defaultMessage:"View details",id:"topbar.infoButton.tooltip"},hideInfoToolTip:{defaultMessage:"Hide details",id:"topbar.infoButton.tooltipToHide"},buttonAriaLabel:{defaultMessage:"Page info",id:"topbar.infoButton.text"}});function P({layoutStoreId:e,inPeek:t,onClick:o,...n}){const i=(0,s().tz)(),l=(0,b().gQ)(),p=(0,r().K8)((()=>h().A.getPanelState(t?"peek":"mainPage").isOpen),[t]);return(0,a.jsx)("div",{style:l.iconButton,children:(0,a.jsx)(I().A,{style:{width:l.iconButton.width,height:l.iconButton.height},icon:d,iconStyle:l.icon,ariaLabel:i.formatMessage(w.buttonAriaLabel),focused:p,onClick:e=>{null==o||o(e)},...n})})}function x(e){const{blockStore:t,buttonPopupStore:o,pageViewBlockContext:l}=e,d=(0,i().v3)(),I=(0,i().Y0)(),b=(0,n.useMemo)((()=>(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(s().sA,{...w.showInfoToolTip})})),[]),x=(0,n.useMemo)((()=>(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(s().sA,{...w.hideInfoToolTip})})),[]),k=(0,r().K8)((()=>{if(S().default.state.open)return S().default.state.targetStore}),[]),C=(0,r().K8)((()=>t.getAssociatedCollectionStore()),[t]),T=(0,r().K8)((()=>null==C?void 0:C.getLayoutStore()),[C]),M=(0,g().sS)({pageStore:t,pageViewBlockStore:void 0,collectionStore:C}).page_details,A=k===t,E=(0,r().K8)((()=>h().A.getPanelState(A?"peek":"mainPage").displayStyle),[A]),D=(0,y().rw)({tab:f().tF.Info}),j=A?"peek":"mainPage",{toggleDetailsPanel:K,canShowButton:V}=(0,u().q)({collectionStore:C,from:"topbar",forceShowButtonIfNoProperties:!0,pageViewBlockContext:l}),L=(0,r().K8)((()=>h().A.getPanelState(A?"peek":"mainPage").isOpen),[A]);if(!V||!T)return null;if(!A){const e=D?x:b;return(0,a.jsx)(B().A,{placement:"bottom",renderTooltip:()=>e,render:e=>(0,a.jsx)(P,{...e,layoutStoreId:T.id,inPeek:A,onClick:K})})}if("static_sidebar"===E){const e=L?x:b;return(0,a.jsx)(B().A,{placement:"bottom",renderTooltip:()=>e,render:e=>(0,a.jsx)(P,{...e,layoutStoreId:T.id,inPeek:A,onClick:K})})}return(0,a.jsx)(_().A,{popupType:I.isMobile?_().z.SlideUp:_().z.Popup,onClose:()=>{(0,m().F)({environment:d,layoutStore:T,from:"topbar",panelLocation:j})},buttonPopupStore:o,renderOrigin:e=>(0,a.jsx)(B().A,{placement:"bottom",renderTooltip:()=>b,render:t=>(0,a.jsx)(P,{...(0,c().A)(e,t),layoutStoreId:T.id,inPeek:A,onClick:K})}),originGap:8,render:()=>(0,a.jsx)(p().H,{modules:M,store:t,context:A?v().Rr.PeekView:v().Rr.Frame,disabled:!1,shownAs:"popup"}),style:{width:380,overflow:"hidden"}})}},577814:(e,t,o)=>{o.d(t,{A:()=>l});o(898992),o(354520);var n=()=>o(449195),i=()=>o(478726),r=()=>o(299545),a=()=>o(252833);function l(e){var t;const{store:o,pageViewBlockStore:l,environment:d}=e,s=r().O3(o,{recursivelyLoadAllDiscussions:!1}).sort(((e,t)=>t.getReactions().length-e.getReactions().length)),p=s.length>0,c=0===s.length,m=0===s.filter((e=>e.getComments().length>0)).length,u="PageDetailsStore"in d&&d.PageDetailsStore.getToggleState({environment:d,type:"discussion",id:o.id}),g={type:"hidden"},h=o.getAssociatedCollectionStore()??o,y="section_hide"===(0,n().z5)(null===(t=h.getFormat())||void 0===t?void 0:t.page_section_visibility);if(!(null==l?void 0:l.state.forceDiscussionOpen)&&(!o.isInsideCollection()||!c)&&(c||p&&(!1===u||void 0===u&&y)))return g;if(y)return g;const f=o.pathIsDead();if(c&&f)return g;const v=function(e){const{environment:t,blockStore:o,visibilityStore:n,hasNoOpenCommentDiscussion:r}=e;return!!t.currentUser.isLoggedIn()&&(!(!o.canComment()||!r)&&(!((0,i().sV)(o)||(0,i().fc)(o)&&!(0,i().Cg)(o))&&(!(n!==o&&"isExternallyImportedAndSyncedCollection"in n)||(0,a().vW)(n))))}({environment:d,blockStore:o,visibilityStore:h,hasNoOpenCommentDiscussion:m});return!v&&c?g:{type:"visible",showDiscussionInput:v,unresolvedDiscussionStores:s}}},620612:(e,t,o)=>{o.d(t,{n:()=>i});var n=()=>o(263711);function i(){return n().g.state.isOpen}},623186:(e,t,o)=>{o.d(t,{Od:()=>v,U$:()=>S,aN:()=>y,z7:()=>f});o(16280),o(898992),o(354520),o(672577),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(69708),l=()=>o(496603),d=()=>o(821062),s=()=>o(896628),p=()=>o(231297),c=()=>o(33791),m=()=>o(862292),u=()=>o(645873),g=()=>o(395963),h=()=>o(517223);function y(e){return(0,r().K8)((()=>!!e&&(0,c().v)({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[e])}function f({store:e,format:t,schema:o,collectionStore:n,propertyIds:l,propertyGroupId:s}){const p=(0,i().v3)(),c=(0,a().tz)(),{value:g}=(0,u().fJ)(m().T.formulas);return(0,r().K8)((()=>(0,h().e7)({store:e,format:t,schema:o,collectionStore:n,propertyIds:l,propertyGroupId:s,intl:c,environment:p,formulasModule:g})),[e,t,o,n,l,s,c,p,g],{equalityFn:d().k})}function v({collectionStore:e,format:t}){const o=(0,i().v3)();return(0,n.useCallback)((n=>{const i=t.collection_page_properties||[],r=[...(0,l().oE)(n.map((e=>i.find((t=>t.property===e))))),...i.filter((e=>!n.includes(e.property)))];p().createAndCommit({userAction:"PageProperties.handleReorder",environment:o,canUndo:!0,perform:t=>{s().zA({stores:[e],update:{collection_page_properties:r},transaction:t})}})}),[e,o,t.collection_page_properties])}function S({collectionStore:e,propertyGroupId:t}){const o=(0,i().v3)();return(0,n.useCallback)((n=>{if(!t)throw new Error("cannot reorder properties for property group -- no property group id provided");p().createAndCommit({userAction:"PagePropertiesGroup.handleReorder",environment:o,canUndo:!0,perform:o=>{(0,g()._h)({collectionStore:e,newPartialPropertyIds:n,groupId:t,transaction:o})}})}),[e,o,t])}},817942:(e,t,o)=>{o.d(t,{A5:()=>m,MR:()=>v,Mx:()=>d,Pb:()=>h,WL:()=>f,hg:()=>s,kZ:()=>y,pv:()=>p,vV:()=>g});o(581454);var n=o.n(o(32485)),i=o(296540),r=()=>o(11048),a=()=>o(455994),l=o(474848);const d=i.forwardRef((function(e,t){const{children:i,type:d,gap:s,withBottomPadding:p,style:c,onMouseDown:m,onClick:u,onDoubleClick:g,onContextMenu:h,suppressMargin:y}=e,f=(0,o(551619).n$)(d),v=(0,o(56366).K8)((()=>a().A.getPanelState("peek").isOpen&&"static_sidebar"===a().A.getPanelState("peek").displayStyle),[]);return(0,l.jsx)(r().A,{name:"PageLayout",children:(0,l.jsx)("div",{className:n()("layout",{"layout-wide":"wide"===d,"layout-wide-right-margin-expanded":"wide-right-margin-expanded"===d,"layout-side-peek":"side-peek"===d,"layout-center-peek":"center-peek"===d&&!v,"layout-center-peek-with-layout-panel":"center-peek"===d&&v,"layout-home":"home"===d,"layout-meet":"meet"===d,"layout-home-phone":"home-phone"===d,"layout-home-redesign-desktop":"home-redesign-desktop"===d,"layout-form":"form"===d,"layout-form-viewer":"form-viewer"===d,"layout-form-viewer-embed":"form-viewer-embed"===d,"layout-phone":"phone"===d,"layout-tablet":"tablet"===d,"layout-template-preview":"template-preview"===d,"layout-chat":"chat"===d,"layout-layout-editor":"layout-editor"===d,"layout-layout-editor-wide":"layout-editor-wide"===d,"layout-layout-editor-narrow":"layout-editor-narrow"===d,"layout-marketplace":"marketplace"===d,"layout-marketplace-mobile":"marketplace-mobile"===d,"layout-team-home":"team-home"===d,"layout-team-home-mobile":"team-home-mobile"===d,"layout-create-post":"create-post"===d,"layout-fullscreen-ai":"fullscreen-ai"===d,"layout-narrowscreen-ai":"narrowscreen-ai"===d,"layout-presentation-mode":"presentation-mode"===d,"layout-person-profile":"person-profile"===d,"layout-suppress-margin":y}),style:{paddingBottom:p?f:void 0,gap:s,...c},ref:t,onMouseDown:m,onClick:u,onDoubleClick:g,onContextMenu:h,children:i})})})),s="layout-content",p="layout-full",c="layout-margin-right",m="hide-scrollbar",u="layout-column",g=i.forwardRef((function(e,t){return(0,l.jsx)(r().A,{name:"PageLayoutContent",children:(0,l.jsx)("div",{className:n()(s,e.className),style:e.style,ref:t,children:e.children})})}));function h(e){return(0,l.jsx)(r().A,{name:"PageLayoutFull",children:(0,l.jsx)("div",{className:p,style:e.style,children:e.children})})}function y(e){return(0,l.jsx)(r().A,{name:"PageLayoutMarginRight",children:(0,l.jsx)("div",{className:c,style:{...e.style,pointerEvents:"none"},children:e.children})})}function f(e){return(0,l.jsx)(r().A,{name:"PageLayoutColumn",children:(0,l.jsx)("div",{className:n()(u,e.className),style:{"--min-column-width":e.minWidth?`${e.minWidth}px`:"100%",...e.style},children:e.children})})}function v(e){return(0,l.jsx)(r().A,{name:"PageLayoutTwoColumn",children:(0,l.jsxs)(f,{minWidth:e.minWidth,className:e.className,style:e.style,children:[e.left,e.right]})})}},823082:(e,t,o)=>{o.d(t,{H:()=>r});var n=()=>o(778781),i=()=>o(534177);function r(e){const t=e.type;return"properties"===t?"module__properties_"+("pinned"===e.variant?"minimal":"expanded"):"normalizedTitleWithIcon"===t||"titleWithIcon"===t?"module__title_with_icon":"cover"===t?"cover__module":"views"===t?"module__views":"editor"===t?"module__editor":"formTitle"===t?"module__formTitle":"viewsMain"===t?"module__views_main":"transcript"===t?"module__transcript":"formSubmit"===t?"module__form_submit":"discussions"===t?"module__discussion":"placeholder"===t?"module__placeholder":"formQuestion"===t?"module__formQuestion":"bottomControls"===t?"module__bottomControls":"relationsGroup"===t?"module__relationsGroup":"deleted_property"===t?"module__deleted_property":"expandedBacklinks"===t?"module__expandedBacklinks":"inlinePageSections"===t?"module__inlinePageSections":"property"===t?`module__property_${e.id}`:"collectionView"===t?"module__collectionView":"collectionViewV2"===t?"module__collectionViewV2":(0,n().CA)(t)?`module__property_${e.id}`:void(0,i().HB)(t)}},933951:(e,t,o)=>{o.d(t,{Qf:()=>_,sS:()=>v,ub:()=>S});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(672577),o(737550);var n=o(296540),i=()=>o(59226),r=()=>o(484714),a=()=>o(56366),l=()=>o(455348),d=()=>o(691678),s=()=>o(235692),p=()=>o(778781),c=()=>o(33791),m=()=>o(577814),u=()=>o(478726),g=()=>o(240865),h=()=>o(981342),y=()=>o(548821),f=()=>o(9768);function v(e){const{pageStore:t,pageViewBlockStore:o,postContext:i,collectionStore:l,collectionSchema:s}=e,{collectionStore:u,collectionFormat:g,collectionSchema:h,canConfigureCollection:y}=(0,a().K8)((()=>{const e=l||(null==t?void 0:t.getAssociatedCollectionStore()),o=s||(null==e?void 0:e.getSchema()),n=null==e?void 0:e.getFormat(),i=e&&(0,c().v)({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1});return{collectionStore:e,collectionSchema:o,collectionFormat:n,canConfigureCollection:i}}),[t,l,s]),v=(0,r().v3)(),_=(0,a().K8)((()=>{var e;return null===(e=(0,m().A)({environment:v,store:t,pageViewBlockStore:o}))||void 0===e?void 0:e.type}),[v,t,o]),I=S({collectionFormat:g,collectionSchema:h,layoutStore:(0,a().K8)((()=>null==u?void 0:u.getLayoutStore()),[u]),postContext:i,pageStoreId:null==t?void 0:t.id,pageStore:t}),B=(0,a().K8)((()=>{const e=I.page_main.some((e=>(0,p().i_)(e)))||I.page_details.some((e=>(0,p().i_)(e)));return!(!u||!e)&&(0,f().cu)({modulesByArea:I,collectionStore:u})}),[I,u]),b=(0,n.useMemo)((()=>{const e=new Set;return(!Boolean(u)||!y&&B)&&e.add("properties"),"hidden"===_&&e.add("discussions"),e}),[y,u,_,B]);return(0,n.useMemo)((()=>0===b.size?I:(0,d().KO)(I,(e=>!b.has(e.type)))),[I,b])}function S(e){const{layoutStore:t,collectionSchema:o,collectionFormat:r,postContext:d,pageStoreId:p,pageStore:c}=e,m=(0,n.useRef)(p),f=(0,n.useRef)(null),v=(0,a().K8)((()=>null==c?void 0:c.getSpaceStore()),[c]),S=(0,g().V)(v)??0,_=(0,i().X)("bottom_page_discussions_enabled"),B=(0,a().K8)((()=>(0,h().sF)()),[]);return(0,a().K8)((()=>{var e;if(d===y().Rr.DraftPostInInlineComposer)return s().wC;if(null!=c&&c.isPersonProfile())return I({personProfileStore:c,spaceMemberCount:S,isPeopleCollectionEnabled:B});if((0,u().Mi)(d)){const e=(0,l().aG)(o,"created_time"),t=(0,l().aG)(o,"created_by"),n=[];t&&n.push(t),e&&n.push(e);return{...s()._u,page_main:[{...s()._u.page_main[0],propertyIds:n},...s()._u.page_main.slice(1)]}}let n=null==t?void 0:t.getModules();const i=p&&n&&p===m.current&&0===n.page_main.length&&(null===(e=f.current)||void 0===e?void 0:e.page_main.find((e=>"editor"===e.type)));return n&&!i||(n=(0,s().xN)({collectionSchema:o,collectionFormat:r,isBottomPageDiscussionsEnabled:_})),m.current=p,f.current=n,n}),[d,c,t,p,S,o,r,_,B],{useDeepEqual:!0})}function _(e){const{personProfileStore:t}=e,o=(0,a().K8)((()=>t.getSpaceStore()),[t]),n=(0,g().V)(o)??0,i=(0,a().K8)((()=>(0,h().sF)()),[]);return(0,a().K8)((()=>I({personProfileStore:t,spaceMemberCount:n,isPeopleCollectionEnabled:i})),[t,n,i],{useDeepEqual:!0})}function I(e){const{personProfileStore:t,spaceMemberCount:o,isPeopleCollectionEnabled:n}=e,i=t.getAssociatedCollectionStore();if(!i)return(0,s().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:n});const r=i.getLayoutStore();if(!r)return(0,s().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:n});const a=r.getModules();return!a||0===a.person_profile_page_main.length&&0===a.person_profile_page_details.length?(0,s().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:n}):a}}}]);