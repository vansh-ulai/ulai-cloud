"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[71204,72982],{56419:(e,t,r)=>{r.r(t),r.d(t,{Sidebar:()=>tt});var n=r(296540),a=()=>r(242422),i=()=>r(402014),o=()=>r(484714),s=()=>r(56366),d=()=>r(401497),l=()=>r(75435),c=()=>r(72307),u=()=>r(232280),p=()=>r(69708),S=()=>r(284371),b=()=>r(145214),g=()=>r(77395),h=()=>r(406632),v=()=>r(38337),f=()=>r(51260),m=()=>r(155723),x=()=>r(224011),y=()=>r(865241),w=()=>r(869562),j=()=>r(644914),k=()=>r(749687),I=()=>r(362749),A=()=>r(765957),_=()=>r(923455),E=()=>r(82648),M=()=>r(998109),B=()=>r(59226),T=()=>r(252291),R=()=>r(529099),C=()=>r(829548),P=()=>r(925695),O=()=>r(120282),D=()=>r(490044),z=()=>r(47373),K=()=>r(272509),L=()=>r(303742),V=()=>r(310526),H=()=>r(430483),W=(r(898992),r(737550),()=>r(187174)),U=()=>r(386164),F=()=>r(559506),N=()=>r(755199),G=()=>r(680074),$=()=>r(124749),X=()=>r(179534);var Y=()=>r(797730),q=()=>r(35392),J=r(474848);function Z(e){const{styles:t,isPublicPageSearch:n}=e,a=(0,o().v3)(),i=(0,j().ab)(),d=(0,s().K8)((()=>(0,r(159588).ic)()),[]),l=(0,s().K8)((()=>H().zD.isMiniSearchModalEnabled()),[]),c=(0,s().K8)((()=>!!l&&r(786601).A.state.isOpen),[l]),u=(0,s().K8)((()=>{const e=r(295169).default.getActiveSession(),t=null==e?void 0:e.assistantConfigurationState,n="chat"===a.RouterStore.state.route.name;if(!t)return!1;return(0,r(551345).or)({configurationState:t})&&n}),[a]);return(0,J.jsx)(r(859428).A,{renderTooltip:()=>(0,J.jsx)(Q,{}),originGap:6,placement:"right",disableTooltip:c,render:e=>(0,J.jsx)(r(718827).Ay,{...e,onClick:()=>{r(260488)._N({environment:a,analyticsFrom:"sidebar",isPublicPageSearch:n})},hoveredStyle:null==t?void 0:t.buttonHoveredStyle,style:{...i.baseSidebarItem,...u&&i.currentSelectedSidebarItem},children:(0,J.jsx)(D().A,{left:(0,J.jsx)(T().I,{icon:r(207207).J,colorVariant:"secondary",size:"lg"}),style:d,rightStyle:{height:void 0,alignSelf:"stretch"},children:(0,J.jsx)(p().sA,{defaultMessage:"Search",id:"sidebar.search.label"})})})})}function Q(){const e=(0,d().IS)((e=>({shortcutLabel:{color:e.text.inverseSecondary}})),[]);return(0,J.jsxs)("div",{children:[(0,J.jsx)("div",{children:(0,J.jsx)(p().sA,{defaultMessage:"Search and quickly jump to a page",id:"sidebar.quickFindSearch.tooltip"})}),(0,J.jsx)(q().A,{style:e.shortcutLabel,name:"openLinkMenuOrOpenSearch"})]})}const ee=n.memo(Z);var te=()=>r(837822);function re(){const e=(0,o().v3)(),t=(0,_().Rx)(),r=(0,s().O$)(A().AppStoreSidebarSpaceStore),{currentUserRootStore:a,currentUserStore:i,sidebarSpaceViewStore:l}=(0,s().K8)((()=>({currentUserRootStore:A().default.state.currentUserRootStore,currentUserStore:A().default.state.currentUserStore,sidebarSpaceViewStore:A().default.state.sidebarSpaceViewStore})),[]),c=(0,s().K8)((()=>(0,V().U)(l)),[l]),u=(0,s().K8)((()=>(null==t?void 0:t.isMember)||c),[null==t?void 0:t.isMember,c]),p=(0,s().K8)((()=>(0,z().i3)({spaceStore:r,spaceViewStore:l,userRootStore:a,currentUserStore:i})),[r,a,i,l]),S=function({environment:e}){const t=(0,s().K8)((()=>{const{sidebarSpaceStore:e}=A().default.state;if(e)return e}),[]),r=(0,$().$)(),a=(0,s().K8)((()=>{const{results:e}=X().A.state,r=null==t?void 0:t.getSpaceId();return e.some((e=>e.spaceId===r&&(e.unreceived.notificationIds.length>0||Object.values(e.unread).some((e=>e>0)))))}),[t]),i=(0,B().X)("hide_sidebar_inbox_and_trash"),o=(0,s().K8)((()=>{var t;const r=(0,G().R$)(e);return(null==r||null===(t=r.getSettings())||void 0===t?void 0:t.adoption_sidebar_inbox)??!1}),[e]),[d]=(0,W().Yb)((async()=>{if(o||!r||!t)return null;const n=await F().callApi({eventName:"getNotificationLog",environment:e,data:{spaceId:t.id,size:1,type:"unread_and_read"},userId:r.id,headers:(0,U().WS)({spaceId:t.id})});return"failed"!==n.type&&n.data.notificationIds.length>0}),[t,r,e,o]),l=a||((null==d?void 0:d.value)??!1);return(0,n.useEffect)((()=>{l&&!o&&N().DH(e)}),[e,l,o]),o||!i||l}({environment:e}),b=(0,d().IS)((e=>({container:{flexGrow:0,flexShrink:0,paddingBottom:8,display:"flex",flexDirection:"column",gap:1,cursor:"pointer",marginInlineStart:j().bG,marginInlineEnd:j().bG},sidebarItemHoveredStyle:{background:e.sidebarItemSelectedBackground}})),[]),g=(0,n.useMemo)((()=>({buttonHoveredStyle:b.sidebarItemHoveredStyle})),[b.sidebarItemHoveredStyle]),h=(0,B().X)("sidebar_library"),v=(0,B().X)("feed_sidebar_item"),f=(0,s().K8)((()=>(0,K().I)(r)),[r]),m=(0,B().X)("meeting_notes_page")&&!f,x=(0,s().K8)((()=>(0,L().o)(l)),[l]),y=v&&!x,w=h&&!x&&!f,k=(0,s().K8)((()=>H().zD.isAiEnabled()),[]),E="top_section"===(null==t?void 0:t.documentationLinkLocation);return(0,J.jsxs)("div",{style:b.container,children:[(0,J.jsx)(ee,{styles:g}),u?(0,J.jsx)(M().n,{step:"home",children:(0,J.jsx)(te().Ay,{styles:g})}):void 0,m?(0,J.jsx)(I().rU,{styles:g,renderLoading:()=>(0,J.jsx)(ne,{icon:O().a,message:Y().D.meetings})}):void 0,y?(0,J.jsx)(I().Hf,{styles:g,renderLoading:()=>(0,J.jsx)(ne,{icon:P().N,message:Y().D.feed})}):void 0,p?(0,J.jsx)(te().ke,{styles:g}):void 0,k?(0,J.jsx)(I().FF,{styles:g,renderLoading:()=>(0,J.jsx)(ne,{icon:R().aiFaceIcon,message:Y().D.notionAi})}):void 0,S?(0,J.jsx)(I().fu,{styles:g,renderLoading:()=>(0,J.jsx)(ne,{icon:C().y,message:Y().D.inbox})}):void 0,w?(0,J.jsx)(I().op,{styles:g}):void 0,E?(0,J.jsx)(I().Zy,{buttonStyles:{hoveredStyle:b.sidebarItemHoveredStyle},isBottomItem:!1}):void 0]})}function ne({icon:e,message:t}){const r=(0,p().tz)();return(0,J.jsx)(D().A,{left:(0,J.jsx)(T().I,{icon:e,colorVariant:"secondary",size:"lg"}),children:r.formatMessage(t)})}var ae=()=>r(381175),ie=()=>r(584262),oe=()=>r(175947),se=()=>r(601866),de=()=>r(575104),le=()=>r(205809),ce=()=>r(843518);const ue=6;function pe(){const e=(0,s().O$)(k().sidebarExpandedStore),t=(0,s().K8)((()=>x().A.state.isFullScreen),[]),r=(0,o().v3)(),{isElectronMac:a,isElectron:i}=r.device,{isTablet:c}=(0,o().Y0)(),u=(0,s().O$)(l().b),p=(0,n.useCallback)((async({event:e,spaceViewStore:t})=>{const n=(0,ae().V)(e);await se().tR({environment:r,spaceViewStore:t,userSettingsStore:A().default.state.currentUserSettingsStore,userRootStore:A().default.state.currentUserRootStore,openInNew:n,pageVisitSource:ie().y8.SwitchSpace,navigationType:"switchingToOrLoadingSpace"})}),[r]),S=(0,j().UF)({isExpanded:e,isFullScreenDesktop:t,isShowingTabBar:u,isElectron:i}),b=!(a&&e&&!t&&!u),g=(0,d().IS)((e=>({header:{display:"block",flexShrink:0,flexGrow:0},sidebarSwitcher:{height:(0,oe().ek)(a)-2*ue,borderRadius:6,marginInlineStart:8,marginInlineEnd:8,marginTop:c?-8:b?ue:0,marginBottom:ue,width:"auto"},tabletSidebarButton:{height:26,width:26},tabletNewPageButton:{height:26,width:26}})),[a,b,c]),h=(0,j().Vl)({isExpanded:e,isFullScreenDesktop:t,isShowingTabBar:u,isElectron:i});return(0,J.jsxs)("div",{style:g.header,children:[h?(0,J.jsx)(ce().F,{isExpanded:e}):void 0,(0,J.jsx)(M().n,{step:"welcome",children:(0,J.jsxs)("div",{children:[c?(0,J.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInlineStart:16,paddingInlineEnd:16,height:44,marginBottom:16},children:[(0,J.jsx)(I().jj,{defaultMobileButtonStyle:g.tabletSidebarButton}),(0,J.jsx)(le().A,{from:"sidebar_new_page_button",iconStyle:g.tabletNewPageButton})]}):void 0,(0,J.jsx)(de().Ay,{shouldShowUnexpandButton:!c&&S,shouldShowCreatePageButton:!0,format:a&&e?de().z_.DesktopMac:de().z_.Regular,onSpaceClick:p,buttonStyle:g.sidebarSwitcher,hideEmail:!0})]})})]})}var Se=()=>r(946065),be=()=>r(116225),ge=()=>r(534177),he=()=>r(872539),ve=()=>r(439264),fe=()=>r(629875),me=()=>r(645873);const xe={SidebarBottomActions:new(me().O2)("SidebarBottomActions",(async()=>await Promise.all([r.e(4351),r.e(10442),r.e(66249)]).then(r.bind(r,32614))))},ye=(0,me()._h)(xe.SidebarBottomActions,(e=>e.SidebarBottomActions));var we=()=>r(285230),je=()=>r(855801),ke=()=>r(396301),Ie=()=>r(646736),Ae=()=>r(770906),_e=()=>r(978510);const Ee=new(me().O2)("CloseSharedSectionButton",(async()=>{const{CloseSharedSectionButton:e}=await r.e(84605).then(r.bind(r,823229));return{CloseSharedSectionButton:e}})),Me=(0,me()._h)(Ee,(e=>e.CloseSharedSectionButton)),Be=new(me().O2)("EmptySharedSidebarSection",(async()=>{const{EmptySharedSidebarSection:e}=await r.e(84605).then(r.bind(r,279468));return{EmptySharedSidebarSection:e}})),Te=(0,me()._h)(Be,(e=>e.EmptySharedSidebarSection));var Re=()=>r(620149),Ce=()=>r(846955);const Pe={sidebarSectionArea:new(me().O2)("sidebar",(()=>r.e(2119).then(r.bind(r,876589))))},Oe=(0,me()._h)(Pe.sidebarSectionArea,(e=>e.SidebarSectionArea));var De=()=>r(778040),ze=()=>r(761966),Ke=()=>r(218557),Le=()=>r(131448),Ve=()=>r(975533);const He=new(me().O2)("SecondSessionDatabaseLearningController",(async()=>await r.e(27476).then(r.bind(r,77040)))),We=(0,me()._h)(He,(e=>e.SecondSessionDatabaseLearningController));var Ue=()=>r(388601);function Fe(e){const{addButtonOverride:t,handleCanAcceptDrop:r,handleDropOntoPrivateSection:a,lastEditedSortedPrivateSection:i,currentSpaceStore:s,currentSpaceViewStore:l,isTransactionQueueHealthy:c,showPrivateOverflowButton:u}=e,S=(0,o().v3)(),b=(0,_().Rx)(),g=(0,B().X)("sidebar_library"),h=(0,d().IS)((()=>({dropTarget:{width:"100%"},sidebarOutliner:{display:"flex",flexDirection:"column",gap:1,width:"100%"}})),[]),{showNoWorkspaceExperience:v}=(0,_e().R)(),f=(0,n.useCallback)((async()=>{if(g){(await(0,I().px)())(S,"private")}else(0,Ae().ZT)({environment:S,contentType:"private_pages"}),be().u4({name:"panel_opened",args:{type:"private"}})}),[S,g]);if(!b)return null;const m=Boolean(!t&&b.showPrivateSection&&c&&!v);return(0,J.jsx)(Ne,{children:(0,J.jsx)(Ke().Tl,{dropTargetKey:"Outliner-private",canDropOnto:!0,canDropBelow:!1,canAcceptDrop:r,onSelectableDrop:a,shouldShowDropZone:i,style:h.dropTarget,dropzoneStyle:{marginBottom:fe().kv},children:(0,J.jsx)(fe().Ay,{type:"private",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:s,spaceViewStore:l,showAddButton:m,outlinerToggleButtonStore:Ve().A,labelTooltip:(0,J.jsx)(p().sA,{defaultMessage:"Pages you created that are not in any teamspace.",id:"sidebar.privatePagesSection.tooltip"}),right:(0,J.jsxs)(J.Fragment,{children:[l?(0,J.jsx)(we().N,{type:"private",spaceViewStore:l}):null,t]}),renderSidebar:({labelAriaId:e,contentsAriaId:t})=>(0,J.jsxs)("div",{style:h.sidebarOutliner,children:[(0,J.jsx)(Ue().W,{type:"private",sidebarState:b,contentsAriaId:t,labelAriaId:e}),u?(0,J.jsx)(ze().H,{onClick:f,tooltipMessage:(0,J.jsx)(p().sA,{defaultMessage:"All private pages",id:"sidebar.openAllPrivatePages.tooltip"})}):void 0]})})})})}function Ne(e){return(0,s().K8)((()=>Le().default.isVisible("adoption_nux_second_session_database_learning_tooltip")),[])?(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(We,{}),(0,J.jsx)(M().n,{step:"private",children:e.children})]}):(0,J.jsx)(M().n,{step:"private",children:e.children})}var Ge=()=>r(331965),$e=()=>r(91511);function Xe({sidebarState:e}){const{spaceStore:t,spaceViewStore:r,currentUserRootStore:a,currentUserStore:i,currentUserSettingsStore:l}=(0,s().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t,currentUserRootStore:r,currentUserStore:n,currentUserSettingsStore:a}=A().default.state;return{spaceStore:e,spaceViewStore:t,currentUserRootStore:r,currentUserStore:n,currentUserSettingsStore:a}}),[]),{showTeamSection:c,showPrivateSection:u,showSharedOverflowButton:S,showPrivateOverflowButton:b,showTeamsOverflowButton:g,visibleTeamsStores:h,showEmptySharedSection:v}=e,f=(0,o().v3)(),m=(0,B().X)("sidebar_library"),x=(0,d().IS)((()=>({draggingStyle:{opacity:.7}})),[]),y=(0,s().K8)((()=>!Re().l.state),[]),k=(0,s().K8)((()=>(null==t?void 0:t.canEdit())&&y),[t,y]),{showNoWorkspaceExperience:_}=(0,_e().R)(),E=k||_,M=(0,B().X)("team_feed_as_any_other_db"),T=(0,B().X)("library_sidebar_sections"),R=(0,s().K8)((()=>r?Ye("private",e,M):[]),[r,e,M]),C=(0,s().K8)((()=>r?Ye("workspace",e,M):[]),[r,e,M]),P=(0,s().K8)((()=>(0,z().i3)({spaceStore:t,spaceViewStore:r,userRootStore:a,currentUserStore:i})),[t,a,i,r]),O=(null==e?void 0:e.sidebarOrder)??[],D=(0,ke().KP)({sidebarOrder:O,sidebarState:e,showLockedSidebar:P}),K=(0,s().K8)((()=>void 0!==r&&(0,ke().XA)({spaceViewStore:r,userSettingsStore:l})),[r,l]),L=(0,s().K8)((()=>{if(r&&t)return(0,ke().rE)({typeWithTeam:{type:"private"},spaceStore:t,spaceViewStore:r})}),[r,t]),V=(0,n.useCallback)((({draggingStores:e})=>!!K&&(!!t&&(0,ke().ox)({environment:f,draggingStores:e,parentStore:L,spaceStore:t}))),[f,L,K,t]),{value:H}=(0,me().fJ)(je().VI.duplicateActions),W=(0,n.useCallback)((async()=>{if(m){(await(0,I().px)())(f,"shared")}else(0,Ae().ZT)({environment:f,contentType:"shared_pages"}),be().u4({name:"panel_opened",args:{type:"shared"}})}),[f,m]),U=(0,Ie().I_)(t),F=(0,n.useCallback)((async e=>{L&&await he().RM({dropArgs:e,environment:f,type:"private",isDroppingOnFullSection:!0,parentStore:L,duplicateActions:H,spaceUserStore:U})}),[H,f,L,U]);if(!R||!C)return null;const N=(0,J.jsx)(ve().Ay,{shouldAnimateDrop:!0,direction:"vertical",keys:D,style:{display:"flex",flexDirection:"column",gap:j().sx},draggingStyle:x.draggingStyle,hoverCursorStyleOverride:"pointer",renderKey:n=>{if("favorites"===n)return(0,J.jsx)(fe().Ay,{type:"bookmarks",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:!1,labelTooltip:(0,J.jsx)(p().sA,{defaultMessage:"Pages you have favorited.",id:"sidebar.bookmarkedPagesSection.tooltip"}),right:r?(0,J.jsx)(we().N,{type:"favorites",spaceViewStore:r}):void 0,renderSidebar:({labelAriaId:t,contentsAriaId:r})=>(0,J.jsx)(Ue().W,{type:"bookmarks",sidebarState:e,contentsAriaId:r,labelAriaId:t})});if("workspace"===n)return(0,J.jsx)(Ge().s,{content:(0,J.jsx)(fe().Ay,{type:"workspace",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:y,labelTooltip:(0,J.jsx)(p().sA,{defaultMessage:"All workspace members can access these pages.",id:"sidebar.workspacePagesSection.tooltip"}),right:r?(0,J.jsx)(we().N,{type:"workspace",spaceViewStore:r}):void 0,renderSidebar:({labelAriaId:t,contentsAriaId:r})=>(0,J.jsx)(Ue().W,{type:"workspace",sidebarState:e,contentsAriaId:r,labelAriaId:t})}),type:"workspace"});if("shared"===n)return(0,J.jsx)(fe().Ay,{type:"shared",from:"main_sidebar",shouldPersistToggleState:!0,spaceStore:t,spaceViewStore:r,showAddButton:!1,labelTooltip:(0,J.jsx)(p().sA,{defaultMessage:"Only people you shared with can access these pages.",id:"sidebar.sharedPagesSection.tooltip"}),right:v||!r?(0,J.jsx)(Me,{}):(0,J.jsx)(we().N,{type:"shared",spaceViewStore:r}),renderSidebar:({labelAriaId:t,contentsAriaId:r})=>(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(Ue().W,{type:"shared",sidebarState:e,contentsAriaId:r,labelAriaId:t}),v?(0,J.jsx)(Te,{}):S&&(0,J.jsx)(ze().H,{onClick:W,tooltipMessage:(0,J.jsx)(p().sA,{defaultMessage:"All shared pages",id:"sidebar.openAllSharedPages.tooltip"})})]})});if("teamspaces"===n)return c?(0,J.jsx)(qe,{showTeamsOverflowButton:g,visibleTeamsStores:h}):(0,J.jsx)(I().oe,{});if("private"===n){if(u)return(0,J.jsx)(Fe,{handleCanAcceptDrop:V,handleDropOntoPrivateSection:F,lastEditedSortedPrivateSection:K,currentSpaceStore:t,currentSpaceViewStore:r,isTransactionQueueHealthy:y,showPrivateOverflowButton:b})}else{if("agents"===n)return(0,J.jsx)(De().K,{});(0,ge().HB)(n)}},onDrop:(t,n)=>{r&&(0,w().handleSidebarSectionDrop)({environment:f,sidebarState:e,newSidebarOrder:(0,j().vK)({newVisibleOrder:t,previousFullOrder:O}),previousSidebarOrder:O,dropArgs:n,spaceViewStore:r})}});return(0,J.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100%"},children:[(0,J.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:fe().kv,paddingInlineStart:j().bG,paddingInlineEnd:j().bG,paddingBottom:20},children:[T?(0,J.jsx)(Oe,{}):void 0,N,E?(0,J.jsx)(ye,{}):void 0]}),(0,J.jsx)(I().HK,{})]})}function Ye(e,t,r){return(0,ke().o_)({typeWithTeam:{type:e},sidebarState:t,teamFeedAsAnyOtherDBEnabled:r})}function qe(e){const{showTeamsOverflowButton:t,visibleTeamsStores:r}=e,n=(0,o().v3)(),{sidebarSpaceStore:a,sidebarSpaceViewStore:i}=(0,s().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t}=A().default.state;return{sidebarSpaceStore:e,sidebarSpaceViewStore:t}}),[]),l=(0,s().K8)((()=>"inactive"!==Ce().default.state.type),[]),c=(0,d().IS)((e=>({shortcutLabel:{color:e.text.inverseSecondary}})),[]);return(0,J.jsx)(Ge().s,{content:(0,J.jsx)(fe().Ay,{type:Se().st,from:"main_sidebar",sectionLabel:(0,J.jsx)(p().sA,{id:"sidebarOutliner.teamsSection.teamsLabel",defaultMessage:"Teamspaces"}),shouldPersistToggleState:!0,spaceStore:a,spaceViewStore:i,showAddButton:!1,labelTooltip:(0,J.jsx)(p().sA,{defaultMessage:"Teamspaces you have joined.",id:"sidebarOutliner.teamsSection.tooltip"}),right:(0,J.jsx)(we().N,{type:"teamspaces",spaceViewStore:i}),renderSidebar:({contentsAriaId:e})=>(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)($e().w,{teams:r,reorderable:!l,id:e,shouldPersistToggleState:!0,teamOutlinerType:Se().st,from:"main_sidebar"}),t?(0,J.jsx)(ze().H,{onClick:()=>{(0,Ae().ZT)({environment:n,contentType:"teams"})},tooltipMessage:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{children:(0,J.jsx)(p().sA,{defaultMessage:"Browse all teamspaces",id:"sidebar.openSidebarTeamBrowserButton.tooltip"})}),(0,J.jsx)(q().A,{style:c.shortcutLabel,name:"toggleAllTeams"})]})}):void 0]})}),type:"teams"})}function Je({sidebarState:e}){const t=(0,s().uB)(void 0,r(150669).A);return(0,r(265793).v)(),(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(pe,{}),(0,J.jsx)(M().n,{step:"actions",children:(0,J.jsx)(re,{})}),(0,J.jsx)(r(519618).d,{scrollerStore:t,children:(0,J.jsx)(Xe,{sidebarState:e})}),(0,J.jsx)(I().m5,{scrollerStore:t})]})}const Ze=n.memo(Je);function Qe({isExpanded:e,topPx:t}){const a=(0,o().v3)(),i=(0,_().Rx)(),l=Boolean(i),c=(0,r(753721).X)(),u=(0,s().K8)((()=>{var e;if(!l)return!1;const t=null===(e=A().default.getState().sidebarSpaceStore)||void 0===e?void 0:e.id,n=a.currentUser.id;return!(!t||!n)&&r(90873).A.hasLoaded({userId:n,spaceId:t})}),[a,l]),{paddingTop:p,paddingLeft:S,paddingBottom:b}=(0,s().K8)((()=>{const{WindowSizeStore:e}=a;return{paddingTop:e.getSafePaddingTopPx(0),paddingLeft:e.getSafePaddingLeftPx(0),paddingBottom:e.getSafePaddingBottomPx(0)}}),[a]),g=function({isExpanded:e,topPx:t,paddingTop:r,paddingLeft:n,paddingBottom:a}){return(0,d().IS)((()=>({topLevelSidebar:{display:"flex",flexDirection:"column",height:e?"100%":"auto",maxHeight:e?"100%":`calc(100vh - ${2*t}px)`,justifyContent:"space-between",overflow:"hidden",position:"relative",paddingTop:r,paddingInlineStart:n,paddingBottom:a}})),[e,t,r,n,a])}({isExpanded:e,topPx:t,paddingTop:p,paddingLeft:S,paddingBottom:b}),h=(0,s().K8)((()=>{var e;return(0,r(466088).w)(a)&&Boolean(null===(e=r(792415).A.state.publicPageData)||void 0===e?void 0:e.template)}),[a]),v=(0,s().K8)((()=>{const{shouldShowLoggedOutPublicSharingSidebar:e}=r(155723);return e(a)}),[a]),f=(0,s().O$)(k().sidebarShouldLogInitialRenderStore);(0,n.useEffect)((()=>{(0,E().yd)("sidebar_mounted")}),[]),(0,n.useEffect)((()=>{var t,n;if(!f)return;if(null!=i&&i.isCached&&(0,E().yd)("initial_render_from_cache"),i&&(0,E().Hg)({is_initial_page_render_done:c}),!u)return void(0,E().yd)("partial_render");const o=E().q6({environment:a});null!=o&&o.initial_render&&(r(406792).default.measureFromPageOrigin({metricName:"sidebar.initial_render",endTime:o.initial_render_from_cache??o.initial_render},{environment:a,data:{...E().Tc(),subMetrics:o,show_workspace_section:null==i?void 0:i.showWorkspaceSection,get_spaces_prefetch_type:null===(t=a.prefetchCache)||void 0===t||null===(t=t.getPrefetchAnalytic("getSpaces"))||void 0===t?void 0:t.type,get_user_shared_pages_in_space_prefetch_type:null===(n=a.prefetchCache)||void 0===n||null===(n=n.getPrefetchAnalytic(`getUserSharedPagesInSpace(${null==i?void 0:i.spaceId})`))||void 0===n?void 0:n.type,is_expanded:e,is_cached:Boolean(o.initial_render_from_cache)},shouldSendIfStatsigNotInitialized:!0}),A().default.setSidebarRendered(),k().sidebarShouldLogInitialRenderStore.setState(!1))}),[a,e,f,null==i?void 0:i.showWorkspaceSection,u,i,c]);const m=e=>{const t=e.currentTarget;t instanceof Element&&t.scrollTo({left:0,top:0,behavior:"instant"})};return h?(0,J.jsx)("div",{style:g.topLevelSidebar,onScroll:m,children:(0,J.jsx)(I().or,{})}):v&&e?(0,J.jsx)("div",{style:g.topLevelSidebar,onScroll:m,children:(0,J.jsx)(I().Vr,{})}):i?(0,J.jsx)("div",{style:g.topLevelSidebar,onScroll:m,children:(0,J.jsx)(Ze,{sidebarState:i})}):(0,J.jsx)(J.Fragment,{})}const et=n.memo(Qe);function tt({isExpanded:e,isElectronMac:t,isTablet:r}){const I=(0,p().tz)(),A=(0,o().v3)(),_=(0,n.useRef)(null),[E,M]=(0,n.useState)(!1),B=(0,s().O$)(k().sidebarWidthStore),T=(0,s().O$)(k().sidebarOpenStore),R=(0,s().O$)(k().sidebarResizingStore),C=(0,s().K8)((()=>x().A.state.isFullScreen),[]),P=(0,s().O$)(l().b),O=R.isResizerHovered||R.isResizing,D=(0,s().K8)((()=>{var e;return Boolean(null===(e=l().A.state.preferences)||void 0===e?void 0:e.isVibrancyEnabled)}),[]),z=(0,s().O$)(y().P);(0,n.useEffect)((()=>{const e=a().default.getEligibleGroup({experimentId:"always_prefetch_get_spaces",enableEventTrailLogging:!0}),t=a().default.getEligibleGroup({experimentId:"prefetch_shared_and_private_pages",enableEventTrailLogging:!0}),r=a().default.getEligibleGroup({experimentId:"enable_sidebar_state_cache",enableEventTrailLogging:!0}),n=a().default.getEligibleGroup({experimentId:"enable_strict_render_completion",enableEventTrailLogging:!0}),i=A.currentUser.id;i&&(0,f().v8)({userId:i,gates:{alwaysPrefetchGetSpaces:"on"===e,prefetchSharedAndPrivatePages:"on"===t,enableSidebarStateCache:"on"===r,enableStrictRenderCompletion:"on"===n}})}),[A.currentUser.id]),(0,n.useEffect)((()=>{w().setIsAnimating(E)}),[E]);const K=P&&R.isResizing||z,L=(0,h().N)()+j().qe,V=(0,n.useCallback)((()=>{k().sidebarMouseEnteredStore.setState(!0)}),[]),H=(0,n.useCallback)((e=>{t&&C&&e.relatedTarget===window||k().sidebarMouseEnteredStore.setState(!1)}),[t,C]),W=(0,s().K8)((()=>(0,m().shouldShowLoggedOutPublicSharingSidebar)(A)),[A]),U=T&&!W||e,F=(0,d().IS)((t=>{const r={boxShadow:O?t.sidebarResizerBoxShadow:t.sidebarBoxShadow,...D&&{boxShadow:O?t.sidebarResizerBoxShadow:t.sidebarBoxShadow}};return{container:{order:c().A.appCursorListener.sidebar,flexGrow:0,flexShrink:0,pointerEvents:"none",position:"relative",zIndex:111,background:t.background.secondary,...W?{overflow:"hidden"}:{},...D&&{..."light"===t.mode?{background:`rgba(255, 255, 255, ${u().h-.05})`}:{background:"rgba(255, 255, 255, 0)"}},...r},wrap:{color:t.sidebarTextColor,fontWeight:S().Wy.medium,height:"100%"},resizer:{position:"absolute",top:0,insetInlineStart:0,bottom:0,insetInlineEnd:0,borderStartEndRadius:8,borderEndEndRadius:8,zIndex:-1,display:e?"none":"block",...r},content:{position:"absolute",top:0,insetInlineStart:0,bottom:0,display:"flex",flexDirection:"column",width:W?B:0,overflow:"visible",zIndex:9,pointerEvents:"none"},pane:{display:"flex",flexDirection:"column",height:e?"100%":"auto",position:"relative",pointerEvents:U?"auto":"none",visibility:(!W||e||T)&&(U||E)?"visible":"hidden",...D&&{...!e&&{borderStartEndRadius:8,borderEndEndRadius:8,backdropFilter:"blur(20px) brightness(110%) saturate(90%)"}}},paneBackground:{display:e?"none":"block",position:"absolute",top:0,insetInlineStart:0,bottom:0,insetInlineEnd:0,borderStartEndRadius:8,borderEndEndRadius:8,zIndex:-1,background:t.background.elevated,boxShadow:(!W||e||T)&&(U||E)?t.shadowMD:void 0,...D&&{background:"rgba(0, 0, 0, 0)"}}}}),[O,D,e,U,W,T,E,B]);return(0,J.jsx)(b().A,{tag:"nav",animate:{width:e?B:0},skip:K,"aria-hidden":U?void 0:"true","aria-label":I.formatMessage({id:"sidebar.ariaLabel",defaultMessage:"Sidebar"}),style:F.container,className:"notion-sidebar-container",ref:e=>{_.current=e,A.device.isElectron&&(e?k().sidebarSizeObserver.observe(e):k().sidebarSizeObserver.destroy())},children:(0,J.jsx)("div",{style:F.wrap,children:(0,J.jsx)("div",{style:F.content,onMouseMove:e=>{(0,i().SQ)({event:e,context:i().y$.SidebarMouseMove,callback:()=>{w().open({fromElectron:!1})}})},children:(0,J.jsxs)(b().A,{animate:rt({isExpanded:e,isSidebarOpen:T,sidebarWidth:B,topPx:L,isSidebarWithNoCollapsedState:W}),skip:K,onAnimationStart:()=>{M(!0)},onAnimationEnd:()=>{M(!1)},style:F.pane,className:v().pz7,onMouseMove:V,onMouseLeave:H,children:[(0,J.jsx)("div",{style:{position:"relative",top:-1*j().qe,height:j().qe,background:"transparent",width:W?"100%":B,marginBottom:-1*j().qe}}),(0,J.jsx)("div",{style:F.paneBackground}),(0,J.jsx)("div",{style:F.resizer}),(0,J.jsx)(et,{isExpanded:e,topPx:L}),(0,J.jsx)(g().A,{sidebarRef:_,type:"page"})]})})})})}function rt({isExpanded:e,isSidebarOpen:t,sidebarWidth:r,topPx:n,isSidebarWithNoCollapsedState:a}){if(e)return{...a?{}:{width:r},translateX:0,translateY:0,opacity:1};if(t)return{...a?{}:{width:r},translateX:0,translateY:n,opacity:1};return{...a?{}:{width:r},translateX:a?-r:20-r,translateY:n,opacity:0}}},72307:(e,t,r)=>{r.d(t,{A:()=>n});const n={appCursorListener:{sidebar:1,secondarySidebar:2,editor:3,aiChat:3,marketplace:3,teamHome:3,aiChatSidebar:4}}},77395:(e,t,r)=>{r.d(t,{A:()=>E});r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698);var n=r(296540),a=()=>r(484714),i=()=>r(56366),o=()=>r(401497),s=()=>r(69708),d=()=>r(209199),l=()=>r(496603),c=()=>r(534177),u=()=>r(720665),p=()=>r(661920),S=()=>r(778417),b=()=>r(747100),g=()=>r(906537),h=()=>r(770906),v=()=>r(900652),f=()=>r(941463),m=()=>r(441199),x=()=>r(869562),y=()=>r(644914),w=()=>r(749687),j=()=>r(737230),k=()=>r(712505),I=()=>r(35392),A=r(474848);const _=new Set(["page","secondary_sidebar"]);const E=function({type:e,sidebarRef:t}){const o=(0,s().tz)(),u=(0,a().v3)(),[p,b]=(0,r(819121).A)(),h=(0,n.useRef)(null),v=(0,r(93583).A)(p,h),m=(0,n.useRef)(!1),j=(0,n.useCallback)((()=>function(e){R({isResizing:!1},e)}(e)),[e]),k=(0,n.useCallback)((()=>function(e,t,r,n){r.current||D(t,e);R({isResizing:!1},t)}(u,e,m)),[u,e]),I=(0,n.useCallback)((r=>{if(t.current)return function(e,t,r,n,a){switch(g().clear(t),a.current=!0,n){case"page":x().setWidth({width:P(e.currentX,r,n),environment:t});break;case"update":x().setUpdateWidth({width:P(e.currentX,r,n),environment:t});break;case"peek":x().setPeekWidth({width:P(e.currentX,r,n),environment:t});break;case"secondary_sidebar":f().Ay.setWidth(P(e.currentX,r,n));break;default:(0,c().HB)(n)}}(r,u,t.current,e,m)}),[u,e,t]),E=(0,n.useCallback)((()=>function(e,t,r){S().IU({environment:e}),r.current=!1,R({...w().sidebarResizingStore.state,isResizing:!0},t)}(u,e,m)),[u,e]),{device:C}=u,K=(0,i().O$)(r(230062).A),L=(0,i().K8)((()=>({cursor:"col-resize",height:"100%",width:12})),[e]),V=(0,i().K8)((()=>function(e,t){const r=(0,y().KB)(t),n="peek"===e||"update"===e;return{position:"absolute",insetInlineStart:n?0:void 0,insetInlineEnd:n?void 0:0,width:1,flexGrow:0,zIndex:"peek"===e?109:1,top:r?0:-1,bottom:r?0:-1,pointerEvents:"auto"}}(e,u)),[e,u]),H=(0,i().K8)((()=>{const t=T(e),r=function(e,t){const r=B(e),n=M(e);if(n===r)return 0;return(t-n)/(r-n)}(e,t);return r}),[e]),W=(0,n.useRef)(!1),[U,F]=(0,n.useState)(null);function N(e){F(e.clientY)}const G=(0,n.useCallback)((()=>{R({isResizerHovered:W.current||b},e)}),[b,e]);function $(){W.current=!0,G()}function X(){W.current=!1,G()}(0,n.useEffect)((()=>{G()}),[b,G]);const Y=(0,n.useCallback)((()=>{t.current&&z(10,t.current,e,u)}),[e,u,t]),q=(0,n.useCallback)((()=>{t.current&&z(-10,t.current,e,u)}),[e,u,t]),J=(0,d().A1)()&&!_.has(e)||!(0,d().A1)()&&_.has(e)?"left":"right",Z="left"===J?q:Y,Q="left"===J?Y:q,ee=(0,n.useCallback)((()=>{D(e,u)}),[e,u]);return K||C.isChromebook?null:(0,A.jsx)(r(998531).N,{capture:b,debugName:"SidebarResizer",onLeft:Z,onRight:Q,onUp:l().D_,onDown:l().D_,onTab:l().D_,onUntab:l().D_,onEnter:ee,children:(0,A.jsx)(r(859428).A,{renderTooltip:()=>(0,A.jsx)(O,{type:e}),delayThreshold:0,originRectTransform:e=>U?new DOMRect(e.left,U,0,0):e,placement:"page"===e||"secondary_sidebar"===e?"right":"left",originGap:10,render:e=>(0,A.jsx)("div",{style:V,...(0,r(553965).A)(e,{onMouseMove:$,onMouseLeave:X,onMouseEnter:N}),children:(0,A.jsx)(r(603820).A,{onDraggableDragStart:E,onDraggableDragMove:I,onDraggableDragEnd:k,onDraggableDragCancel:j,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,A.jsx)("div",{ref:v,role:"separator",tabIndex:0,"aria-label":o.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*H),"aria-valuemin":0,"aria-valuemax":100,style:L,...e})})})})})};function M(e){switch(e){case"page":return w().SIDEBAR_MIN_WIDTH;case"update":return j().Iz;case"peek":return k().SIDEPEEK_MIN_WIDTH;case"secondary_sidebar":return f().WR;default:(0,c().HB)(e)}}function B(e){switch(e){case"page":return 480;case"secondary_sidebar":return f().y8;case"update":return y().aL;case"peek":return(0,b().QX)();default:(0,c().HB)(e)}}function T(e){switch(e){case"page":return w().sidebarWidthStore.state;case"secondary_sidebar":const t=w().sidebarExpandedStore.state,r=v().n5();return t?w().sidebarWidthStore.state+r:r;case"update":return j().Ay.state.width;case"peek":return k().default.state.preferredSidePeekWidth;default:(0,c().HB)(e)}}function R(e,t){switch(t){case"page":w().sidebarResizingStore.update((t=>({...t,...e})));break;case"update":j().Ay.update((t=>({...t,...e})));break;case"secondary_sidebar":m().default.update((t=>({...t,...e})));break;case"peek":break;default:(0,c().HB)(t)}}function C(e,t){const r=B(t),n=M(t);return(0,u().qE)(e,n,r)}function P(e,t,r){let n;const a=(0,d().A1)();switch(r){case"page":n=a?window.innerWidth-e:e;break;case"secondary_sidebar":const i=w().sidebarExpandedStore.state?w().sidebarWidthStore.state:0;n=a?window.innerWidth-e-i:e-i;break;case"peek":case"update":const o=t.getBoundingClientRect();n=a?e-o.left:o.right-e;break;default:(0,c().HB)(r)}return C(n,r)}function O({type:e}){const t=(0,o().DP)(),r=(0,a().v3)(),n=(0,i().K8)((()=>function(e,t){switch(e){case"page":return(0,y().KB)(t);case"update":return(0,y().Nk)(t);case"peek":return k().default.state.open;case"secondary_sidebar":return m().default.isOpen();default:(0,c().HB)(e)}}(e,r)),[e,r]),d=t.text.inverseSecondary,l=(0,A.jsx)(I().A,{name:"toggleSidebar"}),u=e=>(0,A.jsx)("span",{style:{color:d},children:e});let p;if(n)switch(e){case"secondary_sidebar":case"update":p=(0,A.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage.noShortcut",values:{invertedcolor:u,keyboardShortcut:l}});break;default:p=(0,A.jsx)(s().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.closeMessage",values:{invertedcolor:u,keyboardShortcut:l}})}else p=(0,A.jsx)(s().sA,{defaultMessage:"Lock open <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"sidebarResizer.tooltip.lockMessage",values:{invertedcolor:u,keyboardShortcut:l}});return(0,A.jsxs)(A.Fragment,{children:[p?(0,A.jsxs)(A.Fragment,{children:[p,(0,A.jsx)("br",{})]}):null,(0,A.jsx)(s().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"sidebarResizer.tooltip.resizeMessage",values:{invertedcolor:u,keyboardShortcut:l}})]})}function D(e,t){switch(e){case"page":x().setExpand({environment:t,isExpanded:!w().sidebarExpandedStore.state,from:"sidebar_resizer",saveDetailsSidebarPreference:!0}),w().sidebarOpenStore.setState(!1);break;case"update":x().setUpdateExpand({environment:t,isExpanded:!(0,y().Nk)(t),from:"drag",saveDetailsSidebarPreference:!0});break;case"peek":p().VN({environment:t,from:"resizer_click"});break;case"secondary_sidebar":h().VI({environment:t});break;default:(0,c().HB)(e)}}function z(e,t,r,n){const a=T(r)+e;switch(r){case"page":x().setWidth({width:C(a,r),environment:n});break;case"update":x().setUpdateWidth({width:C(a,r),environment:n});break;case"peek":x().setPeekWidth({width:C(a,r),environment:n});break;case"secondary_sidebar":const e=w().sidebarExpandedStore.state?w().sidebarWidthStore.state:0;f().Ay.setWidth(C(a-e,r));break;default:(0,c().HB)(r)}}},124749:(e,t,r)=>{r.d(t,{$:()=>i});var n=()=>r(56366);const a=new(r(496506).ComputedStore)((()=>r(765957).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function i(){return(0,n().O$)(a)}},133043:(e,t,r)=>{r.d(t,{P:()=>a});r(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.5 3.05 15 13.82",svg:(0,r(474848).jsx)("path",{d:"M9.08 3.341a1.625 1.625 0 0 1 1.84 0l5.875 4.035c.441.304.705.805.705 1.34v6.034a2.125 2.125 0 0 1-2.125 2.125h-2.716a1.625 1.625 0 0 1-1.625-1.625v-4.065H8.967v4.065c0 .898-.728 1.625-1.625 1.625H4.625A2.125 2.125 0 0 1 2.5 14.75V8.716c0-.535.264-1.036.705-1.34zm1.132 1.03a.375.375 0 0 0-.424 0L3.913 8.407a.38.38 0 0 0-.163.309v6.034c0 .483.392.875.875.875h2.716a.375.375 0 0 0 .375-.375v-4.19c0-.621.503-1.125 1.125-1.125h2.319c.62 0 1.124.504 1.124 1.125v4.19c0 .207.168.375.375.375h2.716a.875.875 0 0 0 .875-.875V8.716c0-.124-.06-.24-.163-.31z"})},a=(0,r(340498).wt)("home",n)},224011:(e,t,r)=>{r.d(t,{A:()=>i});var n=()=>r(20022);class a extends(()=>r(757695))().Store{getInitialState(){return{isFullScreen:window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height}}constructor(){super(),this.updateFromElectronState=async()=>{const e=await n().Y5.get();void 0!==e&&this.setState({isFullScreen:e})},n().Y5.addListener(this.updateFromElectronState),this.updateFromElectronState()}}const i=new a},232280:(e,t,r)=>{r.d(t,{a:()=>a,h:()=>n});const n=.5,a=.3},265793:(e,t,r)=>{r.d(t,{b:()=>h,v:()=>v});var n=()=>r(484714),a=()=>r(56366),i=()=>r(888325),o=()=>r(187174),s=()=>r(96689),d=()=>r(541801),l=()=>r(559506),c=()=>r(645873),u=()=>r(765957),p=()=>r(961581),S=()=>r(543665),b=()=>r(299177);const g=!1;function h(e){var t;const r=null===(t=(0,c().fJ)(d().xl).value)||void 0===t?void 0:t.loadWorkflowTemplateInstances;(0,a().K8)((()=>{if(!r)return;const t=function(e){return!(e instanceof S().m)}(e)?e.collectionStore():e;t&&r(t)}),[r,e])}function v(){const e=(0,n().v3)(),t=(0,a().K8)((()=>{var e;if(function(){const e=p().A.state.initialRenderCompleted;g&&!e&&console.log("Initial page render is not yet completed, delaying refresh of workflow template instances.");return e}())return null===(e=u().default.state.sidebarSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);(0,o().Yb)((async()=>{if(!t)return;(b().A.debug||g)&&console.log("Refreshing workflow template instance map for space",t);const r={table:s().NX,id:t,spaceId:t},n=await l().callApi({eventName:"getWorkflowTemplateInstances",environment:e,data:{spaceId:r.spaceId,scopeTable:r.table,scopeId:r.id,enableInstanceRobustness:!0}});if("success"===n.type){const e=(0,i()._)(r);b().A.setState({...b().A.state,[e]:n.data.instanceMap[e]})}}),[e,t])}},279047:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(296540),a=()=>r(56366),i=()=>r(401497),o=()=>r(141333),s=r(474848);const d=4;function l({scrollerStore:e,type:t,dividerColor:r,errorMargin:l=d}){const c=(0,a().K8)((()=>e.state.elementRef),[e]),u=(0,o().Xg)(c),p=(0,o().CR)(c),S=(0,o().sj)(c),b=(0,o().yE)(c),g=(0,o().o7)(c),h=(0,o().HJ)(c),v=(0,n.useMemo)((()=>{if(!e)return!1;switch(t){case"top":return Math.round(b)>l;case"bottom":return Math.abs(Math.round(b)-(p-g))>l;case"left":return Math.round(S)>l;case"right":return Math.abs(Math.round(S)-(u-h))>l}}),[e,t,l,u,p,S,b,g,h]),f="left"===t||"right"===t,m=(0,i().IS)((e=>({divider:{flexShrink:0,boxShadow:v?f?`1px 0 0 ${r??e.regularDividerColor}`:`0 1px 0 ${r??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...f?{width:1,height:"100%",marginInlineStart:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[f,v,r]);return(0,s.jsx)("div",{style:m.divider})}},285230:(e,t,r)=>{r.d(t,{N:()=>i});var n=()=>r(645873);const a=new(n().O2)("OutlinerDropdownMenuButton",(async()=>await Promise.all([r.e(75134),r.e(99223),r.e(9304),r.e(9773),r.e(36556),r.e(40537),r.e(55373),r.e(36192),r.e(71562),r.e(96346),r.e(44711),r.e(53321),r.e(90825),r.e(16471),r.e(37353),r.e(29151),r.e(87248),r.e(62475),r.e(3151),r.e(98629),r.e(58550),r.e(67539),r.e(42838),r.e(22900),r.e(27634),r.e(85128),r.e(49889),r.e(20108),r.e(95555),r.e(87249),r.e(71621),r.e(92845),r.e(56369),r.e(2411),r.e(89296),r.e(46414),r.e(9294),r.e(11676),r.e(91256),r.e(40563),r.e(67494),r.e(44584),r.e(53141),r.e(4422),r.e(4330),r.e(55162),r.e(71003),r.e(55753),r.e(28866),r.e(22001),r.e(71386),r.e(4351),r.e(6331),r.e(69144),r.e(42660),r.e(55997),r.e(40828),r.e(12341),r.e(96402),r.e(84166),r.e(70359),r.e(29595),r.e(16448),r.e(10442),r.e(16434),r.e(45769),r.e(46080),r.e(75902),r.e(99809),r.e(58636),r.e(78405),r.e(33675),r.e(74562),r.e(47160),r.e(37384),r.e(91598),r.e(48046),r.e(3259),r.e(13955),r.e(42056),r.e(3165),r.e(76677),r.e(31842),r.e(43223),r.e(45147),r.e(15517),r.e(94995),r.e(98339),r.e(55639),r.e(1966),r.e(35738),r.e(6642),r.e(55776),r.e(51444),r.e(40914),r.e(58209),r.e(13297),r.e(4802),r.e(65197),r.e(81768),r.e(94300),r.e(62032),r.e(72122),r.e(32487),r.e(28058),r.e(90638),r.e(75422),r.e(97859),r.e(50856),r.e(65014),r.e(49175),r.e(36359),r.e(2752),r.e(11571),r.e(92924),r.e(42525),r.e(25204),r.e(52273),r.e(52986),r.e(45732),r.e(46817),r.e(70442),r.e(28656),r.e(37160),r.e(30443),r.e(9426),r.e(76690),r.e(63248),r.e(39457),r.e(21912),r.e(80668),r.e(12507),r.e(6626),r.e(26497),r.e(61016),r.e(91629),r.e(61858),r.e(63053),r.e(34399),r.e(89379),r.e(34974),r.e(75332),r.e(95103),r.e(75681)]).then(r.bind(r,137840)))),i=(0,n()._h)(a,(e=>e.OutlinerDropdownMenuButton))},299177:(e,t,r)=>{r.d(t,{A:()=>i});class n extends(()=>r(757695))().Store{getInitialState(){return{}}}const a=new n;r(852832).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",a);const i=a},331965:(e,t,r)=>{r.d(t,{s:()=>s});r(296540);var n=()=>r(56366),a=()=>r(362749),i=()=>r(765957),o=r(474848);function s(e){const t=(0,n().O$)(i().AppStoreSidebarSpaceStore),r=(0,n().K8)((()=>null==t?void 0:t.getPlanType()),[t]);return t?(0,o.jsx)(a().ck,{renderLoading:()=>e.content,spacePlan:r,...e}):e.content}},406632:(e,t,r)=>{r.d(t,{N:()=>c,B:()=>l});var n=r(296540),a=()=>r(484714),i=()=>r(56366),o=()=>r(175947);class s extends(()=>r(757695))().Store{getInitialState(){return-1}getHeight(e){return-1===this.state?(0,o().ek)(e.isElectronMac):this.state}overrideHeight(e){this.setState(e)}reset(){this.setState(-1)}}const d=new s("topbarHeight");function l(){const e=(0,a().Y0)(),t=(0,n.useRef)(null),[r,i]=(0,n.useState)((()=>o().ek(e.isElectronMac)));return(0,n.useLayoutEffect)((()=>{if(!t.current)return;const e=t.current.getBoundingClientRect().height;i(e);const r=new ResizeObserver((e=>{for(const t of e)i(t.contentRect.height)}));return r.observe(t.current),()=>r.disconnect()}),[]),(0,n.useEffect)((()=>{d.overrideHeight(r)}),[r]),(0,n.useEffect)((()=>()=>{d.reset()}),[]),{topbarHeight:r,topbarRef:t}}function c(){const e=(0,a().Y0)();return(0,i().K8)((()=>d.getHeight(e)),[e])}},435761:(e,t,r)=>{r.d(t,{LN:()=>x,T3:()=>g,gc:()=>y,sj:()=>m,ww:()=>S,xJ:()=>v});r(57145),r(517642),r(658004),r(733853),r(845876),r(432475),r(515024),r(731698),r(581454);var n=r(296540),a=()=>r(484714),i=()=>r(56366),o=()=>r(854150),s=()=>r(765957),d=()=>r(95758),l=()=>r(999830),c=()=>r(51781);function u(e){const{teamTypes:t}=e,r=(0,a().v3)(),o=(0,i().K8)((()=>{var t;return e.userId??(null===(t=s().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]),d=(0,i().K8)((()=>e.spaceStore??s().default.state.sidebarSpaceStore),[e.spaceStore]);return(0,n.useEffect)((()=>{void 0!==o&&void 0!==d&&(0,c().VO)({userId:o,spaceId:d.id,teamTypes:t,environment:r,canTruncateRecordMap:null==e?void 0:e.canTruncateRecordMap,sort:null==e?void 0:e.sort})}),[o,d,t,r,null==e?void 0:e.canTruncateRecordMap,null==e?void 0:e.sort]),(0,i().K8)((()=>{if(void 0===o||void 0===d)return{teams:[],isLoading:!0,isError:!1};const{teams:e,isLoading:r,isError:n}=l().q.readTeams(o,d.id,t);return{teams:e,isLoading:r,isError:n}}),[o,d,t])}const p=new Set(["Joined"]);function S(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:p})}const b=new Set(["UnjoinedActive"]);function g(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:b,canTruncateRecordMap:null==e?void 0:e.canTruncateRecordMap,sort:null==e?void 0:e.sort})}const h=new Set(["Joined","UnjoinedActive"]);function v(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:h})}const f=new Set(["Joined","UnjoinedActive","Archived"]);function m(e){const{userId:t,spaceStore:r}=e||{};return u({userId:t,spaceStore:r,teamTypes:f})}function x(e){const{userId:t,spaceStore:r}=e,{teams:a,isLoading:o,isError:d}=S({userId:t,spaceStore:r}),l=(0,i().K8)((()=>{var e;return new Map(((null===(e=s().AppStoreSidebarSpaceViewStore.state)||void 0===e?void 0:e.getJoinedTeams())??[]).map(((e,t)=>[e,t])))}),[]);return{teams:(0,n.useMemo)((()=>a.toSorted(((e,t)=>(l.get(e.id)??1/0)-(l.get(t.id)??1/0)))),[a,l]),isLoading:o,isError:d}}function y(e){const{teams:t}=e,r=(0,i().K8)((()=>e.spaceStore??s().default.state.sidebarSpaceStore),[e.spaceStore]);return r?t.map((({id:e,type:t,membershipSummary:n})=>({store:d().h.createChildStore(r,{table:o().yK,id:e}),type:t,membershipSummary:n}))):[]}},490044:(e,t,r)=>{r.d(t,{A:()=>S});r(296540);var n=()=>r(59226),a=()=>r(484714),i=()=>r(56366),o=()=>r(401497),s=()=>r(500066),d=()=>r(209199),l=()=>r(159588),c=()=>r(644914),u=r(474848);function p(){const e=(0,o().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",insetInlineEnd:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.background.secondary:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,u.jsx)("div",{children:(0,s().G)(e.icon)})}function S(e){var t;const r=(0,a().v3)(),s=r.device.isMobile,{isTablet:S}=(0,a().Y0)(),b=(0,n().X)("client_rtl_support"),g=(0,i().K8)((()=>{var t,n;if(s)return r.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(t=e.style)||void 0===t?void 0:t.paddingInlineStart)?null===(n=e.style)||void 0===n?void 0:n.paddingInlineStart:10)}),[r.WindowSizeStore,s,null===(t=e.style)||void 0===t?void 0:t.paddingInlineStart]),h=(0,o().IS)((t=>({wrapper:{...s?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:S?4:8,paddingBottom:S?4:8,paddingInlineStart:g,paddingInlineEnd:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:c().Zr,paddingTop:4,paddingBottom:4,...(0,l().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:s?28:22,height:s?24:18,marginInlineEnd:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:t.text.secondary,width:s?24:c().ry,height:s?24:c().ry,display:"flex",alignItems:"center",justifyContent:"center",marginInlineEnd:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!s?"clip":"ellipsis",...e.childrenStyle}})),[s,S,g,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,u.jsxs)("div",{role:e.role,dir:b&&(0,d().A1)()?"rtl":"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:h.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left?(0,u.jsx)("div",{style:h.left,children:e.left}):void 0,e.icon?(0,u.jsxs)("div",{style:h.icon,children:[e.icon,e.isAlias?(0,u.jsx)(p,{}):void 0]}):void 0,(0,u.jsx)("div",{style:h.children,children:e.children}),e.right?(0,u.jsx)("div",{style:h.right,children:e.right}):void 0]})}},519618:(e,t,r)=>{r.d(t,{d:()=>f});var n=r(296540),a=()=>r(484714),i=()=>r(56366),o=()=>r(401497),s=()=>r(611648),d=()=>r(779315),l=()=>r(620689),c=()=>r(923455),u=()=>r(765957),p=()=>r(714818),S=()=>r(712505),b=()=>r(279047),g=()=>r(2143),h=()=>r(13679),v=r(474848);function f({children:e,scrollerStore:t,scrollerStyle:r}){const f=(0,i().O$)(u().AppStoreSidebarSpaceStore),m=(0,c().Rx)(),{isTablet:x}=(0,a().Y0)(),y=(0,a().v3)(),w=(0,i().K8)((()=>S().default.isCenterPeekOpen()||p().A.state.open),[]),j=(0,o().IS)((()=>({scroller:{paddingTop:6,flexGrow:1,...r}})),[r]),k=(0,n.useCallback)((e=>{d().A.SidebarScroller=e}),[]);return m?f?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b().A,{type:"top",scrollerStore:t}),(0,v.jsx)(h().A,{store:f,droppable:!0,disableRectangularSelection:!0,disableEditNearestBlock:!0,disable:w,render:({selectableEvents:r})=>(0,v.jsx)(g().H,{type:s().A.Y,store:t,style:j.scroller,ref:k,preventType:x?l().u5(y):void 0,...r,children:e},m.spaceViewId)})]}):(0,v.jsx)(g().H,{type:s().A.Y,store:t,style:j.scroller,ref:k,preventType:void 0,children:e},m.spaceViewId):null}},529099:(e,t,r)=>{r.r(t),r.d(t,{aiFaceIcon:()=>i,iconDefinition:()=>a});r(296540);var n=r(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"4.13 2.52 13.27 14.61",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12.758 9.976a1.178 1.178 0 1 0 .377-2.326 1.178 1.178 0 0 0-.377 2.326M6.547 8.97a1.178 1.178 0 1 0 .377-2.327 1.178 1.178 0 0 0-.377 2.326"}),(0,n.jsx)("path",{d:"M10.573 5.554a3.917 3.917 0 0 1 6.743.035.625.625 0 1 1-1.08.63 2.667 2.667 0 0 0-4.591-.023l-5.398 9.015 4.192.68a.625.625 0 0 1-.2 1.233l-5.102-.827a.625.625 0 0 1-.436-.938zM4.36 3.517a3.92 3.92 0 0 1 5.572.356.625.625 0 1 1-.945.818 2.67 2.67 0 0 0-3.795-.243.625.625 0 1 1-.833-.931"})]})},i=(0,r(340498).wt)("aiFace",a)},548863:(e,t,r)=>{r.d(t,{CB:()=>p,GO:()=>S,Ng:()=>c,Wu:()=>l,uA:()=>u});var n=()=>r(242422),a=()=>r(726637),i=()=>r(56366),o=()=>r(842599),s=()=>r(680074),d=()=>r(765957);function l(e){return"workspace_discovery"===e||"workspace_discovery_switcher"===e}function c(e){return("workspace_discovery"===e||"workspace_discovery_switcher"===e||"space_switcher"===e)&&p()}function u(){return!a().A.isMobile&&"on"===n().default.getEligibleGroup({experimentId:"workspace_discovery_join_or_create_workspace_switcher_menu",defaultGroup:"control"})}function p(){if("personal"===(0,s().FX)())return!0;const{currentUserStore:e}=d().default.state,t=null==e?void 0:e.getEmail(),r=t?(0,o().zN)(t):void 0;return!!r&&(0,o().Ff)(r)}function S(e){const t=Boolean((e??0)>0);return(0,i().K8)((()=>t?n().default.getEligibleGroup({experimentId:"workspace_discovery_switcher",defaultGroup:"control"}):"control"),[t])}},551345:(e,t,r)=>{r.d(t,{or:()=>a,pV:()=>i});var n=()=>r(430483);function a(e){const{configurationState:t}=e;return t.deepFindRequested&&n().zD.isDeepFindEnabled()}function i(e){const{configurationState:t,assistantSurface:r}=e;return a({configurationState:t})&&r.isType("fullPage")}},761966:(e,t,r)=>{r.d(t,{H:()=>h});r(296540);var n=()=>r(484714),a=()=>r(401497),i=()=>r(718827),o=()=>r(252291),s=()=>r(126617),d=()=>r(69708),l=()=>r(284371),c=()=>r(859428),u=()=>r(490044),p=()=>r(553965),S=()=>r(159588),b=()=>r(644914),g=r(474848);function h(e){const{onClick:t,tooltipMessage:r}=e,{isMobile:h}=(0,n().Y0)(),v=(0,a().IS)((e=>({button:{...S().hG,height:b().Zr},buttonHovered:{background:e.sidebarItemSelectedBackground},sidebarItem:{fontWeight:l().Wy.medium,color:e.sidebarSecondaryColor}})),[]);return(0,g.jsx)(c().A,{renderTooltip:()=>r,originGap:6,placement:"right",render:e=>(0,g.jsx)(i().Ay,{onClick:t,style:v.button,hoveredStyle:v.buttonHovered,...(0,p().A)(e,{}),children:(0,g.jsx)(u().A,{left:(0,g.jsx)(o().I,{icon:s().ellipsisSmallIcon,size:"sm",colorVariant:h?"tertiary":"secondary"}),childrenStyle:v.sidebarItem,children:(0,g.jsx)(d().sA,{defaultMessage:"More",id:"sidebar.openAllPages.button"})})})})}},797730:(e,t,r)=>{r.d(t,{D:()=>n,P:()=>a});const n=(0,r(69708).YK)({agents:{id:"sidebar.agents.button",defaultMessage:"Agents"},notionAi:{id:"sidebar.notionAi.button",defaultMessage:"Notion AI"},inbox:{id:"sidebar.inbox.button",defaultMessage:"Inbox"},messages:{id:"sidebar.messages.button",defaultMessage:"Messages"},feed:{id:"sidebarFeedButton.label",defaultMessage:"Feed"},meetings:{id:"sidebar.meetings.button",defaultMessage:"Meetings"}}),a={inbox:r(829548).y,feed:r(925695).N}},843518:(e,t,r)=>{r.d(t,{F:()=>l});r(296540);var n=()=>r(484714),a=()=>r(401497),i=()=>r(175947),o=()=>r(277201),s=()=>r(38337),d=r(474848);function l({}){const{isElectronMac:e}=(0,n().Y0)(),t=function(e){return(0,a().IS)((t=>({container:{display:"flex",justifyContent:"flex-end",alignItems:"center",paddingInlineEnd:10,height:(0,i().ek)(e)},unexpand:{borderRadius:4,width:28,height:28},hoveredUnexpand:{fill:t.text.primary,background:t.sidebarItemSelectedBackground}})),[e])}(e);return(0,d.jsx)("div",{style:t.container,className:s().sbV,children:(0,d.jsx)("div",{className:s().qGl,children:(0,d.jsx)(o().I,{style:t.unexpand,hoveredStyle:t.hoveredUnexpand})})})}},863330:(e,t,r)=>{r.r(t),r.d(t,{iconDefinition:()=>n,plusSmallIcon:()=>a});r(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.74 2.74 10.52 10.52",svg:(0,r(474848).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},a=(0,r(340498).wt)("plusSmall",n)},888325:(e,t,r)=>{function n(e){return`${e.table}:${e.id}`}r.d(t,{_:()=>n})},970236:(e,t,r)=>{r.d(t,{E:()=>o});r(296540);var n=()=>r(401497),a=()=>r(284371),i=r(474848);function o(e){const{color:t="gray",style:r,content:o,...s}=e,d=(0,n().IS)((e=>({badge:{alignSelf:"center",marginInlineStart:6,padding:"2px 4px",background:e[t].background.secondaryTranslucent,color:e[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:a().Wy.medium,lineHeight:1.3,...r}})),[t,r]);return(0,i.jsx)("div",{style:d.badge,...s,children:o})}}}]);