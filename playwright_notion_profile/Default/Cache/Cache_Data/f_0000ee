"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[3165],{9768:(e,t,o)=>{o.d(t,{Br:()=>A,Jh:()=>T,Lb:()=>C,YE:()=>k,cu:()=>j});o(16280),o(898992),o(672577);var i=o.n(o(32485)),n=o(296540),r=()=>o(59226),s=()=>o(726637),a=()=>o(484714),l=()=>o(56366),c=()=>o(778781),d=()=>o(534177),u=()=>o(623186),p=()=>o(860116),g=()=>o(620612),m=()=>o(600871),S=()=>o(478726),v=()=>o(321909),h=()=>o(548821),f=()=>o(517223),y=()=>o(823082),b=()=>o(241181),x=()=>o(817942),_=o(474848);const C=12,k=12,w=10,I=10,P=8;function M({collectionSchema:e,module:t}){return!(!e||"normalizedTitleWithIcon"!==t.type)&&(0,f().LD)({collectionSchema:e,module:t}).length>0}function T({layoutModule:e,area:t,context:o,collectionSchema:a,collectionStore:m,showDetailsPanelToggleButtonBelowTitle:f,modules:T,postContext:A}){const j=T.findIndex((t=>t.id===e.id)),B=null!=T&&T.length&&-1!==j?T[j+1]:void 0,V=(0,b().p)({collectionStore:m,layoutModule:B}),E=(0,u().aN)(m),L=(0,l().K8)((()=>Boolean(null==m?void 0:m.isPageTreeCollection())),[m]),D=(0,v().y)(),K=(0,r().X)("bottom_page_discussions_enabled"),R=(0,l().K8)((()=>(0,p().I)(null==m?void 0:m.getLayoutStore())),[m]),F=(0,l().K8)((()=>(0,g().n)()),[]),O=R&&!F,[z,W]=(0,n.useMemo)((()=>{const i=M({collectionSchema:a,module:e});let n=!1;const r={};if("page_details"===t||"person_profile_page_details"===t)r.marginBottom=w,r.paddingBottom=I;else if("page_main"===t||"person_profile_page_main"===t)r.marginBottom=k,r.paddingBottom=C;else if("views_main_tab_modules"===t)r.marginBottom=k,r.paddingBottom=C;else{if("form_layout_schema"===t||"form_conditional_modules"===t)throw new Error("Not implemented for forms");if("dashboard_layout_schema"===t)throw new Error("Not implemented for dashboard");(0,d().HB)(t)}const l="editor"===(null==B?void 0:B.type);(0,S().Mi)(A)?"editor"===e.type&&A!==h().Rr.DraftPostInFullPageComposer?n=!0:"normalizedTitleWithIcon"===e.type&&(r.marginBottom=void 0,r.paddingBottom=P):l&&(n=!0,"normalizedTitleWithIcon"!==e.type||i||(n=!1,r.marginBottom=void 0,r.paddingBottom=void 0),"views_main_tab_modules"===t&&(n=!1,r.marginBottom=void 0,r.paddingBottom=void 0)),V&&r.marginBottom&&(r.marginBottom=Math.max(r.marginBottom-4,0)),"page_main"!==t&&"page_details"!==t&&"views_main_tab_modules"!==t||(D||"discussions"===e.type?r.marginInlineStart=0:"normalizedTitleWithIcon"===e.type?r.marginInlineStart=-4:(0,c().gx)(e)||"properties"===e.type||"relationsGroup"===e.type?r.marginInlineStart=-6:"editor"===e.type&&(r.marginInlineStart=-2));const u="views"===(null==B?void 0:B.type)||"editor"===(null==B?void 0:B.type);return"page_main"!==t&&"page_details"!==t||!r.paddingBottom||u||("property_text"===e.type||"property_relation"===e.type&&E?r.paddingBottom=Math.max(r.paddingBottom-4,0):"properties"===e.type&&(L&&!s().A.isMobile||(r.paddingBottom=Math.max(r.paddingBottom-4,0))),"viewsMain"===(null==B?void 0:B.type)&&(r.paddingBottom=Math.max(r.paddingBottom-12,0))),"normalizedTitleWithIcon"===e.type&&(i?s().A.isMobile&&"properties"===(null==B?void 0:B.type)&&!V&&(r.paddingBottom=void 0,r.marginBottom=4):(f?"discussions"===(null==B?void 0:B.type)&&(r.marginBottom=void 0):"properties"===(null==B?void 0:B.type)?(r.paddingBottom=void 0,r.marginBottom=8):"discussions"===(null==B?void 0:B.type)&&(r.paddingBottom=C),s().A.isMobile&&"discussions"===(null==B?void 0:B.type)&&(r.marginBottom=void 0))),"bottomControls"===e.type&&(r.paddingBottom=void 0,r.marginBottom=void 0),"discussions"===e.type&&l&&(r.paddingBottom=void 0,K&&(r.marginBottom=void 0)),"discussions"===e.type&&O&&(r.paddingTop=40),"inlinePageSections"!==(null==B?void 0:B.type)&&"expandedBacklinks"!==(null==B?void 0:B.type)&&"bottomControls"!==(null==B?void 0:B.type)||(r.marginBottom=8),"editor"!==e.type||(0,S().Mi)(A)||o===h().Rr.Presentation||(r.marginTop=8),("views"===e.type||"editor"===e.type&&!(0,S().Mi)(A))&&(r.paddingBottom=void 0,r.marginBottom=void 0),"viewsMain"===e.type&&(r.paddingBottom=void 0),o===h().Rr.DraftPostInInlineComposer&&(r.marginBottom=4,r.paddingBottom=0),[n,r]}),[a,e,t,null==B?void 0:B.type,V,L,o,E,f,A,D,K,O]);return(0,n.useMemo)((()=>function(t){return(0,_.jsx)(x().vV,{className:i()({"layout-content-with-divider":z}),style:W,testId:(0,y().H)(e),children:t})}),[e,z,W])}function A({layoutModule:e,area:t,collectionSchema:o,collectionStore:i,showDetailsPanelToggleButtonBelowTitle:n,pageMainModules:r}){const s=(0,a().Y0)(),c=(0,l().K8)((()=>{if(!i)return!1;return!!r.find((e=>"normalizedTitleWithIcon"===e.type))&&n}),[i,r,n]),d=(0,m().D1)(s);if(!i)return!1;if("properties"!==e.type&&"discussions"!==e.type&&"relationsGroup"!==e.type)return!1;if("page_main"!==t)return!0;const u=r.findIndex((t=>t.id===e.id));if(0===u||r.length<=1)return!1;if("discussions"===e.type&&d)return!1;const p=r[u-1];if("normalizedTitleWithIcon"!==(null==p?void 0:p.type))return!0;if("relationsGroup"===e.type&&c)return!0;if("properties"===e.type&&c&&!s.isPhone)return!0;const g=M({collectionSchema:o,module:p});return("properties"!==e.type||!s.isPhone||!g)&&g}function j({collectionStore:e,modulesByArea:t}){return!((e.getNormalizedPropertyGroups({publicPageDataFallbackEnabled:!0})||[]).length>0)&&0===(0,f().Ul)({collectionStore:e,modulesByArea:t}).length}},21178:(e,t,o)=>{o.d(t,{DV:()=>n,Up:()=>s,cf:()=>r});var i=()=>o(201980);const n=1e3;function r(e){if(!e)return!1;const t=(0,i().q4_)(e.getValue());return Boolean(t)}function s(e){if(!e)return[];const t=e.getSettings();return(null==t?void 0:t.hidden_collection_descriptions)??[]}},25680:(e,t,o)=>{o.d(t,{S:()=>c});var i=o(296540),n=()=>o(56366),r=()=>o(466721),s=()=>o(548821),a=()=>o(650031);const l=new(o(299919).Y)((e=>new(o(547726).A)));function c({store:e,environment:t,postContext:o}){const{pageVisitStore:c,presenceStore:d}=(0,n().K8)((()=>({pageVisitStore:l.get(e),presenceStore:new(a().A)})),[e]);return(0,i.useEffect)((()=>{!o||o!==s().Rr.PostInFullPageOrPeek&&o!==s().Rr.PageInFeed||(e.id!==c.state.pageId&&c.setState({...c.getInitialState(),pageId:e.id}),r().Ds(t,{blockStore:e,pageVisitStore:c,incremental:!1,includeTotalCount:!0}))}),[e,c,t,d,o]),{pageVisitStore:c,presenceStore:d}}},33301:(e,t,o)=>{o.d(t,{T:()=>g,n:()=>p});var i=()=>o(242422),n=()=>o(908006),r=()=>o(75368),s=()=>o(970330),a=()=>o(896628),l=()=>o(722101),c=()=>o(384944),d=()=>o(778417),u=()=>o(903864);function p(e){const{environment:t,store:o,transaction:a,preventTextSelection:p,onTextSelection:g}=e;i().default.checkGate({gateName:"mobile_keep_template_gallery_open"})&&r().A.state.open&&r().A.setState({open:!1});const m=(()=>{const e=o.getContentStores();if(1===e.length&&e[0].isEmptyTextBlock())return e[0];const i=c().Wv({environment:t,type:"text",inMemoryRecordCache:o.inMemoryRecordCache,transaction:a,spaceId:o.pointer.spaceId}),n=l().BC({parentStore:o.getContentStore(),appendStore:i,transaction:a}).childStore;return s().vH(t,{from:"template_picker",type:"text",creating_block_id:i.id,parent_collection_id:i.getParentCollectionIdUpToTwoLevels()}),n})();return p||n().default.afterNextFlush((()=>{d().hc({environment:t,store:m}),(0,u().e)({store:m.getBlockTitleStore()}),null==g||g()})),m}function g(e){const{environment:t,store:o,transaction:i}=e;a().vc({store:o,transaction:i}),p({environment:t,store:o,transaction:i})}},67141:(e,t,o)=>{o.d(t,{v:()=>y});o(898992),o(430670);var i=()=>o(242422),n=()=>o(484714),r=()=>o(56366),s=()=>o(187174),a=()=>o(68263),l=()=>o(798880),c=()=>o(496603),d=()=>o(763824),u=()=>o(381678),p=()=>o(329443),g=()=>o(765957),m=()=>o(21735),S=()=>o(375447),v=()=>o(870092),h=()=>o(271084);const f=100;function y(){const e=(0,n().v3)(),t=(0,r().O$)(g().AppStoreSidebarSpaceStore),o=(0,r().K8)((()=>(0,u()._)(e)),[e]),y=(0,r().K8)((()=>{const{spaceId:e,userId:i}=S().Ay.state.emptyQueryUserRequestStore.state.request??{};return(null==t?void 0:t.id)!==e||(null==o?void 0:o.id)!==i}),[t,o]),b=(0,r().K8)((()=>{const e=m().A.state.shouldUseEdgeCache,t=i().default.checkGate({gateName:"edge_cache_mentions"});return e&&t}),[]);(0,s().Yb)((async()=>{if(!b||!t||!y)return;S().Ay.state.emptyQueryUserRequestStore.setState({...S().Ay.state.emptyQueryUserRequestStore.state,ready:!1,loading:!0}),await h().k.waitUntilLoaded();const e=h().k.getSortedUserIds(),i=g().default.state.mainEditorCurrentBlockStore,n=i?(0,p().i0)(i).flatMap((({permissionItem:e})=>(0,a().B2)(e)?[e.user_id]:[])):[],r=(0,c().sb)([...(0,c().oE)([null==o?void 0:o.id]),...e,...n]),s=(0,d().lX)(r.slice(0,f),f,(async e=>{if(e===(null==o?void 0:o.id))return null==o?void 0:o.getValue();const i=v().L.createChildStore(t,{table:l().oo,id:e});return await i.load(),i.getValue()})),u=await s;S().Ay.state.emptyQueryUserRequestStore.setState({ready:!0,loading:!1,result:(0,c().oE)(u),request:{spaceId:t.id,userId:(null==o?void 0:o.id)??""}})}),[t,o,y,b])}},67805:(e,t,o)=>{o.d(t,{X:()=>s,c:()=>a});o(898992),o(672577);var i=()=>o(68263),n=()=>o(329443),r=()=>o(765957);function s(e,t){return e.sort(((e,o)=>{const i=e.store.canAdmin();if(i===o.store.canAdmin()){var n,r;const i=null===(n=e.publishedMetadata.publishedBy)||void 0===n?void 0:n.id,s=e.publishedMetadata.publishedTime,a=null===(r=o.publishedMetadata.publishedBy)||void 0===r?void 0:r.id,l=o.publishedMetadata.publishedTime;if(t){if(i===t&&a===t&&s&&l)return l-s;if(i===t)return-1;if(a===t)return 1}return s&&l?l-s:0}return i?-1:1}))}function a(e){const{environment:t,store:o}=e;if(!n().i0(o).find((e=>(0,i().W8)(e.permissionItem))))return!1;const s=r().default.getState().sidebarSpaceStore;if(null!=s&&s.getSettings().hide_sites_banner)return!1;return!n().qb(t,o)}},74175:(e,t,o)=>{o.d(t,{E:()=>l});o(296540);var i=()=>o(631524),n=o(474848);const r={viewBox:"0 0 16 16",fittedViewBox:"2.45 2.44 11.1 11.11",svg:(0,n.jsx)("path",{d:"M3.74 2.45a1.29 1.29 0 0 0-1.29 1.29v8.52c0 .712.578 1.29 1.29 1.29h2.593a1.29 1.29 0 0 0 1.291-1.29V3.74a1.29 1.29 0 0 0-1.29-1.29zm5.927 0a1.29 1.29 0 0 0-1.291 1.29v2.593a1.29 1.29 0 0 0 1.29 1.291h2.593a1.29 1.29 0 0 0 1.29-1.29V3.74a1.29 1.29 0 0 0-1.29-1.291zm0 5.926a1.29 1.29 0 0 0-1.291 1.29v2.593a1.29 1.29 0 0 0 1.29 1.291h2.593a1.29 1.29 0 0 0 1.29-1.29V9.666a1.29 1.29 0 0 0-1.29-1.291z"})},s=(0,o(340498).wt)("layoutFillSmall",r);var a=()=>o(69708);function l(e){const{style:t,onClick:o}=e;return(0,n.jsx)(i().p,{style:t,colorPalette:"gray",colorVariant:"tertiary",onClick:o,iconLeading:{icon:s,size:"xs",fitToViewBox:"all"},children:(0,n.jsx)(a().sA,{id:"pageViewBlock.customizeLayout",defaultMessage:"Customize layout"})},"customize-layout")}},77126:(e,t,o)=>{o.d(t,{j:()=>n});class i extends(()=>o(959180))().A{}const n=new i},94701:(e,t,o)=>{o.r(t),o.d(t,{checkmarkFillIcon:()=>n,iconDefinition:()=>i});o(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.66 3.66 12.68 12.68",svg:(0,o(474848).jsx)("path",{d:"M15.913 3.787a.875.875 0 0 1 .3 1.2L9.658 15.914a.875.875 0 0 1-1.415.119l-4.37-5.098a.875.875 0 0 1 1.329-1.14l3.58 4.177 5.93-9.884a.875.875 0 0 1 1.2-.3"})},n=(0,o(340498).wt)("checkmarkFill",i)},103018:(e,t,o)=>{o.d(t,{W:()=>n});var i=()=>o(753851);function n(e){return(0,i().F)(e)}},155129:(e,t,o)=>{o.d(t,{X:()=>i});const i=(0,o(296540).createContext)(0);i.displayName="PageViewHorizontalOffsetContext"},158574:(e,t,o)=>{o.d(t,{JO:()=>a,K$:()=>d,KM:()=>c});var i=()=>o(908006),n=()=>o(21178),r=()=>o(190033),s=()=>o(231297);function a(e){const{store:t,pageId:o,descriptionStore:i,environment:n,userSettingsStore:r}=e;l({environment:n,isExpanded:!t.state.isPageDescriptionExpanded,pageId:o,store:t,userSettingsStore:r,descriptionStore:i})}function l(e){const{environment:t,pageId:o,isExpanded:i,store:r,userSettingsStore:a}=e;i!==r.state.isPageDescriptionExpanded&&(r.setState({...r.state,isPageDescriptionExpanded:i}),a&&s().createAndCommit({userAction:"pageDescriptionActions.setExpanded",environment:t,canUndo:!0,perform:e=>{if(i){const t={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:o}};s().applyOperation({store:a,transaction:e,operation:t})}else{const t={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listAfter",args:{id:o}};s().applyOperation({store:a,transaction:e,operation:t});let i=(0,n().Up)(a);for(;i.length>n().DV;){const t=i[0],o={pointer:{table:"user_settings",id:a.id},path:["settings","hidden_collection_descriptions"],command:"listRemove",args:{id:t}};s().applyOperation({store:a,transaction:e,operation:o}),i=(0,n().Up)(a)}}}}))}function c(e){const{environment:t,pageId:o,store:n,userSettingsStore:s,descriptionStore:a}=e;l({environment:t,isExpanded:!0,pageId:o,store:n,userSettingsStore:s,descriptionStore:a}),i().default.afterNextFlush((()=>{a&&!t.device.isMobileBrowser&&(0,r().z)({store:a})}))}function d(e){const{pageId:t,store:o,userSettingsStore:i,descriptionHasText:r}=e;if(!r)return void o.setState({...o.state,isPageDescriptionExpanded:!1});const s=!(0,n().Up)(i).includes(t);o.setState({...o.state,isPageDescriptionExpanded:s})}},165121:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(757695))().Store{constructor(){super()}getInitialState(){}}const n=new i},182034:(e,t,o)=>{o.d(t,{O:()=>u,e:()=>d});o(898992),o(672577);var i=()=>o(908006),n=()=>o(878523),r=()=>o(190033),s=()=>o(892632),a=()=>o(299545),l=()=>o(77126),c=()=>o(489348);function d(e,t){const o=a().dd(t),i=s().xh(o);e.setState({...e.state,files:i})}async function u(e){const{blockStore:t,pageViewBlockStore:o,environment:s}=e;o?o.setState({...o.state,forceDiscussionOpen:!0}):c().A.openNewPageDiscussionInput(t),n().o2(s,{from:"page_comments"}),await i().default.afterNextFlush();const a=l().j.find((e=>e.getBlockStore().id===t.id)),d=null==a?void 0:a.getInputStore();d&&(0,r().z)({store:d.state.textStore})}},257502:(e,t,o)=>{o.d(t,{d:()=>ae});o(18107),o(967357),o(898992),o(672577),o(430670),o(581454);var i=()=>o(906745),n=o(296540),r=()=>o(59226),s=()=>o(993905),a=()=>o(726637),l=()=>o(402014),c=()=>o(662303),d=()=>o(484714),u=()=>o(56366),p=()=>o(401497),g=()=>o(718827),m=()=>o(252291),S=()=>o(799954),v=()=>o(869190),h=()=>o(546703),f=()=>o(310442),y=()=>o(824862),b=()=>o(798880),x=()=>o(69708),_=()=>o(496603),C=()=>o(534177),k=()=>o(774733),w=()=>o(517288),I=()=>o(663290),P=()=>o(848565),M=()=>o(11048),T=()=>o(285790),A=()=>o(256863),j=()=>o(453697),B=()=>o(21140),V=()=>o(126126),E=()=>o(828634),L=()=>o(862292),D=()=>o(38337),K=()=>o(645873),R=()=>o(732430),F=()=>o(321909),O=()=>o(548821),z=()=>o(729380),W=()=>o(551619),H=()=>o(720501),N=()=>o(161479),U=()=>o(404783),Y=o(474848);function G(e){const{store:t,discussionStore:o,isFirst:i,isOnly:r,discussionLocation:s,collapsed:a}=e,l=(0,d().v3)(),c=(0,n.useMemo)((()=>new(U().A)(l,(0,N().e)(t.pointer.spaceId))),[l,t.pointer.spaceId]),{value:u}=(0,K().fJ)(k().commentsDependency);return u?(0,Y.jsx)(k().PW,{store:o,format:u.discussionHelpers.DiscussionFormat.Page,isFirst:i,isOnly:r,collapsed:a,showResolveButtonByDefaultIfPossible:!1,blockStore:t,discussionInputStore:c,..."feed_item_top_level_discussion"===s?{discussionLocation:"feed_item_top_level_discussion",pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore}:{discussionLocation:"page_discussion"}},o.id):null}var q=()=>o(908006),$=()=>o(790748),J=()=>o(197959),X=()=>o(749804),Q=()=>o(190033),Z=()=>o(231297),ee=()=>o(583824),te=()=>o(143857),oe=()=>o(77126),ie=()=>o(71301);function ne(e){const{store:t,from:o}=e,i=(0,d().v3)(),r=(0,n.useMemo)((()=>new(U().A)(i,(0,N().e)(t.pointer.spaceId))),[i,t.pointer.spaceId]),s=(0,n.useRef)(null),l=(0,n.useCallback)((()=>{(0,X().I)({environment:i})}),[i]),c=function(e){const{environment:t,discussionInputStore:o,store:i,from:r}=e,s=(0,u().uB)(void 0,O().Ay),l=(0,n.useCallback)((e=>{var o;const n=i.id;null===(o=t.PageDetailsStore)||void 0===o||o.setToggleState({environment:t,type:"discussion",id:n},e)}),[t,i.id]);return(0,n.useCallback)((async()=>{const e=o.state.textStore.getValue(),n=o.state.files;if((!e||0===e.length)&&0===n.length)return;const c=await L().T.formulas.load(),d=(0,N().e)(i.pointer.spaceId),u=t.idCreator.getSpaceIdCreatorSync(d).deterministicIdInSavedSpace(J().$Y,`${i.id}-discussion-0`),p=u?ie().c.createChildStore(i,{table:J().$Y,id:u,spaceId:d}):void 0;await(null==p?void 0:p.load());const g=Boolean(!(null!=p&&p.getResolved())),{performResult:m}=Z().createAndCommit({userAction:"PageDiscussion.useSubmitNewDiscussion",environment:t,canUndo:!0,perform:o=>(0,ee().i)({discussionId:g?u:void 0,environment:t,type:"default",blockStore:i,commentTextValue:e||[],transaction:o,files:n,formulasModule:c,fromOverride:r}),skipUpdatingEditedMetadata:!0});if(o.reset(),s.setState({...s.state,forceDiscussionOpen:!1}),l(!0),m&&!a().A.isMobile){await q().default.afterNextFlush();const e=te().A.find((e=>e.getStore().id===m.id));e&&(0,Q().z)({store:e.getInputStore().state.textStore})}}),[o,t,s,l,i,r])}({environment:i,discussionInputStore:r,store:t,from:o});(0,$().b)(oe().j,(()=>({getNode:()=>s.current,getBlockStore:()=>t,getInputStore:()=>r})),[r]);const{value:p}=(0,K().fJ)(k().commentsDependency);return p?(0,Y.jsx)("div",{ref:s,children:(0,Y.jsx)(k().bd,{showAvatar:!0,parentStore:t,onSubmit:c,onCancel:l,discussionInputStore:r,discussionFormat:p.discussionHelpers.DiscussionFormat.Page,isMobileSlideUpMenu:!1,shouldSaveUnsentComments:!0,canDrop:!0,blockStore:t})}):null}const re=5;function se(e){const{store:t,showDiscussionInput:o,unresolvedDiscussionStores:s,discussionLocation:l,collapsed:S}=e,f=(0,d().v3)(),y=(0,x().tz)(),{value:b}=(0,K().fJ)(L().T.formulas),{value:C}=(0,K().fJ)(k().commentsDependency),M=(0,r().X)("block_reactions"),A=(0,u().K8)((()=>s.find((e=>e.getReactions().length>0))),[s]),j=(0,u().K8)((()=>s.find((e=>e.getCommentPointers().length>0))),[s]),B=(0,u().K8)((()=>Boolean(A)),[A]),E=(0,u().K8)((()=>(null==j?void 0:j.getCommentPointers().length)??0),[j]),F=(0,u().K8)((()=>{const e=[...(null==j?void 0:j.getCommentStores())??[]].reverse().flatMap((e=>{const t=e.getCreatedByStore();return t?[t]:[]}));return _().hS(e,"id").slice(0,re)}),[j]),z=(0,u().K8)((()=>{const e=null==j?void 0:j.getCommentStores().at(-1),t=null==e?void 0:e.getCreatedTime();return t?(0,v().eV)({value:i().c9.fromMillis(t),preset:"time",locale:c().locale}):void 0}),[j]),H=(0,n.useCallback)((e=>{const o=j;if(!o)return;const i=e.target;(0,I().I)({environment:f,discussionStore:o,rect:i.getBoundingClientRect(),blockStore:t,discussionLocation:"feed_item_top_level_discussion"})}),[f,t,j]),N=(0,p().IS)((e=>{const t={paddingTop:s.length>0?12:-1*P().Ql/2,paddingBottom:12,paddingInlineEnd:4};return{pageViewDiscussion:{width:"100%",margin:"0 auto"},newPageDiscussionWrapper:{..."feed_item_top_level_discussion"===l?{padding:0}:t},emptyPostDiscussion:{display:"flex",justifyContent:"space-between",paddingBottom:12},reactionButton:{...null==C?void 0:C.REACTION_PILL_STYLE,width:40,paddingInlineStart:10,paddingInlineEnd:10,borderRadius:13,borderWidth:1,borderColor:e.border.secondary,borderStyle:"solid",...a().A.isMobile?null==C?void 0:C.MOBILE_REACTION_PILL_STYLE_OVERRIDES:{},border:"none",background:e.background.secondary}}}),[s.length,C,l]),U=(0,p().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:12},presenceReactionsContainer:{display:"flex",flexDirection:"row",justifyContent:M?"space-between":"flex-end",...a().A.isMobile?{justifyContent:"flex-start",gap:4}:{}},reactionsContainer:{display:"flex",gap:6,minHeight:27},repliesButton:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",padding:4,borderRadius:6},repliesButtonContent:{display:"flex",alignItems:"center",gap:8},repliesInfo:{display:"flex",alignItems:"baseline",gap:8},replyCount:{fontSize:14,color:e.text.primary},lastReplyTime:{fontSize:12,color:e.text.tertiary}})),[M]);if("feed_item_top_level_discussion"===l&&(null==e?void 0:e.pageViewBlockContext)===O().Rr.PageInFeed){const o=e.pageVisitStore&&e.presenceStore,i=o&&a().A.isMobile;return(0,Y.jsxs)("div",{style:U.container,children:[(0,Y.jsxs)("div",{style:U.presenceReactionsContainer,children:[M?(0,Y.jsxs)("div",{style:U.reactionsContainer,children:[A?(0,Y.jsx)(k().PH,{focused:!0,disableShadow:!0,parentStore:A,discussionLocation:e.discussionLocation,showAddReactionButton:!0,additionalItems:i?(0,Y.jsx)(R().pc,{pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore,rootStore:t,enableFacepile:!1,isShowingInFeed:!0}):void 0}):void 0,B?void 0:(0,Y.jsx)(T().A,{ariaLabel:y.formatMessage({defaultMessage:"Add reaction",id:"ReactionBar.newReaction.ariaLabel"}),hasBackground:!1,showShadow:!1,style:N.reactionButton,icon:()=>(0,Y.jsx)(m().I,{icon:h().r,colorVariant:"secondary"}),onClick:e=>{(0,w().O)({environment:f,blockStore:t,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:b})}})]}):void 0,B&&i||!o?void 0:(0,Y.jsx)(R().pc,{pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore,rootStore:t,maxUsers:5,enableFacepile:!a().A.isMobile,isShowingInFeed:!0})]}),E>0?(0,Y.jsx)(g().Ay,{style:U.repliesButton,onClick:H,children:(0,Y.jsxs)("div",{style:U.repliesButtonContent,children:[(0,Y.jsx)(ce,{commenters:F}),(0,Y.jsxs)("div",{style:U.repliesInfo,children:[(0,Y.jsx)("div",{style:U.replyCount,children:(0,Y.jsx)(x().sA,{defaultMessage:"{replyCount, plural, one {{replyCount} reply} other {{replyCount} replies}}",id:"pageLayout.discussionsModule.replyCount",values:{replyCount:E}})}),z?(0,Y.jsx)("div",{style:U.lastReplyTime,children:z}):void 0]})]})}):(0,Y.jsx)("div",{style:N.newPageDiscussionWrapper,children:(0,Y.jsx)(ne,{from:l,store:t})})]})}return(0,Y.jsxs)("div",{style:N.pageViewDiscussion,onMouseDown:W().NV,onClick:W().sx,className:D().Jv,children:["feed_item_top_level_discussion"!==l||B?void 0:(0,Y.jsxs)("div",{style:N.emptyPostDiscussion,children:[(0,Y.jsx)(T().A,{ariaLabel:y.formatMessage({defaultMessage:"Add reaction",id:"ReactionBar.newReaction.ariaLabel"}),hasBackground:!1,showShadow:!1,style:N.reactionButton,icon:()=>(0,Y.jsx)(m().I,{icon:h().r,colorVariant:"secondary"}),onClick:e=>{(0,w().O)({environment:f,blockStore:t,rect:e.currentTarget.getBoundingClientRect(),skipOpeningDiscussionOnSubmit:!0,formulasModule:b})}}),e.pageVisitStore&&e.presenceStore?(0,Y.jsx)(V().hJ,{pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore,rootStore:t,maxUsers:5,isShowingInFeed:!0}):void 0]}),s.map(((o,i,n)=>(0,Y.jsx)(G,{store:t,discussionStore:o,isFirst:0===i,isOnly:1===n.length,collapsed:S,..."feed_item_top_level_discussion"===l?{discussionLocation:"feed_item_top_level_discussion",pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore}:{discussionLocation:l}},o.id))),o?(0,Y.jsx)("div",{style:N.newPageDiscussionWrapper,children:(0,Y.jsx)(ne,{from:l,store:t})}):void 0]})}function ae(e){const{store:t,wrapper:o,discussionLocation:i,collapsed:r,showDefaultTitle:a,pageDiscussionsRenderState:c}=e,d=(0,n.useRef)(null),u=(0,n.useCallback)((e=>{z().u.setDiscussionsHeight(e.height)}),[]);(0,E().tK)(d,u);const p=(0,F().y)();return(0,Y.jsx)(M().A,{name:"PageDiscussionsWrapper",children:"hidden"!==c.type?o((0,Y.jsx)(B().wt,{style:{paddingInlineStart:p?S().dE.paddingInlineStart:void 0},gap:2,ref:d,children:(0,Y.jsxs)(s().s,{allowSelectionWithin:!0,children:[a?(0,Y.jsx)("div",{onClick:e=>(0,l().SQ)({event:e,context:l().y$.Click}),children:(0,Y.jsx)(H().j,{store:t,children:(0,Y.jsx)(x().sA,{id:"pageLayout.discussionsModule.title",defaultMessage:"Comments"})})}):void 0,(0,Y.jsx)(se,{...c,withLegacyInputPadding:!0,store:t,collapsed:r,..."feed_item_top_level_discussion"===i?{discussionLocation:"feed_item_top_level_discussion",pageVisitStore:e.pageVisitStore,presenceStore:e.presenceStore,pageViewBlockContext:e.pageViewBlockContext}:{discussionLocation:"page_discussion"}})]})})):void 0})}function le(e){const{actorStore:t,size:o}=e;return t.table===y().GP?(0,Y.jsx)(A().A,{botStore:t,size:o}):t.table===b().oo?(0,Y.jsx)(j().A,{userStore:t,size:o}):t.table===f().yj?(0,Y.jsx)(j().A,{userStore:void 0,size:o}):void(0,C().HB)(t)}function ce(e){const{commenters:t}=e,o=(0,p().IS)((()=>({container:{display:"flex",alignItems:"center",width:16*t.length+8,paddingInlineEnd:8}})),[t.length,8]);return(0,Y.jsx)("div",{style:o.container,children:t.map(((e,o)=>(0,Y.jsx)("div",{style:{position:"relative",insetInlineStart:-8*o,zIndex:t.length-o},children:(0,Y.jsx)(le,{actorStore:e,size:24})},e.id)))})}},266597:(e,t,o)=>{o.d(t,{Y:()=>s});var i=()=>o(56366),n=()=>o(477293),r=()=>o(765957);function s(e){const t="control"!==(0,n().r)("adoption_custom_workspace_getting_started_page",{disableExposureLogging:!0}),o=(0,i().K8)((()=>{const t=e.getSpaceStore();return null!=t&&t.isDefined()?t:void 0}),[e]),s=(0,i().K8)((()=>{var e;return void 0!==(null===(e=r().default.state.sidebarSpaceViewStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.set_custom_getting_started_page_banner_dismissed_at)}),[]),{canAdmin:a,hasCollaborativeIntent:l,isMultiplayer:c}=(0,i().K8)((()=>{var e;return o?{canAdmin:o.canAdmin(),hasCollaborativeIntent:"multiplayer"===(null===(e=o.getSpaceSurveyData())||void 0===e||null===(e=e.collaborative_intent)||void 0===e?void 0:e.value),isMultiplayer:(o.getMemberCountFromPublicSpaceData()??1)>1}:{canAdmin:!1,hasCollaborativeIntent:!1,isMultiplayer:!1}}),[o]),d=(0,i().K8)((()=>{var t;return(null===(t=r().default.state.sidebarSpaceViewStore)||void 0===t||null===(t=t.getSettings())||void 0===t||null===(t=t.getting_started_page_ids)||void 0===t?void 0:t[0])===e.id}),[e]),u=(0,i().K8)((()=>{var e;if(o)return null===(e=o.getSettings())||void 0===e||null===(e=e.getting_started_templates)||void 0===e||null===(e=e.default)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.page_id}),[o]),p=(0,i().K8)((()=>u===e.id),[u,e]);if(!s&&a&&t)return d&&(l||c)&&void 0===u?{type:"own_page"}:p?{type:"custom_page"}:void 0}},312310:(e,t,o)=>{o.d(t,{A:()=>m});var i=o(296540),n=()=>o(484714),r=()=>o(631524),s=o(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 15.25 11.75",svg:(0,s.jsx)("path",{d:"M2.375 6.25c0-1.174.951-2.125 2.125-2.125h11c1.174 0 2.125.951 2.125 2.125v7.5a2.125 2.125 0 0 1-2.125 2.125h-11a2.125 2.125 0 0 1-2.125-2.125zm1.25 7.5c0 .483.392.875.875.875h11a.875.875 0 0 0 .875-.875v-2.791l-2.87-2.871a.625.625 0 0 0-.884 0l-4.137 4.136-1.98-1.98a.625.625 0 0 0-.883 0L3.625 12.24zM8.5 9.31a1.5 1.5 0 0 0 1.33-.806 1.094 1.094 0 0 1-.702-2.058A1.5 1.5 0 1 0 8.5 9.31"})},l=(0,o(340498).wt)("photoFill",a);var c=()=>o(69708),d=()=>o(222299),u=()=>o(675925),p=()=>o(231297),g=()=>o(748539);function m(e){const{store:t,style:o,label:a,from:m}=e,S=(0,n().v3)(),[v,h]=(0,i.useState)(!1),f=(0,n().Y0)(),y=(0,i.useCallback)((async()=>{await(0,u().o)(S,{action:"edit_cover",block_type:"page",from:m},(async e=>{const o=t.getCoverStore();if(!o)return;if(o.getValue())return;h(!0);const i=await g().f.load(),{serverCommitResult:n}=p().createAndCommit({userAction:"PageViewBlock.handleAddRandomCoverClick",environment:S,canUndo:!0,perform:e=>{d().Oj({transaction:e,store:t,coverStore:o,pageCovers:i})}});n.then(e),h(!1)}))}),[S,t,m]);return!0===v?(0,s.jsx)(r().p,{style:o,colorPalette:"gray",colorVariant:"tertiary",disabled:!0,iconLeading:{icon:l,size:"xs",fitToViewBox:"all"},children:f.isSmallPhone?(0,s.jsx)(c().sA,{id:"pageAddCoverButton.add.pageCoverMobileLoading",defaultMessage:"Loading"}):(0,s.jsx)(c().sA,{id:"pageAddCoverButton.add.pageCoverLoading",defaultMessage:"Loading cover"})},"add-cover-loading"):(0,s.jsx)(r().p,{style:o,colorPalette:"gray",colorVariant:"tertiary",onClick:y,iconLeading:{icon:l,size:"xs",fitToViewBox:"all"},children:a},"add-cover")}},352759:(e,t,o)=>{o.d(t,{p:()=>f,t:()=>y});o(581454),o(296540);var i=()=>o(381175),n=()=>o(484714),r=()=>o(56366),s=()=>o(584262),a=()=>o(69708),l=()=>o(857783),c=()=>o(255018),d=()=>o(939740),u=()=>o(305390),p=()=>o(89924),g=()=>o(900967),m=()=>o(211716),S=()=>o(592968),v=()=>o(551619),h=o(474848);function f({store:e}){return(0,h.jsx)("div",{style:{width:"100%",maxWidth:"100%",marginTop:0,marginInlineEnd:"auto",marginBottom:6,marginInlineStart:"auto"},onMouseDown:v().NV,onClick:v().sx,children:(0,h.jsx)(c().A,{type:"page",store:e,headerText:(0,h.jsx)(a().sA,{defaultMessage:"Linked to this page",id:"page.expandedBacklinks.label"}),disableCurrentPageToken:!0,disableInaccessiblePages:!0})})}function y({store:e}){const t=(0,n().v3)(),o=(0,r().K8)((()=>(0,g().c)(e,t)),[e,t]),a=(0,r().K8)((()=>o.backlinks.map((e=>e.backlinkStore))),[o]).map(((e,o)=>({key:e.id,render:t=>(0,h.jsx)(u().A,{...t,store:e,hidePath:!1}),action:({event:o})=>{S().F.setState({isOpen:!1});const n=(0,i().V)(o);l().uK({environment:t,store:e,openInNew:n,visitType:m().ig.Link,pageVisitSource:s().y8.Backlinks})}})));return(0,h.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:void 0,sections:[{key:"all",items:a,render:e=>(0,h.jsx)(p().A,{...e})}]})}},388139:(e,t,o)=>{o.d(t,{F:()=>a});o(296540);var i=()=>o(401497),n=()=>o(98126),r=()=>o(69708),s=o(474848);function a(){const e=(0,i().IS)((e=>({wrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:16,marginTop:"12vh"},message:{fontSize:14,marginTop:8,color:e.text.secondary}})),[]);return(0,s.jsxs)("div",{style:e.wrapper,children:[(0,s.jsx)(n().k,{}),(0,s.jsx)("div",{style:e.message,children:(0,s.jsx)(r().sA,{defaultMessage:"Importingâ€¦",id:"frame.importingMessage"})})]})}},400851:(e,t,o)=>{o.d(t,{X:()=>m,Y:()=>g});var i=()=>o(59226),n=()=>o(726637),r=()=>o(56366),s=()=>o(179034),a=()=>o(534177),l=()=>o(799832),c=()=>o(329443),d=()=>o(77246),u=()=>o(548821),p=()=>o(411671);function g({environment:e,blockStore:t,from:o,blockContext:i,allowTabletsToUseLayoutBuilder:r}){const{currentUser:g}=e;if(r&&e.device.isPhone||!r&&n().A.isMobile)return!1;if(!g.isLoggedIn()||(0,c().qb)(e,t)&&!p().A.state.editing)return!1;if(i===u().Rr.InPageSnapShot)return!1;if("suggest"===d().Uv.getMode(t))return!1;if(t.pathIsDead())return!1;if(t.isCollectionView()&&"topControls"!==o){const e=(0,l().U)(t);return!!e&&Boolean(e.permissionScopesStore.state.canConfigureCollection&&(function(e){switch(e){case"topControls":case"pageActionsMenu":return!1;case"viewsModule":case"pagePropertiesRowNameMenu":case"collectionSettingsMenu":return!0;default:(0,a().HB)(e)}}(o)||t.getCollectionStoreIfSingleSource())&&!t.isCollectionViewPageWithContent()&&!t.isLocked()&&!t.isTeamPost()&&!t.isTeamPostCollectionBlock()&&!e.permissionScopesStore.state.isExternallyImportedAndSyncedCollection)}if(t.isPageBlock()||t.isExternalObjectInstancePageBlockStore()){const e=t.getAssociatedCollectionStore(),o=null==e?void 0:e.getParentStore();return Boolean(!t.isLocked()&&e&&e.canEditCollection()&&!e.isPageTreeCollection()&&(null==o?void 0:o.table)===s().ev&&!o.isLocked()&&!e.isExternallyImportedAndSyncedCollection())}return!1}function m({environment:e,blockStore:t,from:o,blockContext:n}){const s=(0,i().X)("layouts_tablet_builder");return(0,r().K8)((()=>!!t&&g({environment:e,blockStore:t,from:o,blockContext:n,allowTabletsToUseLayoutBuilder:s})),[n,t,e,o,s])}},406859:(e,t,o)=>{o.d(t,{M:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{blockStoreMode:{},siteTemplateStatus:{}}}getStateForBlock(e){if(e in this.state.blockStoreMode)return this.state.blockStoreMode[e]}setStateForBlock(e,t){this.update((o=>({...o,blockStoreMode:{...o.blockStoreMode,[e]:t}})))}setSiteTemplateStatus(e,t){this.update((o=>({...o,siteTemplateStatus:{[e]:t}})))}isTemplateListing(e){var t;return(null===(t=this.state.siteTemplateStatus[e])||void 0===t?void 0:t.templateListingExists)??!1}clearStateForBlock(e){e in this.state.blockStoreMode&&(delete this.state.blockStoreMode[e],this.emit())}}const n=new i;(0,o(852832).exposeDebugValue)("MarketplaceTemplateStore",n)},441301:(e,t,o)=>{o.d(t,{s:()=>f});var i=o(296540),n=()=>o(993905),r=()=>o(726637),s=()=>o(662303),a=()=>o(484714),l=()=>o(56366),c=()=>o(799954),d=()=>o(69708),u=()=>o(284371),p=()=>o(11048),g=()=>o(765957),m=()=>o(548821),S=()=>o(551619),v=o(474848);const h=Object.freeze({property:!0}),f=i.memo((function({store:e,context:t,disabled:g,isInSidePeek:f,extraStyles:x,titlePlaceholder:_,collectionContextStore:C,shouldShowTemplatePicker:k,onTitleChange:w,onTitleEditText:I,onTitleEsc:P,onTitleUntab:M,onTitleTab:T,onMoveUp:A,onMoveDown:j,hideText:B,disableEnter:V}){const E=(0,d().tz)(),L=(0,a().v3)(),D=(0,o(792485).S)(),K=(0,l().K8)((()=>e.getTitleStore()),[e]),R=(0,l().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(o(700500).xd.externalObjectInstancePage)}),[e]),F=(0,S().Sm)(e),O=(0,l().K8)((()=>{if(g)return!1;if(o(620149).l.state)return!1;const t=null==D?void 0:D.publicEditModeStore.state;return!(0,o(329443).QT)(t)&&e.canEditCollection()}),[g,null==D?void 0:D.publicEditModeStore,e]),z=(0,l().K8)((()=>{if(!e.isCollectionView())return!1;const t=e.getCollectionStoreIfSingleSource();return!!t&&(0,o(107041).Qu)(t.getValue())}),[e]),W=(0,l().K8)((()=>{const t=e.getModel();return _??(null==t?void 0:t.getEmptyTitlePlaceholder({getRecordModel:e.getRecordModel,userTimeZone:(0,o(416504).P)(),intl:o(972435).A.getIntl()}))}),[e,_]),H=!r().A.isMobile&&f,N=(0,l().K8)((()=>O&&!e.isNonEditableState()&&!R&&!F&&!(0,o(696746).Nh)(e.id)&&!("suggest"===o(77246).Uv.getMode(e))),[O,R,F,e]),U=(0,l().K8)((()=>e.isEmptyPage()),[e]),Y=(0,l().K8)((()=>e.isTemplate()),[e]),G=(0,l().K8)((()=>e.getAssociatedCollectionTemplateStores()),[e]),q=(0,l().K8)((()=>e.getSyncedUri()),[e]),$=function(e){const{store:t,isInSidePeek:i,context:n,shouldRenderIconInlineWithTitle:d,extraStyles:p,disabled:g}=e,S=(0,a().v3)(),v=(0,l().K8)((()=>t.getFormat()),[t]),h=(0,l().K8)((()=>t.isCollectionView()),[t]),f=(0,l().K8)((()=>t.isExternalObjectInstancePageBlockStore()),[t]),y=b(t),x=(0,a().Y0)(),_=(0,o(600871).D1)(x),C=(0,o(321909).y)();return(0,o(401497).IS)((e=>{const t=Boolean(v.page_small_text)||h||i;let o;o=r().A.isMobile?_?34:28:t?32:n===m().Rr.DraftPostInInlineComposer?26:40;const a=n===m().Rr.DraftPostInInlineComposer?u().Wy.semibold:u().Wy.bold,l="0px",b=C&&!h?c().dE:c().CC;return{container:{display:(null==p?void 0:p.display)??void 0,flex:d?1:void 0},title:{...b,paddingBottom:l,width:f||y?"fit-content":"100%",fontSize:"1em",fontWeight:"inherit",margin:0,cursor:g?"default":"text",...n===m().Rr.DraftPostInInlineComposer&&{fontSize:24},...y&&{whiteSpace:"nowrap"},...y&&!C&&{marginInlineEnd:6}},selectable:{color:e.text.primary,fontWeight:a,lineHeight:1.2,fontSize:o,fontFamily:u().xf({pageFont:v.page_font,locale:s().locale}),cursor:g?"default":"text",display:"flex",alignItems:"center",textRendering:S.device.isSafari?"optimizeSpeed":void 0,...y&&{flexWrap:"wrap"},...p},link:{width:16,fill:e.icon.secondary},placeholder:{...b,paddingBottom:l,WebkitTextFillColor:e.pageTitlePlaceholderTextColor,cursor:g?"default":"text",...n===m().Rr.DraftPostInInlineComposer&&{color:e.text.tertiary,WebkitTextFillColor:e.text.tertiary}},personPronounSuffix:{color:e.text.secondary,paddingBottom:l,paddingTop:b.paddingTop}}}),[_,S.device.isSafari,p,v.page_font,v.page_small_text,h,f,y,i,n,C,d,g])}({store:e,isInSidePeek:f,context:t,shouldRenderIconInlineWithTitle:H,extraStyles:x,disabled:g||!N}),J=(0,l().K8)((()=>e.isExternalObjectInstancePageBlockStore()),[e]),X=(0,l().K8)((()=>e.isExternalCollectionBlockStore()?e:void 0),[e]),Q=(0,l().K8)((()=>(null==X?void 0:X.canEdit())??!1),[X]),Z=(0,l().K8)((()=>q?(0,o(493208).e)(q,e.pointer.spaceId):void 0),[e.pointer.spaceId,q]),ee=(0,l().K8)((()=>o(430483).zD.shouldEnablePageTitleDiffs()),[]),te=G&&0===G.length,oe=(0,S().O9)(e,t),ie=(0,l().K8)((()=>!!V||!oe&&(!(!k||Y||te||r().A.isMobile)&&U)),[oe,V,k,Y,te,U]),ne=(0,i.useRef)(null),re=(0,i.useCallback)((()=>{e&&o(231297).createAndCommit({userAction:"TourTutorial.createEmptyTextBlock",environment:L,canUndo:!0,perform:t=>{o(324089)._N({environment:L,store:e,transaction:t})}})}),[e,L]),se=b(e)?(0,v.jsx)("span",{style:$.personPronounSuffix,children:(0,v.jsx)(d().sA,{id:"pageTitle.personalPronoun",defaultMessage:"(You)"})}):null;if(z)return(0,v.jsx)(p().A,{name:"PageTitle",children:null});if(!K)return(0,v.jsx)(p().A,{name:"PageTitle",children:null});const ae=o(148832).B.createChildStore(K,e.pointer),le=L.device.isIOS||L.device.isSafari,ce=(0,v.jsx)(o(998109).n,{step:"create_page_start_with_title",showSidebarOverlays:!1,onNextButtonClick:re,children:B?(0,v.jsx)(v.Fragment,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(o(712855).A,{tagName:"h1",style:$.title,store:K,placeholderStyle:$.placeholder,disabled:!N,placeholder:W,disableSlashCommands:!0,disableSelectAllBlocks:!0,disableStyleAnnotations:!0,disableInsertedDeletedAnnotations:!ee,disableMobileActionBar:!1,disableShiftEnter:!0,disableEmbedMenu:!0,onEsc:P,onUntab:M,onTab:T,onMoveDown:j,onMoveUp:A,disableUpDownArrows:!(!k||Y||te||r().A.isMobile)&&U,disableEnter:ie,onChange:w,disableHorizontalEdgeScroll:!0,pasteBehavior:"block",trackEditsToUserFlow:"user_flow_edit_page_title",inPageFind:o(792540).Os.block_match,disabledMentionTypes:h},K.id),se]})}),de=E.formatMessage({id:"PageTitle.syncedBlock.original",defaultMessage:"Link to original url"});return(0,v.jsx)(p().A,{name:"PageTitle",children:(0,v.jsxs)("div",{style:$.container,ref:ne,children:[(0,v.jsxs)(o(199896).Ay,{canSelect:!1,canDrag:!1,canEditText:N,onEditText:I,store:ae,style:$.selectable,analyticsName:"page_content",shouldShowDropZone:!0,children:[le?(0,v.jsx)(n().s,{allowSelectionWithin:!0,style:{width:"100%",maxWidth:"100%"},children:ce}):ce,(0,v.jsxs)(n().s,{allowSelectionWithin:!0,children:[(0,v.jsx)(o(964447).vE,{origin:ne??void 0}),J?(0,v.jsx)(o(859428).A,{placement:"bottom",renderTooltip:()=>de,render:e=>(0,v.jsx)(o(296798).A,{href:Z,ignoreLocalHoverState:!0,hovered:!1,children:(0,v.jsx)(o(285790).A,{ariaLabel:de,...e,icon:()=>(0,o(657222).w)($.link),style:{marginInlineStart:4},onClick:()=>{Z&&(0,o(27579).L)({url:Z,environment:L})}})})}):void 0,X&&!r().A.isMobile?(0,v.jsx)(o(346436).A,{store:X,canEdit:Q,buttonStyle:{fontWeight:"normal",margin:0}}):void 0]})]}),(0,v.jsx)(n().s,{allowSelectionWithin:!0,style:{marginInlineStart:4},children:(0,v.jsx)(y,{store:e,collectionContextStore:C})})]})})}));function y(e){const{store:t,collectionContextStore:i}=e,n=(0,l().K8)((()=>t.isCollectionView()),[t]),r=(0,l().K8)((()=>t.getCollectionStoreIfSingleSource()),[t]);return n&&i&&r?(0,v.jsx)(o(948049).A,{collectionStore:r,collectionContextStore:i}):null}function b(e){return(0,l().K8)((()=>{var t;const o=e.getPersonProfileUserId(),i=null===(t=g().default.state.currentUserStore)||void 0===t?void 0:t.id;return!(!o||!i)&&o===i}),[e])}},451035:(e,t,o)=>{o.d(t,{z:()=>a});var i=o(296540),n=()=>o(59226),r=()=>o(562984),s=()=>o(645873);function a(e,t){const o=(0,n().X)("prefetch_extended_user_profiles"),a=(0,s().fJ)(r().u.extendedUserProfileActions,{disabled:!o});(0,i.useEffect)((()=>{o&&e&&a.value&&a.value.prefetchMentionedUserProfiles(e,t)}),[o,e,t,a.value])}},472316:(e,t,o)=>{o.d(t,{G:()=>r});var i=()=>o(96689),n=()=>o(227894);function r(e){const t=(0,n().g)(e);for(const o of t)if(o.table===i().NX)return o.getSettings().space_request}},474204:(e,t,o)=>{o.d(t,{M:()=>n});var i=()=>o(56366);function n(e){return(0,i().K8)((()=>{const t=null==e?void 0:e.collectionViewStore();return t&&"page"!==t.getType()}),[e])}},483832:(e,t,o)=>{o.d(t,{v:()=>w});var i=o(296540),n=()=>o(993905),r=()=>o(484714),s=()=>o(56366),a=()=>o(778781),l=()=>o(599806),c=()=>o(543886),d=()=>o(405170),u=()=>o(33791),p=()=>o(774733),g=()=>o(21140),m=()=>o(68350),S=()=>o(199896),v=()=>o(891078),h=()=>o(402838),f=()=>o(171018),y=()=>o(548821),b=()=>o(795963),x=()=>o(255824),_=()=>o(671891),C=()=>o(517223),k=o(474848);function w(e){const{store:t,context:o,propertyId:w,disabled:I,wrapper:P,pageModule:M,stackPropertyLabelAndValue:T}=e,A=(0,v().bx)(t,I),j=(0,s().K8)((()=>t.getAssociatedCollectionStore()),[t]),B=(0,s().K8)((()=>{if(t.isCollectionViewPageWithContent())return{type:"hidden"};const e=t.getAssociatedCollectionStore();return e?{type:"visible",collectionStore:e}:{type:"hidden"}}),[t]),V=(0,s().K8)((()=>null==j?void 0:j.getSchema()),[j]),E=(0,s().K8)((()=>null==j?void 0:j.getFormat()),[j]),L=(0,s().K8)((()=>{var e;return null===(e=B.collectionStore)||void 0===e?void 0:e.getSchema()[w]}),[B.collectionStore,w]),D=(0,s().K8)((()=>t.isNonEditableState()),[t]),K=(0,i.useMemo)((()=>new(f().YB)),[]),R=i.useRef(null),F=(0,s().K8)((()=>{const e=null==j?void 0:j.getParentStore();return!(!j||!e||"block"!==e.table)&&(0,u().v)({collectionStore:j,collectionViewBlockStore:e,checkNavigableAncestorLocked:!1})}),[j]),O=o===y().Rr.PeekView,z=(0,a().gx)(M)?M:void 0,{isPropertyInPageDetails:W}=(0,C()._1)({store:t,propertyId:w}),{isMobile:H}=(0,r().v3)().device,N=(0,h().s)(R,50),U=(0,_().l)(t),Y=(0,s().K8)((()=>{var e;return"hide"===(null==U||null===(e=U.getFormat())||void 0===e?void 0:e.property_icons_visibility)}),[U]),G=(0,x().a)();if(!L)return null;if("hidden"===B.type)return null;if(!j||!V||!E)return null;const q=!G&&"relation"!==L.type,$=!G,J=(0,b().Ge)({isMobile:H,stackPropertyLabelAndValue:T,isPropertyInPageDetails:W}),X=(0,k.jsx)(p().L_,{store:t,propertyId:w,style:W||H?{flexShrink:0}:{position:"absolute",insetInlineStart:null!=N&&N.width?N.width+4:void 0,top:0}}),Q=(0,k.jsxs)(k.Fragment,{children:[q?(0,k.jsxs)(g().Ye,{alignItems:"center",justifyContent:W?void 0:"space-between",style:J?{width:J,flexShrink:0}:void 0,children:[(0,k.jsx)(m().I,{schema:V,format:E,hideIcon:Y,hideDragHandle:!0,property:w,blockStore:t,collectionStore:j,pagePropertiesStore:K,disabled:I,locked:D,canConfigureCollection:F,isInPeekRenderer:O,styleVariants:{width:(0,b().aG)({stackPropertyLabelAndValue:T}),height:T?{variant:"small"}:{variant:"medium"},size:"small",fontWeight:"medium"},layoutModule:z,hideDuplicatePropertyOption:!0}),$?X:null]}):void 0,(0,k.jsx)(S().Ay,{store:t,analyticsName:"page_property",children:(0,k.jsx)(l().q,{store:t,property:w,disabled:!A,locked:D,surface:"property_module",tableWrap:!0,blockPropertyValueOverlayStore:O?d().A:c().A,collectionStore:B.collectionStore,isInPeekRenderer:O,propertyModule:z},w)})]});return P((0,k.jsx)(n().s,{allowSelectionWithin:!0,style:{position:"relative",width:"100%"},children:T?(0,k.jsx)(g().wt,{ref:R,children:Q}):(0,k.jsx)(g().Ye,{ref:R,style:{alignItems:"flex-start"},children:Q})}))}},538776:(e,t,o)=>{o.d(t,{l:()=>r});var i=()=>o(645873);const n=new(i().O2)("GenerateSocialMediaPreviewImageWrapper",(async()=>Promise.all([o.e(75134),o.e(99223),o.e(9304),o.e(9773),o.e(36556),o.e(40537),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(90825),o.e(16471),o.e(37353),o.e(29151),o.e(87248),o.e(62475),o.e(3151),o.e(98629),o.e(58550),o.e(67539),o.e(42838),o.e(22900),o.e(27634),o.e(85128),o.e(49889),o.e(20108),o.e(95555),o.e(87249),o.e(71621),o.e(92845),o.e(56369),o.e(2411),o.e(89296),o.e(46414),o.e(9294),o.e(11676),o.e(91256),o.e(40563),o.e(67494),o.e(44584),o.e(53141),o.e(4422),o.e(4330),o.e(55162),o.e(71003),o.e(55753),o.e(28866),o.e(22001),o.e(71386),o.e(4351),o.e(6331),o.e(69144),o.e(42660),o.e(55997),o.e(40828),o.e(12341),o.e(96402),o.e(84166),o.e(70359),o.e(29595),o.e(16448),o.e(10442),o.e(16434),o.e(45769),o.e(46080),o.e(75902),o.e(99809),o.e(58636),o.e(78405),o.e(33675),o.e(74562),o.e(47160),o.e(37384),o.e(91598),o.e(48046),o.e(94562),o.e(13955),o.e(42056),o.e(3165),o.e(76677),o.e(31842),o.e(43223),o.e(45147),o.e(15517),o.e(94995),o.e(98339),o.e(55639),o.e(1966),o.e(35738),o.e(6642),o.e(55776),o.e(51444),o.e(21727),o.e(58209),o.e(13297),o.e(4802),o.e(65197),o.e(81768),o.e(94300),o.e(62032),o.e(72122),o.e(32487),o.e(28058),o.e(90638),o.e(75422),o.e(97859),o.e(50856),o.e(65014),o.e(49175),o.e(36359),o.e(2752),o.e(11571),o.e(92924),o.e(42525),o.e(25204),o.e(52273),o.e(52986),o.e(45732),o.e(46817),o.e(70442),o.e(28656),o.e(37160),o.e(30443),o.e(9426),o.e(76690),o.e(63248),o.e(39457),o.e(21912),o.e(80668),o.e(12507),o.e(6626),o.e(26497),o.e(61016),o.e(91629),o.e(61858),o.e(63053),o.e(34399),o.e(89379),o.e(34974),o.e(75332),o.e(95103),o.e(75681)]).then(o.bind(o,794831)))),r=(0,i()._h)(n,(e=>e.GenerateSocialMediaPreviewImageWrapper))},557198:(e,t,o)=>{o.d(t,{Ap:()=>d,Lx:()=>p,RR:()=>u,X1:()=>c});var i=o(296540),n=()=>o(484714),r=()=>o(56366),s=()=>o(534177),a=()=>o(334261),l=()=>o(449195);function c(e){const{format:t}=e;return{backlinksConfiguredToShowAboveTitle:(0,r().K8)((()=>{const e=(0,l().nl)(t.page_section_visibility);return"section_collapsed"===e||"always_show"===e}),[t.page_section_visibility])}}function d(e){const{store:t,format:o}=e,r=(0,n().v3)();return{backlinksVisibility:(0,l().nl)(o.page_section_visibility),updateBacklinksVisibility:(0,i.useCallback)((e=>{const i=(0,l().SB)(e);a().OD({environment:r,pageSection:"backlinks",visibility:i,store:t,format:o})}),[r,t,o])}}function u(e){const{pageStore:t,numBacklinks:o}=e,{store:i,format:n}=(0,r().K8)((()=>{const e=t.getAssociatedCollectionStore()??t,o=e.getFormat();return{store:e,format:o}}),[t]),{backlinksVisibility:a}=d({store:i,format:n});return 0===o?"never":"always_show"===a?"always":"section_collapsed"===a?"onHover":"section_hide"===a?"never":void(0,s().HB)(a)}function p(e){return!1}},577814:(e,t,o)=>{o.d(t,{A:()=>a});o(898992),o(354520);var i=()=>o(449195),n=()=>o(478726),r=()=>o(299545),s=()=>o(252833);function a(e){var t;const{store:o,pageViewBlockStore:a,environment:l}=e,c=r().O3(o,{recursivelyLoadAllDiscussions:!1}).sort(((e,t)=>t.getReactions().length-e.getReactions().length)),d=c.length>0,u=0===c.length,p=0===c.filter((e=>e.getComments().length>0)).length,g="PageDetailsStore"in l&&l.PageDetailsStore.getToggleState({environment:l,type:"discussion",id:o.id}),m={type:"hidden"},S=o.getAssociatedCollectionStore()??o,v="section_hide"===(0,i().z5)(null===(t=S.getFormat())||void 0===t?void 0:t.page_section_visibility);if(!(null==a?void 0:a.state.forceDiscussionOpen)&&(!o.isInsideCollection()||!u)&&(u||d&&(!1===g||void 0===g&&v)))return m;if(v)return m;const h=o.pathIsDead();if(u&&h)return m;const f=function(e){const{environment:t,blockStore:o,visibilityStore:i,hasNoOpenCommentDiscussion:r}=e;return!!t.currentUser.isLoggedIn()&&(!(!o.canComment()||!r)&&(!((0,n().sV)(o)||(0,n().fc)(o)&&!(0,n().Cg)(o))&&(!(i!==o&&"isExternallyImportedAndSyncedCollection"in i)||(0,s().vW)(i))))}({environment:l,blockStore:o,visibilityStore:S,hasNoOpenCommentDiscussion:p});return!f&&u?m:{type:"visible",showDiscussionInput:f,unresolvedDiscussionStores:c}}},589895:(e,t,o)=>{o.d(t,{Bs:()=>d,L:()=>c,Ob:()=>l});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949);var i=o(296540),n=()=>o(852507),r=()=>o(118884),s=()=>o(994310),a=()=>o(473336);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e,this.localStorage[e]&&(delete this.localStorage[e],this.writeToLocalStorage());this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&(delete this.localStorage[e],this.writeToLocalStorage())}}registerView(e,t){if(this.currentPageId!==e)return;const o=this.entryForPage(e);o.v=[...new Set([...o.v,t])],o.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const o=this.localStorage[e];o&&(o.v=o.v.filter((e=>e!==t)),0===o.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=s().A.get(a().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),s().A.set(a().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function c({collectionContextStore:e,isFullScreen:t,wasCreatedThisSessionStore:o,didDelayOffscreenRenderRef:n,environment:r}){const s=(0,i.useCallback)((()=>{var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.id,i=r.RouterStore.state.route;if("page"!==i.name)return;const a=i.blockId;a&&o&&(n.current?(l.unregisterView(a,o),e.shouldDelayRenderStore.removeListener(s)):l.registerView(a,o))}),[e,n,r]);(0,i.useEffect)((()=>{var i;if(t||o.state)return;const n=null===(i=e.collectionViewStore())||void 0===i?void 0:i.id,a=r.RouterStore.state.route;if("page"!==a.name)return;return a.blockId&&n?(e.shouldDelayRenderStore.addListener(s),s(),()=>{e.shouldDelayRenderStore.removeListener(s)}):void 0}),[e,t,o,r,s])}function d({pageId:e,isFrameContext:t}){(0,n().l)((()=>{t&&l.startCachingViewIds(e)})),(0,r().X)((()=>{t&&l.stopCachingViewIds()}))}},592968:(e,t,o)=>{o.d(t,{F:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{isOpen:!1}}}const n=new i},596698:(e,t,o)=>{o.d(t,{V:()=>a});var i=o(296540),n=()=>o(56366),r=()=>o(746426),s=()=>o(67805);function a(e,t){const o=(0,n().K8)((()=>(0,s().c)({environment:e,store:t})),[e,t]),a=(0,r().J)(e,t,o);return(0,i.useMemo)((()=>{if(o&&"pending"!==a.status)return a.templateListingExists&&a.template?{type:"marketplace_template",template:a.template}:{type:"sites"}}),[o,a])}},601726:(e,t,o)=>{o.d(t,{E:()=>m,f:()=>g});o(296540);var i=()=>o(993905),n=()=>o(484714),r=()=>o(56366),s=()=>o(145214),a=()=>o(38337),l=()=>o(478726),c=()=>o(253448),d=()=>o(551619),u=()=>o(817942),p=o(474848);function g(e){const{store:t,isEditable:o,isInPeek:l,paddingX:g,pageCoverHeight:S,onMouseEnter:v,onMouseLeave:h}=e,f=(0,n().v3)(),y=(0,r().K8)((()=>t.isCollectionView()?"20vh":S),[S,t]),b=(0,r().K8)((()=>f.WindowSizeStore.getSafePaddingLeftCSS(g)),[f.WindowSizeStore,g]),x=(0,r().K8)((()=>f.WindowSizeStore.getSafePaddingRightCSS(g)),[f.WindowSizeStore,g]),_=(0,r().K8)((()=>f.WindowSizeStore.state.width),[f.WindowSizeStore]),C=(0,d().no)(t),k=(0,r().K8)((()=>m(t,f)),[f,t]);return(0,p.jsx)(u().Pb,{style:{isolation:"isolate"},children:(0,p.jsx)(s().A,{tag:i().s,animate:{translateX:C},allowSelectionWithin:!1,className:l?a().S6D:void 0,style:k,onMouseEnter:v,onMouseLeave:h,children:(0,p.jsx)(c().d,{height:y,store:t,disabled:!o,paddingLeft:b,paddingRight:x,proxyWidth:_})})})}function m(e,t){const o=(0,l().NR)(e,t);return o.zIndex=2,o}},603616:(e,t,o)=>{o.d(t,{v:()=>u});var i=o(296540),n=()=>o(726637),r=()=>o(484714),s=()=>o(56366),a=()=>o(700500),l=()=>o(187820),c=()=>o(103018),d=o(474848);const u=i.memo((function(e){const{hasCover:t,isEditable:u,isInlinePostTitle:p,isInPageLayoutModuleEditor:g,isInSidePeek:m,openMenuOnMount:S,openMenuOnMountCallback:v,store:h}=e,f=(0,r().v3)(),{isMobile:y}=(0,r().Y0)(),b=(0,o(69708).tz)(),x=(0,s().K8)((()=>h.isPersonProfile()),[h]),_=(0,s().K8)((()=>x?h.getPersonProfileUserStore():void 0),[x,h]),C=(0,s().K8)((()=>h.getIcon()),[h]),k=(0,s().K8)((()=>h.getIconStore()),[h]),w=(0,s().K8)((()=>h.getType()),[h]),I=(0,s().K8)((()=>{if(h.isCollectionView()){const e=h.getCollectionStoreIfSingleSource();return!!e&&e.isSyncedCollection()}return h.isType(a().xd.externalObjectInstancePage)}),[h]),P=(0,s().K8)((()=>h.isType(a().xd.form)),[h]),M=(0,s().K8)((()=>h.isCollectionView()),[h]),T=(0,s().K8)((()=>h.isEmptyPage()),[h]),A=(0,s().K8)((()=>(0,l().Te)(h)),[h]),j=(0,s().K8)((()=>o(77246).Uv.getMode(h)),[h]),B=(0,i.useCallback)((e=>{const t=h.getIconStore();t&&(0,o(675925).o)(f,{action:"edit_icon",block_type:w,from:"page_header"},(i=>{const r=(0,o(522419).pc)({source:e,secureFileConfigRootpath:n().A.secureFileConfig.rootPath,secureFileConfigHostname:n().A.secureFileConfig.hostname}),s=r?r.link:e,{serverCommitResult:a}=o(231297).createAndCommit({userAction:"PageIcon.handleChange",environment:f,canUndo:!0,perform:e=>{o(384944).KY({store:t,value:s,transaction:e})}});a.then(i)}))}),[f,h,w]),V=p?"xs":M||m?"sm":"md",{size:E,emojiSize:L}=(0,i.useMemo)((()=>"xs"===V?{size:26,emojiSize:26}:"sm"===V?{size:36,emojiSize:36}:"md"===V&&I?{size:74,emojiSize:78}:{size:140,emojiSize:78}),[I,V]),D=(0,o(401497).IS)((e=>{const o={position:"relative",zIndex:1,marginInlineStart:3,marginBottom:y?8:0,marginTop:4,pointerEvents:"auto"},i="xs"===V?{marginInlineEnd:4,height:E,width:E}:"sm"===V?{marginInlineEnd:6}:"md"===V?t&&!g?{marginTop:-80}:y||g?{marginTop:0}:{marginTop:(0,c().W)(f)-(P?32:0)}:{},n="xs"===V?{marginInlineEnd:4}:"sm"===V?{marginTop:4,marginInlineEnd:8}:t&&!g?{marginTop:-42}:y||g?{marginTop:0}:{marginTop:(0,c().W)(f)-(P?32:0)};return{icon:{...o,...i},emoji:n,personProfile:{...o,...i,borderRadius:"50%",background:e.background.primary,overflow:"hidden",width:E,height:E,border:"2px solid white"}}}),[f,t,P,g,y,V,E]);if(x)return(0,d.jsx)("div",{style:D.personProfile,children:(0,d.jsx)(o(453697).A,{userStore:_,size:E})});if(!C&&!p)return null;if(!u||"suggest"===j)return(0,d.jsx)(l().B6,{disabled:!0,icon:C,iconRecordCategory:A,isEmptyPage:T,size:E,emojiSize:L,style:D.icon,emojiStyle:D.emoji,largeIcon:!0,label:b.formatMessage({id:"layout.pageIcon.disabledLabel",defaultMessage:"Page icon"}),testId:"pageIcon"});const K=null==k?void 0:k.table;return(0,d.jsx)(l().B6,{disabled:!1,bucket:"secure",icon:C,iconRecordCategory:A,store:h,isEmptyPage:T,onChange:B,size:E,emojiSize:L,style:D.icon,emojiStyle:D.emoji,largeIcon:!0,openMenuOnMount:S,openMenuOnMountCallback:v,isInlinePostTitle:p,iconLoggingData:{recordTable:K,source:"page_header",block_type:w,collection_id:"collection"===K?null==k?void 0:k.id:void 0},label:b.formatMessage({id:"layout.pageIcon.label",defaultMessage:"Change page icon"}),testId:"pageIcon"})}))},619207:(e,t,o)=>{o.r(t),o.d(t,{emojiFaceFillIcon:()=>n,iconDefinition:()=>i});o(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,o(474848).jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0m5.67 1.706a.625.625 0 0 0-1.036.698A3.6 3.6 0 0 0 10.005 14c1.245 0 2.35-.637 2.996-1.596a.625.625 0 0 0-1.036-.698 2.37 2.37 0 0 1-1.96 1.044 2.36 2.36 0 0 1-1.96-1.044m-.68-2.041c.49 0 .88-.46.88-1.02s-.39-1.02-.88-1.02-.88.46-.88 1.02.39 1.02.88 1.02m6.15-1.02c0-.56-.39-1.02-.88-1.02s-.88.46-.88 1.02.39 1.02.88 1.02.88-.46.88-1.02"})},n=(0,o(340498).wt)("emojiFaceFill",i)},620137:(e,t,o)=>{o.d(t,{e:()=>r});var i=()=>o(645873);const n=new(i().O2)("FormBlock",(async()=>await Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(55373),o.e(44711),o.e(53321),o.e(87249),o.e(71621),o.e(88924),o.e(92845),o.e(56369),o.e(46414),o.e(71003),o.e(55753),o.e(28866),o.e(74562),o.e(37384),o.e(13955),o.e(76677),o.e(43223),o.e(65741),o.e(22542),o.e(94995),o.e(1966),o.e(72122),o.e(32487),o.e(97958),o.e(52273),o.e(65688)]).then(o.bind(o,797647)))),r=(0,i()._h)(n,(e=>e.FormBlock))},620612:(e,t,o)=>{o.d(t,{n:()=>n});var i=()=>o(263711);function n(){return i().g.state.isOpen}},660197:(e,t,o)=>{o.d(t,{H:()=>R});var i=o(296540),n=()=>o(993905),r=()=>o(402014),s=()=>o(484714),a=()=>o(819121),l=()=>o(56366),c=()=>o(401497),d=()=>o(396896),u=()=>o(799954),p=()=>o(651784),g=()=>o(201980),m=()=>o(650829),S=()=>o(11048),v=()=>o(346436),h=()=>o(38337),f=()=>o(478726),y=()=>o(747100),b=()=>o(466088),x=()=>o(578872),_=()=>o(321909),C=()=>o(337567),k=()=>o(548821),w=()=>o(712505),I=()=>o(517223),P=()=>o(978598),M=()=>o(589647),T=()=>o(918487),A=()=>o(9768),j=()=>o(817942),B=o(474848);function V({onMouseEnter:e,onMouseLeave:t,headerControls:o}){return(0,B.jsx)("div",{onMouseEnter:e,onMouseLeave:t,children:o})}var E=()=>o(603616),L=()=>o(578405),D=()=>o(441301);const K=0;function R(e){const{store:t,hasCover:o,headerFocusStore:R,headerControls:F,isEditable:O,openMenuOnMount:z,openMenuOnMountCallback:W,pageViewBlockStore:H,discussionInputStore:N,handleHeaderMouseEnter:U,handleHeaderMouseLeave:Y,hideTitleIfEmpty:G,isInPageLayoutModuleEditor:q=!1,layoutModule:$,disabled:J,viewsModuleCollectionContextStore:X,...Q}=e,Z=(0,s().v3)(),{WindowSizeStore:ee}=Z,{isMobile:te,isAndroid:oe}=(0,s().Y0)(),[ie,ne]=(0,i.useState)((()=>!!oe));(0,i.useEffect)((()=>{(async()=>{if((0,b().w)(Z)){const e=Z.RouterStore.getState();if((0,p().bh)(e.route)){await t.load();const e=(0,x().GN)(t),o=null==e?void 0:e.getSiteStore();await(null==o?void 0:o.load());const i=null==o?void 0:o.getSettings(),n=null==i?void 0:i.embedSettings;return void ne(Boolean(!(null!=n&&n.hideTitle)))}}ne(!0)})()}),[Z,t]);const re=(0,l().K8)((()=>(0,y().cq)(t)),[t]),se=(0,l().K8)((()=>re&&(w().default.isSidePeekOpen()||w().default.isSidePeekClosingStore.state)),[re]),{context:ae}=Q,le=k().m8.has(ae),ce=te&&!o,de=!te&&Q.isInSidePeek||le,ue=(0,c().IS)((()=>!de||le?{container:{}}:{container:{display:"flex",alignItems:"flex-start"}}),[de,le]),pe=(0,l().K8)((()=>t.isExternalObjectInstancePageBlockStore()&&t.hasError()?t:null),[t]),ge=(0,l().K8)((()=>t.canEdit()),[t]),me=(0,l().K8)((()=>ee.getSafePaddingLeftCSS(K)),[ee]),Se=(0,l().K8)((()=>ee.getSafePaddingRightCSS(K)),[ee]),ve=(0,l().K8)((()=>(0,f().NR)(t,Z)),[t,Z]),he=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,a().p)(t)&&R.setState(!0)}),[R]),fe=(0,i.useCallback)((()=>{R.setState(!1)}),[R]),ye=(0,B.jsx)("div",{className:re?h().S6D:void 0,style:{display:"flow-root",pointerEvents:"auto",...le&&{display:"inline-block",verticalAlign:"top"}},children:(0,B.jsx)(E().v,{store:t,isEditable:O,hasCover:o,isInSidePeek:Q.isInSidePeek,openMenuOnMount:z,openMenuOnMountCallback:W,isInPageLayoutModuleEditor:q,isInlinePostTitle:le},t.id)}),be=le?(0,B.jsx)(n().s,{style:{display:"inline-block"},allowSelectionWithin:!1,children:ye}):ye,xe=(0,l().K8)((()=>{var e;return(0,g().w9s)(null===(e=t.getTitleStore())||void 0===e?void 0:e.getValue())}),[t]),_e=le?{...e.extraStyles,display:"inline-block",verticalAlign:"top"}:e.extraStyles,Ce=(0,B.jsx)(D().s,{store:t,disabled:J,hideText:G&&xe||!ie,...Q,extraStyles:_e}),ke=(0,l().K8)((()=>t.getAssociatedCollectionStore()),[t]),we=(0,l().K8)((()=>!(!ke||!$)&&(0,T().v)({collectionStore:ke,module:$,isMobile:te})),[ke,te,$]),Ie=(0,P().o)(t,X),Pe=we||Ie,Me=(0,l().K8)((()=>null==ke?void 0:ke.getSchema()),[ke]),Te=Me&&$?(0,I().LD)({collectionSchema:Me,module:$}):void 0,Ae=(0,_().y)(),je=(0,i.useMemo)((()=>{const e=Boolean(null==Te?void 0:Te.length)?te?20:A().Lb:void 0;return(0,B.jsxs)(B.Fragment,{children:[ke&&Pe?(0,B.jsxs)(d().fI,{gap:4,marginTop:4,paddingBottom:e,children:[we?(0,B.jsx)(M().LR,{collectionStore:ke,pageViewBlockContext:ae}):void 0,(0,B.jsx)(M().Rm,{pageStore:t,viewsModuleCollectionContextStore:X})]}):void 0,Boolean(null==Te?void 0:Te.length)?(0,B.jsx)("div",{style:{paddingTop:te&&!Pe?A().Lb:void 0,...Ae?{paddingInlineStart:u().Gt.paddingInlineStart}:{marginInlineStart:-2}},children:(0,B.jsx)(L().h,{context:ae,disabled:J,store:t,variant:"pinned",layoutModule:$,propertyIds:Te,wrapper:e=>(0,B.jsx)(j().vV,{children:e}),customization:{disableContainerPadding:!0,disableLastRowBottomPadding:!0}})}):void 0]})}),[ke,te,$,ae,Te,J,t,Ae,Pe,X,we]),Be=(0,l().K8)((()=>(0,C().Fm)(t)),[t]);return se?(0,B.jsxs)(S().A,{name:"PageTitleWithIcon",children:[(0,B.jsxs)(n().s,{allowSelectionWithin:!0,children:[(0,B.jsx)(V,{onMouseEnter:U,onMouseLeave:Y,headerControls:F}),ie?be:void 0,Ce]}),je]}):(0,B.jsxs)(S().A,{name:"PageTitleWithIcon",children:[(0,B.jsx)("div",{style:ve,onMouseEnter:U,onMouseLeave:Y,children:(0,B.jsxs)("div",{style:{maxWidth:"100%",paddingInlineStart:me,width:"100%"},onClick:async e=>{if(Be){const e=await m().assistantDependency.load();await e.assistantEditActions.saveAssistantCreatedPage(Z)}(0,r().SQ)({event:e,context:r().y$.Click})},children:[(0,B.jsxs)(n().s,{onFocus:he,onBlur:fe,allowSelectionWithin:!1,style:{pointerEvents:"none"},children:[ce?F:void 0,ie&&!de?be:void 0,ce?void 0:F]}),(0,B.jsx)("div",{style:{paddingInlineEnd:Se},children:de?(0,B.jsxs)("div",{style:ue.container,children:[ie?be:void 0,Ce]}):Ce}),pe?(0,B.jsx)(v().A,{store:pe,canEdit:ge}):null]})}),je]})}},661344:(e,t,o)=>{o.d(t,{LG:()=>m});var i=o(296540),n=()=>o(993905),r=()=>o(56366),s=()=>o(543886),a=()=>o(405170),l=()=>o(764891),c=()=>o(478726),d=()=>o(171018),u=()=>o(548821),p=o(474848);function g(e){const{state:t,store:o,disabled:i,blockPropertyValueOverlayStore:n}=e,s=(0,r().K8)((()=>o.isNonEditableState()),[o]);return(0,p.jsx)(l().A,{propertyIds:t.sectionPropertyIds,store:o,collectionStore:t.collectionStore,format:t.format,disabled:i,locked:s,blockPropertyValueOverlayStore:n})}function m(e){const{store:t,context:o,disabled:l,inlinePropertyIDs:m,wrapper:S}=e,v=(0,r().K8)((()=>t.getAssociatedCollectionStore()),[t]),h=(0,i.useMemo)((()=>new(d().YB)),[]),f=function(e){const{collectionStore:t,format:o,sectionPropertyIds:i}=e;if(!(t&&o&&i&&i.length))return{type:"hidden"};return{type:"visible",collectionStore:t,format:o,sectionPropertyIds:i}}({collectionStore:v,format:(0,r().K8)((()=>(0,c().gV)(t)),[t]),sectionPropertyIds:m});if("hidden"===f.type)return null;const y=o===u().Rr.PeekView;return S((0,p.jsx)(n().s,{allowSelectionWithin:!0,children:(0,p.jsx)(g,{topBorder:!0,state:f,store:t,disabled:l,blockPropertyValueOverlayStore:y?a().A:s().A,isInPeekRenderer:y,pagePropertiesStore:h})}))}},663290:(e,t,o)=>{o.d(t,{I:()=>u});var i=()=>o(908006),n=()=>o(161479),r=()=>o(763824),s=()=>o(878523),a=()=>o(778417),l=()=>o(190033),c=()=>o(404783),d=()=>o(21510);async function u(e){const{environment:t,discussionStore:o,rect:u,blockStore:p,discussionLocation:g,activityId:m,notificationId:S}=e,v=new(c().A)(t,(0,n().e)(p.pointer.spaceId));d().A.setState({open:!0,rect:u,discussionStore:o,discussionInputStore:v,blockStore:p,discussionLocation:g,activityId:m,notificationId:S}),a().IU({environment:t}),await i().default.afterNextFlush(),"feed_item_top_level_discussion"!==g&&(await(0,r().wR)(10),(0,l().z)({store:v.state.textStore})),s().nq({environment:t,from:g,activityId:m,notificationId:S})}},678834:(e,t,o)=>{o.d(t,{y:()=>h});o(296540);var i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(631524),a=()=>o(607481),l=()=>o(69708),c=()=>o(406699),d=()=>o(404277),u=()=>o(900967),p=()=>o(722872),g=()=>o(592968),m=()=>o(263711),S=()=>o(352759),v=o(474848);function h(e){const{pageStore:t,backlinksButtonPopupStore:o,numBacklinks:h,customization:f={}}=e,{buttonStyles:y,...b}=f,x=(0,i().v3)(),{isPhone:_}=(0,i().Y0)(),C=(0,n().K8)((()=>void 0!==h?h:(0,u().J)(t,x).backlinksCount),[x,t,h],{debugName:"BacklinksControlButton.useComputedStore"}),k=(0,n().K8)((()=>m().g.getState().isOpen),[]),w=(0,r().IS)((e=>{const t=0===C&&k,o=e.text.disabled;return{button:t?{color:o}:{}}}),[k,C]),I=({buttonPopupEvents:e={}})=>(0,v.jsx)(s().p,{colorPalette:"gray",colorVariant:"tertiary",iconLeading:{icon:a().K,size:"sm",colorVariant:0===C&&k?"disabled":void 0},style:{...y,...w.button},...b,...e,children:(0,v.jsx)(l().sA,{id:"pageViewBlock.show.backlinks",defaultMessage:"{numberOfBacklinks, plural, =0 {No backlinks} one {{numberOfBacklinks} backlink} other {{numberOfBacklinks} backlinks}}",values:{numberOfBacklinks:C}})});if(_){return I({buttonPopupEvents:{onClick:e=>{g().F.setState({isOpen:!0})}}})}return(0,v.jsx)(c().A,{buttonPopupStore:o,popupType:c().z.Popup,renderOrigin:e=>I({buttonPopupEvents:e}),render:()=>{const e={menuType:p().gu.Popup,width:500};return(0,v.jsx)(d().A,{...e,children:C>0?(0,v.jsx)(S().p,{store:t}):null})}},"backlinkspopup")}},699606:(e,t,o)=>{o.d(t,{C:()=>r});o(898992),o(672577);var i=()=>o(854150),n=()=>o(227894);function r(e){const t=(0,n().g)(e).find((e=>{if(e.table===i().yK)return Boolean(e.getArchivedBy())}));return Boolean(t)}},703596:(e,t,o)=>{o.d(t,{W:()=>a,j:()=>s});var i=()=>o(651124),n=()=>o(135552),r=()=>o(252833);function s(e){const{collectionFormat:t}=e;if(!t)return{shouldShowBanner:!1};const o=t.external_collection_type;return o&&o===i().uO.Jira?{shouldShowBanner:!0,bannerId:"AuthMissingForJiraSyncedCollectionPageBanner",contentKey:"auth_missing_for_jira_user",styleKey:n().q.LightBlue}:{shouldShowBanner:!1}}function a(e){const{collectionFormat:t,userSettings:o,collectionStore:a,collectionContextStore:l}=e;if(!a||!t)return{shouldShowBanner:!1};if(!(0,r().fo)({collectionStore:a}))return{shouldShowBanner:!1};const c=t.external_collection_type;if(!c)return{shouldShowBanner:!1};switch(c){case i().uO.Jira:return function(e){var t,o,i;const{collectionFormat:a,userSettings:l,collectionStore:c,collectionContextStore:d}=e;if(!l||!c)return{shouldShowBanner:!1};if(d){if(!(null==l?void 0:l.seen_auth_missing_for_jira_synced_collection_view_banner)&&(0,r().z9)({collectionStore:c}))return s({collectionFormat:a})}const u=!0===(null===(t=a.sync_state)||void 0===t?void 0:t.enable_two_way_sync),p=!0===(null===(o=a.sync_state)||void 0===o?void 0:o.syncing),g=!1===(null===(i=a.sync_state)||void 0===i?void 0:i.syncing)&&a.error,m=null==l?void 0:l.seen_jira_two_way_sync_info_banner;if(u||m||p||g)return{shouldShowBanner:!1};return{shouldShowBanner:!0,bannerId:"JiraTwoWaySyncInfoBanner",contentKey:"jira_two_way_sync_info",styleKey:n().q.Blue}}({collectionFormat:t,userSettings:o,collectionStore:a,collectionContextStore:l});case i().uO.Salesforce:default:return{shouldShowBanner:!1}}}},729380:(e,t,o)=>{o.d(t,{u:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{discussionsHeight:0}}setDiscussionsHeight(e){this.setState({...this.state,discussionsHeight:e})}resetHeights(){this.setState({discussionsHeight:0})}getTotalHeight(){return this.state.discussionsHeight}}const n=new i},729923:(e,t,o)=>{o.d(t,{p:()=>q});var i=o(296540),n=()=>o(726637),r=()=>o(484714),s=()=>o(56366),a=()=>o(401497),l=()=>o(69708),c=()=>o(993905),d=()=>o(478726),u=()=>o(835066),p=o(474848);function g(e){const{pageBlockStore:t,isVisible:i,context:n}=e,a=(0,r().Y0)(),l=(0,s().K8)((()=>(0,d().Ck)(t,n,a)),[t,n,a]);return(0,p.jsx)(c().s,{allowSelectionWithin:!0,style:{width:l&&i?u().Qb:0},children:(0,p.jsx)(o(774733).UY,{...e})})}var m=()=>o(11048),S=()=>o(299772),v=()=>o(110525),h=()=>o(402014),f=()=>o(929219),y=()=>o(718827),b=()=>o(584262),x=()=>o(799954),_=()=>o(160568),C=()=>o(557281),k=()=>o(577142),w=()=>o(33301),I=()=>o(231297),P=()=>o(33791),M=()=>o(601734),T=()=>o(860116),A=()=>o(68465),j=()=>o(492414),B=()=>o(321909),V=()=>o(765957),E=()=>o(411671),L=()=>o(50764),D=(o(581454),()=>o(710149));function K(){const e=(0,a().IS)((()=>({menu:{display:"flex",alignItems:"center",marginBottom:5},icon:{marginInlineStart:5,width:26,height:26,marginInlineEnd:10,borderRadius:4},menuItem:{height:14,marginTop:8,marginBottom:8,width:"25%",borderRadius:8}})),[]);return(0,p.jsx)(p.Fragment,{children:[...Array(6)].map(((t,o)=>(0,p.jsxs)("div",{style:e.menu,children:[(0,p.jsx)(D().A,{style:e.icon}),(0,p.jsx)(D().A,{style:e.menuItem})]},o)))})}const R={width:"100%"};const F=function({menuListStore:e,store:t}){(0,o(852507).l)((()=>{e.reset()}));const n=(0,r().WS)(),l=(0,s().O$)(f().e),d=(0,s().K8)((()=>t.isTeamPost()),[t]),u=(0,s().K8)((()=>(0,T().I)(t.getAssociatedLayoutStore())),[t]),g=(0,a().IS)((e=>({wrapStyle:{width:"100%",display:"flex",flexDirection:"column",marginBottom:d?void 0:u?0:"14vh"}})),[d,u]),m=(0,i.useCallback)((()=>!n&&(0,p.jsx)(K,{})),[n]);return(0,p.jsx)(c().s,{style:R,allowSelectionWithin:!1,children:(0,p.jsx)(o(109488).A,{capture:!0,render:i=>(0,o(569912).A)((o=>(0,p.jsxs)("div",{...i,...o,style:g.wrapStyle,children:[(0,p.jsx)(z,{store:t}),l?(0,p.jsx)(M().t,{menuListStore:e,store:t,renderLoading:m}):void 0]})))})})};function O(e,t,o){const{mainEditorCurrentBlockStore:i}=V().default.state;!function(e,t,o){o?o(e):(0,k().navigate)({environment:t,url:e})}(i?(0,j().Ay)({store:i,peekViewBlockId:e.id,fullyQualified:!1,pageVisitSource:b().y8.LinkInPage}):(0,j().Ay)({store:e,fullyQualified:!1,pageVisitSource:b().y8.LinkInPage}),t,o)}function z({store:e}){const t=(0,r().v3)(),o=(0,r().Y0)(),c=(0,i.useContext)(v().n),d=(0,s().K8)((()=>E().A.getMode(t,e)),[t,e]),u=(0,i.useCallback)((o=>function(e,t,o,i){const n=o.getAssociatedCollectionStore();if(n&&(0,L().E)(t)){const{performResult:e}=I().createAndCommit({userAction:"TemplatePicker.newPage",environment:t,canUndo:!0,perform:e=>C().bI({environment:t,collectionStore:n,transaction:e})});e&&O(e,t,i),_().er(t,{collection_id:n.id})}}(0,t,e,c)),[t,e,c]),g=(0,s().K8)((()=>e.isTemplate()),[e]),m=(0,s().O$)(f().e),S=(0,s().K8)((()=>function(e){return Boolean(e.getAssociatedCollectionStore())}(e)),[e]),b=(0,s().K8)((()=>function(e){const t=e.getAssociatedCollectionStore(),o=t?t.getTemplatePageStores():void 0;return o&&o.length>0}(e)),[e]),k=S&&!b,M=S&&b,T=(0,s().K8)((()=>{const t=e.getAssociatedCollectionStore(),o=t&&t.getParentBlockStore();return!(0,P().v)({collectionStore:t,collectionViewBlockStore:o,checkNavigableAncestorLocked:!0})}),[e]),j=(0,s().K8)((()=>(0,A().ZE)(d)),[d]),V=(0,s().K8)((()=>e.isTeamPost()),[e]),D=(0,B().y)(),K=(0,a().IS)((e=>{const t=D?8:0,o=D?8:5;return{placeholder:{...x().CC,color:e.text.tertiary,paddingTop:V?3:o,paddingBottom:V?3:24,paddingInlineStart:V?2:t,paddingInlineEnd:V?2:void 0}}}),[V,D]);let F=null;return m||o.isPhone?g?F=(0,p.jsx)(l().sA,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page.} other {Press Enter to continue with an empty page.}}",id:"templatePicker.isTemplate.emptyPagePrompt",values:{isMobileDevice:Boolean(n().A.isMobile)}}):n().A.isMobile?M?F=o.isTablet?(0,p.jsx)(l().sA,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):(0,p.jsx)(l().sA,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"}):k?F=(0,p.jsx)(l().sA,{defaultMessage:"{isParentLocked, select, true {Tap here to continue with an empty page} other {Tap here to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.mobileCollectionEmptyPage.prompt",values:{isParentLocked:T,templatebutton:e=>(0,p.jsx)(y().Ay,{style:{display:"inline-block",textDecoration:"underline"},onClick:u,children:e})}}):o.isPhone||(F=o.isTablet?(0,p.jsx)(l().sA,{defaultMessage:"Tap here to continue with an empty page, or pick a template",id:"templatePicker.mobileTabletEmptyPage.withTemplates.prompt"}):(0,p.jsx)(l().sA,{defaultMessage:"Tap here to continue...",id:"templatePicker.mobilePhoneEmptyPage.withTemplates.prompt"})):k?F=(0,p.jsx)(l().sA,{defaultMessage:"{isParentLocked, select, true {Press Enter to continue with an empty page} other {Press Enter to continue with an empty page, or <templatebutton>create a template</templatebutton>}}",id:"templatePicker.webCollectionEmptyPage.prompt",values:{isParentLocked:T,templatebutton:e=>(0,p.jsx)(y().Ay,{style:{display:"inline-block",textDecoration:"underline"},onClick:u,children:e})}}):j&&!S||(F=(0,p.jsx)(l().sA,{defaultMessage:"Press Enter to continue with an empty page, or pick a template (â†‘â†“ to select)",id:"templatePicker.webEmptyPage.withTemplates.prompt"})):F=(0,p.jsx)(l().sA,{defaultMessage:"{isMobileDevice, select, true {Tap here to continue with an empty page. Please go online to use templates.} other {Press Enter to continue with an empty page. Please go online to use templates.}}",id:"templatePicker.deviceOffline.goOnlinePrompt",values:{isMobileDevice:Boolean(n().A.isMobile)}}),F?(0,p.jsx)("div",{style:R,children:(0,p.jsx)("div",{style:K.placeholder,onClick:o=>function(e,t,o){(0,h().SQ)({event:e,context:h().y$.Click,callback:()=>{(0,L().E)(o)&&(I().createAndCommit({userAction:"TemplatePicker.handleEmptyPageContinueClick",environment:o,canUndo:!0,perform:e=>{w().n({environment:o,store:t,transaction:e})}}),_().ki(o,{is_keyboard:!1,from:"template_picker",template_type:"empty_page"}))}})}(o,e,t),children:F})}):null}var W=()=>o(622237),H=()=>o(548821),N=()=>o(712505),U=()=>o(551619),Y=()=>o(817942);const G=(0,i.forwardRef)((function({context:e,disabled:t,onClick:c,store:u,templatePickerMenuListStore:g,testPlaceholder:v,forceIsInsideMarginCollapseContainer:h},f){const y=(0,r().v3)(),{device:b}=y,x=(0,U().Hy)(u),_=(0,o(877051).V)(),C=function(e,t){const o=(0,U().O9)(e,t),i=(0,U().Rg)(e,t);if(o)return"horizontal";if(i)return"legacy";return"none"}(u,e),k=(0,U().f7)(u),w=(0,U().Sm)(u),I=(0,s().K8)((()=>!!t||(!!u.isNonEditableState()||!!w)),[u,t,w]),P=(0,s().K8)((()=>u.getFormat()),[u]),A=(0,s().K8)((()=>(0,d().In)(u)),[u]),j=(0,d().L5)(e),B=(0,s().K8)((()=>u.isTeamPost()),[u]),V=(0,o(891078).bx)(u,t),E=(0,r().WS)(),L=(0,s().K8)((()=>u.isCollectionView()),[u]),D=(0,s().K8)((()=>(0,o(620612).n)()),[]),K=(0,s().K8)((()=>Boolean(u.getCover())),[u]),R=(0,o(59226).X)("bottom_page_discussions_enabled"),O=(0,s().K8)((()=>{var e;const t=null===(e=u.getAssociatedCollectionStore())||void 0===e?void 0:e.getLayoutStore();return(0,T().I)(t)}),[u]),z=(0,s().K8)((()=>b.isAndroid&&b.isTablet&&b.isMobileNative?y.WindowSizeStore.getSafePaddingBottomPx(36):0),[b,y.WindowSizeStore]),Y="on"===(0,o(477293).r)("horizontal_template_picker_quick_agent_access"),G=(0,s().K8)((()=>{const e=o(590027).MU.state.chatSidebarVisibility;return"open"===e||"opening"===e}),[]),q=Y&&!G,$=(0,s().K8)((()=>{const e=(0,o(747100).cq)(u)&&!N().default.isSidePeekOpen()&&!N().default.isSidePeekClosingStore.state?`100vh - ${N().PeekModeOuterPadding}px*2`:"100vh",t=(0,o(175947).ek)(y.device.isElectronMac),i=Y&&q?80:66,n=Y?q?48:0:48,r=o(729380).u.getTotalHeight();return`calc(${e} - ${t}px - ${i}px - ${n}px - 140px - ${z}px + ${r<250?0:r}px)`}),[u,y.device.isElectronMac,q,Y,z]),J=(0,o(600871).ik)(b),X=(0,i.useCallback)((()=>e===H().Rr.DraftPostInInlineComposer?29:B||D||O?0:"15vh"),[e,B,O,D]),Q=(0,a().IS)((t=>{const i=P.page_font||S().zs,r=S().DX[i];let s,a;if(s=n().A.isMobile?J.lineHeight:S().JK[i]||1.5,n().A.isMobile)a=J.fontSize;else if(e===H().Rr.DraftPostInInlineComposer)a=14;else{a=P.page_small_text?S().Y4[i]||S().dp:S().T1[i]||S().uD}let l={},c=e===H().Rr.Presentation?{}:{paddingTop:e===H().Rr.DraftPostInInlineComposer?0:8};const u=(0,d().L5)(e);if(!(A&&u&&"none"===C&&!x)){const e=A?X():0;c={...c,paddingBottom:e},l={...c,paddingInlineStart:0,paddingInlineEnd:0}}let p={};u&&!B&&(p={...O?{}:{minHeight:240},zIndex:1});let g={};e===H().Rr.InAppTemplatePreview&&(g={margin:"0 auto"});let m={};if(E&&!L&&V&&!K){const t=132,i=(0,S().nu)(e,b),n=o(911988).s1+t-i;m={minHeight:O?`${n}px`:`calc(100vh - ${n}px)`}}return{content:{flexShrink:0,flexGrow:1,maxWidth:"100%",display:"flex",alignItems:"flex-start",flexDirection:"column",fontFamily:S().AP[i],fontSize:a,letterSpacing:r?`${r}em`:void 0,lineHeight:s,width:"100%",...O||D?{minHeight:80}:{},zIndex:4,...l,...p,...g,...m},emptyDroppableStyle:{width:"100%"},templatePicker:{position:"absolute",top:$,width:"100%",pointerEvents:"none",transition:"top 220ms ease"},emptyPlaceholderText:{color:t.text.disabled,paddingInlineStart:8}}}),[P.page_font,P.page_small_text,b,e,A,C,x,B,E,L,V,K,$,J,X,O,D]),[Z,ee]=function(e,t){const n=(0,i.useRef)(null),r=(0,o(93583).A)(n,e),a=(0,o(828634).wY)(n),l=(0,i.useCallback)((e=>{W().A.setWidth(e.width,t)}),[t]);(0,i.useEffect)((()=>{a&&l(a)}),[l,a]);const c=(0,s().K8)((()=>W().A.getWidth(t)),[t]);return[r,c]}(f,j),te=R&&A&&D;return(0,p.jsxs)(m().A,{name:"PageEditor",children:[(0,p.jsxs)("div",{className:o(38337).pXT,onClick:c,style:Q.content,ref:Z,children:[k?void 0:(0,p.jsx)(o(919980).A,{store:u.getContentStore(),emptyDroppableStyle:Q.emptyDroppableStyle,disabled:I,placeholder:v,forceIsInsideMarginCollapseContainer:!!h||void 0}),x?(0,p.jsx)(o(98126).k,{}):void 0,te?(0,p.jsx)("div",{style:Q.emptyPlaceholderText,children:(0,p.jsx)(l().sA,{id:"pageEditor.empty.placeholderText",defaultMessage:"Empty"})}):void 0,g&&"legacy"===C?(0,p.jsx)(F,{store:u,menuListStore:g}):void 0]}),"horizontal"!==C||_?void 0:(0,p.jsx)("div",{style:Q.templatePicker,children:(0,p.jsx)(M().Nv,{store:u,context:e,menuListStore:g,editorWidth:ee})})]})}));const q=(0,i.forwardRef)((function(e,t){const{context:a,disabled:l,handlePlaceholderWrapClick:c,pageBlockStore:S,pathToBlockId:v,templatePickerMenuListStore:h,pageViewBlockAccessor:f,editorWrapper:y,forceIsInsideMarginCollapseContainer:b}=e,x=(0,r().v3)(),_=(0,s().K8)((()=>v?(0,o(21140).Dk)({environment:x,pageBlockStore:S,pathToBlockId:v}):S),[x,S,v]),C=(0,s().K8)((()=>(0,u().dC)(x,S)),[x,S]),k=(0,s().K8)((()=>(0,d().In)(S)),[S]),w=(0,s().K8)((()=>(0,o(337567).Fm)(S)),[S]),I=a===H().Rr.DraftPostInInlineComposer,P=n().A.isMobile||I?0:5,M=(0,s().K8)((()=>o(610640).A.state.isHovered),[]),T=y||(e=>(0,p.jsx)(Y().vV,{style:{...I?{minHeight:void 0,pointerEvents:"auto"}:{minHeight:170},paddingTop:P},children:e})),A=(0,i.useMemo)((()=>w?async()=>{const e=await o(650829).assistantDependency.load();await e.assistantEditActions.saveAssistantCreatedPage(x)}:k?c:void 0),[c,k,w,x]);return(0,p.jsxs)(m().A,{name:"PageEditorModule",children:[T((0,p.jsx)(G,{store:_,disabled:l,context:a,templatePickerMenuListStore:h,onClick:A,ref:t,forceIsInsideMarginCollapseContainer:b})),C&&f?(0,p.jsx)(Y().kZ,{children:(0,p.jsx)(g,{pageBlockStore:S,isVisible:!M,context:a,pageViewBlockAccessor:f,isCollapsedAnchor:!0})}):null]})}))},736316:(e,t,o)=>{o.d(t,{f:()=>n});var i=()=>o(449412);function n(e){const{name:t,startTime:o,endTime:n}=e;try{performance.measure(t,{start:o,end:n})}catch(r){i().Fg(r,{extra:{name:t,startTime:o,endTime:n}})}}},742943:(e,t,o)=>{o.d(t,{D9:()=>S,IE:()=>u,T0:()=>p,ZH:()=>m});o(581454);var i=()=>o(804666),n=()=>o(179034),r=()=>o(96689),s=()=>o(201980),a=()=>o(534177),l=()=>o(765957),c=()=>o(972435);const d=(0,o(69708).YK)({pageTitle:{id:"libraryPageHelpers.page.title",defaultMessage:"Library"},favoritesTitle:{id:"libraryPageHelpers.favorites.title",defaultMessage:"Favorites"},privateTitle:{id:"libraryPageHelpers.private.title",defaultMessage:"Private"},sharedTitle:{id:"libraryPageHelpers.shared.title",defaultMessage:"Shared"},recentsTitle:{id:"libraryPageHelpers.recents.title",defaultMessage:"Recents"}});function u(e){var t;const o=e.collectionViewStore();if(!e.isLibraryBlock()||!o)return;const n=null===(t=o.getCollectionSource())||void 0===t?void 0:t.type;return(0,i().a0)(n)?n:void 0}function p(e){var t;const o=l().default.state.sidebarSpaceStore;if(!o)return!1;const n=o.getSpaceId(),r=e.currentUser.id;if(!r)return!1;const s=e.idCreator.getSpaceIdCreatorSync(n);return(0,i().hY)(r,s)===(null===(t=l().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}const g=["recents","favorites","shared","private"];function m(e){const{userId:t,spaceIdCreator:o}=e,a=o.getSpaceId(),l=(0,i().hY)(t,o),u=function(e){const{userId:t,spaceIdCreator:o,collectionViewBlockId:r}=e,s=o.getSpaceId(),a={id:(0,i().Ym)(t,o,"favorites"),version:1,alive:!0,space_id:s,parent_table:n().ev,parent_id:r,name:S("favorites"),type:"table",format:{collection_view_source:{type:"favorites",spaceId:s},collection_view_icon:"/icons/star-outline_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",table_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"location",visible:!0},{property:"last_edited_time",visible:!0},{property:"created_time",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_visited_time",visible:!1}]}},l={id:(0,i().Ym)(t,o,"private"),version:1,alive:!0,space_id:s,parent_table:n().ev,parent_id:r,name:S("private"),type:"list",format:{collection_view_source:{type:"private",spaceId:s},collection_view_icon:"/icons/lock-keyhole_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!0,date_format:"relative"},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!1}]}},c={id:(0,i().Ym)(t,o,"shared"),version:1,alive:!0,space_id:s,parent_table:n().ev,parent_id:r,name:S("shared"),type:"table",format:{collection_view_source:{type:"shared",spaceId:s},collection_view_icon:"/icons/friends_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",table_properties:[{property:"title",visible:!0},{property:"created_by",visible:!0},{property:"location",visible:!0},{property:"last_edited_time",visible:!0},{property:"created_time",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_visited_time",visible:!1}]}},d={id:(0,i().Ym)(t,o,"recents"),version:1,alive:!0,space_id:s,parent_table:n().ev,parent_id:r,name:S("recents"),type:"list",format:{collection_view_source:{type:"recents",spaceId:s},collection_view_icon:"/icons/clock-alternate_gray.svg",list_properties:[{property:"title",visible:!0},{property:"created_by",visible:!1},{property:"created_time",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!0}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek",collection_group_by:{type:"last_visited_time",property:"last_visited_time",groupBy:"relative",sort:{type:"descending"},hideEmptyGroups:!0}}};return{recents:d,favorites:a,shared:c,private:l}}({userId:t,spaceIdCreator:o,collectionViewBlockId:l}),p=g.map((e=>u[e]));return{block:{id:l,version:1,alive:!0,type:"collection_view_page",space_id:a,parent_table:r().NX,parent_id:a,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,s().x9d)(c().A.formatMessage(d.pageTitle))},view_ids:p.map((e=>e.id))},collectionViews:p}}function S(e){switch(e){case"favorites":return c().A.formatMessage(d.favoritesTitle);case"shared":return c().A.formatMessage(d.sharedTitle);case"private":return c().A.formatMessage(d.privateTitle);case"recents":return c().A.formatMessage(d.recentsTitle);default:(0,a().HB)(e)}}},746426:(e,t,o)=>{o.d(t,{J:()=>l});var i=o(296540),n=()=>o(165358),r=()=>o(187174),s=()=>o(559506),a=()=>o(406859);function l(e,t,o){const[{value:l,status:c}]=(0,r().Yb)((async()=>{if(!o)return{templateListingExists:!1};try{const o=await s().callApi({eventName:"inAppGetBannerByBlockId",environment:e,data:{blockId:t.id}});var i,r,l;if("success"===o.type&&o.data.success)return a().M.setSiteTemplateStatus((null===(i=o.data.template)||void 0===i?void 0:i.root_block_id)??"",{templateListingExists:Boolean(null===(r=o.data.template)||void 0===r?void 0:r.listing_id),template:o.data.template,status:"resolved"}),{templateListingExists:Boolean(null===(l=o.data.template)||void 0===l?void 0:l.listing_id),template:o.data.template}}catch(c){n().log({level:"error",from:"AllPublishedSiteSettings",type:"getTemplateByBlockId",data:{blockId:t.id}})}return a().M.setSiteTemplateStatus(t.id,{templateListingExists:!1,template:void 0,status:"rejected"}),{templateListingExists:!1}}),[e,o,t]);return(0,i.useMemo)((()=>({templateListingExists:(null==l?void 0:l.templateListingExists)??!1,status:c,template:null==l?void 0:l.template})),[l,c])}},764891:(e,t,o)=>{o.d(t,{A:()=>p});o(898992),o(354520),o(672577),o(581454);var i=o(296540),n=()=>o(56366),r=()=>o(496603),s=()=>o(896628),a=()=>o(231297),l=()=>o(9768),c=()=>o(439264),d=o(474848);function u(e){const{store:t,collectionStore:i,disabled:l,locked:u,propertyIds:p,blockPropertyValueOverlayStore:m,format:S,type:v}=e,h=(0,o(484714).v3)(),f=(0,o(908201).Ks)(),y=(0,n().K8)((()=>{var e;return null==f||null===(e=f.permissionScopesStore.state)||void 0===e?void 0:e.canConfigureCollection}),[f]);return f?"minimal"===v?(0,d.jsx)(d.Fragment,{children:p.map(((e,o)=>(0,d.jsx)(g,{format:S,locked:u,collectionStore:i,store:t,disabled:l,blockPropertyValueOverlayStore:m,propertyId:e,visibility:v,isLast:o===p.length-1},e)))}):l||u||!y?(0,d.jsx)("div",{style:c().Bb,children:p.map(((e,o)=>(0,d.jsx)(g,{format:S,locked:u,collectionStore:i,store:t,disabled:l,blockPropertyValueOverlayStore:m,propertyId:e,visibility:v,isLast:o===p.length-1},e)))}):(0,d.jsx)(c().Ay,{direction:"vertical",keys:p,renderKey:(e,o)=>(0,d.jsx)(g,{format:S,locked:u,collectionStore:i,store:t,disabled:l,blockPropertyValueOverlayStore:m,propertyId:e,visibility:v,isLast:o===p.length-1},e),onDrop:e=>function(e,t,o,i){const n=o.collection_page_sections||[],l=r().oE(e.map((e=>n.find((t=>t.section===e))))),c=n.filter((t=>!e.includes(t.section))),d=[...l,...c];a().createAndCommit({userAction:"RelationPropertyPageSections.handleReorder",environment:i,canUndo:!0,perform:e=>{s().zA({stores:[t],update:{collection_page_sections:d},transaction:e})}})}(e,i,S,h)}):null}const p=i.memo(u,o(821062).A),g=i.memo((function({propertyId:e,format:t,locked:i,collectionStore:r,store:s,disabled:a,blockPropertyValueOverlayStore:c,visibility:u,isLast:p}){let g;if(u)g=u;else{const o=t.collection_page_sections??[];g=o.filter((t=>t.section===e)).map((e=>e.visibility))[0]}const[m,S]=(0,o(997583).z)(),v=(0,o(255824).a)(),h="inline"===g,f=!p&&"minimal"!==g,y=(0,n().K8)((()=>s.canEdit()),[s]),b=(0,o(401497).IS)((()=>{const e={position:"absolute",visibility:S?"visible":"hidden",insetInlineStart:S?S+4:void 0,top:0};return{discussionIndicator:o(726637).A.isMobile?{flexShrink:0}:h?e:{},wrapperDiv:{position:"relative",width:"minimal"!==g?"100%":void 0,...f?{marginBottom:l().YE+l().Lb+(y?-4:0)}:{}},selectable:h?{}:{display:"flex",alignItems:"center"}}}),[S,f,h,g,y]),x=(0,d.jsx)(o(774733).L_,{store:s,propertyId:e,style:b.discussionIndicator});return(0,d.jsx)("div",{className:"minimal"!==g?"layout-content":void 0,style:b.wrapperDiv,ref:m,children:(0,d.jsxs)(o(199896).Ay,{store:s,analyticsName:"page_property",style:b.selectable,children:[(0,d.jsx)(o(599806).q,{store:s,property:e,disabled:a,locked:i,surface:"property_module",tableWrap:!1,blockPropertyValueOverlayStore:c,collectionStore:r,propertyVisibility:g},e),v?null:x]})})}))},766081:(e,t,o)=>{o.d(t,{A:()=>m,R:()=>g});o(296540);var i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(868840),a=()=>o(175947),l=()=>o(69708),c=()=>o(710149),d=()=>o(299772),u=()=>o(62856),p=o(474848);function g({store:e,peekMode:t,forceShowIcon:o}){const a=(0,i().Y0)(),{isMobile:l}=a,u=(0,n().K8)((()=>Boolean(e.getCover())),[e]),g=(0,n().K8)((()=>Boolean(e.getIcon())),[e])||o,m=(0,n().K8)((()=>e.isCollectionView()),[e]),S=(0,n().K8)((()=>e.isFullWidth()),[e]),v=t===s().O?"20vh":d().mv,h=(0,r().IS)((()=>{const e=l?24:t===s().A?48:96,o=(()=>{switch(!0){case l:return 32;case g:return 96;case t===s().O&&!g:return 54;case!g:return 102}})(),i=(()=>{switch(!0){case l&&u&&g:return 22;case l&&u&&!g:return 54;case l&&!u&&g:return 56;case l&&!u&&!g:return 4;case!l&&u&&g:return 50;case!l&&u&&!g:return 58;case!l&&!u&&g:return 92;case!l&&!u&&!g:return 20}})();return{collectionCoverPhoto:{width:"100%",height:"20vh"},collectionTitleContainer:{display:"flex",alignItems:"center",paddingInlineStart:e,paddingInlineEnd:e,width:"100%",paddingTop:(()=>{switch(!0){case l&&u:return 50;case l&&!u:return 78;case!l&&u:return 48;case!l&&!u:return 36}})()},collectionIcon:{flexGrow:0,flexShrink:0,width:36,height:36,borderRadius:6,marginInlineEnd:10,marginInlineStart:3},collectionTitle:{height:l?24:30,width:600,marginTop:l?6:3,borderRadius:15},pageCoverPhoto:{width:"100%",height:v},pageCoverPadding:{width:"100%",height:o},pageIconContainer:{maxWidth:"100%",boxSizing:"border-box",paddingInlineStart:e,paddingInlineEnd:e,width:S?"100%":900,height:36},pageIcon:{position:"relative",top:u?-42:0,width:78,height:78,marginInlineStart:2,borderRadius:16},pageTitleContainer:{display:"flex",boxSizing:"border-box",paddingInlineStart:e,paddingInlineEnd:e,width:S?"100%":900,maxWidth:"100%",paddingTop:i},pageTitle:{marginTop:l?3:0,height:l?24:30,width:600,borderRadius:15}}}),[S,u,g,v,l,t]);return m||t===s().A?(0,p.jsxs)(p.Fragment,{children:[u?(0,p.jsx)(c().A,{style:h.collectionCoverPhoto}):void 0,(0,p.jsxs)("div",{style:h.collectionTitleContainer,children:[g?(0,p.jsx)(c().A,{emphasized:!0,style:h.collectionIcon}):void 0,(0,p.jsx)(c().A,{style:h.collectionTitle})]})]}):(0,p.jsxs)(p.Fragment,{children:[u?(0,p.jsx)(c().A,{style:h.pageCoverPhoto}):(0,p.jsx)("div",{style:h.pageCoverPadding}),g?(0,p.jsx)("div",{style:h.pageIconContainer,children:(0,p.jsx)(c().A,{emphasized:!0,style:h.pageIcon})}):void 0,(0,p.jsx)("div",{style:h.pageTitleContainer,children:(0,p.jsx)(c().A,{style:h.pageTitle})})]})}function m({isVisible:e,peekMode:t,store:o}){const{WindowSizeStore:c}=(0,i().v3)(),d=(0,i().Y0)(),m=(0,l().tz)(),S=d.isPhone,v=d.isMobileNative,h=a().ek(d.isElectronMac),f=(0,n().K8)((()=>{const e=t===s().O||t===s().A||S?h:0;return{top:c.getSafePaddingTopCSS(e),bottom:c.getSafePaddingBottomCSS(0),insetInlineStart:c.getSafePaddingLeftCSS(0),insetInlineEnd:c.getSafePaddingRightCSS(0)}}),[c,t,S,h]),y=(0,r().IS)((()=>({root:{position:"absolute",...f,display:"flex",flexDirection:"column",alignItems:"center",pointerEvents:"none"}})),[f]);return(0,u().A)(e,v?0:10,0)?(0,p.jsx)("div",{role:"progressbar","aria-valuetext":m.formatMessage({id:"frameLoadingState.loading",defaultMessage:"Loading..."}),style:y.root,children:(0,p.jsx)(g,{store:o,peekMode:t})},"shimmer"):null}},774524:(e,t,o)=>{o.d(t,{A:()=>d});o(296540);var i=()=>o(662303),n=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(284371),l=()=>o(478726),c=o(474848);function d(e){const{store:t,context:o,onFocus:d,onBlur:u,children:p}=e,g=(0,n().Y0)(),{isMobile:m}=g,S=(0,r().K8)((()=>{const e=(0,l().XD)(o);let i,n,r;return m?t.getCover()?(t.getIcon(),r="block",i=e,n=4):(r="flex",i=e,n=(0,l().$n)()):t.isCollectionView()||(0,l().mb)(t)?(r="flex",t.getCover()?(i=16,n=4):(i=4,n=4)):(r="flex",t.getIcon()?(i=8,n=4):t.getCover()?(i=16,n=4):(i=e,n=(0,l().$n)())),{display:r,paddingTop:i,paddingBottom:n}}),[o,m,t]),v=(0,s().IS)((e=>({container:{...S,justifyContent:"flex-start",flexWrap:"wrap",marginInlineStart:-1,color:e.text.tertiary,fontFamily:a().vc(i().locale).sans,pointerEvents:"auto"}})),[S]);return(0,c.jsx)("div",{onFocus:d,onBlur:u,style:v.container,className:"notion-page-controls",children:p})}},790324:(e,t,o)=>{o.d(t,{A:()=>d});var i=o(296540),n=()=>o(484714),r=()=>o(631524),s=()=>o(619207),a=()=>o(896628),l=()=>o(231297),c=o(474848);function d(e){const{store:t,afterOnClick:o,style:d,label:u}=e,p=(0,n().v3)(),g=(0,i.useCallback)((()=>{l().createAndCommit({userAction:"PageAddIconButton.handleAddRandomIconClick",environment:p,canUndo:!0,perform:e=>{a().vc({store:t,transaction:e})}}),o()}),[p,o,t]);return(0,c.jsx)(r().p,{style:d,colorPalette:"gray",colorVariant:"tertiary",onClick:g,iconLeading:{icon:s().emojiFaceFillIcon,size:"xs",fitToViewBox:"all"},children:u},"add-icon")}},811420:(e,t,o)=>{o.d(t,{m:()=>M});var i=o(296540),n=()=>o(726637),r=()=>o(484714),s=()=>o(819121),a=()=>o(56366),l=()=>o(401497),c=()=>o(631524),d=()=>o(879526),u=()=>o(435644),p=()=>o(69708),g=()=>o(158574),m=()=>o(778417),S=()=>o(190033),v=()=>o(774524),h=()=>o(38337),f=()=>o(600871),y=()=>o(21178),b=()=>o(478726),x=()=>o(799954),_=()=>o(77246),C=o(474848);const k=i.memo((function(e){const{descriptionStore:t,disabled:n,toggleStore:s,pageId:c,userSettingsStore:d,collectionStore:u,locked:g,canEdit:m,bottomMargin:S}=e,{isMobile:v}=(0,r().Y0)(),h=(0,l().IS)((()=>({container:{maxWidth:"100%",borderRadius:4,overflow:"hidden",marginBottom:S??12},textContainer:{display:"flex",cursor:"text"},tooltipContainer:{display:"flex",alignItems:"start"},lockedIconContainer:{paddingTop:4,paddingInlineEnd:6},pageTitleWithIconContainer:{whiteSpace:"nowrap",fontWeight:o(284371).Wy.bold},pageIcon:{marginInlineEnd:4,display:"inline-block"},pageTitle:{display:"inline"}})),[S]),f=(0,a().K8)((()=>u&&u.getIcon()),[u]),y=(0,i.useCallback)((e=>(0,C.jsx)("div",{children:(0,C.jsx)("div",{style:h.textContainer,...e,children:(0,C.jsx)(w,{descriptionStore:t,toggleStore:s,userSettingsStore:d,pageId:c,disabled:n,hasIcon:Boolean(f)})})})),[t,n,f,c,h.textContainer,s,d]),b=(0,i.useCallback)((()=>(0,C.jsxs)("div",{style:h.tooltipContainer,children:[(0,C.jsx)("div",{style:h.lockedIconContainer,children:(0,o(315564).S)({width:12})}),(0,C.jsx)("div",{children:(0,C.jsx)("div",{children:(0,C.jsx)(p().sA,{defaultMessage:"Please unlock {pageTitleWithIcon} to edit the description.",id:"pageDescription.lockedTooltip.message",values:{pageTitleWithIcon:(0,C.jsxs)("span",{style:h.pageTitleWithIconContainer,children:[f?(0,C.jsx)(o(187820).B6,{disabled:!0,icon:f,isEmptyPage:!1,size:12,style:h.pageIcon}):null,u?(0,C.jsx)(o(16006).A,{store:u,style:h.pageTitle}):null]})}})})})]})),[u,f,h.lockedIconContainer,h.pageIcon,h.pageTitle,h.pageTitleWithIconContainer,h.tooltipContainer]);return(0,C.jsx)("div",{style:h.container,children:v?(0,C.jsx)(w,{descriptionStore:t,toggleStore:s,userSettingsStore:d,pageId:c,disabled:n,hasIcon:Boolean(f)}):(0,C.jsx)(o(859428).A,{renderTooltip:b,render:y,disableTooltip:!g||!m})})})),w=i.memo((function(e){const{descriptionStore:t,disabled:n,toggleStore:s,pageId:c,userSettingsStore:d,hasIcon:u}=e,m=(0,r().v3)(),S=(0,r().Y0)(),v=(0,p().tz)(),h=(0,o(792485).S)(),f=(0,i.useRef)(null),y=(0,a().K8)((()=>s.state.isPageDescriptionExpanded),[s]),b=(0,i.useCallback)((e=>{y||(y||e.preventDefault(),g().JO({store:s,pageId:c,descriptionStore:t,environment:m,userSettingsStore:d}))}),[t,m,y,c,s,d]),k=(0,i.useCallback)((e=>{var i;if(!function(){const e=h&&h.publicEditModeStore.state,i=(0,o(220719).o9)((0,o(969197).T)(t));return!n&&(!(0,o(329443).QT)(e)&&("suggest"!==_().Uv.getMode(i)&&t.canEdit()))}())return;if(null===(i=e.preventDefault)||void 0===i||i.call(e),f.current&&f.current.isComposing())return;const r=o(693202).default.state;if("editing"!==r.mode)return;const s=(0,o(557155).H)(r.multiSelection);if(!s)return;const a=null!=h&&h.pageStore?_().Uv.getMode(h.pageStore):"default";o(231297).createAndCommit({userAction:"PageDescription.handleEnter",environment:m,canUndo:!0,perform:e=>{o(319975).$D({environment:m,editorMode:a,store:t,string:"\n",selection:s.selection,disableMentions:!0,disableSlashCommands:!0,disableEmojiCommands:!0,transaction:e})}})}),[t,n,m,h]),w=(0,i.useCallback)((e=>!0),[]),I=(0,i.useCallback)((e=>!0),[]),P=(0,i.useMemo)((()=>({bot:!1,date:!1,page:!1,team:!1,user:!1,group:!1,formulaContextVariable:!0,heading:!0,reminder:!0,createPage:!0,inviteUserToPage:!0,templateVariable:!0,slackSpecialMention:!0,inviteUserToWorkspace:!0,property:!0})),[]),M=(0,l().IS)((()=>({container:{fontSize:14,paddingInlineStart:u?x().Md+4:x().Md,paddingBottom:4,paddingTop:3,width:780}})),[u]);return t?(0,C.jsx)(o(712855).A,{ref:f,store:t,style:M.container,disabled:n,placeholder:v.formatMessage({defaultMessage:"Add a descriptionâ€¦",id:"pageDescription.emptyPlaceholder"}),disableSlashCommands:!0,disableEmbedMenu:!0,disabledMentionTypes:P,onTab:w,onUntab:I,onEnter:k,onClick:b,disableStyleAnnotations:S.isMobileBrowser,disableInsertedDeletedAnnotations:S.isMobileBrowser,disableHorizontalEdgeScroll:!0,pasteBehavior:"inline",inPageFind:o(792540).Os.none}):null}));var I=()=>o(644914),P=()=>o(765957);const M=i.memo((function(e){const{canEdit:t,collectionContextStore:n,context:s,controlHoverStyle:l,disabled:c,editorContentContainerRef:d,forceLocalQueryCollection:u,handleHeaderMouseEnter:p,handleHeaderMouseLeave:g,hasCover:m,headerFocusStore:S,isEditable:v,isInSidePeek:h,onCollectionViewBlockMount:f,onTitleChange:b,onTitleEditText:x,onTitleEsc:_,onTitleTab:k,onTitleUntab:w,openMenuOnMount:I,openMenuOnMountCallback:M,paddingLeft:A,paddingRight:j,pageCover:B,pageViewBlockStore:V,productUseCase:E,shouldShowTemplatePicker:L,store:D,titlePlaceholder:K,topControls:R}=e,F=(0,r().v3)(),O=(0,r().Y0)(),[z,W]=(0,i.useState)(!!O.isAndroid),H=(0,a().K8)((()=>D.getCollectionViewSourceDescriptionStore()),[D]),N=(0,a().K8)((()=>(0,y().cf)(H)),[H]),U=(0,a().K8)((()=>{var e;if(D.id!==(null===(e=P().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id))return;const{RouterStore:t}=F,o=t.state.route;return"page"===o.name?o.collectionViewId:void 0}),[D,F]);return(0,i.useEffect)((()=>{(async()=>{if((0,o(466088).w)(F)){const e=F.RouterStore.getState();if((0,o(651784).bh)(e.route)){const e=(0,o(578872).GN)(D),t=null==e?void 0:e.getSiteStore();await(null==t?void 0:t.load());const i=null==t?void 0:t.getSettings(),n=null==i?void 0:i.embedSettings;return void W(Boolean(!(null!=n&&n.hideTitle)))}}W(!0)})()}),[F,D]),(0,C.jsxs)(C.Fragment,{children:[z?(0,C.jsx)(T,{canEdit:t,collectionContextStore:n,collectionViewDescriptionStore:H,context:s,controlHoverStyle:l,descriptionHasText:N,disabled:c,handleHeaderMouseEnter:p,handleHeaderMouseLeave:g,hasCover:m,headerFocusStore:S,isEditable:v,isInSidePeek:h,onTitleChange:b,onTitleEditText:x,onTitleEsc:_,onTitleTab:k,onTitleUntab:w,openMenuOnMount:I,openMenuOnMountCallback:M,paddingLeft:A,paddingRight:j,pageCover:B,pageViewBlockStore:V,shouldShowTemplatePicker:L,store:D,titlePlaceholder:K,topControls:R}):null,(0,C.jsx)(o(106065).dN,{editorContentContainerRef:d,overridePaddingLeft:A,overridePaddingRight:j,store:D,isFullScreen:!0,productUseCase:E||"full_page",viewId:U,disabled:c,headerActionsBehavior:s===o(548821).Rr.InAppTemplatePreview?"hidden":"default",onMount:f,forceLocalQueryCollection:u})]})}),o(821062).A);function T(e){const{canEdit:t,collectionContextStore:s,collectionViewDescriptionStore:c,context:d,controlHoverStyle:u,descriptionHasText:p,disabled:m,handleHeaderMouseEnter:S,handleHeaderMouseLeave:v,hasCover:h,headerFocusStore:f,isEditable:x,isInSidePeek:w,onTitleChange:M,onTitleEditText:T,onTitleEsc:j,onTitleTab:B,onTitleUntab:V,openMenuOnMount:E,openMenuOnMountCallback:L,paddingLeft:D,paddingRight:K,pageCover:R,pageViewBlockStore:F,shouldShowTemplatePicker:O,store:z,titlePlaceholder:W,topControls:H}=e,N=(0,r().v3)(),U=(0,r().Y0)(),{singleSourceCollectionStore:Y,hasExactlyOneSourceAndNoLinkedCollections:G,hasAnySourceCollectionStores:q}=(0,a().K8)((()=>({singleSourceCollectionStore:z.getCollectionStoreIfSingleSource(),hasExactlyOneSourceAndNoLinkedCollections:z.hasSingleSourceAndNoLinkedCollections(),hasAnySourceCollectionStores:z.getOwnedCollectionStores().length>0})),[z]),$=(0,a().K8)((()=>_().Uv.getMode(z)),[z]),J=(0,a().K8)((()=>z.getTitleStore()),[z]),X=(0,a().K8)((()=>o(201980).q4_(null==J?void 0:J.getValue())),[J]),Q=(0,a().K8)((()=>!(0!==z.getCollectionViewStores().length)||(!!G||(!!q||!!J&&(!!X||!!(0,o(792002).j_)(J))))),[z,G,q,J,X]),{currentUserSettingsStore:Z,userSettings:ee}=(0,a().K8)((()=>{const e=P().AppStoreCurrentUserSettingsStore.state;return{currentUserSettingsStore:e,userSettings:null==e?void 0:e.getSettings()}}),[]),[te,oe]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=!N.currentUser.isLoggedIn();te||!e&&!(!e&&Z&&ee)||void 0===p||(g().K$({pageId:z.id,store:F,userSettingsStore:Z,descriptionHasText:p}),oe(!0))}),[Z,ee,p,te,z.id,F,N]);const ie=(0,a().K8)((()=>{const{isPageDescriptionExpanded:e}=F.state;return N.currentUser.isLoggedIn()?!(!ee||!te)&&(((0,y().cf)(c)||x)&&e):e}),[c,te,x,F,ee,N.currentUser]),ne=(0,a().K8)((()=>ie&&c&&F.state.isPageDescriptionExpanded?{type:"visible",descriptionStore:c,currentUserSettingsStore:P().AppStoreCurrentUserSettingsStore.state,collectionStore:Y,shouldHideBottomMargin:!z.hasSingleSourceAndNoLinkedCollections()}:{type:"hidden"}),[c,Y,F,ie,z]),re=(0,a().K8)((()=>(0,o(635462).s)(z.id)||(0,o(665020).W)(z.id)),[z]),se=(0,a().K8)((()=>(0,b().NR)(z,N)),[z,N]),ae=(0,a().K8)((()=>(0,b().uf)(z,d,U)),[z,d,U]),le=(0,a().K8)((()=>z.isNonEditableState()),[z]),ce=(0,a().K8)((()=>(0,I().Uh)(N)+(0,I().zo)(N,!1)-o(661179).A.state-D),[N,D]),de=(0,a().K8)((()=>{const{WindowSizeStore:e}=N;return{paddingLeft:e.getSafePaddingLeftCSS(D),paddingRight:e.getSafePaddingRightCSS(K)}}),[N,D,K]),ue=(0,l().IS)((()=>{const e="visible"===ne.type&&ne.shouldHideBottomMargin;return{container:{maxWidth:"100%",paddingInlineStart:de.paddingLeft},titleWrapper:{paddingInlineEnd:de.paddingRight,marginBottom:n().A.isMobile?e?8:16:e?4:8,width:ce},titleWithIcon:{display:"flex",alignItems:"flex-start",flexDirection:Boolean(n().A.isMobile)?"column":"row"}}}),[ce,de.paddingLeft,de.paddingRight,ne]);return(0,C.jsxs)("div",{style:se,onMouseEnter:S,onMouseLeave:v,children:[R,(0,C.jsxs)(o(145214).A,{animate:{width:ae},style:ue.container,children:[(0,C.jsx)(A,{canEdit:t,context:d,controlHoverStyle:u,store:z,headerFocusStore:f,topControls:H,isEditable:x,isInSidePeek:w,titleStore:J,titleTextValue:X,pageViewBlockStore:F,editorMode:$,shouldShowDescription:ie,collectionViewDescriptionStore:c,descriptionHasText:p}),(0,C.jsxs)("div",{style:ue.titleWrapper,children:[re?null:(0,C.jsxs)("div",{style:ue.titleWithIcon,children:[(0,C.jsx)(o(603616).v,{store:z,isEditable:x,hasCover:h,isInSidePeek:w,openMenuOnMount:E,openMenuOnMountCallback:L}),Q?(0,C.jsx)(o(441301).s,{store:z,context:d,disabled:m,isInSidePeek:w,titlePlaceholder:W,collectionContextStore:s,shouldShowTemplatePicker:O,onTitleChange:M,onTitleEditText:T,onTitleEsc:j,onTitleTab:B,onTitleUntab:V}):null]}),"visible"===ne.type?(0,C.jsx)(k,{disabled:!x,canEdit:t,locked:le,pageId:z.id,toggleStore:F,descriptionStore:ne.descriptionStore,collectionStore:ne.collectionStore,userSettingsStore:ne.currentUserSettingsStore,bottomMargin:ne.shouldHideBottomMargin?0:void 0}):null,(0,C.jsx)(o(578405).h,{store:z,context:d,layoutModule:void 0,disabled:m||"suggest"===$,wrapper:e=>(0,C.jsx)(o(817942).vV,{className:"layout-content-with-divider",style:{marginTop:4,paddingTop:4,marginBottom:12,paddingBottom:12},children:e})},z.id)]})]})]})}function A(e){const{collectionViewDescriptionStore:t,context:o,controlHoverStyle:n,descriptionHasText:l,editorMode:c,headerFocusStore:d,isEditable:u,isInSidePeek:p,pageViewBlockStore:g,shouldShowDescription:m,store:S,titleStore:y,titleTextValue:b,topControls:x}=e,_=(0,r().Y0)(),k=(0,f().D1)(_),w=(0,a().K8)((()=>Boolean(S.getCollectionViewSourceDescriptionStore())),[S]),I=!k&&w,P=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,s().p)(t)&&d.setState(!0)}),[d]),M=(0,i.useCallback)((()=>{d.setState(!1)}),[d]);return(0,C.jsx)("div",{className:p?h().S6D:void 0,children:(0,C.jsxs)(v().A,{store:S,context:o,onFocus:P,onBlur:M,children:[x,(0,C.jsx)(j,{controlHoverStyle:n,store:S,isEditable:u,titleStore:y,titleTextValue:b}),I?(0,C.jsx)(B,{store:S,pageViewBlockStore:g,collectionViewDescriptionStore:t,descriptionHasText:l,controlHoverStyle:n,editorMode:c,shouldShowDescription:m,isEditable:u}):null]})})}function j(e){const{store:t,isEditable:o,titleTextValue:n,titleStore:s,controlHoverStyle:l}=e,d=(0,r().v3)(),{isSmallPhone:g}=(0,r().Y0)(),v=(0,a().K8)((()=>t.hasSingleSourceAndNoLinkedCollections()),[t]),h=(0,a().K8)((()=>(t.getOwnedCollectionStores()??[]).length>0),[t]),f=(0,i.useCallback)((()=>{s&&(m().IU({environment:d}),(0,S().z)({store:s}))}),[s,d]);return h||v||!o||n?null:(0,C.jsx)(c().p,{style:l,colorPalette:"gray",colorVariant:"tertiary",onClick:f,iconLeading:u().a,children:g?(0,C.jsx)(p().sA,{id:"pageViewBlock.add.pageTitleMobile",defaultMessage:"Title"}):(0,C.jsx)(p().sA,{id:"pageViewBlock.add.pageTitle",defaultMessage:"Add title"})},"add-title")}function B(e){const{collectionViewDescriptionStore:t,descriptionHasText:o,controlHoverStyle:n,editorMode:s,isEditable:a,pageViewBlockStore:l,shouldShowDescription:u,store:m}=e,S=(0,r().v3)(),{isSmallPhone:v}=(0,r().Y0)(),h=(0,i.useCallback)((()=>{g().KM({environment:S,pageId:m.id,store:l,userSettingsStore:P().AppStoreCurrentUserSettingsStore.state,descriptionStore:t})}),[t,S,l,m.id]),f=(0,i.useCallback)((e=>{g().JO({environment:S,pageId:m.id,store:l,userSettingsStore:P().AppStoreCurrentUserSettingsStore.state,descriptionStore:t})}),[S,m.id,l,t]),y=(0,i.useCallback)((()=>{f(!0)}),[f]),b=(0,i.useCallback)((()=>{f(!1)}),[f]);return u?(0,C.jsx)(c().p,{colorPalette:"gray",colorVariant:"tertiary",style:n,onClick:b,iconLeading:{icon:d().infoCircleFillIcon,size:"xs",fitToViewBox:"all"},children:(0,C.jsx)(p().sA,{defaultMessage:"Hide description",id:"pageViewBlock.hideDescription.button"})}):a&&"suggest"!==s&&!o?(0,C.jsx)(c().p,{colorPalette:"gray",colorVariant:"tertiary",style:n,onClick:h,iconLeading:{icon:d().infoCircleFillIcon,size:"xs",fitToViewBox:"all"},children:v?(0,C.jsx)(p().sA,{defaultMessage:"Description",id:"pageViewBlock.addDescription.mobileButton"}):(0,C.jsx)(p().sA,{defaultMessage:"Add description",id:"pageViewBlock.addDescription.button"})}):o?(0,C.jsx)(c().p,{colorPalette:"gray",colorVariant:"tertiary",style:n,onClick:y,iconLeading:{icon:d().infoCircleFillIcon,size:"xs",fitToViewBox:"all"},children:v?(0,C.jsx)(p().sA,{defaultMessage:"Description",id:"pageViewBlock.showDescription.mobileButton"}):(0,C.jsx)(p().sA,{defaultMessage:"Show description",id:"pageViewBlock.showDescription.button"})}):null}},823082:(e,t,o)=>{o.d(t,{H:()=>r});var i=()=>o(778781),n=()=>o(534177);function r(e){const t=e.type;return"properties"===t?"module__properties_"+("pinned"===e.variant?"minimal":"expanded"):"normalizedTitleWithIcon"===t||"titleWithIcon"===t?"module__title_with_icon":"cover"===t?"cover__module":"views"===t?"module__views":"editor"===t?"module__editor":"formTitle"===t?"module__formTitle":"viewsMain"===t?"module__views_main":"transcript"===t?"module__transcript":"formSubmit"===t?"module__form_submit":"discussions"===t?"module__discussion":"placeholder"===t?"module__placeholder":"formQuestion"===t?"module__formQuestion":"bottomControls"===t?"module__bottomControls":"relationsGroup"===t?"module__relationsGroup":"deleted_property"===t?"module__deleted_property":"expandedBacklinks"===t?"module__expandedBacklinks":"inlinePageSections"===t?"module__inlinePageSections":"property"===t?`module__property_${e.id}`:"collectionView"===t?"module__collectionView":"collectionViewV2"===t?"module__collectionViewV2":(0,i().CA)(t)?`module__property_${e.id}`:void(0,n().HB)(t)}},825114:(e,t,o)=>{o.d(t,{A:()=>te});o(944114),o(898992),o(354520),o(581454);var i=o(296540),n=()=>o(993905),r=()=>o(726637),s=()=>o(484714),a=()=>o(56366),l=()=>o(631524),c=()=>o(713998),d=()=>o(94701),u=o(474848);const p={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.13 15.25 14.86",svg:(0,u.jsx)("path",{d:"M17.625 5.255A2.125 2.125 0 0 0 15.5 3.13h-11a2.125 2.125 0 0 0-2.125 2.125v7.5c0 1.173.951 2.125 2.125 2.125h1.188v2.482a.625.625 0 0 0 1.006.496l3.87-2.978H15.5a2.125 2.125 0 0 0 2.125-2.125zM5.95 7.505a.55.55 0 0 1 .55-.55h7a.55.55 0 0 1 0 1.1h-7a.55.55 0 0 1-.55-.55m.55 2.45h5a.55.55 0 0 1 0 1.1h-5a.55.55 0 1 1 0-1.1"})},g=(0,o(340498).wt)("commentFilledFill",p);var m=()=>o(778781),S=()=>o(69708),v=()=>o(284371),h=()=>o(222299),f=()=>o(774733),y=()=>o(11048),b=()=>o(406699),x=()=>o(645873);const _=new(x().O2)("floatingTableOfContents",(async()=>await o.e(52614).then(o.bind(o,612875)))),C=(0,x()._h)(_,(e=>e.FloatingTableOfContents));var k=()=>o(449195),w=()=>o(722872),I=()=>o(478726);o(16280);var P=()=>o(299545),M=()=>o(25680),T=()=>o(644914),A=()=>o(548821),j=()=>o(557198),B=()=>o(678834),V=()=>o(918487),E=()=>o(661344),L=()=>o(601726),D=()=>o(257502),K=()=>o(729923),R=()=>o(578405),F=()=>o(483832),O=()=>o(660197),z=(o(672577),()=>o(106065)),W=()=>o(180762),H=()=>o(148832),N=()=>o(614949),U=()=>o(747100),Y=()=>o(661179),G=()=>o(712505),q=()=>o(154807);function $({pageStore:e,disabled:t,viewsModule:o,wrapper:n,templatePickerMenuListStore:l,editorContentContainerRef:c,viewsModuleCollectionContextStore:d,setViewsModuleCollectionContextStore:p}){const g=(0,s().v3)(),{collectionViewBlockStore:m,viewsModuleContext:S,isViewsMainModule:v}=(0,a().K8)((()=>{if(!o)return{collectionViewBlockStore:void 0,collectionViewId:void 0,viewsModuleContext:void 0,isViewsMainModule:!1};const t=H().B.createChildStore(e,o.collection_view_block_pointer);return{collectionViewBlockStore:t,viewsModuleContext:{location:"page",viewsModule:o,currentPageStore:e,collectionViewBlockStore:t},isViewsMainModule:"viewsMain"===o.type}}),[e,o]);!function({isViewsMainModule:e,collectionViewBlockStore:t,environment:o,collectionContextStore:n}){const r=(0,a().K8)((()=>{if(!e||!t)return;const i=o.RouterStore.state.route;if("page"===i.name&&i.scrollToBlockId){const e=t.getCollectionViewStores().find((e=>"page"===e.getType()));return null==e?void 0:e.id}}),[o,t,e]);(0,i.useEffect)((()=>{n&&r&&(0,W().t)({environment:o,collectionContextStore:n,collectionViewId:r,isFullScreen:n.isFullScreenStore.state,isRootChild:n.isRootChildStore.state,isInPeekRenderer:n.isInPeekRendererStore.state})}),[o,r,t,e,n])}({isViewsMainModule:v,collectionViewBlockStore:m,environment:g,collectionContextStore:d});const h=function(e){const t=(0,s().v3)();return(0,a().K8)((()=>{if(!e)return 0;const{device:o}=t,i=t.WindowSizeStore.state.width,n=Boolean(e&&(0,U().cq)(e));if(n){const e=(0,q().eO)({environment:t,isInPeek:!0});return G().default.getPeekModeWidth(i)-Y().A.state-e}const s=(0,T().zo)(t,n)-(0,T().Ql)(t);let a=i-Y().A.state-s;if(!(0,T().tv)(t))return a;const{shouldShowSidebar:l}=(0,N().X)(t);return r().A.isMobile&&!o.isTablet||!l||(a-=(0,T().kf)(t)),a}),[t,e])}(m),f=function({isViewsMainModule:e,collectionViewBlockStore:t,collectionContextStore:o}){return(0,a().K8)((()=>{if(!e||!o)return!1;const i=null==o?void 0:o.collectionViewStore();return 1===(null==t?void 0:t.getCollectionViewStores().length)&&"page"===(null==i?void 0:i.getType())&&!(null!=i&&i.getFormat().page_pointer)}),[e,o,t])}({isViewsMainModule:v,collectionViewBlockStore:m,collectionContextStore:d});return m&&S?n((0,u.jsx)("div",{style:v?{minHeight:"60vh"}:void 0,children:(0,u.jsx)(z().dN,{store:m,isFullScreen:!1,productUseCase:"page_views_module",hideViewTabBar:f,headerActionsBehavior:f?"hidden":"always_show",headerAllowedActions:J,disabled:t,disableHoverMenu:!0,fullWidth:h,showOnlyCurrentView:!v,isUnlistedView:!1,viewsModuleContext:S,setCollectionContextStore:p,templatePickerMenuListStore:l,editorContentContainerRef:c})})):null}const J=["filter","sort","search","addItem","emptyOrganizeBy"];var X=()=>o(996262),Q=()=>o(9768);const Z=new(x().O2)("PageLayoutModuleErrorFallback",(()=>o.e(98396).then(o.bind(o,100826)))),ee=(0,x()._h)(Z,(e=>e.PageLayoutModuleErrorFallback));const te=function(e){const{store:t,context:p,postContext:m,disabled:h,templatePickerMenuListStore:_,styleOverrides:M,onHeaderMouseEnter:V,onHeaderMouseLeave:E,pageCoverHeight:L,isEditable:D,getControlHoverStyle:K,pageViewBlockStores:R,pageViewBlockAccessor:F,onDetailMouseEnter:O,onDetailMouseLeave:z,modules:W,editorContentContainerRef:H,layoutRef:N}=e,U=(0,s().v3)(),Y=(0,a().K8)((()=>t.getAssociatedCollectionStore()),[t],{debugName:"PageLayoutModules(collectionStore).useComputedStore"}),[G,q]=(0,i.useState)(void 0),$=(0,a().K8)((()=>t.getSchema()),[t],{debugName:"PageLayoutModules(schema).useComputedStore"}),J=(0,a().K8)((()=>(0,o(577814).A)({environment:U,store:t,pageViewBlockStore:R.pageViewBlockStore})),[U,t,R.pageViewBlockStore]),X=(0,a().K8)((()=>{const e=(0,I().gV)(t);if(!e)return;return(e.collection_page_sections||[]).filter((e=>{const o=$[e.section];if(!o||"relation"!==o.type)return;const i=t.getPropertyValue(e.section),n=(0,c().bG)({relationValue:(0,c().n)(i),propertySchema:o,getRecordModel:t.getRecordModel,includeNoAccess:!0}).length;return"inline"===e.visibility&&$[e.section]&&0!==n})).map((e=>e.section))}),[$,t],{debugName:"PageLayoutModules(inlinePropertyIDs).useComputedStore"}),Q=(0,o(401497).IS)((e=>({bottomControls:{display:"flex",alignItems:"baseline",justifyContent:"flex-start",flexWrap:"wrap",color:e.text.tertiary,fontFamily:v().vc(o(662303).locale).sans},detailsButton:{fontWeight:v().Wy.medium,color:e.text.secondary}})),[]),Z=(0,a().K8)((()=>(null==M?void 0:M.paddingX)??(0,I().OU)(p,U)),[p,U,null==M?void 0:M.paddingX],{debugName:"PageLayoutModules(horizontalPadding).useComputedStore"}),te=(0,a().K8)((()=>(0,P().qE)(t,{recursivelyLoadAllDiscussions:!1}).comments),[t]),ie=(0,a().K8)((()=>{const e=(0,I().gV)(t);if(!e)return;return(e.collection_page_sections||[]).filter((e=>{const o=$[e.section];if(!o||"relation"!==o.type)return;const i=t.getPropertyValue(e.section),n=(0,c().bG)({relationValue:(0,c().n)(i),propertySchema:o,getRecordModel:t.getRecordModel,includeNoAccess:!0}).length;return"minimal"===e.visibility&&$[e.section]||"inline"===e.visibility&&$[e.section]&&0===n})).map((e=>e.section))}),[$,t],{debugName:"PageLayoutModules(minimalPropertyIDs).useComputedStore"}),{value:ne}=(0,x().fJ)(f().commentsDependency),{value:re}=(0,x().fJ)(o(650829).assistantDependency),se=(0,a().K8)((()=>{var e;if(!re)return!1;const i=re.clientSkillHelpers.createClientGlobalSkill("fill_title");return 1===re.assistantSurfaceValidators.filterAssistantSurfaceActionsForContext(re.assistantSurfaceValidators.clientSkillToAssistantSurfaceAction([i]),{type:"entrypoint",entrypoint:"pageStart",pageStore:t,isMobile:Boolean(r().A.isMobile),userSettings:null===(e=o(765957).default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettings()}).length}),[re,t]),ae=(0,a().K8)((()=>(0,o(900967).J)(t,U).backlinksCount),[U,t],{debugName:"PageLayoutModules.useComputedStore:numberOfBacklinks"}),le=(0,j().Lx)({pageStore:t,numBacklinks:ae}),ce=(0,j().RR)({pageStore:t,numBacklinks:ae}),de=(0,I().L5)(p),ue=(0,o(600871).D1)(U.device),pe=(0,a().K8)((()=>{if(e.context===A().Rr.DraftPostInInlineComposer)return{bottomControls:[]};const n=async()=>{await(0,o(182034).O)({blockStore:t,pageViewBlockStore:R.pageViewBlockStore,environment:U})},s=async()=>{const{assistantDependency:e}=await Promise.resolve().then(o.bind(o,650829)),i=t.getTitleStore();if(!i)return;const n=await e.load();(0,o(190033).z)({store:i}),n.executeAssistantSkillAction({environment:U,clientSkillWithParameterValues:n.clientSkillHelpers.dangerouslyCreateClientSkillWithParameterValues(n.clientSkillHelpers.createClientGlobalSkill("fill_title")),from:"block_action_menu",assistantSurfaceType:r().A.isMobile?"mobileWriter":"writer"})};try{let c=[];const p=[...e.topControls],m=()=>{if("section_hide"!==(0,k().Rn)())return te>0?(0,u.jsx)(l().p,{colorPalette:"gray",onClick:()=>{"PageDetailsStore"in U&&U.PageDetailsStore.setToggleState({environment:U,type:"discussion",id:t.id},!0)},iconLeading:{icon:g,size:"xs",fitToViewBox:"all"},style:Q.detailsButton,children:(0,u.jsx)(S().sA,{id:"pageViewBlock.show.pageComments",defaultMessage:"{numberOfComments, plural, one {{numberOfComments} comment} other {{numberOfComments} comments}}",values:{numberOfComments:te}})},"showcomments"):void 0},v=()=>{if(!Y)return;const e=(0,I().gV)(t),i=t.isNonEditableState();if(!e)return;const n=ie;return n&&n.length?(0,u.jsx)(o(764891).A,{propertyIds:n,store:t,collectionStore:Y,disabled:h,locked:i,blockPropertyValueOverlayStore:de?o(405170).A:o(543886).A,format:e,type:"minimal"}):void 0},y=()=>{const e=(0,P().hq)(t,{recursivelyLoadAllDiscussions:!1});if(0===e.length)return;const i=(0,u.jsx)(S().sA,{id:"pageViewBlock.showResolvedComments.button",defaultMessage:"{numberOfResolvedComments, plural, one {{numberOfResolvedComments} resolved comment} other {{numberOfResolvedComments} resolved comments}}",values:{numberOfResolvedComments:e.length}});return(0,T().Nk)(U)?(0,u.jsx)(l().p,{iconLeading:d().checkmarkFillIcon,colorPalette:"gray",style:Q.detailsButton,onClick:()=>{o(182641).B4({environment:U,blockStore:t,analyticsFrom:"page_comments",shouldFocusDiscussion:!0,recursivelyLoadAllDiscussions:!1,discussionIds:e.map((e=>e.id))})},children:i}):(0,u.jsx)(b().A,{buttonPopupStore:R.resolvedDiscussionButtonPopupStore,popupType:r().A.isMobile?b().z.SlideUp:b().z.Popup,renderOrigin:e=>(0,u.jsx)(l().p,{iconLeading:d().checkmarkFillIcon,colorPalette:"gray",style:Q.detailsButton,...e,children:i}),render:i=>{let n;return n=r().A.isMobile?{menuType:w().gu.Modal,title:(0,u.jsx)(S().sA,{defaultMessage:"Resolved comments",id:"pageViewBlock.resolvedComments.menuTabTitle"}),right:(0,u.jsx)(o(45552).DoneMenuText,{}),onClickRight:i.close,whiteBackground:!0}:{menuType:w().gu.Popup,width:500},(0,u.jsx)(o(404277).A,{...n,children:e.map(((e,n,r)=>(0,u.jsx)(o(13679).A,{store:e,droppable:!0,render:()=>ne?(0,u.jsx)(f().PW,{store:e,format:ne.discussionHelpers.DiscussionFormat.Menu,isFirst:0===n,isOnly:1===r.length,discussionLocation:"page_discussion",showResolveButtonByDefaultIfPossible:!0,blockStore:t,onDismiss:i.close},e.id):null},e.id)))})}},"resolve-discussions")},x=e=>{const o=[];le&&o.push((0,u.jsx)(i.Fragment,{children:(0,u.jsx)(B().y,{pageStore:t,backlinksButtonPopupStore:R.backlinksButtonPopupStore,numBacklinks:ae})},"backlinks"));const n="hidden"===e.type,r=n&&m();r&&o.push((0,u.jsx)(i.Fragment,{children:r},"discussions"));const s=y();s&&!n&&o.unshift((0,u.jsx)(i.Fragment,{children:s},"resolveddiscussions"));const a=v();return a&&o.push((0,u.jsx)(i.Fragment,{children:a},"minimalpagesections")),o};if(c=x(J),"always"===ce||"onHover"===ce){const e={isBottomControl:!1,..."always"===ce?{forceVisible:!0}:{}};p.unshift((0,u.jsx)(i.Fragment,{children:(0,u.jsx)(B().y,{pageStore:t,backlinksButtonPopupStore:R.backlinksButtonPopupStore,numBacklinks:ae,customization:{buttonStyles:K(e)}})},"backlinks"))}"section_hide"===(0,k().Rn)(t)||t.isCollectionView()||t.isInsideCollection()||te>0||!t.canComment()||!U.currentUser.isLoggedIn()||R.pageViewBlockStore.state.forceDiscussionOpen||t.pathIsDead()||t.isTeamPost()||h||p.push((a={isBottomControl:!1},(0,u.jsx)(l().p,{style:K({isBottomControl:a.isBottomControl}),colorPalette:"gray",colorVariant:"tertiary",onClick:n,iconLeading:{icon:g,size:"xs",fitToViewBox:"all"},children:U.device.isSmallPhone?(0,u.jsx)(S().sA,{id:"pageViewBlock.add.pageCommentMobile",defaultMessage:"Comment"}):(0,u.jsx)(S().sA,{id:"pageViewBlock.add.pageComment",defaultMessage:"Add comment"})},"addcomment"))),se&&p.push((0,u.jsx)(l().p,{style:K({isBottomControl:!1}),colorPalette:"blue",onClick:s,iconLeading:o(435644).a,children:(0,u.jsx)(S().sA,{id:"pageViewBlock.add.fillTitle",defaultMessage:"Fill page title"})},"fill-title"));return{headerControls:ue?void 0:(0,u.jsx)("div",{className:de?o(38337).S6D:void 0,children:(0,u.jsx)(o(774524).A,{store:t,context:e.context,children:p})}),bottomControls:c}}catch(c){return{bottomControls:[]}}var a}),[e.context,e.topControls,t,R.pageViewBlockStore,R.resolvedDiscussionButtonPopupStore,R.backlinksButtonPopupStore,U,K,te,h,ue,J,ce,se,de,Q.detailsButton,Y,ie,ne,le,ae],{debugName:"PageLayoutModules(headerAndBottomControlsStore).useComputedStore"});return(0,u.jsxs)(y().A,{name:"PageLayoutModules",children:[(0,u.jsx)(n().s,{style:{display:"contents"},allowSelectionWithin:!1,children:(0,u.jsx)(C,{store:t,viewsModuleCollectionContextStore:G})}),W.map((i=>(0,u.jsx)(o(306631).S,{from:`PageLayout.${i.type}`,fallback:({error:e,errorId:t})=>(0,u.jsx)(ee,{error:e,errorId:t,type:i.type}),getParentEl:()=>N.current,children:(0,u.jsx)(oe,{editorContentContainerRef:H,module:i,context:p,postContext:m,pageViewBlockStore:R.pageViewBlockStore,disabled:h,environment:U,bottomControls:pe.bottomControls,headerControls:pe.headerControls,horizontalPadding:Z,inlinePropertyIDs:X,isEditable:D,isInPeek:de,onDetailMouseEnter:O,onDetailMouseLeave:z,onHeaderMouseEnter:V,onHeaderMouseLeave:E,pageCoverHeight:L,pageViewBlockAccessor:F,headerFocusStore:R.headerFocusStore,store:t,collectionStore:Y,collectionSchema:$,bottomControlsStyle:Q.bottomControls,templatePickerMenuListStore:_,pageTitleWithIconProps:e,modules:W,pageDiscussionsRenderState:J,viewsModuleCollectionContextStore:G,setViewsModuleCollectionContextStore:q})},i.id)))]})};function oe(e){const{module:t,modules:o,context:i,postContext:s,disabled:l,environment:c,bottomControls:d,headerControls:p,horizontalPadding:g,inlinePropertyIDs:S,isEditable:v,isInPeek:f,onDetailMouseEnter:b,onDetailMouseLeave:x,onHeaderMouseEnter:_,onHeaderMouseLeave:C,pageCoverHeight:k,pageViewBlockAccessor:w,headerFocusStore:I,store:P,collectionStore:T,collectionSchema:j,bottomControlsStyle:B,templatePickerMenuListStore:z,pageTitleWithIconProps:W,pageDiscussionsRenderState:H,editorContentContainerRef:N,viewsModuleCollectionContextStore:U,setViewsModuleCollectionContextStore:Y}=e,{pageVisitStore:G,presenceStore:q}=(0,M().S)({store:P,environment:c,postContext:s}),J=(0,a().K8)((()=>!!T&&(0,V().v)({collectionStore:T,module:t,isMobile:Boolean(r().A.isMobile)})),[T,t]),Z="page_main",ee=(0,Q().Jh)({layoutModule:t,area:Z,collectionSchema:j,collectionStore:T,showDetailsPanelToggleButtonBelowTitle:J,modules:o,context:i,postContext:s}),te=(0,Q().Br)({layoutModule:t,area:Z,collectionSchema:j,collectionStore:T,pageMainModules:o,showDetailsPanelToggleButtonBelowTitle:J});return(0,u.jsx)(y().A,{name:"PageLayoutModule",children:(()=>{if((0,m().gx)(t))return(0,u.jsx)(F().v,{context:i,disabled:l,propertyId:t.propertyId,store:P,pageModule:t,wrapper:ee,stackPropertyLabelAndValue:!0});switch(t.type){case"cover":return(0,u.jsx)(L().f,{store:P,isEditable:v,paddingX:g,pageCoverHeight:k,onMouseEnter:_,onMouseLeave:C,isInPeek:f});case"normalizedTitleWithIcon":return ee((0,u.jsx)(O().H,{handleHeaderMouseEnter:_,handleHeaderMouseLeave:C,headerControls:p,headerFocusStore:I,layoutModule:t,viewsModuleCollectionContextStore:U,...W}));case"properties":return(0,u.jsx)(R().h,{context:i,disabled:l,store:P,layoutModule:t,customization:{neverShowPropertiesElsewhereInLayout:!0,disableContainerPadding:!0},wrapper:ee,showDefaultTitle:te});case"inlinePageSections":return(0,u.jsx)(E().LG,{context:i,disabled:l,inlinePropertyIDs:S,store:P,wrapper:ee});case"expandedBacklinks":case"transcript":case"formTitle":case"formQuestion":case"formSubmit":case"placeholder":case"deleted_property":case"recentActivity":case"collaborators":case"teamspaces":return null;case"discussions":return s===A().Rr.DraftPostInInlineComposer||s===A().Rr.DraftPostInFullPageComposer?null:s===A().Rr.PostInFullPageOrPeek?(0,u.jsx)(D().d,{store:P,wrapper:ee,showDefaultTitle:!1,discussionLocation:"feed_item_top_level_discussion",pageDiscussionsRenderState:H,presenceStore:q,pageVisitStore:G}):(0,u.jsx)(D().d,{store:P,wrapper:ee,showDefaultTitle:te,discussionLocation:"page_discussion",pageDiscussionsRenderState:H});case"bottomControls":return 0===d.length?null:ee((0,u.jsx)(n().s,{allowSelectionWithin:!0,children:(0,u.jsx)("div",{style:B,className:"notion-page-details-controls",onMouseEnter:b,onMouseLeave:x,children:d})}));case"editor":return(0,u.jsx)(K().p,{context:i,disabled:l,handlePlaceholderWrapClick:e=>h().YB(e,P,c),pageBlockStore:P,pathToBlockId:t.pathToBlockId,templatePickerMenuListStore:z,pageViewBlockAccessor:w,ref:N,editorWrapper:i===A().Rr.DraftPostInInlineComposer?void 0:ee});case"viewsMain":case"views":return(0,u.jsx)($,{pageStore:P,disabled:l,viewsModule:t,wrapper:ee,templatePickerMenuListStore:z,editorContentContainerRef:N,viewsModuleCollectionContextStore:U,setViewsModuleCollectionContextStore:Y});case"relationsGroup":return(0,u.jsx)(X().z,{pageStore:P,wrapper:ee,disabled:l,context:i,showDefaultTitle:te})}})()})}},848565:(e,t,o)=>{o.d(t,{FB:()=>p,JC:()=>m,Ql:()=>g,Wv:()=>r,Yz:()=>a,ds:()=>n,e4:()=>i,eQ:()=>s,im:()=>c,jw:()=>l,k2:()=>u,uG:()=>d});const i=8,n=10,r=8,s=24,a=6,l=1.5,c=(s-l)/2,d=s+a,u=`calc(100% + ${r+(i-a)-d}px)`,p=s+8,g=-16;function m(e,t,o){return t?20:"margin_comments"===e?12:"comment_unfurl"===e&&"start"===o?14:16}},864260:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{pageMap:{}}}setStatus(e,t){const{pageMap:o}=this.state;t?o[e]=t:delete o[e],this.emit()}}const n=new i},877051:(e,t,o)=>{o.d(t,{V:()=>s});var i=()=>o(56366),n=()=>o(765957),r=()=>o(961581);function s(){const e=(0,i().K8)((()=>n().default.state.renderPhase),[]),t=(0,i().K8)((()=>r().A.state.initialCollectionPendingRenderCount>0),[]);return"rendered"!==e||t}},915086:(e,t,o)=>{o.r(t),o.d(t,{measurePageRenderMetrics:()=>T,setInitialRenderCompleted:()=>P,setSubMetric:()=>C,setSubMetricsAtRenderCallback:()=>_,updateMetricData:()=>k,updateMetricDataWithIsPushTag:()=>M,updateOPFSMetadata:()=>I,updateOPFSMetricData:()=>w});o(898992),o(354520),o(581454),o(737550),o(814603),o(147566),o(198721);var i=()=>o(564884),n=()=>o(242422),r=()=>o(906510),s=()=>o(410690),a=()=>o(589895),l=()=>o(473336),c=()=>o(807054),d=()=>o(150749),u=()=>o(466088),p=()=>o(402411),g=()=>o(135055),m=()=>o(959462),S=()=>o(671973),v=()=>o(406792),h=()=>o(736316),f=()=>o(765957),y=()=>o(961581),b=()=>o(977390),x=()=>o(606932);function _(e){const{mainStartTime:t,prefetchInitiatedTime:o,statsigBootupBlockingStartTime:i,renderStartTime:n,renderEndTime:r}=e,a=s().getAppStartTime();if(!a)return;const l={app_start_to_main_start:{startTime:a,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:o},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:o,endTime:i},statsig_bootup_blocking:{startTime:i,endTime:n},render_start_to_render_end:{startTime:n,endTime:r}};for(const[s,c]of Object.entries(l)){const e=null==c?void 0:c.startTime,t=null==c?void 0:c.endTime;e&&t&&(0,h().f)({name:s,startTime:e,endTime:t})}y().A.state.subMetricsStore.update((e=>({...e,...l})))}function C(e){const{name:t,endTime:o}=e,i=e.startTime(y().A.state.subMetricsStore.state);i&&(y().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:i,endTime:o}}))),(0,h().f)({name:t,startTime:i,endTime:o}))}function k(e){y().A.state.metricDataStore.update((t=>({...t,...e})))}function w(e){y().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function I(e){y().A.update((t=>({...t,opfsMetadata:{...t.opfsMetadata,...e}})))}function P(){y().A.update((e=>({...e,initialRenderCompleted:!0}))),S().N.markInitialPageRendered()}function M(e){const t=e.RouterStore.state;let o;var i;"page"===t.route.name&&(o=t.route.mobileData,k({is_push:null===(i=o)||void 0===i?void 0:i.isPush}))}function T({environment:e,isEditable:t,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:l,idSchema:d}){const{initialRoute:{name:p},route:g}=e.RouterStore.state,{initialRenderCompleted:m,initialRenderAfterLoginCompleted:h}=y().A.state,f=c().isPrewarmedTabInitialRender(e),_=(0,u().w)(e);m?h||"login"!==p?async function(e,t){const o="page"===t.name?t.mobileData:void 0,{timings:i,isDeduplicatingLcpc:n}=x().A.popTimings();if(i){const{navigationStart:r,requestFirstChunkStart:s,requestFirstChunkEnd:a,requestFirstChunkSource:l,requestFirstChunkLocalSource:d,pageViewBlockRender:u}=i,p=performance.now(),g="page"===t.name?e.prefetchCache.getPrefetchAnalytic(`loadCachedPageChunk(${t.blockId})`):void 0,{metrics:m,metadata:h}=x().A.popOPFSData(),f="local"===l&&"opfs"===d,{is_autosynced_origin:b,is_explicitly_offlined_origin:_}=V(e);v().default.measure({metricName:"navigation_page_render",startTime:r,endTime:p},{environment:e,data:{sub_metrics:{navigation_start_to_request_first_chunk_start:s?s-r:0,request_first_chunk_start_to_request_first_chunk_end:s&&a?a-s:0,request_first_chunk_end_to_pvb_render:a&&u?u-a:0,pvb_render_to_handle_navigation_render:u?p-u:0},chunk_source:l,local_source:d,is_push:(null==o?void 0:o.isPush)??!1,wasm_sqlite_initialized:y().A.state.metricDataStore.state.wasm_sqlite_initialized,opfs_metrics:f?m:void 0,opfs_metadata:h,...g?{page_chunk_prefetch:g,page_chunk_prefetch_type:g.type}:{},is_deduplicating_lcpc:"boolean"==typeof n?n:"unknown",is_autosynced_origin:b,is_explicitly_offlined_origin:_,is_swv2:await c().isSWV2()}}),S().N.markNavigationRender(e)}b().A.state.isMeasuring&&b().A.update((e=>({...e,isMeasuring:!1})))}(e,g):function(e){v().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),y().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(e):f?async function({environment:e,initialRoute:t,isEditable:o,isHomePage:i,isWikiHome:n,isPageWithCustomLayout:r,isPublicDomain:s,idSchema:a}){P();const l=performance.now();C({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:l});const{is_autosynced_origin:c,is_explicitly_offlined_origin:d}=await B(e),u=y().A.state.prewarmedTabAppStartTimeOverride;u&&v().default.measure({metricName:"initial_page_render",startTime:u,endTime:l},{environment:e,data:await A({initialRoute:t,isEditable:o,isHomePage:i,isWikiHome:n,isPageWithCustomLayout:r,isPublicDomain:s,idSchema:a,isPrewarmedTab:!0,prewarmedTabNavigationStart:u,isAutosyncedOrigin:c,isExplicitlyOfflinedOrigin:d}),shouldSendIfStatsigNotInitialized:!0});b().A.state.isMeasuring&&b().A.update((e=>({...e,isMeasuring:!1})))}({environment:e,initialRoute:p,isEditable:t,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:l,isPublicDomain:_,idSchema:d}):async function({environment:e,initialRoute:t,isEditable:o,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:d,idSchema:u}){var p;const{initialLoadCachedPageChunkCalledAt:g}=y().A.state;P();const m=Boolean(null===(p=performance)||void 0===p?void 0:p.mark)?performance.mark("initial_page_render").startTime:performance.now();r().S3.mark("initial_page_render"),C({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:m});const S=s().getAppStartTime(),h=s().getPageOriginTime();S&&h&&h>0&&S>h&&C({name:"page_origin_to_app_start",startTime:()=>h,endTime:S});const{is_autosynced_origin:f,is_explicitly_offlined_origin:b}=await B(e);v().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:m},{environment:e,data:await A({initialRoute:t,isEditable:o,isHomePage:a,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:d,idSchema:u,onAppStartSetting:"root"===t?E(e):void 0,prefetchedQueryCollection:j(e),isPrewarmedTab:!1,isAutosyncedOrigin:f,isExplicitlyOfflinedOrigin:b}),shouldSendIfStatsigNotInitialized:!0});y().A.state.subMetricsStore.state;void 0!==g&&v().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:g},{environment:e,data:{initial_route:t},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});n().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t,o){var n;if(null===(n=performance)||void 0===n||!n.getEntriesByType)return;const r=performance.getEntriesByType("resource"),s={eventName:"pre_ipr_assets",eventProperties:{ipr_duration:o,ipr_end:t,assets:r.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}})).filter((e=>e.perf_end<=t))}};(0,i().u)({environment:e,event:s})}(e,m,h?m-h:void 0)}({environment:e,initialRoute:p,isEditable:t,isHomePage:o,isWikiHome:a,isPageWithCustomLayout:l,isPublicDomain:_,idSchema:d})}async function A(e){const{initialRoute:t,isEditable:o,isHomePage:i,isWikiHome:n,isPageWithCustomLayout:r,isPublicDomain:a,isPrewarmedTab:l,idSchema:u,prefetchedQueryCollection:p,onAppStartSetting:g,isAutosyncedOrigin:m,isExplicitlyOfflinedOrigin:S}=e;return{...c().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:o,is_home_page:i,is_page_with_custom_layout:r,is_public_domain:a,profiling_tool:(0,d().getProfilingToolForSession)(),is_wiki_home:n,time_origin_to_app_start:s().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:p,is_prewarmed_tab:l,desktop_load_origin:c().getDesktopLoadOrigin(l),desktop_tab_count:y().A.state.desktopTabCount,is_swv2:await c().isSWV2(),opfs_metadata:y().A.state.opfsMetadata,is_deduplicating_lcpc:"boolean"==typeof y().A.state.isDeduplicatingLcpc?y().A.state.isDeduplicatingLcpc:"unknown",on_app_start_setting:g,is_autosynced_origin:m,is_explicitly_offlined_origin:S}}function j(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return a().Ob.lookupViewIds(t.blockId).some((t=>{var o;const i=(0,l().A)(t),n=null===(o=e.prefetchCache)||void 0===o?void 0:o.getPrefetchAnalytic(i);return"hit-match"===(null==n?void 0:n.type)||"attempted"===(null==n?void 0:n.type)||"hit-mismatch"===(null==n?void 0:n.type)}))}async function B(e){if((0,g().Nj)(e))try{await m().A.waitUntil((()=>void 0!==m().A.state.offlinePages),{timeout:5e3})}catch(t){}return V(e)}function V(e){var t,o;const i=e.RouterStore.state.route;if("page"!==i.name||!i.blockId)return{is_autosynced_origin:!1,is_explicitly_offlined_origin:!1};return{is_autosynced_origin:(null===(t=m().A.state.offlinePages)||void 0===t||null===(t=t[i.blockId])||void 0===t?void 0:t.is_autosynced_origin)??!1,is_explicitly_offlined_origin:(null===(o=m().A.state.offlinePages)||void 0===o||null===(o=o[i.blockId])||void 0===o?void 0:o.is_explicitly_offlined_origin)??!1}}function E(e){var t,o;const i=null===(t=f().default.state.sidebarSpaceViewStore)||void 0===t?void 0:t.getModel(),n=null===(o=f().default.state.sidebarSpaceStore)||void 0===o?void 0:o.getModel();if(i&&n)return(0,p().Y)(e,{spaceView:i,space:n})}},918487:(e,t,o)=>{o.d(t,{v:()=>n});var i=()=>o(517223);function n(e){const{collectionStore:t,module:o,isMobile:n}=e;if("normalizedTitleWithIcon"!==o.type)return!1;const r=t.getSchema(),s=!!r&&(0,i().LD)({collectionSchema:r,module:o}).length>0,a=(0,i().pm)({collectionStore:t}).count>0;return!(!n||!a)||!s&&a}},933951:(e,t,o)=>{o.d(t,{Qf:()=>b,sS:()=>f,ub:()=>y});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(672577),o(737550);var i=o(296540),n=()=>o(59226),r=()=>o(484714),s=()=>o(56366),a=()=>o(455348),l=()=>o(691678),c=()=>o(235692),d=()=>o(778781),u=()=>o(33791),p=()=>o(577814),g=()=>o(478726),m=()=>o(240865),S=()=>o(981342),v=()=>o(548821),h=()=>o(9768);function f(e){const{pageStore:t,pageViewBlockStore:o,postContext:n,collectionStore:a,collectionSchema:c}=e,{collectionStore:g,collectionFormat:m,collectionSchema:S,canConfigureCollection:v}=(0,s().K8)((()=>{const e=a||(null==t?void 0:t.getAssociatedCollectionStore()),o=c||(null==e?void 0:e.getSchema()),i=null==e?void 0:e.getFormat(),n=e&&(0,u().v)({collectionStore:e,collectionViewBlockStore:e.getParentBlockStore(),checkNavigableAncestorLocked:!1});return{collectionStore:e,collectionSchema:o,collectionFormat:i,canConfigureCollection:n}}),[t,a,c]),f=(0,r().v3)(),b=(0,s().K8)((()=>{var e;return null===(e=(0,p().A)({environment:f,store:t,pageViewBlockStore:o}))||void 0===e?void 0:e.type}),[f,t,o]),x=y({collectionFormat:m,collectionSchema:S,layoutStore:(0,s().K8)((()=>null==g?void 0:g.getLayoutStore()),[g]),postContext:n,pageStoreId:null==t?void 0:t.id,pageStore:t}),_=(0,s().K8)((()=>{const e=x.page_main.some((e=>(0,d().i_)(e)))||x.page_details.some((e=>(0,d().i_)(e)));return!(!g||!e)&&(0,h().cu)({modulesByArea:x,collectionStore:g})}),[x,g]),C=(0,i.useMemo)((()=>{const e=new Set;return(!Boolean(g)||!v&&_)&&e.add("properties"),"hidden"===b&&e.add("discussions"),e}),[v,g,b,_]);return(0,i.useMemo)((()=>0===C.size?x:(0,l().KO)(x,(e=>!C.has(e.type)))),[x,C])}function y(e){const{layoutStore:t,collectionSchema:o,collectionFormat:r,postContext:l,pageStoreId:d,pageStore:u}=e,p=(0,i.useRef)(d),h=(0,i.useRef)(null),f=(0,s().K8)((()=>null==u?void 0:u.getSpaceStore()),[u]),y=(0,m().V)(f)??0,b=(0,n().X)("bottom_page_discussions_enabled"),_=(0,s().K8)((()=>(0,S().sF)()),[]);return(0,s().K8)((()=>{var e;if(l===v().Rr.DraftPostInInlineComposer)return c().wC;if(null!=u&&u.isPersonProfile())return x({personProfileStore:u,spaceMemberCount:y,isPeopleCollectionEnabled:_});if((0,g().Mi)(l)){const e=(0,a().aG)(o,"created_time"),t=(0,a().aG)(o,"created_by"),i=[];t&&i.push(t),e&&i.push(e);return{...c()._u,page_main:[{...c()._u.page_main[0],propertyIds:i},...c()._u.page_main.slice(1)]}}let i=null==t?void 0:t.getModules();const n=d&&i&&d===p.current&&0===i.page_main.length&&(null===(e=h.current)||void 0===e?void 0:e.page_main.find((e=>"editor"===e.type)));return i&&!n||(i=(0,c().xN)({collectionSchema:o,collectionFormat:r,isBottomPageDiscussionsEnabled:b})),p.current=d,h.current=i,i}),[l,u,t,d,y,o,r,b,_],{useDeepEqual:!0})}function b(e){const{personProfileStore:t}=e,o=(0,s().K8)((()=>t.getSpaceStore()),[t]),i=(0,m().V)(o)??0,n=(0,s().K8)((()=>(0,S().sF)()),[]);return(0,s().K8)((()=>x({personProfileStore:t,spaceMemberCount:i,isPeopleCollectionEnabled:n})),[t,i,n],{useDeepEqual:!0})}function x(e){const{personProfileStore:t,spaceMemberCount:o,isPeopleCollectionEnabled:i}=e,n=t.getAssociatedCollectionStore();if(!n)return(0,c().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:i});const r=n.getLayoutStore();if(!r)return(0,c().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:i});const s=r.getModules();return!s||0===s.person_profile_page_main.length&&0===s.person_profile_page_details.length?(0,c().E1)({spaceMemberCount:o,isPeopleCollectionEnabled:i}):s}},948049:(e,t,o)=>{o.d(t,{A:()=>B});o(296540);var i=()=>o(564884),n=()=>o(484714),r=()=>o(56366),s=()=>o(401497),a=()=>o(252291),l=()=>o(396896),c=()=>o(124092),d=()=>o(651124),u=()=>o(97889),p=()=>o(132855),g=()=>o(158661),m=()=>o(395546),S=()=>o(462853),v=()=>o(69708),h=()=>o(284371),f=()=>o(485444),y=()=>o(147503),b=()=>o(447453),x=()=>o(198491),_=()=>o(493208),C=()=>o(252833),k=()=>o(907514),w=()=>o(817126),I=()=>o(666803),P=()=>o(991249),M=()=>o(285790),T=()=>o(296798),A=o(474848);const j=(0,v().YK)({learnMore:{defaultMessage:"Learn more",id:"syncedCollectionIndicators.upsell.learnMore"}});const B=function({collectionStore:e,collectionContextStore:t}){return(0,r().K8)((()=>e.isSyncedCollection()),[e])?(0,A.jsx)(D,{collectionStore:e,collectionContextStore:t}):null};function V(e){return{color:e.text.secondary,fontSize:12,lineHeight:1.2}}function E({collectionStore:e,collectionContextStore:t}){const o=(0,s().DP)(),i=(0,n().v3)(),l=(0,r().K8)((()=>e.getFormatStore().getKeyStore("sync_state").getKeyStore("syncing").getValue()),[e]),c=(0,r().K8)((()=>e.getFormatStore().getKeyStore("sync_state").getKeyStore("last_synced_at").getValue()),[e]),d=(0,r().K8)((()=>null==t?void 0:t.numberChildrenUnfurledStore.state),[t]),p=(0,r().K8)((()=>null==t?void 0:t.numberChildrenReceivedStore.state),[t]),m=d&&p&&d/p<1&&!i.device.isMobile,S=l&&i.device.isMobile;let h;return c&&(h=(0,A.jsx)(v().sA,{defaultMessage:"Synced {lastSyncedAt}",id:"synced.lastSyncedAt.label",values:{lastSyncedAt:(0,k().nl)(c,{useLowercase:!0})}})),"row_limit_exceeded"===l?(0,A.jsx)(T().A,{style:{display:"inline-flex",...V(o)},onClick:()=>function(e){e&&((0,b().O)({collectionContextStore:e,collectionSettingsStore:e.settingsStore}),y().a2({collectionSettingsStore:e.settingsStore,item:{type:"source"}}))}(t),children:(0,A.jsxs)("span",{style:{marginInlineStart:5,marginInlineEnd:5,display:"inline-flex",gap:4,alignItems:"center",...V(o)},children:[(0,A.jsx)(a().I,{icon:g().exclamationMarkTriangleFillSmallIcon,size:"xxs",colorPalette:"orange",colorVariant:"accentPrimary"}),(0,A.jsx)(v().sA,{defaultMessage:"Partial Sync",id:"synced.partial_sync.label"})]})}):m||S?(0,A.jsxs)("span",{style:{marginInlineStart:5,marginInlineEnd:5,display:"inline-flex",gap:4,alignItems:"center",...V(o)},children:[(0,A.jsx)(v().sA,{defaultMessage:"Syncing",id:"synced.syncing.label"}),(0,A.jsx)(a().I,{icon:u().C,size:"xxs",className:"sync-spinner"})]}):(0,A.jsx)("span",{style:{marginInlineStart:5,marginInlineEnd:5,display:"inline-flex",...V(o)},children:h})}function L(){const e=(0,n().v3)(),t=(0,s().IS)((e=>({span:{color:e.text.secondary},linkBox:{fontSize:"14px",lineHeight:1.2,color:e.blue.text.accentPrimary,marginInlineStart:"5px",marginInlineEnd:"5px"}})),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("span",{style:t.span,children:"â€¢"}),(0,A.jsx)(T().A,{inline:!0,onClick:async()=>{await f().j({environment:e,from:"collection_header"});const t=I().Ay.createNewFlowId();(0,i().u)({environment:e,event:{eventName:"external_sync_entry_point",eventProperties:{integration:"jira",from:"database_sync",flowId:t}}})},style:t.linkBox,hoveredStyle:{background:"none",textDecoration:"underline"},children:(0,A.jsx)(v().sA,{defaultMessage:"Improve your Jira sync",id:"synced.improve_jira_sync.label"})})]})}function D({collectionStore:e,collectionContextStore:t}){const o=(0,s().DP)(),i=(0,r().K8)((()=>e.getFormatStore().getKeyStore("original_url").getValue()),[e]),n=(0,r().K8)((()=>e.getSpaceId()),[e]),a=(0,r().K8)((()=>Boolean(e.getFormatStore().getKeyStore("sync_state").getValue())),[e]),l=(0,r().K8)((()=>i&&(0,_().e)(i,n)),[n,i]),c=(0,r().K8)((()=>(0,C().fH)(i,n)),[n,i]),u=(0,r().K8)((()=>{const t=e.getFormat().uri;return!!t&&(e.getFormat().external_collection_type!==d().uO.Jira&&(0,C().Ip)(t))}),[e]);return(0,A.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[l?(0,A.jsx)(T().A,{href:l,style:{display:"inline-flex"},hoveredStyle:{background:"none",textDecoration:"underline"},innerStyle:{flexShrink:1,width:"none",padding:"2px 0px",marginInlineEnd:5,borderRadius:4,display:"flex",alignItems:"center",alignSelf:"center",...V(o)},external:!0,children:c}):void 0,a?(0,A.jsx)("span",{style:{color:o.text.secondary},children:"â€¢"}):null,a?(0,A.jsx)(E,{collectionStore:e,collectionContextStore:t}):null,u?(0,A.jsx)(L,{}):void 0,(0,A.jsx)(K,{collectionStore:e})]})}function K({collectionStore:e}){const t=(0,r().K8)((()=>{const t=(0,C().cl)(e.getFormat().uri,e.getSpaceId());return(null==t?void 0:t.id)??e.getFormat().integration_id}),[e]),o=(0,S().l)(t);return o?(0,A.jsx)(F,{featureName:o}):null}const R="https://www.notion.com/pricing";function F({featureName:e}){const t=(0,n().v3)(),o=(0,v().tz)(),i=(0,s().IS)((e=>({upgradeDescription:{fontSize:h().J.UISmall.desktop,lineHeight:h().K_.UISmall.desktop,color:e.text.secondary,display:"flex",alignItems:"center"}})),[]),r=(0,w().uF)({featureName:e});if(null==r||!r.upsell)return null;const{upsell:a,upsellTier:d,expirationDate:u}=r;return(0,A.jsxs)(l().fI,{alignItems:"center",marginInlineStart:8,children:[(0,A.jsxs)("div",{style:i.upgradeDescription,children:[(0,A.jsx)(x().A,{expirationDate:u,upsellTier:d}),(0,A.jsx)(M().A,{onClick:()=>window.open(R,"_blank"),colorVariant:"tertiary",size:"sm",icon:m().infoCircleSmallIcon,ariaLabel:o.formatMessage(j.learnMore)})]}),(0,A.jsx)(c().p,{onClick:()=>{P().K(t,{from:"collection_synced_database",upsell:a})},iconLeading:p().arrowInCircleUpFillIcon,colorPalette:"blue",size:"xs",children:(0,A.jsx)(v().sA,{defaultMessage:"Upgrade",id:"syncedCollectionIndicators.upsell.upgrade"})})]})}},973454:(e,t,o)=>{o.d(t,{p:()=>l,A:()=>c});var i=o(296540),n=()=>o(615234);const r=24*n().pT;function s(e){return a(e).status}function a(e){if(null==e||!e.enabled)return{status:"disabled"};const t=e.start_ts?1e3*e.start_ts-Date.now():0;return t<=0?{status:"active"}:t<=r?{status:"warning",nextUpdateInMs:t}:{status:"scheduled",nextUpdateInMs:t-r}}function l(e){const[t,o]=(0,i.useState)((()=>s(e)));return(0,i.useEffect)((()=>{if(null==e||!e.enabled)return;let t;return function i(){t=void 0;const{status:n,nextUpdateInMs:r}=a(e);o(n),r&&(t=setTimeout(i,r))}(),()=>{t&&(clearTimeout(t),t=void 0)}}),[e]),t}function c(e){const[t,o]=(0,i.useState)((()=>Date.now())),r=(null==e?void 0:e.enabled)&&e.start_ts;return(0,i.useEffect)((()=>{if("number"!=typeof r)return;const e=r;let t;return function i(){const r=Date.now();o(r);const s=e*n().TD-r;if(s>0){const e=s%n().Xb,o=0===e?n().Xb:e;t=setTimeout(i,o)}else t=void 0}(),()=>{t&&(clearTimeout(t),t=void 0)}}),[r]),{freezeStatus:s(e),minUntilFreeze:r?Math.floor((r*n().TD-t)/n().Xb):void 0}}},978598:(e,t,o)=>{o.d(t,{o:()=>l});var i=()=>o(56366),n=()=>o(860116),r=()=>o(449195),s=()=>o(299545),a=()=>o(474204);function l(e,t){const o=(0,i().K8)((()=>(0,n().I)(e.getAssociatedLayoutStore())),[e]),l=(0,i().K8)((()=>{var t;const o=null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.getFormat();return"section_hide"!==(0,r().z5)(null==o?void 0:o.page_section_visibility)}),[e]),c=(0,a().M)(t),d=(0,i().K8)((()=>(0,s().oC)(e,{})),[e]),u=(0,i().K8)((()=>e.canComment()),[e]);return o&&l&&!c&&(d>0||u)}},996262:(e,t,o)=>{o.d(t,{z:()=>b});o(898992),o(354520),o(581454);var i=o(296540),n=()=>o(993905),r=()=>o(56366),s=()=>o(401497),a=()=>o(487929),l=()=>o(713998),c=()=>o(651124),d=()=>o(390066),u=()=>o(69708),p=()=>o(543886),g=()=>o(405170),m=()=>o(21140),S=()=>o(764891),v=()=>o(548821),h=()=>o(9768),f=()=>o(720501),y=o(474848);function b(e){const{pageStore:t,disabled:o,context:b,wrapper:x,showDefaultTitle:_}=e,C=b===v().Rr.PeekView,k=(0,r().K8)((()=>t.isNonEditableState()),[t]),{collectionStore:w,collectionSchema:I,normalizedCollectionFormat:P}=(0,r().K8)((()=>{const e=t.getAssociatedCollectionStore(),o=null==e?void 0:e.getSchema(),i=null==e?void 0:e.getFormat();return{collectionStore:e,collectionSchema:o,normalizedCollectionFormat:i&&o&&(0,d().L)(i,o,void 0,c().jf.Collection)}}),[t]),M=(0,i.useCallback)((e=>{const o=null==I?void 0:I[e];if("relation"!==(null==o?void 0:o.type))return!1;const i=t.getPropertyValue(e);return 0===(0,l().bG)({relationValue:(0,l().n)(i),propertySchema:o,getRecordModel:t.getRecordModel,includeNoAccess:!0}).length}),[I,t]),T=(0,r().K8)((()=>{if(!I||!P)return[];return(0,a().u)({format:P,schema:I,visibilityLevels:["inline"]}).filter((e=>!M(e)))}),[I,M,P]),A=(0,r().K8)((()=>{if(!I||!P)return[];return(0,a().T)({format:P,schema:I,visibilityLevels:["minimal","inline"]}).filter((e=>"minimal"===e.visibility||!("inline"!==e.visibility||!M(e.section)))).map((e=>e.section))}),[I,M,P]),j=(0,r().K8)((()=>t.canEdit()),[t]),B=(0,s().IS)((e=>({inlinePageSectionsContainer:{...A.length>0?{marginBottom:h().YE+h().Lb+(j?-4:0)}:{}},minimalPropertiesContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}})),[A.length,j]);return w&&I&&P&&(0!==T.length||0!==A.length)?x((0,y.jsx)(m().wt,{gap:4,children:(0,y.jsxs)(n().s,{allowSelectionWithin:!0,children:[T.length>0?(0,y.jsx)("div",{style:B.inlinePageSectionsContainer,children:(0,y.jsx)(S().A,{propertyIds:T,store:t,collectionStore:w,disabled:o,locked:k,blockPropertyValueOverlayStore:C?g().A:p().A,format:P,type:"inline"})}):void 0,A.length>0?(0,y.jsxs)(y.Fragment,{children:[_?(0,y.jsx)(f().j,{store:t,style:{marginInlineStart:6},children:(0,y.jsx)(u().sA,{id:"pageLayout.relationsGroup.defaultTitle",defaultMessage:"Relations"})}):void 0,(0,y.jsx)("div",{style:B.minimalPropertiesContainer,children:(0,y.jsx)(S().A,{propertyIds:A,store:t,collectionStore:w,disabled:o,locked:k,blockPropertyValueOverlayStore:C?g().A:p().A,format:P,type:"minimal"})})]}):void 0]})})):null}}}]);