"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[95281],{27356:(e,t,n)=>{n.r(t),n.d(t,{UISpacePermissionGroupToken:()=>y});var r=n(296540),i=()=>n(726637),o=()=>n(484714),s=()=>n(56366),a=()=>n(401497),l=()=>n(784892),d=()=>n(437607),c=()=>n(914462),u=()=>n(69708),p=()=>n(284371),m=()=>n(764353),g=()=>n(848401),S=()=>n(580648),h=n(474848);function y(e){const{parentStore:t,style:n,format:y}=e,x=e.groupPointer.id,f=e.groupPointer.spaceId,v=(0,d().S4)({spacePermissionGroupId:x,spaceId:f}),C=(0,s().K8)((()=>{if(e.groupModel)return e.groupModel;if(!t)return;return m().C.createChildStore(t,v).getModel()}),[t,v,e.groupModel]),b=(0,o().Y0)(),{outerStyle:w,avatarWrapStyle:A}=(0,a().IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0},avatarWrapStyle:{width:"none",minHeight:"none",marginInlineEnd:6},badgeStyle:{borderRadius:4,background:e.legacyDefaultSelectColor,fontSize:i().A.isMobile?11:9,lineHeight:b.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em"}})),[b]),I=(0,u().tz)(),j=(0,s().K8)((()=>(0,c().n)({intl:I,permissionGroupModel:C})),[I,C]),P=(0,r.useCallback)((e=>y===l().NY.Inline?(0,h.jsx)(S().o,{group:C,size:e}):(0,h.jsxs)("div",{style:w,children:[(0,h.jsx)("div",{style:A,children:(0,h.jsx)(S().o,{group:C,size:e})}),(0,h.jsx)("div",{style:{...p().RC},children:j})]})),[y,w,A,C,j]);return(0,h.jsx)(g().Ay,{...e,style:{margin:0,...n},renderAvatar:P})}},53528:(e,t,n)=>{n.d(t,{OH:()=>a,T2:()=>l,do:()=>d});var r=()=>n(597777),i=()=>n(869190),o=()=>n(604995),s=()=>n(416504);function a(e){const{dateTime:t,intl:n,shortenDateAndRange:r}=e,s=o().C6.toPersistedDate(t.valueOf());return i().ZF({value:s,allowRelativeDates:!0,intl:n,shortenDateAndRange:r,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:n,userTimeZone:r,displayInUserTimezone:s,alwaysIncludeTimezone:a}=e,l=o().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return i().ZF({value:l,allowRelativeDates:!0,intl:n,userTimeZone:r,displayInUserTimezone:s,alwaysIncludeTimezone:a})}function d(e){const{luxonRange:t,intl:n}=e,a=o().C6.toPersistedDateRange(t),l=i().ZF({value:a,allowRelativeDates:!1,shortenDateAndRange:!0,intl:n,displayInUserTimezone:!0}),d=t.end.setZone((0,s().P)()),c=i().fU({start_time:d.toFormat(r().GE),humanReadable:!1,intl:n});return n.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},169816:(e,t,n)=>{n.d(t,{BU:()=>l,Z0:()=>o,tA:()=>s,LS:()=>a});var r=()=>n(645873);const i=new(r().O2)("outlinerViewAll",(async()=>{const{OutlinerViewAllButton:e}=await n.e(51609).then(n.bind(n,341628)),{OutlinerViewAllPopup:t}=await n.e(51609).then(n.bind(n,499960));return{OutlinerViewAllButton:e,OutlinerViewAllPopup:t}})),o=(0,r()._h)(i,(e=>e.OutlinerViewAllButton)),s=(0,r()._h)(i,(e=>e.OutlinerViewAllPopup)),a=30,l=20},170350:(e,t,n)=>{n.r(t),n.d(t,{filterIcon:()=>i,iconDefinition:()=>r});n(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,n(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},i=(0,n(340498).wt)("filter",r)},279047:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(296540),i=()=>n(56366),o=()=>n(401497),s=()=>n(141333),a=n(474848);const l=4;function d({scrollerStore:e,type:t,dividerColor:n,errorMargin:d=l}){const c=(0,i().K8)((()=>e.state.elementRef),[e]),u=(0,s().Xg)(c),p=(0,s().CR)(c),m=(0,s().sj)(c),g=(0,s().yE)(c),S=(0,s().o7)(c),h=(0,s().HJ)(c),y=(0,r.useMemo)((()=>{if(!e)return!1;switch(t){case"top":return Math.round(g)>d;case"bottom":return Math.abs(Math.round(g)-(p-S))>d;case"left":return Math.round(m)>d;case"right":return Math.abs(Math.round(m)-(u-h))>d}}),[e,t,d,u,p,m,g,S,h]),x="left"===t||"right"===t,f=(0,o().IS)((e=>({divider:{flexShrink:0,boxShadow:y?x?`1px 0 0 ${n??e.regularDividerColor}`:`0 1px 0 ${n??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...x?{width:1,height:"100%",marginInlineStart:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[x,y,n]);return(0,a.jsx)("div",{style:f.divider})}},299797:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var r=()=>n(493552),i=()=>n(340498),o=n(474848);const s=function({icon:e,title:t,description:s,cta:a,bodyWidth:l,iconSize:d=i().Ev.lg}){const c=(0,n(401497).IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"center",gap:16},icon:{width:d,height:d,color:e.icon.secondary},body:{display:"flex",flexDirection:"column",textAlign:"center",maxWidth:l??300,gap:8},description:{textWrap:"balance",color:e.text.secondary}})),[l,d]);return(0,o.jsxs)("div",{style:c.container,children:[e?e(c.icon):void 0,(0,o.jsxs)("div",{style:c.body,children:[(0,o.jsx)(r().D,{colorVariant:"primary",styleKey:"Title-sm/Semibold",children:t}),(0,o.jsx)(r().D,{styleKey:"Body/Regular",style:c.description,children:s})]}),a?(0,o.jsx)("div",{children:a}):void 0]})}},372637:(e,t,n)=>{n.d(t,{A:()=>c});var r=()=>n(584262),i=()=>n(211716),o=()=>n(362749),s=()=>n(50764),a=()=>n(929450),l=()=>n(857783),d=()=>n(231297);async function c(e){const{environment:t,spaceStore:n,spaceViewStore:c,teamStore:u,andNavigate:p,from:m,outlinerToggleButtonStore:g,shouldPersistToggleState:S,title:h,loading:y,appendOrPrepend:x,event:f}=e;if(!(0,s().E)(t))return;const v=await(0,o().Pl)(),{performResult:{createdPage:C}}=d().createAndCommit({userAction:"outlinerActions.createPageInTeam",environment:t,canUndo:!0,perform:e=>({createdPage:v({environment:t,spaceStore:n,spaceViewStore:c,teamStore:u,from:m,title:h,event:f,loading:y,appendOrPrepend:x,transaction:e})})});return p&&l().uK({environment:t,store:C,visitType:i().ig.Link,pageVisitSource:r().y8.Create}),g&&a().Of({environment:t,spaceViewStore:c,teamStore:u,outlinerToggleButtonStore:g,newIsHidden:!1,shouldPersistToggleState:Boolean(S),isExplicitUserAction:!1}),C}},580648:(e,t,n)=>{n.d(t,{o:()=>d});n(296540);var r=()=>n(56366),i=()=>n(914462),o=()=>n(69708),s=()=>n(173783),a=()=>n(187820),l=n(474848);function d(e){const{group:t}=e,n=e.size??20,d=(0,o().tz)(),c=(0,r().K8)((()=>{if(t&&t.icon)return{pointer:t.pointer,icon:t.icon}}),[t]),u=(0,r().K8)((()=>(0,i().n)({intl:d,permissionGroupModel:t})),[d,t]);return(0,l.jsx)("div",{children:c?(0,l.jsx)(a().B6,{disabled:!0,size:n,icon:c,isEmptyPage:!1,title:u}):(0,l.jsx)(s().A,{size:n})})}},625194:(e,t,n)=>{n.d(t,{m:()=>s});var r=n(296540),i=()=>n(96330),o=n(474848);const s=r.memo((function(e){const{textValue:t}=e,n=(0,r.useMemo)((()=>(0,i().X1)((0,i().eC)(t))),[t]);return(0,o.jsx)("span",{children:n})}))},654734:(e,t,n)=>{n.d(t,{A:()=>d});var r=n(296540),i=()=>n(597777),o=()=>n(869190),s=()=>n(604995),a=()=>n(416504),l=n(474848);const d=function(e){const t=(0,n(69708).tz)(),d=(0,n(401497).DP)(),p=(0,n(396182).I)(),m=(0,r.useRef)(),g=(0,r.useCallback)((()=>{const t=e.value;if(!t)return;const r=s().q8(t,(0,a().P)());if(!r)return;const i=r.valueOf(),o=i-Date.now();o<0||o>n(720665).nD||m.current&&m.current.timestamp===i||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:i,timer:setTimeout((()=>p("DateBox","DateBox/createReminderTimer")),o)})}),[p,e.value]),S=(0,r.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,r.useEffect)((()=>{g()}),[g]),(0,r.useEffect)((()=>()=>{S()}),[S]);const{value:h,withComma:y}=e,x=(0,n(56366).K8)((()=>h?(0,o().ZF)({value:h,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,a().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:n(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,h]);if(!h)return null;const f=s().AA(h,(0,a().P)(),n(662303).locale);let v;if((0,i().Lh)(h)){const e=s().Zs(h,(0,a().P)());v=e?{color:d.errorText}:{color:n(100622).Tj.blue}}const C=(0,l.jsxs)(l.Fragment,{children:[x,(0,i().Lh)(h)?(0,n(599987).P)({display:"inline-block",width:"1em",marginInlineStart:6,marginInlineEnd:2,paddingBottom:4,verticalAlign:"middle"}):void 0,y?", ":null]});return e.disableTooltip?(0,l.jsx)("div",{className:e.className,style:{...e.style,...v},children:C}):(0,l.jsx)(n(859428).A,{renderTooltip:()=>(0,l.jsxs)(l.Fragment,{children:[e.tooltipHeader,(0,l.jsxs)("div",{style:u(d,e.tooltipHeader),children:[c(f.start),f.end?` â†’ ${c(f.end)}`:""]})]}),render:t=>(0,l.jsx)("div",{className:e.className,style:{...e.style,...v},...t,children:C}),placement:e.tooltipPlacement})};function c(e){return(0,o().eV)({value:e,preset:"medium"})}function u(e,t){return t?{color:e.text.inverseSecondary}:{}}},660219:(e,t,n)=>{n.d(t,{A:()=>v});n(581454);var r=n(296540),i=()=>n(381175),o=n(474848);const s=(0,n(340498).wt)("docMagnifyingGlass",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M4.87695 14.1426C4.25195 14.1426 3.77734 13.9805 3.45312 13.6562C3.13281 13.332 2.97266 12.8535 2.97266 12.2207V3.38477C2.97266 2.75586 3.13281 2.2793 3.45312 1.95508C3.77734 1.62695 4.25195 1.46289 4.87695 1.46289H11.123C11.748 1.46289 12.2207 1.625 12.541 1.94922C12.8613 2.27344 13.0215 2.75195 13.0215 3.38477V9.30273C12.8652 9.13086 12.6895 8.97656 12.4941 8.83984C12.2988 8.70312 12.0918 8.59375 11.873 8.51172V3.45508C11.873 3.18555 11.7988 2.97852 11.6504 2.83398C11.5059 2.68555 11.2969 2.61133 11.0234 2.61133H4.97656C4.69531 2.61133 4.48242 2.68555 4.33789 2.83398C4.19727 2.97852 4.12695 3.18555 4.12695 3.45508V12.1621C4.12695 12.4355 4.19727 12.6426 4.33789 12.7832C4.48242 12.9238 4.69531 12.9941 4.97656 12.9941H7.40234C7.48438 13.2129 7.5918 13.4199 7.72461 13.6152C7.86133 13.8105 8.01562 13.9863 8.1875 14.1426H4.87695ZM5.86133 4.99609C5.74805 4.99609 5.65625 4.95898 5.58594 4.88477C5.51562 4.81055 5.48047 4.72266 5.48047 4.62109C5.48047 4.51953 5.51562 4.43359 5.58594 4.36328C5.65625 4.29297 5.74805 4.25781 5.86133 4.25781H10.1445C10.25 4.25781 10.3379 4.29297 10.4082 4.36328C10.4824 4.43359 10.5195 4.51953 10.5195 4.62109C10.5195 4.72266 10.4824 4.81055 10.4082 4.88477C10.3379 4.95898 10.25 4.99609 10.1445 4.99609H5.86133ZM5.86133 6.99414C5.74805 6.99414 5.65625 6.95898 5.58594 6.88867C5.51562 6.81445 5.48047 6.72461 5.48047 6.61914C5.48047 6.51758 5.51562 6.43164 5.58594 6.36133C5.65625 6.29102 5.74805 6.25586 5.86133 6.25586H10.1445C10.25 6.25586 10.3379 6.29102 10.4082 6.36133C10.4824 6.43164 10.5195 6.51758 10.5195 6.61914C10.5195 6.72461 10.4824 6.81445 10.4082 6.88867C10.3379 6.95898 10.25 6.99414 10.1445 6.99414H5.86133ZM10.4434 14.1426C9.9707 14.1426 9.53906 14.0254 9.14844 13.791C8.75781 13.5605 8.44336 13.25 8.20508 12.8594C7.9707 12.4688 7.85352 12.0371 7.85352 11.5645C7.85352 11.0879 7.9707 10.6543 8.20508 10.2637C8.44336 9.86914 8.75781 9.55664 9.14844 9.32617C9.53906 9.0918 9.9707 8.97461 10.4434 8.97461C10.9199 8.97461 11.3535 9.0918 11.7441 9.32617C12.1348 9.55664 12.4453 9.86719 12.6758 10.2578C12.9102 10.6484 13.0273 11.084 13.0273 11.5645C13.0273 12.0371 12.9102 12.4688 12.6758 12.8594C12.4453 13.25 12.1348 13.5605 11.7441 13.791C11.3535 14.0254 10.9199 14.1426 10.4434 14.1426ZM10.4434 13.252C10.752 13.252 11.0332 13.1758 11.2871 13.0234C11.5449 12.8711 11.75 12.666 11.9023 12.4082C12.0547 12.1543 12.1309 11.873 12.1309 11.5645C12.1309 11.252 12.0547 10.9688 11.9023 10.7148C11.75 10.4609 11.5449 10.2578 11.2871 10.1055C11.0332 9.94922 10.752 9.87109 10.4434 9.87109C10.1309 9.87109 9.8457 9.94922 9.58789 10.1055C9.33398 10.2578 9.12891 10.4609 8.97266 10.7148C8.82031 10.9688 8.74414 11.252 8.74414 11.5645C8.74414 11.873 8.82031 12.1543 8.97266 12.4082C9.12891 12.666 9.33398 12.8711 9.58789 13.0234C9.8457 13.1758 10.1309 13.252 10.4434 13.252ZM13.5078 15.209C13.3398 15.209 13.1895 15.1426 13.0566 15.0098L11.4629 13.416L12.2715 12.6719L13.8594 14.2598C13.9141 14.3105 13.957 14.3711 13.9883 14.4414C14.0195 14.5117 14.0352 14.582 14.0352 14.6523C14.0352 14.8125 13.9844 14.9453 13.8828 15.0508C13.7812 15.1562 13.6562 15.209 13.5078 15.209Z"})});var a=()=>n(179034),l=()=>n(69708),d=()=>n(899963),c=()=>n(857783),u=()=>n(396301),p=()=>n(869562),m=()=>n(148832),g=()=>n(939740),S=()=>n(89924),h=()=>n(56366);const y=r.forwardRef((function(e,t){const{store:r,timestamp:i,actorPointer:s,type:a,...l}=e,d=(0,h().K8)((()=>r.getIcon()),[r]),c=(0,h().K8)((()=>r.isEmptyPage()),[r]),u=(0,h().K8)((()=>(0,n(187820).Te)(r)),[r]);return(0,h().K8)((()=>{(0,n(819493).b)(r)}),[r]),(0,o.jsx)(n(859428).A,{placement:"right",render:e=>(0,o.jsx)(n(760217).A,{...(0,n(553965).A)(l,e),ref:t,title:(0,o.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,o.jsx)(n(16006).A,{store:r})}),icon:(0,o.jsx)(n(167334).A,{icon:d,isEmptyPage:c,isAlias:!1,iconRecordCategory:u})}),renderTooltip:()=>(0,o.jsx)(n(706965).A,{store:r})})}));function x(e){const{sections:t}=e,n=1===t.length;return t.map((({key:t,pages:r},i)=>({key:t,items:f({...e,pages:r}),render:e=>(0,o.jsx)(S().A,{...e,topBorder:0!==i,title:n?void 0:(0,u().OJ)({section:t,isFirst:0===i})})})))}function f(e){const{environment:t,spaceStore:n,pages:r,visiblePageIds:s,onClose:l,type:g,state:S}=e,h=s.length;return r.map((({blockId:r,timestamp:x,authorPointer:f,index:v})=>{const C=m().B.createChildStore(n,{table:a().ev,id:r}),b=s.includes(r);return{key:r,action:({event:e})=>{const n=(0,i().V)(e);n||l(),c().uK({environment:t,store:C,openInNew:n,pageVisitSource:(0,u().NX)({type:g,from:"secondary_sidebar"})}),t.device.isPhone&&p().close(),d().Qq(t,{type:g,queryStringLength:S.query.length,selectedItemIndex:v})},render:t=>(0,o.jsx)(y,{...t,...e,store:C,timestamp:x,actorPointer:f,isPinned:b,spaceId:n.id,pinnedAmount:h})}}))}const v=function(e){const{sections:t,onClose:i,state:a,menuListStore:d,setState:c,renderSections:u,...p}=e,m=(0,n(484714).v3)(),h=n(496603).xu(t,(e=>e.pages.length)),y=Math.min(h,a.numPagesShown),f=(0,r.useMemo)((()=>{let e=y;return t.map((t=>{const n={...t,pages:t.pages.slice(0,e)};return e=Math.max(0,e-t.pages.length),n}))}),[y,t]);return 0===t.length?(0,o.jsx)(S().A,{style:{height:"40vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,o.jsx)(n(299797).A,{icon:s,title:(0,o.jsx)(l().sA,{defaultMessage:"No matches",id:"outlinerViewAllPopover.search.noMatchesTitle"}),description:(0,o.jsx)(l().sA,{defaultMessage:"Try checking for typos",id:"outlinerViewAllPopover.search.noMatchesDescription"})})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g().Ay,{type:g().Oh.Vertical,initialFocus:void 0,sections:u?u(f):x({...p,setState:c,state:a,environment:m,onClose:i,sections:f,menuListStore:d}),store:d}),(0,o.jsx)(n(958846).A,{fetchSize:y,resultSize:h,loading:!1,onLoadMore:()=>{c({query:a.query,numPagesShown:Math.min(h,y+n(169816).BU)})}})]})}},706965:(e,t,n)=>{n.d(t,{A:()=>y});n(296540);var r=()=>n(56366),i=()=>n(401497),o=()=>n(764880),s=()=>n(310442),a=()=>n(824862),l=()=>n(798880),d=()=>n(69708),c=()=>n(534177),u=()=>n(284371),p=()=>n(43972),m=()=>n(972435),g=()=>n(907514),S=()=>n(646736),h=n(474848);function y(e){const{store:t}=e,n=(0,i().DP)(),y=(0,r().K8)((()=>t.getCreatedTime()),[t]),x=(0,r().K8)((()=>t.getLastEditedTime()),[t]),f=(0,r().K8)((()=>{const e=t.getCreatedByPointer();if(e)return(0,o().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),v=(0,r().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return(0,o().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),C=(0,r().K8)((()=>{const e=t.getSpaceStore();if(!e)return!1;const n=null==f?void 0:f.asActor;if(!n)return!1;const r=n.table;switch(r){case l().oo:return(0,S().dp)(e,n.id).isMember();case a().GP:return(0,S().Ts)(e,n.id).isMember();case s().yj:return!1;default:(0,c().HB)(r)}}),[t,f]),b=y?(0,g().nl)(y,{useCompactFormat:!0,useLowercase:!0}):"",w=x?(0,g().nl)(x,{useLowercase:!0,useCompactFormat:!0}):"";if(!(x?(0,g().nl)(x,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):""))return null;const A={display:"flex",gap:4,color:n.text.inverseSecondary,height:16,fontSize:12},I={size:14,style:{marginInlineEnd:2}},j=m().A.getIntl();return(0,h.jsxs)(h.Fragment,{children:[(e=>{let t;if(null!=v&&v.asActor)t=(0,h.jsx)(d().sA,{defaultMessage:"Edited by {editor} {timestamp}",id:"pagePropertiesHeader.editedBy.label",values:{editor:(0,h.jsx)("span",{style:{fontWeight:u().Wy.medium,color:n.text.inversePrimary},children:(0,h.jsxs)("span",{style:{display:"flex"},children:[e?void 0:(0,p().w)({actor:v,...I}),(0,o().lR)(j,v)]})}),timestamp:w}});else{if(!w)return;r=w,t=(0,h.jsx)(d().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:r}})}var r;return(0,h.jsx)("div",{style:{...A,marginTop:3,marginBottom:3},children:t})})(e.compactFormat),(e=>{let t;if(null!=f&&f.asActor&&C)t=(0,h.jsx)(d().sA,{id:"pagePropertiesHeader.createdBy.label",defaultMessage:"Created by {creator} {timestamp}",values:{creator:(0,h.jsx)("span",{style:{fontWeight:u().Wy.medium,color:n.text.inversePrimary},children:(0,h.jsxs)("span",{style:{display:"flex"},children:[e?void 0:(0,p().w)({actor:f,...I}),(0,o().lR)(j,f)]})}),timestamp:b}});else{if(!b)return;t=(0,h.jsx)(d().sA,{id:"pagePropertiesHeader.created.label",defaultMessage:"Created {timestamp}",values:{timestamp:b}})}return(0,h.jsx)("div",{style:{...A,marginBottom:4},children:t})})(e.compactFormat)]})}},715011:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(296540),i=()=>n(69708),o=()=>n(409268),s=n(474848);function a(e){const t=(0,r.useMemo)((()=>(0,o().s)(e.store)),[e.store]);return(0,s.jsx)(i().sA,{id:"pageWordCount.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:t}})}},819493:(e,t,n)=>{n.d(t,{$:()=>b,b:()=>w});n(898992),n(908872),n(296540);var r=()=>n(59226),i=()=>n(662303),o=()=>n(484714),s=()=>n(56366),a=()=>n(401497),l=()=>n(764880),d=()=>n(869190),c=()=>n(69708),u=()=>n(921855),p=()=>n(972435),m=()=>n(311337),g=()=>n(448291),S=()=>n(706965),h=()=>n(678553),y=()=>n(89924),x=()=>n(859428),f=()=>n(125565),v=()=>n(715011),C=n(474848);function b({isPageMoreButton:e,hideTopBorder:t,store:n,wordCountStores:r,showWordCount:i}){const d=(0,s().K8)((()=>w(n)),[n]),{device:u}=(0,o().v3)(),g=(0,s().K8)((()=>u.isPhone),[u]),b=p().A.getIntl(),I=(0,o().v3)(),j=(0,a().IS)((()=>({menuItem:{paddingTop:g?8:t?0:6,paddingBottom:g?8:16}})),[t,g]);return(0,s().K8)((()=>(0,m().y)(I)),[I])||d&&!d.canAccess?null:(0,C.jsx)(y().A,{topBorder:!e&&!t,style:{paddingTop:e?0:8,paddingBottom:e?0:8},children:(0,C.jsx)(h().Ay,{style:d?void 0:j.menuItem,shouldWrapTitle:!0,title:d?(0,C.jsx)(x().A,{placement:"right",render:e=>(0,C.jsxs)("div",{...e,children:[i?(0,C.jsx)(f().A,{isSmall:!0,isSecondaryColor:!0,isMobile:u.isPhone,isMultiline:!0,style:{marginBottom:4,marginTop:8},children:(0,C.jsx)(c().sA,{id:"pageMoreButton.wordCount.caption",defaultMessage:"Word count: {count}",values:{count:(0,C.jsx)(v().A,{store:n})}})}):void 0,r?(0,C.jsx)(A,{stores:r}):void 0,(0,C.jsx)(f().A,{isSmall:!0,isSecondaryColor:!0,isMobile:u.isPhone,isMultiline:!0,style:{marginBottom:4},children:(0,C.jsx)(c().sA,{id:"blockAuthorInfo.label",defaultMessage:"Last edited by {author}",values:{author:d.lastEditedBy.asActor?(0,l().lR)(b,d.lastEditedBy):void 0}})}),(0,C.jsx)(f().A,{isSmall:!0,isSecondaryColor:!0,isMobile:u.isPhone,style:{marginBottom:i?8:0},children:d.lastEditedTime})]}),renderTooltip:()=>(0,C.jsx)(S().A,{store:n,compactFormat:!0})}):void 0,loading:!d})})}function w(e){const t=e.getCreatedByPointer(),n=e.getCreatedTime(),r=e.getLastEditedByPointer(),o=e.getLastEditedTime(),s=p().A.getIntl();if(!e.canRead())return{canAccess:!1};if(t&&n&&o&&r){const a=(0,g().vt)({parentStore:e,pointer:t}),l=(0,d().jE)(n,i().locale,s),c=(0,g().vt)({parentStore:e,pointer:r}),u=(0,d().jE)(o,i().locale,s);if(!c)return;return{canAccess:!0,createdBy:a,createdTime:l,lastEditedBy:c,lastEditedTime:u}}}function A(e){const{stores:t}=e,n=(0,r().X)("selectable_word_count"),i=(0,s().K8)((()=>n?I(t):0),[n,t]);return n?(0,C.jsx)(f().A,{isSmall:!0,isSecondaryColor:!0,style:{marginBottom:4},children:(0,C.jsx)(c().sA,{id:"blockMetadataMenuItem.wordCount",defaultMessage:"{count, plural, one {# word} other {# words}}",values:{count:i}})}):null}function I(e){return e.reduce(((e,t)=>{const n=(0,u().r4)(t.getTitleValue(),t);return e+(0,u().sQ)(n)+I(t.getContentStores())}),0)}},837622:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(296540),i=()=>n(56366),o=()=>n(401497),s=()=>n(201980),a=()=>n(116008),l=()=>n(921855),d=()=>n(735372),c=n(474848);const u=r.memo((function(e){const{parentStore:t,withComma:u,linkifyUrls:p,disableCommentHighlight:m,disableLinks:g,shouldTruncate:S,clampLines:h,textValue:y}=e,x=(0,n(484714).v3)(),f=(0,o().DP)(),v=(0,n(712030).Ol)();(0,r.useEffect)((()=>{void 0!==y&&x.KatexStore.loadIfNeeded((()=>y))}),[x.KatexStore,y]);const{collectionContextStore:C,property:b}=(0,r.useContext)(n(971003).L8),{collectionViewBlockId:w,collectionViewId:A}=(0,i().K8)((()=>{var e,t;return{collectionViewId:null==C||null===(e=C.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==C||null===(t=C.collectionViewBlockStore())||void 0===t?void 0:t.id}}),[C]),I=(0,i().K8)((()=>x.KatexStore.getKatex()),[x.KatexStore]),j=(0,i().K8)((()=>{const e=d().qu.state,n=d().wb.state;return e&&b&&y?l().nu({textValue:y,blockId:t.id,textProps:{type:"page_property_value_match",collectionViewBlockId:w,collectionViewId:A,propertyId:b},find:e,currentFocusedResult:n}):y}),[b,y,t.id,w,A]),P=(0,i().K8)((()=>{if(a().A.getPropertyId()!==b||a().A.getBlockStore()!==t)return j;const e=a().A.getMultiSelection();return e?s().Mwp({textValue:j,selection:{startIndex:e.start.index,endIndex:e.end.index},annotation:[s().Ifu.TemporaryComment]}):y?s().Mwp({textValue:j,selection:{startIndex:0,endIndex:s().qAZ(y).length},annotation:[s().Ifu.TemporaryComment]}):j}),[t,b,y,j]),T=(0,i().K8)((()=>void 0===P?null:l().S5({environment:x,textValue:P&&{value:P,spaceId:(0,n(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:m??!1,disabled:!0,theme:f,disableLinks:g??!1,emojiType:v,katex:I,formulaValueTypes:[],stopLinkPropagation:!0,linkTargetBlank:!0})),[P,x,t,m,f,g,v,I],{silenceRerenderDefender:!0}),M=(0,r.useMemo)((()=>{if(!p||void 0===y)return null;const e=(0,s().k4p)(y);return(0,n(735577).A)(e)?(0,n(713998).MO)(y):null}),[p,y]),k=(0,o().IS)((e=>({text:{...S&&!h?n(284371).RC:void 0,...S&&h?{...(0,n(115512).pA)(h),overflow:"hidden",textOverflow:"ellipsis"}:{}}})),[S,h]);return(0,c.jsxs)("span",{style:k.text,children:[M?(0,c.jsx)(n(97294).N,{href:M,style:{display:"inline",pointerEvents:"auto",...(0,n(468882).w_)(f)},external:!0,onClick:e=>e.stopPropagation(),children:T}):T,u?", ":null]})}))},918048:(e,t,n)=>{n.r(t),n.d(t,{SecondarySidebar:()=>pe});var r=n(296540),i=()=>n(484714),o=()=>n(56366),s=()=>n(401497),a=()=>n(998531),l=()=>n(72307),d=()=>n(209199),c=()=>n(418133),u=()=>n(145214),p=()=>n(77395),m=()=>n(631611),g=()=>n(753397),S=()=>n(346),h=()=>n(567121),y=()=>n(362749),x=()=>n(644914),f=()=>n(770906),v=(n(898992),n(354520),n(581454),()=>n(381175)),C=()=>n(611648),b=()=>n(150669),w=()=>n(69708),A=()=>n(534177),I=()=>n(899963),j=()=>n(872539),P=()=>n(857783),T=()=>n(778417),M=()=>n(218557),k=()=>n(805751),V=()=>n(419357),B=()=>n(404277),K=()=>n(279047),R=()=>n(2143),D=()=>n(89924),E=()=>n(169816),O=()=>n(660219),L=()=>n(13679),_=()=>n(855801),z=()=>n(722872),U=()=>n(396301),H=()=>n(427767),F=()=>n(645873),N=()=>n(646736),Z=()=>n(581857),W=()=>n(438253),q=()=>n(154060),Q=()=>n(303742),X=()=>n(172339),$=()=>n(26942),G=()=>n(765957),Y=()=>n(337567),J=()=>n(970585),ee=()=>n(714818),te=()=>n(712505),ne=()=>n(502438),re=()=>n(441199),ie=n(474848);const oe=(0,w().YK)({searchPlaceholder:{id:"morePagesSecondarySidebar.search.placeholder",defaultMessage:"Search for a page..."}});function se({type:e}){const t=(0,w().tz)(),n=(0,i().v3)(),a=(0,i().Y0)(),l=(0,o().uB)(void 0,b().A),{sidebarSpaceStore:d,sidebarSpaceViewStore:c,currentUserSettingsStore:u,currentUserRootStore:p}=(0,o().K8)((()=>({sidebarSpaceStore:G().default.state.sidebarSpaceStore,sidebarSpaceViewStore:G().default.state.sidebarSpaceViewStore,currentUserSettingsStore:G().default.state.currentUserSettingsStore,currentUserRootStore:G().default.state.currentUserRootStore})),[]),m=(0,X().g)(),g=(0,o().K8)((()=>{const t=!m||"all"===m.type;if(!c||!u)return[];if("shared"===e&&((0,Q().o)(c)||(0,q().A)()||(0,W().l)())){const e=t?void 0:(null==m?void 0:m.space_pointers)??[];return(0,Z().P)({environment:n,currentUserRootStore:p,spaceIdsToInclude:e,spaceStore:d,spaceViewStore:c,currentUserSettingsStore:u}).allPageStores}return(0,H().a)({environment:n,spaceViewStore:c,userSettingsStore:u,type:e}).state.allPagesStores}),[c,n,d,e,u,m,p]),S=(0,r.useMemo)((()=>({query:"",numPagesShown:E().LS})),[]),[h,y]=r.useState(S),x=(0,o().uB)(void 0,J().A);r.useEffect((()=>{(0,q().A)()&&y((e=>({...e,numPagesShown:E().LS})))}),[null==m?void 0:m.type,n,null==m?void 0:m.space_pointers]);const I=(0,o().K8)((()=>{if(!c)return"manual";return(0,U().RQ)({spaceViewStore:c,type:e,userSettingsStore:u}).sortOption}),[c,e,u]),T=(0,o().K8)((()=>{const e=(0,U().L$)({allPages:g,state:h,intl:t});return"manual"===I?e:(0,U().$e)({pageItems:e})}),[g,h,t,I]),k=(0,r.useMemo)((()=>"manual"===I?T.length>0?[{key:"all",pages:T.map(((e,t)=>({...e,index:t})))}]:[]:(0,U().Lh)(T)),[I,T]),V=(0,s().IS)((()=>({container:{width:"100%",height:"100%",overflow:"hidden"},scroller:{height:"100%"},scrollBorderContainer:{width:a.isPhone?void 0:"calc(100% - 1px)"}})),[a.isPhone]),$=(0,o().K8)((()=>re().default.state.mode),[]),ne=(0,o().K8)((()=>te().default.isCenterPeekOpen()||ee().A.state.open),[]),oe=(0,o().K8)((()=>re().default.isVisible()),[]),se=(0,r.useCallback)((()=>{f().VI({environment:n})}),[n]),de=(0,o().K8)((()=>void 0!==c&&(0,U().XA)({spaceViewStore:c,userSettingsStore:u})),[c,u]),ce=(0,o().K8)((()=>(0,Y().Vk)()),[]),ue=(0,o().K8)((()=>{if(c&&d)return(0,U().rE)({typeWithTeam:{type:"private"},spaceStore:d,spaceViewStore:c})}),[c,d]),pe=(0,r.useCallback)((({draggingStores:t})=>"private"===e&&(!!de&&(!!d&&(0,U().ox)({environment:n,draggingStores:t,parentStore:ue,spaceStore:d})))),[e,de,d,n,ue]),{value:me}=(0,F().fJ)(_().VI.duplicateActions),ge=(0,N().I_)(d),Se=(0,r.useCallback)((async e=>{ue&&await j().RM({dropArgs:e,environment:n,type:"private",isDroppingOnFullSection:!0,parentStore:ue,duplicateActions:me,spaceUserStore:ge})}),[me,n,ue,ge]);return d&&c&&oe?(0,ie.jsx)(L().A,{droppable:!0,disableEditNearestBlock:!0,store:d,disable:ne,disableRectangularSelection:!0,render:({selectableEvents:t})=>(0,ie.jsx)("div",{style:V.container,...t,children:(0,ie.jsxs)(B().A,{menuType:z().gu.Popup,disableScroller:!0,header:(0,ie.jsx)(ae,{state:h,setState:y,menuListStore:x,type:e}),maxHeight:"100%",children:[(0,ie.jsx)("div",{style:V.scrollBorderContainer,children:(0,ie.jsx)(K().A,{scrollerStore:l,type:"top"})}),(0,ie.jsx)(R().H,{store:l,type:C().A.Y,style:V.scroller,children:(0,ie.jsx)(M().Tl,{dropTargetKey:"secondarySidebarPrivateSection",canDropOnto:!0,canDropBelow:!1,canAcceptDrop:pe,onSelectableDrop:Se,shouldShowDropZone:de,children:(0,ie.jsx)(O().A,{sections:k,state:h,setState:y,type:e,spaceStore:d,spaceViewStore:c,visiblePageIds:[],onClose:se,menuListStore:x,renderSections:t=>function(e){const{sections:t,onClose:n,environment:r,mode:i,type:o,assistantCreatedPageIds:s}=e,a=1===t.length;return t.map((({key:e,pages:l},d)=>({key:e,items:l.map((({blockId:e,store:t,index:a})=>{if(!(0,A().O9)(s)||!s.includes(e))return{key:e,action:({event:e})=>{const s=(0,v().V)(e);s||"peek"!==i||n(),P().uK({environment:r,store:t,openInNew:s,pageVisitSource:(0,U().NX)({type:o,from:"secondary_sidebar"})})},render:()=>(0,ie.jsx)(le,{store:t,itemIndex:a,type:o})}})).filter(A().O9),render:n=>(0,ie.jsx)(D().A,{...n,desktopTitleStyle:{paddingInlineStart:16,paddingTop:0===d?0:4},topBorder:!1,title:a?void 0:(0,U().OJ)({section:e,isFirst:!1}),style:{paddingTop:0,marginTop:0,paddingBottom:d===t.length-1?30:0}})})))}({spaceStore:d,environment:n,onClose:se,sections:t,mode:$,type:e,assistantCreatedPageIds:ce})})})})]})})}):null}function ae({state:e,setState:t,menuListStore:n,type:o}){const a=(0,r.useRef)(null),l=(0,i().v3)(),d=(0,w().tz)(),c=(0,s().IS)((e=>({inputOuter:{borderRadius:6,backgroundColor:e.whiteButtonBackground,padding:"4px 8px"},menuItem:{paddingBottom:8}})),[]),u=(0,r.useCallback)((e=>{t({query:e.target.value,numPagesShown:E().LS}),n.setState({...n.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}}),I().I(l,{sidebar_section_type:o,search_query:e.target.value,flow_id:re().default.state.flowId})}),[l,n,t,o]),p=(0,r.useCallback)((()=>{a.current&&T().IU({environment:l,phase:ne().SelectionPhase.Editing})}),[l]);return(0,ie.jsx)(D().A,{style:c.menuItem,children:(0,ie.jsx)(k().A,{debugName:"MorePagesSecondarySidebarContentInput",capture:!0,allowSearch:!0,allowOpenLinkMenu:!0,allowEsc:!0,children:(0,ie.jsx)(V().Ay,{ref:a,focusInitial:!0,onFocus:p,showClearButton:!0,inputOuterStyle:c.inputOuter,itemMarginLeft:0,itemMarginRight:0,placeholder:d.formatMessage(oe.searchPlaceholder),value:e.query,onChange:u})})})}function le(e){const t=(0,i().v3)(),{store:n,itemIndex:a,type:l}=e,{sidebarSpaceViewStore:d,sidebarSpaceStore:c,currentUserSettingsStore:u}=(0,o().K8)((()=>({sidebarSpaceViewStore:G().default.state.sidebarSpaceViewStore,sidebarSpaceStore:G().default.state.sidebarSpaceStore,currentUserSettingsStore:G().default.state.currentUserSettingsStore})),[]),p=(0,o().K8)((()=>{if(d&&c)return(0,U().rE)({typeWithTeam:{type:l},spaceStore:c,spaceViewStore:d})}),[d,c,l]),m=(0,o().K8)((()=>(0,q().A)()),[]),g=(0,o().K8)((()=>{if(!d)return"manual";return(0,U().RQ)({spaceViewStore:d,type:l,userSettingsStore:u}).sortOption}),[d,l,u]),S=(0,s().IS)((()=>({outlinerContainer:{borderRadius:12,paddingInlineStart:4,paddingInlineEnd:4,width:"inherit",marginBottom:1}})),[]),h=(0,r.useCallback)((()=>{(0,U().xy)({environment:t,store:n,type:l})}),[t,n,l]);return(0,ie.jsx)("div",{style:S.outlinerContainer,children:(0,ie.jsx)($().Ay,{from:"secondary_sidebar",parentStore:p,variant:"manual"===g?"primary":"secondary",showSpaceData:m,type:l,disabled:!1,store:n,itemIndex:a,itemDepth:0,onNavigate:h},n.id)})}var de=()=>n(443194),ce=()=>n(941463);const ue={duration:200};function pe(){const e=(0,i().v3)(),t=(0,o().K8)((()=>(0,x().km)(e)),[e]),n=(0,r.useRef)(null),{mode:c,openState:m,contentType:g,isOpen:y,isVisible:v,isTransitioningState:C,isPeekDismissable:b}=(0,o().K8)((()=>{const{mode:e,openState:t,contentType:n}=re().default.state;return{mode:e,openState:t,contentType:n,isOpen:re().default.isOpen(),isVisible:re().default.isVisible(),isTransitioningState:re().default.isTransitioningState(),isPeekDismissable:re().default.isPeekDismissableState()}}),[]),w=(0,r.useId)();(0,r.useEffect)((()=>{setTimeout((()=>{"closing"===m&&re().default.setState({...re().default.state,openState:"closed"}),"opening"===m&&re().default.setState({...re().default.state,openState:"open"})}),ue.duration+100)}),[m]);const A=(0,o().K8)((()=>ce().Ay.getWidth()),[]),I=(0,o().K8)((()=>re().default.state.isResizerHovered&&re().default.isOpen()),[]),j=(0,S().n_)(),P=(0,s().IS)((e=>{const n={transition:"box-shadow 300ms ease",boxShadow:I?e.secondarySidebarResizerBoxShadow:e.secondarySidebarBorderBoxShadow};return{container:{order:l().A.appCursorListener.secondarySidebar,cursor:"default",zIndex:v&&!C?201:105,width:A,height:j?`calc(100% - ${h().ls}px)`:"100%",background:e.background.primary,flexShrink:0,display:"flex",visibility:v?"visible":"hidden",position:"fixed",insetInlineStart:t,..."peek"===c&&{boxShadow:e.secondarySidebarDiffuseShadow,clipPath:(0,d().A1)()?"inset(0px 0px 0px -24px)":"inset(0px -24px 0px 0px)"}},overlayBackground:{cursor:"default",position:"fixed",top:0,insetInlineStart:t,width:`calc(100vw - ${t}px)`,height:"100vh",zIndex:200},resizer:{position:"absolute",top:0,insetInlineEnd:0,zIndex:1,height:"100%",width:2,...n}}}),[I,v,C,A,j,t,c]),T=(0,r.useCallback)((()=>{b&&f().VI({environment:e})}),[e,b]),M=(0,r.useCallback)((()=>{re().default.setState({...re().default.state,isMouseEntered:!0})}),[]),k=(0,r.useCallback)((()=>{re().default.setState({...re().default.state,isMouseEntered:!1})}),[]);return(0,ie.jsxs)(ie.Fragment,{children:[(0,ie.jsx)(a().N,{debugName:"SecondarySidebar",capture:b,onEsc:()=>{f().gO({environment:e})}},String(b)),b?(0,ie.jsx)("div",{style:P.overlayBackground,onClick:T,role:"presentation",tabIndex:-1}):void 0,(0,ie.jsxs)(u().A,{forceCompositeLayer:!0,visible:y,initial:{opacity:.7,translateX:-A},exit:{opacity:.7,translateX:-A},animate:{opacity:1,translateX:0,width:A},skip:!C,config:ue,onAnimationEnd:()=>{"opening"===m?re().default.setState({...re().default.state,openState:"open"}):"closing"===m&&re().default.setState({...re().default.state,openState:"closed"})},style:P.container,onMouseMove:M,onMouseLeave:k,role:"region","aria-labelledby":w,"aria-hidden":!v||void 0,ref:n,children:[(0,ie.jsx)(me,{titleId:w},g),(0,ie.jsx)("div",{style:P.resizer}),(0,ie.jsx)(p().A,{sidebarRef:n,type:"secondary_sidebar"})]})]})}function me(e){const{titleId:t}=e,n=(0,o().K8)((()=>re().default.state.contentType),[]),r=(0,s().IS)((()=>({content:{display:"flex",flexDirection:"column",width:"100%",height:"100vh"}})),[]);switch(n){case"private_pages":return(0,ie.jsxs)("div",{style:r.content,children:[(0,ie.jsx)(de().Q,{type:"private_pages",titleId:t}),(0,ie.jsx)(se,{type:"private"})]});case"shared_pages":return(0,ie.jsxs)("div",{style:r.content,children:[(0,ie.jsx)(de().Q,{type:"shared_pages",titleId:t}),(0,ie.jsx)(se,{type:"shared"})]});case"inbox":return(0,ie.jsx)(g().JN,{titleId:t});case"assistant":return(0,ie.jsx)(m().hP,{surface:m().wy.fullPage,children:(0,ie.jsxs)("div",{style:r.content,children:[(0,ie.jsx)(de().Q,{type:"assistant",titleId:t}),(0,ie.jsx)(c().dX,{})]})});case"teams":return(0,ie.jsxs)("div",{style:r.content,children:[(0,ie.jsx)(de().Q,{type:"teams",titleId:t}),(0,ie.jsx)(y().hO,{})]});case"agents":return(0,ie.jsxs)("div",{style:r.content,children:[(0,ie.jsx)(de().Q,{type:"agents",titleId:t}),(0,ie.jsx)(y().QN,{})]});default:return(0,ie.jsx)(ge,{})}}function ge(){return(0,ie.jsx)("div",{})}},929450:(e,t,n)=>{n.d(t,{Of:()=>a,YB:()=>l,s:()=>d});n(898992),n(908872);var r=()=>n(763884),i=()=>n(946141),o=()=>n(633892),s=()=>n(846955);function a(e){const{environment:t,spaceViewStore:n,teamStore:o,outlinerToggleButtonStore:a,newIsHidden:d,shouldPersistToggleState:c,isExplicitUserAction:u}=e;a.setState({...a.state,isHidden:d}),u&&i().rP(t,"outliner_team_toggle",{store:o,is_toggled:!d,outliner_type:e.teamOutlinerType}),c&&r().K.set({userId:n.environment.currentUser.id,key:l(n.id,o.id),value:d}),d&&s().default.setState({type:"inactive"})}function l(e,t){return`Team_Outliner_Item_${e}:${t}`}function d({oldState:e,teamIds:t,spaceId:n,userId:i}){return t.reduce(((t,s)=>{if(s in t)return t;if(s in e)return t[s]=e[s],t;const a=l(n,s),d=r().K.get({userId:i,key:a});return t[s]=new(o().A),t[s].setState({isHidden:d??!1}),t}),{})}}}]);