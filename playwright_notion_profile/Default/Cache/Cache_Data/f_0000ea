"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56455],{91511:(e,t,o)=>{o.d(t,{w:()=>S});o(898992),o(672577),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(496603),s=()=>o(955930),d=()=>o(439264),l=()=>o(765957),c=()=>o(929450),u=()=>o(846955),m=()=>o(923455),p=()=>o(754527),g=o(474848);function S({teams:e,reorderable:t,onNavigate:o,id:S,teamOutlinerType:h,shouldPersistToggleState:v,from:f}){const b=(0,i().v3)(),y=(0,m().Rx)(),x=(0,r().O$)(l().AppStoreSidebarSpaceViewStore),A=(0,r().K8)((()=>e.map((e=>e.id))),[e]),I=(0,r().K8)((()=>a().pY(e,"id")),[e]),[w,j]=(0,n.useState)({});(0,n.useEffect)((()=>{(null==y?void 0:y.spaceId)&&j((e=>c().s({teamIds:A,oldState:e,spaceId:y.spaceId,userId:y.userId})))}),[null==y?void 0:y.spaceId,null==y?void 0:y.userId,A]);const T=(0,r().K8)((()=>{const e=u().default.state.initialTeamStoreId;return A.find((t=>t===e))??a().$1(A)}),[A]);return y?(0,g.jsx)(d().Ay,{id:S,direction:"vertical",keys:A,disabled:!t||y.isCached,hoverCursorStyleOverride:"pointer",renderKey:e=>w[e]&&(0,g.jsx)(p().Q,{initialToggleState:v?void 0:"hidden",shouldPersistToggleState:Boolean(v),teamStore:I[e],sidebarState:y,isLastTeam:a().HV(A)===e,teamOutlinerType:h,customToggleStore:w[e],onNavigate:o,sidebarTourStep:T===e?"prebuilt_templates":void 0,from:f},e),onDrop:(e,t)=>{x&&s().br({environment:b,currentSpaceViewStore:x,orderedTeamIds:e,userAction:"SidebarOutliner.SidebarOutliner",isExplicitUserAction:!0,dropArgs:t})}}):null}},167334:(e,t,o)=>{o.d(t,{A:()=>d});o(296540);var n=()=>o(484714),i=()=>o(401497),r=()=>o(500066),a=()=>o(187820),s=o(474848);function d(e){const{icon:t,isAlias:o,isEmptyPage:d,iconStyle:l,size:c,iconRecordCategory:u}=e,m=function(){const e=(0,n().v3)();return(0,i().IS)((t=>({wrap:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:e.device.isMobile?28:22,height:e.device.isMobile?24:18,position:"relative"},pageLinkInicator:{position:"absolute",width:"50%",height:"50%",insetInlineEnd:0,bottom:-1,fill:"dark"===t.mode?t.text.primary:"#3E3C38",stroke:"dark"===t.mode?t.background.secondary:"white",strokeWidth:"dark"===t.mode?"1.85px":"1.5px"}})),[e])}();return(0,s.jsxs)("div",{style:m.wrap,children:[(0,s.jsx)(a().B6,{disabled:!0,icon:t,iconRecordCategory:u,isEmptyPage:d,size:c??19,style:l}),o?(0,s.jsx)("div",{children:(0,r().G)(m.pageLinkInicator)}):void 0]})}},175947:(e,t,o)=>{o.d(t,{$C:()=>r,Hi:()=>i,Qy:()=>a,Uu:()=>s,ek:()=>l,jq:()=>c,pz:()=>u});var n=()=>o(418135);const i=52,r=45,a=44,s=44,d=30;function l(e){return e?s:a}function c(e){return 2*l(e)}function u(e,t,o){return(e&&!t?(0,n().n$)(o):12)+d}},201506:(e,t,o)=>{o.d(t,{W:()=>l});var n=o(296540),i=()=>o(819121),r=()=>o(56366),a=()=>o(353643);class s extends(()=>o(757695))().Store{getInitialState(){return{isSidebarItemHovered:!1,isSidebarItemFocused:!1,isActionButtonHovered:!1,isActionButtonFocused:!1,isActionButton2Hovered:!1,isActionButton2Focused:!1}}}var d=()=>o(487941);function l(){const e=(0,r().uB)(void 0,d().A),t=(0,r().uB)(void 0,s),o=(0,n.useCallback)((e=>{const o=e.target;o instanceof HTMLElement&&(0,i().p)(o)&&t.setState({...t.state,isSidebarItemFocused:!0})}),[t]),l=(0,n.useCallback)((()=>{t.setState({...t.state,isSidebarItemFocused:!1})}),[t]),c=(0,n.useCallback)((()=>{a().A.state.isDragging||t.setState({...t.state,isSidebarItemHovered:!0})}),[t]),u=(0,n.useCallback)((()=>{t.setState({...t.state,isSidebarItemHovered:!1})}),[t]);return{sidebarTooltipStore:e,sidebarItemHoverStore:t,handleFocus:o,handleBlur:l,handleMouseMove:c,handleMouseLeave:u}}},205160:(e,t,o)=>{o.d(t,{K:()=>r,v:()=>i});var n=()=>o(69708);const i=(0,n().YK)({addAPageInside:{defaultMessage:"Add a page inside",id:"sidebarItem.addAPageInside.tooltip"}}),r=(0,n().YK)({addPageTooltip:{defaultMessage:"Add a page",id:"sidebar.addButton.addPageTooltip"}})},235773:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,notionTemplateTintableIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"1.58 3 16.83 14",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M6.014 16.338a4.43 4.43 0 0 0 4.43-4.48H8.88c-.254 0-.512 0-.732-.018a2.3 2.3 0 0 1-.86-.226 2.24 2.24 0 0 1-.979-.979 2.3 2.3 0 0 1-.226-.86 10 10 0 0 1-.018-.731V7.48a4.44 4.44 0 0 1 2.297.678 4.431 4.431 0 0 0-6.777 3.751 4.43 4.43 0 0 0 4.43 4.43z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 0 1 .828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.02 1.02 0 0 1-.414-.718c-.035-.329.197-.73.66-1.532z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.38c.57 0 .854 0 1.072.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 0 0-1.52.109c-.46.204-.75.56-.94.83q-.318.472-.595.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1 1 0 0 1-.445-.445c-.11-.218-.11-.503-.11-1.074z",clipRule:"evenodd"})]})},r=(0,o(340498).wt)("notionTemplateTintable",i)},264154:(e,t,o)=>{o.d(t,{l:()=>n});const n=(0,o(340498).xh)("arrowChevronSingleDown",{default:{loader:()=>o.e(95737).then(o.bind(o,803960))},small:{loader:()=>o.e(95737).then(o.bind(o,324254))},fill:{loader:()=>o.e(95737).then(o.bind(o,626466))},fillSmall:{loader:()=>o.e(95737).then(o.bind(o,854705))}},["chevron","down","arrow","direction","downward"])},345578:(e,t,o)=>{o.d(t,{A:()=>d});o(296540);var n=()=>o(252291),i=()=>o(449552),r=()=>o(69708),a=()=>o(859428),s=o(474848);function d(){return(0,s.jsx)(a().A,{textWrap:!0,style:{width:210},placement:"bottom",renderTooltip:()=>(0,s.jsx)(r().sA,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>(0,s.jsx)("div",{...e,style:{alignContent:"center"},children:(0,s.jsx)(n().I,{icon:i().g,size:"sm",colorVariant:"secondary"})})})}},388601:(e,t,o)=>{o.d(t,{W:()=>h,o:()=>S});var n=o(296540),i=()=>o(59226),r=()=>o(484714),a=()=>o(56366),s=()=>o(401497),d=()=>o(396301),l=()=>o(310526),c=()=>o(765957),u=()=>o(620149),m=()=>o(994269),p=()=>o(26942),g=o(474848);function S(e){const{state:t,sidebarState:o,onNavigate:S,additionalOutlinerProps:h,id:v,isHeaderless:f,from:b,explicitChildStores:y}=e,x=(0,a().O$)(c().AppStoreSidebarSpaceStore),A=(0,a().O$)(c().AppStoreSidebarSpaceViewStore),I=(0,r().v3)(),{isMobile:w,isTablet:j}=(0,r().Y0)(),T=(0,a().K8)((()=>!u().l.state),[]),C=(0,a().K8)((()=>(null==x?void 0:x.canEdit())&&T),[x,T]),L=(0,a().K8)((()=>(0,l().U)(A)),[A]),M=t,B="shared"===M.type&&(null==o?void 0:o.showCrossWorkspaceGuestPagesPrototype),k=(0,i().X)("team_feed_as_any_other_db"),P=(0,a().K8)((()=>y||(o?(0,d().o_)({typeWithTeam:M,sidebarState:o,teamFeedAsAnyOtherDBEnabled:k}):void 0)),[y,o,M,k]),H=(0,a().K8)((()=>{if(A&&x&&!B)return(0,d().rE)({spaceStore:x,spaceViewStore:A,typeWithTeam:M})}),[x,A,B,M]),_=(0,n.useCallback)((e=>{(0,d().xy)({environment:I,store:e,type:M.type}),null==S||S()}),[I,S,M]),K=(0,s().IS)((()=>({outliner:{display:"block"},outlinerItem:{paddingTop:5,paddingBottom:j?3.5:5,paddingInlineStart:"team"===M.type?16:8,...w&&"team"===M.type?{paddingInlineStart:p().ph+p().RD}:void 0}})),[w,M.type,j]);return P?(0,g.jsx)(m().A,{from:b,type:M.type,disabled:!C&&!L,itemDepth:0,childStores:P,parentStore:H,style:K.outliner,itemStyle:K.outlinerItem,onNavigate:_,id:v,"aria-labelledby":e["aria-labelledby"],isHeaderless:f,...h}):null}const h=n.memo((e=>{const{type:t,sidebarState:o,contentsAriaId:i,labelAriaId:r,isHeaderless:a,explicitChildStores:s}=e,d=(0,n.useMemo)((()=>({type:t})),[t]);return(0,g.jsx)(S,{state:d,sidebarState:o,id:i,"aria-labelledby":r,isHeaderless:a,from:"main_sidebar",explicitChildStores:s})}));h.displayName="MemoizedTopLevelSidebarOutliner"},418135:(e,t,o)=>{o.d(t,{n$:()=>s,rx:()=>a,yA:()=>d});var n=()=>o(496603);const i=.5,r=4.9,a=1;function s(e){switch(n().qE(n().LI(e,1),i,r)){case i:return 155;case.6:return 128;case.7:return 108;case.8:return 94;case.9:return 83;default:return 75}}function d(e){const t=n().qE(n().LI(e,1),i,r);switch(t){case i:return 273;case.6:return 228;case.7:return 195;case.8:return 171;case.9:return 151;case 1:return 136;case 1.1:return 123;case 1.2:return 113;case 1.3:return 105;case 1.4:return 97;case 1.5:return 91;case 1.6:return 85;default:return Math.max(85-Math.floor(10*(t-1.6)*5),0)}}},426388:(e,t,o)=>{o.d(t,{S:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("notionLogo",{viewBox:"0 0 120 126",svg:(0,n.jsx)("path",{d:"M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"})})},551171:(e,t,o)=>{o.d(t,{C:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 15.25 11.75",svg:(0,o(474848).jsx)("path",{d:"M9.375 4.125H4.5A2.125 2.125 0 0 0 2.375 6.25v1.375h7zm-7 7v-2.25h7v2.25zm0 1.25v1.375c0 1.174.951 2.125 2.125 2.125h4.875v-3.5zm8.25 0v3.5H15.5a2.125 2.125 0 0 0 2.125-2.125v-1.375zm7-1.25v-2.25h-7v2.25zm0-4.875v1.375h-7v-3.5H15.5c1.174 0 2.125.951 2.125 2.125"})},i=(0,o(340498).wt)("viewTableFill",n)},619403:(e,t,o)=>{o.d(t,{w:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.95 2.375h-3.7A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.3H12a2.05 2.05 0 0 1-2.05-2.05zM13.3 14.25a.55.55 0 0 1-.55.55h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 .55.55m-.55-1.95h-5.5a.55.55 0 1 1 0-1.1h5.5a.55.55 0 0 1 0 1.1"}),(0,n.jsx)("path",{d:"M15.665 7.2a2.1 2.1 0 0 0-.412-.581L11.63 2.997c-.17-.17-.367-.31-.581-.412V6.25c0 .525.425.95.95.95z"})]})},r=(0,o(340498).wt)("pageFill",i)},640945:(e,t,o)=>{o.d(t,{X:()=>y});o(898992),o(354520),o(672577),o(803949),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(187174),s=()=>o(921997),d=()=>o(519831),l=()=>o(763824),c=()=>o(559506),u=()=>o(435761),m=()=>o(249847),p=()=>o(941541),g=()=>o(765957),S=()=>o(543665),h=()=>o(578136);const v=new(o(299919).Y)((e=>new f(e)));class f extends(()=>o(757695))().Store{constructor(e){super(),this.collectionStore=void 0,this.debouncedRefresh=void 0,this.collectionStore=e,this.debouncedRefresh=(0,o(496603).sg)(this.unthrottledRefresh.bind(this),2e3)}getInitialState(){return{createdTime:-1/0,createdById:void 0}}getLatestPostCreatedTime(){return this.state.createdTime}getLatestPostCreatedById(){return this.state.createdById}async refresh(e){return this.debouncedRefresh(e)}async unthrottledRefresh(e){const{environment:t}=e;if(!t.currentUser.id)return;if(await this.collectionStore.load(),!this.collectionStore.isDefined())return;const o=5e3*Math.random();await new Promise((e=>setTimeout(e,o)));const n=await c().callApi({eventName:"getLatestPostCreated",environment:t,data:{spaceId:this.collectionStore.getSpaceId(),collectionIds:[this.collectionStore.id]}});if("success"===n.type&&n.data){const e=n.data[0];this.setState(e)}}}function b(e){const t=(0,i().v3)(),o=(0,r().K8)((()=>{var t;return null==e||null===(t=e[0])||void 0===t?void 0:t.getSpaceId()}),[e]),d=(0,n.useMemo)((()=>e.filter((e=>!v.has(e)))),[e]);(0,a().Yb)((async()=>{await async function(e){const{environment:t,collectionStores:o}=e,n=await l().dS(o,10,(async e=>(await e.load(),e.isDefined())));if(0===n.length)return;const i=n[0].getSpaceId(),r=await c().callApi({eventName:"getLatestPostCreated",environment:t,data:{spaceId:i,collectionIds:n.map((e=>e.id))}});if("success"===r.type&&r.data)for(let a=0;a<n.length;a++){const e=n[a],t=r.data[a];t.collectionId===e.id&&v.get(e).setState(t)}}({environment:t,collectionStores:d})}),[d,t]);const u=(0,n.useMemo)((()=>e.map((e=>v.get(e)),[])),[e]);return(0,n.useEffect)((()=>{if(!o)return;const e=u.map((e=>p().Ay.addListener((0,s().eG)(e.collectionStore.id),void 0,(0,p().AY)((async()=>await e.refresh({environment:t}))),void 0,t)));return()=>{e.forEach((e=>{e&&p().Ay.removeListener(e,t)}))}}),[u,o,t]),u}function y(){const e=(0,i().v3)(),t=(0,r().K8)((()=>(0,h().D)({isMobileNative:e.device.isMobileNative,disableExposureLogging:!0})),[e]),o=(0,m().T)(),n=(0,r().O$)(g().AppStoreSidebarSpaceStore),{teams:a}=(0,u().ww)({userId:o,spaceStore:n}),s=(0,u().gc)({spaceStore:n,teams:a}),l=b((0,r().K8)((()=>{if(!t)return[];if(!o||!n)return[];return s.map((({store:e})=>e)).map((e=>S().m.createChildStore(e,{table:d().Vl,id:e.id,spaceId:n.id})))}),[t,o,n,s]));return(0,r().K8)((()=>{var e;if(!g().default.state.sidebarSpaceStore)return!1;const t=(null===(e=g().default.state.sidebarSpaceViewStore)||void 0===e?void 0:e.getKeyStore("settings").getKeyStore("last_opened_aggregated_feed").getValue())??0;return l.find((e=>!!e.getLatestPostCreatedById()&&(!(e.getLatestPostCreatedTime()<=t)&&e.getLatestPostCreatedById()!==o)))}),[l,o])}},694874:(e,t,o)=>{o.d(t,{F$:()=>f,Oh:()=>b,Qs:()=>v,Wy:()=>p,aX:()=>S,it:()=>h,tL:()=>g});o(898992),o(354520),o(430670);var n=()=>o(994310),i=()=>o(534177),r=()=>o(384944),a=()=>o(231297),s=()=>o(755199),d=()=>o(638146),l=()=>o(765957),c=()=>o(846955),u=()=>o(696746),m=()=>o(705059);function p(e){const{currentUserSettingsStore:t}=l().default.state;t&&a().createAndCommit({userAction:"SidebarPersonalHomeButton.markAsSeen",environment:e,canUndo:!0,perform:e=>{s().mJ({userSettingsStore:t,transaction:e,data:{seen_personal_home:!0}})}})}function g(e){const{currentUserSettingsStore:t}=l().default.state;t&&(c().default.setState({type:"inactive"}),a().createAndCommit({userAction:"SidebarPersonalHomeButton.markHomeTooltipAsSeen",environment:e,canUndo:!0,perform:e=>{s().mJ({userSettingsStore:t,transaction:e,data:{personal_home_delayed_tooltip_dismissed_at:Date.now()}})}}))}function S(e){const{environment:t,newSeenWelcomeHomeValue:o}=e,n=l().default.state.sidebarSpaceViewStore;n&&a().createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:t,canUndo:!0,perform:e=>{const t=n.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");r().KY({store:t,transaction:e,value:o})}})}function h(e){const{environment:t,tipType:o,completed:n}=e,{currentUserSettingsStore:i}=l().default.state;if(!i)return;const r=i.getPersonalHomeTipsSettings(),d={...r,progress_data:{...r.progress_data,[o]:{completed:n}}};a().createAndCommit({userAction:"LearnHomePanel.updateProgress",environment:t,canUndo:!0,perform:e=>{s().mJ({userSettingsStore:i,transaction:e,data:{personal_home_tips_settings:d}})}})}function v(e){const{environment:t,hide:o}=e,{currentUserSettingsStore:n}=l().default.state;if(!n)return;const i={...n.getPersonalHomeTipsSettings(),hide_completed:o};a().createAndCommit({userAction:"LearnHomePanel.hideCompleted",environment:t,canUndo:!0,perform:e=>{s().mJ({userSettingsStore:n,transaction:e,data:{personal_home_tips_settings:i}})}})}function f(e){const{currentUserSettingsStore:t}=l().default.state;t&&a().createAndCommit({environment:e,userAction:"personalHomeActions.markPersonalHomeSidebarItemClicked",canUndo:!0,cellTarget:"main",perform:e=>{s().mJ({userSettingsStore:t,transaction:e,data:{personal_home_sidebar_item_clicked_at:Date.now()}})}})}function b(e){const{blockId:t,enabledFeatures:o,userId:r}=e,a=(0,i().WP)(o).flatMap((([e,t])=>{if(!t)return[];switch(e){case"tasks":return[(0,u().NY)("myTasksAssignedToMeCollectionView")];case"customDb":const t=(0,u().NY)("customDb");return[t&&(0,d().cf)({userId:r,viewBlockId:t})];case"similarUsersAndTrending":return[(0,u().NY)("similarUsersCollectionView"),(0,u().NY)("trendingCollectionView")];case"unifiedFeed":return[(0,u().NY)("postsCollectionView")];case"recents":case"templates":case"tips":case"calendar":case"aiBannerModule":case"suggested":case"trending":case"shortcuts":return[];default:(0,i().HB)(e)}})).filter(i().O9),{isHomeKey:s,homeCollectionViewIdsKey:l,unifiedFeedEnabledKey:c}=(0,m().h)(t);n().A.set(s,!0),n().A.set(l,a),n().A.set(c,o.unifiedFeed)}},754527:(e,t,o)=>{o.d(t,{Q:()=>y});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(581454);var n=o(296540),i=()=>o(59226),r=()=>o(726637),a=()=>o(484714),s=()=>o(790748),d=()=>o(56366),l=()=>o(854150),c=()=>o(69708),u=()=>o(629875),m=()=>o(867920),p=()=>o(885987),g=()=>o(765957),S=()=>o(633892),h=()=>o(998109),v=()=>o(768148),f=()=>o(962877),b=o(474848);function y({teamStore:e,sidebarState:t,isLastTeam:o,initialToggleState:n,shouldPersistToggleState:y,customToggleStore:A,teamOutlinerType:I,onNavigate:w,sidebarTourStep:j,from:T}){const{currentSpaceStore:C,currentSpaceViewStore:L}=(0,d().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t}=g().default.state;return{currentSpaceStore:e,currentSpaceViewStore:t}}),[]),M=(0,d().uB)(void 0,S().A),B=A??M;(0,s().b)(p().u,(()=>({teamId:e.id,setIsOpen:e=>B.update((t=>({...t,isHidden:!e})))})),[e,B]);const k=(0,i().X)("team_feed_as_any_other_db"),P=(0,d().K8)((()=>e.getTeamPagesStores(k)),[e,k]),H=(0,a().v3)(),_=(0,d().K8)((()=>{const t=g().default.state.mainEditorCurrentBlockStore,o=(null==t?void 0:t.getParentTable())===l().yK&&(null==t?void 0:t.getParentId())===e.id;return!r().A.isMobile&&o&&B.state.isHidden}),[e.id,B]),K=(0,d().K8)((()=>_||(0,m().G)({teamStore:e,environment:H})),[H,_,e]);return(0,b.jsx)(u().Ay,{type:"team",from:"main_sidebar",outlinerToggleButtonStore:B,forceHoveredButtonStyle:_,initialToggleState:n,shouldPersistToggleState:y,teamHeaderLabel:(0,b.jsx)(v().j,{teamStore:e,withSelectedStyle:K}),teamStore:e,spaceStore:C,spaceViewStore:L,showAddButton:!1,isLastTeam:o,teamOutlinerType:I,labelTooltip:(0,b.jsx)(c().sA,{defaultMessage:"One of your teams",id:"sidebar.teamSection.tooltip"}),marginBottomOverrideWhenExpanded:r().A.isMobile?0:16,marginBottomOverrideWhenCollapsed:r().A.isMobile?0:1,renderSidebar:({labelAriaId:o,contentsAriaId:n})=>{if(!e)return;const i=new Set(P.map((e=>e.id))),r=(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x,{teamSectionType:I,sidebarState:t,teamStore:e,onNavigate:w,labelAriaId:o,contentsAriaId:n,from:T}),(0,b.jsx)(f().c,{numTeamPages:i.size,teamStore:e,currentSpaceStore:C})]});return j?(0,b.jsx)(h().n,{step:j,children:r}):r}})}const x=n.memo((function(e){const{teamSectionType:t,teamStore:i,sidebarState:r,contentsAriaId:a,onNavigate:s,labelAriaId:d,from:l}=e,c=(0,n.useMemo)((()=>({type:"team",teamSectionType:t,teamStore:i})),[t,i]),u=(0,n.useMemo)((()=>({id:a,"aria-labelledby":d})),[a,d]);return(0,b.jsx)(o(388601).o,{state:c,sidebarState:r,onNavigate:s,additionalOutlinerProps:u,from:l})}))},768148:(e,t,o)=>{o.d(t,{j:()=>u});o(296540);var n=()=>o(726637),i=()=>o(56366),r=()=>o(401497),a=()=>o(493552),s=()=>o(284371),d=()=>o(37433),l=()=>o(345578),c=o(474848);function u({teamStore:e,withSelectedStyle:t,style:o,shouldUseStyledText:u}){const m=(0,i().K8)((()=>{var t;return{teamName:e.getName()??"",shouldShowLock:(0,d().tM)(null==e||null===(t=e.getSettingsStore())||void 0===t?void 0:t.getValue())}}),[e]),p=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden",gap:6},labelText:{...s().RC,color:t?e.text.primary:e.darkTextColor,fontWeight:s().Wy.medium,fontSize:n().A.isMobile?s().J.UIRegular.mobile:s().J.UIRegular.desktop,...o}})),[t,o]);return m?(0,c.jsxs)("div",{style:p.container,children:[u?(0,c.jsx)(a().D,{styleKey:"Body/Regular",colorVariant:"primary",children:m.teamName}):(0,c.jsx)("div",{style:p.labelText,children:m.teamName}),m.shouldShowLock?(0,c.jsx)(l().A,{}):void 0]}):null}},778040:(e,t,o)=>{o.d(t,{K:()=>r});var n=()=>o(645873);const i={AgentsSectionOutliner:new(n().O2)("AgentsSectionOutliner",(()=>Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(87249),o.e(71621),o.e(88924),o.e(92845),o.e(56369),o.e(5834),o.e(48486),o.e(2411),o.e(89296),o.e(46414),o.e(9294),o.e(11676),o.e(91256),o.e(40563),o.e(67494),o.e(44584),o.e(53141),o.e(26401),o.e(99430)]).then(o.bind(o,361519))))},r=(0,n()._h)(i.AgentsSectionOutliner,(e=>e.AgentsSectionOutliner))},829548:(e,t,o)=>{o.d(t,{y:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"1.87 3.62 16.25 12.75",svg:(0,o(474848).jsx)("path",{d:"M6.303 3.625c-.71 0-1.374.355-1.768.946L2.232 8.025c-.233.35-.357.76-.357 1.18v5.045c0 1.174.951 2.125 2.125 2.125h12a2.125 2.125 0 0 0 2.125-2.125V9.204c0-.42-.124-.83-.357-1.179l-2.303-3.454a2.13 2.13 0 0 0-1.768-.946zm-.728 1.64a.88.88 0 0 1 .728-.39h7.394c.293 0 .566.146.728.39l2.303 3.454a1 1 0 0 1 .083.156h-4.702a.625.625 0 0 0-.625.625v.476a1.484 1.484 0 0 1-2.968 0V9.5a.625.625 0 0 0-.625-.625H3.189a1 1 0 0 1 .083-.156zm-2.45 4.86H7.27a2.734 2.734 0 0 0 5.46 0h4.145v4.125a.875.875 0 0 1-.875.875H4a.875.875 0 0 1-.875-.875z"})},i=(0,o(340498).wt)("inbox",n)},837822:(e,t,o)=>{o.d(t,{ke:()=>j,xw:()=>T,Ay:()=>M,Oc:()=>C,aQ:()=>L});var n=o(296540),i=()=>o(56366),r=()=>o(401497),a=()=>o(252291),s=()=>o(133043),d=()=>o(69708),l=()=>o(35392),c=()=>o(296798),u=()=>o(859428),m=()=>o(490044),p=()=>o(694874),g=()=>o(696746),S=()=>o(765957),h=()=>o(551694),v=()=>o(846955),f=()=>o(644914),b=()=>o(645873);const y={LazyAiLandingPageExperimentSwitcher:new(b().O2)("LazyAiLandingPageExperimentSwitcher",(()=>o.e(66169).then(o.bind(o,981440))))},x=(0,b()._h)(y.LazyAiLandingPageExperimentSwitcher,(e=>e.AiLandingPageExperimentSwitcher));var A=o(474848);const I=(0,d().YK)({experimentSwitcherTooltip:{id:"aiLandingPageExperimentSwitcherTooltip",defaultMessage:"[dev only] experience switcher"},chatHistoryTooltip:{id:"aiSidebarItem.askNotionAi.history.tooltip",defaultMessage:"Chat history"}});function w(e){const{styles:t}=e,h=(0,o(484714).v3)(),b=(0,i().K8)((()=>{const{sidebarSpaceViewStore:e}=S().default.state;if(e)return g().x$(e)}),[]),y=(0,i().K8)((()=>{const e=S().default.state.mainEditorCurrentBlockStore;return!!e&&g().Nh(e.id)}),[]),w=(0,i().K8)((()=>"home_available"===v().default.getState().type),[]),j=(0,i().K8)((()=>{const e=null==b?void 0:b.getModel();return e&&b&&(0,o(488715).Q)({model:e,getRecordModel:b.getRecordModel,pageVisitSource:o(584262).y8.SidebarHome})}),[b]),M=(0,o(640945).X)(),B=(0,o(59226).X)("feed_sidebar_item"),{sidebarTooltipStore:k,sidebarItemHoverStore:P,handleFocus:H,handleBlur:_,handleMouseMove:K,handleMouseLeave:V}=(0,o(201506).W)(),O=(0,n.useCallback)((()=>{(0,p().Wy)(h),(0,p().F$)(h),(0,o(162674).ZL)({environment:h,from:"sidebar"}),w&&(0,p().tL)(h),o(441199).default.isVisible()&&(0,o(770906).VI)({environment:h})}),[h,w]),z=(0,f().ab)(),R=(0,r().IS)((e=>({tooltip:{width:200},shortcutLabel:{color:e.text.inverseSecondary},linkBoxStyle:{...z.baseSidebarItem,...y&&z.currentSelectedSidebarItem}})),[y,z]),F=(0,i().O$)(P),N=(0,i().K8)((()=>C()),[]),E=(0,n.useCallback)((()=>{const{isActionButtonFocused:e,isActionButtonHovered:t,isActionButton2Focused:o,isActionButton2Hovered:n}=F;return t?(0,A.jsx)(d().sA,{...I.chatHistoryTooltip}):n?(0,A.jsx)(d().sA,{...I.experimentSwitcherTooltip}):e?(0,A.jsx)(d().sA,{...I.chatHistoryTooltip}):o?(0,A.jsx)(d().sA,{...I.experimentSwitcherTooltip}):(0,A.jsxs)("div",{style:R.tooltip,children:[(0,A.jsx)("div",{children:(0,A.jsx)(d().sA,{...N})}),(0,A.jsx)(l().A,{style:R.shortcutLabel,name:"openHome"})]})}),[F,R.shortcutLabel,R.tooltip,N]);return(0,A.jsx)(u().A,{store:k,renderTooltip:E,disableTooltip:w,originGap:6,textWrap:!0,placement:"right",render:e=>(0,A.jsx)(c().A,{...e,style:R.linkBoxStyle,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,href:j,onClick:O,onFocus:t=>{var o;null===(o=e.onFocus)||void 0===o||o.call(e,t),H(t)},onBlur:t=>{var o;null===(o=e.onBlur)||void 0===o||o.call(e,t),_()},"aria-current":y?"page":void 0,children:(0,A.jsx)(m().A,{left:(0,A.jsx)(a().I,{icon:s().P,colorVariant:"secondary",size:"lg"}),disableMobileBorder:!0,right:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginInlineEnd:-4,justifyContent:"center",gap:3},children:[(0,A.jsx)(x,{sidebarItemHoverStore:P,sidebarTooltipStore:k}),Boolean(M)&&!B?(0,A.jsx)(T,{}):void 0]}),onMouseMove:K,onMouseLeave:V,children:(0,A.jsx)(d().sA,{...L.label})})})})}function j(e){const{styles:t}=e,o=(0,i().K8)((()=>"home_available"===v().default.getState().type),[]),n=(0,f().ab)(),p=(0,r().IS)((e=>({tooltip:{width:200},shortcutLabel:{color:e.text.inverseSecondary}})),[]);return(0,A.jsx)(u().A,{renderTooltip:()=>(0,A.jsxs)("div",{style:p.tooltip,children:[(0,A.jsx)("div",{children:(0,A.jsx)(d().sA,{id:"sidebarPersonalHomeButton.tooltip",defaultMessage:"Notion AI, recent pages, and more"})}),(0,A.jsx)(l().A,{style:p.shortcutLabel,name:"openHome"})]}),disableTooltip:o,originGap:6,textWrap:!0,placement:"right",render:e=>(0,A.jsx)(c().A,{...e,style:n.baseSidebarItem,hoveredStyle:null==t?void 0:t.buttonHoveredStyle,onClick:()=>{h().A.open()},children:(0,A.jsx)(m().A,{left:(0,A.jsx)(a().I,{icon:s().P,colorVariant:"secondary",size:"lg"}),disableMobileBorder:!0,children:(0,A.jsx)(d().sA,{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"})})})})}function T(){const e=(0,r().IS)((e=>({wrapper:{display:"flex",justifyContent:"center",alignItems:"center",width:24,height:24},unreadBadge:{backgroundColor:e.red.icon.accentPrimary,width:8,height:8,borderRadius:5,transform:"scale(0)",position:"relative"},pulseRing:{position:"absolute",width:8,height:8,borderRadius:"50%",transform:"scale(0)",background:e.red.icon.accentPrimary}})),[]),t=n.useRef(null),o=n.useRef(null);return n.useEffect((()=>{const e=t.current,n=o.current;if(!e||!n)return;const i=n.animate([{transform:"scale(0)"},{transform:"scale(1)"}],{duration:300,easing:"ease-out",fill:"forwards",delay:500}),r=e.animate([{transform:"scale(1)",opacity:.5},{transform:"scale(2.5)",opacity:0}],{duration:2e3,easing:"ease-out",delay:800});return()=>{r.cancel(),i.cancel()}}),[]),(0,A.jsx)("div",{style:e.wrapper,children:(0,A.jsx)("div",{ref:o,style:e.unreadBadge,children:(0,A.jsx)("div",{ref:t,style:e.pulseRing})})})}function C(){return L.tooltipNoAi}const L=(0,d().YK)({tooltipNoAi:{id:"sidebarPersonalHomeButton.tooltipNoAi",defaultMessage:"Recent pages, upcoming events, and more"},label:{id:"sidebarPersonalHomeButton.label",defaultMessage:"Home"}}),M=n.memo(w)},859384:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,n.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},r=(0,o(340498).wt)("compose",i)},885987:(e,t,o)=>{o.d(t,{u:()=>i});o(944114),o(898992),o(803949);class n extends(()=>o(965828))().O{findTeamOutlinerItemsFromId(e){const t=[];return this.forEach((o=>{o.teamId===e&&t.push(o)})),t}}const i=new n},907893:(e,t,o)=>{o.d(t,{Ay:()=>_,Kd:()=>R});o(18107),o(967357),o(898992),o(354520),o(581454);var n=o(296540),i=()=>o(726637),r=()=>o(484714),a=()=>o(56366),s=()=>o(401497),d=()=>o(718827),l=()=>o(252291),c=()=>o(126617),u=()=>o(863330),m=()=>o(869558),p=()=>o(69708),g=()=>o(901265),S=()=>o(872539),h=()=>o(778417),v=()=>o(760217),f=()=>o(406699),b=()=>o(404277),y=()=>o(939740),x=()=>o(45552),A=()=>o(16006),I=()=>o(89924),w=()=>o(859428),j=()=>o(167334),T=()=>o(722872),C=()=>o(553965),L=()=>o(422366),M=()=>o(115512),B=()=>o(913530),k=()=>o(205160),P=o(474848);function H(e){const{store:t,from:n,type:r,canEditItem:d,itemDepth:l,isHovered:c,isFocused:u,onToggle:m}=e,p=i().A.isMobile||c||u,g=(0,a().K8)((()=>{var e;const n=(0,o(242028).s)(t),i=t.isPlaceholderWorkflowTemplateBlock(),r=null===(e=t.getCollectionStoreIfSingleSource())||void 0===e?void 0:e.isSyncedCollection();return Boolean(t.getType()&&d&&!n&&!i&&!r)}),[t,d]),S=function(e){const{showRightIcons:t}=e;return(0,s().IS)((()=>({iconContainer:{display:"flex",paddingInlineStart:3,...t?{}:{...M().Qg,display:"block"}}})),[t])}({showRightIcons:p});return r===o(946065).yy?null:(0,P.jsxs)("div",{style:S.iconContainer,children:[(0,P.jsx)(z,{store:t,from:n,type:e.type,itemIndex:e.itemIndex,itemDepth:l}),g?(0,P.jsx)(K,{store:t,onToggle:m,isTopLevelItem:0===l,from:n,type:r}):void 0]})}const _=n.memo(H);function K(e){const{store:t,onToggle:o,isTopLevelItem:n,from:s,type:d}=e,l=(0,r().v3)(),c=(0,p().tz)(),u=(0,a().K8)((()=>t.isCollectionView()),[t]),g=(0,a().K8)((()=>t.getOwnedAndLinkedCollectionStores()),[t]),h=(0,a().K8)((()=>{var e;const o=null===(e=t.getCollectionViewStores().at(0))||void 0===e?void 0:e.id;if(!o)return;const n=B().p.createChildStore(t,{table:m().Gy,id:o});return null==n?void 0:n.getFormatStore().getValue()}),[t]),v=c.formatMessage(k().v.addAPageInside);return u&&!h&&0===g.length?(0,P.jsx)(V,{disabled:!0}):g.length<=1?(0,P.jsx)(w().A,{renderTooltip:()=>v,placement:"bottom",render:e=>{const i={...e,onClick:e=>{var i;const r=(null===(i=g[0])||void 0===i?void 0:i.getParentBlockStore())??t;S().ru({store:r,shouldNavigateToSource:!1,environment:l,analytics:{from:s,type:d},toggleOptions:{onToggle:o,isTopLevelItem:n}})}};return(0,P.jsx)(V,{events:i})}}):(0,P.jsx)(w().A,{renderTooltip:()=>v,placement:"bottom",render:e=>(0,P.jsx)(f().A,{popupType:i().A.isMobile?f().z.BottomSheet:f().z.Popup,renderOrigin:t=>(0,P.jsx)(V,{events:(0,C().A)(e,t)}),render:e=>(0,P.jsx)(O,{blockStore:t,parent:e,from:s,type:d})})})}function V(e){const t=R(),o=(0,p().tz)();return(0,P.jsx)(d().Ay,{ariaLabel:o.formatMessage(k().v.addAPageInside),style:t.button,disabled:e.disabled,disabledFeedback:e.disabled,...e.events,children:(0,P.jsx)(l().I,{icon:u().plusSmallIcon,size:"sm",colorVariant:i().A.isMobile?"tertiary":"secondary"})})}function O(e){const{blockStore:t,parent:o,from:n,type:d}=e,l=(0,r().v3)(),c=(0,a().K8)((()=>t.getOwnedAndLinkedCollectionStores().filter((e=>!e.isSyncedCollection()))),[t]),u=(0,s().IS)((()=>({menuItem:{display:"flex",alignItems:"center",whiteSpace:"pre"}})),[]),m={menuType:i().A.isMobile?T().gu.Modal:T().gu.Popup,right:i().A.isMobile?(0,P.jsx)(x().DoneMenuText,{}):void 0},g={key:"collections",render:e=>(0,P.jsx)(I().A,{...e,title:(0,P.jsx)(p().sA,{defaultMessage:"Add to",id:"sidebarItem.addAPageInside.popup.addTo"})}),items:c.map((e=>({key:e.id,render:o=>{var n;return(0,P.jsx)(v().A,{...o,title:(0,P.jsx)("div",{style:u.menuItem,children:(0,P.jsx)(A().A,{store:e})}),icon:(0,P.jsx)(j().A,{icon:e.getIcon(),size:14,isEmptyPage:!1,isAlias:(null===(n=e.getParentBlockStore())||void 0===n?void 0:n.id)!==t.id,iconRecordCategory:"collection"})})},action:t=>{S().ru({store:e,environment:l,shouldNavigateToSource:!0,analytics:{from:n,type:d}})}})))};return(0,P.jsx)(b().A,{...m,children:(0,P.jsx)(y().Ay,{type:y().Oh.Vertical,onAccept:o.close,initialFocus:void 0,sections:[g]})})}function z(e){const{store:t,from:o,type:n,itemDepth:a,itemIndex:s}=e,u=(0,p().tz)(),m=(0,r().v3)(),S=R(),v=e=>{const i=(0,L().U)(t);h().Lt({environment:m,store:t}),g().it({environment:m,stores:[t],left:e.clientX,top:e.clientY,showInput:!1,actionSectionGroupKey:"sidebar_outliner",analyticsFrom:"sidebar_more_menu",optionalAnalyticsProperties:{teamStore:i,type:0===a?"top_level":"nested",outliner_type:n,outliner_position:s,outliner_depth:a,outliner_location:"main_sidebar"===o?"sidebar":"pane"}})},f="bookmarks"===n?u.formatMessage({defaultMessage:"Remove, rename, and more…",id:"sidebarItem.favoritedPageMenuButton.tooltip"}):u.formatMessage({defaultMessage:"Delete, duplicate, and more…",id:"sidebarItem.pageMenuButton.tooltip"});return(0,P.jsx)(w().A,{renderTooltip:()=>f,placement:"bottom",render:e=>(0,P.jsx)(d().Ay,{ariaLabel:f,style:S.button,onClick:v,...e,children:(0,P.jsx)(l().I,{icon:c().ellipsisSmallIcon,size:"sm",colorVariant:i().A.isMobile?"tertiary":"secondary"})})})}function R(){return(0,s().IS)((e=>({button:i().A.isMobile?{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:4,marginInlineStart:0}:{display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20,borderRadius:4,marginInlineStart:4}})),[])}}}]);