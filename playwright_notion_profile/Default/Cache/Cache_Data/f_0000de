"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[58636],{65402:(e,t,o)=>{o.d(t,{D:()=>i});const i=(0,o(69708).YK)({inputPlaceholder:{defaultMessage:"Filter by…",id:"database.viewSettings.createFilterTab.inputPlaceholder"},propertyInputPlaceholder:{defaultMessage:"Search for a property…",id:"database.viewSettings.mobileSheet.propertyInputPlaceholder"},sortTitle:{defaultMessage:"Sort",id:"database.viewSettings.mainTab.sortButton.title"},advancedFilterTitle:{defaultMessage:"Advanced filter",id:"database.viewSettings.createFilterTab.advancedFilterTitle"},addAdvancedFilterTitle:{defaultMessage:"Add advanced filter",id:"database.viewSettings.createFilterTab.addAdvancedFilter.title"},advancedFilterRulesCount:{defaultMessage:"{ruleCount, plural, one {{ruleCount} rule} other {{ruleCount} rules}}",id:"database.viewSettings.createFilterTab.advancedFilterRulesCount.title"},filterButtonTitle:{defaultMessage:"Filter",id:"database.viewSettings.mainTab.filterButton.title"},numberOfFiltersTitle:{defaultMessage:"{numberOfFilters, plural, one {{numberOfFilters} filter} other {{numberOfFilters} filters}}",id:"database.viewSettings.mainTab.filterButton.filters.title"},noFiltersTitle:{defaultMessage:"No filters",id:"database.viewSettings.mainTab.filterButton.noFilters.title"},openFullscreenButton:{defaultMessage:"Open as full page",id:"database.collectionViewBlock.openFullscreenButton.label"},lockDatabaseMultiSourceTooltip:{defaultMessage:"Lock views and data sources in this database",id:"database.lockDatabase.multiSourceTooltip"},lockDatabaseViewsTooltip:{defaultMessage:"Lock all views in this database",id:"database.lockDatabaseViews.tooltip"},visibleToAllWorkspaceMembers:{defaultMessage:"Visible to all workspace members",id:"database.viewSettings.scimPropertiesTab.visibleToAllWorkspaceMembers"}})},112886:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,keyFillSmallIcon:()=>n});o(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"4.29 1.67 7.41 12.66",svg:(0,o(474848).jsx)("path",{d:"M8 1.675a3.7 3.7 0 0 0-1.825 6.92v4.092c0 .094.04.183.111.245l1.5 1.313a.325.325 0 0 0 .428 0l1.5-1.313a.325.325 0 0 0 .033-.456l-.944-1.101.944-1.1a.33.33 0 0 0 .078-.213V8.595A3.7 3.7 0 0 0 8 1.674M8 3.75A.875.875 0 1 1 8 5.5a.875.875 0 0 1 0-1.75"})},n=(0,o(340498).wt)("keyFillSmall",i)},149375:(e,t,o)=>{o.d(t,{v:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},255824:(e,t,o)=>{o.d(t,{a:()=>r});var i=()=>o(56366);const n=new(o(496506).ComputedStore)((()=>o(263711).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function r(){return(0,i().O$)(n)}},315564:(e,t,o)=>{o.d(t,{S:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("locked",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M4.79395 14.7227H11.1992C12.252 14.7227 12.7783 14.1963 12.7783 13.0479V8.20801C12.7783 7.19629 12.3682 6.66992 11.541 6.56055V4.96094C11.541 2.36328 9.81152 1.1123 7.99316 1.1123C6.18164 1.1123 4.45215 2.36328 4.45215 4.96094V6.56055C3.625 6.66992 3.21484 7.19629 3.21484 8.20801V13.0479C3.21484 14.1963 3.73438 14.7227 4.79395 14.7227ZM5.75098 4.83105C5.75098 3.22461 6.76953 2.35645 7.99316 2.35645C9.2168 2.35645 10.2422 3.22461 10.2422 4.83105V6.54004H5.75098V4.83105ZM4.99219 13.5059C4.69141 13.5059 4.54102 13.3623 4.54102 13V8.25586C4.54102 7.89355 4.69141 7.76367 4.99219 7.76367H11.0078C11.3086 7.76367 11.4521 7.89355 11.4521 8.25586V13C11.4521 13.3623 11.3086 13.5059 11.0078 13.5059H4.99219Z"})})},348501:(e,t,o)=>{o.d(t,{A:()=>a});var i=o(296540),n=()=>o(69708),r=()=>o(59364),l=o(474848);const a=(0,i.forwardRef)((function(e,t){const a=(0,n().tz)(),s=(0,o(401497).IS)((t=>({buttonStyle:{display:"flex",alignItems:"center",justifyContent:"center",cursor:e.disableDrag?"pointer":"grab",width:e.width??r().Z,height:e.height??r().S,borderRadius:4,fill:t.icon.tertiary,...e.style},text:{color:t.text.inverseSecondary}})),[e.disableDrag,e.width,e.height,e.style]);const{onClick:c}=e,d=(0,i.useCallback)((e=>{c&&(e.preventDefault(),c(e))}),[c]),u=(0,i.useCallback)((i=>(0,l.jsx)(o(718827).Ay,{ref:t,ariaLabel:a.formatMessage({id:"dragHandleButton.ariaLabel",defaultMessage:"Drag"}),role:e.role,style:s.buttonStyle,onClick:e.onClick,onContextMenu:d,disallowTabbing:e.disallowTabbing,...i,children:(0,o(887146).i)({width:14,height:14,...e.iconStyle})})),[d,a,e.disallowTabbing,e.iconStyle,e.onClick,e.role,t,s.buttonStyle]);return e.disableTooltip?u({}):(0,l.jsx)(o(859428).A,{placement:e.tooltipPlacement??"bottom",delayThreshold:300,renderTooltip:function(){return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[e.disableDrag?void 0:(0,l.jsx)(n().sA,{defaultMessage:"Drag <medium>to move</medium>",id:"dragHandleButton.dragPrompt.text",values:{medium:e=>(0,l.jsx)("span",{style:s.text,children:e})}}),e.hideClickMessage?void 0:(0,l.jsx)("div",{children:(0,l.jsx)(n().sA,{defaultMessage:"Click <medium>to open menu</medium>",id:"dragHandleButton.clickPrompt.text",values:{medium:e=>(0,l.jsx)("span",{style:s.text,children:e})}})})]})},render:u})}))},379771:(e,t,o)=>{o.d(t,{Q:()=>s,b:()=>c});var i=()=>o(242422),n=()=>o(56366),r=()=>o(651124),l=()=>o(908201),a=()=>o(267584);function s(e){const t=(0,l().Ks)();return(0,n().K8)((()=>{var o;if(!i().default.checkGate({gateName:"external_sync_integration_icon_overlay"}))return null;const n=(null==t?void 0:t.collectionStore())??(null==t||null===(o=t.collectionViewStore())||void 0===o?void 0:o.getCollectionStore());return n?d({collectionStore:n,propertyId:e}):null}),[t,e])}function c(e){var t;const{collectionContextStore:o,propertyId:n}=e;if(!i().default.checkGate({gateName:"external_sync_integration_icon_overlay"}))return null;const r=(null==o?void 0:o.collectionStore())??(null==o||null===(t=o.collectionViewStore())||void 0===t?void 0:t.getCollectionStore());return r?d({collectionStore:r,propertyId:n}):null}function d(e){var t;const{collectionStore:o,propertyId:i}=e;if(!o.isExternallyImportedAndSyncedCollection())return null;const n=null===(t=o.getFormat())||void 0===t?void 0:t.external_collection_type;if(!n)return null;if(n===r().uO.Jira){var l;if(!i)return null;const e=null===(l=o.getSchema())||void 0===l?void 0:l[i];return(0,a().sc)({propertyId:i,collectionStore:o,propertySchema:e,isExternallyImportedAndSyncedCollection:o.isExternallyImportedAndSyncedCollection()})?null:"jira"}return n===r().uO.Salesforce?"salesforce":null}},398217:(e,t,o)=>{o.d(t,{Jv:()=>f,Rl:()=>h,mA:()=>g});var i=o(296540),n=()=>o(726637),r=()=>o(56366),l=()=>o(401497),a=()=>o(898244),s=()=>o(852424),c=()=>o(68465),d=()=>o(159588),u=o(474848);const p=function(){return(0,u.jsx)(o(970236).E,{color:"purple",style:{marginInlineStart:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,u.jsx)(o(69708).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const g=i.memo((function(e){const{badge:t,className:i,dragHandleStyle:r,hideName:a,iconSize:s,iconStyle:c,labelSizeVariant:p,propertySchema:g,showDragIcon:f,showIcon:m,style:b,textRef:v}=e,y=(0,l().IS)((t=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:n().A.isMobile?16:14,...b},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",position:e.showIntegrationIconOverlay?"relative":void 0,marginInlineEnd:a?void 0:"small"===p||f?4:n().A.isMobile?9:6,...c},dragHandle:{gridColumn:1,gridRow:1,opacity:f?1:0,transition:`opacity ${d().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:f?0:1,transition:`opacity ${d().bM}`},dragIcon:{fill:t.icon.secondary},integrationIconOverlay:{position:"absolute",bottom:0,insetInlineStart:8,width:12,height:12,borderRadius:12,background:"transparent",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1}})),[a,c,p,f,b,e.showIntegrationIconOverlay]);return(0,u.jsxs)("div",{className:i,style:y.container,children:[m?(0,u.jsxs)("div",{style:y.iconWrapper,children:[(0,u.jsx)("div",{style:y.itemIcon,children:(0,u.jsx)(h,{propertySchema:g,iconSize:s,iconStyle:c})}),e.showIntegrationIconOverlay?(0,u.jsx)("div",{style:y.integrationIconOverlay,children:e.showIntegrationIconOverlay}):void 0,(0,u.jsx)("div",{style:y.dragHandle,children:(0,u.jsx)(o(57232).A,{style:r,iconSize:12,iconStyle:y.dragIcon})})]}):void 0,a?void 0:(0,u.jsx)("div",{ref:v,style:o(284371).RC,children:g.name}),t]})}));function f(e){const{propertySchema:t}=e;return(0,r().K8)((()=>(0,c().O0)()&&a().$M(t)&&a().om(t)),[t])?(0,u.jsx)(p,{}):null}function h(e){const{propertySchema:t,iconSize:o,iconStyle:i}=e,r=(0,l().DP)(),a=n().A.isMobile?18:16;return(0,u.jsx)(s().zB,{type:t.type,icon:t.icon,size:o||a,theme:r,style:i})}},468882:(e,t,o)=>{o.d(t,{B2:()=>j,F1:()=>T,Kc:()=>w,Lo:()=>y,UY:()=>x,br:()=>M,lA:()=>A,lh:()=>C,pi:()=>v,w_:()=>k,zP:()=>S});o(898992),o(737550);var i=()=>o(584262),n=()=>o(443239),r=()=>o(898244),l=()=>o(713998),a=()=>o(882262),s=()=>o(415566),c=()=>o(177256),d=()=>o(72135),u=()=>o(201980),p=()=>o(496603),g=()=>o(534177),f=()=>o(939768),h=()=>o(720665),m=()=>o(492414),b=()=>o(972435);function v(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function y(e){return void 0!==e&&"checkbox"!==e}function S(e){switch(e){case"form_editor":case"form_viewer":case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"property_module":return"property_module";case"relation":case"relation_section":return"relation_section";default:(0,g().HB)(e)}}function k(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function x(e){const{store:t,property:o,propertySchema:n}=e,r=null==n?void 0:n.type;if("title"===r)return(0,m().Ay)({store:t,fullyQualified:!1,pageVisitSource:i().y8.LinkInPage});{const e=t.getPropertyValue(o);return l().UY(r,e)}}function w(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=f().qg(t),i=o.host;if(o.protocol&&i||(o=f().qg(`http://${t}`),i=o.host),!i)return{domain:void 0,restOfUrl:void 0};i&&(i=i.replace(/^www./i,""));const n=t.toLowerCase().indexOf(i.toLowerCase());if(-1===n)return{domain:void 0,restOfUrl:void 0};i=t.slice(n,n+i.length);return{domain:i,restOfUrl:t.slice(n+i.length)}}function C(e){const{numberValue:t,numberFormat:o,numberShowAs:i}=e;if(!(p().yr(t)||h().pN(t)||"bar"!==(null==i?void 0:i.type)&&"ring"!==(null==i?void 0:i.type))){const e=b().A.getIntl();return"percent"===o?d().ZV(t,"percent",e):`${t} / ${i.maxValue}`}}function T(e){const{property:t,collectionStore:o}=e,i=o.isSyncedCollection();return Boolean(i)&&(0,n().u)(t)}function A(e,t){switch(e){case"side_peek":return{icon:c().A,tooltip:b().A.formatMessage(I.openInSidePeekTooltip),caption:t?"":b().A.formatMessage(I.openAsPageTitle)};case"center_peek":return{icon:s().q,tooltip:b().A.formatMessage(I.openInCenterPeekTooltip),caption:t?"":b().A.formatMessage(I.openAsPageTitle)};case"full_page":return{icon:a().m,tooltip:b().A.formatMessage(I.openAsPageTooltip),caption:t?"":b().A.formatMessage(I.openAsPageTitle)};default:(0,g().HB)(e)}}const I=(0,o(69708).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function M(e){const{store:t,additionalStores:o,collectionContextStore:i}=e,n=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==i?void 0:i.contextType)||!n)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==n.id}))}function j(e){return Boolean(e&&!r().dA.includes(e.type))}},527438:(e,t,o)=>{o.d(t,{Bd:()=>m,DN:()=>w,Fc:()=>V,II:()=>M,Jq:()=>j,R8:()=>I,U9:()=>A,ZF:()=>k,ZI:()=>y,bf:()=>v,jx:()=>S,k7:()=>B,nH:()=>T,u7:()=>P,wW:()=>C,xO:()=>b});o(16280),o(296540);var i=()=>o(898244),n=()=>o(651124),r=()=>o(69708),l=()=>o(389114),a=()=>o(231297),s=()=>o(852353),c=()=>o(342),d=()=>o(384446),u=()=>o(878423),p=()=>o(712505),g=()=>o(543665),f=()=>o(65402),h=o(474848);let m=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e[e.MobileSheet=5]="MobileSheet",e}({});const b=480,v=320;function y(e){const{timelineViewTab:t,collectionContextStore:o}=e,i=S({collectionContextStore:o}),r=k({collectionContextStore:o});return"timeline"===i?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,n().u9)(S({collectionContextStore:o}))}function S(e){var t;const{collectionContextStore:o}=e,i=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!i)throw new Error("View type was not defined.");return i}function k(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const x=600;function w(e,t,o){const i=o||0,n=e.settingsStore.state;if(n.open&&!0!==n.hideSettingsPopup)return C(e,t,i)}function C(e,t,o){const i=o||0,n=e.settingsStore.state,r=S({collectionContextStore:e});if(n.open&&"form_editor"===r)return"popup";return(0,d().Id)(e)||t||p().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||i<=x?"popup":"sidebar"}function T({collectionViewBlockSourceType:e,isCollectionViewPageWithContent:t,locked:o}){return t?o?{label:(0,h.jsx)(r().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}),tooltip:void 0}:{label:(0,h.jsx)(r().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}),tooltip:void 0}:"linkedOnly"===e?o?{label:(0,h.jsx)(r().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}),tooltip:(0,h.jsx)(r().sA,{defaultMessage:"Unlock all views in this database",id:"database.viewSettings.mainTab.unlockViews.tooltip"})}:{label:(0,h.jsx)(r().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}),tooltip:(0,h.jsx)(r().sA,{...f().D.lockDatabaseViewsTooltip})}:o?{label:(0,h.jsx)(r().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}),tooltip:"multiSourceOrMixedSource"===e?(0,h.jsx)(r().sA,{defaultMessage:"Unlock views and data sources in this database",id:"database.viewSettings.mainTab.unlockDatabase.tooltip"}):void 0}:{label:(0,h.jsx)(r().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"}),tooltip:"multiSourceOrMixedSource"===e?(0,h.jsx)(r().sA,{...f().D.lockDatabaseMultiSourceTooltip}):void 0}}let A=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e}({});const I=6;function M({currentViewType:e,isPlaceholderExternalCollection:t,collectionContextStore:o,allowedActions:i,settingsHeaderSizeObserver:n}){return"page"!==e&&"form_editor"!==e&&(!t&&(!!o.shouldAllowNewItemCreation()&&(!(i&&!i.includes("addItem"))&&!(n&&n.rect.state.width>v))))}function j({collectionContextStore:e,property:t}){return(0,s().Kc)(e)[t]}function B(e,t){var o;if("relation"!==(null==t?void 0:t.type))return;const n=null===(o=u().A.state.caches[c().oB])||void 0===o?void 0:o.inMemoryRecordCache,r=(0,i().Nv)(t),l=r&&e?g().m.createChildStore(e,r):void 0;return n?null==l?void 0:l.clone(n):l}function V(e){const{name:t,environment:o,property:i,collectionContextStore:n,inputValue:r}=e;if((0,s().fE)({property:i,collectionContextStore:n,newValue:r}))return;const c=n.collectionStore();if(!c)return;const d=c.getSchema()[i];d&&d.name!==t&&a().createAndCommit({userAction:"ButtonBuilderModal.handlePropertyNameSubmit",environment:o,canUndo:!0,perform:e=>{(0,l().Y)({collectionStore:c,property:i,name:t,transaction:e})}})}function P(e){return"addNewDataSource"===e.type||"linkToDatabase"===e.type||"createViewSource"===e.type||"createView"===e.type||"manageDataSources"===e.type?e.analytics:{}}},735695:(e,t,o)=>{o.d(t,{Ay:()=>A,iZ:()=>w,vE:()=>x});var i=o(296540),n=()=>o(804773),r=()=>o(726637),l=()=>o(401497),a=()=>o(718827),s=()=>o(493552),c=()=>o(149375),d=()=>o(66913),u=()=>o(69708),p=()=>o(284371),g=()=>o(285790),f=()=>o(404277),h=()=>o(45552),m=()=>o(722872),b=()=>o(253579),v=()=>o(255824),y=()=>o(147503),S=o(474848);const k=(0,u().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),x=290,w=400;function C({backArrowButton:e,topRightButton:t,children:o,title:i,desktopTitleType:n,settingsStackLength:r,handleClose:f,handleBackArrowClick:h,hideDesktopHeader:m,hasBackStack:b}){const y=(0,v().a)(),x=(0,u().tz)(),w=(0,l().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:y?"top":"center",padding:y?"0px 14px 6px 14px":"14px 16px 6px 16px",height:y?void 0:42},arrowButton:{marginInlineEnd:8,marginInlineStart:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:y?p().Wy.medium:p().Wy.semibold,fontSize:y?16:14,lineHeight:y?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[y]),C=!y;return(0,S.jsxs)(S.Fragment,{children:[m?(0,S.jsx)("div",{style:w.hiddenDesktopHeaderDiv}):(0,S.jsxs)("div",{style:w.nonHiddenDesktopHeaderDiv,children:[e||(r>1||b?(0,S.jsx)(g().A,{icon:c().v,style:w.arrowButton,iconStyle:w.arrowIcon,onClick:h,ariaLabel:x.formatMessage(k.back)}):void 0),"sectionHeader"===n?(0,S.jsx)(s().D,{styleKey:"Caption/Medium",colorVariant:"secondary",style:{flexGrow:1},children:i}):(0,S.jsx)("span",{style:w.title,children:i}),t||(C?(0,S.jsx)(a().Ay,{onClick:f,style:w.closeButton,hoveredStyle:w.closeButtonHover,children:(0,d().V)(w.closeIcon)}):void 0)]}),o]})}function T({children:e,footer:t,header:l,unconstrainedWidth:a,desktopWidth:s,title:c,desktopTitleType:d,collectionSettingsStore:u,fullHeight:p,hideDesktopHeader:g,menuScrollerStyle:k,innerContentWrapperStyle:w,disableScroller:T,handleBackArrowClick:A,hasBackStack:I,handleClose:M,topRightButton:j,backArrowButton:B},V){const P=(0,o(908201).Ks)(),D=(0,m().Tf)(),_=(0,v().a)(),{currentTab:F,settingsStackLength:H,hideHeader:O}=(0,o(56366).K8)((()=>{const e=u.state;return{currentTab:(0,o(261503).S)(u),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[u],{useDeepEqual:!0}),L=(0,i.useCallback)((()=>{var e;A?A():y().yl({collectionSettingsStore:u,keepPreviousRef:"form_editor"===(null==P||null===(e=P.collectionViewStore())||void 0===e?void 0:e.getType())})}),[A,u,P]),R=(0,i.useCallback)((e=>{M?M(e):y().os({collectionSettingsStore:u})}),[M,u]),W=(0,i.useCallback)((e=>{(0,b().rW)(e.target)||(0,b().iX)(e.target)||(0,b().u2)(e.target)||o(263711).g.state.isOpen||R(e)}),[R]);if(!F)return null;let z;if(r().A.isMobile)z={disableScroller:T,menuType:m().gu.Modal,title:c,left:H>1?(0,S.jsx)(h().MobileModalBackButton,{}):void 0,onClickLeft:H>1?L:void 0,scrollerStyle:k,innerRef:V,right:D?void 0:(0,S.jsx)(h().DoneMenuText,{}),onClickRight:D?void 0:R};else{const e=a||s?void 0:_?280:x;z={disableScroller:T,menuType:m().gu.Popup,minWidth:_?280:x,width:s,maxHeight:p?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:W,scrollerStyle:{flexGrow:0,...k},header:!O&&(0,S.jsx)(C,{settingsStackLength:H,handleClose:R,handleBackArrowClick:L,hasBackStack:I,hideDesktopHeader:g,title:c,desktopTitleType:d,topRightButton:j,backArrowButton:B,children:l}),paddingTop:O?6:0,footer:t,innerRef:V}}const E=(0,S.jsxs)(S.Fragment,{children:[r().A.isMobile?l:void 0,e,r().A.isMobile?t:void 0]});return p?(0,S.jsx)(n().Y,{direction:"vertical",children:(0,S.jsx)(f().A,{...z,children:E})}):(0,S.jsx)(n().Y,{direction:"vertical",children:(0,S.jsx)(f().A,{...z,children:(0,S.jsx)(o(297872).N,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,wrapperTag:"div",children:(0,S.jsx)("div",{style:w,children:E})})})})}const A=(0,i.forwardRef)(T)},763870:(e,t,o)=>{o.d(t,{i:()=>r});o(898992),o(672577),o(737550);var i=()=>o(56366),n=()=>o(68263);function r({collectionStore:e,property:t,propertySchema:o,blockStore:r}){const l=(0,i().K8)((()=>!!r&&r.getPermissionItems().some(n().T6)),[r]),a=(0,i().K8)((()=>{if(l||!o)return;const i=null==e?void 0:e.getPropertyPermissionItems().validItems;return null==i?void 0:i.find((e=>"person"===o.type?"person"===e.property_info.type&&e.property_info.property_id===t:"created_by"===o.type&&"page_creator"===e.property_info.type))}),[e,t,o,l]);return a&&(0,n().tb)(a)?a:void 0}},882262:(e,t,o)=>{o.d(t,{m:()=>n});o(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,o(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},n=(0,o(340498).wt)("arrowExpandDiagonal",i)},897941:(e,t,o)=>{o.d(t,{$:()=>a});o(296540);var i=()=>o(970236),n=()=>o(112886),r=()=>o(763870),l=o(474848);function a({collectionStore:e,property:t,propertySchema:o,blockStore:a}){return(0,r().i)({collectionStore:e,property:t,propertySchema:o,blockStore:a})?(0,l.jsx)(i().E,{color:"yellow",style:{borderRadius:4,height:16,width:16,display:"flex",alignItems:"center",justifyContent:"center"},content:(0,l.jsx)(l.Fragment,{children:(0,n().keyFillSmallIcon)({width:14,height:14})})}):null}},970236:(e,t,o)=>{o.d(t,{E:()=>l});o(296540);var i=()=>o(401497),n=()=>o(284371),r=o(474848);function l(e){const{color:t="gray",style:o,content:l,...a}=e,s=(0,i().IS)((e=>({badge:{alignSelf:"center",marginInlineStart:6,padding:"2px 4px",background:e[t].background.secondaryTranslucent,color:e[t].text.accentPrimary,borderRadius:4,fontSize:11,fontWeight:n().Wy.medium,lineHeight:1.3,...o}})),[t,o]);return(0,r.jsx)("div",{style:s.badge,...a,children:l})}}}]);