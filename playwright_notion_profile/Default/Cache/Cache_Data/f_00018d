"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[6346,27942],{97065:(e,n,t)=>{t.d(n,{DH:()=>a});var o=()=>t(61844);const i=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function a(e){return i.includes(e)||o().FN.includes(e)}},179030:(e,n,t)=>{t.d(n,{l:()=>o().l});var o=()=>t(661764)},417123:(e,n,t)=>{t.d(n,{z:()=>l});var o=()=>t(842599),i=()=>t(798880),a=()=>t(495989),s=()=>t(519979),r=()=>t(870092);async function l({userId:e,spaceStore:n,environment:t}){var l,c;if(!e||!n)return;const u=new(s().G)(t,{table:a().xM,id:e}),d=new(r().L)(t,{table:i().oo,id:e});await Promise.all([u.load(),d.load()]);const p=d.getEmail(),m=p?(0,o().zN)(p):void 0,y=null===(l=u.getSettings())||void 0===l?void 0:l.domain_type,b=m&&(0,o().Ff)(m),v=y?"professional"!==y:b,g=null===(c=n.getPublicSpaceData())||void 0===c?void 0:c.createdByDomain;return v||m!==g?"personal":"work"}},426433:(e,n,t)=>{t.d(n,{A:()=>T,g:()=>M});var o=t(296540),i=()=>t(564884),a=()=>t(484714),s=()=>t(56366),r=()=>t(852832),l=()=>t(69708),c=()=>t(534177),u=()=>t(934839),d=()=>t(209660),p=()=>t(179030),m=()=>t(135552),y=()=>t(511393),b=()=>t(529803),v=()=>t(150193),g=()=>t(807778),f=()=>t(671812),h=t(474848);const _={updatePaymentMethod:(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.update_payment_method",defaultMessage:"Update payment information"}),viewBillingTab:(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.view_billing_tab",defaultMessage:"Go to Billing"}),viewWorkspaceOwner:(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.view_workspace_owner",defaultMessage:"View workspace owner"}),confirmPayment:(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.confirm_payment",defaultMessage:"Confirm payment"})};function x(){return()=>{d().Ow()}}function w(){return()=>{d().Ow({currentTab:"billing"})}}function A(e){const{messageType:n,overdueInvoiceCount:t=1}=e;switch(n){case"past_due_owner":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.payment_failed.past_due.workspace_owner",defaultMessage:"We couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}. Please update your payment method or you may lose access to Notion soon.",values:{overdueInvoiceCount:t}});case"past_due_member":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.payment_failed.past_due.member",defaultMessage:"Please contact a workspace owner to update your payment method or you may lose access to Notion soon."});case"unpaid_owner":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.payment_failed.unpaid.workspace_owner",defaultMessage:"Access to Notion is limited to viewing because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",values:{overdueInvoiceCount:t}});case"unpaid_member":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.payment_failed.unpaid.member",defaultMessage:"Access to Notion is limited to viewing. Contact a workspace owner to update your workspace’s payment method."});default:(0,c().HB)(n)}}function j(e){const{messageType:n,overdueInvoiceCount:t=1}=e;switch(n){case"past_due_owner":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.confirmation_required.past_due.workspace_owner",defaultMessage:"Please confirm {overdueInvoiceCount, plural, one {your subscription payment} other {{overdueInvoiceCount} payments}} or you may lose access to Notion soon.",values:{overdueInvoiceCount:t}});case"unpaid_owner":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.confirmation_required.unpaid.workspace_owner",defaultMessage:"Access to Notion is limited to viewing. Confirm {overdueInvoiceCount, plural, one {your subscription payment} other {{overdueInvoiceCount} payments}} to restore full access.",values:{overdueInvoiceCount:t}});case"unpaid_member":return(0,h.jsx)(l().sA,{id:"subscription.payment_status_banner.confirmation_required.unpaid.member",defaultMessage:"Access to Notion is limited to viewing. Contact a workspace owner to update your workspace’s payment method."});default:(0,c().HB)(n)}}function k(e){const{billingStatusData:n,showNativeInvoicePayment:t,uncollectibleExperienceEnabled:o}=e;if(null==n||!n.data)return;const{isWorkspaceOwner:i}=n,{invoiceHostedUrl:a,overdueInvoiceCount:s,bannerKey:r}=n.data;switch(r){case"past_due":return function(e){const{isWorkspaceOwner:n,invoiceHostedUrl:t,overdueInvoiceCount:o,showNativeInvoicePayment:i}=e,a=m().q.Yellow;return n?{bannerStyleKey:a,messageType:"past_due_owner",messageText:A({overdueInvoiceCount:o,messageType:"past_due_owner"}),callToActionText:i?_.viewBillingTab:_.updatePaymentMethod,callToActionHandler:i?w():(0,f().a)(t)}:{bannerStyleKey:a,messageType:"past_due_member",messageText:A({overdueInvoiceCount:o,messageType:"past_due_member"}),callToActionText:_.viewWorkspaceOwner,callToActionHandler:x()}}({isWorkspaceOwner:i,invoiceHostedUrl:a,overdueInvoiceCount:s,showNativeInvoicePayment:t});case"unpaid":if(o)return;return function(e){const{isWorkspaceOwner:n,invoiceHostedUrl:t,overdueInvoiceCount:o,showNativeInvoicePayment:i}=e,a=m().q.LightRed;return n?{bannerStyleKey:a,messageType:"unpaid_owner",messageText:A({overdueInvoiceCount:o,messageType:"unpaid_owner"}),callToActionText:i?_.viewBillingTab:_.updatePaymentMethod,callToActionHandler:i?w():(0,f().a)(t)}:{bannerStyleKey:a,messageType:"unpaid_member",messageText:A({overdueInvoiceCount:o,messageType:"unpaid_member"}),callToActionText:_.viewWorkspaceOwner,callToActionHandler:x()}}({isWorkspaceOwner:i,invoiceHostedUrl:a,overdueInvoiceCount:s,showNativeInvoicePayment:t});default:(0,c().HB)(r)}}function C(e){if(!e.data)return;const{isWorkspaceOwner:n}=e,{invoiceHostedUrl:t,bannerKey:o}=e.data;switch(o){case"past_due":return function(e,n,t){if(e)return{bannerStyleKey:m().q.Yellow,messageType:"past_due_owner",messageText:j({overdueInvoiceCount:t,messageType:"past_due_owner"}),callToActionText:_.confirmPayment,callToActionHandler:(0,f().a)(n)}}(n,t);case"unpaid":return function(e,n,t){const o=m().q.LightRed;return e?{bannerStyleKey:o,messageType:"unpaid_owner",messageText:j({overdueInvoiceCount:t,messageType:"unpaid_owner"}),callToActionText:_.confirmPayment,callToActionHandler:(0,f().a)(n)}:{bannerStyleKey:o,messageType:"unpaid_member",messageText:j({overdueInvoiceCount:t,messageType:"unpaid_member"}),callToActionText:_.viewWorkspaceOwner,callToActionHandler:x()}}(n,t);default:(0,c().HB)(o)}}function S(e){const{billingStatusData:n}=e;if(void 0===(null==n?void 0:n.data))return;const{overdueReason:t}=n.data;if(t)switch(t){case"payment_failed":return k(e);case"confirmation_required":return C(n);default:(0,c().HB)(t)}}function I(e){const n=b().A.state,t=(0,y().h)(e);return n&&n.data?{...n,isWorkspaceOwner:t}:void 0}function T(){const e=(0,s().K8)((()=>(0,g().Ug)()),[]),n=(0,a().v3)(),t=(0,s().K8)((()=>I(n)),[n]),l=(0,s().K8)((()=>(0,g().Jq)(n)),[n]),c=(0,o.useMemo)((()=>S({billingStatusData:t,showNativeInvoicePayment:e,uncollectibleExperienceEnabled:l})),[t,e,l]);o.useEffect((()=>(["local","development","staging"].includes("production")&&(0,r().exposeDebugValue)("billingStatus",t),null!=t&&t.data&&c?(u().HQ({bannerStore:v().A,id:"BillingSubscriptionBanner",contentKey:"billing_subscription_status",styleKey:c.bannerStyleKey,prepend:!0}),(0,i().u)({environment:n,event:{eventName:"billing_subscription_banner_displayed",eventProperties:{isWorkspaceOwner:t.isWorkspaceOwner,...t.data}}})):u().zA({bannerStore:v().A,id:"BillingSubscriptionBanner"}),()=>{u().zA({bannerStore:v().A,id:"BillingSubscriptionBanner"})})),[n,t,c])}function M(e){const{legacyColor:n}=e,t=(0,s().K8)((()=>(0,g().Ug)()),[]),r=(0,a().v3)(),l=(0,s().K8)((()=>I(r)),[r]),c=(0,s().K8)((()=>(0,g().Jq)(r)),[r]),u=(0,o.useMemo)((()=>S({billingStatusData:l,showNativeInvoicePayment:t,uncollectibleExperienceEnabled:c})),[l,t,c]),d=null==u?void 0:u.callToActionText,y=null==u?void 0:u.callToActionHandler,b=(0,o.useCallback)((e=>{void 0!==y&&y(e),null!=l&&l.data&&(0,i().u)({environment:r,event:{eventName:"billing_subscription_banner_action",eventProperties:{isWorkspaceOwner:l.isWorkspaceOwner,...l.data}}})}),[r,y,l]);return u?(0,h.jsx)(p().l,{label:u.messageText,display:"full-width",actions:[{label:d,onClick:e=>b(e)}],tint:(0,m().V)(n)}):null}},464762:(e,n,t)=>{t.d(n,{K:()=>h,M:()=>f});var o=t(296540),i=()=>t(564884),a=()=>t(59226),s=()=>t(484714),r=()=>t(762433),l=()=>t(69708),c=()=>t(934839),u=()=>t(209660),d=()=>t(179030),p=()=>t(135552),m=()=>t(176983),y=()=>t(369955),b=()=>t(150193),v=()=>t(324561),g=t(474848);function f(){const e=(0,s().v3)();return(0,g.jsx)(d().l,{label:(0,g.jsx)(l().sA,{id:"sanctions.missing_name_banner.banner_text",defaultMessage:"Please provide your name in the billing tab"}),display:"full-width",actions:[{label:(0,g.jsx)(l().sA,{id:"sanctions.missing_name_banner.cta_message",defaultMessage:"Click to update"}),onClick:()=>{u().Ow({currentTab:"billing",subtab:"address"}),(0,i().u)({environment:e,event:{eventName:"missing_name_sanctions_banner_clicked",eventProperties:{}}})}}],tint:"red"})}function h(){const e=(0,s().v3)(),n=function(){var e;const n=(0,a().X)("missing_name_banner"),t=(0,y().L)(),o=(0,v()._3)({spaceId:null==t?void 0:t.id}),i=(0,r().Fq)(o)&&!(0,r().Qx)(null==o?void 0:o.subscription),s=Boolean(null==o||null===(e=o.address)||void 0===e?void 0:e.name),l=(0,m().J)(),c=null==o?void 0:o.provider,u="app_store"===c||"play_store"===c;return n&&l&&i&&!s&&!u}();o.useEffect((()=>(n?(c().HQ({bannerStore:b().A,id:"MissingNameBanner",contentKey:"missing_name",prepend:!0,styleKey:p().q.Red}),(0,i().u)({environment:e,event:{eventName:"missing_name_sanctions_banner_displayed",eventProperties:{}}})):c().zA({bannerStore:b().A,id:"MissingNameBanner"}),()=>{c().zA({bannerStore:b().A,id:"MissingNameBanner"})})),[e,n])}},483634:(e,n,t)=>{t.d(n,{U:()=>o});const o=new(t(178624).R)({key:"externalPagesBannerPreference",namespace:t(553737).Bq,important:!0,trackingType:"necessary"})},661764:(e,n,t)=>{t.d(n,{f:()=>_,l:()=>C});t(581454),t(296540);var o=()=>t(726637),i=()=>t(401497),a=()=>t(699143),s=()=>t(406094),r=()=>t(493552),l=()=>t(846523),c=()=>t(995847),u=()=>t(340498),d=()=>t(69708),p=()=>t(285790),m=()=>t(859428),y=()=>t(460292),b=t(474848);const v=(0,d().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"},dismiss:{id:"banner.dismiss",defaultMessage:"Dismiss"}});function g(e,n){return(0,i().IS)((t=>({container:{backgroundColor:t[e].background.secondary,padding:"8px 12px"},icon:{width:o().A.isMobile?u().Ev.default:u().Ev.sm,height:o().A.isMobile?u().Ev.default:u().Ev.sm,fill:n?t[n].icon.accentPrimary:t[e].icon.secondary},content:{color:t[e].text.secondary},learnMoreIcon:{fill:t[e].icon.secondary},titleIcon:{marginInlineEnd:8}})),[e,n])}function f(e){const{onDismiss:n}=e,t=(0,d().tz)();return n?(0,b.jsx)(p().A,{size:"xs",onClick:n,icon:c().xMarkSmallIcon,colorVariant:"primary",ariaLabel:t.formatMessage(v.dismiss)}):(0,b.jsx)("div",{})}function h(e){const{tint:n,iconGroup:t,style:o}=e;return t?(0,b.jsx)(y().Q,{iconGroup:t,variantName:"small",colorPalette:n,colorVariant:"secondary",style:o}):null}function _(e){const{tint:n,action:t}=e,{label:o,onClick:a,icon:l}=t,c=(0,i().IS)((e=>({button:{color:"gray"===n?e.text.primary:e[n].text.secondary,borderWidth:1,borderStyle:"solid",borderColor:e[n].border.strong,padding:l?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:l&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"},buttonHovered:{backgroundColor:e[n].background.secondaryTranslucent},buttonPressed:{backgroundColor:e[n].background.tertiaryTranslucent}})),[n,l]);return(0,b.jsx)(s().A,{size:"lg",iconLeading:l?{icon:l,size:"sm",colorPalette:n,colorVariant:"secondary"}:void 0,onClick:a,style:c.button,hoveredStyle:c.buttonHovered,pressedStyle:c.buttonPressed,children:(0,b.jsx)(r().D,{styleKey:"Body/Medium",style:c.buttonContent,children:o})})}function x(e){const{label:n,iconGroup:t,tint:o,onDismiss:i,actions:s,onLearnMoreClick:c}=e,u=g(o),m=(0,d().tz)();return(0,b.jsxs)(a().Y1,{style:u.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,b.jsxs)(a().Y1,{style:u.content,direction:"horizontal",align:"center",width:"hug",children:[(0,b.jsx)(h,{tint:o,iconGroup:t,style:u.titleIcon}),(0,b.jsx)(r().D,{styleKey:"Body/Medium",children:n}),c?(0,b.jsx)(p().A,{onClick:c,icon:()=>(0,b.jsx)(y().Q,{iconGroup:l().u,variantName:"default",colorPalette:o,colorVariant:"secondary"}),ariaLabel:m.formatMessage(v.learnMore)}):void 0]}),(0,b.jsxs)(a().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,b.jsx)(a().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==s?void 0:s.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(_,{tint:o,action:e},n)))}),(0,b.jsx)(f,{onDismiss:i})]})]})}function w(e){const{label:n,iconGroup:t,staticIcon:o,iconColor:i,tint:s,onDismiss:c,actions:u,onLearnMoreClick:x}=e,w=g(s,i),A=(0,d().tz)(),j=t?(0,b.jsx)(h,{tint:s,iconGroup:t,style:w.titleIcon}):o?o({...w.icon,...w.titleIcon}):null;return(0,b.jsxs)(a().Y1,{style:w.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,b.jsx)("div",{}),(0,b.jsxs)(a().Y1,{style:w.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,b.jsxs)(a().Y1,{direction:"horizontal",align:"center",width:"hug",children:[j,(0,b.jsx)(r().D,{styleKey:"Body/Medium",children:n}),x?(0,b.jsx)(m().A,{renderTooltip:()=>A.formatMessage(v.learnMore),render:e=>(0,b.jsx)(p().A,{onClick:x,icon:()=>(0,b.jsx)(y().Q,{iconGroup:l().u,variantName:"default",colorPalette:s,colorVariant:"secondary"}),ariaLabel:A.formatMessage(v.learnMore),...e})}):void 0]}),u?(0,b.jsx)(a().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==u?void 0:u.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(_,{tint:s,action:e},n)))}):null]}),(0,b.jsx)(f,{onDismiss:c})]})}function A(e){const{label:n,description:t,iconGroup:o,staticIcon:s,iconColor:l,tint:c,onDismiss:u,actions:d,noRoundedCorners:p}=e,m=g(c,l),y=(0,i().IS)((e=>({container:{backgroundColor:e[c].background.secondary,padding:16,borderRadius:p?0:8},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[c,p]),v=o?(0,b.jsx)(h,{tint:c,iconGroup:o}):s?s(m.icon):null;return(0,b.jsxs)(a().Y1,{style:y.container,gap:8,direction:"horizontal",children:[v?(0,b.jsx)("div",{style:y.iconContainer,children:v}):null,(0,b.jsxs)(a().Y1,{style:m.content,gap:8,children:[(0,b.jsxs)(a().Y1,{gap:4,children:[(0,b.jsx)(r().D,{styleKey:"Body/Medium",colorVariant:"gray"===c?"primary":void 0,children:n}),t?(0,b.jsx)(r().D,{styleKey:"Body/Regular",children:t}):null]}),d?(0,b.jsx)(a().Y1,{direction:"horizontal",gap:8,children:null==d?void 0:d.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(_,{tint:c,action:e},n)))}):null]}),(0,b.jsx)(f,{onDismiss:u})]})}function j(e){const{label:n,staticIcon:t,tint:o,iconColor:s,onDismiss:l,actions:c}=e,u=g(o,s),d=(0,i().IS)((e=>({container:{backgroundColor:e[o].background.secondary,paddingTop:8,paddingInlineEnd:8,paddingBottom:8,paddingInlineStart:12,borderRadius:8},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[o]);return(0,b.jsxs)(a().Y1,{style:d.container,gap:8,direction:"horizontal",align:c?"center":void 0,children:[t?(0,b.jsx)("div",{style:d.iconContainer,children:t(u.icon)}):null,(0,b.jsxs)(a().Y1,{style:u.content,gap:"auto",direction:"horizontal",align:"center",children:[(0,b.jsx)(a().Y1,{gap:4,children:(0,b.jsx)(r().D,{styleKey:"Body/Regular",children:n})}),c?(0,b.jsx)(a().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==c?void 0:c.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(_,{tint:o,action:e},n)))}):null]}),(0,b.jsx)(f,{onDismiss:l})]})}function k(e){const{tint:n,onDismiss:t,content:o}=e,i=g(n);return(0,b.jsxs)(a().Y1,{style:i.container,align:"center",gap:8,direction:"horizontal",children:[(0,b.jsx)("div",{style:{flex:1,...i.content},children:o}),(0,b.jsx)(f,{onDismiss:t})]})}function C(e){const{display:n}=e;switch(n){case"inline":return(0,b.jsx)(A,{...e});case"full-width":return o().A.isMobile?(0,b.jsx)(x,{...e}):(0,b.jsx)(w,{...e});case"full-width-no-content":return(0,b.jsx)(k,{...e});case"inline-compact":return(0,b.jsx)(j,{...e})}return(0,b.jsx)(b.Fragment,{})}},696751:(e,n,t)=>{t.d(n,{A:()=>_,U:()=>h});var o=t(296540),i=()=>t(484714),a=()=>t(56366),s=()=>t(69708),r=()=>t(534177),l=()=>t(252105),c=()=>t(934839),u=()=>t(179030),d=()=>t(135552),p=()=>t(369955),m=()=>t(646736),y=()=>t(765957),b=()=>t(49412),v=()=>t(150193),g=()=>t(190440),f=t(474848);function h(e){const{legacyColor:n}=e,t=(0,i().v3)(),o=t.currentUser.id,l=(0,p().L)(),c=(0,m().I_)(l),y=(0,a().K8)((()=>{var e;if(!l||!o||!c)return null;const n=null===(e=b().A.getData(t,{spaceId:l.id}))||void 0===e||null===(e=e.bannerIds)||void 0===e?void 0:e[0];if(!n)return null;const i=g().b.createChildStore(l,{id:n,table:"subscription_banner",spaceId:l.id});if(!i.isDefined())return null;const a=i.getBannerText();if(a)return(0,f.jsx)("span",{children:a});const u=Boolean(null==c?void 0:c.isWorkspaceOwner());return function(e,n){switch(e){case"uncollectible_past_due":return n?(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.past_due.workspace_owner",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.past_due.member",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});case"uncollectible_unpaid":return n?(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.unpaid.workspace_owner",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.unpaid.member",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});case"dunning":case"legacy_price":return;default:return(0,r().HB)(e)}}(i.getBannerKey(),u)}),[t,o,l,c]);return y?(0,f.jsx)(u().l,{label:y,display:"full-width",actions:[],tint:(0,d().V)(n)}):null}function _(){const e=(0,i().v3)(),n=(0,a().O$)(y().AppStoreSidebarSpaceStore),[t,s,u,p,m]=(0,a().K8)((()=>{var t;if(!n)return[];const o=null===(t=b().A.getData(e,{spaceId:n.id}))||void 0===t?void 0:t.bannerIds;if(o&&o.length>0){const e=o[0],t=g().b.createChildStore(n,{id:e,table:"subscription_banner",spaceId:n.id});if(!t.isDefined())return[];const i=t.getBannerKey(),a=t.getBannerType(),s=t.getAudience(),l=t.getBannerText();switch(a){case"warning":return[e,d().q.Yellow,i,s,l];case"alert":return[e,d().q.LightRed,i,s,l];case"info":return[e,d().q.LightBlue,i,s,l];case"uncollectible":return[e,"uncollectible_unpaid"===i?d().q.LightRed:d().q.Yellow,i,s,l];default:(0,r().HB)(a)}}return[]}),[e,n]);o.useEffect((()=>{if(t&&s){if(c().HQ({bannerStore:v().A,id:"SubscriptionUncollectibleBanner",contentKey:"arbitrary_subscription_banner",styleKey:s,prepend:!0}),u&&p){const n={banner:u,audience:p,text:""};m&&(n.text=m),l().u4(e,{name:"subscription_uncollectible_banner_displayed",args:n})}}else c().zA({bannerStore:v().A,id:"SubscriptionUncollectibleBanner"});return()=>{c().zA({bannerStore:v().A,id:"SubscriptionUncollectibleBanner"})}}),[e,t,s,u,p,m])}},775916:(e,n,t)=>{t.d(n,{p:()=>s});var o=()=>t(166386),i=()=>t(152197),a=()=>t(985315);function s(){const e=(0,i().r)(),n=(0,a().g)({spaceId:e});if(n)return(0,o().e8)(n,"trial")}},846523:(e,n,t)=>{t.d(n,{u:()=>o});const o=(0,t(340498).xh)("questionMarkCircle",{default:{loader:()=>t.e(82106).then(t.bind(t,406533))},small:{loader:()=>t.e(82106).then(t.bind(t,721479))},fill:{loader:()=>t.e(82106).then(t.bind(t,299733))},fillSmall:{loader:()=>t.e(82106).then(t.bind(t,182060))}},["question","query","inquiry","uncertain","unknown","help","circle"])},883894:(e,n,t)=>{t.d(n,{k:()=>v,u:()=>g});var o=t(296540),i=()=>t(564884),a=()=>t(312788),s=()=>t(484714),r=()=>t(187174),l=()=>t(69708),c=()=>t(934839),u=()=>t(179030),d=()=>t(719147),p=()=>t(135552),m=()=>t(152197),y=()=>t(150193),b=t(474848);function v(){const{navigate:e}=(0,o.useContext)(a().E),n=(0,s().v3)();return(0,b.jsx)(u().l,{label:(0,b.jsx)(l().sA,{id:"subscription.russianSanctionsBanner.banner_text",defaultMessage:"Due to <sanctionLink>U.S. sanctions</sanctionLink>, users in Russia will not be able to access Notion from Sept 9, 2024. We sincerely apologize for this disruption in service.",values:{sanctionLink:t=>(0,b.jsx)(d().A,{onClick:()=>e({environment:n,url:"https://ofac.treasury.gov/media/932951/download?inline",openInNew:"tab"}),children:t})}}),display:"full-width",actions:[{label:(0,b.jsx)(l().sA,{id:"subscription.russianSanctionsBanner.learn_more",defaultMessage:"Learn more"}),onClick:()=>e({environment:n,url:"https://www.notion.so/help/restrictions-for-customers-based-in-russia",openInNew:"tab"})}],tint:"yellow"})}function g(){const e=(0,s().v3)(),n=function(){const e=(0,s().v3)(),n=(0,m().r)(),[{value:o}]=(0,r().Yb)((async()=>{if(!n)return;const o=await Promise.resolve().then(t.bind(t,559506)),i=await o.callApi({eventName:"getWillBeSubjectToSanctions",environment:e,data:{spaceId:n}});return"success"===i.type?i.data.value:void 0}),[e,n]);return o??!1}();o.useEffect((()=>(n?(c().HQ({bannerStore:y().A,id:"RussianSanctionsBanner",contentKey:"russian_sanctions",prepend:!0,styleKey:p().q.Yellow}),(0,i().u)({environment:e,event:{eventName:"russia_sanctions_banner_displayed",eventProperties:{}}})):c().zA({bannerStore:y().A,id:"RussianSanctionsBanner"}),()=>{c().zA({bannerStore:y().A,id:"RussianSanctionsBanner"})})),[e,n])}},932737:(e,n,t)=>{t.d(n,{A:()=>f,b:()=>g});var o=()=>t(906745),i=t(296540),a=()=>t(762433),s=()=>t(97065),r=()=>t(69708),l=()=>t(934839),c=()=>t(209660),u=()=>t(179030),d=()=>t(135552),p=()=>t(150193),m=()=>t(324561),y=()=>t(775916),b=()=>t(152197),v=t(474848);function g(e){const{legacyColor:n}=e,t=(0,v.jsx)(r().sA,{id:"app.banner.trial_subscription.add_payment_method",defaultMessage:"Add a payment method to continue using your free trial. You will not be charged until the end of your trial period."}),o=(0,v.jsx)(r().sA,{id:"app.banner.trial_subscription.add_payment_method.call_to_action",defaultMessage:"Add payment method"});return(0,v.jsx)(u().l,{label:t,display:"full-width",actions:[{label:o,onClick:()=>{c().Ow({currentTab:"billing"})}}],tint:(0,d().V)(n)})}function f(){const e=(0,b().r)(),n=(0,m().lh)({spaceId:e}),t=(0,y().p)();let r;const c="admin"===(null==n?void 0:n.type)&&(0,a().i5)(n);r=!(!c||!t)&&(!(0,a().N8)(n)&&(!n.paymentMethod&&(!(0,s().DH)(t.offer.campaign)&&o().c9.now()>(null==c?void 0:c.minus({days:15}))))),i.useEffect((()=>(r?l().HQ({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner",contentKey:"subscription_trial_add_payment_method",styleKey:d().q.Yellow,prepend:!0}):l().zA({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner"}),()=>{l().zA({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner"})})),[r])}},966689:(e,n,t)=>{t.d(n,{A:()=>_,i:()=>h});var o=()=>t(906745),i=t(296540),a=()=>t(484714),s=()=>t(401497),r=()=>t(148307),l=()=>t(762433),c=()=>t(534177),u=()=>t(559506),d=()=>t(934839),p=()=>t(179030),m=()=>t(135552),y=()=>t(152197),b=()=>t(57605),v=()=>t(150193),g=()=>t(324561),f=t(474848);function h(e){const{legacyColor:n}=e,t=(0,y().r)(),d=(0,g().lh)({spaceId:t}),v=(0,l().q8)(d),h=(0,l().DS)(d),_=null==d?void 0:d.clock.externalId,[w,A]=(0,i.useState)(1),[j,k]=(0,i.useState)("second"),[C,S]=(0,i.useState)(!1),I=(0,a().v3)(),T=(0,s().IS)((e=>({message:{flexGrow:1,textWrap:"wrap"}})),[]);if(!t||!_||!v)return null;const M=async()=>{const e=o().dw.fromObject({[j]:w}),n=function(e){switch(e){case"month":return o().dw.fromObject({months:2});case"year":return o().dw.fromObject({years:2});default:(0,c().HB)(e)}}(v);if(e>n)return void x(`Cannot advance test clock by more than two billing intervals. The current billing interval is ${v}.`);S(!0);"success"===(await u().callApi({eventName:"stripeAdvanceTestClock",environment:I,data:{spaceId:t,epochSeconds:h.plus(e).toSeconds()}})).type?await Promise.all([b().T.resetData(I,{spaceId:t})]):x("Failed to advance test clock. Check server logs for details."),S(!1)},B=(0,f.jsxs)("div",{style:T.message,children:["The clock time is currently frozen at ",h.toLocaleString(o().c9.DATETIME_FULL)]}),P=[{label:(0,f.jsx)("input",{disabled:C,type:"number",value:w,style:{width:75,textAlign:"end"},onChange:e=>A(parseInt(e.target.value))}),onClick:()=>{}},{label:(0,f.jsxs)("select",{disabled:C,value:j,onChange:e=>{k(e.target.value)},children:[(0,f.jsx)("option",{value:"seconds",children:"seconds"}),(0,f.jsx)("option",{value:"minutes",children:"minutes"}),(0,f.jsx)("option",{value:"hours",children:"hours"}),(0,f.jsx)("option",{value:"days",children:"days"}),(0,f.jsx)("option",{value:"months",children:"months"}),(0,f.jsx)("option",{value:"years",disabled:"year"!==v,children:"years"})]}),onClick:()=>{}},{label:"Advance clock",onClick:()=>M()},{label:C?(0,f.jsx)("img",{src:r().A.images.clubPenguinDanceGif,alt:"loading...",style:{width:48}}):(0,f.jsx)("div",{style:{width:48}}),onClick:()=>{}}];return(0,f.jsx)(p().l,{label:B,display:"full-width",actions:P,tint:(0,m().V)(n)})}function _(){var e;const n=(0,y().r)(),t=(0,g().lh)({spaceId:n}),o=(0,l().Fq)(t)&&(null==t||null===(e=t.clock)||void 0===e?void 0:e.externalId);i.useEffect((()=>(o?d().HQ({bannerStore:v().A,id:"TestClockBanner",contentKey:"test_clock",styleKey:m().q.Yellow,prepend:!0}):d().zA({bannerStore:v().A,id:"TestClockBanner"}),()=>{d().zA({bannerStore:v().A,id:"TestClockBanner"})})),[o])}function x(e){}},978510:(e,n,t)=>{t.d(n,{R:()=>u});var o=()=>t(484714),i=()=>t(56366),a=()=>t(187174),s=()=>t(588703),r=()=>t(765957),l=()=>t(417123),c=()=>t(266615);function u(){const e=(0,i().O$)(r().AppStoreSidebarSpaceStore),n=(0,o().v3)(),t=(0,i().K8)((()=>(0,c().J)({environment:n})),[n]),[{value:u,status:d}]=(0,a().Yb)((async()=>await(0,l().z)({userId:n.currentUser.id,spaceStore:e,environment:n})),[e,n]),p=(0,i().K8)((()=>!(!r().default.state.mainEditorCurrentBlockStore||!t)&&(0,s().r)({environment:n,store:r().default.state.mainEditorCurrentBlockStore})),[n,t]);return"pending"===d?{showNoWorkspaceExperience:t,userType:void 0}:{showNoWorkspaceExperience:t,userType:u,isOnGettingStartedPage:p&&t}}},985315:(e,n,t)=>{t.d(n,{g:()=>s});var o=()=>t(484714),i=()=>t(56366),a=()=>t(126410);function s({spaceId:e}){const n=(0,o().v3)();return(0,i().K8)((()=>{if(e)return a().A.getData(n,{spaceId:e})}),[n,e])}}}]);