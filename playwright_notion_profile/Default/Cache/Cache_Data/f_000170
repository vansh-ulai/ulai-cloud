"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[26497,66425],{82926:(e,t,s)=>{s.d(t,{j8:()=>f,un:()=>p,p2:()=>g,WE:()=>c,n5:()=>h,Xn:()=>m});var n=()=>s(161479);const a=(0,s(583835).Dv)("restoreSnapshot");var i=()=>s(570323),r=()=>s(314529);var o=()=>s(136833);var l=()=>s(357625),d=()=>s(496414);const u=(0,s(69708).YK)({restoringPreviousVersion:{id:"historyModalActions.restoringPreviousVersion.loadingMessage",defaultMessage:"Restoring…"}});function c(e){const{environment:t,from:s,...n}=e;!function(e,t){(0,r().DO_NOT_USE_trackLegacy)(e,"open_history",{from:t})}(t,s),i().A.setState({...n,open:!0,size:50})}function g(){const e=i().A.state;e.open&&i().A.setState({...e,size:e.size+20})}function p(){i().A.setState({open:!1})}function m(e){const{environment:t,snapshot:s,nextFutureSnapshot:n}=e;!function(e,t){(0,r().DO_NOT_USE_trackLegacy)(e,"select_snapshot",{ageMs:(0,o().S)(t)})}(t,s);const a=i().A.state;a.open&&i().A.setState({...a,snapshot:s,nextFutureSnapshot:n,openSnapshotNearTimestamp:void 0})}function f(){const e=i().A.state;e.open&&i().A.setState({...e,snapshot:void 0,nextFutureSnapshot:void 0})}async function h(e,t){if(!i().A.state.open||!i().A.state.snapshot)return;if(!i().A.state.snapshot)return;!function(e,t){(0,r().DO_NOT_USE_trackLegacy)(e,"restore_snapshot",{ageMs:(0,o().S)(t)})}(e,i().A.state.snapshot),d().m({message:u.restoringPreviousVersion});const s=await l().UT(e,a,{block:{id:i().A.state.blockStore.id,spaceId:(0,n().e)(i().A.state.blockStore.pointer.spaceId)},timestamp:i().A.state.snapshot.timestamp,shouldRestoreCollection:t??!1},{spaceIds:[]}).next();if(d().V(),s.value.error)throw s.value.error}},136833:(e,t,s)=>{function n(e){return Date.now()-parseInt(e.timestamp)}s.d(t,{S:()=>n})},141273:(e,t,s)=>{s.d(t,{g:()=>l});var n=s(296540),a=()=>s(484714),i=()=>s(152197),r=()=>s(749356),o=()=>s(985315);function l(e){var t;const s=(0,a().v3)(),[l,d]=(0,n.useState)(),u=(0,i().r)(),c=(null===(t=(0,o().g)({spaceId:u}))||void 0===t?void 0:t.length)??0;return(0,n.useEffect)((()=>{!async function(){u&&d(await(0,r().L6)({environment:s,spaceId:u,offerCampaign:e}))}()}),[s,u,e,c]),l}},168345:(e,t,s)=>{s.d(t,{L:()=>a});s(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.13 15.26 14.86",svg:(0,s(474848).jsx)("path",{d:"M15.5 3.13c1.174 0 2.125.951 2.125 2.125v7.5A2.125 2.125 0 0 1 15.5 14.88h-4.935l-3.871 2.978a.625.625 0 0 1-1.006-.496V14.88H4.5a2.125 2.125 0 0 1-2.125-2.125v-7.5c0-1.174.951-2.125 2.125-2.125zm.875 2.125a.875.875 0 0 0-.875-.875h-11a.875.875 0 0 0-.875.875v7.5c0 .483.392.875.875.875h1.813c.345 0 .625.28.625.625v1.838l3.033-2.334a.63.63 0 0 1 .381-.13H15.5a.875.875 0 0 0 .875-.874z"})},a=(0,s(340498).wt)("comment",n)},210198:(e,t,s)=>{s.d(t,{Z:()=>H,Y:()=>ae});s(581454);var n=s(296540),a=()=>s(484714),i=()=>s(401497),r=()=>s(699143),o=()=>s(160432),l=()=>s(493552),d=()=>s(168345),u=()=>s(762433),c=()=>s(69708),g=()=>s(534177),p=()=>s(209660),m=()=>s(641300),f=()=>s(702723),h=()=>s(606273),y=()=>s(384100),v=()=>s(645109),x=()=>s(324561),S=()=>s(479314),b=()=>s(568688);var w=()=>s(920769),M=()=>s(827774),j=()=>s(911964),I=()=>s(599500),A=()=>s(56366),C=()=>s(227791),_=()=>s(631524),T=()=>s(798880),q=()=>s(979340),R=()=>s(903706),P=()=>s(347063),k=()=>s(107683),D=()=>s(453697),B=()=>s(475971),U=()=>s(2609),z=()=>s(369955),V=()=>s(870092),L=()=>s(543786),N=s(474848);function W({feature:e,request:t,userId:s,onDismiss:n}){const r=(0,c().tz)(),d=(0,z().L)(),g=(0,a().v3)(),p=(0,x()._3)({spaceId:null==d?void 0:d.id}),m=(0,i().IS)((e=>({fullWidth:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...B().W,height:32,color:e.text.secondary},input:{color:e.text.primary}})),[]),{userStore:f,userDisplayName:h}=(0,A().K8)((()=>{if(!d||!s)return{userStore:void 0,userDisplayName:void 0};const e=V().L.createChildStore(d,{table:T().oo,id:s});return{userStore:e,userDisplayName:e.getDisplayName(r)}}),[d,s,r]),{entrypoint:y}=t,v=(0,A().K8)((()=>{switch(y){case"ai_connectors_request_modal":return r.formatMessage(E.subtitleAiConnectorsModal);case"ai_for_work_announcement_modal":return r.formatMessage(E.subtitleAiForWorkModal);default:return r.formatMessage(E.subtitlePlans)}}),[r,y]),S=(0,A().K8)((()=>u().N8(p)),[p]),b=(0,L().t)(),w=ae(t.request,S,b);return w?(0,N.jsx)(k().s,{ariaLabel:r.formatMessage(E.ariaLabel),isOpen:!0,onDismiss:n,showCloseIcon:!0,areaConstraint:{width:{type:"fixed",length:400},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,N.jsx)(P().tf,{showDismissButton:!1,header:(0,N.jsx)(U().rQ,{icon:(0,N.jsx)(D().A,{userStore:f,size:40}),title:r.formatMessage(E.title,{feature:q().v0[e].defaultMessage,user:h}),byline:v}),footer:(0,N.jsx)(C().Y,{gap:16,children:(0,N.jsxs)(C().Y,{gap:8,children:[(0,N.jsx)(o().A,{colorPalette:"blue","aria-label":r.formatMessage(w),onClick:async()=>{await(0,j().F)({environment:g,spaceStore:d,billingData:p,product:t.request,from:"upgrade_requests_page"}),n()},style:{height:32},children:r.formatMessage(w)}),(0,N.jsx)("div",{style:{textAlign:"center"},children:(0,N.jsx)(l().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:r.formatMessage(E.billingNotice)})}),(0,N.jsx)(_().p,{size:"lg",onClick:n,style:{...m.fullWidth,...m.cancelButton},"aria-label":r.formatMessage(E.cancelButton),children:r.formatMessage(E.cancelButton)})]})}),children:(0,N.jsxs)(C().Y,{gap:8,children:[(0,N.jsx)(l().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:r.formatMessage(E.noteLabel)}),(0,N.jsxs)(C().Y,{style:{position:"relative"},gap:8,children:[(0,N.jsx)(R().A,{disabled:!0,format:R().C.Large,value:t.reason_for_request,inputStyle:{...m.input,paddingBottom:24},textarea:!0,autosize:!0}),(0,N.jsx)(l().D,{styleKey:"Caption/Regular",colorVariant:"secondary",style:{position:"absolute",bottom:8,insetInlineStart:8},children:r.formatDate(t.created_time,{year:"numeric",month:"long",day:"numeric"})})]})]})})}):null}const E=(0,c().YK)({cancelButton:{id:"viewUpgradeRequestModal.cancelButton",defaultMessage:"Cancel"},billingNotice:{id:"viewUpgradeRequestModal.billingNotice",defaultMessage:"You’ll be able to confirm the updated bill on the next step"},subtitlePlans:{id:"viewUpgradeRequestModal.subtitlePlans",defaultMessage:"This request was made from the Plans page"},subtitleAiConnectorsModal:{id:"viewUpgradeRequestModal.subtitleAiConnectorsModal",defaultMessage:"This request was made from AI Connector onboarding."},subtitleAiForWorkModal:{id:"viewUpgradeRequestModal.subtitleAiForWorkModal",defaultMessage:"This request was made from the AI for Work announcement."},title:{id:"viewUpgradeRequestModal.title",defaultMessage:"{user} would like access to Notion {feature}"},ariaLabel:{id:"viewUpgradeRequestModal.modal.ariaLabel",defaultMessage:"View plan request modal"},noteLabel:{id:"viewUpgradeRequestModal.noteLabel",defaultMessage:"Note"}});var F=()=>s(252291),K=()=>s(406094);function O({title:e,loadedIconFunction:t,buttonAction:s,buttonText:n,buttonAriaLabel:a}){return(0,N.jsxs)(r().Y1,{gap:16,align:"center",direction:"vertical",padding:"32px 0 88px 0",height:"fill",children:[(0,N.jsx)(F().I,{icon:t,size:"xl",colorVariant:"tertiary"}),(0,N.jsx)(l().D,{style:{textAlign:"center"},styleKey:"Body/Regular",colorVariant:"secondary",children:e}),(0,N.jsx)(K().A,{size:"lg",onClick:s,ariaLabel:a,children:(0,N.jsx)(l().D,{style:{textAlign:"center"},styleKey:"Body/Medium",children:n})})]})}var Y=()=>s(383716);function H({spaceStore:e}){const t=(0,c().tz)(),{setPage:s,isSalesEligible:a}=(0,n.useContext)(S().K),{requests:i,isLoading:o}=(0,b().I)({spaceId:e.id});if(o)return null;const l=Object.keys(i).length,u=1===l,m=0===l;return(0,N.jsxs)(r().Y1,{height:"fill",direction:"vertical",gap:32,padding:"36px 60px",style:{overflowY:"auto"},children:[(0,N.jsx)(Y().n,{title:t.formatMessage(ie.title),goBack:()=>s("home")}),m?(0,N.jsx)(O,{title:t.formatMessage(ie.noRequestsTitle),buttonAriaLabel:"explore plans",buttonText:t.formatMessage(ie.noRequestsButtonTitle),buttonAction:()=>{p().Ow({currentTab:"plans"})},loadedIconFunction:d().L}):(0,g().WP)(i).map((([t,s])=>s?(0,N.jsx)($,{expandByDefault:!0,hasOneRequestType:u,requestType:t,requests:s,spaceStore:e,isSalesEligible:a},t):null))]})}function $({expandByDefault:e=!1,requestType:t,requests:s,spaceStore:i,isSalesEligible:l,hasOneRequestType:d}){const g=(0,a().v3)(),p=(0,x()._3)({spaceId:i.id}),[m,h]=n.useState(e),y=(0,c().tz)(),S=u().N8(p),b=ae(t,S,l),A=async()=>{await(0,j().F)({environment:g,spaceStore:i,billingData:p,product:t,from:"upgrade_requests_page"})},C=(0,w().O)(),_="business"===t,T=_&&C,q=u().TB(p)&&"business"===u().AI(p),{showTrialInfoModal:R}=(0,M().C)();return(0,N.jsxs)("div",{children:[(0,N.jsx)(f().A,{title:(0,N.jsx)(G,{requestType:t,requestCount:s.length,isExpanded:m,handleClick:()=>{h(!m)},shouldHideToggle:d}),type:"custom",isMobile:!1,disableSettingsItemClick:!0,badge:_&&q?(0,N.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,N.jsx)(I().g,{showIcon:!1,onClick:()=>R({openedFrom:"upgrade_requests_page"}),trialProducts:u().N(p)})}):void 0,customButton:b&&(0,N.jsxs)(r().Y1,{direction:"horizontal",gap:8,align:"center-right",children:[T?(0,N.jsx)(v().c,{openedFrom:"upgrade_requests_page",onClick:A,styleOverrides:{flex:"none",height:28,padding:"4px 8px"}}):void 0,(0,N.jsx)(o().A,{colorPalette:"blue",onClick:A,children:y.formatMessage(b)})]})}),m?(0,N.jsx)(ne,{spaceStore:i,requests:s}):void 0]})}function G({handleClick:e,isExpanded:t,requestType:s,requestCount:n,shouldHideToggle:a}){const o=(0,c().tz)(),d=function(e){switch(e){case"ai":return ie.ai;case"business":return ie.business;case"enterprise":return ie.enterprise;default:return null}}(s),u=(0,i().IS)((e=>({toggleButton:{color:e.icon.primary}})),[]);return(0,N.jsxs)(r().Y1,{direction:"horizontal",gap:6,align:"center-left",width:"hug",padding:"0px 6px 0px 0px",children:[a?void 0:(0,N.jsx)(h().f,{isSidebar:!1,fill:!0,onClick:()=>{e()},open:t,color:u.toggleButton.color}),d?(0,N.jsx)(l().D,{styleKey:"Body/Medium",colorVariant:"primary",children:o.formatMessage(d)}):void 0,(0,N.jsx)(l().D,{styleKey:"Body/Regular",colorVariant:"secondary",children:n})]})}const J={id:"note",headerTitle:(0,N.jsx)(c().sA,{id:"RequestsSettingsPage.UpgradesPage.noteColumn",defaultMessage:"Note"}),renderCell:({value:e})=>(0,N.jsx)(X,{value:e}),sortable:!1,widthData:{minWidth:150,maxWidth:310,widthPercent:37}};function X(e){const t=e.value.reason_for_request??"—",s=(0,i().IS)((e=>({container:{width:"100%"},textWithEllipsis:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[]);return(0,N.jsx)("div",{style:s.container,children:(0,N.jsx)(l().D,{style:s.textWithEllipsis,styleKey:"Body/Regular",children:t})})}function Q({value:e,isRowHovered:t}){const a=(0,c().tz)(),[o,l]=n.useState(!1),[d,u]=n.useState(null),g=(0,i().IS)((e=>({icon:{height:14,width:14,color:e.icon.secondary}})),[]),p=a.formatMessage({id:"RequestsSettingsPage.UpgradesPage.viewDetail",defaultMessage:"View Detail"});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(r().Y1,{direction:"horizontal",width:"fill",gap:"auto",align:"center",children:t?(0,N.jsx)(s(859428).A,{placement:"top",renderTooltip:()=>p,render:t=>(0,N.jsx)(s(285790).A,{ariaLabel:p,hasBackground:!0,icon:s(8741).arrowDiagonalUpRightSmallIcon,showShadow:!0,iconStyle:g.icon,onClick:t=>{u(e),l(!0),t.stopPropagation()},...t})}):void 0}),o&&d?(0,N.jsx)(W,{feature:d.request,request:d,userId:d.created_by_id,onDismiss:()=>l(!1)}):void 0]})}const Z={id:"date",headerTitle:(0,N.jsx)(c().sA,{id:"RequestsSettingsPage.UpgradesPage.dateColumn",defaultMessage:"Date"}),renderCell:({value:e})=>(0,N.jsx)(s(625383).d,{dateTs:e.created_time}),sortable:!1,widthData:{minWidth:150,maxWidth:240,widthPercent:24}},ee={id:"dateWithViewDetail",headerTitle:"",renderCell:({value:e,isRowHovered:t})=>(0,N.jsx)(Q,{value:e,isRowHovered:t}),sortable:!1,widthData:{minWidth:100,maxWidth:100,widthPercent:6}},te=[{id:"requestedBy",headerTitle:(0,N.jsx)(c().sA,{id:"RequestsSettingsPage.UpgradesPage.requestedByColumn",defaultMessage:"Requested By"}),renderCell:({userStore:e})=>(0,N.jsx)(s(317131).l,{customAvatarStyles:{marginInlineEnd:8},userStores:[e]}),sortable:!1,widthData:{minWidth:150,maxWidth:240,widthPercent:30}},J,Z,ee],se=8;function ne({requests:e,spaceStore:t}){const[s,a]=n.useState(!1),[r,o]=n.useState(null),{header:l}=(0,i().IS)((e=>({header:{boxShadow:`inset 0 -1px 0 ${e.tableDividerColor}`}})),[]),d=te.map((e=>({...e,headerStyle:l}))),u=(0,i().IS)((e=>{const t=(0,m().rC)({columnRenderInfo:d,theme:e,containerMarginTop:8});return{...t,container:{...t.container,width:"100%"}}}),[d]),c=e.map((e=>({value:e,userStore:(0,y().z5)({userId:e.created_by_id,currentSpaceStore:t}),id:e.id,isClickable:!0}))),{pageRows:g,loadMoreMethod:p}=function({rows:e,limit:t}){const[s,a]=(0,n.useState)(t),[i,r]=(0,n.useState)(0),o=e.length,l=o>t;return{pageRows:(0,n.useMemo)((()=>l?e.slice(i,s):e),[e,i,s,l]),loadMoreMethod:(0,n.useMemo)((()=>{if(l)return{type:"pages",onLoadNext:()=>{if(s>=o)return;const e=Math.min(s+t,o);a(e),r(i+t)},onLoadPrevious:()=>{0!==i&&(a(i),r(i-t))},hasNextPage:s<o,hasPrevPage:i>0,currentPage:Math.floor(i/t)+1,finalPage:Math.floor(o/t)+1}}),[o,i,s,t,l])}}({rows:c,limit:se});return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(m().WE,{columnRenderInfo:d,rows:g,hideHeaderRowPadding:!0,renderNoRowsComponent:()=>null,styles:u,loadMoreMethod:p,onRowClick:e=>{o(e.value),a(!0)},showRowBorders:!0}),s&&r?(0,N.jsx)(W,{feature:r.request,request:r,userId:r.created_by_id,onDismiss:()=>a(!1)}):void 0]})}function ae(e,t,s){if(t||s&&"enterprise"===e)return ie.contactSales;switch(e){case"ai":return ie.aiUpgrade;case"business":case"enterprise":return ie.planUpgrade;default:return null}}const ie=(0,c().YK)({title:{id:"RequestsSettingPage.UpgradePage.title",defaultMessage:"Upgrades"},aiUpgrade:{id:"RequestsSettingsPage.UpgradesPage.aiUpgrade",defaultMessage:"Upgrade AI"},planUpgrade:{id:"RequestsSettingsPage.UpgradesPage.planUpgrade",defaultMessage:"Upgrade Plan"},contactSales:{id:"RequestsSettingsPage.UpgradesPage.contactSales",defaultMessage:"Contact Sales"},ai:{id:"RequestsSettingsPage.UpgradesPage.notionAI",defaultMessage:"Notion AI"},business:{id:"RequestsSettingsPage.UpgradesPage.business",defaultMessage:"Business"},enterprise:{id:"RequestsSettingsPage.UpgradesPage.enterprise",defaultMessage:"Enterprise"},noRequestsTitle:{id:"RequestsSettingsPage.UpgradesPage.NoPendingRequestsTitle",defaultMessage:"No upgrade requests in your workspace"},noRequestsButtonTitle:{id:"RequestsSettingsPage.UpgradesPage.NoPendingRequestsButtonTitle",defaultMessage:"Explore plans"}})},317131:(e,t,s)=>{s.d(t,{p:()=>j,l:()=>b});s(581454),s(296540);var n=()=>s(484714),a=()=>s(56366),i=()=>s(401497),r=()=>s(252291),o=()=>s(631524),l=()=>s(733816),d=()=>s(695608),u=()=>s(69708),c=()=>s(27579),g=()=>s(125565),p=()=>s(453697),m=()=>s(859428),f=()=>s(75491);function h({totalCount:e,shownCount:t}){const s=e-t;return s>0?s:0}var y=()=>s(566468),v=s(474848);const x=24,S=4;function b({userStores:e,isClickable:t,useSecondaryColorTitle:s,useIconsOnly:r,totalCount:o,customAvatarStyles:l}){const y=(0,u().tz)(),b=(0,n().v3)(),j=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:"auto",paddingTop:8,paddingBottom:8},iconsWrapper:{display:"flex",flexDirection:"row",alignItems:"center"},icons:{display:"flex",flexDirection:"row",alignItems:"center"},iconContainer:{marginInlineEnd:-x/4,display:"flex",alignItems:"center",justifyContent:"center"},avatar:{marginInlineEnd:4,...l},plusMore:{opacity:.5,marginInlineStart:4,display:"inline-block"},tooltip:{color:e.text.inversePrimary,fontSize:12}})),[l]),I=e.slice(0,S),A=(0,a().K8)((()=>{if(I[0])return I.map((e=>{if(e)return e.computeWithRecordValues((({getRecordValueAndSubscribe:t})=>t(e)))}))}),[I]),C=A&&A[0];let _=(0,v.jsxs)("div",{style:j.container,children:[(0,v.jsx)(p().A,{style:j.avatar,userValue:C,size:x}),(0,v.jsx)(u().sA,{id:"baseTable.usersCell.userName",defaultMessage:"{remainingCount, plural, =0 {<user>{firstUser}</user>} one {<user>{firstUser}</user><gray>+{remainingCount}</gray>} other {<user>{firstUser}</user><gray>+{remainingCount}</gray>}}",values:{firstUser:(0,d().c6)(y,C),remainingCount:h({totalCount:o||e.length,shownCount:1}),user:(...e)=>(0,v.jsx)(g().A,{isSecondaryColor:s,children:e}),gray:(...e)=>(0,v.jsx)(g().A,{style:j.plusMore,children:e})}})]});if(r){const t=h({totalCount:o||e.length,shownCount:I.length});_=(0,v.jsxs)("div",{style:j.iconsWrapper,children:[(0,v.jsx)("div",{style:j.icons,children:null==A?void 0:A.map(((e,t)=>(0,v.jsx)("div",{style:j.iconContainer,children:(0,v.jsx)(p().A,{userValue:e,size:x})},(null==e?void 0:e.id)||t)))}),t>0?(0,v.jsx)(u().sA,{id:"baseTable.usersCell.remainingUsers",defaultMessage:"<gray>+{remainingCount}</gray>",values:{remainingCount:t,gray:(...e)=>(0,v.jsx)(g().A,{style:{...j.plusMore,marginInlineStart:j.plusMore.marginInlineStart+-1*j.iconContainer.marginInlineEnd},children:e})}}):void 0]})}if(!t)return(0,v.jsx)(m().A,{disableTooltip:e.length<=1,render:e=>(0,v.jsx)("div",{...e,children:_}),renderTooltip:()=>(0,v.jsx)(v.Fragment,{children:e.map(((e,t)=>(0,v.jsx)(g().A,{style:j.tooltip,children:(0,v.jsx)(M,{userStore:e})},e?e.id:t)))})});const T=e.map(((e,t)=>({key:null!=e&&e.id?null==e?void 0:e.id:t,render:t=>(0,v.jsx)(w,{userStore:e,...t}),action:()=>null!=e&&e.getEmail?(0,c().L)({environment:b,url:`mailto:${null==e?void 0:e.getEmail()}`}):void 0})));return(0,v.jsx)(f().ED,{hideDropdownIcon:!0,title:_,items:T,itemMaxWidth:380})}function w({userStore:e,...t}){const s=(0,a().K8)((()=>null==e?void 0:e.computeWithRecordValues((({getRecordValueAndSubscribe:t})=>t(e)))),[e]),n=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",height:"auto",paddingBlock:8,marginInline:4},avatarContainer:{display:"flex",justifyContent:"center",alignItems:"center"},copyContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginInlineStart:"auto",opacity:.5},nameContainer:{marginInlineStart:8,marginInlineEnd:8},name:{fontSize:14,lineHeight:1.2,maxWidth:400},email:{fontSize:12,lineHeight:1.2,opacity:.5,maxWidth:400}})),[]);return(0,v.jsxs)(o().p,{style:n.container,...t,children:[(0,v.jsx)("div",{style:n.avatarContainer,children:(0,v.jsx)(p().A,{userValue:s,size:x})}),(0,v.jsxs)("div",{style:n.nameContainer,children:[(0,v.jsx)(g().A,{style:n.name,children:(0,v.jsx)(M,{userStore:e})}),s?(0,v.jsx)(g().A,{style:n.email,children:s.email}):null]}),(0,v.jsx)("div",{style:n.copyContainer,children:(0,v.jsx)(r().I,{icon:l().o})})]})}function M(e){const t=(0,u().tz)(),{userStore:s}=e,n=(0,a().K8)((()=>null==s?void 0:s.computeWithRecordValues((({getRecordValueAndSubscribe:e})=>e(s)))),[s]);return(0,v.jsx)(v.Fragment,{children:(0,d().c6)(t,n)})}function j(){const e=(0,i().IS)((()=>({icon:{borderRadius:"100%"},title:{width:"80%"}})),[]);return(0,v.jsx)(y().mf,{titleStyles:e.title,includeIcon:!0,iconStyles:e.icon})}},350648:(e,t,s)=>{s.d(t,{D2:()=>M,Ip:()=>S,Jk:()=>b,YT:()=>w,e2:()=>v,g:()=>x});s(517642),s(658004),s(733853),s(845876),s(432475),s(515024),s(731698),s(898992),s(354520);var n=()=>s(929219),a=()=>s(584262),i=()=>s(798880),r=()=>s(946141),o=()=>s(559506),l=()=>s(384944),d=()=>s(471995),u=()=>s(601866),c=()=>s(231297),g=()=>s(972435),p=()=>s(406767),m=()=>s(765957),f=()=>s(848237),h=()=>s(51781);const y=(0,s(69708).YK)({joinTeamSuccessMessage:{id:"teamInviteLinkActions.joinTeam.confirmationMessage",defaultMessage:"Joined {teamName}"},requestTeamSuccessMessage:{id:"teamInviteLinkActions.requestAccess.successMessage",defaultMessage:"Successfully requested membership"},requestTeamFailureMessage:{id:"teamInviteLinkActions.requestAccess.failureMessage",defaultMessage:"Failed to request membership"}});async function v({environment:e,userId:t,teamStore:s,user:n}){const a=s.getSpaceId();if(!a)return;await f().rU({environment:e,teamId:s.id,spaceId:a,teamUserInfo:n,isSettingDefaultTeam:!1,inviterId:t})&&(r().vo(e,{store:s,joined_role:"member",from:"team_invite_link"}),await x({environment:e,userId:t,teamStore:s}),d().D6({label:g().A.formatMessage(y.joinTeamSuccessMessage,{teamName:s.getName()})}))}async function x({environment:e,userId:t,teamStore:s}){const i=m().default.state.currentUserRootStore,r=s.getSpaceId();if(!r||!i)return;const o=i.getSpaceViewStores().filter((e=>e.getSpaceId()===r))[0];await u().tR({environment:e,spaceViewStore:o,userSettingsStore:void 0,userRootStore:i,pageVisitSource:a().y8.JoinTeam,navigationType:"switchingToOrLoadingSpace"}),(0,h().Vs)();n().A.state.online&&(0,h().VO)({userId:t,spaceId:r,teamTypes:new Set(["Joined"]),environment:e}),f().L0({environment:e,teamStore:s,shouldScroll:!0})}async function S({environment:e,teamId:t,message:s}){if(!e.currentUser.id)return;"success"===(await o().callApi({eventName:"requestAccess",environment:e,data:{type:"current-actor-to-team",teamId:t,message:s}})).type?(r().XQ(e,{teamId:t}),await w({environment:e}),new Promise((e=>setTimeout(e,500))).then((()=>{d().D6({label:g().A.formatMessage(y.requestTeamSuccessMessage)})}))):d().D6({label:g().A.formatMessage(y.requestTeamFailureMessage)})}async function b({environment:e,teamStore:t,accessRequestStore:s,status:n}){const a=s.getForActorId();if(!a)return;const o=s.getRecordModel({table:i().oo,id:a});if(o){if("approved"===n){const s=[{type:"member",entity_type:"user",user_id:o.id}];if(!(await f().Zd({environment:e,teamStore:t,teamMemberInfos:s,isSettingDefaultTeam:!1,createNewTeamFlowId:void 0})))return}c().createAndCommit({userAction:"GrantAccessActivityAction.handleGrantAccess",environment:e,canUndo:!0,perform:t=>{l().zv({store:s,transaction:t,data:{resolved_time:Date.now(),resolved_by_table:i().oo,resolved_by_id:e.currentUser.id,status:n}})}}),r().GW(e,{store:t,resolution:n})}}async function w({environment:e}){const{lastVisitedSpaceView:t,userRootStore:s,userSettingsStore:n}=await(0,p().e)({environment:e,disableRedirectUrl:!1});t?await u().tR({environment:e,spaceViewStore:t,userRootStore:s,userSettingsStore:n,pageVisitSource:a().y8.BackForward,navigationType:"switchingToOrLoadingSpace"}):await u().t9({environment:e,userRootStore:s,userSettingsStore:n,pageVisitSource:a().y8.BackForward})}async function M({environment:e,teamId:t}){const s=await o().callApi({eventName:"getTeamAccessRequestMetadata",environment:e,data:{teamId:t}});if("success"===s.type)return s.data}},383716:(e,t,s)=>{s.d(t,{n:()=>c});s(296540);var n=()=>s(484714),a=()=>s(699143),i=()=>s(879765),r=()=>s(69708),o=()=>s(284371),l=()=>s(285790),d=()=>s(8178),u=s(474848);function c(e){const t=(0,r().tz)(),{title:s,goBack:c}=e,g=(0,n().v3)(),{isMobile:p}=g.device;return(0,u.jsxs)(a().Y1,{direction:"horizontal",gap:6,children:[c?(0,u.jsx)(l().A,{ariaLabel:t.formatMessage({id:"requestsPageHeader.back",defaultMessage:"Back"}),icon:i().$,onClick:c}):void 0,(0,u.jsx)(d().A,{large:!p,divider:"none",fontSize:16,fontWeight:o().Wy.medium,style:{marginBottom:0},children:s})]})}},384100:(e,t,s)=>{s.d(t,{l5:()=>r,z5:()=>i});var n=()=>s(798880),a=()=>s(870092);function i({userId:e,currentSpaceStore:t}){return a().L.createChildStore(t,{table:n().oo,id:e})}function r(e){const{blockStore:t,actorPointer:s}=e;if(s.table===n().oo&&null!=t&&t.isDefined())return a().L.createChildStore(t,{table:n().oo,id:s.id})}},479314:(e,t,s)=>{s.d(t,{K:()=>a});const n={currentPage:"home",setPage:()=>{},isSalesEligible:!1},a=(0,s(296540).createContext)(n);a.displayName="RequestsSettingsPageContext"},543786:(e,t,s)=>{s.d(t,{t:()=>d});var n=()=>s(484714),a=()=>s(56366),i=()=>s(369955),r=()=>s(824973),o=()=>s(324561),l=()=>s(946473);function d(){const e=(0,n().v3)(),t=(0,i().L)(),s=(0,o().lh)({spaceId:null==t?void 0:t.id}),d=(0,a().K8)((()=>r().T.getData(e,{userId:e.currentUser.id||""})),[e]);return(0,a().K8)((()=>(0,l().q)(d,t,s)),[d,t,s])}},622936:(e,t,s)=>{s.r(t),s.d(t,{AgentIcon:()=>d,DefaultAgentIcon:()=>u});var n=s(296540),a=()=>s(59226),i=()=>s(783793),r=()=>s(187820),o=()=>s(963141),l=s(474848);function d(e){const{agentIcon:t,workflowStore:s,size:i,animated:d=!1}=e,u=(0,a().X)("animated_custom_agent_faces"),c=(0,n.useMemo)((()=>(0,o().D)({workflowStore:s,workflowIcon:t,size:i,animated:d&&u})),[t,s,i,d,u]);return(0,l.jsx)(r().B6,{icon:c,iconRecordCategory:"workflow",isEmptyPage:!1,size:i,disabled:!0})}function u(e){const t=(0,n.useCallback)((()=>e.size<22?"xsmall":e.size<28?"avatar":e.size<36?"small":e.size<42?"medium":e.size<48?"medium_plus":e.size<50?"medium_large":e.size<94?"large":"xlarge"),[e.size]);return(0,l.jsx)(i().x_,{variant:t(),style:{cursor:"default"}})}},625383:(e,t,s)=>{s.d(t,{d:()=>l,h:()=>d});s(296540);var n=()=>s(401497),a=()=>s(907514),i=()=>s(859428),r=()=>s(566468),o=s(474848);function l({dateTs:e,useSecondaryColorTitle:t,includeTime:s,tooltip:n,omitTooltip:l}){const d=(0,o.jsx)(r().s7,{useThinTitle:!0,useSecondaryColorTitle:t,title:s?(0,a().x$)(e,!0):(0,a().DG)(e)});return l?d:(0,o.jsx)(i().A,{render:e=>(0,o.jsx)("div",{...e,children:d}),renderTooltip:()=>n??(0,a().x$)(e)})}function d(){const e=(0,n().IS)((()=>({title:{width:"50%"}})),[]);return(0,o.jsx)(r().mf,{titleStyles:e.title})}},645109:(e,t,s)=>{s.d(t,{c:()=>c});var n=s(296540),a=()=>s(401497),i=()=>s(406094),r=()=>s(69708),o=()=>s(201361),l=()=>s(261505),d=()=>s(208603),u=s(474848);function c({openedFrom:e,styleOverrides:t}){const{animationState:s,animationTriggers:c}=(0,d().lP)(),p=(0,n.useMemo)((()=>{switch(e){case"business_trial_verify_pages_upsell":return"pageVerification";case"business_trial_private_teamspaces_upsell":return"privateTeamspaces";case"business_trial_ai_connectors_upsell":return"aiConnectors";case"upgrade_requests_page":return"free";default:return"blank"}}),[e]),m=(0,a().IS)((()=>({button:{display:"flex",alignItems:"center",flex:1}})),[]);return(0,u.jsx)(i().A,{...c,size:"lg",iconLeading:{type:"animated",icon:o().P,colorPalette:"orange",colorVariant:"accentPrimary",size:"sm",animationState:s},style:{...m.button,...t},onClick:()=>{(0,l().openBusinessTrialStartModal)({openedFrom:e})},children:(0,u.jsx)(r().sA,{...g[p]})})}const g=(0,r().YK)({blank:{id:"selfServeBusinessTrial.tryButton.blank",defaultMessage:"Try"},privateTeamspaces:{id:"selfServeBusinessTrial.tryButton.privateTeamspaces",defaultMessage:"Try for free"},aiConnectors:{id:"selfServeBusinessTrial.tryButton.connectors",defaultMessage:"Try connectors"},pageVerification:{id:"selfServeBusinessTrial.tryButton.pageVerification",defaultMessage:"Try for free"},free:{id:"selfServeBusinessTrial.tryButton.free",defaultMessage:"Try for free"}})},920769:(e,t,s)=>{s.d(t,{O:()=>r});var n=()=>s(56366),a=()=>s(153861),i=()=>s(141273);function r(){const e=(0,i().g)("stacked_business_trial"),t=(0,i().g)("business_reverse"),s=(0,i().g)("stacked_business_trial_14d"),r=(0,i().g)("business_reverse_14d"),o=(0,i().g)("mwn_stacked_business_trial_14d"),l=(0,i().g)("mwn_business_reverse_14d");return!(0,n().K8)((()=>(0,a().AE)()),[])&&(e||t||s||r||o||l)}}}]);