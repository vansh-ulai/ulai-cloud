"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[3476,3551],{8178:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);const o=function(e){const{divider:t,large:o,block:l,children:a,hasMarginTop:r,small:s,style:d,smallMarginBottom:c,isCritical:u,fontSize:g,fontWeight:p}=e,h=(0,n(401497).DP)(),f="full"===t;return(0,n(722872).Tf)()?(0,i.jsx)(n(493552).D,{styleKey:"Title-sm/Semibold",colorPalette:e.isCritical?"red":void 0,colorVariant:e.isCritical?"accentPrimary":"primary",style:{marginTop:r?16:0,paddingBottom:f?12:0},children:a}):(0,i.jsx)("div",{style:{borderBottom:f?`1px solid ${h.regularDividerColor}`:0,marginBottom:f?16:c?2:8,marginTop:r?16:0,paddingBottom:f?12:0,fontSize:g??f?16:o?14:s?12:14,fontWeight:p??f?n(284371).Wy.medium:400,width:l?"100%":"auto",color:u?n(100622).Tj.red:h.text.primary,...d},children:a})}},20508:(e,t,n)=>{n.d(t,{v:()=>o});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"4.65 2.91 5.84 10.18",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M4.87 7.47a.75.75 0 0 0 0 1.06l4.32 4.32a.75.75 0 1 0 1.06-1.06L6.46 8l3.79-3.79a.75.75 0 1 0-1.06-1.06z"})},o=(0,n(340498).wt)("arrowChevronSingleLeftFillSmall",i)},53718:(e,t,n)=>{n.d(t,{T:()=>o});var i=()=>n(44551);async function o(){var e;return null===i().electronApi||void 0===i().electronApi||null===(e=i().electronApi.getSqliteDiskUsage)||void 0===e?void 0:e.call(i().electronApi)}},56394:(e,t,n)=>{n.d(t,{A:()=>d});n(296540);var i=()=>n(484714),o=()=>n(401497),l=()=>n(718827),a=()=>n(606712),r=()=>n(668725),s=n(474848);function d(e){const{icon:t,title:n,on:d,disabled:c,hasDiff:u,wrapStyle:g,innerStyle:p,hideChevron:h}=e,{isMobile:f}=(0,i().Y0)(),x=(0,o().IS)((e=>({container:{borderRadius:14,marginInlineEnd:6,display:"inline-flex",...u&&{position:"relative"},...g},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:f?28:24,lineHeight:f?"28px":"24px",padding:"0 8px",color:e.text.secondary,...d&&{color:e.blue.text.accentPrimary,borderColor:e.blue.border.strong,background:e.blue.background.secondary},...c&&{color:e.blue.text.disabled,borderColor:e.blue.border.strong,background:e.blue.background.secondary},...p},hovered:d?{background:(0,a().R)({color:e.blue.background.secondary,mode:e.mode})}:{},pressed:d?{background:(0,a().y)({color:e.blue.background.secondary,mode:e.mode})}:{},chevron:{width:10,marginInlineStart:4,marginTop:1,fill:c?e.blue.icon.disabled:d?e.blue.icon.accentPrimary:e.icon.tertiary},diffDot:{position:"absolute",top:-2,insetInlineEnd:-2,background:e.orange.icon.accentPrimary,border:`1px solid ${e.background.primary}`,width:9,height:9,borderRadius:9}})),[u,g,f,d,c,p]);return(0,s.jsxs)("div",{style:x.container,children:[(0,s.jsxs)(l().Ay,{disabled:c,style:x.filterPill,hoveredStyle:x.hovered,pressedStyle:x.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,h?void 0:(0,r().b)(x.chevron)]}),u?(0,s.jsx)("div",{style:x.diffDot}):void 0]})}},118849:(e,t,n)=>{n.d(t,{A:()=>u});n(296540);var i=()=>n(56366),o=()=>n(979340),l=()=>n(69708),a=()=>n(100622),r=()=>n(284371),s=()=>n(824160),d=()=>n(991249),c=n(474848);const u=function({subscriptionTier:e,mobileStyle:t,desktopStyle:u,analyticsName:g,onClick:p,disableTooltip:h,tooltipContent:f}){const x=(0,n(401497).DP)(),y=(0,n(484714).v3)(),{device:b}=y,m=(0,i().K8)((()=>{const{sidebarSpaceStore:e}=n(765957).default.state;return null==e?void 0:e.canAdmin()}),[]),S=(0,i().K8)((()=>function(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blue.text.accentPrimary,background:"light"===t.mode?a().Tj.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:r().Wy.medium};default:return{}}}(e,x)),[e,x]);if(b.isMobileNative)return null;let v;return"personal"===e?v=(0,c.jsx)(l().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"}):(0,o().$P)(e)?v=(0,c.jsx)(l().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"}):(0,o().tL)(e)?v=(0,c.jsx)(l().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"}):(0,o().OX)(e)?v=(0,c.jsx)(l().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"}):(0,n(534177).HB)(e),b.isMobile||!m?(0,c.jsx)(s().A,{mobileStyle:t,children:v}):(0,c.jsx)(n(859428).A,{delayThreshold:120,disableTooltip:h,placement:"bottom",renderTooltip:()=>(0,c.jsx)("div",{style:{maxWidth:500},children:f?(0,c.jsx)(l().sA,{defaultMessage:"{tooltipText}",id:"upgradeButton.upgrade.custom.tooltip",values:{tooltipText:f}}):(0,c.jsx)(l().sA,{defaultMessage:"Upgrade to use this feature.",id:"upgradeButton.upgrade.tooltip"})}),originGap:6,render:t=>(0,c.jsx)(s().A,{desktopStyle:u,innerStyle:S,onClick:t=>function(e,t,n,i,o){d().K(i,{from:t,upsell:{type:"product",product:n,limit:{type:"none"},trialability:"none"}}),o&&o(e)}(t,g,e,y,p),...t,children:v})})}},126158:(e,t,n)=>{n.d(t,{m:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowDownSmall",{viewBox:"0 0 12 12",svg:(0,i.jsx)("path",{d:"M5.99756 0.850098C5.53564 0.850098 5.21875 1.17236 5.21875 1.65576V7.61768L5.27246 8.7832L4.19287 7.53711L2.98438 6.33398C2.84473 6.18896 2.66211 6.09229 2.42578 6.09229C2.00684 6.09229 1.68994 6.40381 1.68994 6.84424C1.68994 7.04834 1.77051 7.23633 1.93164 7.40283L5.42285 10.8994C5.56787 11.0498 5.78809 11.1357 5.99756 11.1357C6.2124 11.1357 6.42725 11.0498 6.57227 10.8994L10.0688 7.40283C10.23 7.23633 10.3105 7.04834 10.3105 6.84424C10.3105 6.40381 9.99365 6.09229 9.57471 6.09229C9.34375 6.09229 9.16113 6.18896 9.01611 6.33398L7.80762 7.53711L6.72803 8.7832L6.77637 7.61768V1.65576C6.77637 1.17236 6.46484 0.850098 5.99756 0.850098Z"})})},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},o=(0,n(340498).wt)("arrowInCircleUpFill",i)},141966:(e,t,n)=>{n.d(t,{Hu:()=>r,JW:()=>d,l5:()=>s});var i=()=>n(242422),o=()=>n(842599),l=()=>n(765957),a=()=>n(475133);function r(e,t){return t?48:e?32:18}function s(){var e;if(i().default.checkGate({gateName:"ks_dev_settings"}))return!1;const t=null===(e=l().default.state.currentUserStore)||void 0===e?void 0:e.getEmail();return"makenotion.com"===(0,o().zN)(t??"")}function d(e,t){var n;const o=i().default.checkGate({gateName:"android_show_language_settings"}),l=null===(n=(0,a().getMobileNativeDeviceInfo)())||void 0===n?void 0:n.mobileNativeAndroidApiLevel;return o&&e&&t&&("number"==typeof l&&l>=33)}},158115:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleRightFillSmallIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"5.54 2.94 5.81 10.11",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M11.13 8.53a.75.75 0 0 0 0-1.06L6.81 3.15a.75.75 0 0 0-1.06 1.06L9.54 8l-3.79 3.79a.75.75 0 0 0 1.06 1.06z"})},o=(0,n(340498).wt)("arrowChevronSingleRightFillSmall",i)},158359:(e,t,n)=>{n.d(t,{P:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowDown",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 1.57715C7.5625 1.57715 7.25488 1.88477 7.25488 2.33594V10.8262L7.30957 12.3027L5.50488 10.2861L3.95312 8.75488C3.82324 8.625 3.63184 8.53613 3.42676 8.53613C3.0166 8.53613 2.70898 8.85059 2.70898 9.26758C2.70898 9.46582 2.78418 9.64355 2.94141 9.80762L7.44629 14.3193C7.59668 14.4697 7.79492 14.5586 8 14.5586C8.20508 14.5586 8.40332 14.4697 8.55371 14.3193L13.0586 9.80762C13.2158 9.64355 13.291 9.46582 13.291 9.26758C13.291 8.85059 12.9902 8.53613 12.5801 8.53613C12.3682 8.53613 12.1836 8.625 12.0469 8.75488L10.4951 10.2861L8.69043 12.2959L8.74512 10.8262V2.33594C8.74512 1.88477 8.44434 1.57715 8 1.57715Z"})})},381138:(e,t,n)=>{n.d(t,{q:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},428343:(e,t,n)=>{n.d(t,{Q:()=>p});n(898992),n(354520),n(581454);var i=()=>n(484714),o=()=>n(56366),l=()=>n(179034),a=()=>n(69708),r=()=>n(534177),s=()=>n(860864),d=()=>n(765957),c=()=>n(148832),u=()=>n(968913),g=()=>n(959462);function p(e){const{searchQuery:t,filterCategory:n,availableOffline:p=!1,disable:h=!1}=e,f=(0,i().v3)(),x=(0,a().tz)(),y=(0,o().K8)((()=>{if(h)return[];const e=g().A.state.offlinePages??{};return Object.keys(e).map((i=>{var o;const a=e[i];if(void 0===a)return;const{is_explicitly_offlined_origin:g,is_autosynced_origin:h}=a;if(!g&&!h)return;if(p&&!(0,u().Bd)(i))return;if(!function(e){const{filterCategory:t,isExplicitlyOfflinedOrigin:n,isAutosyncedOrigin:i}=e;switch(t){case"all":return!0;case"manual":return n;case"autosynced":return i;default:(0,r().HB)(t)}}({filterCategory:n,isExplicitlyOfflinedOrigin:g,isAutosyncedOrigin:h}))return;const y=new(c().B)(f,{table:l().ev,id:i});if(Boolean(t)&&!function(e){const{pageBlockStore:t,searchQuery:n,intl:i}=e,{displayTitle:o}=(0,s().tL)({store:t,intl:i});if(void 0===o)return!1;return o.toLowerCase().includes(n.toLowerCase())}({pageBlockStore:y,searchQuery:t,intl:x}))return;if((null===(o=d().default.state.sidebarSpaceStore)||void 0===o?void 0:o.id)!==y.getSpaceId())return;const b=y.getLastEditedTime();return{id:i,downloadStatus:a.download_status,isClickable:!1,lastModifiedTime:b,pageBlockStore:y,showOptions:g}})).filter(r().O9)}),[h,p,n,f,t,x]);return y}},471095:(e,t,n)=>{n.d(t,{i:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.05 15.66",svg:(0,n(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},o=(0,n(340498).wt)("lockFill",i)},537296:(e,t,n)=>{n.d(t,{U:()=>c});n(581454);var i=n(296540),o=()=>n(484714),l=()=>n(681873),a=()=>n(722872),r=()=>n(141966),s=()=>n(802790),d=n(474848);function c(e){const{items:t}=e,{isMobile:n}=(0,o().Y0)(),c=(0,a().Tf)(),u=(0,r().Hu)(n,c);return(0,d.jsx)(d.Fragment,{children:(0,l().G)(t.map((({key:e,renderSettingsItem:t})=>(0,d.jsx)(i.Fragment,{children:t()},e))),(e=>(0,d.jsx)(s().A,{size:u,isHidden:!n},e)))})}},566468:(e,t,n)=>{n.d(t,{Ji:()=>w,bd:()=>I,f0:()=>k,mf:()=>T,s7:()=>C});n(944114),n(296540);var i=()=>n(56366),o=()=>n(401497),l=()=>n(30626),a=()=>n(69708),r=()=>n(496603),s=()=>n(534177),d=()=>n(722872),c=()=>n(463830),u=()=>n(760217),g=()=>n(406699),p=()=>n(285790),h=()=>n(710149),f=()=>n(404277),x=()=>n(939740),y=()=>n(417392),b=()=>n(89924),m=()=>n(859428),S=()=>n(125565),v=n(474848);const j=20,w=12;function C({title:e,byline:t,icon:n,iconSize:i,iconMargin:o,useThinTitle:l,useSecondaryColorTitle:a,containerStyles:r,summaryStyles:s,rightContent:d,badge:c}){const u=k({icon:n,iconSize:i,iconMargin:o,useThinTitle:l,containerStyles:r,summaryStyles:s});return(0,v.jsxs)("div",{style:u.container,children:[n?(0,v.jsx)("div",{style:u.iconContainer,children:n}):null,(0,v.jsxs)("div",{style:u.summaryContainer,children:[(0,v.jsxs)("div",{style:u.nameContainer,children:[(0,v.jsx)(S().A,{style:u.name,isSecondaryColor:a,showTooltipWhenTruncated:!0,children:e}),c?(0,v.jsx)("div",{style:u.badge,children:c}):null]}),t?(0,v.jsx)(S().A,{style:u.byline,children:t}):null]}),d]})}function k(e){const{icon:t,iconSize:n,iconMargin:i,useThinTitle:l,containerStyles:a,summaryStyles:r}=e,s=i??w,d=t?n??j:0;return(0,o().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...a},summaryContainer:{width:`calc(100% - ${d}px)`,...r},iconContainer:{height:d,width:d,flexGrow:0,flexShrink:0,flexBasis:d,marginInlineEnd:s,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginInlineEnd:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:l?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[d,s,l,a,r])}function T({titleStyles:e,includeByline:t,bylineStyles:n,includeIcon:i,iconStyles:l,containerStyles:a}){const r=(0,o().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...a},icon:{borderRadius:4,height:24,width:24,marginInlineStart:-2,...l},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...e},byline:{borderRadius:4,height:12,width:"60%",...n}})),[a,e,n,l]);return(0,v.jsxs)("div",{style:r.container,children:[i?(0,v.jsx)(h().A,{style:r.icon}):null,(0,v.jsxs)("div",{style:r.textContainer,children:[(0,v.jsx)(h().A,{style:r.title}),t?(0,v.jsx)(h().A,{style:r.byline}):null]})]})}function I(e){const t=(0,a().tz)(),n=(0,i().uB)(void 0,c().A),h=(0,o().IS)((()=>({popupMenu:{width:312}})),[]);let S=[];const j=[];for(const i of e.items)if("divider"===i.type){const t=j.length>0,n={key:`actions-${j.length}`,render:n=>(0,v.jsx)(b().A,{title:e.title,topBorder:t,...n}),items:S};j.push(n),S=[]}else if("action"===i.type){const e={key:i.key,render:e=>(0,v.jsx)(m().A,{textWrap:!0,render:t=>(0,v.jsx)(u().A,{...e,...t,isRedOnHover:i.isDestructive,shouldWrapCaption:!0,icon:i.icon,title:i.title,caption:i.caption,disabled:i.disabled,disabledFeedback:i.disabled}),renderTooltip:()=>i.tooltipTitle,disableTooltip:i.tooltipDisabled??!0,placement:"right"}),action:()=>{i.action(),n.setState({...n.state,open:!1})}};S.push(e)}else(0,s().HB)(i);const w={key:`actions-${j.length}`,render:t=>(0,v.jsx)(b().A,{title:e.title,topBorder:j.length>0,...t}),items:S};return j.push(w),(0,v.jsx)(g().A,{stopClickPropagation:!0,popupType:y().nl.Popup,alignmentToOrigin:"start",placementToOrigin:"bottom",style:h.popupMenu,render:()=>(0,v.jsx)(f().A,{menuType:d().gu.Popup,width:312,children:(0,v.jsx)(x().Ay,{type:x().Oh.Vertical,initialFocus:void 0,sections:j})}),onClose:r().lQ,buttonPopupStore:n,renderOrigin:e=>(0,v.jsx)(p().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:l()._,...e})})}},568625:(e,t,n)=>{n.d(t,{L:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("ellipsis",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M2.887 9.014c.273 0 .52-.064.738-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.41 1.41 0 00-1.04-.417c-.264 0-.505.066-.724.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.307.394.526.526.219.128.46.192.725.192zm5.113 0a1.412 1.412 0 001.244-.718c.132-.219.198-.46.198-.725 0-.405-.14-.747-.423-1.025A1.386 1.386 0 008 6.129c-.264 0-.506.066-.725.198a1.412 1.412 0 00-.718 1.244c0 .265.064.506.192.725.132.219.308.394.526.526.22.128.46.192.725.192zm5.106 0c.265 0 .506-.064.725-.192.219-.132.394-.307.526-.526.133-.219.199-.46.199-.725 0-.405-.142-.747-.424-1.025a1.394 1.394 0 00-1.026-.417 1.474 1.474 0 00-1.265.718c-.127.218-.19.46-.19.724 0 .265.063.506.19.725.133.219.308.394.527.526.223.128.47.192.738.192z"})})},625383:(e,t,n)=>{n.d(t,{d:()=>s,h:()=>d});n(296540);var i=()=>n(401497),o=()=>n(907514),l=()=>n(859428),a=()=>n(566468),r=n(474848);function s({dateTs:e,useSecondaryColorTitle:t,includeTime:n,tooltip:i,omitTooltip:s}){const d=(0,r.jsx)(a().s7,{useThinTitle:!0,useSecondaryColorTitle:t,title:n?(0,o().x$)(e,!0):(0,o().DG)(e)});return s?d:(0,r.jsx)(l().A,{render:e=>(0,r.jsx)("div",{...e,children:d}),renderTooltip:()=>i??(0,o().x$)(e)})}function d(){const e=(0,i().IS)((()=>({title:{width:"50%"}})),[]);return(0,r.jsx)(a().mf,{titleStyles:e.title})}},641300:(e,t,n)=>{n.d(t,{Gr:()=>T,WE:()=>M,rC:()=>A});n(898992),n(581454),n(908872);var i=n(296540),o=()=>n(402014),l=()=>n(401497),a=()=>n(718827),r=()=>n(794198),s=()=>n(729108),d=()=>n(631524),c=()=>n(493552),u=()=>n(20508),g=()=>n(158115),p=()=>n(158359),h=()=>n(126158),f=()=>n(525884),x=()=>n(69708),y=()=>n(534177),b=()=>n(284371),m=()=>n(553965),S=()=>n(115512),v=()=>n(958846),j=()=>n(859428),w=n(474848);const C=14,k=16,T=C+k,I=24;function A({columnRenderInfo:e,theme:t,containerMarginTop:n}){return{container:{marginTop:n??17,tableLayout:"fixed",borderCollapse:"collapse",width:"100%",minWidth:e.reduce(((e,t)=>e+z(t.widthData)+I),0)},tableHeaderRow:{},paddingRowCell:{height:8}}}function M({columnRenderInfo:e,sortState:t,onSortStateChanged:n,showRowBorders:o,hideHeaderRow:a,hideHeaderRowPadding:r,renderRowChild:s,rows:d,onRowClick:c,renderNoRowsComponent:u,styles:g,getStyleForRow:p,extendToFullScreen:h,multiselect:f,allowHorizontalScroll:x,setStickyHeaderColumn:y,maxHeight:b,setStickyHeaderRow:m,loadMoreMethod:S,maxRowHeight:j}){const C=x?y??!0:void 0,k=(0,l().IS)((e=>({horizontalScrollContainer:{position:"relative",width:null!=h&&h.extendTableToFullWidthOffsetPx?`calc(100% + ${null==h?void 0:h.extendTableToFullWidthOffsetPx}px)`:"100%",display:"grid",overflow:"auto"},scrollableContainer:{maxHeight:b,position:"relative",display:"grid",overflowX:"auto",width:"100%"},table:C?{...g.container,minWidth:"100%",width:void 0}:g.container})),[g.container,C,b,null==h?void 0:h.extendTableToFullWidthOffsetPx]),T=(0,l().IS)((e=>({thead:{position:"sticky",zIndex:1}})),[]),I=(0,i.useCallback)((e=>{var i;const o=e.id===(null==t||null===(i=t.column)||void 0===i?void 0:i.id)&&!(null!=t&&t.sortAscending);n&&n({sortAscending:o,column:e})}),[t,n]),A=(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("table",{style:k.table,children:[a?void 0:(0,w.jsx)("thead",{style:m?T.thead:void 0,children:(0,w.jsxs)("tr",{children:[e.map(((e,n)=>(0,w.jsx)(B,{index:n,column:e,sortState:t,handleSortableColumnClick:I,shouldShowSortIcon:0!==d.length,multiselect:f,setStickyHeaderColumn:C,setStickyHeaderRow:m,style:e.headerStyle},`header_${e.id}`))),null!=h&&h.rightPaddingPx?(0,w.jsx)(H,{width:null==h?void 0:h.rightPaddingPx,style:e[e.length-1].rowStyle}):null]})}),r?void 0:(0,w.jsx)("tbody",{children:(0,w.jsxs)("tr",{children:[e.map((e=>(0,w.jsx)("td",{style:g.paddingRowCell},`padding_row_${e.id}`))),null!=h&&h.rightPaddingPx?(0,w.jsx)("td",{style:g.paddingRowCell}):null]})}),(0,w.jsx)("tbody",{children:d.map((t=>(0,w.jsx)(P,{columns:e,onRowClick:c,rowChild:null==s?void 0:s(t),showRowBorders:o,row:t,getStyleForRow:p,multiselect:f,setStickyHeaderColumn:C,rightPaddingPx:null==h?void 0:h.rightPaddingPx,maxRowHeight:j},`${t.id}_row`)))}),d.length>0&&S&&(!x||"scroll"!==(null==S?void 0:S.type))?(0,w.jsx)("tfoot",{children:(0,w.jsx)($,{columnLength:e.length,loadMoreMethod:S,showRowBorders:o,rightPaddingPx:null==h?void 0:h.rightPaddingPx,style:e[e.length-1].rowStyle})}):null]}),0===d.length?u():void 0]});return x?(0,w.jsxs)("div",{style:k.horizontalScrollContainer,children:[(0,w.jsxs)("div",{style:k.scrollableContainer,children:[A,b&&"scroll"===(null==S?void 0:S.type)?(0,w.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:S.onLoadMore}):void 0]}),b||"scroll"!==(null==S?void 0:S.type)?void 0:(0,w.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:S.onLoadMore})]}):(0,w.jsx)("div",{style:{maxHeight:b,overflowY:m&&b?"auto":void 0,overflowX:m&&b?"hidden":void 0},children:A})}function B({column:e,index:t,sortState:n,handleSortableColumnClick:o,shouldShowSortIcon:a,multiselect:r,setStickyHeaderColumn:c,setStickyHeaderRow:u,style:g}){const[p,y]=(0,i.useState)(!1),S=0===t,v=e.id===(null==n?void 0:n.column.id),T=(0,l().IS)((t=>({th:{boxShadow:`\n\t\t\t\t\tinset 0 1px 0 ${t.tableDividerColor},\n\t\t\t\t\tinset 0 -1px 0 ${t.tableDividerColor}\n\t\t\t\t`,...u&&{position:"sticky",top:0,zIndex:3,background:t.background.elevated},...D(e),...c&&S&&{position:"sticky",zIndex:4,insetInlineStart:0,background:t.background.elevated,boxShadow:`\n\t\t\t\t\t\t\tinset calc(var(--direction, 1) * -1px) 0px 0px ${t.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 1px 0 ${t.tableDividerColor},\n\t\t\t\t\t\t\tinset 0 -1px 0 ${t.tableDividerColor}\n\t\t\t\t\t\t`},height:32,...g},innerDiv:{display:"flex",alignItems:"center",height:"100%",minWidth:z(e.widthData),maxWidth:e.widthData.maxWidth},text:{fontSize:b().J.UISmall.desktop,fontWeight:b().Wy.regular,color:t.text.secondary,...b().RC},sortButton:{padding:5,margin:-5},sortIcon:{color:t.text.secondary,width:12,height:12,marginInlineStart:4,fill:"currentColor"},multiselectCheckbox:{color:t.selectLightGray[300],marginInlineEnd:k,opacity:null!=r&&r.header.isDisabled?.5:1},tooltipContainer:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},tooltipIcon:{marginInlineStart:4,color:p?t.icon.secondary:t.icon.tertiary,height:16,width:16},tooltip:{width:380}})),[e,r,c,u,g,S,p]),I=()=>{if(n&&a&&v)return(0,h().m)({...T.sortIcon,...n.sortAscending&&{transform:"rotate(180deg)"}})},A={onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)},M=e.headerInfoTooltip?(0,w.jsxs)("div",{style:T.tooltipContainer,children:[(0,w.jsx)("div",{style:T.text,children:e.headerTitle}),(0,w.jsx)(j().A,{textWrap:!0,style:T.tooltip,delayThreshold:0,render:e=>(0,w.jsx)("div",{...(0,m().A)(e,A),children:(0,f().infoCircleIcon)(T.tooltipIcon)}),renderTooltip:()=>e.headerInfoTooltip})]}):(0,w.jsx)("div",{style:T.text,children:e.headerTitle}),B=e.sortable?(0,w.jsx)(j().A,{placement:"bottom",disableTooltip:!e.shouldShowSortTooltip,renderTooltip:()=>v?(0,w.jsx)(x().sA,{id:"baseTable.hoverSortedHeaderCell",defaultMessage:"Reverse sort order"}):(0,w.jsx)(x().sA,{id:"baseTable.hoverSortableHeaderCell",defaultMessage:"Sort by this column"}),render:t=>(0,w.jsxs)(d().p,{size:"xs",style:T.sortButton,onClick:()=>o(e),...t,children:[M,I()]})}):M,P=void 0!==r&&0===t?(0,w.jsx)(s().S,{style:T.multiselectCheckbox,disabled:r.header.isDisabled,onClick:()=>r.header.onClick(),checked:r.header.isSelected,size:C,tapArea:{size:30}}):null;return(0,w.jsx)("th",{style:T.th,children:(0,w.jsxs)("div",{style:T.innerDiv,children:[P,B]})})}function P({row:e,columns:t,onRowClick:n,rowChild:o,showRowBorders:a,getStyleForRow:r,setStickyHeaderColumn:s,multiselect:d,rightPaddingPx:c,maxRowHeight:u}){const[g,p]=(0,i.useState)(!1),h=e.isClickable,f=(0,i.useCallback)((()=>p(!0)),[]),x=(0,i.useCallback)((()=>p(!1)),[]),y=(0,i.useCallback)((t=>{h&&void 0!==n&&L(t,(()=>n(e)))}),[h,n,e]),b=(0,l().IS)((t=>({row:{height:1,...h&&{cursor:"pointer"},...a&&{borderBottom:`1px solid ${t.tableDividerColor}`},...r&&r(e)}})),[h,a,r,e]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("tr",{onMouseLeave:x,onMouseEnter:f,style:b.row,onClick:y,children:[t.map(((n,i)=>(0,w.jsx)(R,{isRowHovered:g,isRowClickable:h,columnIndex:i,numColumns:t.length,data:e,column:n,multiselect:d,setStickyHeaderColumn:s,cellStyle:n.rowStyle,maxRowHeight:u},`cell_${e.id}_${n.id}`))),c?(0,w.jsx)(E,{style:t[t.length-1].rowStyle}):null]}),o?(0,w.jsx)("tr",{style:b.row,children:(0,w.jsx)("td",{colSpan:t.length,children:o})}):void 0]})}function R({data:e,column:t,columnIndex:n,numColumns:i,isRowHovered:o,isRowClickable:a,multiselect:r,setStickyHeaderColumn:d,cellStyle:c,maxRowHeight:u}){const g=0===n,p=n===i-1,h=(0,l().IS)((n=>({td:{...D(t),height:"inherit",...g&&{borderRadius:(0,S().Nb)({topLeft:4,bottomLeft:4})},...p&&{borderRadius:(0,S().Nb)({topRight:4,bottomRight:4})},...d&&g&&{position:"sticky",zIndex:2,insetInlineStart:0,background:n.background.elevated,boxShadow:`inset calc(var(--direction, 1) * -1px) 0px 0px ${n.tableDividerColor}`},...c,...o&&a&&{background:"light"===n.mode?"#f8f8f7":n.palette.gray[30]}},innerDiv:{minWidth:z(t.widthData),maxWidth:t.widthData.maxWidth,fontSize:b().J.UIRegular.desktop,color:n.text.primary,minHeight:42,maxHeight:u||52,display:"flex",alignItems:"center",height:"100%"},multiselectCheckbox:{color:n.selectLightGray[300],marginInlineEnd:16,opacity:null!=r&&r.row.getDisabledState(e)?.5:1}})),[t,g,p,o,a,r,e,d,c,u]),f=Boolean(t.hasClickableContents)||!!t.computeClickableContents&&t.computeClickableContents(e),x=r&&g?(0,w.jsx)(s().S,{style:h.multiselectCheckbox,checked:r.row.getSelectedState(e),onClick:t=>{t.stopPropagation(),r.row.onClick(e)},disabled:r.row.getDisabledState(e),size:14,tapArea:{size:30}}):null;return(0,w.jsx)("td",{style:h.td,children:(0,w.jsxs)("div",{style:h.innerDiv,onClick:f?L:void 0,children:[x,t.renderCell({...e,isRowHovered:o})]})})}function L(e,t){(0,o().SQ)({event:e,context:o().y$.Click,callback:t})}const _={paddingInlineStart:I/2,paddingInlineEnd:I/2};function z(e){return"minWidth"in e?e.minWidth:e.width}function D(e){let t;return t="width"in e.widthData?{width:e.widthData.width}:{width:`${e.widthData.widthPercent}%`,minWidth:e.widthData.minWidth},{..._,...t}}function O({columnLength:e,onLoadMore:t,showRowBorders:n,hasNextPage:i}){const o=(0,l().IS)((e=>({row:{...n&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",insetInlineStart:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",alignItems:"center",height:30,borderRadius:n?0:6,whiteSpace:"break-spaces",fontSize:14,paddingInlineEnd:8},icon:{width:14,height:14,marginInlineStart:4,marginInlineEnd:6,fill:e.icon.tertiary},text:{color:e.text.tertiary}})),[n]);return!1===i?null:(0,w.jsx)("tr",{style:o.row,children:(0,w.jsx)("td",{colSpan:e,children:(0,w.jsx)("div",{style:o.container,children:(0,w.jsx)("div",{style:o.sticky,children:(0,w.jsxs)(a().Ay,{style:o.button,onClick:t,children:[(0,p().P)(o.icon),(0,w.jsx)("div",{style:o.text,children:(0,w.jsx)(x().sA,{id:"baseTable.loadMoreButton",defaultMessage:"Load more"})})]})})})})})}function W({columnLength:e,onLoadNext:t,onLoadPrevious:n,currentPage:i,finalPage:o,hasNextPage:s,hasPrevPage:d,showRowBorders:p,rightPaddingPx:h,style:f}){const y=(0,l().IS)((e=>({row:{...p&&{borderBottom:`1px solid ${e.tableDividerColor}`}},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},sticky:{position:"sticky",insetInlineStart:0,display:"flex",justifyContent:"flex-start",alignItems:"center",gap:4},button:{display:"flex",justifyContent:"center",alignItems:"center",height:30,width:30,borderRadius:p?0:6,whiteSpace:"break-spaces",fontSize:14,paddingInlineStart:4,paddingInlineEnd:6}})),[p]);return(0,w.jsxs)("tr",{style:y.row,children:[(0,w.jsx)("td",{colSpan:Boolean(h)?e:e-1,children:(0,w.jsx)("div",{style:y.container,children:(0,w.jsxs)("div",{style:y.sticky,children:[(0,w.jsx)(a().Ay,{ariaLabel:d?"Previous page":"No previous pages",style:y.button,onClick:n,disabled:!d,disabledFeedback:!d,children:(0,w.jsx)(r().I,{icon:u().v,size:"sm",colorVariant:"secondary"})}),(0,w.jsx)(a().Ay,{ariaLabel:s?"Next page":"No more pages",style:y.button,onClick:t,disabled:!s,disabledFeedback:!s,children:(0,w.jsx)(r().I,{icon:g().arrowChevronSingleRightFillSmallIcon,size:"sm",colorVariant:"secondary"})}),(0,w.jsx)(c().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:o?(0,w.jsx)(x().sA,{id:"baseTable.pages.currentPageWithFinalPageCount",defaultMessage:"Page {currentPage} of {finalPage}",values:{currentPage:i,finalPage:o}}):(0,w.jsx)(x().sA,{id:"baseTable.pages.currentPage",defaultMessage:"Page {currentPage}",values:{currentPage:i}})})]})})}),h?(0,w.jsx)(E,{style:f}):null]})}function $({columnLength:e,loadMoreMethod:t,showRowBorders:n,rightPaddingPx:i,style:o}){switch(t.type){case"scroll":return(0,w.jsx)(v().A,{loading:!1,loadMoreOffsetThreshold:100,onLoadMore:t.onLoadMore});case"button":return(0,w.jsx)(O,{columnLength:e,onLoadMore:t.onLoadMore,showRowBorders:n,hasNextPage:t.hasNextPage});case"pages":return(0,w.jsx)(W,{columnLength:e,showRowBorders:n,onLoadNext:t.onLoadNext,onLoadPrevious:t.onLoadPrevious,currentPage:t.currentPage,finalPage:t.finalPage,hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,rightPaddingPx:i,style:o});default:return(0,y().HB)(t)}}function H(e){const t=(0,l().IS)((t=>({container:{position:"relative"},extender:{width:e.width,height:1},inner:{background:t.background.elevated,position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:-1,...e.style}})),[e.width,e.style]);return(0,w.jsxs)("th",{style:t.container,children:[(0,w.jsx)("div",{style:t.extender}),(0,w.jsx)("div",{style:t.inner})]})}function E(e){const t=(0,l().IS)((t=>({container:{position:"relative"},inner:{background:t.background.elevated,position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:0,bottom:-1,...e.style}})),[e.style]);return(0,w.jsx)("td",{style:t.container,children:(0,w.jsx)("div",{style:t.inner})})}},702723:(e,t,n)=>{n.d(t,{A:()=>$,m:()=>E});n(944114),n(898992),n(672577),n(581454);var i=n(296540),o=()=>n(59226),l=()=>n(726637),a=()=>n(484714),r=()=>n(56366),s=()=>n(401497),d=()=>n(252291),c=()=>n(406094),u=()=>n(631524),g=()=>n(493552),p=()=>n(324254),h=()=>n(471095),f=()=>n(367550),x=()=>n(69708),y=()=>n(534177),b=()=>n(620689),m=()=>n(789550),S=()=>n(722872),v=()=>n(141966),j=()=>n(376203),w=()=>n(991249),C=()=>n(118849),k=()=>n(204330),T=()=>n(760217),I=()=>n(406699),A=()=>n(404277),M=()=>n(678553),B=()=>n(939740),P=()=>n(89924),R=()=>n(581369),L=()=>n(574036),_=()=>n(859428),z=()=>n(21140),D=()=>n(843878),O=()=>n(304422),W=n(474848);function $(e){const{isMobile:t=l().A.isMobile??!1,title:n,isCritical:d,disableTitle:c,caption:u,captionStyle:p,descriptionStyle:h,upsellOptions:x,type:y,shouldHighlight:T}=e,I=(0,a().v3)(),A=(0,S().Tf)(),M=(0,o().X)("upgrade_system_settings"),{paddingLeftCSS:B,paddingRightCSS:P}=(0,r().K8)((()=>{const{paddingLeftCSS:e,paddingRightCSS:t}=I.WindowSizeStore.state;return{paddingLeftCSS:e,paddingRightCSS:t}}),[I]),[R,L]=(0,i.useState)(!1),z=(0,i.useCallback)((()=>L(!0)),[L]),O=(0,i.useCallback)((()=>L(!1)),[L]),$=(0,i.useContext)(m().R),E=(0,i.useRef)(null);(0,i.useEffect)((()=>{T&&E.current&&b().hT({element:E.current,environment:I,scrollerContext:$,vertical:{reveal:"closest"},horizontal:void 0,animate:!0})}),[I,T,E,$]);const F="toggleToButton"===e.type?e.isOn:void 0,N="custom"===e.type?e.useFlexboxStyle:void 0,K=(0,i.useMemo)((()=>{if(t){if("dropdown"===y)return{display:"flex",flexDirection:"column"};if(F||N)return{}}return{display:"flex",alignItems:"center",justifyContent:"space-between"}}),[t,y,F,N]),V=(0,s().IS)((n=>{var i,o;return{container:{...K,paddingInlineStart:t?B:void 0,paddingInlineEnd:t?P:void 0,cursor:!R||e.disabled||null!==(i=e.upsellOptions)&&void 0!==i&&i.upsell?e.disabled?"not-allowed":"default":"pointer",...T?{backgroundColor:n.buttonHoveredBackground,marginInlineStart:-1*(0,D().AL)(t),marginInlineEnd:-1*(0,D().AL)(t),paddingInlineStart:(0,D().AL)(t),paddingInlineEnd:(0,D().AL)(t),marginTop:-1*(0,v().Hu)(t,A)/2,marginBottom:-1*(0,v().Hu)(t,A)/2,paddingTop:(0,v().Hu)(t,A)/2,paddingBottom:(0,v().Hu)(t,A)/2}:{}},description:{display:"flex",flexDirection:"column",marginInlineEnd:"5%",width:"75%",gap:M&&null!==(o=e.upsellOptions)&&void 0!==o&&o.upsell?void 0:6,...h},captionStyle:{...p},title:{display:"flex",flexDirection:"row",gap:4}}}),[K,t,B,P,R,e.disabled,e.upsellOptions,T,A,h,p,M]),U="toggle"===e.type||"toggleToButton"===e.type||"custom"===e.type&&!e.disableSettingsItemClick,Q=(0,j().B)(),Y=(0,j().B)(),[G,q]=d?["red","accentPrimary"]:c?[void 0,"secondary"]:[void 0,"primary"],X=(0,W.jsxs)("div",{ref:E,style:V.container,onClick:()=>{if(!(e.disabled||"custom"===e.type&&e.disableSettingsItemClick)){if(null!=x&&x.upsell){if(M)return;return w().K(I,{from:x.analyticsName,upsell:x.upsell})}"toggle"===e.type?e.onToggle():"toggleToButton"===e.type?e.onClick():"custom"===e.type&&e.customButton&&i.isValidElement(e.customButton)&&e.customButton.props.onClick&&"function"==typeof e.customButton.props.onClick&&e.customButton.props.onClick()}},onMouseEnter:U?z:void 0,onMouseLeave:U?O:void 0,children:[(0,W.jsxs)("div",{style:V.description,children:[(0,W.jsx)(g().D,{styleKey:A?"Caption/Regular":"Body/Regular",colorPalette:G,colorVariant:q,children:(0,W.jsxs)("div",{id:Q,style:V.title,children:[n,e.badge,!M&&null!=x&&x.upsell&&"none"!==x.upsell.type&&(0,f().OV)(x.upsell.product)?(0,W.jsx)(C().A,{subscriptionTier:x.upsell.product,analyticsName:x.analyticsName,onClick:()=>w().K(I,{from:x.analyticsName,upsell:x.upsell}),desktopStyle:{display:"flex",marginInlineStart:8}}):void 0]})}),M&&null!=x&&x.upsell?(0,W.jsx)("div",{style:{marginInlineStart:-4},children:(0,W.jsx)(k().R,{source:x.analyticsName,upsell:x.upsell,display:"text",width:"hug",size:"small",customMessages:x.customMessages})}):(0,W.jsx)(g().D,{id:Y,styleKey:A?"Caption-sm/Regular":"Body-sm/Regular",colorVariant:"secondary",style:V.captionStyle,children:u})]}),(0,W.jsx)(H,{titleId:Q,captionId:Y,...e})]});return e.tooltipLabel?(0,W.jsx)(_().A,{placement:"bottom",alignment:"center",disableTooltip:e.disableTooltip,renderTooltip:()=>e.tooltipLabel,render:e=>(0,W.jsx)("div",{...e,children:X})}):X}function H(e){var t;const{titleId:n,captionId:i}=e,o=Boolean(null===(t=e.upsellOptions)||void 0===t?void 0:t.upsell)||e.disabled;if("toggle"===e.type)return(0,W.jsx)(R().A,{"aria-labelledby":n,"aria-describedby":i,on:e.isOn,disabled:o,isLocked:e.isLocked,lockedTooltip:e.lockedTooltip});if("dropdown"===e.type)return(0,W.jsx)(E,{...e});if("custom"===e.type)return(0,W.jsx)(W.Fragment,{children:e.customButton});if("toggleToButton"===e.type)return e.isOn?(0,W.jsx)("div",{style:{marginTop:12},children:(0,W.jsx)(c().A,{size:"lg",onClick:e.onClick,style:e.buttonStyle,disabled:o,children:e.buttonLabel})}):(0,W.jsx)(R().A,{"aria-labelledby":n,"aria-describedby":i,on:!1,onClick:e.onClick,disabled:o});if("timezonePicker"===e.type){const{currentTimeZone:t,...n}=e;return(0,W.jsx)(O().G,{...n,currentValue:t,enableRecents:!1})}(0,y().HB)(e)}function E(e){var t;const{title:n,isMobile:i,upsellOptions:o,currentOption:l,options:a,info:r,switcherButtons:c,onSelectOption:g,menuStyle:f,buttonStyle:y,buttonHoverStyle:b,isLocked:m,lockedTooltip:v,placementToOrigin:j,alignmentToOrigin:w}=e,C=null===(t=a.find((({key:e})=>e===l)))||void 0===t?void 0:t.label,k=(0,s().IS)((e=>({button:{marginInlineEnd:i?"auto":void 0,paddingInlineStart:i?12:8,paddingInlineEnd:i?12:8,height:i?44:28,border:i?`1px solid ${e.outlineButtonBorder}`:void 0,...y}})),[i,y]),R=Boolean(null==o?void 0:o.upsell)||e.disabled||m,D=(0,W.jsx)(I().A,{popupType:i?I().z.SlideUp:I().z.Popup,placementToOrigin:j??"bottom",alignmentToOrigin:w,originGap:8,renderOrigin:e=>(0,W.jsx)(u().p,{...e,size:"lg",style:{opacity:R?.4:1,...k.button},hoveredStyle:b,disabled:R,iconTrailing:{size:"xs",colorVariant:"secondary",icon:p().arrowChevronSingleDownSmallIcon},children:C}),render:e=>{let t;t=i?{menuType:S().gu.Modal,title:n,right:(0,W.jsx)(x().sA,{defaultMessage:"Done",id:"settingItem.buttonPopup.done.label"}),onClickRight:e.close}:{menuType:S().gu.Popup,width:250,maxHeight:400,...f};const o=[],l=a.map((({key:t,label:n,caption:i})=>({key:t,action:()=>{g(t),e.close()},render:e=>(0,W.jsx)(T().A,{...e,title:n,caption:i,shouldWrapCaption:!0,isChecked:C===n})})));if(o.push({key:"settings-item-section",render:e=>(0,W.jsx)(P().A,{...e}),items:l}),r){const e=r.map((({key:e,label:t})=>({key:e,action:()=>{},render:e=>(0,W.jsx)(M().Ay,{...e,shouldWrapCaption:!0,caption:t})})));o.push({key:"info-item-section",render:e=>(0,W.jsx)(P().A,{...e,topBorder:!0}),items:e})}if(c&&c.length){const e=c.map((({key:e,props:t})=>({key:e,action:()=>{},render:()=>(0,W.jsx)(L().A,{...t})})));o.push({key:"switcher-item-section",render:e=>(0,W.jsx)(P().A,{...e,topBorder:!0}),items:e})}return(0,W.jsx)(A().A,{...t,children:(0,W.jsx)(B().Ay,{type:B().Oh.Vertical,sections:o,initialFocus:void 0})})}});return m?(0,W.jsx)(_().A,{placement:"left",alignment:"start",disableTooltip:!v,renderTooltip:()=>v,render:e=>(0,W.jsx)("div",{...e,children:(0,W.jsxs)(z().Ye,{alignItems:"center",children:[(0,W.jsx)(d().I,{icon:h().i,colorVariant:"secondary"}),D]})})}):D}},716583:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(296540),o=()=>n(100622),l=()=>n(284371),a=()=>n(135552),r=n(474848);const s=function(e){const{children:t,isMobile:s,textSize:d,shouldUseDivider:c,style:u,styleKey:g}=e,{WindowSizeStore:p}=(0,n(484714).v3)(),[h,f,x]=(0,n(56366).K8)((()=>[p.getSafePaddingLeftCSS(10),p.getSafePaddingLeftCSS(14),p.getSafePaddingRightCSS(14)]),[p]),y=(0,i.useMemo)((()=>s?"small"!==d?l().J.UIRegular.mobile:l().J.UISmall.mobile:"small"!==d?l().J.UIRegular.desktop:l().J.UISmall.desktop),[s,d]),b=(0,i.useMemo)((()=>void 0===d?1.2:s?"small"!==d?l().K_.UIRegular.mobile:l().K_.UISmall.mobile:"small"!==d?l().K_.UIRegular.desktop:l().K_.UISmall.desktop),[s,d]),m=(0,n(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!s&&{padding:"0px 12px"},...s&&{paddingInlineStart:f,paddingInlineEnd:x},fontSize:y,lineHeight:b,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${o().Tj.halfWhite}`}:{minHeight:44}},[`colorStyle__${a().q.Red}`]:{color:o().Tj.white,background:o().Tj.red,...s&&{justifyContent:"flex-start"}},[`colorStyle__${a().q.Blue}`]:{color:o().Tj.white,fill:o().Tj.white,background:o().Tj.blue,...s&&{paddingInlineStart:h,paddingInlineEnd:14}},[`colorStyle__${a().q.Beige}`]:{background:e.beigeBannerBackground,paddingInlineStart:s?12:18,paddingInlineEnd:s?14:16},[`colorStyle__${a().q.White}`]:{background:e.background.primary,color:e.text.tertiary,fill:e.icon.tertiary,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${a().q.Purple}`]:{background:"#CA59FF",color:o().Tj.white,fill:o().Tj.white},[`colorStyle__${a().q.LightRed}`]:{background:e.palette.red[100],color:e.palette.red[500]},[`colorStyle__${a().q.Yellow}`]:{background:e.palette.yellow[100],color:e.palette.yellow[600]},[`colorStyle__${a().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${a().q.ImportNotification}`]:{color:e.palette.uiBlue[600],fill:e.icon.tertiary,background:e.palette.blue[30],height:48},[`colorStyle__${a().q.LightBlue}`]:{color:o().Tj.blue,fill:o().Tj.blue,background:e.lightBlueBannerBackground},[`colorStyle__${a().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.inversePrimary,background:e.background.accentPrimary}})),[s,h,f,x,c,y,b]),S=g?`colorStyle__${g}`:"colorStyle__default";return(0,r.jsx)("div",{style:{...m.bannerStyle,...m[S],...u},children:t})}},824160:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var i=()=>n(726637),o=()=>n(484714),l=()=>n(401497),a=()=>n(718827),r=n(474848);function s(e){const t=(0,o().Y0)(),n=(0,l().IS)((e=>({sharedStyle:{display:"flex",alignItems:"center",borderRadius:4},innerStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.defaultBadgeBackground,fontSize:i().A.isMobile?11:9,lineHeight:t.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",whiteSpace:"nowrap"}})),[t.isAndroid]);return i().A.isMobile?(0,r.jsx)(a().Ay,{style:{...n.sharedStyle,...e.mobileStyle},disabled:void 0===e.onClick,children:(0,r.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})}):(0,r.jsx)(a().Ay,{style:{...n.sharedStyle,...e.desktopStyle},disabled:void 0===e.onClick,...e,children:(0,r.jsx)("div",{style:{...n.innerStyle,...e.innerStyle},children:e.children})})}},843878:(e,t,n)=>{n.d(t,{AL:()=>l,Ay:()=>r,J_:()=>a});n(296540);var i=()=>n(802790),o=n(474848);function l(e){return e?18:60}function a(){return(0,o.jsx)(i().A,{size:37})}const r=function({children:e,controlRow:t,bannerText:i,controlRowPaddingTopBottom:a,controlRowPaddingLeftRight:r,removeBoxShadow:s,contentPaddingLeftRight:d,contentPaddingTopBottom:c,disableScroller:u,maxWidth:g,centerContent:p}){const h=Boolean(n(726637).A.isMobile),f=c||(h?18:36),x=(0,n(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.background.elevated},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingInlineStart:d??l(h),paddingInlineEnd:d??l(h),paddingTop:i?15:f,paddingBottom:i?22:f,...p?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingInlineStart:r??l(h),paddingInlineEnd:r??l(h),paddingTop:a,paddingBottom:a,boxShadow:s?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingInlineStart:l(h),paddingInlineEnd:l(h)},childrenWithoutScroller:{paddingTop:f,paddingBottom:f},controlRowWithoutScroller:{paddingTop:a,paddingBottom:a,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,d,h,i,f,r,a,s,p]);return u?(0,o.jsxs)("div",{style:x.containerWithoutScroller,children:[(0,o.jsx)("div",{style:x.childrenWithoutScroller,children:e}),t?(0,o.jsx)("div",{style:x.controlRowWithoutScroller,children:t}):void 0]}):(0,o.jsxs)("div",{style:x.containerWithScroller,children:[i?(0,o.jsx)(n(716583).A,{styleKey:n(135552).q.Blue,isMobile:!1,children:i}):void 0,(0,o.jsx)(n(2143).H,{type:n(611648).A.All,style:x.scroller,children:e}),t?(0,o.jsx)("div",{style:x.controlRowWithScroller,children:t}):void 0]})}},860864:(e,t,n)=>{n.d(t,{BM:()=>m,EB:()=>y,dX:()=>b,tL:()=>S});n(898992),n(354520),n(581454),n(296540);var i=()=>n(56366),o=()=>n(401497),l=()=>n(416504),a=()=>n(69708),r=()=>n(697650),s=()=>n(972435),d=()=>n(186445),c=()=>n(765957),u=()=>n(543665),g=()=>n(95758),p=()=>n(187820),h=()=>n(125565),f=n(474848);const x=(0,a().YK)({privateTeamspace:{id:"baseTable.pageCell.privateTeamspace",defaultMessage:"Private teamspace"},untitledPath:{id:"baseTable.pageCell.untitledPath",defaultMessage:"Untitled"}});function y({store:e,parentSpaceStore:t,rightIcon:n,inlineTitleContent:o,useThinTitle:l,skipUntitledStyling:r}){const s=(0,a().tz)(),d=(0,i().K8)((()=>t||c().default.state.sidebarSpaceStore),[t]),u=(0,i().K8)((()=>{var t;return null==e||null===(t=e.getModel())||void 0===t?void 0:t.getRenderIcon({getRecordModel:e.getRecordModel})}),[e]),{displayTitle:g,pageTitle:h}=(0,i().K8)((()=>S({store:e,intl:s})),[e,s]),x=(0,i().K8)((()=>(0,p().Te)(e)),[e]),y=(0,i().K8)((()=>m({blockStore:e,spaceStore:d,intl:s})),[e,d,s]);return(0,f.jsx)(b,{inlineTitleContent:o,mainIcon:(0,f.jsx)(p().B6,{icon:u,iconRecordCategory:x,size:20,isEmptyPage:!1,disabled:!0}),rightIcon:n,subTitle:y,title:g,titleOpacity:h||r?void 0:.25,useThinTitle:l})}function b({inlineTitleContent:e,mainIcon:t,rightIcon:n,subTitle:i,title:l,titleOpacity:a,useThinTitle:r}){const s=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",position:"relative",overflow:"hidden"},summaryContainer:{flex:1,overflow:"hidden"},iconContainer:{height:20,width:20,flexGrow:0,flexShrink:0,flexBasis:20,marginInlineEnd:12,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},byline:{lineHeight:1.3,fontSize:12,opacity:.5},titleContainer:{alignItems:"center",flexDirection:"row",display:"flex"},title:{fontSize:14,fontWeight:r?400:500,...void 0!==a?{opacity:a}:{}}})),[a,r]);return(0,f.jsxs)("div",{style:s.container,children:[(0,f.jsx)("div",{style:s.iconContainer,children:t}),(0,f.jsxs)("div",{style:s.summaryContainer,children:[(0,f.jsxs)("div",{style:s.titleContainer,children:[(0,f.jsx)(h().A,{showTooltipWhenTruncated:!0,style:s.title,children:l}),e]}),(0,f.jsx)(h().A,{showTooltipWhenTruncated:!0,style:s.byline,children:i})]}),n]})}function m(e){const{intl:t,blockStore:n,spaceStore:i}=e;const o=n?(0,d().f)(n,{includeTeamHomeFeed:!1,includeDataSources:!0}).filter((e=>e.id!==n.id)).map((e=>{if(e instanceof g().h)return e.getName()||t.formatMessage(x.privateTeamspace);const n=e.getModel();return(null==n?void 0:n.getRenderTitleWithPlaceholder({getRecordModel:e.getRecordModel,userTimeZone:(0,l().P)(),intl:s().A.getIntl()}))||t.formatMessage(x.untitledPath)})).reverse():[];return o.length>0?o.join("/"):null==i?void 0:i.getName()}function S({store:e,intl:t}){if(e instanceof u().m)return{pageTitle:e.getRenderTitle({intl:t,userTimeZone:(0,l().P)()}),displayTitle:(0,r().getCollectionNameOrDefault)({intl:t,collectionStore:e})};const n=null==e?void 0:e.getModel();if(!n||!e)return{pageTitle:void 0,displayTitle:void 0};const i=e.getRecordModel,o=(0,l().P)(),a=n.getRenderTitle({getRecordModel:i,userTimeZone:o,intl:t}),s=n.getEmptyTitlePlaceholder({getRecordModel:i,userTimeZone:o,intl:t});return{pageTitle:a,displayTitle:a||s}}},958846:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);const o=function({loading:e,onLoadMore:t,loadMoreOffsetThreshold:o,resultSize:l,fetchSize:a}){return(0,i.jsx)(n(228927).A,{onChange:n=>function(e,t,n,i,o,l){if(t)return;const a=i||200;if(e>a)return;const r=void 0===o||void 0===l||o>=l;r&&n()}(n,e,t,o,l,a)})}},991165:(e,t,n)=>{n.r(t),n.d(t,{MobileOfflineSettingsSection:()=>it,OfflineModeDebugSettings:()=>T,OfflineSettings:()=>Ne,OfflineSettingsMobile:()=>Ze,getAutosyncSetting:()=>$,setAutosyncSetting:()=>H});var i=n(296540),o=()=>n(484714),l=()=>n(401497),a=()=>n(765957),r=(n(944114),n(898992),n(354520),n(672577),n(803949),n(581454),n(908872),n(737550),()=>n(56366)),s=()=>n(929219),d=()=>n(700500),c=()=>n(179034),u=()=>n(69708),g=()=>n(860864),p=()=>n(148832),h=()=>n(959462),f=()=>n(99040),x=n(474848);function y({status:e}){const t=(0,l().IS)((e=>({badge:{display:"inline-block",padding:"4px 8px",borderRadius:6,fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",border:"1px solid",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)"},toDownload:{backgroundColor:e.palette.yellow[50],color:e.palette.yellow[700],borderColor:e.palette.yellow[200]},downloading:{backgroundColor:e.palette.blue[50],color:e.palette.blue[700],borderColor:e.palette.blue[200]},success:{backgroundColor:e.palette.green[50],color:e.palette.green[700],borderColor:e.palette.green[200]},failed:{backgroundColor:e.palette.red[50],color:e.palette.red[700],borderColor:e.palette.red[200]},unknown:{backgroundColor:e.background.tertiary,color:e.text.secondary,borderColor:e.border.secondary}})),[]);return(0,x.jsx)("span",{style:(()=>{switch(e){case"to_download":return{...t.badge,...t.toDownload};case"downloading":return{...t.badge,...t.downloading};case"success":return{...t.badge,...t.success};case"failed":return{...t.badge,...t.failed};default:return{...t.badge,...t.unknown}}})(),children:e||"unknown"})}function b({actions:e}){const t=(0,o().v3)(),n=(0,u().tz)(),[a,r]=(0,i.useState)(null),[s,d]=(0,i.useState)({}),h=(0,i.useCallback)((e=>{if(s[e])return s[e];try{const i=new(p().B)(t,{table:c().ev,id:e}),{displayTitle:o="Untitled"}=(0,g().tL)({store:i,intl:n});return d((t=>({...t,[e]:o}))),o}catch{const t=`Page ${e.slice(-8)}`;return d((n=>({...n,[e]:t}))),t}}),[t,s,n]),f=(0,i.useCallback)(((e,t,n)=>{r({actionIndex:e,blockType:t}),h(n)}),[h]),y=(0,l().IS)((e=>({actionDetails:{marginTop:8,padding:8,backgroundColor:e.background.secondary,borderRadius:8,fontSize:12,border:`1px solid ${e.border.secondary}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},actionItem:{marginBottom:4,display:"flex",justifyContent:"space-between",alignItems:"center",padding:"2px 0",":last-child":{marginBottom:0}},actionLabel:{color:e.text.secondary,fontWeight:500,fontSize:11},actionValue:{color:e.text.primary,fontFamily:"monospace",fontSize:11,fontWeight:600,backgroundColor:e.background.tertiary,padding:"2px 4px",borderRadius:3,border:`1px solid ${e.border.secondary}`},autosyncType:{padding:"3px 6px",borderRadius:4,fontSize:9,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.5px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"},autosyncTypeNotAutosynced:{backgroundColor:e.palette.blue[100],color:e.palette.blue[700],border:`1px solid ${e.palette.blue[200]}`},autosyncTypeFrecent:{backgroundColor:e.palette.orange[100],color:e.palette.orange[700],border:`1px solid ${e.palette.orange[200]}`},blockIdTooltip:{position:"relative",cursor:"pointer"},tooltip:{position:"absolute",bottom:"100%",insetInlineStart:"50%",transform:"translateX(-50%)",marginBottom:12,padding:"8px 12px",backgroundColor:e.background.accentPrimary,color:e.text.inversePrimary,fontSize:12,fontWeight:600,borderRadius:8,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3), 0 4px 8px rgba(0, 0, 0, 0.15)",zIndex:1e3,whiteSpace:"nowrap",maxWidth:280,overflow:"hidden",textOverflow:"ellipsis",border:"1px solid rgba(255, 255, 255, 0.15)",pointerEvents:"none","::after":{content:'""',position:"absolute",top:"100%",insetInlineStart:"50%",transform:"translateX(-50%)",border:"6px solid transparent",borderTopColor:e.background.accentPrimary}}})),[]);return 0===e.length?null:(0,x.jsx)("div",{style:y.actionDetails,children:e.map(((e,t)=>(0,x.jsxs)("div",{style:y.actionItem,children:[(0,x.jsxs)("span",{style:y.actionLabel,children:["Origin: ",(0,x.jsxs)("span",{style:{...y.actionValue,...y.blockIdTooltip},onMouseEnter:()=>f(t,"origin",e.origin_page_id),onMouseLeave:()=>r(null),children:[e.origin_page_id.slice(-8),(null==a?void 0:a.actionIndex)===t&&"origin"===a.blockType&&s[e.origin_page_id]?(0,x.jsx)("div",{style:y.tooltip,children:s[e.origin_page_id]}):void 0]})," → From: ",(0,x.jsxs)("span",{style:{...y.actionValue,...y.blockIdTooltip},onMouseEnter:()=>f(t,"from",e.from_page_id),onMouseLeave:()=>r(null),children:[e.from_page_id.slice(-8),(null==a?void 0:a.actionIndex)===t&&"from"===a.blockType&&s[e.from_page_id]?(0,x.jsx)("div",{style:y.tooltip,children:s[e.from_page_id]}):void 0]})]}),(0,x.jsx)("span",{style:{...y.autosyncType,..."not_autosynced"===e.autosync_type?y.autosyncTypeNotAutosynced:"frecent"===e.autosync_type?y.autosyncTypeFrecent:y.autosyncTypeNotAutosynced},children:e.autosync_type})]},t)))})}function m({node:e,level:t=0}){const n=t??0,[o,a]=(0,i.useState)(!0),[r,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),f=(0,l().IS)((t=>({nodeContainer:{marginInlineStart:24*n,marginBottom:6},nodeHeader:{display:"flex",alignItems:"center",padding:"10px 16px",borderRadius:8,cursor:e.children.length>0?"pointer":"default",backgroundColor:t.background.primary,border:`1px solid ${t.border.secondary}`,boxShadow:"0 1px 2px rgba(0, 0, 0, 0.04)",transition:"all 0.15s ease",...e.children.length>0&&{":hover":{backgroundColor:t.background.secondary,borderColor:t.border.primary,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",transform:"translateY(-1px)"}},...0===n&&{backgroundColor:t.background.secondary,border:`2px solid ${t.border.primary}`,boxShadow:"0 2px 6px rgba(0, 0, 0, 0.06)",fontWeight:600}},expandButton:{marginInlineEnd:12,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:e.children.length>0?t.text.secondary:t.text.tertiary,cursor:e.children.length>0?"pointer":"default",borderRadius:4,transition:"all 0.15s ease",...e.children.length>0&&{":hover":{backgroundColor:t.background.tertiary,color:t.text.primary}}},nodeContent:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center",gap:12},nodeTitle:{fontWeight:0===n?600:500,color:t.text.primary,flex:1,marginInlineEnd:12,fontSize:0===n?15:14,lineHeight:1.3},nodeInfo:{display:"flex",alignItems:"center",gap:10},actionCount:{fontSize:11,fontWeight:600,color:u?t.text.primary:t.text.secondary,backgroundColor:u?t.background.secondary:t.background.tertiary,padding:"4px 8px",borderRadius:6,cursor:"pointer",transition:"all 0.2s ease",transform:u?"translateY(-2px)":"translateY(0)",boxShadow:u?"0 2px 4px rgba(0, 0, 0, 0.15)":"0 1px 2px rgba(0, 0, 0, 0.05)",border:u?`1px solid ${t.border.primary}`:`1px solid ${t.border.secondary}`},pageId:{fontSize:11,fontFamily:"monospace",color:p?t.text.primary:t.text.tertiary,backgroundColor:p?t.background.tertiary:"transparent",marginInlineStart:4,cursor:"pointer",padding:"3px 6px",borderRadius:4,transition:"all 0.2s ease",border:p?`1px solid ${t.border.secondary}`:"1px solid transparent",fontWeight:500},collectionIcon:{fontSize:12,marginInlineEnd:6,color:t.palette.purple[600],filter:"drop-shadow(0 1px 1px rgba(0, 0, 0, 0.1))"},copyConfirmation:{position:"absolute",top:-28,insetInlineEnd:-4,fontSize:11,fontWeight:600,color:t.palette.green[700],backgroundColor:t.palette.green[100],padding:"4px 8px",borderRadius:6,zIndex:10,border:`1px solid ${t.palette.green[200]}`,boxShadow:"0 2px 6px rgba(83, 87, 88, 0.14)",animation:"fadeIn 0.2s ease-out"}})),[n,u,p,e.children.length]),S=(0,i.useCallback)((()=>{a(!o)}),[o]),v=(0,i.useCallback)((async t=>{t.stopPropagation();try{await navigator.clipboard.writeText(e.pageId),c(!0),setTimeout((()=>c(!1)),2e3)}catch(n){}}),[e.pageId]);return(0,x.jsxs)("div",{style:f.nodeContainer,children:[(0,x.jsxs)("div",{style:f.nodeHeader,onClick:e.children.length>0?S:void 0,role:e.children.length>0?"button":void 0,tabIndex:e.children.length>0?0:void 0,onKeyDown:e.children.length>0?e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),S())}:void 0,children:[(0,x.jsx)("div",{style:f.expandButton,children:e.children.length>0?o?"−":"+":"•"}),(0,x.jsxs)("div",{style:f.nodeContent,children:[(0,x.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[e.isCollectionViewBlock?(0,x.jsx)("span",{style:f.collectionIcon,title:"Collection View",children:"🗄"}):void 0,(0,x.jsx)("span",{style:f.nodeTitle,children:e.title}),(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsxs)("span",{style:f.pageId,onClick:v,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),title:"Click to copy page ID",role:"button",tabIndex:0,children:["...",e.pageId.slice(-8)]}),d?(0,x.jsx)("span",{style:f.copyConfirmation,children:"Copied!"}):void 0]})]}),(0,x.jsxs)("div",{style:f.nodeInfo,children:[e.actions.length>0?(0,x.jsx)("span",{style:f.actionCount,onClick:e=>{e.stopPropagation(),s(!r)},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),title:r?"Click to hide actions":"Click to show action details",role:"button",tabIndex:0,children:r?`Hide actions (${e.actions.length})`:`Show actions (${e.actions.length})`}):void 0,(0,x.jsx)(y,{status:e.downloadStatus})]})]})]}),r?(0,x.jsx)(b,{actions:e.actions}):void 0,o?e.children.map((e=>(0,x.jsx)(m,{node:e,level:n+1},e.pageId))):void 0]})}function S(e){if(!e)return"Never";const t=new Date(e),n=(new Date).getTime()-t.getTime(),i=Math.floor(n/6e4),o=Math.floor(n/36e5),l=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i} min${1===i?"":"s"} ago`:o<24?`${o} hour${1===o?"":"s"} ago`:l<7?`${l} day${1===l?"":"s"} ago`:t.toLocaleDateString()}function v({nodes:e}){const t=(0,l().IS)((e=>({container:{marginBottom:16},emptyState:{textAlign:"center",padding:"48px 24px",color:e.text.secondary,backgroundColor:e.background.secondary,borderRadius:12,border:`1px solid ${e.border.secondary}`,fontSize:14,lineHeight:1.5}})),[]);return 0===e.length?(0,x.jsx)("div",{style:t.emptyState,children:"No offline pages found."}):(0,x.jsx)("div",{style:t.container,children:e.map((e=>(0,x.jsx)(m,{node:e},e.pageId)))})}function j(){const e=(0,o().v3)(),[t,r]=(0,i.useState)({lastRefetch:void 0,lastAutosync:void 0}),[s,d]=(0,i.useState)(!0),[c,u]=(0,i.useState)(!1),[g,p]=(0,i.useState)(!1),h=(0,i.useCallback)((async()=>{var t;const n=null===(t=a().default.state.currentUserStore)||void 0===t?void 0:t.id;if(n)try{const t=e.defaultRecordCache.persistedRecordCache;if(!t)return;const[i,o]=await Promise.all([t.getOfflineMetadataLastExecutedAt({userId:n,taskType:"refetch"}),t.getOfflineMetadataLastExecutedAt({userId:n,taskType:"autosync"})]);r({lastRefetch:i,lastAutosync:o})}catch(i){}finally{d(!1)}}),[e]),y=(0,i.useCallback)((async()=>{u(!0);try{const{debugAttemptFetch:t}=await f().W.load();t(e),await h()}catch(t){}finally{u(!1)}}),[e,h]),b=(0,i.useCallback)((async()=>{p(!0);try{const{debugAutosync:t}=await n.e(93828).then(n.bind(n,54525));await t(e),await h()}catch(t){}finally{p(!1)}}),[e,h]);(0,i.useEffect)((()=>{h()}),[h]);const m=(0,l().IS)((e=>({metadata:{display:"flex",flexDirection:"column",alignItems:"center",gap:8,marginTop:12,marginBottom:16,padding:"8px 12px",backgroundColor:e.background.tertiary,borderRadius:6,border:`1px solid ${e.border.secondary}`,fontSize:12},metadataRow:{display:"flex",justifyContent:"center",gap:16},metadataItem:{display:"flex",flexDirection:"column",alignItems:"center",gap:3},metadataLabel:{color:e.text.secondary,fontWeight:600,textTransform:"uppercase",letterSpacing:"0.3px",fontSize:9},metadataValue:{color:e.text.primary,fontFamily:"monospace",fontSize:11,fontWeight:500,backgroundColor:e.background.primary,padding:"2px 4px",borderRadius:3,border:`1px solid ${e.border.secondary}`},debugButtonsContainer:{display:"flex",gap:6,marginTop:8,justifyContent:"center",flexWrap:"wrap"},debugButton:{padding:"4px 8px",border:`1px solid ${e.border.primary}`,borderRadius:4,backgroundColor:e.background.primary,color:e.text.primary,cursor:"pointer",fontSize:10,fontWeight:500,transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",":hover":{backgroundColor:e.background.secondary,borderColor:e.palette.purple[300],color:e.palette.purple[700],transform:"translateY(-1px)",boxShadow:"0 2px 8px rgba(168, 85, 247, 0.15)"},":active":{transform:"translateY(0)",boxShadow:"0 1px 4px rgba(168, 85, 247, 0.2)"},":disabled":{opacity:.6,cursor:"not-allowed",transform:"none",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",":hover":{backgroundColor:e.background.primary,borderColor:e.border.primary,color:e.text.primary,transform:"none",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"}}}})),[]);return(0,x.jsxs)("div",{style:m.metadata,children:[(0,x.jsxs)("div",{style:m.metadataRow,children:[(0,x.jsxs)("div",{style:m.metadataItem,children:[(0,x.jsx)("div",{style:m.metadataLabel,children:"Last Refetch"}),(0,x.jsx)("div",{style:m.metadataValue,children:s?"Loading...":S(t.lastRefetch)})]}),(0,x.jsxs)("div",{style:m.metadataItem,children:[(0,x.jsx)("div",{style:m.metadataLabel,children:"Last Autosync"}),(0,x.jsx)("div",{style:m.metadataValue,children:s?"Loading...":S(t.lastAutosync)})]})]}),(0,x.jsxs)("div",{style:m.debugButtonsContainer,children:[(0,x.jsx)("button",{style:m.debugButton,onClick:y,disabled:c,title:"Force a debug refetch of all offline pages",children:c?"Debug Refetching...":"Debug Refetch"}),(0,x.jsx)("button",{style:m.debugButton,onClick:b,disabled:g,title:"Force a debug autosync update",children:g?"Debug Autosyncing...":"Debug Autosync"})]})]})}function w({allActions:e}){const t=(0,l().IS)((e=>({stats:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12,marginBottom:16,padding:12,backgroundColor:e.background.secondary,borderRadius:8,border:`1px solid ${e.border.secondary}`,boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},stat:{textAlign:"center",padding:"4px 4px"},statNumber:{fontSize:16,fontWeight:700,color:e.text.primary,marginBottom:2,lineHeight:1},statLabel:{fontSize:8,color:e.text.secondary,textTransform:"uppercase",letterSpacing:"0.3px",fontWeight:600}})),[]),n=(0,r().K8)((()=>{const e=h().A.state.offlinePages??{},t=Object.keys(e).length,n=Object.values(e).filter((e=>(null==e?void 0:e.is_explicitly_offlined_origin)||(null==e?void 0:e.is_autosynced_origin))).length,i=Object.values(e).reduce(((e,t)=>{const n=null==t?void 0:t.download_status;return n&&(e[n]=(e[n]||0)+1),e}),{to_download:0,downloading:0,success:0,failed:0});return{total:t,origins:n,toDownload:i.to_download||0,success:i.success||0,failed:i.failed||0,downloading:i.downloading||0}}),[]);return(0,x.jsxs)("div",{style:t.stats,children:[(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.origins}),(0,x.jsx)("div",{style:t.statLabel,children:"Origin Pages"})]}),(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.total}),(0,x.jsx)("div",{style:t.statLabel,children:"Total Pages"})]}),(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.success}),(0,x.jsx)("div",{style:t.statLabel,children:"Success"})]}),(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.failed}),(0,x.jsx)("div",{style:t.statLabel,children:"Failed"})]}),(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.downloading}),(0,x.jsx)("div",{style:t.statLabel,children:"Downloading"})]}),(0,x.jsxs)("div",{style:t.stat,children:[(0,x.jsx)("div",{style:t.statNumber,children:n.toDownload}),(0,x.jsx)("div",{style:t.statLabel,children:"To Download"})]})]})}function C(){const e=(0,r().K8)((()=>({online:s().A.state.online,lastOfflineTimestamp:s().A.state.lastOfflineTimestamp,mobileConnectivityType:s().A.state.mobileConnectivityType})),[]),t=(0,l().IS)((e=>({container:{paddingTop:0,paddingInlineEnd:48,paddingBottom:12,paddingInlineStart:48,backgroundColor:e.background.secondary,borderRadius:8,border:`1px solid ${e.border.secondary}`},title:{fontSize:16,fontWeight:600,color:e.text.primary,marginBottom:12,paddingBottom:8,borderBottom:`1px solid ${e.border.secondary}`},row:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0"},label:{fontSize:13,color:e.text.primary,fontWeight:500},value:{fontSize:13,color:e.text.secondary,fontFamily:"monospace"},statusOnline:{color:e.palette.green[700],fontWeight:600},statusOffline:{color:e.palette.red[700],fontWeight:600}})),[]);return(0,x.jsxs)("div",{style:t.container,children:[(0,x.jsx)("h4",{style:t.title,children:"Connection Store"}),(0,x.jsxs)("div",{style:t.row,children:[(0,x.jsx)("span",{style:t.label,children:"Online"}),(0,x.jsx)("span",{style:{...t.value,...e.online?t.statusOnline:t.statusOffline},children:e.online?"true":"false"})]}),(0,x.jsxs)("div",{style:t.row,children:[(0,x.jsx)("span",{style:t.label,children:"Last Offline Timestamp"}),(0,x.jsx)("span",{style:t.value,children:S(e.lastOfflineTimestamp)})]}),(0,x.jsxs)("div",{style:t.row,children:[(0,x.jsx)("span",{style:t.label,children:"Mobile Connectivity Type"}),(0,x.jsx)("span",{style:t.value,children:e.mobileConnectivityType||"Unknown"})]})]})}function k(e){if(!e)return"Never";const t=new Date(e),n=(new Date).getTime()-t.getTime(),i=Math.floor(n/6e4),o=Math.floor(n/36e5),l=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i} min${1===i?"":"s"} ago`:o<24?`${o} hour${1===o?"":"s"} ago`:l<7?`${l} day${1===l?"":"s"} ago`:t.toLocaleDateString()}function T(){const e=(0,o().v3)(),[t,n]=(0,i.useState)([]),[s,f]=(0,i.useState)(!0),[y,b]=(0,i.useState)(!1),[m,S]=(0,i.useState)(),{nodes:T}=function(e){const t=(0,o().v3)(),n=(0,u().tz)();return(0,r().K8)((()=>{var i;const o=h().A.state.offlinePages??{},l=null===(i=a().default.state.sidebarSpaceStore)||void 0===i?void 0:i.id;if(!l)return{nodes:[],allActions:[],allPages:{}};const r=new Map;Object.keys(o).forEach((i=>{const a=o[i];if(!a)return;const s=new(p().B)(t,{table:c().ev,id:i});if(l!==s.getSpaceId())return;const{displayTitle:u="Untitled"}=(0,g().tL)({store:s,intl:n}),h=s.getType(),f=!!h&&(0,d().Ef)(h),x=e.filter((e=>e.impacted_page_id===i)),y={pageId:i,title:u,downloadStatus:a.download_status,children:[],actions:x,isRoot:0===x.length||x.some((e=>e.origin_page_id===i)),isCollectionViewBlock:f};r.set(i,y)})),e.forEach((e=>{const t=r.get(e.from_page_id),n=r.get(e.impacted_page_id);t&&n&&e.from_page_id!==e.impacted_page_id&&(t.children.find((e=>e.pageId===n.pageId))||(t.children.push(n),n.isRoot=!1))}));const s=Array.from(r.values()).filter((e=>e.isRoot)),u={};return Object.entries(o).forEach((([e,t])=>{t&&(u[e]=t)})),{nodes:s,allActions:e,allPages:u}}),[t,e,n])}(t),I=(0,i.useCallback)((async()=>{var t;const i=null===(t=a().default.state.currentUserStore)||void 0===t?void 0:t.id;if(i)try{const t=e.defaultRecordCache.persistedRecordCache;if(!t)return;const o=await t.getAllOfflineActions({userId:i});n(o),S(Date.now())}catch(o){}finally{f(!1),b(!1)}}),[e]),A=(0,i.useCallback)((async()=>{b(!0),await I()}),[I]);(0,i.useEffect)((()=>{I()}),[I]);const M=(0,l().IS)((e=>({container:{padding:"24px 0",maxWidth:1200,margin:"0 auto"},header:{marginBottom:24,display:"flex",justifyContent:"space-between",alignItems:"flex-start",paddingBottom:16,borderBottom:`1px solid ${e.border.secondary}`},headerContent:{flex:1},refreshButton:{padding:"4px 8px",border:`1px solid ${e.border.primary}`,borderRadius:4,backgroundColor:e.background.primary,color:e.text.primary,cursor:"pointer",fontSize:10,fontWeight:500,transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",":hover":{backgroundColor:e.background.secondary,borderColor:e.border.primary,transform:"translateY(-2px)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},":active":{transform:"translateY(-1px)",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.2)"},":disabled":{opacity:.6,cursor:"not-allowed",transform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)",":hover":{backgroundColor:e.background.primary,borderColor:e.border.primary,color:e.text.primary,transform:"none",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.08)"}}},refreshContainer:{display:"flex",alignItems:"center",gap:12},lastLoadedText:{fontSize:12,color:e.text.tertiary,fontFamily:"monospace"},title:{fontSize:24,fontWeight:700,color:e.text.primary,marginBottom:4}})),[]);return(0,x.jsxs)("div",{style:M.container,children:[(0,x.jsxs)("div",{style:M.header,children:[(0,x.jsx)("div",{style:M.headerContent,children:(0,x.jsx)("h2",{style:M.title,children:"Offline Pages"})}),(0,x.jsxs)("div",{style:M.refreshContainer,children:[m?(0,x.jsxs)("span",{style:M.lastLoadedText,children:["Last loaded: ",k(m)]}):void 0,(0,x.jsx)("button",{style:M.refreshButton,onClick:A,disabled:y,title:"Refresh offline pages data",children:"Refresh"})]})]}),0===T.length?(0,x.jsx)(j,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(w,{allActions:t}),(0,x.jsx)(j,{})]}),(0,x.jsx)(v,{nodes:T}),(0,x.jsx)(C,{})]})}var I=()=>n(59226),A=()=>n(802790),M=()=>n(843878),B=()=>n(8178);const P=(0,u().YK)({offlineSettingsTitle:{id:"offlineSettings.title",defaultMessage:"Offline"},offlinePagesSectionTitle:{id:"offlineSettings.offlinePagesSection.title",defaultMessage:"Offline pages"},offlinePagesSectionSearchPlaceholder:{id:"offlineSettings.offlinePagesSection.searchPlaceholder",defaultMessage:"Search by name"},offlinePagesSectionSearchIconLabel:{id:"offlineSettings.offlinePagesSection.searchIconLabel",defaultMessage:"Search"}});var R=()=>n(581369),L=()=>n(702723),_=()=>n(152197),z=()=>n(810312),D=()=>n(564884);const O=new(n(178624).R)({key:"offline_autosync_setting_2",namespace:n(553737).cd,important:!0,trackingType:"necessary"});function W(e){return"on"===$(e)}function $(e){if(!e)return;return(O.getState()??{})[e]}function H(e,t){const n=O.getState()??{};O.setState({...n,[e]:t})}var E=()=>n(252291),F=()=>n(132855),N=()=>n(719147),K=()=>n(991249);function V(e){const{children:t,environment:n,from:i,upsell:o}=e,a=(0,l().IS)((e=>({text:{alignItems:"baseline",color:e.blue.text.accentPrimary,display:"inline-flex",gap:2},icon:{alignSelf:"center"}})),[]);return(0,x.jsxs)(N().A,{disableUnderline:!0,hoverColor:"blue",onClick:()=>{(0,K().K)(n,{from:i,upsell:o})},style:a.text,children:[(0,x.jsx)(E().I,{icon:F().arrowInCircleUpFillIcon,size:"sm",style:a.icon}),t]})}function U(){const e=(0,o().v3)(),t=(0,_().r)(),n=(0,r().K8)((()=>W(t)),[t]),i=!(0,r().O$)(s().e),l=(0,z().Vz)(),a=(0,x.jsx)(u().sA,{id:"offlineSettingsTab.autosyncedPagesSection.title",defaultMessage:"Automatic downloads"}),d=(0,x.jsx)(u().sA,{id:"spaceSettings.offlineMessage",defaultMessage:"Please go online to manage settings."});return i?(0,x.jsx)(L().A,{type:"custom",isMobile:!0,title:a,caption:d,customButton:null,disableSettingsItemClick:!0,shouldHighlight:!1}):l?"available"!==l.type?(0,x.jsx)(L().A,{type:"custom",caption:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.autoSyncPagesSection.upsell",defaultMessage:"<cta>Upgrade</cta> to automatically download Recents and Favorites for offline use",values:{cta:t=>(0,x.jsx)(V,{environment:e,from:"offline_mode_settings",upsell:l.upsell,children:t})}}),customButton:null,disableSettingsItemClick:!0,disableTitle:i,isMobile:!0,shouldHighlight:!1,title:a}):(0,x.jsx)(L().A,{type:"custom",isMobile:!0,title:a,disableTitle:i,disableSettingsItemClick:!0,caption:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.autosyncedPagesSection.subheading",defaultMessage:"Notion will automatically download your top Recents and Favorites for offline use."}),shouldHighlight:!1,customButton:(0,x.jsx)(R().A,{disabled:i,on:Boolean(n),onClick:()=>function({environment:e,spaceId:t}){if(!t)return;const n=W(t)?"off":"on";(0,D().u)({environment:e,event:{eventName:"offline_autosyncing_toggled",eventProperties:{toggle_status:n}}}),H(t,n)}({environment:e,spaceId:t})})}):null}var Q=()=>n(641300),Y=()=>n(125565),G=()=>n(665381),q=()=>n(428343),X=()=>n(496603);const J={failed:1,downloading:2,to_download:3,success:4};function Z(e,{sortAscending:t}){const n=t?"asc":"desc";return X().My(e,[e=>J[e.downloadStatus??"success"],"lastModifiedTime"],["asc",n])}var ee=()=>n(30537),te=()=>n(56394),ne=()=>n(760217),ie=()=>n(404277),oe=()=>n(939740),le=()=>n(417392),ae=()=>n(89924),re=()=>n(722872);const se=["all","manual","autosynced"],de=(0,u().YK)({all:{id:"offlineSettingsTab.offlinePagesFilter.all",defaultMessage:"All pages"},manual:{id:"offlineSettingsTab.offlinePagesFilter.manual",defaultMessage:"Downloaded by you"},autosynced:{id:"offlineSettingsTab.offlinePagesFilter.autosynced",defaultMessage:"Downloaded by Notion"}});function ce(e){const{filterCategory:t,setFilterCategory:n}=e,[a,r]=(0,i.useState)(!1),{isMobile:s}=(0,o().Y0)(),d=(0,u().tz)(),c=(0,l().IS)((()=>({pillContainer:{display:"flex",alignItems:"center"},pillInner:{...s?{height:40,paddingInlineStart:14,paddingInlineEnd:14}:{}}})),[s]),g=(0,x.jsx)(te().A,{on:!0,wrapStyle:c.pillContainer,innerStyle:c.pillInner,title:d.formatMessage(de[t]),onClick:()=>r(!0)}),p={key:"categories",items:se.map((e=>({key:e,action:()=>{},render:()=>(0,x.jsx)(ne().A,{focused:!1,onClick:()=>{n(e),r(!1)},title:d.formatMessage(de[e])})}))),render:e=>(0,x.jsx)(ae().A,{...e})},h=(0,x.jsx)(ie().A,{menuType:re().gu.Popup,header:null,children:(0,x.jsx)(oe().Ay,{type:oe().Oh.Vertical,initialFocus:0,sections:[p]})});return(0,x.jsx)(le().Ay,{popupType:ee().n.Popup,placementToOrigin:"bottom",alignmentToOrigin:"start",open:a,render:()=>h,onDismiss:()=>r(!1),origin:g})}var ue=()=>n(381138),ge=()=>n(145214),pe=()=>n(285790),he=()=>n(623580);function fe(e){const{searchQuery:t,setSearchQuery:n,disabled:o}=e,[a,r]=(0,i.useState)(!1),s=(0,u().tz)(),d=(0,l().IS)((e=>({container:{display:"flex",alignItems:"center"},icon:{width:14,height:14,fill:e.icon.secondary},input:{fontSize:14,lineHeight:"20px",width:"100%",paddingInlineStart:4}})),[]),c=()=>{n(""),r(!1)};return(0,x.jsxs)("div",{style:d.container,children:[(0,x.jsx)(pe().A,{icon:ue().q,iconStyle:d.icon,disabled:o,onClick:()=>a?c():r(!0),ariaLabel:s.formatMessage(P.offlinePagesSectionSearchIconLabel)}),(0,x.jsx)(ge().A,{visible:a,animate:{width:150},initial:{width:0,opacity:0},exit:{width:0,opacity:0},children:(0,x.jsx)(he().A,{style:d.input,format:he().C.Transparent,value:t,onChange:e=>n(e.target.value),placeholder:s.formatMessage(P.offlinePagesSectionSearchPlaceholder),focusInitial:a,showClearButton:!0,onClearButtonClick:c,onCancel:c})})]})}var xe=()=>n(406699),ye=()=>n(459040);const be={id:"lastModifiedTime",headerTitle:(0,x.jsx)(u().sA,{id:"offlinePagesTable.columnHeader.lastModifiedTime",defaultMessage:"Last modified time"}),renderCell:e=>(0,x.jsx)(n(625383).d,{dateTs:e.lastModifiedTime}),widthData:{width:100},sortable:!0};function me({blockStore:e}){const t=(0,u().tz)(),i=(0,o().v3)(),l=!(0,r().O$)(s().e);return(0,x.jsx)(xe().A,{popupType:xe().z.Popup,renderOrigin:e=>(0,x.jsx)(pe().A,{icon:n(568625).L,...e,ariaLabel:t.formatMessage({id:"offlinePagesTable.options",defaultMessage:"Options"})}),render:()=>(0,x.jsx)(ie().A,{menuType:re().gu.Popup,children:(0,x.jsx)(oe().Ay,{type:oe().Oh.Vertical,sections:[{key:"options",render:e=>(0,x.jsx)(ae().A,{...e,shouldShowBottomDivider:!0}),items:[{key:"removeOffline",action:()=>{ye().lX({store:e,environment:i,analyticsFrom:"offline_settings"})},render:e=>(0,x.jsx)(ne().A,{...e,title:(0,x.jsx)(u().sA,{defaultMessage:"Remove offline page",id:"offlinePagesTable.options.remove"}),disabled:l,disabledFeedback:!0})}]}],initialFocus:void 0})})})}const Se={id:"options",headerTitle:void 0,renderCell:e=>e.showOptions?(0,x.jsx)(me,{blockStore:e.pageBlockStore}):null,widthData:{width:24},sortable:!1};var ve=()=>n(98126);const je={viewBox:"0 0 20 20",fittedViewBox:"0.35 2.37 17.28 15.26",svg:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("path",{d:"M2.557 13.1a.625.625 0 0 0 .884.003l2.03-2.02a.625.625 0 1 0-.882-.886l-.964.96V10a6.375 6.375 0 1 1 1.925 4.565.625.625 0 1 0-.872.895A7.625 7.625 0 1 0 2.375 10v1.146l-.952-.957a.625.625 0 1 0-.886.882z"}),(0,x.jsx)("path",{d:"M9.875 6.25c.345 0 .625.28.625.625v3.5a.625.625 0 0 1-1.25 0v-3.5c0-.345.28-.625.625-.625m0 7.375a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5"})]})},we=(0,n(340498).wt)("exclamationMarkCircleArrow",je);var Ce=()=>n(296798),ke=()=>n(404141);const Te=10,Ie=(0,u().YK)({downloadingSubTitle:{id:"offlinePagesTable.cell.pageNameDownloading",defaultMessage:"Downloading..."},failedOnlineSubTitle:{id:"offlinePagesTable.cell.pageNameFailedOnline",defaultMessage:"Failed. Tap to retry."},failedOfflineSubTitle:{id:"offlinePagesTable.cell.pageNameFailedOffline",defaultMessage:"Failed. Go online to retry."}}),Ae={id:"pageName",headerTitle:(0,x.jsx)(u().sA,{id:"offlinePagesTable.columnHeader.pageName",defaultMessage:"Page name"}),renderCell:e=>(0,x.jsx)(Me,{pageBlockStore:e.pageBlockStore,downloadStatus:e.downloadStatus}),widthData:{width:200},sortable:!1};function Me({pageBlockStore:e,downloadStatus:t}){const o=Re(),l=(0,u().tz)(),a=(0,r().K8)((()=>(0,g().tL)({store:e,intl:l}).displayTitle),[e,l]),s=(0,r().K8)((()=>(0,n(492414).J8)({store:e,pageVisitSource:n(584262).y8.LinkInPage})),[e]),d=(0,i.useCallback)((e=>{e.metaKey||ke().A.setState({...ke().A.state,open:!1})}),[]);return(0,x.jsx)("div",{style:o.container,children:"failed"===t?(0,x.jsx)(Be,{blockStore:e,pageTitle:a}):(0,x.jsx)(Ce().A,{href:s,style:o.linkBox,hoveredStyle:o.linkBoxHover,onClick:d,children:"downloading"===t?(0,x.jsx)(Pe,{pageTitle:a}):(0,x.jsx)(g().EB,{store:e,skipUntitledStyling:!0})})})}function Be({blockStore:e,pageTitle:t}){const n=(0,o().v3)(),l=(0,u().tz)(),a=Re(),d=(0,r().O$)(s().e),[c,p]=(0,i.useState)(!1),f=(0,r().K8)((()=>h().A.state.isSlowWrite),[]);(0,i.useEffect)((()=>{if(!c)return;if(f)return;const e=setTimeout((()=>{p(!1)}),500);return()=>{e&&clearTimeout(e)}}),[f,c]);const y=(0,i.useCallback)((()=>{d&&(p(!0),(0,ye().lX)({store:e,environment:n,analyticsFrom:"offline_settings",operation:"addPage"}))}),[d,e,n]);return c?(0,x.jsx)(Pe,{pageTitle:t}):(0,x.jsx)(Ce().A,{disabled:!d,hoveredStyle:a.linkBoxHover,onClick:y,style:a.linkBox,children:(0,x.jsx)(g().dX,{mainIcon:(0,x.jsx)(E().I,{icon:we,colorPalette:"red",colorVariant:"accentPrimary"}),subTitle:l.formatMessage(d?Ie.failedOnlineSubTitle:Ie.failedOfflineSubTitle),title:t,titleOpacity:.25})})}function Pe({pageTitle:e}){const t=(0,u().tz)();return(0,x.jsx)(g().dX,{mainIcon:(0,x.jsx)(ve().k,{}),subTitle:t.formatMessage(Ie.downloadingSubTitle),title:e})}function Re(){return(0,l().IS)((()=>({container:{width:"100%"},linkBox:{width:"100%"},linkBoxHover:{marginInlineStart:-Te,paddingInlineStart:Te,width:`calc(100% + ${Te}px)`}})),[])}const Le=500,_e=[Ae,be,Se];function ze(){const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)("all"),[a,r]=(0,i.useState)({column:be,sortAscending:!1}),s=Z((0,q().Q)({searchQuery:e,filterCategory:n}),a),d=(0,l().IS)((e=>({headings:{flexDirection:"column",marginBottom:12},tableActions:{display:"flex",alignItems:"center",marginBottom:12},search:{paddingInlineEnd:8,borderInlineEnd:`1px solid ${e.tableDividerColor}`},label:{marginInlineStart:8,marginInlineEnd:8}})),[]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{style:d.headings,children:(0,x.jsx)(We,{})}),(0,x.jsxs)("div",{style:d.tableActions,children:[(0,x.jsx)("div",{style:d.search,children:(0,x.jsx)(fe,{searchQuery:e,setSearchQuery:t,disabled:0===s.length&&!Boolean(e)})}),(0,x.jsx)(Y().A,{isSecondaryColor:!0,style:d.label,children:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.filterPillPrefix",defaultMessage:"Viewing"})}),(0,x.jsx)(ce,{filterCategory:n,setFilterCategory:o})]}),(0,x.jsx)(De,{columnRenderInfo:_e,rows:s,sortState:a,onSortStateChanged:r,searchQuery:e,maxHeight:Le})]})}function De(e){const{columnRenderInfo:t,rows:n,sortState:i,onSortStateChanged:o,searchQuery:a,hideHeaderRow:r,maxHeight:s}=e,d=(0,l().IS)((e=>(0,Q().rC)({columnRenderInfo:t,theme:e,containerMarginTop:0})),[t]);return(0,x.jsx)(Q().WE,{hideHeaderRow:r,hideHeaderRowPadding:!0,setStickyHeaderRow:!0,allowHorizontalScroll:!0,setStickyHeaderColumn:!1,maxHeight:s,columnRenderInfo:t,rows:n,styles:d,renderNoRowsComponent:()=>(0,x.jsx)(Oe,{isSearching:Boolean(a)}),sortState:i,onSortStateChanged:o})}function Oe(e){const{isSearching:t}=e,n=(0,l().IS)((()=>({label:{marginTop:15,marginBottom:40,textAlign:"center"}})),[]);return(0,x.jsx)(Y().A,{isSmall:!0,style:n.label,children:t?(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.noPagesFound",defaultMessage:"No pages found"}):(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.noPagesAvailable",defaultMessage:"No pages available"})})}function We(){const e=(0,o().v3)(),t=(0,r().K8)((()=>{const t=a().default.state.sidebarSpaceStore;if(t)return(0,G().G)(e,t)}),[e]),n=t?(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.subheadingWithSpaceName",defaultMessage:"<bold>{currentSpaceName}</bold> pages available for offline use.",values:{bold:e=>(0,x.jsx)("strong",{children:e}),currentSpaceName:t}}):(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.subheading",defaultMessage:"Pages in this workspace that are available for offline use."});return(0,x.jsx)(L().A,{type:"custom",isMobile:!0,title:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.offlinePagesSection.title",defaultMessage:"Offline pages"}),disableSettingsItemClick:!0,caption:n,shouldHighlight:!1,customButton:null})}var $e=()=>n(406094),He=()=>n(187174),Ee=()=>n(53718);function Fe(){const e=(0,o().v3)(),{isMobile:t,isElectron:n}=(0,o().Y0)(),l=!(0,r().O$)(s().e),[a,d]=(0,i.useState)(0),[c,g]=(0,i.useState)(!1),p=(0,i.useCallback)((async()=>{let i;if(n)i=await(0,Ee().T)();else if(t){var o;i=await(null===(o=e.mobileNative)||void 0===o?void 0:o.getSqliteDiskUsage())}void 0!==i&&d(i)}),[e.mobileNative,n,t]),h=(0,i.useCallback)((async()=>{g(!0),await async function(e){try{var t,n;await(null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.flushPendingWrites()),await(null===(n=e.defaultRecordCache.persistedRecordCache)||void 0===n?void 0:n.deleteAllRecordTables())}catch(i){}}(e),(0,D().u)({environment:e,event:{eventName:"offline_storage_cleared",eventProperties:{cache_size_in_mb_before_clear:a}}}),await p()}),[e,a,p]);return(0,He().Yb)((async()=>{await p()}),[p]),(0,x.jsx)(L().A,{type:"custom",isMobile:!0,title:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.storageManagementSection.title",defaultMessage:"Notion cache"}),disableTitle:l,disableSettingsItemClick:!0,caption:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.storageManagementSection.subheading",defaultMessage:"This will clear { amount } of cache across all of your Notion workspaces.",values:{amount:`${a} MB`}}),shouldHighlight:!1,customButton:(0,x.jsx)($e().A,{size:"lg",style:{marginTop:12,marginBottom:4},onClick:h,disabled:l||c,children:(0,x.jsx)(u().sA,{id:"offlineSettingsTab.storageManagementSection.cta",defaultMessage:"Clear cache"})})})}function Ne(){const e=(0,u().tz)(),t=(0,I().X)("offline_clear_cache");return(0,x.jsxs)(M().Ay,{children:[(0,x.jsx)(B().A,{large:!0,divider:"full",children:e.formatMessage(P.offlineSettingsTitle)}),(0,x.jsx)(A().A,{size:24,isHidden:!0}),t?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(Fe,{}),(0,x.jsx)(A().A,{size:80})]}):null,(0,x.jsx)(U,{}),(0,x.jsx)(A().A,{size:80}),(0,x.jsx)(ze,{})]})}var Ke=()=>n(312788),Ve=()=>n(110750),Ue=()=>n(427704),Qe=()=>n(495939),Ye=()=>n(419357),Ge=()=>n(45552),qe=()=>n(537296),Xe=()=>n(111043),Je=()=>n(135055);function Ze(){const e=(0,o().v3)(),t=(0,Je().y6)(),n=(0,i.useCallback)((e=>{(0,Qe().a)(e)}),[]),l=(0,r().K8)((()=>(0,Ve().Xz)(e.TabbedRouterStore.state)),[e]),a=(0,r().K8)((()=>{var e,t;return Boolean("web"===l.type&&("nativeTab"===l.route.name&&"offline"===l.route.tab||"nativeTab"===(null===(e=l.redirectedTo)||void 0===e?void 0:e.route.name)&&"offline"===(null===(t=l.redirectedTo)||void 0===t?void 0:t.route.tab)))}),[l]);return(0,i.useLayoutEffect)((()=>{if(a){var t;null===(t=e.mobileNative)||void 0===t||t.markTransitionReady({environment:e,type:"offline_settings"});const n=e.RouterStore.state.route,i="nativeTab"===n.name&&"offline"===n.tab?n.from:void 0;(0,D().u)({environment:e,event:{eventName:"mobile_settings_navigation",eventProperties:{target:"offline_settings",from:i}}})}}),[e,a]),t?(0,x.jsx)(ie().A,{menuType:re().gu.Modal,title:(0,x.jsx)(u().sA,{...P.offlinePagesSectionTitle}),left:(0,x.jsx)(Ge().MobileModalBackButton,{}),onClickLeft:()=>n(e),onCancel:()=>n(e),enableMobileRefresh:!0,disableScroller:!0,children:(0,x.jsx)(tt,{})}):null}function et(e){const{searchQuery:t,setSearchQuery:n,setSearchOpen:i,disabled:o}=e,a=(0,u().tz)(),r=(0,l().IS)((e=>({searchIcon:{width:14,height:14,fill:e.icon.secondary}})),[]);return(0,x.jsx)(Ye().Ay,{disabled:o,placeholder:a.formatMessage(P.offlinePagesSectionSearchPlaceholder),inputLeft:(0,ue().q)(r.searchIcon),value:t,forceShowClearButton:!0,focusInitial:!0,onChange:e=>n(e.target.value),onClearButtonClick:()=>{t.length>0?n(""):i(!1)}})}function tt(){const e=(0,u().tz)(),[t,n]=(0,i.useState)(!1),[o,a]=(0,i.useState)(""),[r,s]=(0,i.useState)("all"),d=Z((0,q().Q)({searchQuery:o,filterCategory:r}),{column:be,sortAscending:!1}),c=0===d.length,g=(0,Xe().o)(),p=(0,I().X)("offline_clear_cache"),h=(0,l().IS)((e=>({container:{display:"flex",flexDirection:"column",height:"100%",paddingBottom:g},tableContainer:{flex:1,overflowY:"scroll"},tableContainerInner:{background:c?void 0:e.background.primary,paddingInlineStart:8,paddingInlineEnd:8,paddingTop:0},searchFilterContainer:{paddingInlineStart:16,paddingInlineEnd:16,marginTop:16,display:"flex",alignItems:"center",justifyContent:"space-between",height:45},searchButton:{height:40,width:40},searchButtonIcon:{width:20,height:20,fill:e.icon.secondary}})),[c,g]);return(0,x.jsxs)("div",{style:h.container,children:[(0,x.jsxs)("div",{style:{flex:0},children:[p?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(ae().A,{mobileStyle:{borderRadius:0},children:(0,x.jsx)(Fe,{})}),(0,x.jsx)(A().A,{size:40,style:{paddingInlineStart:16,paddingInlineEnd:16,paddingTop:12}})]}):null,t?void 0:(0,x.jsxs)("div",{style:h.searchFilterContainer,children:[(0,x.jsx)(ce,{filterCategory:r,setFilterCategory:s}),(0,x.jsx)(pe().A,{icon:ue().q,iconStyle:h.searchButtonIcon,style:h.searchButton,disabled:!1,onClick:()=>n(!t),ariaLabel:e.formatMessage(P.offlinePagesSectionSearchIconLabel)})]}),t?(0,x.jsx)(ae().A,{children:(0,x.jsx)(et,{searchQuery:o,setSearchQuery:a,setSearchOpen:n,disabled:!1})}):void 0]}),(0,x.jsx)("div",{style:h.tableContainer,children:(0,x.jsx)(ae().A,{mobileStyle:h.tableContainerInner,children:(0,x.jsx)(De,{hideHeaderRow:!0,columnRenderInfo:[Ae,Se],rows:d,sortState:void 0,onSortStateChanged:void 0,searchQuery:o})})})]})}function nt(){const{navigate:e}=(0,i.useContext)(Ke().E),t=(0,o().v3)(),n=(0,i.useCallback)((()=>{e({environment:t,url:`${Ue().GJ.nativeTab}/offline?from=settings`})}),[t,e]);return(0,x.jsx)(L().A,{type:"custom",isMobile:!0,title:(0,x.jsx)(u().sA,{...P.offlinePagesSectionTitle}),disableSettingsItemClick:!0,caption:(0,x.jsx)(u().sA,{id:"mobileSettings.offline.description",defaultMessage:"Manage your workspace storage and offline pages."}),shouldHighlight:!1,customButton:(0,x.jsx)($e().A,{size:"lg",style:{marginTop:12,marginBottom:4},onClick:n,children:(0,x.jsx)(u().sA,{id:"mobileSettings.offline.cta",defaultMessage:"Manage"})})})}function it(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(B().A,{large:!1,divider:"full",children:(0,x.jsx)(u().sA,{...P.offlineSettingsTitle})}),(0,x.jsx)(qe().U,{items:[{key:"offline-autosync",renderSettingsItem:U},{key:"offline-pages",renderSettingsItem:nt}]})]})}}}]);