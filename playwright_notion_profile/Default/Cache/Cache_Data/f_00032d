"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[1966],{8741:(e,t,o)=>{o.r(t),o.d(t,{arrowDiagonalUpRightSmallIcon:()=>n,iconDefinition:()=>r});o(296540);const r={viewBox:"0 0 16 16",fittedViewBox:"3.65 3.66 8.68 8.68",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M5.603 3.663a.625.625 0 1 0 0 1.25h4.6l-6.37 6.371a.615.615 0 0 0 .013.87.616.616 0 0 0 .87.014l6.371-6.372v4.601a.625.625 0 1 0 1.25 0v-6.11a.625.625 0 0 0-.625-.624z"})},n=(0,o(340498).wt)("arrowDiagonalUpRightSmall",r)},19238:(e,t,o)=>{o.d(t,{E:()=>a});o(296540);var r=()=>o(401497),n=()=>o(69708),l=()=>o(553700),i=o(474848);function a({progressPercentage:e,maxValue:t,currentValue:o,...a}){const s=(0,n().tz)(),d=(0,r().IS)((()=>({root:{display:"inline-flex"}})),[]),u=o?o/(t??100)*100:(c=e??0,Math.round(Math.max(0,Math.min(100,c))));var c;return(0,i.jsx)("div",{style:d.root,contentEditable:!1,role:"progressbar","aria-valuenow":o||e,"aria-valuemin":0,"aria-valuemax":t??100,"aria-label":s.formatMessage({id:"loadingProgressRing.progressLabel",defaultMessage:"Loading progress: {percentage}%"},{percentage:u}),children:(0,i.jsx)(l().Y,{progressPercentage:u,...a})})}},67775:(e,t,o)=>{o.d(t,{l:()=>h});o(296540);var r=()=>o(401497),n=()=>o(19238),l=()=>o(72135),i=()=>o(496603),a=()=>o(720665),s=()=>o(468882),d=()=>o(972435),u=()=>o(78901),c=()=>o(859428),p=o(474848);const m=21;function h(e){const{numberValue:t,numberFormat:o,numberPrecision:h,numberShowAs:v,shouldRenderTooltip:y,withComma:g,style:x,ringWidth:f,className:S,barHeight:b}=e,k=(0,r().DP)();if(i().yr(t)||a().pN(t))return null;const w=e.progressSize??m,C=(null==v?void 0:v.showValue)??!0,I=C&&l().ZV(t,o,d().A.getIntl(),void 0,h);let j;if("bar"===(null==v?void 0:v.type)||"ring"===(null==v?void 0:v.type)){const r=l().XK(t,v.maxValue),{filledColor:i,gapColor:a,unfilledColor:d}=function({theme:e,color:t}){const o="default"===t?e.selectLightGray:e.palette[t],r="dark"===e.mode?o[500]:o[400],n=o[50],l="dark"===e.mode?o[200]:e.selectLightGray[200];return{filledColor:r,gapColor:n,unfilledColor:l}}({theme:k,color:v.color}),m=y?s().lh({numberValue:t,numberFormat:o,numberShowAs:v}):void 0;j="bar"===v.type?(0,p.jsx)(u().z,{percentage:r,filledColor:i,gapColor:a,unfilledColor:d,height:b,style:{height:w,...e.barStyle,...C?{}:{flexBasis:"100%"}},tooltip:m}):(0,p.jsx)(c().A,{placement:"top",renderTooltip:()=>m,disableTooltip:!m,render:e=>(0,p.jsx)("span",{style:{display:"inline-flex"},...e,children:(0,p.jsx)(n().E,{currentValue:t,maxValue:v.maxValue,progressColor:"default"===v.color?void 0:v.color,size:w,ringThickness:f})})})}return(0,p.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:"6px 8px",...x},className:S,children:[I,j,g?", ":null]})}},96409:(e,t,o)=>{o.d(t,{X:()=>i});var r=o(296540),n=()=>o(401497),l=o(474848);const i=r.memo((function(e){const{value:t,description:i,color:a,shouldShrink:s,type:d,style:u,shouldShowTooltip:c}=e,p="status"===d?e.groupColor??"default":void 0,m=(0,n().DP)(),{baseStyles:h}=(0,r.useContext)(o(971003).L8),v=(0,o(496645).Ug)(e.tokenFormat??(null==h?void 0:h.tokenFormat)),y=(0,n().IS)((()=>({token:{margin:0,...o(284371).RC,...u}})),[u]);if(!t)return null;const{textColor:g,backgroundColor:x}=(0,o(100622).LD)(m,a??p);let f;return"status"===d&&(f=a||(p||"gray")),(0,l.jsx)(o(881690).A,{format:v,value:(0,l.jsx)(o(288722).A,{children:t}),description:i,color:g,backgroundColor:x,showRemoveButton:!1,shouldShrink:s,isRound:"status"===d,isSingle:!1,showColoredDot:f,showTooltip:c?"always":"never",tooltipPlacement:"top",style:y.token,tooltipClassName:o(38337).Efz})}))},265665:(e,t,o)=>{o.d(t,{j:()=>d});var r=o(296540),n=()=>o(484714),l=()=>o(401497),i=()=>o(284371),a=()=>o(859428);var s=o(474848);function d({children:e,style:t,tooltipStyle:o,placement:d="bottom"}){const{isSafari:u}=(0,n().Y0)(),c=(0,r.useRef)(null),p=function(e){const[t,o]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const r="ResizeObserver"in window?new ResizeObserver((([e])=>{o(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==r||r.observe(t),()=>null==r?void 0:r.unobserve(t)}),[]),t}(c),m=(0,l().IS)((()=>({overflowText:{...i().RC,...t}})),[t]);return(0,s.jsx)(a().A,{delayThreshold:500,placement:d,textWrap:!0,style:o,forceVisibleState:!(u||!p)&&void 0,renderTooltip:()=>p?e:void 0,render:t=>(0,s.jsx)("div",{ref:c,style:m.overflowText,...t,children:e})})}},310188:(e,t,o)=>{o.d(t,{K:()=>l});var r=()=>o(713998),n=()=>o(641007);function l({type:e,store:t,textValue:o}){if(!o||!e)return{linkHref:void 0,shouldShowMaliciousContentDialog:!1};const l=(null==t?void 0:t.getCreatedById())===n().xY.id&&"url"===e;return{linkHref:(0,r().UY)(e,o),shouldShowMaliciousContentDialog:l}}},324440:(e,t,o)=>{o.d(t,{o:()=>l});o(898992),o(354520);var r=o(296540),n=o(474848);const l=r.memo((function(e){var t;const{propertyLabel:l,checked:i,enablePointerEventsForInteractiveTypes:a,onClick:s,disabled:d,tooltip:u,withComma:c,store:p,property:m}=e,{baseStyles:h}=(0,r.useContext)(o(971003).L8),v=(0,o(56366).K8)((()=>{if(p)return(0,o(299545).O3)(p,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===m))}),[p,m]),y=v&&null!==(t=v[0])&&void 0!==t&&t.id?(0,o(451306).wV)({discussionId:v[0].id}):void 0,g=(null==h?void 0:h.sizing)??"default",x="small"===g?14:16,f=(0,o(401497).IS)((()=>({wrapperStyle:{maxWidth:"100%"},cardCheckboxWrapStyle:{display:"flex",alignItems:"center",lineHeight:`${x}px`,height:"100%"},cardCheckboxNameStyle:{marginInlineStart:"small"===g?5:6,marginInlineEnd:2,...o(284371).RC}})),[g,x]),S=(0,r.useMemo)((()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o(859428).A,{disableTooltip:!u,renderTooltip:()=>u,render:e=>(0,n.jsx)(o(729108).S,{checked:i,disabled:d,style:{...a&&{pointerEvents:"auto"}},onClick:s,size:x,...e})}),c?", ":""]})),[x,i,d,a,s,u,c]);return(0,n.jsx)("div",{className:y,style:f.wrapperStyle,children:l?(0,n.jsxs)("div",{style:f.cardCheckboxWrapStyle,children:[S,(0,n.jsx)("div",{style:f.cardCheckboxNameStyle,children:l})]}):S})}))},334684:(e,t,o)=>{o.d(t,{$:()=>a});var r=()=>o(898244),n=()=>o(713998),l=()=>o(534177);const i=["button","formula","auto_increment_id","file"];function a(e){const{propertyType:t,propertySchema:o,allowAIProperty:a}=e,s=(0,l().O9)(o)&&(0,r().$M)(o)&&(0,l().O9)((0,r().om)(o)),d=!a&&s,u=(0,l().O9)((0,n().Dz)(o));return i.includes(t)||d||u}},340072:(e,t,o)=>{o.d(t,{a:()=>l});var r=o(296540),n=o(474848);const l=r.memo((function(e){const{recordPointer:t,parentStore:l,linkify:i,withComma:a,style:s,noUnderline:d,noWrap:u,disableTooltip:c}=e,{canEdit:p,shouldWrap:m,baseStyles:h,containerRef:v}=(0,r.useContext)(o(971003).L8),y=(0,o(496645).Ug)(null==h?void 0:h.tokenFormat),g=o(148832).B.createChildStore(l,{table:o(179034).ev,id:t.id}),x=(0,o(56366).K8)((()=>"external_object_instance_page"===(null==g?void 0:g.getType())),[g]),f="never"===i||"whenReadOnly"===i&&p&&!x,S=(0,o(401497).IS)((()=>({relationToken:{margin:0,...s}})),[s]);return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(o(204358).A,{blockId:t.id,isSingle:!1,parentStore:l,shouldWrap:m&&!u,format:y,style:S.relationToken,containingParentRef:v,noUnderline:d,disableTooltip:c,disableLinks:f},t.id),a?", ":""]})}))},358167:(e,t,o)=>{o.d(t,{v:()=>l});var r=()=>o(56366),n=()=>o(116008);function l(e){const{blockId:t,propertyId:o}=e;return(0,r().K8)((()=>n().A.isPropertyWithDraftDiscussion({blockId:t,propertyId:o})),[t,o])}},399176:(e,t,o)=>{o.d(t,{E:()=>v});o(898992),o(354520);var r=o(296540),n=()=>o(59226),l=()=>o(56366),i=()=>o(401497),a=()=>o(451306),s=()=>o(72135),d=()=>o(969842),u=()=>o(67775),c=()=>o(299545),p=()=>o(358167),m=()=>o(971003),h=o(474848);function v(e){var t,o;const{numberValue:v,numberFormatOverride:y,numberPrecisionOverride:g,withComma:x,isRightAligned:f,store:S,property:b}=e,{baseStyles:k,propertySchema:w,shouldRenderTooltip:C,shouldWrap:I}=(0,r.useContext)(m().L8),j=(0,i().eP)(),A=(0,n().X)("improved_progress_bar"),T=w,R=(0,l().K8)((()=>{if(S)return(0,c().O3)(S,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===b))}),[S,b]),V=(0,p().v)({blockId:null==S?void 0:S.id,propertyId:b});let P;R&&null!==(t=R[0])&&void 0!==t&&t.id&&(P=(0,a().wV)({discussionId:R[0].id}));const L=R&&R.length>0,W=(null==k?void 0:k.sizing)??"default",_=(0,i().IS)((()=>{var e,t,o,r,n;const l="bar"===(null==T||null===(e=T.show_as)||void 0===e?void 0:e.type)||"ring"===(null==T||null===(t=T.show_as)||void 0===t?void 0:t.type);return{style:{...!l&&{display:void 0},...l?{flex:"1 0 auto",justifyContent:f?"flex-end":void 0}:{},...!I&&{display:l?"inline-flex":"inline",textWrap:"nowrap"},fontSize:null==k||null===(o=k.textStyle)||void 0===o?void 0:o.fontSize,lineHeight:null==k||null===(r=k.textStyle)||void 0===r?void 0:r.lineHeight,...(L||V)&&(0,d().sQ)(j),..."large"===W&&"bar"===(null==T||null===(n=T.show_as)||void 0===n?void 0:n.type)&&{flexDirection:"column",alignItems:void 0},...k.textStyle},barStyle:{..."large"===W&&{flexGrow:1,minWidth:48,maxWidth:"min(100%, 250px)",height:10,marginBottom:4},..."small"===W&&{flexGrow:1,minWidth:48,maxWidth:120},..."default"===W&&{flexGrow:1,minWidth:48,maxWidth:A?48:160}}}}),[null==T||null===(o=T.show_as)||void 0===o?void 0:o.type,f,I,k.textStyle,L,V,j,W,A]),[F,D]=(0,r.useMemo)((()=>[y||"number"===(null==T?void 0:T.type)&&(null==T?void 0:T.number_format)||s().C4,g||"number"===(null==T?void 0:T.type)&&(null==T?void 0:T.number_precision)||s().pS]),[y,g,T]);return(0,h.jsx)(u().l,{style:_.style,barStyle:_.barStyle,progressSize:k.textLineHeight,numberValue:v,barHeight:"large"===W?8:4,ringWidth:"large"===W?3:2,numberFormat:F,numberPrecision:D,numberShowAs:null==T?void 0:T.show_as,shouldRenderTooltip:!C,withComma:x,className:P})}},512397:(e,t,o)=>{o.d(t,{T:()=>i});o(296540);var r=()=>o(35622),n=()=>o(360083),l=o(474848);function i(e){const{imageRef:t,url:o,blockStore:i,environment:a}=e;return e=>{if(e.stopPropagation(),e.preventDefault(),!t.current)return;const s=t.current.getBoundingClientRect(),d=s.width/s.height;r().o9({environment:a,renderFullScreenNode:()=>(0,l.jsx)(n().A,{url:o,isAuthenticated:!0,permissionRecord:i.pointer,width:window.innerWidth,render:(e,t)=>(0,l.jsx)("img",{src:t,style:{position:"relative",maxHeight:"100%",maxWidth:"100%",margin:0,alignSelf:"center",width:"100%"}})}),fullScreenNodeRect:s,contentAspectRatio:d,imageUrl:o,blockStore:i})}}},586117:(e,t,o)=>{o.d(t,{b:()=>a});o(898992),o(354520);var r=o(296540),n=()=>o(401497),l=()=>o(597777),i=o(474848);const a=r.memo((function(e){var t;const{dateValue:a,dateFormat:s,timeFormat:d,withComma:u,store:c,property:p}=e,m=(0,n().eP)(),{baseStyles:h,shouldRenderTooltip:v}=(0,r.useContext)(o(971003).L8),y=(0,o(56366).K8)((()=>{if(c)return(0,o(299545).O3)(c,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===p))}),[c,p]),g=(0,o(358167).v)({blockId:null==c?void 0:c.id,propertyId:p}),x=(0,n().IS)((()=>({dateBox:{...h.textStyle,display:"inline",...(((null==y?void 0:y.length)??!1)||g)&&(0,o(969842).sQ)(m)}})),[h.textStyle,null==y?void 0:y.length,g,m]);let f;var S;y&&null!==(t=y[0])&&void 0!==t&&t.id&&(f=(0,o(451306).wV)({discussionId:null===(S=y[0])||void 0===S?void 0:S.id}));return(0,i.jsx)(o(654734).A,{value:a,dateFormat:s??l().vz,timeFormat:d??l().CE,style:x.dateBox,disableTooltip:v||"relative"!==s,withComma:u,displayInUserTimezone:!0,discussionStore:null==y?void 0:y[0],className:f})}))},586295:(e,t,o)=>{o.d(t,{h:()=>l});var r=o(296540),n=o(474848);const l=r.forwardRef((function({children:e,style:t,isRightAligned:l,className:i},a){const{baseStyles:s}=(0,r.useContext)(o(971003).L8),d=(0,o(401497).IS)((()=>({tokenWrapStyle:{...s.tokenWrapStyle,...l?{justifyContent:"end"}:void 0,...t}})),[s.tokenWrapStyle,t,l]);return(0,n.jsx)("div",{ref:a,style:d.tokenWrapStyle,className:i,children:e})}))},627503:(e,t,o)=>{o.d(t,{a:()=>n});o(296540);const r={viewBox:"0 0 16 16",fittedViewBox:"1.37 1.37 13.25 13.25",svg:(0,o(474848).jsx)("path",{d:"M3.25 1.375c-1.036 0-1.875.84-1.875 1.875v6c0 1.036.84 1.875 1.875 1.875h1.625v1.625c0 1.036.84 1.875 1.875 1.875h6c1.036 0 1.875-.84 1.875-1.875v-6c0-1.036-.84-1.875-1.875-1.875h-1.625V3.25c0-1.036-.84-1.875-1.875-1.875zM2.625 3.25c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v1.625H6.75c-1.036 0-1.875.84-1.875 1.875v3.125H3.25a.625.625 0 0 1-.625-.625zm3.5 3.5c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v6c0 .345-.28.625-.625.625h-6a.625.625 0 0 1-.625-.625z"})},n=(0,o(340498).wt)("duplicateSmall",r)},648747:(e,t,o)=>{o.d(t,{O:()=>s});o(898992),o(430670);var r=()=>o(869190),n=()=>o(416504),l=()=>o(450648),i=()=>o(534177),a=()=>o(972435);function s(e,t,o){if(void 0===e)return[];switch(e.type){case"text":const d=(0,l().r4)({textValue:e.value,getRecordModel:t,userTimeZone:o,intl:a().A.getIntl(),deterministic:!0});return 0===d.length?[]:[{id:d,type:"text",value:e.value}];case"block":return[{id:e.value.id,type:"relation",value:e.value}];case"date":return[{id:(0,r().ZF)({allowRelativeDates:!1,value:e.value,userTimeZone:(0,n().P)(),intl:a().A.getIntl()}),type:"date",value:e.value}];case"checkbox":return[{id:e.value,type:"checkbox",value:e.value}];case"number":return[{id:e.value,type:"number",value:e.value}];case"person":return[{id:e.value.id,type:"person",value:e.value}];case"array":return e.values.flatMap((e=>s(e,t,o)));case"undefined":case"function":return[];default:(0,i().HB)(e)}}},684847:(e,t,o)=>{o.d(t,{X:()=>l});var r=o(296540),n=o(474848);const l=r.memo((function(e){const{linkValue:t,style:l,store:i,shouldDisableLinks:a,shouldLockImageAspectRatio:s}=e,d=i.pointer,{url:u,name:c}=t,{baseStyles:p}=(0,r.useContext)(o(971003).L8),m=(0,o(484714).v3)(),h=m.device.isRetina,v=(0,r.useRef)(null),y=(null==p?void 0:p.sizing)??"default",g="small"===y?20:"large"===y?28:24,x=(0,o(401497).IS)((e=>({fileTextStyle:{display:"inline-block",height:g,lineHeight:`${g}px`,borderRadius:4,background:e.legacyDefaultSelectColor,fontSize:(0,o(115512).ny)(m,"UISmall"),padding:"0px 6px",maxWidth:120,minWidth:40,...a?{}:{cursor:"zoom-in"},...o(284371).RC,...l},fileImageStyle:{maxHeight:g,borderRadius:4,...a?{}:{cursor:"zoom-in"},...s?{maxHeight:g,minHeight:g,maxWidth:g,minWidth:g,objectFit:"cover"}:{},...l}})),[a,m,g,s,l]),f=(0,r.useCallback)(((e,t)=>{if(!t)return null;const r=a?void 0:(0,o(512397).T)({imageRef:v,url:u,blockStore:i,environment:m});return(0,n.jsx)("img",{ref:v,src:t,style:x.fileImageStyle,onClick:r},u)}),[a,m,i,x.fileImageStyle,u]);if((0,o(304740).rS)({url:u}))return(0,n.jsx)(o(360083).A,{url:u,isAuthenticated:!0,permissionRecord:d,width:h?2*g:g,render:f},u);return(0,n.jsx)("span",{style:x.fileTextStyle,onClick:a?void 0:e=>{e.stopPropagation(),o(161773).OG(m,{url:u,type:"file",from:"view_original",downloadName:c,permissionRecord:d})},children:(0,n.jsx)(o(265665).j,{children:c})},u)}))},729564:(e,t,o)=>{o.d(t,{A:()=>a});var r=o(296540),n=()=>o(784892),l=()=>o(437607),i=o(474848);const a=r.memo((function(e){var t;const{actorOrGroupPointer:a,style:s,shouldShrink:d,withComma:u}=e,{store:c,baseStyles:p,shouldRenderTooltip:m,propertySchema:h}=(0,r.useContext)(o(971003).L8),v=(0,o(496645).Ug)(null==p?void 0:p.tokenFormat),y=(0,o(401497).IS)((()=>({actorStyle:{margin:0,...s,...(null==p?void 0:p.tokenFormat)===n().NY.Inline&&{pointerEvents:"auto"},display:"inline-block"}})),[null==p?void 0:p.tokenFormat,s]),g=(0,o(56366).K8)((()=>{if((0,l().I6)(a))return;const e=null==c?void 0:c.getRecordModel;return e?(0,o(764880).xC)({pointer:a,getRecordModel:e}):void 0}),[a,null==c?void 0:c.getRecordModel]);return(0,l().I6)(a)?void 0===c?null:(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o(27356).UISpacePermissionGroupToken,{groupPointer:a,parentStore:c,format:v,isSingle:!1,style:y.actorStyle}),u?", ":""]}):void 0===g?null:(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(o(448693).Ay,{actor:g,showRemoveButton:!1,format:v,isSingle:!1,shouldShrink:d,style:y.actorStyle,hasPersonHoverCard:!m||v===n().NY.Inline,tooltipHeader:null==h?void 0:h.name},null===(t=g.asActor)||void 0===t?void 0:t.id),u?", ":""]})}))},837622:(e,t,o)=>{o.d(t,{A:()=>c});var r=o(296540),n=()=>o(56366),l=()=>o(401497),i=()=>o(201980),a=()=>o(116008),s=()=>o(921855),d=()=>o(735372),u=o(474848);const c=r.memo((function(e){const{parentStore:t,withComma:c,linkifyUrls:p,disableCommentHighlight:m,disableLinks:h,shouldTruncate:v,clampLines:y,textValue:g}=e,x=(0,o(484714).v3)(),f=(0,l().DP)(),S=(0,o(712030).Ol)();(0,r.useEffect)((()=>{void 0!==g&&x.KatexStore.loadIfNeeded((()=>g))}),[x.KatexStore,g]);const{collectionContextStore:b,property:k}=(0,r.useContext)(o(971003).L8),{collectionViewBlockId:w,collectionViewId:C}=(0,n().K8)((()=>{var e,t;return{collectionViewId:null==b||null===(e=b.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==b||null===(t=b.collectionViewBlockStore())||void 0===t?void 0:t.id}}),[b]),I=(0,n().K8)((()=>x.KatexStore.getKatex()),[x.KatexStore]),j=(0,n().K8)((()=>{const e=d().qu.state,o=d().wb.state;return e&&k&&g?s().nu({textValue:g,blockId:t.id,textProps:{type:"page_property_value_match",collectionViewBlockId:w,collectionViewId:C,propertyId:k},find:e,currentFocusedResult:o}):g}),[k,g,t.id,w,C]),A=(0,n().K8)((()=>{if(a().A.getPropertyId()!==k||a().A.getBlockStore()!==t)return j;const e=a().A.getMultiSelection();return e?i().Mwp({textValue:j,selection:{startIndex:e.start.index,endIndex:e.end.index},annotation:[i().Ifu.TemporaryComment]}):g?i().Mwp({textValue:j,selection:{startIndex:0,endIndex:i().qAZ(g).length},annotation:[i().Ifu.TemporaryComment]}):j}),[t,k,g,j]),T=(0,n().K8)((()=>void 0===A?null:s().S5({environment:x,textValue:A&&{value:A,spaceId:(0,o(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:m??!1,disabled:!0,theme:f,disableLinks:h??!1,emojiType:S,katex:I,formulaValueTypes:[],stopLinkPropagation:!0,linkTargetBlank:!0})),[A,x,t,m,f,h,S,I],{silenceRerenderDefender:!0}),R=(0,r.useMemo)((()=>{if(!p||void 0===g)return null;const e=(0,i().k4p)(g);return(0,o(735577).A)(e)?(0,o(713998).MO)(g):null}),[p,g]),V=(0,l().IS)((e=>({text:{...v&&!y?o(284371).RC:void 0,...v&&y?{...(0,o(115512).pA)(y),overflow:"hidden",textOverflow:"ellipsis"}:{}}})),[v,y]);return(0,u.jsxs)("span",{style:V.text,children:[R?(0,u.jsx)(o(97294).N,{href:R,style:{display:"inline",pointerEvents:"auto",...(0,o(468882).w_)(f)},external:!0,onClick:e=>e.stopPropagation(),children:T}):T,c?", ":null]})}))},891725:(e,t,o)=>{o.d(t,{LE:()=>d,lj:()=>u});o(898992),o(354520);var r=o(296540),n=()=>o(56366),l=()=>o(401497),i=()=>o(201980),a=()=>o(468882),s=o(474848);const d=r.memo((function(e){const{textValue:t,type:d,useShortenedUrl:c,disableLinkify:p,withComma:m,store:h,property:v}=e,y=(0,n().K8)((()=>{if(h)return(0,o(299545).O3)(h,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===v))}),[h,v]),g=(0,o(358167).v)({blockId:null==h?void 0:h.id,propertyId:v}),x=y&&(null==y?void 0:y.length)>0||g,f=(0,l().IS)((e=>({linkBoxStyle:{pointerEvents:"all",display:"inline",background:void 0,...(0,a().w_)(e),...x&&(0,o(969842).sQ)(e.mode)},hoveredLinkBoxStyle:{background:void 0,...(0,a().w_)(e)},pressedLinkBoxStyle:{background:void 0,...(0,a().w_)(e)}})),[x]),{collectionContextStore:S}=(0,r.useContext)(o(971003).L8),b=(0,n().K8)((()=>null==S?void 0:S.searchQueryStore.state),[null==S?void 0:S.searchQueryStore]),k=(0,n().K8)((()=>{if(!b||!t)return!1;const e=(0,i().k4p)(t);return null==e?void 0:e.toLowerCase().includes(b.toLowerCase())}),[b,t]),{linkHref:w,shouldShowMaliciousContentDialog:C}=(0,n().K8)((()=>(0,o(310188).K)({textValue:t||(v?null==h?void 0:h.getPropertyValue(v):void 0),type:d,store:h})),[v,h,t,d]);let I;return I=t&&"url"===d&&(c||k)?(0,s.jsx)(u,{textValue:t,searchQuery:b}):(0,i().k4p)(t),!w||p?(0,s.jsx)(s.Fragment,{children:I}):(0,s.jsxs)(o(296798).A,{href:w,style:f.linkBoxStyle,hoveredStyle:f.hoveredLinkBoxStyle,pressedStyle:f.pressedLinkBoxStyle,external:!0,discussionStore:null==y?void 0:y[0],preNavigationAction:e=>{C?(0,o(465741).TW)({propertyType:"url",onConfirm:()=>{e()}}):e()},children:[I,m?", ":null]})}));function u({textValue:e,searchQuery:t}){const o=(0,l().IS)((e=>({restOfUrl:{color:e.text.tertiary}})),[]),{domain:r,restOfUrl:n}=(0,a().Kc)(e);if(!r)return(0,s.jsx)(s.Fragment,{children:(0,i().k4p)(e)});const d=function(e,t,o){if(!t)return;let r=t,n=!1;if(t&&o){const l=null==t?void 0:t.toLowerCase().indexOf(o.toLowerCase()),i=`${e}${t}`.toLowerCase().indexOf(o.toLowerCase());if(l>=0){let e="";l>0&&(e=`${t.slice(0,1)}`),l>1&&(e+="…");let i="";l+o.length<t.length&&(i="…"),r=`${e}${t.slice(l,l+o.length)}${i}`,n=!0}else if(i>=0&&i+o.length>e.length){const l=i+o.length-e.length;r=t.slice(0,l),l<t.length&&(r+="…"),n=!0}}!n&&t&&t.length>12&&(r=`${t.slice(0,4)}…${t.slice(-6)}`);return r}(r,n,t);return(0,s.jsxs)(s.Fragment,{children:[r,d?(0,s.jsx)("span",{style:o.restOfUrl,children:d}):null]})}},956394:(e,t,o)=>{o.d(t,{GL:()=>W,Or:()=>V,Ye:()=>L,yZ:()=>P});o(898992),o(354520);var r=o(296540),n=()=>o(56366),l=()=>o(401497),i=()=>o(563015),a=()=>o(750559),s=()=>o(72135),d=()=>o(969842),u=()=>o(69708),c=()=>o(534177),p=()=>o(284371),m=()=>o(859428),h=()=>o(299545),v=()=>o(358167),y=()=>o(971003),g=()=>o(496645),x=()=>o(324440),f=()=>o(891725),S=()=>o(586117),b=()=>o(684847),k=()=>o(340072),w=()=>o(399176),C=()=>o(729564),I=()=>o(96409),j=()=>o(431616),A=()=>o(837622),T=()=>o(586295),R=o(474848);const V={id:"empty",type:"empty",value:[["Empty"]]};function P(e){const{token:t,targetPropertySchema:o,blockStore:r,checkboxPropertyLabel:n,withComma:d,numberRightAlign:h,disableLinks:v,shouldTruncate:y}=e,g=(0,l().DP)(),j=(0,u().tz)(),{type:T,value:V}=t;switch(T){case"url":case"email":case"phone_number":return(0,R.jsx)(f().LE,{textValue:V,type:T,useShortenedUrl:!1,withComma:d,disableLinkify:v});case"checkbox":return(0,R.jsx)(x().o,{checked:V,propertyLabel:n,disabled:!0,withComma:d});case"number":return(0,R.jsx)(w().E,{numberValue:V,numberFormatOverride:o&&"number_format"in o?null==o?void 0:o.number_format:s().C4,numberPrecisionOverride:o&&"number_precision"in o?null==o?void 0:o.number_precision:void 0,withComma:d,isRightAligned:h});case"date":return(0,R.jsx)(S().b,{dateValue:V,dateFormat:o&&"date_format"in o?o.date_format:void 0,timeFormat:o&&"time_format"in o?o.time_format:void 0,withComma:d});case"file":return(0,R.jsx)(b().X,{linkValue:V,store:r,shouldDisableLinks:v});case"person":return(0,R.jsx)(C().A,{actorOrGroupPointer:V,shouldShrink:y,withComma:d});case"relation":return(0,R.jsx)(k().a,{recordPointer:V,parentStore:r,linkify:v?"never":"always",withComma:d,noWrap:y,style:{...y&&{maxWidth:"100%",...p().RC}}});case"select":return(0,R.jsx)(I().X,{type:t.groupColor?"status":"select",value:V,groupColor:t.groupColor,color:t.color,shouldShrink:y});case"text":return(0,R.jsx)(A().A,{textValue:V,parentStore:r,withComma:d,linkifyUrls:!v,disableCommentHighlight:!0,shouldTruncate:y});case"error":return(0,R.jsx)(m().A,{render:e=>(0,R.jsxs)("div",{style:{display:"inline-flex",cursor:"help",color:g.red.text.primary,alignItems:"center",gap:3},...e,children:[(0,a().f)({width:16,height:16,color:g.red.icon.accentPrimary}),(0,R.jsx)(u().sA,{id:"propertyValueToken.error",defaultMessage:"Error"})]}),renderTooltip:()=>(0,R.jsx)(u().sA,{...(0,i().yI)(j,V)}),placement:"top",alignment:"center"});case"empty":return(0,R.jsx)(m().A,{render:e=>(0,R.jsx)("div",{style:{opacity:.8,cursor:"help"},...e,children:(0,R.jsx)(A().A,{textValue:V,parentStore:r,withComma:d,linkifyUrls:!0})}),renderTooltip:()=>(0,R.jsx)(u().sA,{id:"propertyValueToken.emptyValueTooltip",defaultMessage:"Empty values aren’t displayed but affect formula calculations."}),placement:"top",alignment:"center"});default:return(0,c().HB)(T)}}function L({children:e,propertyType:t,rootPropertySchema:o,numberRightAlign:i,store:a,property_id:s}){const{shouldWrap:u}=(0,r.useContext)(y().L8),c="number"===t&&i,p=(0,v().v)({blockId:null==a?void 0:a.id,propertyId:s}),m=(0,n().K8)((()=>{if(a)return(0,h().O3)(a,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===s))}),[a,s]),g=(0,l().IS)((e=>({commentHighlightWrapperStyle:(null==m?void 0:m.length)||p?{...(0,d().sQ)(e.mode),paddingTop:8,height:"fit-content",paddingInlineStart:5,display:"inline-flex"}:{}})),[p,null==m?void 0:m.length]);return W(t,o)?(0,R.jsx)(j().C,{style:{...g.commentHighlightWrapperStyle,...u&&{display:"flex",flexWrap:"wrap"}},isRightAligned:c,children:e}):(0,R.jsx)(T().h,{isRightAligned:c,style:g.commentHighlightWrapperStyle,children:e})}function W(e,t){var o,r;return void 0!==e&&"title"!==e&&(!!(0,g().YX)(e)&&("number"!==e||"bar"!==(null==t||null===(o=t.show_as)||void 0===o?void 0:o.type)&&"ring"!==(null==t||null===(r=t.show_as)||void 0===r?void 0:r.type)))}},991114:(e,t,o)=>{o.d(t,{C:()=>i});var r=()=>o(56366);const n=Number(o(720665).Xb),l=new(o(496506).ComputedStore)((()=>o(242422).default.getConfigKey("collection_request_settings","clientFormulaTimeoutMs")??n),{debugName:"clientFormulaTimeoutMsStore"});function i(){return(0,r().O$)(l)}}}]);