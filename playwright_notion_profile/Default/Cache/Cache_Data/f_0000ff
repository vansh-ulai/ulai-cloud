"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[70359],{139343:(e,t,n)=>{n.d(t,{T:()=>i});var o=()=>n(693202);function i(){const e=o().default.state;if("editing"!==e.mode)return!1;const t=e.multiSelection.start.store,n="collection"===t.table;return t.path.includes("name")&&n||!1}},177148:(e,t,n)=>{n.d(t,{Y:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,n(474848).jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125V8.121c0-.563-.224-1.104-.622-1.502L11.63 2.997a2.13 2.13 0 0 0-1.502-.622zM5.375 4.5c0-.483.392-.875.875-.875h3.7V6.25A2.05 2.05 0 0 0 12 8.3h2.625v7.2a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875zm8.691 2.7H12a.95.95 0 0 1-.95-.95V4.184z"})},i=(0,n(340498).wt)("pageEmpty",o)},261403:(e,t,n)=>{n.d(t,{R:()=>a});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8.875 5.75c.345 0 .625.28.625.625V8.25h1.875a.625.625 0 1 1 0 1.25H9.5v1.875a.625.625 0 1 1-1.25 0V9.5H6.375a.625.625 0 1 1 0-1.25H8.25V6.375c0-.345.28-.625.625-.625"}),(0,o.jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})]})},a=(0,n(340498).wt)("magnifyingGlassPlus",i)},275143:(e,t,n)=>{n.d(t,{y:()=>i});n(898992),n(737550);var o=()=>n(602098);function i(e){return e.blocks.some(o().u)}},375308:(e,t,n)=>{n.d(t,{v:()=>a});n(898992),n(737550);var o=()=>n(486674),i=()=>n(478726);function a(e){return e.blocks.some((e=>{const t=(0,o().a)();return!(!t||!(0,i().fc)(t))||!!(t&&t.isNonEditableState()&&t.uiContains(e)&&t!==e)}))}},391381:(e,t,n)=>{n.d(t,{x:()=>c});var o=()=>n(962845),i=()=>n(792002),a=()=>n(693202),r=()=>n(778417),s=()=>n(699847),l=()=>n(72159);function c(e){var t;(0,s().l)();const{environment:n,store:c,canSelectAllBlocks:d}=e,u=(0,i().s6)(c),m={startIndex:0,endIndex:u?u.endIndex:0};d&&"empty"!==a().default.state.mode&&(0,i().GZ)(null===(t=(0,o().cR)("textSelectionActions",a().default.state.multiSelection))||void 0===t?void 0:t.selection,m)?r().Ub(n):(0,l().t)({store:c,selection:m})}},454503:(e,t,n)=>{n.r(t),n.d(t,{arrowUTurnUpLeftIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.12 3.72 15.76 12.16",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M7.592 4.792a.625.625 0 1 0-.884-.884l-4.4 4.4a.625.625 0 0 0 0 .884l4.4 4.4a.625.625 0 1 0 .884-.884L4.259 9.375H14a2.625 2.625 0 0 1 0 5.25h-1.42a.625.625 0 1 0 0 1.25H14a3.875 3.875 0 0 0 0-7.75H4.259z"})},i=(0,n(340498).wt)("arrowUTurnUpLeft",o)},523195:(e,t,n)=>{n.d(t,{o:()=>i});var o=()=>n(486674);function i(){const e=(0,o().a)();return!e||!e.isLocked()}},560595:(e,t,n)=>{n.d(t,{f:()=>r});var o=()=>n(496603),i=()=>n(693202),a=()=>n(486674);function r(){const e=(0,a().a)(),t=i().default.state;if("editing"!==t.mode)return!1;const n=t.multiSelection.start.store;return Boolean(e&&e.id===n.id&&(e.getBlockTitleStore()===n||o().n4(e.getBlockTitleStore().path,n.path)))}},859384:(e,t,n)=>{n.d(t,{M:()=>a});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.12 2.99 13.88 13.88",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"m16.774 4.341-.59.589-1.109-1.11.596-.594a.784.784 0 0 1 1.103 0c.302.302.302.8 0 1.102zM8.65 12.462l6.816-6.813-1.11-1.11-6.822 6.808a1.1 1.1 0 0 0-.236.393l-.289.932c-.052.196.131.38.315.314l.932-.288a.9.9 0 0 0 .394-.236"}),(0,o.jsx)("path",{d:"M4.375 6.25c0-1.036.84-1.875 1.875-1.875H11a.625.625 0 1 0 0-1.25H6.25A3.125 3.125 0 0 0 3.125 6.25v7.5c0 1.726 1.4 3.125 3.125 3.125h7.5c1.726 0 3.125-1.4 3.125-3.125V9a.625.625 0 1 0-1.25 0v4.75c0 1.036-.84 1.875-1.875 1.875h-7.5a1.875 1.875 0 0 1-1.875-1.875z"})]})},a=(0,n(340498).wt)("compose",i)},877788:(e,t,n)=>{n.d(t,{w:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.4 2.39 15.2 14.52",svg:(0,n(474848).jsx)("path",{d:"M10 2.399c.27 0 .51.174.594.432l1.507 4.636h4.874a.625.625 0 0 1 .367 1.13L13.4 11.462l1.506 4.636a.625.625 0 0 1-.962.699L10 13.932l-3.943 2.865a.625.625 0 0 1-.962-.699L6.6 11.462 2.658 8.597a.625.625 0 0 1 .367-1.13h4.874L9.406 2.83A.625.625 0 0 1 10 2.399m0 2.648L8.948 8.285a.625.625 0 0 1-.595.432H4.95l2.754 2.001c.22.16.31.441.227.699l-1.052 3.238 2.755-2.001a.625.625 0 0 1 .734 0l2.755 2.001-1.052-3.238a.625.625 0 0 1 .227-.699l2.754-2.001h-3.405a.625.625 0 0 1-.594-.432z"})},i=(0,n(340498).wt)("star",o)},907487:(e,t,n)=>{n.d(t,{J:()=>i,X:()=>a});var o=()=>n(598101);const i=[function(e){return(0,n(68465).ZE)(e.publicEditMode)},n(158658).p,(0,o().A)(n(462580).J)],a=[...i,(0,o().A)(n(375308).v),(0,o().A)(n(275143).y),function(e){return e.blocks.length>0}]},952412:(e,t,n)=>{n.d(t,{u:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{selectedTeamStore:void 0,subscribedUserTeamStores:void 0,collectionContextStore:void 0,isPostsCollectionLoaded:!1,setComposerStyle:void 0,teamTargetMobilePopupOpen:!1}}openTeamTargetMobilePopup(){this.setState({...this.state,teamTargetMobilePopupOpen:!0})}closeTeamTargetMobilePopup(){this.setState({...this.state,teamTargetMobilePopupOpen:!1})}reset(){this.setState({selectedTeamStore:void 0,subscribedUserTeamStores:void 0,collectionContextStore:void 0,isPostsCollectionLoaded:!1,setComposerStyle:void 0,teamTargetMobilePopupOpen:!1})}}const i=new o},986260:(e,t,n)=>{n.r(t),n.d(t,{canMoveDown:()=>De,canMoveUp:()=>Ve,canShowMobileActionBar:()=>Be,canTriggerBlockActions:()=>Ce,canTriggerTextActions:()=>Oe,getOpenPropertyValueOverlaySchema:()=>rt,handleAi:()=>ze,handleComment:()=>Ke,handleDatabaseDiscoveryModal:()=>qe,handleDelete:()=>He,handleDismissKeyboard:()=>ot,handleEmojiPicker:()=>Ye,handleEquation:()=>Je,handleFilePicker:()=>et,handleIndent:()=>Ie,handleLink:()=>Ze,handleMention:()=>Le,handleMoreClick:()=>tt,handleMoveDown:()=>Ee,handleMoveUp:()=>Ne,handleReaction:()=>$e,handleRedo:()=>Ge,handleSetMenu:()=>Re,handleSetSubMenu:()=>Fe,handleTeamspaceSelector:()=>nt,handleTemplate:()=>Qe,handleTemplates:()=>Xe,handleTextAnnotation:()=>je,handleUndo:()=>We,handleUnindent:()=>Ue,isEditingCollectionTextProperty:()=>Te,mobileActionBarRenderAvailability:()=>ke,shouldPreserveExistingSelection:()=>Pe,shouldShowTemplatesButton:()=>xe,shouldShowTextActions:()=>_e,trackItemTap:()=>it,updateDebugShouldShow:()=>ye});n(18107),n(967357),n(898992),n(737550);var o=()=>n(242422),i=()=>n(726637),a=()=>n(908006),r=()=>n(110750),s=()=>n(960955),l=()=>n(713998),c=()=>n(165358),d=()=>n(416504),u=()=>n(179034),m=()=>n(797573),p=()=>n(201980),f=()=>n(328523),v=()=>n(160568),h=()=>n(901265),S=()=>n(448619),g=()=>n(501666),b=()=>n(829300),A=()=>n(120672),w=()=>n(18387),M=()=>n(299545),y=()=>n(502438),B=()=>n(693202),k=()=>n(675074),T=()=>n(98244),x=()=>n(391214),_=()=>n(778417),P=()=>n(231297),C=()=>n(892632);const O={pageTemplateModalActions:new(n(645873).O2)("pageTemplateModalActions",(async()=>Promise.all([n.e(9773),n.e(36556),n.e(40537),n.e(87249),n.e(71621),n.e(88924),n.e(92845),n.e(56369),n.e(5834),n.e(48486),n.e(2411),n.e(34208)]).then(n.bind(n,413677))))};var I=()=>n(44729),U=()=>n(384944),N=()=>n(495262),E=()=>n(319975),V=()=>n(750627),D=()=>n(112204),H=()=>n(391381),L=()=>n(662453),z=()=>n(286088),j=()=>n(543886),R=()=>n(441467),F=()=>n(517288),G=()=>n(730307),W=()=>n(962845),Z=()=>n(952412),K=()=>n(644914),$=()=>n(749687),J=()=>n(875827),q=()=>n(857048),X=()=>n(697393),Q=()=>n(155959),Y=()=>n(765957),ee=()=>n(295169),te=()=>n(525569),ne=()=>n(375447),oe=()=>n(75368),ie=()=>n(978848),ae=()=>n(714818),re=()=>n(261358),se=()=>n(899677),le=()=>n(777932),ce=()=>n(922952),de=()=>n(373444),ue=()=>n(158658),me=()=>n(523195),pe=()=>n(139343),fe=()=>n(560595),ve=()=>n(972435),he=()=>n(600871),Se=()=>n(481292),ge=()=>n(329443),be=()=>n(993130),Ae=()=>n(969197),we=()=>n(792002);let Me=!1;function ye(e){Me=e}function Be(e,t,n){var a;const{device:l,TabbedRouterStore:c}=e,d=Me||Boolean(ie().A.state.enableShouldShowDebugging);if(!i().A.isMobile)return at(d,"canShowMobileActionBar = false (reason: !config.isMobile)"),!1;if((0,be().A)(e)&&o().default.checkGate({gateName:"mab_consider_navigation_top_page"})){const e=(0,r().Xz)(c.state);if("web"!==e.type||"page"!==(0,r().AE)(e).route.name)return at(d,"canShowMobileActionBar = false (reason: top page is not a web page)"),!1}if(se().default.state.open)return at(d,"canShowMobileActionBar = false (reason: quickFindOpen)"),!1;if(!l.isMobileNative&&ne().Ay.state.open)return at(d,"canShowMobileActionBar = false (reason: !device.isMobileNative && MentionMenuStore.state.open)"),!1;if(B().default.isEditingComment())return at(d,"canShowMobileActionBar = false (reason: TextSelectionStore.isEditingComment())"),!1;const u=(0,z().SB)(te().default.state),m=null===(a=ee().default.getActiveSession())||void 0===a?void 0:a.hasPendingOperations();if(u||m)return at(d,"canShowMobileActionBar = false (reason: isCompletionsPopupActive || hasPendingEdits)"),!1;if(!j().A.state.isOpen&&e.device.isMobileNative&&s().A.hasOpenPopups())return at(d,"canShowMobileActionBar = false (reason: !PageTemplateModalStore.state.open && environment.device.isMobileNative && GlobalPopupStore.hasOpenPopups() > 0)"),!1;if(j().A.state.isOpen){const t=rt(j().A.state);if(!t)return at(d,"canShowMobileActionBar = false (reason: PageBlockPropertyValueOverlayStore.state.isOpen && propertySchema === undefined)"),!1;switch(t.type){case"text":if(t.ai_inference)return at(d,"canShowMobileActionBar = false (reason: PageBlockPropertyValueOverlayStore.state.isOpen && propertySchema.ai_inference !== undefined)"),!1;break;case"number":if(!(0,he().Xt)({device:e.device}))return at(d,'canShowMobileActionBar = false (reason: PageBlockPropertyValueOverlayStore.state.isOpen && propertySchema.type == "number")'),!1;break;default:return at(d,`canShowMobileActionBar = false (reason: PageBlockPropertyValueOverlayStore.state.isOpen && propertySchema.type == "${t.type}`),!1}}if((0,pe().T)())return!1;if(t.isFormBlock())return!1;const p="editing"===B().default.state.mode;if(K().KB(e)&&$().sidebarOpenStore.state&&!p)return at(d,"canShowMobileActionBar = false (reason: sidebarHelpers.sidebarIsExpanded(environment) && sidebarOpenStore.get() && !isCurrentlyEditing"),!1;if(!(0,me().o)())return at(d,"canShowMobileActionBar = false (reason: !currentPageIsNotLocked())"),!1;return!!(0,ue().p)({environment:e,blocks:[t],publicEditMode:n})||(at(d,"canShowMobileActionBar = false (reason: !_canEdit)"),!1)}function ke(e,t,n){var o,i;const a=Me||Boolean(ie().A.state.enableShouldShowDebugging);if(!Be(e,t,n))return at(a,"shouldShowMobileActionBar = false (reason: !canShowMobileActionBar)"),{canShow:!1,canShowNativeBar:!1,shouldShow:!1};const r=e.device.isMobileNative;if(null!==(o=ie().A.state.menu)&&void 0!==o&&o.type&&!(0,fe().f)())return at(a,"shouldShowMobileActionBar = true (reason: NativeMobileActionBarStore && NativeMobileActionBarStore.state.menu?.type"),{canShow:!0,canShowNativeBar:r,shouldShow:!0};const s=B().default.state;if("editing"!==s.mode)return at(a,"shouldShowMobileActionBar = false (reason: TextSelectionStore.state.mode !== editing"),{canShow:!0,canShowNativeBar:r,shouldShow:!1};const l=s.multiSelection,c=(0,W().$W)(l),d=c.some((e=>e.editable.props.disableStyleAnnotations)),u=c.some((e=>e.editable.props.disableMobileActionBar)),m=c.some((e=>e.editable.props.disableComment));return c&&u?(at(a,"shouldShowMobileActionBar = false (reason: !renderedBlocks || !disableMobileActionBar)"),{canShow:!0,canShowNativeBar:r,shouldShow:!1}):(at(a,"shouldShowMobileActionBar = true"),{shouldShow:!0,canShowNativeBar:r,disableStyleAnnotations:d,disableComment:m,isEmpty:(0,Se().k)(l)&&0===l.end.index&&0===(null===(i=(0,we().s6)(l.end.store))||void 0===i?void 0:i.endIndex)})}function Te(){var e;const t=j().A.state;if(!t.isOpen)return!1;const n=null===(e=t.collectionContextStore)||void 0===e?void 0:e.normalizedSchemaStore.state;if(!n)return!1;const o=(0,l()._g)({schema:n,property:t.property});return"text"===(null==o?void 0:o.type)}function xe(e){const{environment:t,store:n}=e,{isPhone:o}=t.device,i=t.currentUser.isLoggedIn(),a=n.isCollectionView(),r=n.getAssociatedCollectionStore(),s=ae().A.state.open,l=Y().default.state.currentLoadingContainerStore,c=n.getContentStores()[0],d=c&&!c.isEmptyTextBlock();return Boolean(o&&n.isDefined()&&n.canEdit()&&i&&!r&&!a&&!s&&!d&&l&&l.state.ready)}function _e(e,t){const n=B().default.state;if("editing"===n.mode)return!t.state.isComposing&&!(0,Se().k)(n.multiSelection)||void 0!==q().wg();const o=e.state.savedTextSelectionStoreState;return!(!o||"editing"!==o.mode)&&!(0,Se().k)(o.multiSelection)}function Pe(e){var t;const{device:n}=e;return Boolean((null===(t=ie().A.state.menu)||void 0===t?void 0:t.type)&&!n.isTablet&&!n.isAndroid&&!(0,Q().T)("supportsMobileActionBarNativeActionMenuWithoutIgnoreSelectionArea"))}function Ce(e){if((0,ge().QT)(e))return!1;const{stores:t}=y().default.state;return t.length>0&&t[0].canEdit()&&!t[0].isNavigableBlock()&&!Boolean(q().wg())}function Oe(e,t){return!(0,ge().QT)(e)&&t.canEdit()}function Ie(e){"editing"===B().default.state.mode&&(P().createAndCommit({userAction:"mobileActionBarHelpers.handleIndent",environment:e,canUndo:!0,perform:t=>{E().Mf({environment:e,transaction:t,shiftKey:!1})}}),it(e,"indent"))}function Ue(e){"editing"===B().default.state.mode&&(P().createAndCommit({userAction:"mobileActionBarHelpers.handleUnindent",environment:e,canUndo:!0,perform:t=>{E().Mf({environment:e,transaction:t,shiftKey:!0})}}),it(e,"unindent"))}function Ne(e){P().createAndCommit({userAction:"mobileActionBarHelpers.handleMoveUp",environment:e,canUndo:!0,perform:t=>{E().$P({environment:e,transaction:t,direction:"up",maintainParent:!0})}}),it(e,"move-up")}function Ee(e){P().createAndCommit({userAction:"mobileActionBarHelpers.handleMoveDown",environment:e,canUndo:!0,perform:t=>{E().$P({environment:e,transaction:t,direction:"down",maintainParent:!0})}}),it(e,"move-down")}function Ve(e){if(!e)return!1;const t=e.getRecordStoreUIParent();if(null==t||!t.isTable(u().ev))return!1;const n=(0,re().zH)(t);if(null==n||!n.isDefined())return!1;return n.getContentIds().indexOf(e.id)>0}function De(e){if(!e)return!1;const t=e.getRecordStoreUIParent();if(null==t||!t.isTable(u().ev))return!1;const n=(0,re().zH)(t);if(null==n||!n.isDefined())return!1;const o=n.getContentIds(),i=o.indexOf(e.id);return i>=0&&i<o.length-1}function He(e){const t=y().default.state.stores[0],n=B().default.state;if(t&&"editing"===n.mode){const{multiSelection:o}=n,i=(0,we().J3)(o.end.store)||(0,we().H4)(o.start.store),a=t.getParentBlockStore(),r=a&&a.isCalloutV2()&&1===a.getContentLength();P().createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,canUndo:!0,perform:e=>{if(r){const t=a.getParentBlockStore();t&&I().zz({childStore:a,parentStore:t,transaction:e})}else x().TF({store:t,transaction:e})}});if(q().wg())P().createAndCommit({userAction:"mobileActionBarHelpers.handleDelete",environment:e,canUndo:!0,perform:t=>{(0,J().x)({environment:e,transaction:t})}});else if(i){const t=(0,Ae().T)(i);_().hc({environment:e,store:t}),_().Zm(e)}else _().IU({environment:e});it(e,"remove")}}function Le(e){b().Gf({environment:e,mentionTypes:{page:!0,collection:!0,heading:!0,createPage:!0,user:!0,inviteUserToWorkspace:!1,inviteUserToPage:!0,bot:!0,date:!0,reminder:!0,templateVariable:!0,group:!0,team:!0,formulaContextVariable:!0,slackSpecialMention:!1,property:!1}}),it(e,"mention")}function ze(e){const t=B().default.state;if("editing"===t.mode&&(0,Se().k)(t.multiSelection)){const t=y().default.state.stores.at(0),n=null==t?void 0:t.getTitleStore();t&&n&&!t.isEmptyTextBlock()&&(0,H().x)({environment:e,store:n,canSelectAllBlocks:!0})}!async function(e){const{completionInitialPromptActions:t}=await L().aiDependency.load();await t.toggleInitialPrompt(e)}({from:"mobile_action_bar",environment:e}),it(e,"ai")}function je(e,t){V().po({environment:e,annotation:t}),it(e,t[0])}function Re(e,t,n){ie().A.update((e=>({...e,menu:t,shouldRestoreSelectionForMenu:n})))}function Fe(e,t,n){ie().A.update((e=>({...e,isSubMenuOverridden:n,subMenu:t}))),void 0===t?(0,X().V)({environment:e,dismissed:!0}):it(e,t.type)}function Ge(e){N().ZS({environment:e}),it(e,"redo")}function We(e){N().tN({environment:e}),it(e,"undo")}function Ze(e){g().fi({type:"focusOnly",focus:!0}),it(e,p().Ifu.Link)}function Ke(e,t,n){const o=y().default.state.stores[0];if(!o)return;const i=B().default.state,a="empty"!==i.mode&&i.multiSelection;a&&!(0,Se().k)(a)?(R().hN({environment:e,blockStore:o,multiSelection:a,formulasModule:n}),it(e,"comment",t)):((0,G().l)({environment:e,blockStore:o}),it(e,"discuss",t))}function $e(e,t,n,o){(0,F().O)({environment:e,blockStore:n,from:"right_margin",formulasModule:o}),it(e,"react",t)}function Je(e){S().Wx({environment:e,analyticsFrom:"rich_text_menu"}),it(e,"equation")}async function qe(e,t){o().default.checkGate({gateName:"mobile_discovery_modal_restore_selection_killswitch"})&&(_().IU({environment:e}),(0,D().k)());const n=t.getParentStore();if(n&&(0,ce().u)(n)){const{openTemplateOnboardingModal:o,getTemplateOnboardingVersion:i}=await de().O.load();o({parentStore:n,template:void 0,version:i({template:void 0}),origin:"mobile_new_page_pills",navigateToOnFinish:"created_collection",onClose:n=>{"accepted_template"!==n.type&&"accepted_empty_collection"!==n.type||P().createAndCommit({environment:e,canUndo:!1,perform:e=>{U().zv({store:t,transaction:e,data:{alive:!1}})},userAction:"clean_up_empty_new_page"})}})}else it(e,"databaseDiscoveryModal")}function Xe(e){o().default.checkGate({gateName:"mobile_template_gallery_restore_selection_killswitch"})&&(_().IU({environment:e}),(0,D().k)()),oe().A.setState({open:!0}),it(e,"templates")}async function Qe(e,t){var n;const{sidebarSpaceViewStore:o,sidebarSpaceStore:i,mainEditorCurrentBlockStore:a}=Y().default.state;if(!o||!i||!a)return;const r=ve().A.getIntl(),s=(0,d().P)(),l=(0,m().B)(t,r),c=((null===(n=a.getModel())||void 0===n||null===(n=n.getRenderTitle({getRecordModel:a.getRecordModel,userTimeZone:s,intl:r}))||void 0===n?void 0:n.length)??0)>0;let u=!1;const p=Date.now();try{le().A.setState({isDuplicating:!0});const t=await O.pageTemplateModalActions.load();await t.loadAndDuplicatePageTemplate({environment:e,isPrivate:!1,item:l,spaceStore:i,spaceViewStore:o,useMinimalTemplates:!1,initializeStore:a}),u=!0}finally{le().A.setState({isDuplicating:!1});const t=Date.now()-p;v().hB(e,{from:"mobileApp",success:u,context:"template_pill",template_block_id:l.rootId,target_space_id:i.id,template_duplication_duration_ms:t,public_template_name:l.name,has_existing_title:c})}}function Ye(e){!async function(e){var t;if(!e.mobileNative)return;const n=B().default.state;if("editing"!==n.mode)return;const o=null===(t=await e.mobileNative.openEmojiPicker())||void 0===t?void 0:t.emoji;o&&P().createAndCommit({userAction:"mobileActions.pickEmoji",environment:e,canUndo:!0,perform:t=>{T().Yf({environment:e,multiSelection:n.multiSelection,isFromInsertion:!1}),T().Ju({environment:e,emoji:o,transaction:t}),T().VN()}})}(e),it(e,"pick_emoji")}function et(e){!async function(e){const t=y().default.state.stores,n=e.device.isIOS,o=await C().dA({environment:e,supportsMobileNativeFileUpload:!0,multiple:!0,accept:n?"*/*":"image/*, video/*"}),i=y().default.getCurrentRecordCache(),a=(0,A().y)(e);o&&0!==o.length&&i&&P().createAndCommit({userAction:"mobileActions.takePicture",environment:e,canUndo:!0,perform:n=>{var r;const s=k().$C({environment:e,files:o,inMemoryRecordCache:i,pageWidth:a,transaction:n,spaceId:0!==t.length?t[0].pointer.spaceId:null===(r=(0,w().Z)())||void 0===r?void 0:r.pointer.spaceId});1===t.length&&t[0]&&(0,M().wm)(t[0])?x().t1({environment:e,blocks:s,selection:t,transaction:n,preventSetSelection:!0}):(x().LE({environment:e,blocksToInsert:s,target:t,transaction:n,replaceEmptyTextBlock:!0}),_().IU({environment:e}))}})}(e),it(e,"take_picture")}function tt(e){const{device:t}=e,n=t.isMobileNative&&t.isIOS&&t.isPhone;n||_().td({environment:e,stores:y().default.state.stores}),h().WU({environment:e,stores:y().default.state.stores,actionSectionGroupKey:"default",showInput:!1,analyticsFrom:"mobile_more_menu"}),it(e,"more"),a().default.afterNextFlush((()=>{n&&(0,D().k)()}))}function nt(e){const{device:t}=e,n=t.isMobileNative&&t.isIOS&&t.isPhone;n||_().td({environment:e,stores:y().default.state.stores}),Z().u.openTeamTargetMobilePopup(),it(e,"teamspaceSelector"),a().default.afterNextFlush((()=>{n&&(0,D().k)()}))}function ot(e,t){_().IU({environment:t}),e.store.setState({...e.store.state,isInsertOpen:!1}),it(t,"hide_keyboard"),(0,D().k)()}function it(e,t,n){f().np(e,{itemName:t,from:n})}function at(e,t){e&&(console.log(t),c().log({level:"info",from:"mobileActionBarHelpers.ts",type:"logShouldShowReason",data:{message:t}}))}function rt(e){var t;if(!e.isOpen)return;const n=null===(t=e.collectionContextStore)||void 0===t?void 0:t.normalizedSchemaStore.state;return n?(0,l()._g)({schema:n,property:e.property}):void 0}}}]);