"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[1752,3476,83627,84084],{8741:(e,t,o)=>{o.r(t),o.d(t,{arrowDiagonalUpRightSmallIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.65 3.66 8.68 8.68",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M5.603 3.663a.625.625 0 1 0 0 1.25h4.6l-6.37 6.371a.615.615 0 0 0 .013.87.616.616 0 0 0 .87.014l6.371-6.372v4.601a.625.625 0 1 0 1.25 0v-6.11a.625.625 0 0 0-.625-.624z"})},r=(0,o(340498).wt)("arrowDiagonalUpRightSmall",n)},27356:(e,t,o)=>{o.r(t),o.d(t,{UISpacePermissionGroupToken:()=>v});var n=o(296540),r=()=>o(726637),i=()=>o(484714),a=()=>o(56366),s=()=>o(401497),l=()=>o(784892),c=()=>o(437607),d=()=>o(914462),u=()=>o(69708),p=()=>o(284371),m=()=>o(764353),g=()=>o(848401),f=()=>o(580648),y=o(474848);function v(e){const{parentStore:t,style:o,format:v}=e,h=e.groupPointer.id,S=e.groupPointer.spaceId,_=(0,c().S4)({spacePermissionGroupId:h,spaceId:S}),b=(0,a().K8)((()=>{if(e.groupModel)return e.groupModel;if(!t)return;return m().C.createChildStore(t,_).getModel()}),[t,_,e.groupModel]),A=(0,i().Y0)(),{outerStyle:I,avatarWrapStyle:w}=(0,s().IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0},avatarWrapStyle:{width:"none",minHeight:"none",marginInlineEnd:6},badgeStyle:{borderRadius:4,background:e.legacyDefaultSelectColor,fontSize:r().A.isMobile?11:9,lineHeight:A.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em"}})),[A]),x=(0,u().tz)(),k=(0,a().K8)((()=>(0,d().n)({intl:x,permissionGroupModel:b})),[x,b]),C=(0,n.useCallback)((e=>v===l().NY.Inline?(0,y.jsx)(f().o,{group:b,size:e}):(0,y.jsxs)("div",{style:I,children:[(0,y.jsx)("div",{style:w,children:(0,y.jsx)(f().o,{group:b,size:e})}),(0,y.jsx)("div",{style:{...p().RC},children:k})]})),[v,I,w,b,k]);return(0,y.jsx)(g().Ay,{...e,style:{margin:0,...o},renderAvatar:C})}},38e3:(e,t,o)=>{o.d(t,{$:()=>p,Q:()=>m});o(16280);var n=()=>o(179034),r=()=>o(869558),i=()=>o(44729),a=()=>o(384944),s=()=>o(231297),l=()=>o(594794),c=()=>o(972435),d=()=>o(913530),u=()=>o(435930);function p(e){const{environment:t,layoutStore:o,transaction:n,options:r}=e,{inMemoryRecordCache:s}=o,l=o.getSpaceId(),c=o.getParentPointer();if(!c||"collection"!==c.table)throw new Error("Invalid state: no collection pointer");if(!l)throw new Error("Cannot add collection view to views main module -- Invalid state: no space id");const d=a().Wv({environment:t,type:"collection_view",inMemoryRecordCache:s,transaction:n});i().NI({childStore:d,parentStore:o,transaction:n});const{collectionViewStore:u}=m({environment:t,transaction:n,layoutStore:o,collectionViewBlockStore:d,options:r});return{collectionViewStore:u,collectionViewBlockStore:d}}function m(e){const{environment:t,transaction:o,layoutStore:i,collectionViewBlockStore:p,options:m}=e,{inMemoryRecordCache:g}=i,f=i.getParentPointer();if(!f||"collection"!==f.table)throw new Error("Invalid state: no collection pointer");const y=i.getSpaceId();if(!y)throw new Error("Cannot add collection view to views main module -- Invalid state: no space id");const v=(0,l().JH)({environment:t,table:r().Gy,spaceId:y}),h={id:v.id,type:"page",parent_id:p.pointer.id,parent_table:n().ev,space_id:y,alive:!0,name:c().A.formatMessage(u().s.editor),format:{collection_pointer:f,hide_linked_collection_name:!0}};return null!=m&&m.viewsTabId&&(h.format={...h.format,page_layout_pointer:{...i.pointer,views_main_tab_id:m.viewsTabId}}),a().eC({environment:t,table:r().Gy,value:h,inMemoryRecordCache:g,transaction:o}),s().applyOperation({store:p,operation:{pointer:p.pointer,path:["view_ids"],command:"listBefore",args:{id:v.id}},transaction:o}),{collectionViewStore:d().p.createChildStore(p,v)}}},53528:(e,t,o)=>{o.d(t,{OH:()=>s,T2:()=>l,do:()=>c});var n=()=>o(597777),r=()=>o(869190),i=()=>o(604995),a=()=>o(416504);function s(e){const{dateTime:t,intl:o,shortenDateAndRange:n}=e,a=i().C6.toPersistedDate(t.valueOf());return r().ZF({value:a,allowRelativeDates:!0,intl:o,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s}=e,l=i().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return r().ZF({value:l,allowRelativeDates:!0,intl:o,userTimeZone:n,displayInUserTimezone:a,alwaysIncludeTimezone:s})}function c(e){const{luxonRange:t,intl:o}=e,s=i().C6.toPersistedDateRange(t),l=r().ZF({value:s,allowRelativeDates:!1,shortenDateAndRange:!0,intl:o,displayInUserTimezone:!0}),c=t.end.setZone((0,a().P)()),d=r().fU({start_time:c.toFormat(n().GE),humanReadable:!1,intl:o});return o.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:d})}},59400:(e,t,o)=>{o.d(t,{nR:()=>d,m$:()=>s,m4:()=>l,Dy:()=>c,_Q:()=>g,FZ:()=>p});o(296540);var n=()=>o(645873),r=o(474848);function i(e){const{innerContent:t,collectionSettingsProps:n}=e,i=(0,o(401497).IS)((e=>({offlineMessage:{color:e.text.secondary}})),[]);return(0,r.jsx)(o(735695).Ay,{collectionSettingsStore:n.collectionSettingsStore,fullHeight:n.fullHeight,hideDesktopHeader:n.hideDesktopHeader,title:"offlineError"===t?(0,r.jsx)("div",{style:i.offlineMessage,children:(0,r.jsx)(o(69708).sA,{defaultMessage:"Please go online.",id:"lazyCollectionSettings.offlineError"})}):void 0,children:"loadingSpinner"===t?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,r.jsx)(o(98126).k,{})}):void 0})}const a=new(n().O2)("collectionSettings",(()=>Promise.all([o.e(75134),o.e(9773),o.e(36556),o.e(40537),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(44711),o.e(53321),o.e(90825),o.e(62475),o.e(3151),o.e(98629),o.e(87249),o.e(71621),o.e(88924),o.e(92845),o.e(56369),o.e(5834),o.e(48486),o.e(2411),o.e(89296),o.e(46414),o.e(9294),o.e(11676),o.e(91256),o.e(40563),o.e(67494),o.e(44584),o.e(53141),o.e(4422),o.e(4330),o.e(55162),o.e(71003),o.e(55753),o.e(28866),o.e(22001),o.e(71386),o.e(4351),o.e(6331),o.e(69144),o.e(12341),o.e(96402),o.e(84166),o.e(16448),o.e(45769),o.e(74562),o.e(37384),o.e(94562),o.e(13955),o.e(76677),o.e(43223),o.e(45147),o.e(15517),o.e(94995),o.e(98339),o.e(1966),o.e(55776),o.e(51444),o.e(13297),o.e(4802),o.e(62032),o.e(32487),o.e(28058),o.e(75422),o.e(50856),o.e(36359),o.e(92924),o.e(25204),o.e(52986),o.e(45732),o.e(30443),o.e(99108)]).then(o.bind(o,409198)))),s=(0,n()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,r.jsx)(i,{innerContent:e?"loadingSpinner":"empty",collectionSettingsProps:t}),renderOfflineError:e=>(0,r.jsx)(i,{innerContent:"offlineError",collectionSettingsProps:e})}),l=(0,n()._h)(a,(e=>e.CollectionSettingsButtonOptions)),c=(0,n()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),d=(0,n()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(n().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(55373),o.e(36192),o.e(71562),o.e(96346),o.e(87249),o.e(71621),o.e(88924),o.e(92845),o.e(56369),o.e(5834),o.e(48486),o.e(2411),o.e(89296),o.e(46414),o.e(9294),o.e(11676),o.e(91256),o.e(40563),o.e(67494),o.e(44584),o.e(53141),o.e(74562),o.e(37384),o.e(13955),o.e(50856),o.e(43935)]).then(o.bind(o,908800)))),p=(0,n()._h)(u,(e=>e.TableHeaderPropertyCreationMenu)),m=new(n().O2)("CollectionSettingsSaveControl",(()=>Promise.all([o.e(71562),o.e(21990)]).then(o.bind(o,615950)))),g=(0,n()._h)(m,(e=>e.CollectionSettingsSaveControl))},65767:(e,t,o)=>{o.d(t,{l:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("closeThick",{viewBox:"0 0 8 8",svg:(0,n.jsx)("polygon",{points:"8 1.01818182 6.98181818 0 4 2.98181818 1.01818182 0 0 1.01818182 2.98181818 4 0 6.98181818 1.01818182 8 4 5.01818182 6.98181818 8 8 6.98181818 5.01818182 4"})})},68350:(e,t,o)=>{o.d(t,{I:()=>v});var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(401497),s=()=>o(898244),l=()=>o(645873);const c=new(l().O2)("PagePropertiesRowNameMenu",(async()=>Promise.all([o.e(9773),o.e(36556),o.e(40537),o.e(96346),o.e(92845),o.e(46414),o.e(71003),o.e(74562),o.e(37384),o.e(13955),o.e(1423)]).then(o.bind(o,716547)))),d=(0,l()._h)(c,(e=>e.PagePropertiesRowNameMenu));var u=()=>o(795963),p=()=>o(735372),m=()=>o(59364),g=()=>o(417392),f=()=>o(398217),y=o(474848);const v=n.memo((function(e){const{property:t,blockStore:l,schema:c,disabled:p,locked:f,canConfigureCollection:v,isInPeekRenderer:S,labelComponent:_,hideDragHandle:b,pagePropertiesStore:A,styleVariants:I,disableRowNameInteractivity:w,dragHandleStyle:x,layoutModule:k,forceHighlight:C,forceFocusedHighlight:P,hideIcon:T,propertyNameAriaId:M,showDragHandleAsIcon:E}=e,R=(0,n.useRef)(null),U=(0,o(908201).Ks)(),D=(0,r().v3)(),{isPhone:O}=(0,r().Y0)(),[V,B]=(0,n.useState)(!1),N=c[t],L=(0,i().K8)((()=>A.state.hoveredProperty===t),[A,t]),{shouldShowDragHandle:F,shouldRenderDragHandle:H,shouldShowDragIcon:j}=(0,i().K8)((()=>{const e=!O&&!o(732770).A.state.isKeyboardMode&&!b&&!p&&!f&&v,t=e&&!E;return{shouldShowDragHandle:L&&t,shouldRenderDragHandle:t,shouldShowDragIcon:e&&L&&E&&!T}}),[L,O,b,p,f,v,E,T]),z=(0,i().K8)((()=>A.state.openProperty),[A]),$=(0,i().K8)((()=>null==U?void 0:U.collectionStore()),[U]),G=(0,a().IS)((e=>{const{size:t="medium",width:n={variant:"fixed",widthMobile:u().yN,widthDesktop:u().OQ},height:r,color:i="default"}=I||{},a="medium"!==(null==r?void 0:r.variant)&&(null!=r&&r.variant||"medium"!==t)?24:34;let s;if("fixed"===n.variant){const e=O?n.widthMobile||u().yN:n.widthDesktop||u().OQ;s={width:e,maxWidth:e,minWidth:0}}else if("hug-content"===n.variant){s={width:"min-content",maxWidth:O?n.maxWidthMobile||"100%":n.maxWidthDesktop||"100%",minWidth:0}}else(0,o(534177).HB)(n);return{propertyLabelContainerStyles:{display:"flex",alignItems:"center",color:"primary"===i?e.text.primary:e.text.secondary,height:a,...s},tooltipLockedIcon:{width:12,fill:e.text.inversePrimary,marginInlineStart:2,display:"inline-block",verticalAlign:"middle",paddingBottom:3},tooltipDescription:{color:e.text.inverseSecondary},tooltipAutoUpdatedByAi:{color:e.text.inverseSecondary},personPropertyPermissionsTooltip:{color:e.text.inverseSecondary}}}),[I,O]),K=(0,n.useCallback)((()=>{A.setState({...A.state,hoveredProperty:void 0})}),[A]),W=(0,n.useCallback)((()=>{A.setState({...A.state,hoveredProperty:t})}),[A,t]),q=(0,n.useMemo)((()=>H&&(0,y.jsx)(o(145214).A,{animate:{opacity:F?1:0},initial:{opacity:0},exit:{opacity:0},style:{width:m().Z+4,marginInlineStart:-(m().Z+4)},onMouseMove:W,onMouseLeave:K,children:(0,y.jsx)(o(348501).A,{role:"cell",disallowTabbing:!0,onClick:t=>function(e,t,n,r){(0,o(616068).Z)()||r.setState({...r.state,openProperty:{property:t,isInPeekRenderer:n}})}(0,e.property,e.isInPeekRenderer,A)})})),[A,e.isInPeekRenderer,e.property,K,W,F,H]),Y=(0,n.useCallback)((e=>{if(!U)return;const n=U.permissionScopesStore.state,r={onClick:!w&&n.canConfigureBlock?()=>function(e,t,n,r){(0,o(749804).I)({environment:n}),o(778417).IU({environment:n}),(0,o(404779).y)(),r.setState({...r.state,openProperty:{property:e,isInPeekRenderer:t}})}(t,S,D,A):o(496603).D_};return(0,y.jsx)(h,{hideIcon:Boolean(T),showDragIcon:j,dragHandleStyle:x,schema:c,property:t,disabled:p||Boolean(w),locked:f,canConfigureCollection:v,events:(0,o(553965).A)(r,e),propertyNameAriaId:M,setIsDescriptionIconTooltipHovered:e=>B(e),styleVariants:I,layoutModule:k,forceHighlight:C,forceFocusedHighlight:P,collectionStore:$,blockStore:l})}),[U,w,T,j,x,c,t,p,f,v,M,I,k,C,P,$,l,S,D,A]),J=Boolean(z&&!p&&z.property===t&&z.isInPeekRenderer===S),Q=(0,n.useCallback)((()=>{if(!U)return;A.setState({...A.state,openProperty:void 0});const e=U.settingsStore;o(147503).os({collectionSettingsStore:e})}),[U,A]),Z=(0,n.useCallback)((()=>{const t=null==U?void 0:U.settingsStore;if(U&&t)return(0,y.jsx)("div",{ref:R,children:t.state.open?(0,y.jsx)(o(59400).m$,{context:o(527438).Bd.TopbarFilterPopup,collectionContextStore:U,collectionSettingsStore:t,hideDesktopHeader:!0}):(0,y.jsx)(d,{...e,popupContainerRef:R})})}),[U,e]),X=(0,n.useCallback)((e=>{if(!U||!N)return null;const n=(0,s().$M)(N)&&(0,s().om)(N);return(0,y.jsxs)("div",{...e,style:o(673730).Q$,children:[(0,y.jsxs)("div",{children:[N.name,f?(0,o(315564).S)(G.tooltipLockedIcon):void 0]}),void 0!==(null==N?void 0:N.description)&&N.description.length>0?(0,y.jsx)("div",{style:G.tooltipDescription,children:N.description}):null,$?(0,y.jsx)(o(408839).t,{propertySchema:N,collectionStore:$,property:t,style:G.personPropertyPermissionsTooltip,blockStore:l}):void 0,n&&n.auto_update_on_edit?(0,y.jsx)("div",{style:G.tooltipAutoUpdatedByAi,children:(0,y.jsx)(o(69708).sA,{defaultMessage:"Auto-updated by AI",id:"database.tableHeaderCell.tooltipAiAutofillDescription"})}):void 0]})}),[U,N,$,G.tooltipLockedIcon,G.tooltipDescription,G.personPropertyPermissionsTooltip,G.tooltipAutoUpdatedByAi,f,t,l]);return U&&N?(0,y.jsx)(o(859428).A,{disableTooltip:O,renderTooltip:X,delayThreshold:V?0:500,placement:"left",tooltipClassName:o(38337).StS,render:e=>(0,y.jsxs)("div",{style:G.propertyLabelContainerStyles,onMouseMove:W,onMouseLeave:K,children:[q,(0,y.jsx)(g().Ay,{popupType:O?g().nl.BottomSheet:g().nl.Popup,bottomSheetInitialState:"half",originGap:1,alignmentToOrigin:"start",render:Z,trapFocus:!1,open:J,onDismiss:Q,origin:_??Y(e)})]},t)}):null})),h=n.memo((function(e){const{schema:t,property:r,disabled:s,locked:l,canConfigureCollection:c,events:d,styleVariants:u,forceHighlight:m,forceFocusedHighlight:g,showDragIcon:v,collectionStore:h,blockStore:S}=e,_=(null==u?void 0:u.color)||"default",b=(null==u?void 0:u.size)||"medium",A=null==u?void 0:u.fontWeight,I=t[r],w=(0,a().DP)(),x=(0,o(379771).Q)(r),k=n.useMemo((()=>{if(!x)return null;const e=w.background.primary;return"jira"===x?(0,o(280746).jiraIcon)({width:10,height:10,stroke:e,strokeWidth:1,paintOrder:"stroke fill",vectorEffect:"non-scaling-stroke"}):(0,o(769145).salesforceIcon)({width:10,height:10,stroke:e,strokeWidth:1,paintOrder:"stroke fill",vectorEffect:"non-scaling-stroke"})}),[x,w.background.primary]),C=(0,i().K8)((()=>{if(g)return!0;const e=p().wb.state;return!(!e||"page_property_name"!==e.type)&&e.propertyId===r}),[r,g]),P=(0,i().K8)((()=>{var e;if(m)return!0;const o=p().qu.state,n=null===(e=t[r])||void 0===e?void 0:e.name;if(!o||!n)return!1;return n.toLowerCase().includes(o.toLowerCase())}),[r,t,m]),T=(0,a().IS)((t=>{const n=C?t.findHighlightMatch.selectedBackground:t.findHighlightMatch.unselectedBackground;return{button:{display:"flex",alignItems:"center",height:"100%",width:(0,o(778781).gx)(e.layoutModule)?void 0:"100%",borderRadius:4,padding:"0 6px",maxWidth:"100%"},property:{backgroundColor:P?n:void 0,outline:P?`5px solid ${n}`:void 0,borderRadius:P?4:void 0,color:C?"black":void 0,..."medium"===b?{fontSize:14,lineHeight:"20px"}:{fontSize:13,lineHeight:"18px"},...A?{fontWeight:o(284371).Wy[A]}:{}},icon:{marginInlineEnd:2,..."primary"===_?{fill:t.icon.primary}:C?{fill:"black"}:{}}}}),[_,C,b,A,e.layoutModule,P]);return I?(0,y.jsx)(o(718827).Ay,{role:"cell",id:e.propertyNameAriaId,style:T.button,disabled:s||l||!c,...d,onContextMenu:e=>{e.preventDefault(),d.onClick(e)},children:(0,y.jsx)(f().mA,{propertySchema:I,showIcon:!e.hideIcon,showDragIcon:v,showIntegrationIconOverlay:k,badge:(0,y.jsxs)(y.Fragment,{children:[h?(0,y.jsx)(o(897941).$,{propertySchema:I,collectionStore:h,property:r,blockStore:S}):void 0,(0,y.jsx)(f().Jv,{propertySchema:I}),(0,y.jsx)(o(367424).D,{propertySchema:I})]}),style:T.property,property:r,className:C?o(643707).wT:void 0,labelSizeVariant:b,iconSize:"medium"===b?16:14,iconStyle:T.icon,dragHandleStyle:e.dragHandleStyle})}):null}))},79118:(e,t,o)=>{o.d(t,{Eo:()=>h,Fz:()=>m,KI:()=>s,M4:()=>c,YW:()=>b,iY:()=>A,mO:()=>g,qE:()=>d,vm:()=>y});var n=()=>o(604995),r=()=>o(247331),i=()=>o(239381);const a=(0,o(69708).YK)({buttonAutomationCurrentUserDescription:{defaultMessage:"The user who clicked this button",id:"automations.contextValue.buttonAutomationCurrentUserDescription"},buttonAutomationCurrentUserName:{defaultMessage:"Whoever clicked",id:"automations.contextValue.buttonAutomationCurrentUserName"},buttonAutomationCurrentUserTooltip:{defaultMessage:"The person who clicked the button",id:"automations.contextValue.buttonAutomationCurrentUserTooltip"},buttonAutomationThisPageDescription:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageDescription"},buttonAutomationThisPageName:{defaultMessage:"This page",id:"automations.contextValue.buttonAutomationThisPageName"},buttonAutomationThisPageTooltip:{defaultMessage:"The page containing this button",id:"automations.contextValue.buttonAutomationThisPageTooltip"},eventAutomationCurrentUserDescription:{defaultMessage:"The user who made the edit that triggered this automation to run.",id:"automations.contextValue.eventAutomationCurrentUserDescription"},eventAutomationCurrentUserName:{defaultMessage:"Whoever triggered",id:"automations.contextValue.eventAutomationCurrentUserName"},eventAutomationCurrentUserTooltip:{defaultMessage:"The person whose action triggered this automation",id:"automations.contextValue.eventAutomationCurrentUserTooltip"},eventAutomationThisPageDescription:{defaultMessage:"The page that was edited to trigger this automation to run.",id:"automations.contextValue.eventAutomationThisPageDescription"},eventAutomationThisPageName:{defaultMessage:"Trigger page",id:"automations.contextValue.eventAutomationThisPageName"},eventAutomationThisPageTooltip:{defaultMessage:"The page that triggered this automation",id:"automations.contextValue.eventAutomationThisPageTooltip"},now:{id:"automations.triggers.now.label",defaultMessage:"Time triggered"},nowDescription:{id:"automations.triggers.now.description",defaultMessage:"The time when this automation begins to run."},nowTooltip:{id:"automations.triggers.now.tooltip",defaultMessage:"The time this automation was triggered"},pageCreator:{id:"automations.triggers.pageCreator.label",defaultMessage:"Page creator"},pageCreatorDescription:{id:"automations.triggers.pageCreator.description",defaultMessage:"The user who created the page that was edited to trigger this automation to run."},pageCreatorTooltip:{id:"automations.triggers.pageCreator.tooltip",defaultMessage:"Person who created page"},today:{id:"automations.triggers.today.label",defaultMessage:"Date triggered"},todayDescription:{id:"automations.triggers.today.description",defaultMessage:"The date when this automation begins to run."},todayTooltip:{id:"automations.triggers.today.tooltip",defaultMessage:"The date this automation was triggered"}});function s(){return(0,i().$y)({source:"global",global:"button_page"})}function l(e,t,o){return{description:o,name:e,tooltip:t,compile:(n,i)=>({description:o?n.formatMessage(o):void 0,id:s(),kind:r().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{collection:i,type:"block"}}),evaluate:e=>({kind:r().FormulaContextValueKind.ContextValue,id:s(),value:{type:"block",value:e}})}}const c=l(a.buttonAutomationThisPageName,a.buttonAutomationThisPageTooltip,a.buttonAutomationThisPageDescription),d=l(a.eventAutomationThisPageName,a.eventAutomationThisPageTooltip,a.eventAutomationThisPageDescription);function u(){return(0,i().$y)({source:"global",global:"current_user"})}function p(e,t,o){return{description:o,name:e,tooltip:t,compile:n=>({description:o?n.formatMessage(o):void 0,id:u(),kind:r().FormulaContextValueKind.ContextValue,name:n.formatMessage(e),tooltipName:n.formatMessage(t),type:{type:"person"}}),evaluate:e=>({id:u(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const m=p(a.buttonAutomationCurrentUserName,a.buttonAutomationCurrentUserTooltip,a.buttonAutomationCurrentUserDescription),g=p(a.eventAutomationCurrentUserName,a.eventAutomationCurrentUserTooltip,a.eventAutomationCurrentUserDescription);function f(){return(0,i().$y)({source:"global",global:"now"})}const y={description:a.nowDescription,name:a.now,tooltip:a.nowTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:f(),kind:r().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:f(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().KQ)(Date.now(),e)}})};function v(){return(0,i().$y)({source:"global",global:"today"})}const h={description:a.todayDescription,name:a.today,tooltip:a.todayTooltip,compile(e){return{description:this.description?e.formatMessage(this.description):void 0,id:v(),kind:r().FormulaContextValueKind.ContextValue,name:e.formatMessage(this.name),tooltipName:this.tooltip?e.formatMessage(this.tooltip):void 0,type:{type:"date"}}},evaluate:e=>({id:v(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"date",value:(0,n().p6)(Date.now(),e)}})};function S(){return(0,i().$y)({source:"global",global:"page_creator"})}function _(e,t){return{description:a.pageCreatorDescription,name:e,tooltip:t,compile(o){return{description:this.description?o.formatMessage(this.description):void 0,id:S(),kind:r().FormulaContextValueKind.ContextValue,name:o.formatMessage(e),tooltipName:o.formatMessage(t),type:{type:"person"}}},evaluate:e=>({id:S(),kind:r().FormulaContextValueKind.ContextValue,value:{type:"person",value:e}})}}const b=_(a.pageCreator,a.pageCreatorTooltip),A=_(a.pageCreator,a.pageCreatorTooltip)},97059:(e,t,o)=>{o.d(t,{s:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.82 1.82 12.68 12.68",svg:(0,o(474848).jsx)("path",{d:"M8 1.825a.575.575 0 0 0-.575.575V4a.575.575 0 0 0 1.15 0V2.4A.575.575 0 0 0 8 1.825m4.367 1.809a.575.575 0 0 0-.814 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.132-1.131a.575.575 0 0 0 0-.813m-7.92 0a.575.575 0 0 0-.813.813l1.13 1.131a.575.575 0 1 0 .814-.813zm3.248 3.071a.7.7 0 1 0-.99.99l.77.77.99-.99zm4.305.72a.575.575 0 0 0 0 1.15h1.6a.575.575 0 1 0 0-1.15zm-9.6 0a.575.575 0 1 0 0 1.15H4a.575.575 0 0 0 0-1.15zm11.895 5.88-5.37-5.37-.99.99 5.37 5.37a.7.7 0 0 0 .99-.99m-8.717-2.883a.575.575 0 0 0-.813 0l-1.131 1.131a.575.575 0 1 0 .813.813l1.131-1.131a.575.575 0 0 0 0-.813M8 11.425a.575.575 0 0 0-.575.575v1.6a.575.575 0 1 0 1.15 0V12A.575.575 0 0 0 8 11.425"})},r=(0,o(340498).wt)("magicWandSmall",n)},103966:(e,t,o)=>{o.d(t,{Z:()=>d});var n=()=>o(496603),r=()=>o(534177),i=()=>o(416504),a=()=>o(519831),s=()=>o(79118);const l={type:"button",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,contextType:i,getRecordModel:l,intl:c}=e,d=s().Fz.compile(c),u=s().vm.compile(c),p=s().Eo.compile(c),m=t.getParentPointer();let g,f;if("button_block"===i){if(e.pageBlockModel){const t=(0,o(236162).SH)({block:e.pageBlockModel,getRecordModel:l});g=s().M4.compile(c,null==t?void 0:t.pointer),f=s().YW.compile(c)}}else if("button_property"===i){const e=l(m);if((null==e?void 0:e.table)!==a().Vl)return{error:new(o(322867).N9)(`Unable to load automation parent: ${o(696706).L3.toKey(m)}`)};g=s().M4.compile(c,e.pointer),f=s().YW.compile(c)}else(0,r().HB)(i);return{value:{valueTypes:(0,n().oE)([d,u,p,g,f])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:r,thisPageBlockModel:a}=t??{},l=a?s().M4.evaluate(a.pointer):void 0,c=null==a?void 0:a.getCreatedByPointer(),d=c?s().YW.evaluate(c):void 0,u=o?s().Fz.evaluate(o):void 0,p=(0,i().P)(),m=s().vm.evaluate(r??p),g=s().Eo.evaluate(r??p);return{value:{values:(0,n().oE)([l,d,u,m,g])}}},isAvailableForContext:e=>!0};o(944114);const c={button:l,event:{type:"event",getCreatePermissions(e){const{parentPointer:t,spacePointer:o}=e;return[{minimumRole:"editor",pointer:t,type:"record_permission"},{minimumRole:"read_and_write",pointer:o,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e,n=[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}],i=t.getTrigger();if("event"===i.type){const e=i.event;(0,r().O9)(e.source)&&"filter"!==e.source.type&&(e.source.type===a().Vl||e.source.type===o(869558).Gy?n.push({minimumRole:"reader",pointer:e.source.pointer,type:"record_permission"}):(0,r().HB)(e.source))}return n},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"editor",pointer:t.getParentPointer(),type:"record_permission"},{minimumRole:"read_and_write",pointer:t.getSpacePointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{automationModel:t,intl:o}=e,r=s().mO.compile(o),i=s().iY.compile(o),l=s().vm.compile(o),c=s().Eo.compile(o),d=t.getParentPointer();let u;return d.table===a().Vl&&(u=s().qE.compile(o,d)),{value:{valueTypes:(0,n().oE)([r,i,l,c,u])}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserPointer:o,executingUserTimeZone:a,thisPageBlockModel:l}=t??{},c=l?s().qE.evaluate(l.pointer):void 0,d=o?s().mO.evaluate(o):void 0,u=(0,i().P)(),p=s().vm.evaluate(a??u),m=null==l?void 0:l.getCreatedByPointer(),g=(0,r().O9)(m)?s().iY.evaluate(m):void 0,f=s().Eo.evaluate(a??u);return{value:{values:(0,n().oE)([c,d,p,f,g])}}},isAvailableForContext:e=>!!e.actorOnlyEditedUnaliveColumns||e.hasPremiumAutomations},recurrence:{type:"recurrence",getCreatePermissions(e){const{parentPointer:t}=e;return[{minimumRole:"read_and_write",pointer:t,type:"record_permission"}]},getEditPermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getManagePermissions(e){const{automationModel:t}=e;return[{minimumRole:"read_and_write",pointer:t.getParentPointer(),type:"record_permission"}]},getExecutePermissions(e){const{automationModel:t}=e;return[{minimumRole:"reader",pointer:t.getParentPointer(),type:"record_permission"}]},typecheck(e){const{intl:t}=e;return{value:{valueTypes:[s().vm.compile(t),s().Eo.compile(t)]}}},execute(e){const{formulaVariableResolution:t}=e,{executingUserTimeZone:o}=t??{},n=(0,i().P)();return{value:{values:[s().vm.evaluate(o??n),s().Eo.evaluate(o??n)]}}},isAvailableForContext(e){const{automation:t,automationActions:n,hasPremiumAutomations:i}=e;if(t.parent_table===o(179034).ev)return!0;if(t.parent_table===a().Vl){const e=o(388821).RecordMap.create();for(const t of n)e.addModel(t);return!!t.isCompleteSprintAutomation({getRecordModel:o(792071).b4_.fromRecordMap(e)})||i}(0,r().HB)(t.parent_table)}}};function d(e){return c[e]}},115314:(e,t,o)=>{o.d(t,{v:()=>a});o(16280),o(296540);var n=()=>o(69708),r=()=>o(534177),i=o(474848);function a(e,t){switch(e){case"editor":return(0,i.jsx)(n().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.editor",defaultMessage:"Anyone selected in {propertyName} has full access to this page",values:{propertyName:t}});case"read_and_write":return(0,i.jsx)(n().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.readAndWrite",defaultMessage:"Anyone selected in {propertyName} can edit this page",values:{propertyName:t}});case"reader":return(0,i.jsx)(n().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.reader",defaultMessage:"Anyone selected in {propertyName} can view this page",values:{propertyName:t}});case"comment_only":return(0,i.jsx)(n().sA,{id:"PersonPropertyPermissionsBadge.tooltipText.commentOnly",defaultMessage:"Anyone selected in {propertyName} can comment on this page",values:{propertyName:t}});case"content_only_editor":case"membership_admin":case"none":throw new Error(`Unhandled role in person property permissions badge: ${e}`);default:(0,r().HB)(e)}}},171018:(e,t,o)=>{o.d(t,{A6:()=>c,Ep:()=>l,YB:()=>i,es:()=>d});var n=()=>o(757695),r=()=>o(712505);class i extends n().Store{getInitialState(){return{forceShowProperties:!1,searchOpen:!1,searchQuery:""}}}const a="unnamed";class s extends n().Store{getInitialState(){return{pagePropertiesStoreMap:{}}}getNewEditorPagePropertiesStore(e){var t;const o=e||a;if(null!==(t=this.state.pagePropertiesStoreMap)&&void 0!==t&&t[o])return this.state.pagePropertiesStoreMap[o];const n=new i,r={pagePropertiesStoreMap:{...this.state.pagePropertiesStoreMap,[o]:n}};return this.setState(r),n}}const l=new s,c=new s;function d(e){const t=e||a;return(r().default.state.open?c:l).state.pagePropertiesStoreMap[t]}},173417:(e,t,o)=>{o(16280),o(944114),o(898992),o(354520),o(672577),o(803949),o(581454),o(737550),o(814603),o(147566),o(198721);var n=()=>o(242422),r=()=>o(248140),i=()=>o(105764),a=()=>o(726637),s=()=>o(466103),l=()=>o(700500),c=()=>o(604995),d=()=>o(80979),u=()=>o(416504);var p=()=>o(402390),m=()=>o(436604),g=()=>o(212547),f=()=>o(696706),y=()=>o(912720),v=()=>o(179034),h=()=>o(628536),S=()=>o(234459),_=()=>o(798880),b=()=>o(245241),A=()=>o(201980),I=()=>o(973647),w=()=>o(534177),x=()=>o(683259),k=()=>o(251582),C=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(823215),()=>o(496603)),P=()=>o(510818),T=()=>o(898244),M=()=>o(236162),E=()=>o(792071),R=()=>o(37165),U=()=>o(185078);function D(e){return e.every((e=>{const t="element"===e.type&&["annotation","mention","equation"].includes(e.tagName);return"text"===e.type||t}))}function O(e){return void 0!==e&&"element"===e.type&&"block"===e.tagName}function V(e){return e.every((e=>"element"===e.type&&("block"===e.tagName||"text"===e.tagName||"property"===e.tagName)))}function B(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,i=E().Bj6.fromBlock(o),a=(0,x().vy)({textValue:i.getProperty("title"),exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,P().Pm)(e)})});if(0===a.length&&0===i.getContentLength()&&"page"!==i.getType())return;const s=e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type});if(!D(a))throw new Error("Delineated text node children are invalid");const l={type:"element",tagName:"text",attributes:{},children:a},c={type:"element",tagName:"block",attributes:{id:s.toString()},children:[l]};if(i.getContentLength()>0){const e=n.visitedBlockIds??new Set,t=C().oE(i.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,x().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:i.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!V(t))throw new Error("Block simple XML node children are invalid");c.children.push(...t)}if("page"===i.type&&o.properties){const t=(0,M().zN)({getRecordValue:n.getRecordValue,block:o});if(t&&t.schema)for(const[i,a]of Object.entries(t.schema)){var d;const s=(null===(d=o.properties[i])||void 0===d?void 0:d.toString())??"";a&&s&&i in o.properties&&"text"===a.type&&c.children.push(Q({translateRenderer:e,propertyKey:i,inputStr:s,exportArgs:n,renderers:r,metadata:{parentCollectionId:t.id,propertyId:i}}))}}return c}}function N(e){return async(t,o)=>{if(n=t.block,!["page","text","header","sub_header","sub_sub_header","quote","bulleted_list","toggle","to_do","numbered_list","callout"].includes(n.type))return;var n;return await Promise.resolve(B(e)({...t,block:t.block}))}}function L(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,i=E().Bj6.fromBlock(o),a={type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type}).toString()},children:[]};if(i.getContentLength()>0){const e=n.visitedBlockIds||new Set,t=C().oE(i.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,x().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:i.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!V(t))throw new Error("Block simple XML node children are invalid");a.children.push(...t)}return a}}function F(e){return async(t,o)=>{if(n=t.block,!["transclusion_container","column","column_list","table_row"].includes(n.type))return;var n;return await Promise.resolve(L(e)({...t,block:t.block}))}}function H(e){const{block:t,exportArgs:o,renderers:n}=e,r=E().Bj6.fromBlock(t),i=r.getTransclusionReferenceTargetPointer();if(!i)return;const a=o.visitedBlockIds||new Set;return a.has(i.id)?void 0:(0,x().g8)({exportArgs:{...o,blockId:i.id,renderParentBlockId:r.id,visitedBlockIds:a.add(i.id)},renderers:n})}function j(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,i=E().Bj6.fromBlock(o),a=(0,x().vy)({textValue:i.getProperty("caption"),exportArgs:n,renderers:r,fromString:e=>({type:"text",value:e})}),s=e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type});if(!D(a))throw new Error("Delineated text node children are invalid");const l={type:"element",tagName:"text",attributes:{},children:a};return{type:"element",tagName:"block",attributes:{id:s.toString()},children:[l]}}}function z(e){return async(t,o)=>{if(n=t.block,!["image","video"].includes(n.type))return;var n;return await Promise.resolve(j(e)({...t,block:t.block}))}}function $(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,i=E().Bj6.fromBlock(o),a={type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type}).toString()},children:[]};if(i.getContentLength()>0){const e=n.visitedBlockIds||new Set,t=C().oE(i.getRenderableContentIds().map((t=>{if(!e.has(t))return(0,x().g8)({exportArgs:{...n,blockId:t,renderParentBlockId:i.id,visitedBlockIds:e.add(t)},renderers:r})})));if(!V(t))throw new Error("Block simple XML node children are invalid");a.children.push(...t)}return a}}function G(e){return async(t,o)=>{if(!function(e){return"table"===e.block.type}(t))return;return await Promise.resolve($(e)(t))}}function K(e){return async(t,o)=>await Promise.resolve(W(e)(t))}function W(e){return t=>{const{block:o,exportArgs:n,renderers:r}=t,i=E().Bj6.fromBlock(o),a=i.getProperties(),s=C().oE(Object.keys(a).map((t=>{const o=i.getProperty(t);if(!o)return;const a=(0,x().vy)({textValue:o,exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,P().Pm)(e)})});if(!D(a))throw new Error("Property children are invalid");return{type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:t}).toString()},children:a}})));if(!s.length)return;return{type:"element",tagName:"block",attributes:{id:e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type}).toString()},children:s}}}function q(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),{date_format:r,time_format:i,...a}=A().K7D(o),s="date"===(l=a).type?l.start_date:"daterange"===l.type?`${l.start_date} -> ${l.end_date}`:"datetime"===l.type?`${l.start_date} ${l.start_time}`:"datetimerange"===l.type?`${l.start_date} ${l.start_time} -> ${l.end_date} ${l.end_time}`:void(0,w().HB)(l);var l;return{type:"element",tagName:"mention",attributes:{id:n.toString()},children:[{type:"text",value:s}]}}}function Y(e){const{children:t}=e;return t}function J(e){return async function({block:t,exportArgs:o,renderers:n}){const r=e.mapBlockOrAnnotation({type:"block",id:t.id,blockType:t.type}),i=await Promise.resolve((0,x().ki)({blockModel:E().Bj6.fromBlock(t),exportArgs:o,includeEmptyCollection:!0}));if(!i||!i.length)return;const a=i[0],{collectionTitle:s,columnIds:l,collectionDescription:c,columnIdToName:d,columnIdToAiPrompt:u,collectionId:p,collectionSpaceId:m,schema:g}=a,f=s?X(e,{collectionId:p,type:U().kl.NAME,collectionSpaceId:m},s,o,n):void 0,y=c?X(e,{collectionId:p,type:U().kl.DESCRIPTION,collectionSpaceId:m},c,o,n):void 0,v=[];for(const b of i){const{collectionViewName:t,collectionViewId:r,collectionViewSpaceId:i}=b;if(!t)continue;const a=t?X(e,{collectionId:p,type:U().kl.VIEW_NAME,collectionViewId:r,collectionSpaceId:m,collectionViewSpaceId:i},t,o,n):void 0;a&&v.push(a)}const h=[],S=C().oE(l.map((t=>{var r;const i=d[t];if(!i)return;const a=(0,x().vy)({textValue:[[i,[]]],exportArgs:o,renderers:n,fromString:e=>({type:"text",value:"string"==typeof e?(0,P().Pm)(e):""})});if(!D(a))throw new Error("Property children are invalid");const s={collectionId:p,type:U().kl.SCHEMA_PROPERTY_NAME,collectionSpaceId:m,propertyId:t,oldValue:i,propertySchemaType:null===(r=g[t])||void 0===r?void 0:r.type},l={type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:Z(s),metadata:s}).toString()},children:a},c=g[t];return c&&(0,T().DQ)(c)&&c.options&&h.push(...c.options.map((r=>X(e,{collectionId:p,type:U().kl.SCHEMA_PROPERTY_OPTION,propertyId:t,optionId:r.id,optionColor:(0,T().lx)(c)?r.color:void 0,collectionSpaceId:m,oldValue:r.value,propertySchemaType:c.type},r.value,o,n)))),l}))),_=C().oE(l.map((t=>{var r;const i=u[t];if(!i)return;const a=(0,x().vy)({textValue:[[i,[]]],exportArgs:o,renderers:n,fromString:e=>({type:"text",value:"string"==typeof e?(0,P().Pm)(e):""})});if(!D(a))throw new Error("Property children are invalid");const s={collectionId:p,type:U().kl.SCHEMA_PROPERTY_AI_INFERENCE,collectionSpaceId:m,propertyId:t,oldValue:i,propertySchemaType:null===(r=g[t])||void 0===r?void 0:r.type};return{type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:Z(s),metadata:s}).toString()},children:a}})));return{type:"element",tagName:"block",attributes:{id:r.toString()},children:[...f?[f]:[],...v,...y?[y]:[],...S,...h,..._]}}}function Q(e){const{translateRenderer:t,propertyKey:o,inputStr:n,exportArgs:r,renderers:i,metadata:a}=e,s=(0,x().vy)({textValue:[[n,[]]],exportArgs:r,renderers:i,fromString:e=>({type:"text",value:(0,P().Pm)(e)})});if(!D(s))throw new Error("Delineated text node children are invalid");return{type:"element",tagName:"property",attributes:{key:t.mapBlockOrAnnotation({type:"property",key:o,metadata:a}).toString()},children:s}}function Z(e){const{type:t,propertyId:o,optionId:n,optionColor:r,collectionViewId:i}=e;switch(t){case U().kl.NAME:return"collection.name";case U().kl.VIEW_NAME:return`collection.view_name.${i}`;case U().kl.DESCRIPTION:return"collection.description";case U().kl.SCHEMA_PROPERTY_NAME:return`collection.property.${o}`;case U().kl.SCHEMA_PROPERTY_OPTION:return`collection.option.${o}.${n}${r?`.${r}`:""}`;case U().kl.SCHEMA_PROPERTY_AI_INFERENCE:return`collection.property.${o}.ai_inference.prompt`;default:(0,w().HB)(t)}}function X(e,t,o,n,r){return Q({translateRenderer:e,propertyKey:Z(t),inputStr:o,exportArgs:n,renderers:r,metadata:t})}function ee(e){const{translateRenderer:t,metadata:o,textValue:n,exportArgs:r,renderers:i}=e;return function(e){const{translateRenderer:t,propertyKey:o,inputTextValue:n,exportArgs:r,renderers:i,metadata:a}=e,s=(0,x().vy)({textValue:n,exportArgs:r,renderers:i,fromString:e=>({type:"text",value:(0,P().Pm)(e)})});if(!D(s))throw new Error("Delineated text node children are invalid");return{type:"element",tagName:"property",attributes:{key:t.mapBlockOrAnnotation({type:"property",key:o,metadata:a}).toString()},children:s}}({translateRenderer:t,propertyKey:`form_question.${o.propertyId}.${o.type}`,inputTextValue:n,exportArgs:r,renderers:i,metadata:o})}function te(){throw new Error("unimplemented")}function oe(){}function ne(e){const t=B(e),o=L(e),n=j(e),r=$(e),i=W(e),a=function(e){return t=>{const{annotation:o,children:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});if(!n)return;if(!function(e){return"text"===e.type||"element"===e.type&&("annotation"===e.tagName||"mention"===e.tagName||"equation"===e.tagName)}(n))throw new Error("Annotation simple XML node children are invalid");const i=[n];return{type:"element",tagName:"annotation",attributes:{id:r.toString()},children:i}}}(e),s=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=E().b4_.fromGetRecordValueFn(n.getRecordValue),i=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),a=A().v55(o);let s="Untitled page";return r({table:v().ev,id:a})&&(s=(0,x()._z)({intl:n.intl,blockId:a,getRecordValue:n.getRecordValue,userTimeZone:n.userTimeZone})),{type:"element",tagName:"mention",attributes:{id:i.toString()},children:[{type:"text",value:s}]}}}(e),l=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=E().b4_.fromGetRecordValueFn(n.getRecordValue),i=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),a=A().TSJ(o),s=a?r(a):void 0,l=(null==s?void 0:s.getRenderTitle({getRecordModel:r,userTimeZone:n.userTimeZone,intl:n.intl}))??"Untitled data source";return{type:"element",tagName:"mention",attributes:{id:i.toString()},children:[{type:"text",value:l}]}}}(e),c=function(e){return t=>{const{annotation:o,exportArgs:{intl:n,getRecordValue:r}}=t,i=E().b4_.fromGetRecordValueFn(r),a=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),s=A().NcG(o),l=i({table:_().oo,id:s});let c=null==l?void 0:l.getFullName(n);return c||(c="Tim Smith"),{type:"element",tagName:"mention",attributes:{id:a.toString()},children:[{type:"text",value:c}]}}}(e),d=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});let i=(0,x().Pf)({annotation:o,exportArgs:n});return i||(i="Employee group"),{type:"element",tagName:"mention",attributes:{id:r.toString()},children:[{type:"text",value:i}]}}}(e),u=function(e){return t=>{const{annotation:o,exportArgs:n}=t,r=e.mapBlockOrAnnotation({type:"annotation",annotation:o});let i=(0,x().nZ)({annotation:o,exportArgs:n});return i||(i="Employee team"),{type:"element",tagName:"mention",attributes:{id:r.toString()},children:[{type:"text",value:i}]}}}(e),p=function(e){return t=>{var o;const{annotation:n,exportArgs:{getRecordValue:r}}=t,i=e.mapBlockOrAnnotation({type:"annotation",annotation:n}),a=E().b4_.fromGetRecordValueFn(r),s=A().T$c(n),l=(null===(o=a({table:v().ev,id:s}))||void 0===o?void 0:o.getFormatValue("original_url"))??"https://example.com";return{type:"element",tagName:"mention",attributes:{id:i.toString()},children:[{type:"text",value:l}]}}}(e),m=function(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),r=A().q1R(o).href;return{type:"element",tagName:"mention",attributes:{id:n.toString()},children:[{type:"text",value:r}]}}}(e),g=q(e),f=function(e){return t=>{const{annotation:o}=t,n=e.mapBlockOrAnnotation({type:"annotation",annotation:o}),r=A().U35(o);return{type:"element",tagName:"equation",attributes:{id:n.toString()},children:[{type:"text",value:r}]}}}(e),y=function(e){return J(e)}(e),h=function(e){return async function(t){return J(e)({...t,block:{...t.block,type:"collection_view"}})}}(e),S=function(e){return async t=>{const{block:o,exportArgs:n,renderers:r}=t;if("form"!==o.type)return;const i=E().Bj6.fromBlock(o),a=(0,x().vy)({textValue:i.getProperty("title"),exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,P().Pm)(e)})}),s=e.mapBlockOrAnnotation({type:"block",id:i.id,blockType:i.type});if(!D(a))throw new Error("Delineated text node children are invalid");const l={type:"element",tagName:"text",attributes:{},children:a},c={type:"element",tagName:"block",attributes:{id:s.toString()},children:[l]};["description","custom_submit_button_text","custom_confirmation_screen_title","custom_confirmation_screen_body"].forEach((t=>{var o;const a=null===(o=i.getFormConfig())||void 0===o?void 0:o[t];if(!a)return;const s="string"==typeof a?(0,A().x9d)(a):a,l=(0,x().vy)({textValue:s,exportArgs:n,renderers:r,fromString:e=>({type:"text",value:(0,P().Pm)(e)})});if(!D(l))throw new Error("Property children are invalid");if(0===l.length)return;const d={type:"element",tagName:"property",attributes:{key:e.mapBlockOrAnnotation({type:"property",key:`form.${t}`,metadata:{}}).toString()},children:l};c.children.push(d)}));const d=E().b4_.fromGetRecordValueFn(n.getRecordValue),u=i.getLayoutPointer();if(!u)return c;const p=d(u);if(!p)return c;const m=p.getFormQuestionModulesForFormLayout(),g=[];return null==m||m.map((t=>{var o;const a=d({table:R().lo,id:t.formQuestionId,spaceId:i.getSpaceId()});if(!a)return;const s=a.getConfig(),l=s.propertyId,c=a.id,u={formId:i.id,questionId:c,propertyId:l},p=s.name;p&&g.push(ee({translateRenderer:e,metadata:{type:U().h5.questionName,...u},textValue:p,exportArgs:n,renderers:r}));const m=s.description;m&&g.push(ee({translateRenderer:e,metadata:{type:U().h5.questionDescription,...u},textValue:m,exportArgs:n,renderers:r}));const f=null===(o=s.propertyTypeSpecificConfig)||void 0===o||null===(o=o.checkbox)||void 0===o?void 0:o.label;f&&g.push(ee({translateRenderer:e,metadata:{type:U().h5.checkboxLabel,...u},textValue:f,exportArgs:n,renderers:r}))})),c.children.push(...g),Promise.resolve(c)}}(e),b={...{page:t,collection_view_page:t,text:t,header:t,sub_header:t,sub_sub_header:t,quote:t,bulleted_list:t,toggle:t,to_do:t,numbered_list:t,callout:t,image:n,video:n,transclusion_container:o,transclusion_reference:H,column:o,column_list:o,table:r,table_row:i},...{code:oe,embed:oe,bookmark:oe,file:oe,tweet:oe,maps:oe,gist:oe,framer:oe,invision:oe,mixpanel:oe,drive:oe,figma:oe,loom:oe,pdf:oe,typeform:oe,codepen:oe,audio:oe,divider:oe,equation:oe,collection_view:oe,factory:oe,copy_indicator:oe,breadcrumb:oe,link_to_collection:oe,link_to_page:oe,table_of_contents:oe,whimsical:oe,miro:oe,abstract:oe,sketch:oe,excalidraw:oe,replit:oe,alias:oe,external_object_instance:oe,tab:oe,hex:oe,deepnote:oe,external_object_instance_page:oe,button:oe,ai_block:oe,drawing:oe,slide:oe,personal_home_page:oe,home_shortcuts:oe,form:oe,post:oe,workflow:oe,transcription:oe,mail:oe}},I={...{page:N(e),text:N(e),header:N(e),sub_header:N(e),sub_sub_header:N(e),quote:N(e),bulleted_list:N(e),toggle:N(e),to_do:N(e),numbered_list:N(e),callout:N(e),image:z(e),video:z(e),transclusion_container:F(e),transclusion_reference:async e=>{const t=function(e){return"transclusion_reference"===e.type}(e.block)?e.block:void 0;if(t)return await Promise.resolve(H({...e,block:t}))},column:F(e),column_list:F(e),table:G(e),table_row:K(e),collection_view:y,collection_view_page:h,form:S},...{image:te,video:te,code:te,embed:te,bookmark:te,file:te,tweet:te,maps:te,gist:te,framer:te,invision:te,mixpanel:te,drive:te,figma:te,loom:te,pdf:te,typeform:te,codepen:te,audio:te,divider:te,equation:te,factory:te,copy_indicator:te,breadcrumb:te,link_to_collection:te,link_to_page:te,table_of_contents:te,transcription:te,mail:te,whimsical:te,miro:te,abstract:te,sketch:te,excalidraw:te,replit:te,alias:te,external_object_instance:te,tab:te,hex:te,deepnote:te,external_object_instance_page:te,button:te,ai_block:te,drawing:te,slide:te,personal_home_page:te,home_shortcuts:te,post:te,workflow:te}};return{blockRenderers:b,annotationRenderers:{[A().Ifu.Bold]:a,[A().Ifu.Italic]:a,[A().Ifu.Strike]:a,[A().Ifu.Code]:a,[A().Ifu.Highlight]:a,[A().Ifu.Discussion]:a,[A().Ifu.Underline]:a,[A().Ifu.Link]:a,[A().Ifu.Equation]:f,[A().Ifu.Comment]:Y,[A().Ifu.Page]:s,[A().Ifu.Collection]:l,[A().Ifu.User]:c,[A().Ifu.Group]:d,[A().Ifu.Team]:u,[A().Ifu.LinkMention]:m,[A().Ifu.Date]:g,[A().Ifu.ExternalObjectInstance]:p,[A().Ifu.Inserted]:Y,[A().Ifu.SlackSpecialMention]:oe,[A().Ifu.CustomEmoji]:oe,[A().Ifu.SuggestionInsertText]:oe,[A().Ifu.SuggestionRemoveText]:oe,[A().Ifu.SuggestionAnnotate]:oe,[A().Ifu.SuggestionUnannotate]:oe,[A().Ifu.Deleted]:oe,[A().Ifu.Bot]:oe,[A().Ifu.TemporaryComment]:oe,[A().Ifu.TemporaryCursor]:oe,[A().Ifu.TemporaryEquation]:oe,[A().Ifu.TemporaryPage]:oe,[A().Ifu.TemporaryCollection]:oe,[A().Ifu.TemporaryInput]:oe,[A().Ifu.TemporarySelection]:oe,[A().Ifu.TemporaryFindHighlight]:oe,[A().Ifu.TemporarySelectedFindHighlight]:oe,[A().Ifu.TemplateVariable]:oe,[A().Ifu.FormulaPageProperty]:oe,[A().Ifu.FormulaContextValue]:oe,[A().Ifu.FormulaError]:oe,[A().Ifu.Citation]:oe,[A().Ifu.TemporaryCitation]:oe,[A().Ifu.TemporaryNativeMABFilter]:oe,[A().Ifu.TemporaryDictation]:oe,[A().Ifu.TemporaryHighlight]:oe,[A().Ifu.AssistantInstructionsCollection]:oe,[A().Ifu.TemporaryCommentHighlight]:oe,[A().Ifu.TemporarySuggestionUnderline]:oe,[A().Ifu.Place]:oe,[A().Ifu.TemporarySearchFilter]:oe,[A().Ifu.SearchFilterCreatedTime]:oe,[A().Ifu.SearchFilterLastEditedTime]:oe,[A().Ifu.TitleOnly]:oe,[A().Ifu.Sort]:oe},asyncBlockRenderers:I,propertyRenderers:{title:oe,text:oe,select:oe,multi_select:oe,status:oe,relation:oe,rollup:oe,url:oe,email:oe,phone_number:oe,checkbox:oe,person:oe,number:oe,date:oe,file:oe,formula:oe,created_time:oe,last_edited_time:oe,created_by:oe,last_edited_by:oe,button:oe,auto_increment_id:oe,last_visited_time:oe,location:oe,verification:oe,place:oe}}}o(18107),o(967357);var re=()=>o(331119);function ie(e){const{translateRenderer:t,attributes:o,expectedType:n}=e;if(!("id"in o))return{error:new Error("Expected ID attribute")};const r=parseInt(o.id);if(!(r in t.map))return{error:new Error(`Could not find ${r} in TranslateRenderer`)};const i=t.map[r];return"block"===i.type&&"block"===n?{value:{counter:r,value:{blockType:i.blockType,id:i.id}}}:"annotation"===i.type&&(0,A().Ta1)(i.annotation)&&"textAnnotation"===n||"annotation"===i.type&&(0,A().iGj)(i.annotation)&&"mentionAnnotation"===n||"annotation"===i.type&&(0,A().gir)(i.annotation)&&"equationAnnotation"===n?{value:{counter:r,value:i.annotation}}:{error:new Error(`Expected ${n}, received ${JSON.stringify(i)}.`)}}const ae=k().p.mapResult(re().W6,(e=>({value:e.value})));function se(e){return k().p.mapResult((0,re().U5)("text"),(t=>{const o=(0,k().$d)((0,re().nx)("text",[pe(e),ce(e),de(e),ae]),t.children??[]);return I().Q.isFail(o),o}))}function le(e){return k().p.mapResult((0,re().U5)("block"),(t=>{const o=ie({translateRenderer:e,attributes:t.attributes,expectedType:"block"});if(I().Q.isFail(o))return o;const n=(0,k().$d)(k().p.mapResult((0,re().nx)("block",[k().p.mapResult(ae,(e=>({value:[e]}))),k().p.mapResult(pe(e),(e=>({value:[e]}))),k().p.mapResult(ce(e),(e=>({value:[e]}))),k().p.mapResult(ue(e),(e=>({value:[e],metadata:e.metadata}))),k().p.mapResult(le(e),(e=>({value:[e]}))),se(e)]),(e=>({value:e.flat()}))),t.children??[]);return I().Q.isFail(n)?n:{value:{type:"block",blockType:o.value.value.blockType,id:o.value.value.id,children:n.value}}}))}function ce(e){return k().p.mapResult((0,re().U5)("mention"),(t=>{const o=ie({translateRenderer:e,attributes:t.attributes,expectedType:"mentionAnnotation"});if(I().Q.isFail(o))return o;const n=(0,k().$d)(k().p.many(ae),t.children??[]);return I().Q.isFail(n)?n:{value:{type:"mention",annotation:o.value.value,text:n.value.join("")}}}))}function de(e){return k().p.mapResult((0,re().U5)("equation"),(t=>{const o=ie({translateRenderer:e,attributes:t.attributes,expectedType:"equationAnnotation"});if(I().Q.isFail(o))return o;const n=(0,k().$d)(k().p.many(ae),t.children??[]);return I().Q.isFail(n)?n:{value:{type:"equation",annotation:o.value.value}}}))}function ue(e){return k().p.mapResult((0,re().U5)("property"),(t=>{const o=(0,re().nx)("property",[ae,pe(e),ce(e)]),n=function(e,t){if(!("key"in t))return{error:new Error("Expected key attribute")};const o=parseInt(t.key);if(!(o in e.map))return{error:new Error(`Could not find ${o} in TranslateRenderer`)};const n=e.map[o];return"property"!==n.type?{error:new Error(`Expected property, received ${JSON.stringify(n)}.`)}:{value:{counter:o,value:{key:n.key},metadata:n.metadata}}}(e,t.attributes);if(I().Q.isFail(n))return n;const r=(0,k().$d)(k().p.map(o,(e=>e)),t.children??[]);return I().Q.isFail(r)?r:{value:{type:"property",key:n.value.value.key,children:r.value,metadata:n.value.metadata}}}))}function pe(e){return k().p.mapResult((0,re().U5)("annotation"),(t=>{const o=ie({translateRenderer:e,attributes:t.attributes,expectedType:"textAnnotation"});if(I().Q.isFail(o))return o;const n=(0,re().nx)("annotation",[ae,pe(e),ce(e),de(e)]),r=(0,k().$d)(k().p.map(n,(e=>{if(function(e){return 1===e.length}(e))return e;return[e.at(0)??""]})),t.children??[]);return I().Q.isFail(r)?r:{value:{type:"annotation",annotation:o.value.value,children:r.value}}}))}function me(e){const{annotation:t}=e;return(0,A().wmz)(t)}function ge(e){const{annotation:t}=e;return(0,A().G0H)(t[1])}function fe(e){const{annotations:t,value:o}=function e(t){const o=[t.annotation],n=t.children[0];if("string"==typeof n)return{annotations:o,value:n};if("mention"===n.type)return{annotations:o,value:n};if("annotation"===n.type){const{annotations:t,value:r}=e(n);return o.push(...t),{annotations:o,value:r}}if("equation"===n.type)return{annotations:o,value:n};(0,w().HB)(n)}(e);if("string"==typeof o)return(0,A().Ey_)(o,t);if("mention"===o.type)return(0,A().wmz)(o.annotation,t);if("equation"===o.type){const e=t.filter(A().Ta1);return(0,A().G0H)(o.annotation[1],e)}(0,w().HB)(o)}function ye(e){const t=[];for(const o of e.children)"string"==typeof o?t.push((0,A().Ey_)(o)):"annotation"===o.type?t.push(fe(o)):"mention"===o.type?t.push(me(o)):(0,w().HB)(o);return t}function ve(e){let t={};const o={},n=[];for(const r of e.children)"string"==typeof r?n.push((0,A().Ey_)(r)):"annotation"===r.type?n.push(fe(r)):"mention"===r.type?n.push(me(r)):"property"===r.type?o[r.key]={value:ye(r),metadata:r.metadata}:"equation"===r.type?n.push(ge(r)):"block"===r.type&&(t={...ve(r),...t});return{[e.id]:{value:n,blockType:e.blockType,mapping:(0,U().oQ)(e.blockType),properties:o},...t}}class he{constructor(e){this.map=void 0,this.counter=0,this.renderers=void 0,this.hasTranslated=!1,this.renderers=ne(this),this.map=e??{}}getExportArgs(e){const{pagePointer:t,intl:n,getRecordModel:r,serverOrClientConfig:i,experimentService:a,formulasModule:s,spaceIdCreator:l}=e;return{blockId:t.id,navigableBlockId:t.id,renderParentBlockId:void 0,root:t,numberedListCache:{},bulletedListCache:{},getExportedPathToFile:e=>"",getExportedRenderAsset:e=>"",getExportedPathToPage:e=>"",getRecordValue:r.getRecordValue,getRecordModel:r,getRecordsWithParent:()=>[],userTimeZone:(0,u().P)(),intl:n,baseUrl:i.domainBaseUrl,publicDomainName:i.publicDomainBaseUrl,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:a,collectionFeatureGates:(0,o(670913).v)({experimentService:a,actor:void 0,spaceId:t.spaceId}),formulasModule:s,spaceIdCreator:l}}mapPageToXML(e){if(this.hasTranslated)throw new Error("Page already loaded.");this.hasTranslated=!0;const t=this.getExportArgs(e),o=(0,x().g8)({exportArgs:t,renderers:this.renderers});if(!o||!O(o))throw new Error("Failed to render page");return o}async asyncMapPageToXML(e){if(this.hasTranslated)throw new Error("Page already loaded.");this.hasTranslated=!0;const t=this.getExportArgs(e),n=await(0,x().wL)({exportArgs:t,renderers:this.renderers,ticker:new(o(863567).D)});if(!n||!O(n))throw new Error("Failed to render page");return n}parseXMLToTranslations(e){const t=(0,k().$d)(le(this),e);if(I().Q.isSuccess(t))return ve(t.value);throw t.error}getBlocksMissingFromTranslationMap(e){const t=Object.keys(e);return Object.values(this.map).map((e=>"block"===e.type?e.id:void 0)).filter(w().O9).filter((e=>!t.includes(e)))}mapBlockOrAnnotation(e){const t=this.counter++;return this.map[t]=e,t}}var Se=()=>o(220719),_e=()=>o(545285),be=()=>o(498212),Ae=()=>o(559506),Ie=()=>o(276470),we=()=>o(334261),xe=()=>o(295118),ke=()=>o(384944),Ce=()=>o(72234),Pe=()=>o(319975),Te=()=>o(231297),Me=()=>o(755199),Ee=()=>o(166442),Re=()=>o(813297),Ue=()=>o(862292),De=()=>o(263265),Oe=()=>o(554657),Ve=()=>o(263711),Be=()=>o(199058),Ne=()=>o(765957),Le=()=>o(712505),Fe=()=>o(790392),He=()=>o(148832),je=()=>o(502438),ze=()=>o(314648),$e=()=>o(10984),Ge=()=>o(954220),Ke=()=>o(157857),We=()=>o(698331),qe=()=>o(972435),Ye=()=>o(780865),Je=()=>o(906745),Qe=()=>o(917629),Ze=()=>o(576590),Xe=()=>o(300789),et=()=>o(999544),tt=()=>o(131448);function ot(e){const{environment:t,userAction:o,data:n}=e,r=Ne().default.state.currentUserSettingsStore;r?Te().createAndCommit({userAction:o,environment:t,canUndo:!0,userId:r.id,perform:e=>{Me().mJ({userSettingsStore:r,data:n,transaction:e})}}):console.error("Could not find current user settings")}(0,s().exposeDebugEnvironmentValue)("messages",(function(e){const t=t=>{Xe().bc(e),Xe().X3(e,t),et().nS(e,t)};return{resetNotionCalendarOnboarding:()=>{ot({environment:e,userAction:"debuggingHelpers.clearNotionCalendarOnboarding",data:{notion_calendar_launch_modal_phase:null,notion_calendar_launch_modal_dismissed_at:null,seen_open_in_calendar_tooltip:null}}),t("notion_calendar_launch_promo")},resetAsanaPostImportTour:()=>{ot({environment:e,userAction:"debuggingHelpers.resetAsanaPostImportTour",data:{seen_asana_post_import_tour:null}}),t("asana_post_import_tour")},resetFormsShareTooltip:()=>{ot({environment:e,userAction:"debuggingHelpers.resetFormsShareTooltip",data:{seen_forms_share_form_tooltip:null}}),t("forms_share_form_tooltip")},resetFormsAddConditionalLogicTooltip:()=>{ot({environment:e,userAction:"debuggingHelpers.resetFormsAddConditionalLogicTooltip",data:{seen_forms_add_conditional_logic_tooltip:null}}),t("forms_add_conditional_logic_tooltip")},resetDummyModal:()=>{ot({environment:e,userAction:"debuggingHelpers.resetDummyModal",data:{seen_dummy_modal:null}}),t("dummy_modal")},resetSidebarUpgradeNudge:()=>{ot({environment:e,userAction:"sidebarUpgradeNudge.markNotificationAsDismissed",data:{dismissed_sidebar_upgrade_nudge:!1}}),t("sidebar_upgrade_nudge")},forceShowMessage:t=>{const o=(0,Qe().h2)(t);o?Xe().UW(e,o):console.log(`Invalid static message key: ${t}`)},resetMessageExposures:()=>{Xe().bc(e)},tryShowMessage:(t,o)=>{const n=(0,Qe().h2)(t);if(n){const t=Xe().$j(e,n,o);t.error&&console.log(`Could not show ${n} because of ${t.error}`)}else console.log(`Invalid static message key: ${t}`)},resetMessage:t,resetMessageSeen:t=>{et().nS(e,t)},resetLanguageSwitchPrompt:()=>{ot({environment:e,userAction:"debuggingHelpers.resetLanguageSwitchPrompt",data:{language_switching_prompt_dismissals:[]}}),t("language_switch_prompt")},pushOrReplaceToast:e=>{o(812182).HK(e)},resetLayoutPageEducation:()=>{ot({environment:e,userAction:"debuggingHelpers.resetLayoutPageEducation",data:{layout_info_panel_button_education_tooltip_dismissed_at:null,layout_builder_add_module_button_education_tooltip_dismissed_at:null}})},resetSlackEmbedAiConnectorTooltip:()=>{ot({environment:e,userAction:"debuggingHelpers.resetSlackEmbedAiConnectorTooltip",data:{seen_slack_embed_ai_connector_tooltip:!1}}),t("ai_slack_qna_embed_tooltip")},addDynamicCallout:t=>{Xe().Ez(e,t)},addDynamicReactiveCallout:e=>{tt().default.addPendingDynamicMessage(e)},resetGithubAIConnectorAnnouncement:()=>{const{sidebarSpaceViewStore:o}=Ne().default.state;o&&(Te().createAndCommit({environment:e,userAction:"AiGithubAIConnectorAnnouncementModal.clearGithubAIConnectorAnnouncementSeenAt",canUndo:!0,perform:e=>{Te().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings"],command:"update",args:{...o.getSettings(),ai_github_ai_connector_announcement_seen_at:null}},transaction:e})}}),t("ai_github_ai_connector_announcement"))},showAiConnectorOnboardingSurveyMoments:e=>{const{sidebarSpaceViewStore:t}=Ne().default.state;if(t)for(const o of["started","finished","survey_triggered"]){const t=(0,Ze().getAiConnectorOnboardingMomentInSettings)({connector:e,moment:o});if(!t)continue;const n=Je().c9.fromMillis(t).toISO();console.log(`Connector ${e} ${o} at ${n}`)}else console.error("No space view store found!")},resetAiConnectorOnboardingSurveyMoment:(t,o)=>{const{sidebarSpaceViewStore:n}=Ne().default.state;n?((0,Ze().setAiConnectorOnboardingSurveyMomentInSettings)({environment:e,currentSpaceViewStore:n,connector:t,moment:o,timestamp:void 0}),console.log(`Reset ${o} for ${t}`)):console.error("No space view store found!")},rewindAiConnectorOnboardingSurveyMoments:(t,o)=>{const{sidebarSpaceViewStore:n}=Ne().default.state;if(n)for(const r of["started","finished","survey_triggered"]){const i=(0,Ze().getAiConnectorOnboardingMomentInSettings)({connector:t,moment:r});if(!i)continue;const a=Je().c9.fromMillis(i).minus({days:o}).toMillis();(0,Ze().setAiConnectorOnboardingSurveyMomentInSettings)({environment:e,currentSpaceViewStore:n,connector:t,moment:r,timestamp:a});const s=Je().c9.fromMillis(a).toISO(),l=Je().c9.fromMillis(i).toISO();console.log(`Rewound ${r} for ${t} to ${s} (${o} days before ${l})`)}else console.error("No space view store found!")},advanceDaysSinceCalloutDismissal:t=>{const{messageKey:o,nDays:n}=t,{currentUserSettingsStore:r,sidebarSpaceViewStore:i}=Ne().default.state,a=Je().c9.now().toMillis();if(r||i){if(r){const t=r.getSettings();if(t){const i=t.callout_dismissal_timestamps??[],s=new Map(i.map((e=>[e.name,e]))),l=s.get(o);l?(l.timestamp=Je().c9.fromMillis(l.timestamp||a).minus({days:n}).toMillis(),Te().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutDismissal(userSettings: ${o})`,environment:e,canUndo:!0,perform:e=>{Me().mJ({userSettingsStore:r,transaction:e,data:{callout_dismissal_timestamps:Array.from(s.values())}})}})):console.warn(`No dismissal timestamp found for "${o}" in user settings.`)}else console.error("No user settings found!")}if(i){const t=i.getSettings();if(t){const r=t.callout_dismissal_timestamps??[],s=new Map(r.map((e=>[e.name,e]))),l=s.get(o);l?(l.timestamp=Je().c9.fromMillis(l.timestamp||a).minus({days:n}).toMillis(),Te().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutDismissal(spaceView: ${o})`,environment:e,canUndo:!0,perform:e=>{Ce().AG(i,e,{callout_dismissal_timestamps:Array.from(s.values())})}})):console.warn(`No dismissal timestamp found for "${o}" in space view settings.`)}else console.error("No space view settings found!")}}else console.error("No user settings or space view store found!")},advanceDaysSinceCalloutSeen:t=>{const{messageKey:o,nDays:n}=t,{currentUserSettingsStore:r}=Ne().default.state;if(!r)return void console.error("No user settings found!");const i=r.getSettings();if(!i)return void console.error("No user settings found!");const a={...i.callout_seen_timestamps??{}};console.log("Seen record:",a),a[o]?(a[o]=Je().c9.fromMillis(a[o]).minus({days:n}).toMillis(),console.log("New seen record:",a),Te().createAndCommit({userAction:`debugHelpers.advanceDaysSinceCalloutSeen(messageKey: ${o})`,environment:e,canUndo:!0,perform:e=>{Me().mJ({userSettingsStore:r,transaction:e,data:{callout_seen_timestamps:a}})}})):console.warn(`No seen timestamp found for "${o}" in user settings.`)},resetAILimitNudge:()=>{ot({environment:e,userAction:"debuggingHelpers.resetAiLimitNudge",data:{addOnLimitNotifications:null}}),t("ai_limit_nudge")},resetToastExposures:()=>{const t=Ne().default.state.currentUserSettingsStore;if(!t)return void console.error("Could not find current user settings");const o=t.getSettings();o?(Te().createAndCommit({environment:e,userAction:"debuggingHelpers.resetToastExposures",canUndo:!0,perform:e=>{const n=(o.callout_placement_exposures??[]).filter((e=>"Toast"!==e.placement));Me().mJ({userSettingsStore:t,transaction:e,data:{callout_placement_exposures:n}})}}),console.log("Toast exposures reset successfully")):console.error("No user settings found")},resetOncePerUserSeenTimestamps:()=>{const t=Ne().default.state.currentUserSettingsStore;t?(Te().createAndCommit({environment:e,userAction:"debuggingHelpers.resetOncePerUserSeenTimestamps",canUndo:!0,perform:e=>{Me().mJ({userSettingsStore:t,transaction:e,data:{callout_seen_timestamps:{}}})}}),console.log("All once-per-user seen timestamps reset successfully")):console.error("Could not find current user settings")},checkMessageEligibility:async t=>await Xe().TD(e,t),resetNuxDatabaseLearningMetadata:()=>{var t;const{currentUserSettingsStore:o}=Ne().default.state,n=null==o||null===(t=o.getSettings())||void 0===t?void 0:t.callout_dismissal_timestamps,r=null==n?void 0:n.filter((e=>"adoption_nux_second_session_database_learning_tooltip"!==e.name));ot({environment:e,userAction:"debuggingHelpers.resetNuxDatabaseLearningMetadata",data:{nux_database_learning_metadata:null,callout_dismissal_timestamps:r}})},viewMessages:()=>{const e=tt().default.state.messages;console.log("Messages:",e)},viewPendingMessages:()=>{const e=tt().default.state.pendingDynamicMessages;console.log("Pending messages:",e)},markMessageAsRead:async function(t){await Xe().Z7(e,t)},markMessageAsSkipped:async function(t){await Xe().Xh(e,t)},removeMessageFromDynamicPendingMessage:function(e){Xe().Gs(e)}}}));const nt=20;async function rt(e,t){const o=(0,be().parseUUIDWithoutDashes)(t)||t,{inMemoryRecordCache:n,persistedRecordCache:r}=e.defaultRecordCache;let i;for(const a of n.data)if(a.pointer.id===o){console.log(`Found a ${a.pointer.table} record in the in-memory record cache:`,a.model,a.model.__IM_SORRY__getValue());const e=n.checkRecordForTemporaryData(a);if(e&&console.log("The record has been augmented by temporary data:",e),r&&(0,_e().u)(a.pointer)){const e=await r.get({pointer:a.pointer,userId:a.userId});console.log("The record is also in the persisted record cache: ",e)}i=g().ms.fromModel(a.model)}return i||console.log("Alas, no records with the id were found in the in-memory record cache."),i}function it(e,t){return"string"==typeof e&&"string"==typeof t?Object.keys(h().jo).includes(e)?{table:e,id:(0,be().parseUUIDWithoutDashes)(t)||t}:{table:t,id:(0,be().parseUUIDWithoutDashes)(e)||e}:"string"!=typeof e||t?"object"==typeof e?e:t:{table:"block",id:(0,be().parseUUIDWithoutDashes)(e)||e}}function at(e,t){if(t>nt)return[];const o=[],n=(null==e?void 0:e.getAutomationStores())??[];o.push(...n.map((e=>lt(e))).filter(w().O9));const r=(null==e?void 0:e.getTemplatePageStores())??[];for(const a of r){const e=a.getAutomationStore();if(e){const t=lt(e);t&&o.push(t)}o.push(...st(a,t+1))}const i=e.getSchema();for(const a of Object.values(i))if("button"===(null==a?void 0:a.type)&&(0,w().O9)(a.automation_id)){const t=lt(Fe().d.createChildStore(e,{id:a.automation_id,spaceId:e.getSpaceId(),table:y().yB}));t&&o.push(t)}return C().hS(o,(e=>f().L3.toKey(e.automation.pointer)))}function st(e,t){if(t>nt)return[];const o=[];{const n=e.getAutomationStore();if(n){const e=lt(n);e&&o.push(e)}if(e.isCollectionView()){const n=e.getCollectionStore();n&&o.push(...at(n,t+1))}}const n=e.getContentStores();for(const r of n){const e=r.getAutomationStore();if(e){const t=lt(e);t&&o.push(t)}if(r.isCollectionView()){const e=r.getCollectionStore();e&&o.push(...at(e,t+1))}o.push(...st(r,t+1))}return C().hS(o,(e=>f().L3.toKey(e.automation.pointer)))}function lt(e){if(!e)return;const t=(null==e?void 0:e.getActionStores())??[],o=null==e?void 0:e.getCreatedByPointer(),n=(null==o?void 0:o.table)===_().oo&&(null==e?void 0:e.getRecordModel(o));return n?{automation:e,actions:t,createdBy:n,parent:e.getParentBlockStore()}:void 0}(0,s().exposeDebugEnvironmentValue)("debugging",(e=>{const t=function(e){const t=async(t,o)=>{const n=it(t,o),r=await(0,Ie().e)(e,{pointer:n,version:-1,userId:e.currentUser.id});return(null==r?void 0:r.value)||void 0},s=async(t,n)=>{var r;const i=it(t,n),a=await(0,Ie().e)(e,{pointer:i,version:-1,userId:e.currentUser.id}),s=null==a?void 0:a.value;if(!s)return void console.log(`Unable to find record ${(0,o(452540).jV)(i)}.`);const c=null===(r=(0,o(18387).Z)())||void 0===r?void 0:r.pointer.spaceId;Te().createAndCommit({environment:e,perform(t){const n=ke().Wv({environment:e,type:l().xd.code,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache,transaction:t,spaceId:c});Pe().R9({environment:e,store:n.getBlockTitleStore(),transaction:t,value:[[JSON.stringify(s,null,2)]]}),o(914577).IA({blocks:[n],language:"JSON",transaction:t}),Pe().R9({environment:e,store:n.getCaptionStore(),transaction:t,value:[[`${i.table} ${i.id}`]]}),o(391214).LE({environment:e,blocksToInsert:[n],target:je().default.state.stores,transaction:t,replaceEmptyTextBlock:!1})},userAction:"debuggingHelpers.editRecordJson",canUndo:!0}),console.log("Created a code block with the record source. You can make edits and, with the text cursor still in the block, use __console.updateRecordJson() to write it back to the database. Do not modify the caption.")},g=()=>{const t=je().default.state.stores[0];if(!(t instanceof He().B&&t.isType(l().xd.code)))return void console.log("No code block is selected!");const n=(e=>{try{return JSON.parse(e)}catch(t){return void console.error(t)}})((0,A().q4_)(t.getTitleValue()));if(!n)return void console.log("Unable to parse JSON in selected code block.");const[r,i]=(0,A().q4_)(t.getCaptionStore().getValue()).split(" ");if(!r||!i)return void console.log("Unable to parse record pointer in caption.");const a=it(r,i);Te().createAndCommit({environment:e,perform(r){const i=(0,o(878710).v3)(t,a);if(i instanceof He().B){const t=n.properties;if(t){delete n.properties;const o=t.title;o&&Pe().R9({environment:e,store:i.getBlockTitleStore(),value:o,transaction:r}),delete t.title,Te().applyOperation({store:i,operation:{pointer:i.pointer,path:["properties"],command:"update",args:t},transaction:r})}}Te().applyOperation({store:i,operation:{pointer:i.pointer,path:[],command:"update",args:n},transaction:r})},userAction:"debuggingHelpers.updateRecordJson",canUndo:!0}),console.log(`Updated ${r} ${i}. Press Cmd-Z (in Notion, not console) to undo.`)},f=async()=>{var t,o;const n=null===(t=Ne().default.state.sidebarSpaceStore)||void 0===t?void 0:t.getSpaceId(),r=null===(o=Ne().default.state.currentUserStore)||void 0===o?void 0:o.userId;if(!n||!r)return;const i=await(0,Ge().fetchUserSignals)({spaceId:n,environment:e});void 0!==i&&(0,Ge().setUserSignals)({spaceId:n,userId:r,environment:e,newSignals:i,initialize:!1})},I=()=>{var e,t;const o=null===(e=Ne().default.state.sidebarSpaceStore)||void 0===e?void 0:e.getSpaceId(),n=null===(t=Ne().default.state.currentUserStore)||void 0===t?void 0:t.userId;if(!o||!n)return;const r=ze().default.getUserSignals({spaceId:o,userId:n});return r?ze().USER_SIGNALS_KEYS.map((e=>[e,("similarUserRecentPages"===e?Array.from(Object.values(r[e])):r[e]).map((({pageId:e,...t})=>({...t,pageId:e,page:T(v().ev,e)})))])):void 0},x=t=>o(842677).RecordStores.createUniqueRootStore(e,t),k=(t,o)=>{var n;const r=it(t,o),i=e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:r,userId:e.currentUser.id});if(void 0===(null==i?void 0:i.value))return`${r.table}: ${r.id}`;const a="type"in i.value?i.value.type:r.table;return"name"in(null==i?void 0:i.value)?`${a} ${i.value.id} ${i.value.name}`:"properties"in(null==i?void 0:i.value)&&(0,w().O9)(i.value.properties)&&"title"in i.value.properties&&(0,w().O9)(null==i?void 0:i.value.properties.title)?`${a} ${i.value.id} ${i.value.properties.title.join(" ").slice(0,30)}`:`${a} ${null==i||null===(n=i.value)||void 0===n?void 0:n.id}`},P=(t,o)=>{const n=it(t,o);return e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:n,userId:e.currentUser.id})},T=(e,t)=>{const o=it(e,t),n=P(e,t),r={title:k(e,t),raw:null==n?void 0:n.value,parent:void 0,id:o,children:[]};var i,a;void 0!==(null==n?void 0:n.value)&&"parent_table"in(null==n?void 0:n.value)&&"parent_id"in(null==n?void 0:n.value)&&n.value.parent_id&&(r.parent=it(null===(i=n.value)||void 0===i?void 0:i.parent_id,null===(a=n.value)||void 0===a?void 0:a.parent_table));if(null!=n&&n.value&&"content"in(null==n?void 0:n.value)){var s;const e=(null==n||null===(s=n.value)||void 0===s?void 0:s.content)||[];for(const t of e){const e=it(t,"block"),n=P(t,"block"),i={title:k(t,"block"),raw:null==n?void 0:n.value,parent:o,id:e,children:[]};r.children.push(i)}}return r},M=()=>{var e;const t=null===(e=V())||void 0===e?void 0:e.id;if(t)return T(t,"block");console.error("Not opening")},E=(e,t)=>`${a().A.adminUrl}/__admin/${e}/${t}`,R=(e,t)=>{window.open(E(e,t))},U=()=>{if(0!==je().default.state.stores.length)return je().default.state.stores.forEach((e=>{R(v().ev,e.id)}));console.error("No selected block")},D=()=>{Ne().default.state.sidebarSpaceStore?R(o(96689).NX,Ne().default.state.sidebarSpaceStore.id):console.error("No current space")},O=()=>{var e;const t=null===(e=V())||void 0===e?void 0:e.id;t?R(v().ev,t):console.error("Not opening")},V=()=>Le().default.state.open?(console.warn("Returning peek view page, if you want the underlying page, please close it and try again"),Le().default.state.targetStore):Ne().default.state.mainEditorCurrentBlockStore?Ne().default.state.mainEditorCurrentBlockStore:void console.error("No current mainEditorCurrentBlockStore"),B=t=>{if(!t.isTabbedPageLayout())return void console.error("Current layout is not a tabbed page layout, make it tabbed before using this function to add duplicate content tab");const n=t.getViewsModuleCollectionViewBlockStore();if(!n)return void console.error("No collection view block store found");const r=`view_tab_duplicate_${i?67500000001+parseInt(i.substring(0,8),16)%249e6:Math.floor(249e6*Math.random())+67500000001}`;var i;Te().createAndCommit({userAction:"debuggingHelpers.addDuplicateContentTabToCurrentLayout",environment:e,canUndo:!0,perform(i){(0,o(38e3).Q)({environment:e,layoutStore:t,transaction:i,collectionViewBlockStore:n,options:{viewsTabId:r}})}})},N=()=>{var t;if(!Ne().default.state.mainEditorCurrentBlockStore)return void console.error("No current mainEditorCurrentBlockStore");const o=Ne().default.state.mainEditorCurrentBlockStore.getAssociatedCollectionStore()||Ne().default.state.mainEditorCurrentBlockStore.getCollectionStore();if(!o)return void console.error("Cannot find collection store to remove Page sections from");const n=o.getFormat(),r=((null===(t=n.property_visibility)||void 0===t?void 0:t.filter((e=>"section"===e.visibility)))||[]).map((e=>e.property));Te().createAndCommit({userAction:"debuggingHelpers.addRelationsGroupModuleToCurrentLayout",environment:e,canUndo:!0,perform(t){we().LK({store:o,pageSectionFormats:[],transaction:t,environment:e}),r.forEach((e=>{we().D7({property:e,visibility:"show",store:o,format:n,transaction:t})}))}})},L=t=>{const{visibility:o,section:n}=t,r=Ne().default.state.mainEditorCurrentBlockStore;if(!o||!n)return void console.error("No visibility or section provided");if(!r)return;const i=r.getAssociatedCollectionStore()||r.getCollectionStore(),a=(null==i?void 0:i.getFormat())||r.getFormat();we().OD({environment:e,store:i||r,pageSection:n,visibility:o,format:a})},F=()=>{var e,t;const o=null===(e=V())||void 0===e?void 0:e.getCreatedById(),n=null===(t=V())||void 0===t?void 0:t.getCreatedByTable();if(o&&n)return P(o,n);console.error("no created_by_id or created_by_table for this page")},H=()=>{var e;const t=F(),o=null==t||null===(e=t.value)||void 0===e?void 0:e.id;o?R(_().oo,o):console.error("no current page Creator, not opening")},j=(t,o="1",n,r)=>{var i;const a="string"==typeof t?{query:{text:t,filters:(0,b().N2)(),sort:{field:"relevance"}},limit:20,debug:o}:t;return{environment:e,input:a,spaceId:null===(i=Ne().default.state.sidebarSpaceStore)||void 0===i?void 0:i.id,publicAccessPermissionAncestorBlockId:Ye().Er(e).publicAccessPermissionAncestorBlockId,searchExperimentOverrides:r,forcedClusterPattern:n,source:"debugging"}},z=async(t,o="1",n,r)=>{const i="string"==typeof t?{query:{text:t,filters:(0,b().N2)(),sort:{field:"relevance"}},limit:20,debug:o}:t,{sidebarSpaceStore:a}=Ne().default.state,{query:s,limit:l}=i;if(!a)return;const c=Ae().callApi({eventName:"search",environment:e,data:{type:b().Vz.CollectionsInSpace,query:s.text.trim(),spaceId:a.id,limit:l,filters:b().N2({excludeTemplates:!0,requireEditPermissions:!0}),sort:{field:"relevance"},debug:o,searchExperimentOverrides:r,forcedClusterPattern:n,source:"client_console_debugging_search"}}),d=await c;return"success"===d.type?d.data:d},$={id:"root0000-0000",table:"block"},G=e=>{var t;if(void 0!==(null==e||null===(t=e.value)||void 0===t?void 0:t.parent_id))return it(e.value.parent_id,e.value.parent_table)},K=e=>{const t=new(o(795727).A);e.map((e=>{const o=it(e.id,e.table),n=k(e.id,e.table),r=P(e.id,e.table),i={title:n,parent:G(r),id:o,raw:null==r?void 0:r.value,children:[]};t.set(o,i)}));const n={title:"root",parent:void 0,id:$,raw:void 0,children:[]};return e.map((e=>{const o=it(e.id,e.table),r=t.get(o);var i;void 0!==(null==r?void 0:r.parent)&&t.has(r.parent)?null===(i=t.get(r.parent))||void 0===i||i.children.push(r):void 0!==r?n.children.push(r):n.children.push({title:"Failed to load Record",parent:void 0,id:o,raw:void 0,children:[]})})),n},W=()=>{if(!n().default.isStatsigEnabled())throw new Error("Failed to override: Statsig not enabled");if(!r().A.isInitialized())throw new Error("Failed to override: Statsig not initialized")},q=()=>{var e;return null===(e=V())||void 0===e?void 0:e.getSpaceId()},Y=()=>{var e;return null===(e=Ne().default.state.currentUserStore)||void 0===e?void 0:e.id},J=async t=>{const o=q(),n=Y(),r=`${"production"}-main-usw2-0001`,i=await Ae().callApi({eventName:"getSpacesInitial",environment:e,data:{},headers:{[m().tx]:r}});if(o&&n&&"success"===i.type){const e=i.data.fanoutData,t=(null==e?void 0:e.filter((({request:e})=>e.users[n].some((({spaceId:e})=>e===o)))))||[];return t.length>0?t[0].headers[m().tx]:void 0}},Q=()=>{const e=V();if(e)return st(e,0)},Z=()=>{var t;const n=null===(t=Ne().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,r=e.currentUser.id;if(n&&r)return(0,o(90634).hj)({spaceId:n,userId:r})},X=async(t,r)=>{const i=await Ue().T.formulas.load(),a=V();if(!a)return;let s;(a.isPageBlock()||a.isCollectionViewPageWithContent())&&(s=a.getModel());const l=a.getRecordModel,c=l({id:t,spaceId:a.getSpaceId(),table:y().yB});if(!c)return;const d=(0,o(68465).t1)(e),m=c.getActionPointers().map((e=>l(e))).filter(w().O9);return m.length===c.getActionIds().length?(0,o(310109).typecheckAutomation)("button_block"===r?{actionModels:m,automationModel:c,assistantFeatureGate:d,checkExperimentGate:e=>n().default.checkGate({gateName:e}),contextType:r,formulasModule:i,getRecordModel:l,intl:(0,p()._z)(),isSubscribed:(0,$e().y4)(),pageBlockModel:s,userTimeZone:(0,u().P)(),valueTypes:[],env:"production"}:{actionModels:m,automationModel:c,assistantFeatureGate:d,checkExperimentGate:e=>n().default.checkGate({gateName:e}),contextType:r,formulasModule:i,getRecordModel:l,intl:(0,p()._z)(),isSubscribed:(0,$e().y4)(),userTimeZone:(0,u().P)(),valueTypes:[],env:"production"}):void 0},ee=async t=>{var n,r;const i=V();if(!i)throw new Error("Could not get current page");const a=Fe().d.createChildStore(i,{id:t,table:y().yB,spaceId:i.getSpaceId()}),[s,c,d]=await Promise.all([Ue().T.formulas.load(),Re().QV.automationTypecheck.load(),Re().QV.automationActionRegistry.load()]),u=Ne().default.state,p=await(0,o(329304).Se)(e,{name:"premium_automations",spaceId:null===(n=u.sidebarSpaceStore)||void 0===n?void 0:n.id,userId:null===(r=u.currentUserStore)||void 0===r?void 0:r.id});if(a.isTriggerType("button")){const n=a.getParentStore();if(!n)throw new Error("Could not get parent store");if(n instanceof He().B){var m;if(!n.isType(l().xd.button))throw new Error("Unexpected parent for button block automation");if(!i.isPageBlock())throw new Error("Current page must be a page block for button analysis");return(0,Ke().jl)({environment:e,automationActionRegistryModule:d,automationStore:a,automationTypecheckModule:c,blockStore:n,currentUserId:null===(m=e.currentUser)||void 0===m?void 0:m.id,isLoggedIn:e.currentUser.isLoggedIn(),formulasModule:s,intl:qe().A.getIntl(),isSubscribed:p,pageStore:i,parentRecordStore:a,type:"button_block"})}{var g;const r=Object.entries(n.getSchema()).find((([,e])=>"button"===(null==e?void 0:e.type)&&e.automation_id===t));if(!r)throw new Error("Could not find property schema for button automation");const[i,l]=r;if("button"!==(null==l?void 0:l.type))throw new Error("Expected button property schema");const u=new(o(688742).B)(e);return u.setContext({type:"collectionPage",collectionViewBlockStore:void 0,collectionStore:n}),(0,Ke().jl)({environment:e,automationActionRegistryModule:d,automationStore:a,automationTypecheckModule:c,collectionContextStore:u,currentUserId:null===(g=e.currentUser)||void 0===g?void 0:g.id,formulasModule:s,intl:qe().A.getIntl(),isLoggedIn:e.currentUser.isLoggedIn(),isSubscribed:p,parentRecordStore:a,property:i,propertySchema:l,type:"button_property"})}}if((0,We().$X)(a))return(0,Ke().sl)({environment:e,automationActionRegistryModule:d,automationTypecheckModule:c,automationStore:a,contextType:(0,We().H8)((0,Se().o9)(a.getTriggerType(),"Could not get trigger type")),formulasModule:s,intl:qe().A.getIntl(),isSubscribed:p});throw new Error("Unexpected automation type")},te=t=>{const o=Ne().default.state.currentUserSettingsStore,n=null==o?void 0:o.getSettings();if(!o||!n)return void console.error("Could not find current user settings");const r=e=>e?(0,c().K1)({date:e,daysToAdd:-t}):e;Te().createAndCommit({userAction:"debuggingHelpers.advanceAssistantOnboardingNDays",environment:e,canUndo:!0,userId:o.id,perform:e=>{Me().mJ({userSettingsStore:o,data:{last_exposed_to_ai_qna_at:r(n.last_exposed_to_ai_qna_at),last_used_ai_writer_at:r(n.last_used_ai_writer_at),ai_assistant_onboarding_phase_last_set_at:r(n.ai_assistant_onboarding_phase_last_set_at),ai_assistant_tutorial_dismissed_at:r(n.ai_assistant_tutorial_dismissed_at),ai_sales_assisted_extra_notification_seen_at:r(n.ai_sales_assisted_extra_notification_seen_at),qna_reminders_shown_at:(0,w().O9)(n.qna_reminders_shown_at)?n.qna_reminders_shown_at.map((e=>(0,c().K1)({date:e,daysToAdd:-t}))):void 0},transaction:e})}})},oe=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetNotionAiSidebarNewBadge",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{ai_sidebar_item_new_badge_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},ne=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetNotionAiWhatsNewSuggestion",environment:e,canUndo:!1,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{whats_new_in_agent_suggestion_last_interacted_at:null},transaction:e})}}):console.error("Could not find current user settings")},re=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetAiSearchModalItemDismissed",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{ai_search_modal_item_dismissed_by_user_without_ai_at:null},transaction:e})}}):console.error("Could not find current user settings")},ie=()=>{const t=Ne().default.state.sidebarSpaceViewStore;t&&Te().createAndCommit({userAction:"SidebarPersonalHomeSettings.markWelcomeAnimationAsSeen",environment:e,canUndo:!0,perform:e=>{const o=t.getSettingsStore().getKeyStore("personal_home").getKeyStore("seen_welcome_animation");ke().KY({store:o,transaction:e,value:!1})}})},ae=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetHomeSidebarNewBadge",environment:e,canUndo:!0,perform:e=>{Me().mJ({userSettingsStore:t,data:{personal_home_sidebar_item_clicked_at:null},transaction:e})}}):console.error("Could not find current user settings")},se=()=>{const t=Ne().default.state.sidebarSpaceViewStore;t?Te().createAndCommit({environment:e,userAction:"debuggingHelpers.resetDatabaseAISummaryDismiss",canUndo:!0,perform:e=>{Ce().AG(t,e,{dismissed_db_page_summary_suggestion:0})}}):console.error("Could not find current space view")},le=()=>{const t=Ne().default.state.sidebarSpaceViewStore;t?Te().createAndCommit({userAction:"githubAIConnector.onboarding.dismissPersonalAuthPrompt",environment:e,canUndo:!0,perform:e=>{t&&Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_github_personal_auth_prompt:!1}},transaction:e})}}):console.error("Could not find current user settings")},ce=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.clearQnAOnboarding",environment:e,canUndo:!0,userId:t.id,perform:e=>{var o;Me().mJ({userSettingsStore:t,data:{ai_qna_intro_onboarding_phase:null,last_exposed_to_ai_qna_at:null,last_used_ai_writer_at:null,qna_reminders_shown_at:null,ai_assistant_onboarding_phase:null,ai_assistant_tooltips_onboarding_phase:null,ai_onboarding_phase:null,ai_assistant_onboarding_phase_last_set_at:null,ai_sales_assisted_extra_notification_seen_at:null,ai_assistant_tutorial_dismissed_at:null,assistant_summarize_this_page_shown_at:void 0,ai_qna_abandoned_search_reminder_shown_at:void 0,callout_dismissal_timestamps:((null===(o=t.getSettings())||void 0===o?void 0:o.callout_dismissal_timestamps)??[]).filter((e=>"ai_assistant_announcement"!==e.name))},transaction:e})}}):console.error("Could not find current user settings")},de=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"AiSlackQnaNotificationTooltip.clearSlackQnaAnnouncementSeenAt",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),slack_universal_qna_announcement_seen_at:null}},transaction:e})}})},ue=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"JiraConnectionPending.clearJiraConnectionPending",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_jira_installation_pending_prompt:!1}},transaction:e})}})},pe=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"JiraUserAuthLogin.clearJiraUserAuthLogin",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_jira_user_auth_prompt:!1}},transaction:e})}})},me=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"JiraSelectProjects.clearJiraSelectProjects",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_jira_select_projects_prompt:!1}},transaction:e})}})},ge=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"JiraMigratePrompt.clearJiraMigratePrompt",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_jira_migrate_prompt:!1}},transaction:e})}})},fe=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"SlackV2UserConnectionPrompt.clearSlackV2UserConnectionPrompt",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_slack_v2_user_connection_prompt:!1}},transaction:e})}})},ye=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetTwoWayLimitAddRelationConfirmationDialog",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{relation_limit_confirmation_dialog_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},ve=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetAiPageTranslationPassiveSuggestions",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{ai_page_translation_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},_e=()=>{const t=Ne().default.state.currentUserSettingsStore;t&&Te().createAndCommit({userAction:"debuggingHelpers.resetAiLandingPageSeenOrDismissed",environment:e,canUndo:!0,perform:e=>{Me().mJ({userSettingsStore:t,data:{banner_or_ai_landing_page_seen_or_dismissed_at:null},transaction:e})}})},be=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t?Te().createAndCommit({userAction:"debuggingHelpers.resetAgentPersonalizationModalSeen",environment:e,canUndo:!0,perform:e=>{const o=t.getSettings()||{},n={...o,agent_personalization_settings:{...o.agent_personalization_settings||{},has_already_seen_personalization_settings_modal:!1}};Ce().AG(t,e,n),console.log("Agent personalization modal seen state has been reset")}}):console.log("No sidebar space view store found")},Je=()=>{const{sidebarSpaceViewStore:t}=Ne().default.state;t&&Te().createAndCommit({environment:e,userAction:"AiGoogleDriveQnaNotificationTooltip.clearGoogleDriveQnaAnnouncementSeenAt",canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),google_drive_universal_qna_announcement_seen_at:null}},transaction:e})}})},Qe=()=>{const t=Ne().default.state.sidebarSpaceStore,o=Ne().default.state.sidebarSpaceViewStore;t&&o?Te().createAndCommit({userAction:"debuggingHelpers.resetAssistantLeapSettings",environment:e,canUndo:!0,perform:e=>{ke().zv({store:t,data:{settings:{...t.getSettings(),enable_ai_training:void 0}},transaction:e}),Te().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings"],command:"update",args:{...o.getSettings(),has_user_seen_leap_modal:!1}},transaction:e})}}):console.error("Could not find current space")},Ze=()=>{const t=Ne().default.state.sidebarSpaceViewStore;t?Te().createAndCommit({userAction:"slackAIConnector.onboarding.dismissPersonalAuthPrompt",environment:e,canUndo:!0,perform:e=>{t&&Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),dismissed_slack_personal_auth_prompt:!1}},transaction:e})}}):console.error("Could not find current user settings")},Xe=()=>{const t=Ne().default.state.sidebarSpaceViewStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetOfflineSidebarCallout",environment:e,canUndo:!0,perform:e=>{Te().applyOperation({store:t,operation:{pointer:t.pointer,path:["settings"],command:"update",args:{...t.getSettings(),offline_mode_sidebar_callout_shown_count:0,offline_mode_sidebar_callout_last_shown_at:null}},transaction:e})}}):console.error("Could not find current space view store")},et=()=>{const{RouterStore:t}=e,n=Ne().default.state.sidebarSpaceStore;if(!n)return;const r=t.state.route;let i;if("chat"===r.name?i=r.threadId:"page"===r.name?i=r.chatThreadId:"agent"===r.name&&(i=r.agentChatThreadId??r.chatThreadId),!i)return;const a=o(796977).E.createChildStore(n,{id:i,spaceId:n.id,table:S().To});return{thread:a,messages:a.getMessageStores()}},tt=()=>{const{thread:e}=et()??{};return e?e.getTranscript():[]},ot=()=>{const{thread:e}=et()??{};if(!e)return[];return Ee().defaultClientAIChatStore.getOrCreateClientAIChatThreadStore(e.id).state.temporarySteps},nt=()=>{const{thread:e}=et()??{};return(0,o(791256).A3)({threadStore:e,clientStore:Ee().defaultClientAIChatStore}).steps},at=()=>{const t=tt(),o=new Map;for(const n of t)if("agent-inference"===n.type&&"string"!=typeof n.value){for(const r of n.value)if("tool_use"===r.type){const n=JSON.parse(r.content),i=()=>{const o=et();if(o)return Ae().callApi({environment:e,eventName:"runAgentTool",data:{toolName:r.name,transcript:t,input:r.content,threadId:o.thread.id,spaceId:o.thread.getSpaceId()}})};o.set(r.id,{id:r.id,toolName:r.name,input:n,replay:i})}}else if("agent-tool-result"===n.type&&n.toolCallId){const e=o.get(n.toolCallId);e&&(e.result=n.result??n.error)}else if("agent-debug-error"===n.type&&n.fromToolCallId){const e=o.get(n.fromToolCallId);e&&(e.result=n)}return[...o.values()]},lt=()=>(0,o(158489).XY)(tt()),ct=()=>{const t=Ne().default.state.currentUserSettingsStore;t&&Te().createAndCommit({userAction:"debuggingHelpers.resetStartedAgentChatThread",environment:e,canUndo:!0,perform:e=>{ke().zv({store:t,data:{settings:{...t.getSettings(),started_agent_chat_thread:!1}},transaction:e})}})},dt=()=>{const t=Ne().default.state.currentUserSettingsStore;t&&Te().createAndCommit({userAction:"debuggingHelpers.resetClickedOnAgentCornerEntryPoint",environment:e,canUndo:!0,perform:e=>{ke().zv({store:t,data:{settings:{...t.getSettings(),clicked_on_agent_corner_entry_point:!1}},transaction:e})}})},ut=()=>{var t,o,n,r,i;const{RouterStore:a}=e,s=a.state.route;if("page"!==s.name)return;const l=s.collectionViewId;if(!l)return void console.error("Must run this from a Form view");const c=null===(t=P(l,"collection_view"))||void 0===t?void 0:t.value;if(!c||"form_editor"!==c.type)return void console.error("Must run this from a Form view");const d=(null===(o=c.format)||void 0===o||null===(o=o.form_block_pointer)||void 0===o?void 0:o.id)??"",u=null===(n=P(d,"block"))||void 0===n?void 0:n.value;if(!u)return void console.error("Can't load form block");const p=(null===(r=u.format)||void 0===r||null===(r=r.form_layout_pointer)||void 0===r?void 0:r.id)??"",m=null===(i=P(p,"layout"))||void 0===i?void 0:i.value;m?(console.log("Form editor view: \n"),console.log(c),console.log("Form block: \n"),console.log(u),console.log("Form layout: \n"),console.log(m)):console.error("Can't load form layout")},pt=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetJiraOnboardingTourLaunch",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{tutorials:{"jira-sync-onboarding":"all-projects-tooltip"},jira_sync_onboarding_tour_state:"notSeen",seen_jira_sync_source_tooltip:!1},transaction:e})}}):console.error("Could not find current user settings")},mt=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetJiraTwoWaySyncInfoBanner",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{seen_jira_two_way_sync_info_banner:null},transaction:e})}}):console.error("Could not find current user settings")},gt=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetAuthMissingForJiraSyncedCollectionPageBanner",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{seen_auth_missing_for_jira_synced_collection_view_banner:!1},transaction:e})}}):console.error("Could not find current user settings")},ft=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetImproveJiraSyncPopup",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{seen_improve_jira_sync_popup:null},transaction:e})}}):console.error("Could not find current user settings")},yt=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetJiraSetupGuide",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{jira_sync_guide_dismissed_at:null},transaction:e})}}):console.error("Could not find current user settings")},vt=async()=>{const{sidebarSpaceStore:t,sidebarSpaceViewStore:n,currentUserSettingsStore:r,currentUserStore:i}=Ne().default.state;if(t){const a=await(0,o(448433).h)({environment:e,sidebarSpaceStore:t,sidebarSpaceViewStore:n,currentUserSettingsStore:r,currentUserStore:i}),s=new Map;return a.getAllBlocks().forEach((e=>{e.block.source.forEach((t=>{const o=s.get(t)||[];o?s.set(t,[...o,e.block]):s.set(t,[e.block])}))})),{...a,groupedPages:s}}},ht=async()=>{var t;const o=null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.getDedicatedWorkerConnection_DEBUG_ONLY();if(!o)throw new Error("Browser SQLite is not active here!");await o.completelyRebuildSqliteDb(),console.log("Browser SQLite DB successfully reset!")},St=async()=>{try{var t;await(null===(t=e.defaultRecordCache.persistedRecordCache)||void 0===t?void 0:t.reset()),o(959462).A.reset()}catch(n){console.error("Error resetting SQLite:",n)}finally{console.log("SQLite reset successfully")}},_t=async(t="unread_and_read",o=20,n="en-US")=>{const r=q();if(r){const i=await Ae().callApi({eventName:"getNotificationsForInbox",environment:e,data:{spaceId:r,size:o,type:t,locale:n}});console.log(i)}else console.log("no space id")},bt=t=>{const n=o(388821).RecordMapWithRole.create();for(const[o,r]of Object.entries(t)){if(!h().bI(o)||!Array.isArray(r))throw new Error(`Not a table: ${o}. Argument should be like { block: [id1, id2], collection: [...], ... }`);for(const t of r){const r={table:o,id:t},i=e.defaultRecordCache.inMemoryRecordCache.getRecord({pointer:r,userId:e.currentUser.id});i&&n.setValueAndRole(r,i.value,i.role)}}return n},At=e=>bt(e).toRecordMap(),It=()=>{const t=V();t&&(0,o(198874).l)({environment:e,pageStore:t,duplicateToLocation:"private_pages",triggeredFrom:"debugging_helper"})},wt=()=>{const t=V();if(!t)return;const r=(new he).mapPageToXML({pagePointer:t.getSpaceShardedPointer(),intl:(0,p()._z)(),getRecordModel:e.defaultRecordCache.inMemoryRecordCache.makeGetRecordModelFn(e.currentUser.id),serverOrClientConfig:{domainBaseUrl:a().A.domainBaseUrl,publicDomainBaseUrl:a().A.publicDomainName},experimentService:n().default,formulasModule:d(),spaceIdCreator:e.idCreator.getSpaceIdCreatorSync(t.getSpaceId())});return(0,o(412412)._o)(r)},xt=async t=>await(0,o(883777).p)({environment:e,chatTranscriptStorageStep:t,chatStartTimestamp:Date.now(),makeActiveSession:!0}),kt=()=>{const t=Ne().default.state.currentUserSettingsStore;t?Te().createAndCommit({userAction:"debuggingHelpers.resetAssistantSuggestionExposure",environment:e,canUndo:!0,userId:t.id,perform:e=>{Me().mJ({userSettingsStore:t,data:{ai_suggested_skill_exposure_tracker:null},transaction:e})}}):console.error("Could not find current user settings")},Ct=()=>{console.error("Mock connector statuses are not enabled in production")},Pt=()=>{xe().ZC.setState(!1)},Tt=(t,o)=>{if(xe().ZC.state)try{xe().Wh(e,t,o),console.log("Setting mock connector status for",t,o)}catch(n){console.error(n)}else console.error("Mock connector statuses are not enabled")},Mt=(t=2500)=>{xe().jx(e,t).catch((e=>{console.error(e)})).finally((()=>{console.log("Mock connector statuses run through complete.")}))},Et=e=>{(0,i().Py)(e),console.info(`[Info] Debugging for feature gate ${e} turned on. This will print evaluations every time when the gate is checked on the client.`)},Rt=e=>{(0,i().JK)(e),console.info(`[Info] Debugging for ${e?"":"all "}feature gate ${e?e+" ":""}turned off.`)},Ut=e=>{(0,i().XL)(e),console.info(`[Info] Debugging for experiment ${e} turned on. This will print evaluations every time when the experiment is checked on the client.`)},Dt=e=>{(0,i().Bu)(e),console.info(`[Info] Debugging for ${e?"":"all "}experiment ${e?e+" ":""}turned off.`)},Ot=()=>{i().LX.setState({isStatsigUserDiffDebuggingEnabled:!0}),console.info("[Info] Debugging for statsig user diff turned on. This will print statsig user every time when the statsig user is changed.")},Vt=()=>{i().LX.setState({isStatsigUserDiffDebuggingEnabled:!1}),console.info("[Info] Debugging for statsig user diff turned off.")},Bt=t=>{var o;const n=Ne().default.state.currentUserSettingsStore;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.exposed_to_adoption_feature_experiment;Te().createAndCommit({environment:e,userAction:"debuggingHelpers.resetAdoptionFeatureExperimentExposure",canUndo:!0,cellTarget:"main",perform:e=>{Me().mJ({userSettingsStore:n,transaction:e,data:{exposed_to_adoption_feature_experiment:{...r||{},[t]:[]}}})}})},Nt=t=>{var o;const n=Ne().default.state.currentUserSettingsStore;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.dismissed_adoption_feature_experiment;Te().createAndCommit({environment:e,userAction:"debuggingHelpers.resetAdoptionFeatureExperimentDismissed",canUndo:!0,cellTarget:"main",perform:e=>{Me().mJ({userSettingsStore:n,transaction:e,data:{dismissed_adoption_feature_experiment:{...r||{},[t]:void 0}}})}})},Lt=async t=>{if(t)try{const o=await Ae().callApi({eventName:"getLifecycleUserProfile",environment:e,data:{userId:t}});if("success"===o.type&&o.data.success){const e=o.data;return console.log("Lifecycle User Profile:",e),e}return void console.log("Failed to get lifecycle user profile:",o)}catch(o){return void console.error("Error getting lifecycle user profile:",o)}else{const e=Oe().k.getProfile();console.log("Lifecycle User Profile:",e)}};function Ft(e,t){Oe().k.setProfile(t,e)}function Ht(){return De().a.getRecentEvents()}function jt(e){return De().a.getEventsByType(e)}function zt(){return De().a.reset()}return{getRecordFromApi:t,getRecordFromCache:P,getAdminUrl:E,getSelectedBlocks:()=>je().default.state.stores,openInAdmin:R,openSelectedBlocksInAdmin:U,openCurrentPageCreatorInAdmin:H,getCurrentPage:V,getCurrentLayoutStore:()=>{var e,t;const n=Ve().g.state.isOpen&&"layout-editor"===Ve().g.state.mode&&Ve().g.state.collectionStore;if(n){var r,i;const e=null===(r=o(878423).A.state.caches[o(342).oB])||void 0===r?void 0:r.inMemoryRecordCache;return null===(i=n.getLayoutStore())||void 0===i?void 0:i.clone(e)}const a=null===(e=Ne().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.getAssociatedLayoutStore();if(a)return a;const s=n?[n]:(null===(t=Ne().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.getOwnedAndLinkedCollectionStores())??[];if(0===s.length)return void console.error("Collection pages use layouts, but can't find a collection page in the main editor.");const l=s.map((e=>e.getLayoutStore())).filter(w().O9);if(0!==l.length)return l.length>1&&console.error("Multiple layout stores found, returning first one"),l[0];console.error("This collection doesn't have a layout in main editor.")},addDuplicateContentTabToCurrentLayout:B,removeAllCollectionPageSections:N,setPageSectionVisibility:L,getCurrentNormalizedPropertyGroups:()=>{if(!Ne().default.state.mainEditorCurrentBlockStore)return void console.error("No current mainEditorCurrentBlockStore");const e=Ne().default.state.mainEditorCurrentBlockStore.getAssociatedCollectionStore()||Ne().default.state.mainEditorCurrentBlockStore.getCollectionStore();if(e)return e.getNormalizedPropertyGroups();console.error("Property groups are stored on collections but can't find collection in main editor.")},openCurrentPageInAdmin:O,openCurrentSpaceInAdmin:D,quickFind:(e,t="1",o,n)=>{const r=j(e,t,o,n),i=Ye().Uc(r);return i&&i.then((e=>"success"===e.type?e.data:e))},quickFindRequest:(e,t="1",o,n)=>j(e,t,o,n),quickFindCollections:z,getCurrentPageDetail:M,getHomeBlockIdsForUser:Z,getRecordStore:x,getRecordDetail:T,getRecordTitle:k,getRecordTree:K,overrideStatsigLocalExperiment:(e,t)=>{W(),r().A.updateLocalOverrideConfig(e,t)},overrideStatsigLocalFeatureGate:(e,t)=>{W(),r().A.updateLocalOverrideGate(e,"true"===t||!0===t)},removeAllStatsigLocalOverrides:()=>{W(),r().A.removeAllLocalOverrides()},getCurrentSpaceId:q,getCurrentUserId:Y,getAutomationsForSelectedBlocks:()=>je().default.state.stores.map((e=>st(e,0))).filter(w().O9),getAutomationsForCurrentPage:Q,getCurrentThread:et,getCurrentThreadSteps:tt,getCurrentTemporarySteps:ot,getCurrentSteps:nt,getCurrentThreadToolUses:at,getCurrentThreadOperations:lt,resetStartedAgentChatThread:ct,resetClickedOnAgentCornerEntryPoint:dt,debugCompileAutomation:X,getAutomationAnalysis:ee,generateTutorialData:(e,t,o)=>{const n="production";if("development"!==n&&"local"!==n)return;const r=o??Ne().default.state.mainEditorCurrentBlockStore,i=null==r?void 0:r.getType(),a=null==r?void 0:r.getProperties(),s=null==r?void 0:r.getFormat();if(!(r&&i&&a&&s))return void console.log(`Missing one of these: ${JSON.stringify({rootBlockStore:r,type:i,properties:a,format:s})}`);function l(e,t){const o=t.getContentStores();return C().Bq(o.map(((t,o)=>{const n=t.getType(),r=t.getProperties(),i=t.getFormat();if(!n||!r||!i)return;return[{uri:`${e}/${o}`,type:"block",parentUri:e,parentType:"block",blockValue:{type:n,properties:r,format:i}},...l(`${e}/${o}`,t)]}))).filter(w().O9)}const c=[{uri:e,type:"block",parentUri:t,parentType:"collection",blockValue:{type:i,properties:a,format:s}},...l(e,r)];function d(t){const o=t.replace(e,"").split("/");return C().xQ(e)+o.join("_")}const u={},p=c.map((t=>{const o=t.uri;return JSON.stringify(t,((n,r)=>{if("uri"===n||"parentUri"===n)return["<<<START>>>","`",r.replace(e,"${uri}"),"`","<<<END>>>"].join("");if("title"===n&&Array.isArray(r)&&"image"!==t.blockValue.type){const e=[];for(const[t,n]of r.entries()){if(n.length>1&&"a"===n[1][0][0])return n;const r=d(`${o}/${t}`),i=[["<<<START>>>",`LocalizationHelper.formatMessage(messages.${r})`,"<<<END>>>"].join(""),...n.slice(1)];u[r]={defaultMessage:n[0],id:r,description:"Page template's content"},e.push(i)}return e}return r}))})).map((e=>e.replace(/"<<<START>>>/g,"").replace(/<<<END>>>"/g,"").replace(/<<<QUOTE>>>/g,'"')));return`\n\t\t\tconst messages = defineMessages({\n\t\t\t\t${(0,w().WP)(u).map((([e,t])=>`"${e}": {\n\t\t\t\t\t\t\t\t\tid: "${t.id}",\n\t\t\t\t\t\t\t\t\tdefaultMessage: \`${t.defaultMessage}\`,\n\t\t\t\t\t\t\t\t\tdescription: "${t.description}",\n\t\t\t\t\t\t\t\t}`)).join(",\n")}\n\t\t\t})\n\t\t\tconst uri = "${e}"\n\t\t\treturn [\n\t\t\t\t${p.join(", ")}\n\t\t\t]`},setHomeTemplatesPersona:e=>{const t=[...Be().U7.map((e=>({personaValue:{type:"function",persona:e},key:`function - ${e}`}))),...Be().mh.map((e=>({personaValue:{type:"space_intent",persona:e},key:`space_intent - ${e}`}))),...Be().Ol.map((e=>({personaValue:{type:"space_type",persona:e},key:`space_type - ${e}`})))],n=t.find((t=>t.key===e));n?o(769705).A.setState(n.personaValue):console.error("input must be one of the following values",t.map((e=>e.key)))},setHomeLearnUserType:e=>{const t={isMultiplayer:e.isMultiplayer??!1,isNewAccount:e.isNewAccount??!1,isWorkspaceOwner:e.isWorkspaceOwner??!1,isOnTrial:e.isOnTrial??!1,persona:e.persona};o(116499).A.setState(t)},advanceAssistantOnboardingNDays:te,printAllFormsDataModel:ut,resetJiraOnboardingTourLaunch:pt,resetJiraTwoWaySyncInfoBanner:mt,resetAuthMissingForJiraSyncedCollectionPageBanner:gt,resetImproveJiraSyncPopup:ft,resetJiraSetupGuide:yt,getAllUserSignals:I,loadAllUserSignals:f,getLocalSearchableCache:vt,saveFileFromOpfs:async e=>{const t=await navigator.storage.getDirectory(),o=await(await t.getFileHandle(e)).getFile(),n=document.createElement("a");n.href=URL.createObjectURL(o),n.download=e,n.click()},resetBrowserSqlite:ht,resetSqliteForOffline:St,resetNotionAiSidebarNewBadge:oe,resetAiSearchModalItemDismissed:re,resetNotionAiWhatsNewSuggestion:ne,resetWelcomeHomeAnimation:ie,resetHomeSidebarNewBadge:ae,resetDatabaseAISummaryDismiss:se,getNotificationsforInbox:_t,createRecordMapWithRole:bt,createRecordMap:At,findId:rt.bind(null,e),editRecordJson:s,updateRecordJson:g,duplicateTranslatedPage:It,loadAssistantChatTranscriptStorageStep:xt,resetGithubPersonalAuthPrompt:le,resetSlackPersonalAuthPrompt:Ze,resetOfflineSidebarCallout:Xe,getTranslatedPageXml:wt,resetAssistantSuggestionExposure:kt,resetGoogleDriveOnboarding:Je,resetSlackOnboarding:de,resetAssistantOnboarding:ce,resetAssistantLeapSettings:Qe,resetTwoWayLimitAddRelationConfirmationDialog:ye,resetAiPageTranslationPassiveSuggestions:ve,resetAiLandingPageSeenOrDismissed:_e,resetAgentPersonalizationModalSeen:be,getCurrentCellId:J,turnOnMockConnectorStatuses:Ct,setMockConnectorStatus:Tt,runThroughAllMockConnectorStatuses:Mt,turnOffMockConnectorStatuses:Pt,resetJiraConnectionPending:ue,resetJiraUserAuthLogin:pe,resetJiraSelectProjects:me,resetJiraMigratePrompt:ge,resetSlackV2UserConnectionPrompt:fe,enableDebuggingForFeatureGate:Et,disableDebuggingForFeatureGate:Rt,enableDebuggingForExperiment:Ut,disableDebuggingForExperiment:Dt,enableDebuggingForStatsigUserDiff:Ot,disableDebuggingForStatsigUserDiff:Vt,resetAdoptionFeatureExperimentExposure:Bt,resetAdoptionFeatureExperimentDismissed:Nt,getLifecycleUserProfile:Lt,setLifecycleUserProfile:Ft,getRecentEvents:Ht,getRecentEventsByType:jt,resetRecentEvents:zt}}(e);for(const[n,r]of Object.entries(t))(0,o(852832).exposeDebugValue)(n,r);return t}))},173783:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(658985),r=()=>o(903047),i=o(474848);function a(e){const t=(0,r().E)(e),o=(0,n().$)(t.icon);return(0,i.jsx)("div",{style:t.iconContainer,children:o})}},176412:(e,t,o)=>{o.d(t,{L:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"0.97 2.72 18.06 14.56",svg:(0,o(474848).jsx)("path",{d:"M3.893 2.875a.626.626 0 0 1 .79-.02l.091.088.128.148.015.033.072.105 11.27 13.148a.623.623 0 0 1-1.033.68l-1.616-1.884c-1.12.408-2.338.633-3.61.633-3.757 0-7.049-1.946-8.707-4.843l-.155-.283a1.46 1.46 0 0 1 0-1.359l.155-.283c.89-1.554 2.25-2.834 3.898-3.687L3.825 3.757l-.072-.105a.626.626 0 0 1 .14-.777M7.41 7.941a3.3 3.3 0 0 0-.717 2.056l.004.17A3.307 3.307 0 0 0 9.83 13.3l.17.004c.595 0 1.151-.161 1.634-.437l-1.52-1.773a1.104 1.104 0 0 1-1.18-1.377zM10 4.194c3.878 0 7.26 2.075 8.862 5.127l.074.164c.125.332.125.7 0 1.032l-.074.163a9.3 9.3 0 0 1-2.987 3.327l-2.69-3.138a3.3 3.3 0 0 0 .116-.702l.005-.17a3.31 3.31 0 0 0-3.136-3.303L10 6.691a3 3 0 0 0-.377.022L7.682 4.447A10.7 10.7 0 0 1 10 4.194"})},r=(0,o(340498).wt)("eyeSlashFill",n)},198491:(e,t,o)=>{o.d(t,{A:()=>l,e:()=>s});o(296540);var n=()=>o(662303),r=()=>o(69708),i=()=>o(412236),a=o(474848);function s({upsellTier:e}){return(0,a.jsx)(r().sA,{defaultMessage:"Upgrade to {upsellTier, select, plus {Plus} business {Business} enterprise {Enterprise} other {connect}}",id:"collectionSettings.connectedRelationUpsell.title",values:{upsellTier:e}})}function l({upsellTier:e,expirationDate:t,hasLearnMore:o}){return t?(0,a.jsx)(r().sA,{defaultMessage:"{upsellTier, select, plus {Plus plan} business {Business plan} enterprise {Enterprise plan} other {Upgrade}} will be required to access this feature starting on {expirationDate} {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.expiration.description",values:{upsellTier:e,expirationDate:t.setLocale(n().locale).toLocaleString({month:"long",day:"numeric"}),hasLearnMore:o,learnMoreLink:(0,a.jsx)(i().V,{})}}):(0,a.jsx)(r().sA,{defaultMessage:"{upsellTier, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} plan is required to access this feature {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.noExpiration.description",values:{upsellTier:e,hasLearnMore:o,learnMoreLink:(0,a.jsx)(i().V,{})}})}},198874:(e,t,o)=>{o.d(t,{l:()=>b});o(16280),o(898992),o(803949);var n=()=>o(564884),r=()=>o(584262),i=()=>o(179034),a=()=>o(96689),s=()=>o(973647),l=()=>o(534177),c=()=>o(910302),d=()=>o(857783),u=()=>o(319975),p=()=>o(231297),m=()=>o(213477),g=()=>o(966152),f=()=>o(765957),y=()=>o(430483),v=()=>o(77246),h=()=>o(148832),S=()=>o(50764),_=()=>o(825726);async function b(e){try{await async function(e){const{pageStore:t,environment:o,duplicateToLocation:_,triggeredFrom:b}=e,{currentUserStore:A,sidebarSpaceStore:I,sidebarSpaceViewStore:w}=f().default.state;if(!y().zD.isFullPageTranslateEnabled())throw new Error("Invalid call to duplicateTranslatedPage: full page translate is not enabled");if(!A||!I||!w)throw new Error("Cannot duplicate translated page: missing required stores");if(!(0,S().E)(o))throw new Error("Cannot duplicate translated page: user cannot create page");const x=v().Uv.getStateForBlock(t.id);if(!x)throw new Error("Cannot duplicate translated page: no editor mode state");if("translate_locked"!==x.mode||"active"!==x.status)throw new Error("Cannot duplicate translated page: invalid editor mode state");let k;if((0,n().u)({environment:o,event:{eventName:"duplicate_translated_page",eventProperties:{duplicate_to:_,triggered_from:b,page_id:t.id}}}),"parent"===_){const e=t.getParentStore();if("block"!==(null==e?void 0:e.table)&&"team"!==(null==e?void 0:e.table)&&"space"!==(null==e?void 0:e.table)&&"collection"!==(null==e?void 0:e.table))throw new Error("Cannot duplicate translated page: invalid parent store table");k=(0,g().LT)(e)}else"private_pages"===_?k={type:"space",parent:{table:a().NX,id:I.id,spaceId:I.getSpaceId()}}:(0,l().HB)(_);const C=await(0,m().hh)({environment:o,sourceBlocks:[t],destination:k,unlockPage:!0,options:{addCopyName:!1,returnRecordIdMap:!0,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0},skipUserFacingMessages:!0,from:"translate"});if(s().Q.isFail(C))return;const P=C.value.createdBlocks[0],T=C.value.recordIdMap;T&&function(e){const{environment:t,blockToTranslateStore:o,applyTranslationMap:n,recordIdMap:r}=e,a=c().Js({translationMap:n,recordIdMap:r});p().createAndCommit({userAction:"serverDuplicate.applyTranslationMap",environment:t,canUndo:!0,perform(e){for(const[n,r]of Object.entries(a)){const a=h().B.createChildStore(o,{table:i().ev,id:n,spaceId:o.getSpaceId()});let s;if("title"===r.mapping)s=a.getBlockTitleStore();else if("caption"===r.mapping)s=a.getPropertyStore("caption");else{if("unmapped"===r.mapping)continue;if("properties"===r.mapping){Object.entries(r.properties??{}).forEach((([o,n])=>{const r=a.getPropertyStore(o);u().R9({environment:t,store:r,value:n.value,transaction:e})}));continue}(0,l().HB)(r.mapping)}u().R9({environment:t,store:s,value:r.value,transaction:e})}}})}({environment:o,blockToTranslateStore:P,applyTranslationMap:x.translationMap,recordIdMap:T});d().uK({environment:o,store:P,pageVisitSource:r().y8.SavePageTranslationCopy}),c().DL({pageStore:t,environment:o,triggeredFrom:"navigation"})}(e)}catch(t){(0,_().l)(t)}}},219348:(e,t,o)=>{o.d(t,{DV:()=>v,EQ:()=>g,Mu:()=>f,Nr:()=>y,cP:()=>u,m0:()=>m,m2:()=>d,s8:()=>p});o(898992),o(354520),o(672577);var n=()=>o(242422),r=()=>o(56366),i=()=>o(84520),a=()=>o(821062),s=()=>o(72234),l=()=>o(231297),c=()=>o(765957);const d={"baseball-cap":"permanent",bow:"permanent",cat:"permanent",cherry:"permanent",cowboy:"permanent",crown:"permanent",duck:"permanent",firefighter:"permanent",flower:"permanent",glasses:"permanent",headphone:"permanent",leaf:"permanent",magician:"permanent",mustache:"permanent",paprika:"permanent",pencil:"permanent",propeller:"permanent","safety-hat":"permanent",scarf:"permanent","seasonal-bat":"october25","seasonal-demon":"october25","seasonal-frankenstein":"october25","seasonal-pumpkin":"october25"};function u(e){const{store:t,from:o}=e;if(t.update((e=>({...e,isOpen:!0,openCount:e.openCount+1,from:o||"unknown"}))),e.shouldSetSeenPersonalizationSettingsModal){const{sidebarSpaceViewStore:t}=c().default.state;t&&l().createAndCommit({environment:e.environment,userAction:"AgentPersonalizationSettings.markSeen",canUndo:!1,perform:e=>{const o=t.getSettings()||{},n={...o,agent_personalization_settings:{...o.agent_personalization_settings||{},has_already_seen_personalization_settings_modal:!0}};s().AG(t,e,n)}})}}function p(e){const{store:t}=e;t.update((e=>({...e,isOpen:!1})))}function m(e){const{store:t}=e;return t.state.isOpen}function g(e){const{store:t}=e;return t.state.from||"unknown"}function f(e){var t;const{environment:o,agentName:n,customizationItems:r,newPageIdToAdd:i,contextPageId:d}=e,{sidebarSpaceViewStore:u}=c().default.state;if(!u)return;const p=null===(t=u.getSettings())||void 0===t?void 0:t.agent_personalization_settings;let m=(null==p?void 0:p.recently_used_pages)||[];i&&(m=m.filter((e=>e.page_id!==i)),m.unshift({page_id:i,used_at:Date.now()}),m=m.slice(0,10));const g={name:n,customization_items:r,context_page_id:d,recently_used_pages:m.length>0?m:void 0,has_already_seen_personalization_settings_modal:(null==p?void 0:p.has_already_seen_personalization_settings_modal)||!0};(0,a().A)(g,p)||l().createAndCommit({environment:o,userAction:"AgentPersonalizationSettings.save",canUndo:!0,perform:e=>{const t=u.getSettings()||{},o={...t,agent_personalization_settings:{...t.agent_personalization_settings||{},...g}};s().AG(u,e,o)}})}function y(){return(0,r().K8)((()=>{const e=n().default.getConfigKey("agent_seasonal_accessories","batch"),t=n().default.getConfigKey("agent_seasonal_accessories","batch_expiration_time"),o=t&&new Date(t)<new Date;return i().sy.filter((t=>{const n=d[t];return"permanent"===n||n===e&&!o}))}),[])}function v(e){const t=y();return(0,r().K8)((()=>{var o,r;const a=null==e||null===(o=e.getSettings())||void 0===o?void 0:o.agent_personalization_settings;if(null!=a&&null!==(r=a.customization_items)&&void 0!==r&&r[0]){const e=a.customization_items[0];if(t.includes(e))return e}const s=n().default.getEligibleGroup({experimentId:"nosy_default_accessory"}),l=(null==a?void 0:a.has_already_seen_personalization_settings_modal)??!1;if(s&&"control"!==s&&!l){const e=i().sy.find((e=>e===s));if(e)return e}}),[e,t])}},256863:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(56366),r=()=>o(824862),i=o(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:c}=e,d=(0,o(69708).tz)(),u=(0,n().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:r().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:r().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,n().K8)((()=>(null==a?void 0:a.getDisplayName(d))??(0,o(799288).Hg)(t)),[a,t,d]),{activeDotStyle:m}=(0,o(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.palette.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",insetInlineStart:11,top:11}})),[]);return(0,i.jsxs)("div",{style:l,children:[(0,i.jsx)(o(187820).B6,{icon:u,title:p,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,i.jsx)("div",{style:m}):void 0]})}},265665:(e,t,o)=>{o.d(t,{j:()=>c});var n=o(296540),r=()=>o(484714),i=()=>o(401497),a=()=>o(284371),s=()=>o(859428);var l=o(474848);function c({children:e,style:t,tooltipStyle:o,placement:c="bottom"}){const{isSafari:d}=(0,r().Y0)(),u=(0,n.useRef)(null),p=function(e){const[t,o]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void o(!1);const n="ResizeObserver"in window?new ResizeObserver((([e])=>{o(e.target.scrollWidth>e.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(u),m=(0,i().IS)((()=>({overflowText:{...a().RC,...t}})),[t]);return(0,l.jsx)(s().A,{delayThreshold:500,placement:c,textWrap:!0,style:o,forceVisibleState:!(d||!p)&&void 0,renderTooltip:()=>p?e:void 0,render:t=>(0,l.jsx)("div",{ref:u,style:m.overflowText,...t,children:e})})}},289190:(e,t,o)=>{o.d(t,{m:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{type:"uninitialized"}}isWriting(){return"filling"===this.state.type&&!this.state.haveAllBlocksCompletedAutofill&&!this.state.didInterruptStreaming}setIsWriting(e){const{propertySchema:t,stores:n,sessionIdForAnalytics:r,collectionId:i}=e,a=r||o(206267).JW();return this.setState({type:"filling",propertySchema:t,collectionId:i,numBlocksToAutofill:n.length,numBlocksAutofilled:0,sessionId:a,didInterruptStreaming:!1,haveAllBlocksCompletedAutofill:!1}),a}}const r=new n},300985:(e,t,o)=>{o.d(t,{Z:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.49 2.37 15.01 15.25",svg:(0,o(474848).jsx)("path",{d:"M7.154 3.625h1.23a.625.625 0 1 0 0-1.25h-1.23A2.625 2.625 0 0 0 4.529 5v2.069c0 .9-.508 1.722-1.313 2.124l-.317.159a.725.725 0 0 0 0 1.297l.317.158a2.38 2.38 0 0 1 1.313 2.124V15a2.625 2.625 0 0 0 2.625 2.625h1.23a.625.625 0 1 0 0-1.25h-1.23c-.76 0-1.375-.616-1.375-1.375v-2.069c0-1.17-.564-2.256-1.492-2.931a3.63 3.63 0 0 0 1.492-2.931V5c0-.76.615-1.375 1.375-1.375m5.692 12.75h-1.23a.625.625 0 1 0 0 1.25h1.23A2.625 2.625 0 0 0 15.471 15v-2.069c0-.9.508-1.722 1.313-2.124l.317-.159a.725.725 0 0 0 0-1.296l-.317-.159a2.38 2.38 0 0 1-1.313-2.124V5a2.625 2.625 0 0 0-2.625-2.625h-1.23a.625.625 0 1 0 0 1.25h1.23c.76 0 1.375.616 1.375 1.375v2.069c0 1.17.564 2.256 1.492 2.931a3.63 3.63 0 0 0-1.492 2.931V15c0 .76-.615 1.375-1.375 1.375"})},r=(0,o(340498).wt)("curlyBraces",n)},310109:(e,t,o)=>{o.r(t),o.d(t,{getAllContextValues:()=>v,getContextValueForActionById:()=>S,getContextValuesForAction:()=>h,typecheckAutomation:()=>f,typecheckAutomationAsync:()=>y});o(944114),o(898992),o(581454),o(737550);var n=()=>o(496603),r=()=>o(973647),i=()=>o(534177),a=()=>o(999515),s=()=>o(239381),l=()=>o(81768),c=()=>o(638458),d=()=>o(322867),u=()=>o(281994),p=()=>o(648651),m=()=>o(103966);function*g(e){const{actionModels:t,automationModel:o,contextType:g,formulasModule:f,runtimeStats:y}=e,v={valueTypes:e.valueTypes,actionInputValueTypes:{},actionValidationFailures:{}},h=performance.now();let S,_,b;if("button_block"===g||"button_property"===g){if(!o.isButtonType())return{error:new(d().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else if("event"===g){if(!o.isEventType())return{error:new(d().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else if("recurrence"===g){if(!o.isRecurrenceType())return{error:new(d().N9)(`Automation trigger (${o.getTriggerType()}) does not match context type (${g}).`)};const t=o.getTrigger();b=(0,m().Z)(o.getTriggerType()).typecheck(e,t)}else(0,i().HB)(e);if(r().Q.isFail(b))return b;v.valueTypes.push(...n().o8(b.value.valueTypes));for(const i of t){S=void 0,y&&(S=p().hs.getOrCreateAction(y,i.pointer,i.getType()));const t=(0,l().getActionRegistryItem)(i.getType());if(!t){_={error:new(d().oM)({actionId:i.id,message:`Unsupported action type: ${i.getType()}`})};break}const m=performance.now(),g=(0,c().Q)({automationModel:o,formulasModule:f,formulaValueTypes:v.valueTypes,checkExperimentGate:e.checkExperimentGate}),h=(0,u().HI)(yield*t.resolveExecutionDependencies(g,i));yield*a().q.fetchRecords(h.map((e=>e.pointer))),S&&(S.totalDependencies=h.length,S.getDependenciesDurationMs=Math.trunc(performance.now()-m));const b=t.typecheck(e,i),A=n().o8(v.valueTypes);if(v.actionInputValueTypes[i.id]=A,r().Q.isFail(b)){_=b;break}for(const e of b.value.valueTypes??[]){v.valueTypes.some((t=>(0,s().oH)(e,t)))||v.valueTypes.push(e)}b.value.validationFailures&&b.value.validationFailures.length>0&&(v.actionValidationFailures[i.id]=b.value.validationFailures)}const A=Math.trunc(performance.now()-h);return y&&(y.typecheckStartTime=h,y.typecheckDurationMs=A,y.typecheckSuccess=!(0,i().O9)(_)),_??{value:v}}function f(e){return a().q.runSync(e.getRecordModel,g(e))}async function y(e){return await a().q.runAsync(e.loadRecordModel,g(e))}function v(e){return r().Q.isFail(e)?[]:e.value.valueTypes.slice(0)}function h(e,t){return r().Q.isFail(e)?[]:e.value.actionInputValueTypes[t]??[]}function S(e,t,o){const n=h(e,t);return(0,s().IV)(n,o)}},367424:(e,t,o)=>{o.d(t,{D:()=>p});o(296540);var n=()=>o(401497),r=()=>o(252291),i=()=>o(532940),a=()=>o(284371),s=()=>o(198491),l=()=>o(859428),c=()=>o(553965),d=()=>o(817126),u=o(474848);function p({propertySchema:e}){const t=(0,d().kg)(e);return t?(0,u.jsx)(m,{featureName:t}):null}function m({featureName:e}){const t=(0,n().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:4,width:200,textWrap:"wrap"},title:{lineHeight:a().K_.UISmall.desktop,fontSize:a().J.UISmall.desktop},description:{lineHeight:a().K_.UISmall.desktop,fontSize:a().J.UISmall.desktop,color:e.text.secondary}})),[]),o=(0,d().uF)({featureName:e});if(null==o||!o.upsell)return null;const{upsellTier:p,expirationDate:m}=o;return(0,u.jsx)(l().A,{placement:"top",render:e=>(0,u.jsx)("div",{...(0,c().A)(e),children:(0,u.jsx)(r().I,{icon:i().exclamationMarkTriangleIcon,colorPalette:"yellow",colorVariant:"accentPrimary",style:{padding:2}})}),renderTooltip:()=>(0,u.jsxs)("div",{style:t.container,children:[(0,u.jsx)("div",{style:t.title,children:(0,u.jsx)(s().e,{upsellTier:p})}),(0,u.jsx)("div",{style:t.description,children:(0,u.jsx)(s().A,{expirationDate:m,upsellTier:p})})]})})}},388182:(e,t,o)=>{o.d(t,{A:()=>n});const n=o(757695).Store.createValue({open:!1},{name:"ConfirmOverwriteModalStore"})},408839:(e,t,o)=>{o.d(t,{t:()=>l});o(296540);var n=()=>o(56366),r=()=>o(112886),i=()=>o(115314),a=()=>o(763870),s=o(474848);function l({collectionStore:e,property:t,propertySchema:o,style:l,blockStore:c}){const d=(0,a().i)({collectionStore:e,property:t,propertySchema:o,blockStore:c}),u=(0,n().K8)((()=>{if(!d)return null;const{role:e}=d,t=o.name;return(0,i().v)(e,t)}),[d,o.name]),p=(0,r().keyFillSmallIcon)({width:12,height:12,verticalAlign:"middle",display:"inline-block",marginBottom:2});return u?(0,s.jsxs)("span",{style:l,children:[p," ",u]}):null}},412236:(e,t,o)=>{o.d(t,{V:()=>d});var n=o(296540),r=()=>o(401497),i=()=>o(69708),a=()=>o(284371),s=()=>o(719147),l=o(474848);const c="https://www.notion.com/pricing";function d(){const[e,t]=(0,n.useState)(!1),o=(0,r().IS)((t=>({default:{color:t.blue.text.accentPrimary,textDecoration:e?"underline":"none",fontWeight:a().Wy.medium}})),[e]);return(0,l.jsx)(s().A,{href:c,external:!0,style:{...o.default},hoverColor:"blue",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,l.jsx)(i().sA,{id:"PackingChangeLearnMore.learnMore",defaultMessage:"Learn more"})})}},427636:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(e){const{botStore:t,avatarSize:r,shouldShowBadge:i,style:a,inline:s}=e,l=(0,o(69708).tz)(),c=(0,o(484714).Y0)(),d=(0,o(56366).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:p,badgeStyle:m}=(0,o(401497).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...a},avatarWrapStyle:s?{width:"none",minHeight:"none",marginInlineEnd:6}:{marginInlineEnd:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:o(726637).A.isMobile?11:9,lineHeight:c.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginInlineStart:8,marginTop:1}})),[a,s,c]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:p,children:(0,n.jsx)(o(256863).A,{botStore:t,size:r})}),(0,n.jsx)("div",{style:{...o(284371).RC},children:d}),i?(0,n.jsx)("div",{style:m,children:"Bot"}):void 0]})}},435930:(e,t,o)=>{o.d(t,{s:()=>i});var n=()=>o(69708);const r=(0,n().YK)({PROPERTY_MODULE_MESSAGE:{id:"pageLayoutEditor.property",defaultMessage:"Property"},TITLE_WITH_ICON_MESSAGE:{id:"pageLayoutEditor.titleWithIcon",defaultMessage:"Heading"},COLLECTION_VIEW_MESSAGE:{id:"pageLayoutEditor.collectionView",defaultMessage:"Database View"}}),i=(0,n().YK)({cover:{id:"pageLayoutEditor.cover",defaultMessage:"Cover"},properties:{id:"pageLayoutEditor.properties",defaultMessage:"Property group"},inlinePageSections:{id:"pageLayoutEditor.inlinePageSections",defaultMessage:"Inline Page Sections"},expandedBacklinks:{id:"pageLayoutEditor.expandedBacklinks",defaultMessage:"Backlinks"},discussions:{id:"pageLayoutEditor.discussions",defaultMessage:"Page discussions"},editor:{id:"pageLayoutEditor.editor",defaultMessage:"Content"},tabs:{id:"pageLayoutEditor.tabs",defaultMessage:"Tabs"},transcript:{id:"pageLayoutEditor.transcript",defaultMessage:"Transcript"},bottomControls:{id:"pageLayoutEditor.bottomControls",defaultMessage:"Bottom Controls"},selectAModulePrompt:{id:"pageLayoutEditor.selectAModuleTitle",defaultMessage:"Select a module to configure"},deleteModuleButton:{id:"pageLayoutEditor.deleteModuleButton",defaultMessage:"Delete"},views:{id:"pageLayoutEditor.views",defaultMessage:"Views"},viewsMain:{id:"pageLayoutEditor.views",defaultMessage:"Views"},relationsGroup:{id:"pageLayoutEditor.relationsGroup",defaultMessage:"Relations group"},formTitle:{id:"pageLayoutEditor.formTitle",defaultMessage:"Form Title"},formQuestion:{id:"pageLayoutEditor.formQuestion",defaultMessage:"Form Question"},formSubmit:{id:"pageLayoutEditor.formSubmit",defaultMessage:"Form Submit"},placeholder:{id:"pageLayoutEditor.placeholder",defaultMessage:"New"},recentActivity:{id:"pageLayoutEditor.recentActivity",defaultMessage:"Recent activity"},collaborators:{id:"pageLayoutEditor.collaborators",defaultMessage:"Top collaborators"},teamspaces:{id:"pageLayoutEditor.teamspaces",defaultMessage:"Teamspaces"},row:{id:"pageLayoutEditor.row",defaultMessage:"Row"},view:{id:"pageLayoutEditor.view",defaultMessage:"View"},normalizedTitleWithIcon:r.TITLE_WITH_ICON_MESSAGE,titleWithIcon:r.TITLE_WITH_ICON_MESSAGE,deleted_property:r.PROPERTY_MODULE_MESSAGE,property_number:r.PROPERTY_MODULE_MESSAGE,property_title:r.PROPERTY_MODULE_MESSAGE,property_person:r.PROPERTY_MODULE_MESSAGE,property_file:r.PROPERTY_MODULE_MESSAGE,property_text:r.PROPERTY_MODULE_MESSAGE,property_checkbox:r.PROPERTY_MODULE_MESSAGE,property_url:r.PROPERTY_MODULE_MESSAGE,property_email:r.PROPERTY_MODULE_MESSAGE,property_phone_number:r.PROPERTY_MODULE_MESSAGE,property_created_by:r.PROPERTY_MODULE_MESSAGE,property_last_edited_by:r.PROPERTY_MODULE_MESSAGE,property_button:r.PROPERTY_MODULE_MESSAGE,property_select:r.PROPERTY_MODULE_MESSAGE,property_multi_select:r.PROPERTY_MODULE_MESSAGE,property_status:r.PROPERTY_MODULE_MESSAGE,property_date:r.PROPERTY_MODULE_MESSAGE,property_created_time:r.PROPERTY_MODULE_MESSAGE,property_last_edited_time:r.PROPERTY_MODULE_MESSAGE,property_last_visited_time:r.PROPERTY_MODULE_MESSAGE,property_relation:r.PROPERTY_MODULE_MESSAGE,property_rollup:r.PROPERTY_MODULE_MESSAGE,property_formula:r.PROPERTY_MODULE_MESSAGE,property_auto_increment_id:r.PROPERTY_MODULE_MESSAGE,property_location:r.PROPERTY_MODULE_MESSAGE,property_verification:r.PROPERTY_MODULE_MESSAGE,property_place:r.PROPERTY_MODULE_MESSAGE,property:r.PROPERTY_MODULE_MESSAGE,collectionView:r.COLLECTION_VIEW_MESSAGE,collectionViewV2:r.COLLECTION_VIEW_MESSAGE})},448693:(e,t,o)=>{o.d(t,{Ay:()=>_,t_:()=>b,v7:()=>A});o(296540);var n=()=>o(484714),r=()=>o(56366),i=()=>o(764880),a=()=>o(784892),s=()=>o(534177),l=()=>o(313364),c=()=>o(258836),d=()=>o(842677),u=()=>o(870092),p=()=>o(427636),m=()=>o(256863),g=()=>o(848401),f=()=>o(994006),y=()=>o(453697),v=o(474848);function h(e){const t=(0,n().v3)(),{actor:o,format:i,hasTooltip:h,tooltipHeader:_,hasPersonHoverCard:b}=e,A=(0,r().K8)((()=>{const e=o.asActor;return e&&d().RecordStores.createUniqueRootStore(t,e.pointer)}),[o,t]);return(0,v.jsx)(g().Ay,{...e,renderAvatar:e=>{if(A)return A instanceof c().v?i===a().NY.Inline?(0,v.jsx)(m().A,{botStore:A,size:e,style:S}):(0,v.jsx)(p().A,{botStore:A,avatarSize:e,inline:!0,style:S}):A instanceof u().L?i===a().NY.Inline?(0,v.jsx)(y().A,{userStore:A,size:e,avatarShouldShowShadow:!0,hasTooltip:h??!0,style:S,tooltipHeader:_,hasPersonHoverCard:b}):(0,v.jsx)(f().A,{userStore:A,avatarSize:e,inline:!0,hasTooltip:h,hasPersonHoverCard:b,style:S,tooltipHeader:_}):void(A instanceof l().p||(0,s().HB)(A))}})}const S={minWidth:0};h.Format=a().NY;const _=h;function b(e){const{userValue:t,...o}=e;return(0,v.jsx)(h,{actor:(0,i().MR)(t),...o})}function A(e){const{botValue:t,...o}=e;return(0,v.jsx)(h,{actor:(0,i().oC)(t),...o})}b.Format=g().mI,A.Format=g().mI},471095:(e,t,o)=>{o.d(t,{i:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.05 15.66",svg:(0,o(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},r=(0,o(340498).wt)("lockFill",n)},551619:(e,t,o)=>{o.d(t,{Hy:()=>C,NV:()=>x,O9:()=>T,Rg:()=>P,Sm:()=>E,f7:()=>M,n$:()=>R,no:()=>U,sx:()=>k});var n=()=>o(59226),r=()=>o(726637),i=()=>o(402014),a=()=>o(484714),s=()=>o(792485),l=()=>o(56366),c=()=>o(700500),d=()=>o(519831),u=()=>o(620689),p=()=>o(591197),m=()=>o(835066),g=()=>o(964345),f=()=>o(267584),y=()=>o(478726),v=()=>o(747100),h=()=>o(665579),S=()=>o(765957),_=()=>o(375447),b=()=>o(66496),A=()=>o(548821),I=()=>o(712505),w=()=>o(302022);function x(e){(0,i().SQ)({event:e,context:i().y$.EditorMouseDown,callback:()=>{}})}function k(e){(0,i().SQ)({event:e,context:i().y$.Click,callback:()=>{}})}function C(e){return(0,l().K8)((()=>Boolean(w().A.state.pageMap[e.id])||b().A.state.pages.has(e.id)),[e.id])}function P(e,t){const o=(0,a().v3)(),n=(0,s().S)(),r=C(e),i=(0,l().K8)((()=>{var o,n;return t===A().Rr.Frame?Boolean(null===(o=S().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===A().Rr.PeekView&&I().default.state.open?Boolean(null===(n=I().default.state.loadingContainerStore)||void 0===n?void 0:n.state.ready):t===A().Rr.CollectionPageView||t===A().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),c=M(e);return(0,l().K8)((()=>{if(!i)return!1;const t=o.currentUser.isLoggedIn(),a=n&&n.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=a&&a.hasPublicPermission)||"edit"===(null==a?void 0:a.permission))&&!r&&!c)}),[o.currentUser,c,i,n,r,e])}function T(e,t){const o=(0,a().v3)(),i=(0,s().S)(),{isTablet:c}=(0,a().Y0)(),d=(0,n().X)("tablet_refresh_template_pills_gate");return(0,l().K8)((()=>{if(t===A().Rr.SitePreview)return!1;if(r().A.isMobile&&(!c||!d))return!1;if(!o.currentUser.isLoggedIn())return!1;const n=i&&i.publicEditModeStore.state;if(null!=n&&n.hasPublicPermission&&"edit"!==(null==n?void 0:n.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const a=e.getContentStores()[0];if(a&&!a.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const s=g().gZ.state,l=g().Di.state;if(s&&e.id===l)return!1;return!((0,y().L5)(t)?p().VY.state:p().u3.state)}),[o,i,e,t,c,d])}function M(e){return(0,l().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(c().xd.externalObjectInstancePage)}),[e])}function E(e){return(0,l().K8)((()=>{if(!(0,f().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===d().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function R(e){const t=(0,a().v3)(),{device:o,WindowSizeStore:n}=t,i=(0,l().K8)((()=>{const e=n.state.height,o=r().A.isMobile&&_().Ay.state.open?e:0;return u().C6(t)+o}),[t,n]);return(0,l().K8)((()=>"home-phone"===e?h().q3:o.isTablet?380:o.isIOS?Math.max(350,i):r().A.isMobile?400:"side-peek"===e||"center-peek"===e?v().ln:"home"===e?h().wH:"30vh"),[o,i,e])}function U(e){const t=(0,a().v3)(),o=(0,l().K8)((()=>(0,m().dC)(t,e)),[t,e]);return(0,l().K8)((()=>o&&!e.isFullWidth()?(0,m().Zy)(t,(0,v().cq)(e),(0,v().RX)(e)):0),[t,o,e])}},563884:(e,t,o)=>{o.d(t,{k:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("calendar",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.24902 14.7764H12.6621C14.1455 14.7764 14.918 14.0107 14.918 12.5479V4.22852C14.918 2.76562 14.1455 2 12.6621 2H3.24902C1.77246 2 1 2.75879 1 4.22852V12.5479C1 14.0107 1.77246 14.7764 3.24902 14.7764ZM3.24219 13.416C2.6748 13.416 2.36035 13.1221 2.36035 12.5205V6.23145C2.36035 5.62988 2.6748 5.33594 3.24219 5.33594H12.6689C13.2363 5.33594 13.5508 5.62988 13.5508 6.23145V12.5205C13.5508 13.1221 13.2363 13.416 12.6689 13.416H3.24219ZM6.63965 7.69434H7.04297C7.28906 7.69434 7.37109 7.61914 7.37109 7.37988V6.97656C7.37109 6.73047 7.28906 6.65527 7.04297 6.65527H6.63965C6.39355 6.65527 6.31152 6.73047 6.31152 6.97656V7.37988C6.31152 7.61914 6.39355 7.69434 6.63965 7.69434ZM8.875 7.69434H9.27832C9.51758 7.69434 9.59961 7.61914 9.59961 7.37988V6.97656C9.59961 6.73047 9.51758 6.65527 9.27832 6.65527H8.875C8.62891 6.65527 8.54688 6.73047 8.54688 6.97656V7.37988C8.54688 7.61914 8.62891 7.69434 8.875 7.69434ZM11.1035 7.69434H11.5068C11.7529 7.69434 11.835 7.61914 11.835 7.37988V6.97656C11.835 6.73047 11.7529 6.65527 11.5068 6.65527H11.1035C10.8643 6.65527 10.7822 6.73047 10.7822 6.97656V7.37988C10.7822 7.61914 10.8643 7.69434 11.1035 7.69434ZM4.41113 9.89551H4.80762C5.05371 9.89551 5.13574 9.82031 5.13574 9.57422V9.1709C5.13574 8.93164 5.05371 8.85645 4.80762 8.85645H4.41113C4.16504 8.85645 4.08301 8.93164 4.08301 9.1709V9.57422C4.08301 9.82031 4.16504 9.89551 4.41113 9.89551ZM6.63965 9.89551H7.04297C7.28906 9.89551 7.37109 9.82031 7.37109 9.57422V9.1709C7.37109 8.93164 7.28906 8.85645 7.04297 8.85645H6.63965C6.39355 8.85645 6.31152 8.93164 6.31152 9.1709V9.57422C6.31152 9.82031 6.39355 9.89551 6.63965 9.89551ZM8.875 9.89551H9.27832C9.51758 9.89551 9.59961 9.82031 9.59961 9.57422V9.1709C9.59961 8.93164 9.51758 8.85645 9.27832 8.85645H8.875C8.62891 8.85645 8.54688 8.93164 8.54688 9.1709V9.57422C8.54688 9.82031 8.62891 9.89551 8.875 9.89551ZM11.1035 9.89551H11.5068C11.7529 9.89551 11.835 9.82031 11.835 9.57422V9.1709C11.835 8.93164 11.7529 8.85645 11.5068 8.85645H11.1035C10.8643 8.85645 10.7822 8.93164 10.7822 9.1709V9.57422C10.7822 9.82031 10.8643 9.89551 11.1035 9.89551ZM4.41113 12.0898H4.80762C5.05371 12.0898 5.13574 12.0146 5.13574 11.7754V11.3721C5.13574 11.126 5.05371 11.0508 4.80762 11.0508H4.41113C4.16504 11.0508 4.08301 11.126 4.08301 11.3721V11.7754C4.08301 12.0146 4.16504 12.0898 4.41113 12.0898ZM6.63965 12.0898H7.04297C7.28906 12.0898 7.37109 12.0146 7.37109 11.7754V11.3721C7.37109 11.126 7.28906 11.0508 7.04297 11.0508H6.63965C6.39355 11.0508 6.31152 11.126 6.31152 11.3721V11.7754C6.31152 12.0146 6.39355 12.0898 6.63965 12.0898ZM8.875 12.0898H9.27832C9.51758 12.0898 9.59961 12.0146 9.59961 11.7754V11.3721C9.59961 11.126 9.51758 11.0508 9.27832 11.0508H8.875C8.62891 11.0508 8.54688 11.126 8.54688 11.3721V11.7754C8.54688 12.0146 8.62891 12.0898 8.875 12.0898Z"})})},580648:(e,t,o)=>{o.d(t,{o:()=>c});o(296540);var n=()=>o(56366),r=()=>o(914462),i=()=>o(69708),a=()=>o(173783),s=()=>o(187820),l=o(474848);function c(e){const{group:t}=e,o=e.size??20,c=(0,i().tz)(),d=(0,n().K8)((()=>{if(t&&t.icon)return{pointer:t.pointer,icon:t.icon}}),[t]),u=(0,n().K8)((()=>(0,r().n)({intl:c,permissionGroupModel:t})),[c,t]);return(0,l.jsx)("div",{children:d?(0,l.jsx)(s().B6,{disabled:!0,size:o,icon:d,isEmptyPage:!1,title:u}):(0,l.jsx)(a().A,{size:o})})}},591197:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>i,u3:()=>a});var n=()=>o(496506);class r extends(()=>o(757695))().Store{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new r,a=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},625194:(e,t,o)=>{o.d(t,{m:()=>a});var n=o(296540),r=()=>o(96330),i=o(474848);const a=n.memo((function(e){const{textValue:t}=e,o=(0,n.useMemo)((()=>(0,r().X1)((0,r().eC)(t))),[t]);return(0,i.jsx)("span",{children:o})}))},627503:(e,t,o)=>{o.d(t,{a:()=>r});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"1.37 1.37 13.25 13.25",svg:(0,o(474848).jsx)("path",{d:"M3.25 1.375c-1.036 0-1.875.84-1.875 1.875v6c0 1.036.84 1.875 1.875 1.875h1.625v1.625c0 1.036.84 1.875 1.875 1.875h6c1.036 0 1.875-.84 1.875-1.875v-6c0-1.036-.84-1.875-1.875-1.875h-1.625V3.25c0-1.036-.84-1.875-1.875-1.875zM2.625 3.25c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v1.625H6.75c-1.036 0-1.875.84-1.875 1.875v3.125H3.25a.625.625 0 0 1-.625-.625zm3.5 3.5c0-.345.28-.625.625-.625h6c.345 0 .625.28.625.625v6c0 .345-.28.625-.625.625h-6a.625.625 0 0 1-.625-.625z"})},r=(0,o(340498).wt)("duplicateSmall",n)},654734:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(296540),r=()=>o(597777),i=()=>o(869190),a=()=>o(604995),s=()=>o(416504),l=o(474848);const c=function(e){const t=(0,o(69708).tz)(),c=(0,o(401497).DP)(),p=(0,o(396182).I)(),m=(0,n.useRef)(),g=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=a().q8(t,(0,s().P)());if(!n)return;const r=n.valueOf(),i=r-Date.now();i<0||i>o(720665).nD||m.current&&m.current.timestamp===r||(m.current&&clearTimeout(m.current.timer),m.current={timestamp:r,timer:setTimeout((()=>p("DateBox","DateBox/createReminderTimer")),i)})}),[p,e.value]),f=(0,n.useCallback)((()=>{m.current&&(clearTimeout(m.current.timer),m.current=void 0)}),[]);(0,n.useEffect)((()=>{g()}),[g]),(0,n.useEffect)((()=>()=>{f()}),[f]);const{value:y,withComma:v}=e,h=(0,o(56366).K8)((()=>y?(0,i().ZF)({value:y,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,s().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:o(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,y]);if(!y)return null;const S=a().AA(y,(0,s().P)(),o(662303).locale);let _;if((0,r().Lh)(y)){const e=a().Zs(y,(0,s().P)());_=e?{color:c.errorText}:{color:o(100622).Tj.blue}}const b=(0,l.jsxs)(l.Fragment,{children:[h,(0,r().Lh)(y)?(0,o(599987).P)({display:"inline-block",width:"1em",marginInlineStart:6,marginInlineEnd:2,paddingBottom:4,verticalAlign:"middle"}):void 0,v?", ":null]});return e.disableTooltip?(0,l.jsx)("div",{className:e.className,style:{...e.style,..._},children:b}):(0,l.jsx)(o(859428).A,{renderTooltip:()=>(0,l.jsxs)(l.Fragment,{children:[e.tooltipHeader,(0,l.jsxs)("div",{style:u(c,e.tooltipHeader),children:[d(S.start),S.end?`  ${d(S.end)}`:""]})]}),render:t=>(0,l.jsx)("div",{className:e.className,style:{...e.style,..._},...t,children:b}),placement:e.tooltipPlacement})};function d(e){return(0,i().eV)({value:e,preset:"medium"})}function u(e,t){return t?{color:e.text.inverseSecondary}:{}}},658985:(e,t,o)=>{o.d(t,{$:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("membersFilled",{viewBox:"0 0 30 30",svg:(0,n.jsx)("path",{d:"M20.31 14.731c2.22 0 4.097-1.967 4.097-4.513 0-2.485-1.887-4.391-4.098-4.391-2.2 0-4.097 1.937-4.087 4.411 0 2.526 1.866 4.493 4.087 4.493zm-11.725.233c1.937 0 3.57-1.724 3.57-3.935 0-2.17-1.653-3.823-3.57-3.823-1.917 0-3.57 1.683-3.56 3.844 0 2.19 1.633 3.914 3.56 3.914zm-5.588 9.21h7.606c-1.085-1.552.082-4.615 2.374-6.42-1.116-.72-2.566-1.248-4.392-1.248-4.533 0-7.464 3.337-7.464 6.085 0 1.004.507 1.582 1.876 1.582zm10.994-.01h12.637c1.673 0 2.251-.508 2.251-1.44 0-2.607-3.316-6.198-8.57-6.198-5.263 0-8.57 3.59-8.57 6.197 0 .933.578 1.44 2.252 1.44z"})})},665579:(e,t,o)=>{o.d(t,{$L:()=>l,BZ:()=>u,EC:()=>f,EI:()=>b,E_:()=>C,Ed:()=>m,Fq:()=>h,Lu:()=>I,Mk:()=>g,O0:()=>k,V$:()=>x,VQ:()=>y,Xx:()=>A,Xy:()=>d,YS:()=>v,_g:()=>_,dd:()=>p,pW:()=>c,q3:()=>s,wH:()=>a,xK:()=>P});var n=()=>o(484714),r=()=>o(401497),i=()=>o(496603);const a=160,s=40,l=40,c=20,d=600,u=270,p=405,m=480,g=500,f=void 0,y=16,v=10,h=8,S={backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"},_=4;function b(e){return{icon:e.icon.secondary,text:e.text.secondary}}function A(e){return{width:48,height:48,fill:e.icon.tertiary}}function I({theme:e,isPhone:t}){return t?e.personalHomeBackgroundPhone:e.background.primary}const w=1;function x({isPhone:e,theme:t}){return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:t.home.tile.background,boxShadow:C({isPhone:e,theme:t}),...S}}function k({mode:e}){switch(e){case"dark":default:return 0;case"light":return w}}function C({isPhone:e,theme:t,borderOnly:o}){if("dark"===t.mode)return"unset";t.mode;const n=k({mode:t.mode});return(0,i().oE)([o||e?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${n}px rgba(0, 0, 0, 0.05)`]).join(", ")}function P(e){const{borderOnly:t}=e,o=(0,n().WS)(),i=(0,r().DP)();return{unhoveredBoxShadow:C({isPhone:o,theme:i,borderOnly:t}),hoveredBoxShadow:"light"===i.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):i.homeShadow.card.hovered}}},671891:(e,t,o)=>{o.d(t,{l:()=>r});var n=()=>o(56366);function r(e){const t=(0,n().K8)((()=>function(e){if(!e)return;const t=null==e?void 0:e.getAssociatedCollectionStore();return null==t?void 0:t.getLayoutStore()}(e)),[e]);return t}},795963:(e,t,o)=>{o.d(t,{Ge:()=>s,OQ:()=>r,aG:()=>l,yN:()=>a});var n=()=>o(864994);const r=160,i=120,a=120;function s({isMobile:e,stackPropertyLabelAndValue:t,isPropertyInPageDetails:o}){if(t||!o)return;const s=i/n().b*100;return e?a:`min(max(${s}%, ${i}px), ${r}px)`}function l({stackPropertyLabelAndValue:e}){return e?{variant:"hug-content"}:{variant:"fixed"}}},817126:(e,t,o)=>{o.d(t,{G9:()=>p,Ld:()=>d,kg:()=>u,uF:()=>m});var n=()=>o(56366),r=()=>o(898244),i=()=>o(617871),a=()=>o(985529),s=()=>o(462853),l=()=>o(765957),c=()=>o(329304);function d({spaceId:e,userId:t}){const o=(0,c()._X)({name:"collection_connected_property_figma",spaceId:e,userId:t}),n=(0,c()._X)({name:"collection_connected_property_github",spaceId:e,userId:t}),r=(0,c()._X)({name:"collection_connected_property_google_drive",spaceId:e,userId:t}),a=(0,c()._X)({name:"collection_connected_property_zendesk",spaceId:e,userId:t}),s=(0,c()._X)({name:"collection_synced_database_salesforce_workspace",spaceId:e,userId:t});return{[i().e1]:o,[i().ob]:n,[i().Hd]:r,[i().k0]:a,[i().mn]:s}}function u(e){if(!e)return;const t=e&&(0,r().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,s().l)(t)}function p(e){const t=e.featureName,o=(0,n().K8)((()=>{var t;return e.spaceId??(null===(t=l().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),r=(0,n().K8)((()=>{var t;return e.userId??(null===(t=l().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,c()._X)({name:t,spaceId:o,userId:r})}function m({featureName:e}){const t=p({featureName:e});if(!t)return;const o=(0,a().e2)(t),n=(0,a().Xq)(t);let r,i;return!n||"product"!==n.type||"plus"!==n.product&&"business"!==n.product&&"enterprise"!==n.product||(r=n.product),o&&(i=o&&t.expiry&&"sunset"===t.expiry.type?t.expiry.endDate:void 0),{isAvailable:o,expirationDate:i,upsell:n,upsellTier:r}}},837622:(e,t,o)=>{o.d(t,{A:()=>u});var n=o(296540),r=()=>o(56366),i=()=>o(401497),a=()=>o(201980),s=()=>o(116008),l=()=>o(921855),c=()=>o(735372),d=o(474848);const u=n.memo((function(e){const{parentStore:t,withComma:u,linkifyUrls:p,disableCommentHighlight:m,disableLinks:g,shouldTruncate:f,clampLines:y,textValue:v}=e,h=(0,o(484714).v3)(),S=(0,i().DP)(),_=(0,o(712030).Ol)();(0,n.useEffect)((()=>{void 0!==v&&h.KatexStore.loadIfNeeded((()=>v))}),[h.KatexStore,v]);const{collectionContextStore:b,property:A}=(0,n.useContext)(o(971003).L8),{collectionViewBlockId:I,collectionViewId:w}=(0,r().K8)((()=>{var e,t;return{collectionViewId:null==b||null===(e=b.collectionViewStore())||void 0===e?void 0:e.id,collectionViewBlockId:null==b||null===(t=b.collectionViewBlockStore())||void 0===t?void 0:t.id}}),[b]),x=(0,r().K8)((()=>h.KatexStore.getKatex()),[h.KatexStore]),k=(0,r().K8)((()=>{const e=c().qu.state,o=c().wb.state;return e&&A&&v?l().nu({textValue:v,blockId:t.id,textProps:{type:"page_property_value_match",collectionViewBlockId:I,collectionViewId:w,propertyId:A},find:e,currentFocusedResult:o}):v}),[A,v,t.id,I,w]),C=(0,r().K8)((()=>{if(s().A.getPropertyId()!==A||s().A.getBlockStore()!==t)return k;const e=s().A.getMultiSelection();return e?a().Mwp({textValue:k,selection:{startIndex:e.start.index,endIndex:e.end.index},annotation:[a().Ifu.TemporaryComment]}):v?a().Mwp({textValue:k,selection:{startIndex:0,endIndex:a().qAZ(v).length},annotation:[a().Ifu.TemporaryComment]}):k}),[t,A,v,k]),P=(0,r().K8)((()=>void 0===C?null:l().S5({environment:h,textValue:C&&{value:C,spaceId:(0,o(161479).e)(t.pointer.spaceId)},parentStore:t,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:m??!1,disabled:!0,theme:S,disableLinks:g??!1,emojiType:_,katex:x,formulaValueTypes:[],stopLinkPropagation:!0,linkTargetBlank:!0})),[C,h,t,m,S,g,_,x],{silenceRerenderDefender:!0}),T=(0,n.useMemo)((()=>{if(!p||void 0===v)return null;const e=(0,a().k4p)(v);return(0,o(735577).A)(e)?(0,o(713998).MO)(v):null}),[p,v]),M=(0,i().IS)((e=>({text:{...f&&!y?o(284371).RC:void 0,...f&&y?{...(0,o(115512).pA)(y),overflow:"hidden",textOverflow:"ellipsis"}:{}}})),[f,y]);return(0,d.jsxs)("span",{style:M.text,children:[T?(0,d.jsx)(o(97294).N,{href:T,style:{display:"inline",pointerEvents:"auto",...(0,o(468882).w_)(S)},external:!0,onClick:e=>e.stopPropagation(),children:P}):P,u?", ":null]})}))},848401:(e,t,o)=>{o.d(t,{Ay:()=>m,mI:()=>u,vb:()=>p});o(296540);var n=()=>o(401497),r=()=>o(718827),i=()=>o(784892),a=()=>o(65767),s=()=>o(69708),l=()=>o(284371),c=o(474848);const d=(0,s().YK)({removeTokenLabel:{defaultMessage:"Remove {title}",id:"uiGenericToken.removeTokenLabel"},removeTokenLabelGeneric:{defaultMessage:"Remove Item",id:"uiGenericToken.removeTokenLabelGeneric"}}),u=i().NY,p={[i().NY.ExtremeSmall]:{height:12,fontSize:10,margin:"0 4px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[i().NY.ExtraSmall]:{height:14,fontSize:12,margin:"0 6px 0 0",marginEditState:"0 6px 0 0",closeIconSize:8,avatarSize:14},[i().NY.Small]:{height:18,fontSize:12,margin:"0 6px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:16},[i().NY.CompactEssential]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[i().NY.Medium]:{height:20,fontSize:14,margin:"0 10px 6px 0",marginEditState:"0 6px 6px 0",closeIconSize:8,avatarSize:20},[i().NY.Inline]:{height:20,fontSize:14,closeIconSize:8,avatarSize:20,margin:"0 -5px 0 0",marginEditState:"0 6px 0 0"},[i().NY.Large]:{height:24,fontSize:16,margin:"0 8px 8px 0",marginEditState:"0 8px 8px 0",closeIconSize:10,avatarSize:24}};function m({avatarSize:e,format:t,isSingle:o,onClickRemove:i,renderAvatar:u,showRemoveButton:m,shouldShrink:g,style:f,title:y}){const v=(0,s().tz)(),{height:h,fontSize:S,margin:_,marginEditState:b,closeIconSize:A,avatarSize:I}=p[t],w=e??I,x=(0,n().IS)((()=>({root:{display:"flex",alignItems:"center",flexShrink:g?1:0,minWidth:0,height:h,borderRadius:6,fontSize:S,lineHeight:"120%",margin:o?0:m?b:_,...f}})),[S,h,o,_,b,g,m,f]);return(0,c.jsxs)("div",{style:x.root,children:[null==u?void 0:u(w),(0,c.jsx)("div",{className:"notranslate",style:{...l().RC},children:y}),m?(0,c.jsx)(r().Ay,{ariaLabel:void 0!==y?v.formatMessage(d.removeTokenLabel,{title:y}):v.formatMessage(d.removeTokenLabelGeneric),onClick:i,style:{display:"flex",alignItems:"center",justifyContent:"center",width:h,height:h,marginInlineStart:2,marginInlineEnd:2,flexGrow:0,flexShrink:0,borderRadius:6},children:(0,a().l)({width:A,height:A,opacity:.5})}):null]})}},864779:(e,t,o)=>{o.d(t,{Me:()=>s,Vv:()=>r,Z3:()=>i,wI:()=>a});var n=()=>o(906745);function r(e){if("week"===e.frequency&&e.weekdays&&1===e.weekdays.length)return{weekday:e.weekdays[0],duration:e.interval}}function i(e){const{currentSprintEndDate:t,sprintSchedule:o}=e;return l({startDate:d({dateToAdjust:n().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!0}),duration:o.duration})}function a(e){const{userTimeZone:t,sprintSchedule:o}=e;return l({startDate:n().c9.local({zone:t}),duration:o.duration})}function s(e){const{currentSprintStartDate:t,sprintSchedule:o}=e,r=d({dateToAdjust:n().c9.fromISO(t),weekday:o.weekday,wrapForEqualDays:!1}),{end_date:i}=l({startDate:r,duration:o.duration});let a=n().c9.fromISO(i);const s=n().c9.now().startOf("day");for(;a.diff(s,"days").days<0;)a=a.plus({weeks:1});return{type:"daterange",start_date:a.plus({days:1}).minus({weeks:o.duration}).toISODate(),end_date:a.toISODate()}}function l(e){const{startDate:t,duration:o}=e,n=t.plus({weeks:o}).minus({days:1});return{type:"daterange",start_date:t.toISODate(),end_date:n.toISODate()}}const c={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6};function d(e){const{dateToAdjust:t,weekday:o,wrapForEqualDays:n}=e,r=u({currentWeekday:t.weekday%7,nextWeekday:c[o],wrapForEqualDays:n});return t.plus({days:r})}function u(e){const{currentWeekday:t,nextWeekday:o,wrapForEqualDays:n}=e,r="number"==typeof t?t:c[t],i="number"==typeof o?o:c[o];if(r===i)return n?7:0;let a=r,s=0;for(;a!==i;)a===c.SA?a=0:a+=1,s+=1;return s}},864994:(e,t,o)=>{o.d(t,{b:()=>i,g:()=>a});var n=()=>o(548821),r=()=>o(154807);const i=o(253658).YG;function a({environment:e,layoutArea:t,moduleType:o,pageViewBlockContext:a}){return("page_main"===t||"views_main_tab_modules"===t)&&"properties"===o||"properties"===o&&"page_details"===t&&(0,r().Wi)({environment:e,isInPeek:a===n().Rr.PeekView})>=i}},871202:(e,t,o)=>{o.r(t),o.d(t,{hasAccessDefaultFn:()=>h,hasAccessToCode:()=>A,hasAccessToProperty:()=>b,hasReadPermissionsAccess:()=>S,hasSameSpaceAccess:()=>_,testOnly:()=>I});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520);var n=()=>o(496603),r=()=>o(763824),i=()=>o(973647),a=()=>o(534177),s=()=>o(898244),l=()=>o(247331),c=()=>o(443881),d=()=>o(239381),u=()=>o(501053),p=()=>o(373907);function*m(e){const{collectionPointer:t,context:o,propertyId:n,propertySchema:r,visitedPointers:i,hasAccessFn:a}=e,s=(0,c().G7)({...t,propertyId:n});if(i.has(s))return!0;i.add(s);const l=a({propertySchema:r,spaceId:o.spaceId});return"boolean"==typeof l?l:yield*l}function*g(e){var t,o;const{collectionPointer:r,depth:u,collectionSchema:m,context:g,propertyId:f,propertySchema:y,visitedPointers:h,hasAccessFn:S}=e;if("v2"!==y.version||u>l().FORMULA_MAX_DEPTH)return!1;const _=(0,c().G7)({...r,propertyId:f});if(h.has(_))return!0;if(h.add(_),!(0,a().O9)(null===(t=y.formula2)||void 0===t?void 0:t.code))return!0;const b=(0,p().$t)(null===(o=y.formula2)||void 0===o?void 0:o.code);if(i().Q.isFail(b))return!0;const{spaceId:A}=g,I=(0,c().zm)({formulaTypecheckContextValues:[{kind:l().FormulaContextValueKind.ThisRow,type:{collection:r,type:"block"}}],node:b.value,spaceId:A}),w=(0,n().hS)(I,(e=>(0,c().G7)(e)));if(0===w.length)return!0;const{getRecordModel:x}=yield{collectionBlockProperties:[{blockPointers:[],collectionPointer:r,property:f,schema:m}],recordPointers:w.filter((e=>(0,d().T3)(e)))};for(const n of w)if((0,s().pq)(n)){const e=x(n);if(!(0,a().O9)(e))return!1;const t=n.propertyId,o=e.getSchema(),r=o[t];if(!r)continue;if((0,s().bT)(r)||(0,s().lb)(r)){if(!(yield*v({collectionPointer:n,collectionSchema:o,context:g,depth:u+1,propertyId:t,propertySchema:r,visitedPointers:h,hasAccessFn:S})))return!1}else if((0,s().nC)(r)){if(!(yield*v({collectionPointer:n,collectionSchema:o,context:g,depth:u,propertyId:t,propertySchema:r,visitedPointers:h,hasAccessFn:S})))return!1}}else if(!(0,a().O9)(x(n)))return!1;return!0}function*f(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:d,hasAccessFn:p}=e;if("v2"===a.version||o>l().FORMULA_MAX_DEPTH)return!1;const m=(0,c().G7)({...t,propertyId:i});if(d.has(m))return!0;d.add(m);const g=(0,u().kh)(a.formula);if(0===g.length)return!0;for(const l of g){const e=n[l];if(e)if((0,s().bT)(e)||(0,s().lb)(e)){if(!(yield*v({collectionPointer:t,depth:o+1,collectionSchema:n,context:r,propertyId:l,propertySchema:e,visitedPointers:d,hasAccessFn:p})))return!1}else if((0,s().nC)(e)){if(!(yield*v({collectionPointer:t,collectionSchema:n,context:r,depth:o,propertyId:l,propertySchema:e,visitedPointers:d,hasAccessFn:p})))return!1}}return!0}function*y(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:d,hasAccessFn:u}=e;if(o>l().FORMULA_MAX_DEPTH)return!1;const p=(0,c().G7)({...t,propertyId:i});if(d.has(p))return!0;if(d.add(p),!a.relation_property||!a.target_property)return!0;const m=n[a.relation_property];if(!m||"relation"!==m.type)return!0;const g=u({propertySchema:m,spaceId:r.spaceId});if(!("boolean"==typeof g?g:yield*g))return!1;const f=(0,s().Nv)(m);if(!f)return!0;const{getRecordModel:y}=yield{recordPointers:[f]},h=y(f),S=null==h?void 0:h.getNormalizedSchema();if(a.target_property_type&&S){const e=S[a.target_property];if(e&&a.target_property_type===e.type){if((0,s().lb)(e))return yield*v({collectionPointer:f,collectionSchema:S,context:r,depth:o+1,propertyId:a.target_property,propertySchema:e,visitedPointers:d,hasAccessFn:u});if((0,s().nC)(e))return yield*v({collectionPointer:f,collectionSchema:S,context:r,depth:o,propertyId:a.target_property,propertySchema:e,visitedPointers:d,hasAccessFn:u})}}return!0}function*v(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:l,hasAccessFn:c}=e;return(0,s().nC)(a)?yield*m({collectionPointer:t,context:r,propertyId:i,propertySchema:a,visitedPointers:l,hasAccessFn:c}):(0,s().lb)(a)?"v2"===a.version?yield*g({collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:l,hasAccessFn:c}):yield*f({collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:l,hasAccessFn:c}):!(0,s().bT)(a)||(yield*y({collectionPointer:t,depth:o,collectionSchema:n,context:r,propertyId:i,propertySchema:a,visitedPointers:l,hasAccessFn:c}))}function*h(e){const{propertySchema:t,spaceId:o}=e,n=(0,s().Nv)(t);if(!(0,a().O9)(n))return!0;const{getRecordModel:r}=yield{recordPointers:[n]},i=r(n);return(0,a().O9)(i)&&_({spaceId:o,propertySchema:t})}function*S(e){const{propertySchema:t}=e,o=(0,s().Nv)(t);if(!(0,a().O9)(o))return!0;const{getRecordModel:n}=yield{recordPointers:[o]},r=n(o);return(0,a().O9)(r)}function _(e){const{propertySchema:t,spaceId:o}=e;return!(0,s().o2)(o,t)}async function b(e){const{collectionPointer:t,collectionSchema:o,context:n,propertyId:i,hasAccessFn:a}=e,s=o[i];return!s||await async function(e){const{context:t}=e;try{const o=v(e);let n=o.next();for(;!n.done;){const e=t.handleDataRequest(n.value);n=o.next((0,r().yL)(e)?await e:e)}return n.value}catch(o){return!0}}({collectionPointer:t,depth:0,collectionSchema:o,context:n,propertyId:i,propertySchema:s,visitedPointers:new Set,hasAccessFn:a})}function A(e){const{context:t}=e;try{const o=function*(e){const{collectionPointer:t,depth:o,context:r,code:u,visitedPointers:m,hasAccessFn:g}=e,f=(0,p().$t)(u);if(i().Q.isFail(f))return!0;const{spaceId:y}=r,h=r.valueTypes.filter((e=>e.kind!==l().FormulaContextValueKind.ThisRow)),S=(0,c().zm)({formulaTypecheckContextValues:t?[...h,{kind:l().FormulaContextValueKind.ThisRow,type:{collection:t,type:"block"}}]:[],node:f.value,spaceId:y}),_=(0,n().hS)(S,(e=>(0,c().G7)(e)));if(0===_.length)return!0;const{getRecordModel:b}=yield{collectionBlockProperties:[],recordPointers:_.filter((e=>(0,d().T3)(e)))};for(const n of _)if((0,s().pq)(n)){const e=b(n);if(!(0,a().O9)(e))return!1;const t=n.propertyId,i=e.getSchema(),l=i[t];if(!l)continue;if((0,s().bT)(l)||(0,s().lb)(l)){if(!(yield*v({collectionPointer:n,collectionSchema:i,context:r,depth:o+1,propertyId:t,propertySchema:l,visitedPointers:m,hasAccessFn:g})))return!1}else if((0,s().nC)(l)&&!(yield*v({collectionPointer:n,collectionSchema:i,context:r,depth:o,propertyId:t,propertySchema:l,visitedPointers:m,hasAccessFn:g})))return!1}else if(!(0,a().O9)(b(n)))return!1;return!0}(e);let r=o.next();for(;!r.done;){const e=t.handleDataRequest(r.value);r=o.next(e)}return r.value}catch(o){return!0}}const I={hasAccessDefaultFn:h,hasAccessToProperty:b,hasAccessToFormula1Property:f,hasAccessToFormula2Property:g,hasAccessToRelationProperty:m,hasAccessToRollupProperty:y}},888643:(e,t,o)=>{o.d(t,{k:()=>r});var n=()=>o(402014);function r(e){(0,n().SQ)({event:e,context:n().y$.Click,callback:()=>{}})}},903047:(e,t,o)=>{o.d(t,{E:()=>r});var n=()=>o(401497);function r(e){const{size:t,style:o}=e;return(0,n().IS)((e=>({icon:{width:.6*t,height:.6*t,fill:e.text.secondary},iconContainer:{width:t,height:t,borderRadius:"100%",background:e.regularDividerColor,display:"flex",alignItems:"center",justifyContent:"center",...o}})),[t,o])}},950914:(e,t,o)=>{o.d(t,{AL:()=>i,Q6:()=>s,vt:()=>a});o(898992),o(672577);var n=()=>o(66689),r=()=>o(254947);const i={autoCompleteSprints:!1,actionConfig:{complete_sprint_action:"complete_sprint_and_move_incomplete_tasks_to_next_sprint"},recurrenceConfig:{interval:2,weekdays:["MO"]}};function a(e){const{eventTracker:t,properties:o}=e;t.DO_NOT_USE_commonTrackEvent({eventName:"complete_sprint_action",properties:o})}function s(e,t){var o;return null===(o=t.groups)||void 0===o||null===(o=o.find((t=>t.id===n().nl||(null==t?void 0:t.name)===r().P0||(null==t?void 0:t.name)===e.formatMessage(r().oz.statusGroupNameComplete))))||void 0===o?void 0:o.name}},954220:(e,t,o)=>{o.r(t),o.d(t,{computeSimilarUserRecentPagesState:()=>p,fetchUserSignals:()=>y,initializeAndLoadAllUserSignals:()=>g,refreshAndBroadcastSimilarUserSignals:()=>m,setUserSignals:()=>f});o(944114),o(898992),o(803949),o(581454);var n=()=>o(242422),r=()=>o(386164),i=()=>o(496603),a=()=>o(559506),s=()=>o(187778),l=()=>o(20199),c=()=>o(314648);const d=5*o(720665).Xb;function u(e){const t=n().default.getEligibleGroup({experimentId:e,parameter:"editedPagesLookbackDays",defaultGroup:"control"});return void 0===t||"control"===t?"1":t}function p(e){const t={};return e.forEach((({userId:e,recentPages:o,similarity:n})=>{if(!o.length)return;const r=i().$z(o,(({pageId:e})=>e));Object.entries(r).forEach((([o,r])=>{const i=r.map((({visitedAt:e})=>e)).sort(((e,t)=>t-e));t[o]||(t[o]={pageId:o,sortedSimilarUserSignals:[]}),t[o].sortedSimilarUserSignals.push({userId:e,similarity:n,visitedAt:i})}))})),Object.values(t).forEach((e=>{e.sortedSimilarUserSignals.sort(((e,t)=>t.similarity-e.similarity))})),t}async function m(e){var t;const{spaceId:o,userId:n,environment:r}=e,i=await y({spaceId:o,environment:r,signalsOverride:[{name:"similarUserRecentPages",includeRecords:!0},{name:"similarUsersEditedPages",includeRecords:!0,lookbackDays:1}]});void 0!==i&&(f({spaceId:o,userId:n,environment:r,newSignals:i,initialize:!1}),await(null===(t=l().A.state.broadcastChannel)||void 0===t?void 0:t.postMessage({type:"userSignals",data:i})))}async function g(e){const{spaceId:t,userId:o,environment:r,refreshTimer:i=d}=e,a=await y({spaceId:t,environment:r});if(void 0===a)return;f({spaceId:t,userId:o,environment:r,newSignals:a,initialize:!0});var s;"on"===n().default.getEligibleGroup({experimentId:"search_refresh_user_signals",defaultGroup:"control"})?(await c().default.waitUntil((()=>Boolean(c().default.getUserSignals({spaceId:t,userId:o})))),null===(s=l().A.state.broadcastChannel)||void 0===s||s.addEventListener("message",(e=>{"userSignals"===e.type&&f({spaceId:t,userId:o,environment:r,newSignals:e.data,initialize:!1})})),await l().A.waitUntil((()=>Boolean(l().A.state.elector))),l().A.state.elector.awaitLeadership().then((()=>{c().default.update((e=>{e.refreshIntervalId&&window.clearInterval(e.refreshIntervalId);const n=window.setInterval((async()=>{await m({spaceId:t,userId:o,environment:r})}),i);return{...e,refreshIntervalId:n}}))}))):c().default.update((e=>{e.refreshIntervalId&&window.clearTimeout(e.refreshIntervalId);const n=window.setTimeout((async()=>{const e=await y({spaceId:t,environment:r});void 0!==e&&f({spaceId:t,userId:o,environment:r,newSignals:e,initialize:!1})}),i);return{...e,refreshIntervalId:n}}))}function f(e){const{spaceId:t,userId:o,environment:n,newSignals:r,initialize:i}=e;r&&(c().default.setUserSignals({spaceId:t,userId:o,userSignals:r,initialize:i}),s().G(n,i?"userSignalsInitialization":"userSignalsReload"))}async function y(e){const{spaceId:t,environment:o,signalsOverride:n}=e,s=u("search-local-edited-pages-max"),l=u("search-local-sim-users-edited-pages-max"),d=parseInt(l),m=[{name:"similarUserRecentPages",includeRecords:!0},{name:"topPages7dPageView",includeRecords:!0},{name:"editedPages",includeRecords:!0,lookbackDays:parseInt(s)},{name:"similarUsersEditedPages",includeRecords:!0,lookbackDays:d},{name:"inboxPages",includeRecords:!0,size:25,type:"unread_and_read"}],g=await a().callApi({eventName:"getUserSignals",environment:o,data:{spaceId:t,signals:n??m},headers:(0,r().WS)({cellId:void 0,recordId:void 0,spaceId:t})});if("success"!==g.type)return;const f=n?i().Up((0,c().getInitialUserSignalsState)(),n.map((e=>e.name))):(0,c().getInitialUserSignalsState)();return g.data.signals.forEach((e=>{if("error"===e.status)return;const t=e.name;switch(t){case"similarUserRecentPages":f.similarUserRecentPages=p(e.data);break;case"recentPages":f.recentPages=e.data;break;case"topPages7dPageView":f.topPages7dPageView=e.data;break;case"similarUsersEditedPages":f.similarUsersEditedPages=e.data;break;case"editedPages":f.editedPages=e.data;break;case"inboxPages":f.inboxPages=e.data}})),f}},977870:(e,t,o)=>{o.d(t,{c:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{wasGetVisibleUsersCalled:!1}}}const r=new n;o(852832).exposeDebugValue("GetVisibleUsersStore",r)},981305:(e,t,o)=>{o.d(t,{B:()=>i});o(16280);var n=o(296540),r=()=>o(472090);function i(e,t,o=0){(0,n.useEffect)((()=>{const n=new(r().E)({throttleMs:o});if(!e.current)throw new Error("ref.current is null");return n.observe(e.current),n.rect.addListener(t),()=>{n.destroy()}}),[t])}}}]);