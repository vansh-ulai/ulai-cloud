"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[21912],{99227:(e,t,n)=>{n.d(t,{s:()=>a});var o=()=>n(659715);function a(e){null!=e&&e.device.isElectron?(0,o().s)(e):window.history.forward()}},321172:(e,t,n)=>{n.d(t,{XP:()=>f,T:()=>g,Tk:()=>y});n(898992),n(354520),n(581454),n(296540);var o=()=>n(179034),a=()=>n(69708),i=()=>n(314529);var r=()=>n(242422);var s=()=>n(901389),c=()=>n(939555),l=()=>n(380682),d=()=>n(712505),u=()=>n(212640),m=()=>n(538233),v=()=>n(437487),p=n(474848);function y(e){var t;const{environment:n,store:a}=e;v().Ay.reset(),d().default.state.open?u().A.setState({...u().A.state,open:!0}):m().A.setState({...m().A.state,open:!0}),function(e,t){(0,i().DO_NOT_USE_trackLegacy)(e,"open_page_share",t),r().default.logEvent("open_page_share")}(n,{share_menu_session_id:v().Ay.state.sessionId,...a&&a.table===o().ev&&a.isCollectionView()?{collection_id:null===(t=a.getCollectionStore())||void 0===t?void 0:t.id,collection_view_block_id:a.id}:{}})}function f(e){const{environment:t,store:n}=e;d().default.state.open?u().A.setState({...u().A.state,open:!1}):m().A.setState({...m().A.state,open:!1}),l().A.setState({...l().A.state,siteSettingContentType:"initial"});const{collection_view_block_id:a,collection_view_id:r,collection_id:s}=n&&n.table===o().ev&&n.isCollectionView()?{collection_view_block_id:n.id,collection_view_id:(0,c().I)(n,t),collection_id:null===(p=n.getCollectionStoreIfSingleSource())||void 0===p?void 0:p.id}:{collection_view_block_id:void 0,collection_view_id:void 0,collection_id:void 0};var p;!function(e,t){(0,i().DO_NOT_USE_trackLegacy)(e,"close_page_share",t)}(t,{share_menu_session_id:v().Ay.state.sessionId,collection_id:s,collection_view_id:r,collection_view_block_id:a})}async function g(e){const{inviteTargetsStore:t}=e,n=(0,p.jsx)(a().sA,{id:"shareMenu.closeInviteDialog.confirmationMessage",defaultMessage:"Your changes have not been saved. Discard changes?"}),o=(0,p.jsx)(a().sA,{id:"shareMenu.closeInviteDialog.confirmationButton.label",defaultMessage:"Yes"}),i=(0,p.jsx)(a().sA,{id:"shareMenu.closeInviteDialog.cancelButton.label",defaultMessage:"Cancel"});if(t.state.inviteTargets.length>0){return(await s().Gh({message:n,acceptLabel:o,cancelLabel:i})).accept}return!1}},340593:(e,t,n)=>{n.d(t,{d:()=>i});var o=()=>n(765957),a=()=>n(712505);function i(){const{mainEditorCurrentBlockStore:e}=o().default.state;return a().default.state.open&&a().default.state.targetStore||e}},380682:(e,t,n)=>{n.d(t,{A:()=>a});class o extends(()=>n(757695))().Store{getInitialState(){return{siteSettingContentType:"initial"}}}const a=new o},521334:(e,t,n)=>{n.d(t,{M:()=>i});var o=()=>n(492553),a=()=>n(993130);function i(e){const{TabbedRouterStore:t,RouterStore:n}=e;return(0,a().A)(e)?t.canGoForward():e.device.isElectron?o().H.canGoForward():n.canGoForward()}},791117:(e,t,n)=>{function o({environment:{device:e}}){return e.isWindows}n.d(t,{u:()=>o})},875855:(e,t,n)=>{function o({environment:{device:e}}){return e.isAndroid}n.d(t,{m:()=>o})},921912:(e,t,n)=>{n.d(t,{Fg:()=>ot,p6:()=>at,D0:()=>Ct,tN:()=>De});n(898992),n(823215),n(354520),n(581454);var o=n.n(n(36545)),a=()=>n(584262),i=()=>n(700500),r=()=>n(742852),s=()=>n(201980),c=()=>n(69708),l=()=>n(908006),d=()=>n(502438),u=()=>n(132867),m=()=>n(620689),v=()=>n(778417);var p=()=>n(884107),y=()=>n(340593),f=()=>n(60867),g=()=>n(495262),k=()=>n(857783),N=()=>n(495939),h=()=>n(254619),b=()=>n(765957);var S=()=>n(99227);var M=()=>n(391214),A=()=>n(708830),w=()=>n(496603),F=()=>n(20313),P=()=>n(806080);function _(e){const t=d().default.state.stores,n=d().default.state.pivot,o=(0,w().oE)((0,w().FF)(t,n));let a;a=n===(0,P().HV)(t)?t[t.length-2]:t[1],v().td({environment:e,stores:o,pivot:a})}var B=()=>n(695625);function T(e){const t=d().default.state.pivot||(0,P().HV)(d().default.state.stores);if(t){const n=B().T.findScrollToSelectableFromStore(t);n&&m().pb({environment:e,handle:n,vertical:{reveal:"bottom"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}}var C=()=>n(36856);var L=()=>n(405417),U=()=>n(494043),I=()=>n(468484),x=()=>n(324089);function E(e){const t=d().default.state.pivot||d().default.state.stores[0],n=B().T.findScrollToSelectableFromStore(t);n&&m().pb({environment:e,handle:n,vertical:{reveal:"top"},horizontal:n.props.disableScrollToRevealHorizontal?void 0:{reveal:"closest"}})}var K=()=>n(231297),O=()=>n(426716),R=()=>n(414479);function D({blocks:e}){return n(177618).Rd(e)}n(737550);var V=()=>n(129522);var Y=()=>n(792002);var q=()=>n(158658);function G(e){return(0,n(126744).U)(e.environment)}function z(e){return(0,n(521334).M)(e.environment)}var H=()=>n(523195);n(18107),n(967357);function X({blocks:e}){const t=null==e?void 0:e.at(0);return Boolean(t&&(0,L().qr)(t))}var J=()=>n(339425),j=()=>n(664767);var Q=()=>n(929084),W=()=>n(375308),$=()=>n(514779);function Z(){return d().default.state.stores.length>0}function ee(e){return Boolean(b().default.state.mainEditorCurrentBlockStore)}function te(e){const{environment:t}=e,{device:n}=t,o="quickSearch"===t.RouterStore.state.route.name;return n.isElectron&&o}var ne=()=>n(598101),oe=()=>n(422155);var ae=()=>n(852100);var ie=()=>n(202786),re=()=>n(712287),se=()=>n(656219),ce=()=>n(10521);const le=(0,ce().Fw)({key:"open home",displayName:void 0,analyticsName:"openHome",validators:[$().M],shortcuts:["openHome"],closeParentMenu:!0,action:async e=>{const t=e.environment,o=n(696746).XH("main");o&&(await o.load(),o.canRead()&&((0,n(162674).ZL)({environment:t,from:"keyboard_shortcut"}),k().uK({environment:t,store:o,pageVisitSource:a().y8.SidebarHome})))}});var de=()=>n(869562),ue=()=>n(171018),me=()=>n(712505),ve=()=>n(250484),pe=()=>n(789183),ye=()=>n(162301),fe=()=>n(774411),ge=()=>n(934049),ke=()=>n(893306),Ne=()=>n(37689),he=()=>n(426928),be=()=>n(260488),Se=()=>n(574357),Me=()=>n(486674);function Ae(){var e,t;const n=(0,Me().a)(),o=null==n||null===(e=n.getSiteStore())||void 0===e?void 0:e.getModel();return!!o&&Boolean(null===(t=o.getHeader())||void 0===t?void 0:t.hideSearch)}const we=(0,c().YK)({quickFindName:{id:"action.quickFind.name",defaultMessage:"Quick find"}}),Fe=(0,ce().Fw)({key:"quick find",displayName:we.quickFindName,analyticsName:we.quickFindName.defaultMessage,validators:[(0,oe().or)([ee,_e]),(0,ne().A)(Ae)],shortcuts:["quickFind"],closeParentMenu:!0,action:({environment:e})=>be().su({environment:e,analyticsFrom:"keyboard-shortcut"})}),Pe=(0,ce().Fw)({key:"quick find (alternative)",displayName:we.quickFindName,analyticsName:we.quickFindName.defaultMessage,validators:[(0,oe().or)([ee,_e]),(0,ne().A)((0,oe().or)([(0,Se().U)([j().c,ie().T]),(0,Se().U)([q().p,n(440902).v,n(198365).w])])),(0,ne().A)(Ae)],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,action:({environment:e})=>be().su({environment:e,analyticsFrom:"keyboard-shortcut-command-k"})});function _e(e){const t=e.environment.RouterStore.state.route.name;switch(t){case"chat":case"gallery":case"marketplace":case"home":case"page":case"team":case"meet":case"posts":case"workers":case"agent":case"ai":return!0;default:return!1}}var Be=()=>n(22913);var Te=()=>n(693202);const Ce=(0,c().YK)({searchName:{id:"action.search.name",defaultMessage:"Search"}}),Le=(0,ce().Fw)({key:"search",displayName:Ce.searchName,analyticsName:Ce.searchName.defaultMessage,validators:[$().M,(0,oe().or)([n(868673).a,ee]),(0,ne().A)(n(222958).d),(0,ne().A)(n(620612).n),(0,ne().A)((function(){return Boolean(n(735372).Ay.state.open)}))],shortcuts:["search"],closeParentMenu:!0,action:e=>{var t,o;const a=(0,Me().a)();if(!a)return;const i=a.isCollectionView(),r=(0,n(799832).U)(a),s="page"===(null==r||null===(t=r.collectionViewStore())||void 0===t?void 0:t.getType());if(i&&!s){const e=V().K.findCollectionViewBlockFromStore(a);return void(e&&"collectionContextStore"in e&&(null==e||e.collectionContextStore.searchOpenStore.setState(!0)))}const c=null===(o=window.getSelection())||void 0===o?void 0:o.toString(),l="editing"===Te().default.state.mode?Te().default.state:void 0;n(21915).h({environment:e.environment,selectedString:c,textSelectionOnOpen:l})}});var Ue=()=>n(611357);function Ie(e){return void 0!==e.shortcuts}const xe=(0,c().YK)({enterName:{id:"action.enter.name",defaultMessage:"Enter"},copyFormattedLinkNavigableTypeName:{id:"action.copyFormattedLinkNavigableType.name",defaultMessage:"Copy linked title"},pasteName:{id:"action.paste.name",defaultMessage:"Paste"},moveUpName:{id:"action.moveUp.name",defaultMessage:"Move up"},moveDownName:{id:"action.moveDown.name",defaultMessage:"Move down"},propertyVisibilityLabel:{id:"action.propertyVisibility.label",defaultMessage:"Toggle property visibility"},createLinkName:{id:"action.createLink.name",defaultMessage:"Add link"},boldName:{id:"action.bold.name",defaultMessage:"Bold"},italicName:{id:"action.italic.name",defaultMessage:"Italic"},strikeThroughName:{id:"action.strikeThrough.name",defaultMessage:"Strike-through"},underlineName:{id:"action.underline.name",defaultMessage:"Underline"},darkModeName:{id:"action.darkMode.name",defaultMessage:"Dark mode"},openAsPageName:{id:"action.openAsPage.name",defaultMessage:"Open as page"},toggleQnAMessage:{defaultMessage:"Toggle QnA",id:"action.toggleQnA.name"}}),Ee=[q().p,(0,ne().A)(W().v),n(590081).O];function Ke(e){return(0,ce().Fw)({...e,validators:Ee,closeParentMenu:!0,action:({environment:t,blocks:o})=>{K().createAndCommit({userAction:"actionRegistry.createAnnotationAction",environment:t,canUndo:!0,perform:a=>{n(699744).XJ({environment:t,blocks:o,annotation:e.annotation,transaction:a})}})}})}const Oe=(0,ce().Fw)({key:"toggle all updates",displayName:void 0,analyticsName:"toggleAllUpdates",validators:[$().M],shortcuts:["toggleAllUpdates"],closeParentMenu:!0,action:e=>{n(770906).ZT({environment:e.environment,contentType:"inbox"})}}),Re=(0,ce().Fw)({key:"open share menu",displayName:void 0,analyticsName:"openShareMenu",validators:[$().M],shortcuts:["openShareMenu"],closeParentMenu:!0,action:({environment:e,blocks:t})=>n(321172).Tk({environment:e,store:null==t?void 0:t[0]})}),De=(0,ce().Fw)({key:"undo",displayName:ce().AY.undoName,analyticsName:ce().AY.undoName.defaultMessage,svg:n(454503).arrowUTurnUpLeftIcon,validators:[$().M,q().p,n(6744).B,(0,ne().A)(n(775584).F),(0,ne().A)((0,n(419286).X)(i().xd.externalObjectInstancePage)),(0,oe().or)([(0,ne().A)(n(858904).l),(0,ne().A)(n(467294).P)]),(0,ne().A)(J().o)],shortcuts:["undo"],closeParentMenu:!0,track:{actionName:"undo"},action:(e,{environment:t},n)=>g().tN({environment:t,callback:e})}),Ve=(0,ce().Fw)({key:"redo",displayName:ce().AY.redoName,analyticsName:ce().AY.redoName.defaultMessage,svg:n(638616).W,validators:[n(809210).f],shortcuts:["redo"],closeParentMenu:!0,track:{actionName:"redo"},action:(e,{environment:t},n)=>g().ZS({environment:t,callback:e})}),Ye=(0,ce().Fw)({key:"up",analyticsName:"Up",displayName:void 0,validators:[],shortcuts:["up"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&(0,ge().k)(t))return t.metaKey||t.ctrlKey?v().JK(e):void function(e){const{environment:t}=e,n=d().default.state.stores;(0,C().B)(n);const o=d().default.state.pivot,a=n[0];if(a)if(e.shiftKey)if(o===a){const o=(0,F().OL)({includeNonSelectableListContainer:!1}),i=(0,F().Xs)(a,o.children),{prev:r,parent:s}=e.altKey?(0,A().MY)(o,i):(0,A().zJ)(o,i);if(r){const e=r.value.store,o=(0,w().KC)(n,[e]);v().td({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}else if(s){const e=s.value.store,o=(0,w().KC)(n.filter((e=>!(0,A().uU)(s,(t=>t.store===e)))),[e]);v().td({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}}else _(e.environment);else{const n=(0,F().OL)({includeNonSelectableListContainer:!1}),o=(0,F().Xs)(a,n.children),{prev:i,parent:r}=e.altKey?(0,A().MY)(n,o):(0,A().zJ)(n,o);if(i){const e=i.value.store;v().td({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else if(r){const e=r.value.store;v().td({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else v().td({environment:t,stores:[a],pivot:a,multiSelectBoundaryStore:a})}else if(o)v().td({environment:t,stores:[o],multiSelectBoundaryStore:o});else{const e=v().Xc(),n=(0,P().HV)(e);n&&v().td({environment:t,stores:[n],pivot:n,multiSelectBoundaryStore:n})}E(t)}({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),qe=(0,ce().Fw)({key:"left",analyticsName:"Left",displayName:void 0,validators:[],shortcuts:["left"],closeParentMenu:!0,action:({environment:e},t)=>{t&&(0,ge().k)(t)&&function(e){const t=d().default.state.stores;(0,C().B)(t);const n=d().default.state.pivot;if(0!==t.length&&n)if((0,U().BN)(n)&&I().A.isOpen(n.id))v().td({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n}),x().xT({environment:e,blockId:n.id,state:!1,currentUserId:e.currentUser.id});else if((0,L().qr)(n))f().jG(n);else{const t=(0,F().OL)({includeNonSelectableListContainer:!1}),o=(0,F().Xs)(n,t.children),a=(0,A().dC)(o);if(a){const t=a.value.store;v().td({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}else v().td({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}else if(n)v().td({environment:e,stores:[n],multiSelectBoundaryStore:n});else{const t=v().Xc(),n=(0,P().HV)(t);n&&v().td({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}E(e)}(e)}}),Ge=(0,ce().Fw)({key:"down",analyticsName:"Down",displayName:void 0,validators:[],shortcuts:["down"],closeParentMenu:!0,action:({environment:e},t)=>{if(t&&(0,ge().k)(t))return t.metaKey||t.ctrlKey?v().PF(e):void function(e){const{environment:t}=e,n=d().default.state.stores;(0,C().B)(n);const o=d().default.state.pivot,a=w().HV(n);if(a)if(e.shiftKey)if(o===a){const e=(0,F().OL)({includeNonSelectableListContainer:!1}),o=(0,F().Xs)(a,e.children),{next:i}=(0,A().Eq)(e,o);if(i){const e=i.value.store,o=w().KC(n,[e]);v().td({environment:t,stores:o,pivot:e,multiSelectBoundaryStore:e})}}else _(t);else{const n=(0,F().OL)({includeNonSelectableListContainer:!1}),o=(0,F().Xs)(a,n.children),{next:i}=e.altKey?(0,A().Eq)(n,o):(0,A().hi)(n,o);if(i){const e=i.value.store;v().td({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}else v().td({environment:t,stores:[a],pivot:a,multiSelectBoundaryStore:a})}else if(o)v().td({environment:t,stores:[o],multiSelectBoundaryStore:o});else{const e=v().Xc()[0];e&&v().td({environment:t,stores:[e],pivot:e,multiSelectBoundaryStore:e})}T(t)}({environment:e,shiftKey:Boolean(t&&t.shiftKey),altKey:Boolean(t&&t.altKey)})}}),ze=(0,ce().Fw)({key:"right",analyticsName:"Right",displayName:void 0,validators:[],shortcuts:["right"],closeParentMenu:!0,action:({environment:e})=>{!function(e){const t=d().default.state.stores;(0,C().B)(t);const n=d().default.state.pivot;if(0!==t.length&&n)if((0,U().BN)(n)&&!I().A.isOpen(n.id))v().td({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n}),x().xT({environment:e,blockId:n.id,state:!0,currentUserId:e.currentUser.id});else if((0,L().qr)(n))f().Uz(n);else{const t=(0,F().OL)({includeNonSelectableListContainer:!1}),o=(0,F().Xs)(n,t.children),a=(0,A().NU)(o);if(a){const t=a.value.store;v().td({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}else v().td({environment:e,stores:[n],pivot:n,multiSelectBoundaryStore:n})}else if(n)v().td({environment:e,stores:[n],multiSelectBoundaryStore:n});else{const t=v().Xc()[0];t&&v().td({environment:e,stores:[t],pivot:t,multiSelectBoundaryStore:t})}T(e)}(e)}}),He=(0,ce().Fw)({key:"context menu",analyticsName:"Context menu",displayName:void 0,validators:[Z,(0,ne().A)(W().v)],shortcuts:["commandSlash"],closeParentMenu:!0,action:({environment:e})=>{const{stores:t}=d().default.state;n(901265).WU({environment:e,stores:t,actionSectionGroupKey:"default",analyticsFrom:"command_slash_menu"})}}),Xe=(0,ce().Fw)({key:"toggle keyboard shortcuts",analyticsName:"Toggle keyboard shortcuts",displayName:void 0,validators:[$().M],shortcuts:["toggleKeyboardShortcutsModalVisibility"],closeParentMenu:!1,action:e=>{n(449789).j({store:n(965142).V,toggleSource:"keyboard_shortcut"})}}),Je=(0,ce().Fw)({key:"indent",analyticsName:"Indent",displayName:void 0,validators:[q().p,(0,ne().A)(W().v),R().c,(0,ne().A)(O().$)],shortcuts:["tab"],closeParentMenu:!0,action:({environment:e})=>{K().createAndCommit({userAction:"actionRegistry.indent",environment:e,canUndo:!0,perform:t=>{!function(e){const t=d().default.state.stores;if(t.length>0){const n=u().pZ({environment:e.environment,blocks:t,transaction:e.transaction});n&&v().td({environment:e.environment,stores:n})}}({environment:e,transaction:t})}})}}),je=(0,ce().Fw)({key:"subitemIndent",analyticsName:"Toggle By Indent",displayName:void 0,validators:[q().p,(0,ne().A)(W().v),R().c,O().$,X,D],shortcuts:["tab"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{K().createAndCommit({userAction:"actionRegistry.subitemIndent",environment:t,canUndo:!0,perform:n=>{f().RJ({environment:t,transaction:n,blocks:e,action:"indentSelfAndSubtree"})}})}}),Qe=(0,ce().Fw)({key:"unindent",analyticsName:"Unindent",displayName:void 0,validators:[q().p,(0,ne().A)(W().v),R().c,(0,ne().A)(O().$)],shortcuts:["untab"],closeParentMenu:!0,action:({environment:e})=>{K().createAndCommit({userAction:"actionRegistry.unindent",environment:e,canUndo:!0,perform:t=>{!function(e){const t=d().default.state.stores;if(t.length>0){const n=u().Y1({environment:e.environment,blocks:t,transaction:e.transaction});n&&v().td({environment:e.environment,stores:n})}}({environment:e,transaction:t})}})}}),We=(0,ce().Fw)({key:"subitemUnindent",analyticsName:"Toggle By Unindent",displayName:void 0,validators:[q().p,(0,ne().A)(W().v),R().c,O().$,X,D],shortcuts:["untab"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{K().createAndCommit({userAction:"actionRegistry.subitemUnindent",environment:t,canUndo:!0,perform:n=>{f().RJ({environment:t,transaction:n,blocks:e,action:"unindentSelf"})}})}}),$e=(0,ce().Fw)({key:"escape",analyticsName:"Escape",displayName:void 0,validators:[(0,ne().A)(te)],shortcuts:["esc"],closeParentMenu:!0,action:({environment:e})=>{n(415651).Pt(e),v().IU({environment:e}),n(661920).nJ(e),n(846955).default.dismissTourTutorial()}}),Ze=(0,ce().Fw)({key:"escape",analyticsName:"Quick Search Escape",displayName:void 0,validators:[te],shortcuts:["esc"],closeParentMenu:!0,action:()=>{ve().Ay.state.query.text.length>0?ve().Ay.updateQueryText(""):(0,n(46497).y)()}}),et=(0,ce().Fw)({key:"select all",analyticsName:"Select all",displayName:void 0,validators:[],shortcuts:["selectAll"],closeParentMenu:!0,action:({environment:e})=>{v().Ub(e)}}),tt=(0,ce().Fw)({key:"cut",analyticsName:"Cut",displayName:void 0,validators:[q().p,(0,ne().A)(W().v),H().o],shortcuts:["cut"],closeParentMenu:!0,action:({environment:e,lazyDependencies:t},n)=>{const{clipboardActions:o,markdownLinkifyIt:a}=t;o&&n&&(0,ge().N)(n)&&o&&o.cutWithMaybeConfirmation({environment:e,event:n,markdownLinkifyIt:a})}}),nt=(0,ce().Fw)({key:"copy",analyticsName:"Copy",displayName:void 0,validators:[],shortcuts:["copy"],closeParentMenu:!0,action:({environment:e,lazyDependencies:t},n)=>{const{clipboardActions:o,markdownLinkifyIt:a}=t;n&&(0,ge().N)(n)&&o&&o.copy({environment:e,event:n,markdownLinkifyIt:a})}});async function ot(e,t,n){const o=await p().R.clipboardActions.load(),a=(0,y().d)();if(a)return void e(o)({environment:t,blockStore:a,callback:n});const i=function(e){const{route:t}=e.RouterStore.state;if(t&&"marketplace"===t.name&&"templates"===t.pageType&&t.slug)return(0,ae().sO)(t.slug,t)}(t);if(i){const{copyString:e,clipboardMessages:a}=o;return void e({environment:t,stringValue:i,copiedMessage:a.copiedLinkToClipboard}).then(n)}const r=function(e){const{route:t}=e.RouterStore.state;if(t&&"agent"===t.name)return window.location.href}(t);if(r){const{copyString:e,clipboardMessages:a}=o;e({environment:t,stringValue:r,copiedMessage:a.copiedLinkToClipboard}).then(n)}}const at=(0,ce().Fw)({key:"copy link to current page",displayName:ce().AY.copyLinkNavigableTypeName,analyticsName:ce().AY.copyLinkNavigableTypeName.defaultMessage,svg:r().linkIcon,validators:[Q().b,(0,ne().A)(J().o)],shortcuts:["copyLinkToCurrentPage"],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{environment:t},n)=>ot((e=>e.copyLinkToBlock),t,e)}),it=(0,ce().Fw)({key:"copy linkified page title to current page",displayName:xe.copyFormattedLinkNavigableTypeName,analyticsName:xe.copyFormattedLinkNavigableTypeName.defaultMessage,svg:r().linkIcon,validators:[],shortcuts:["copyCurrentPageLinkifiedBlockTitle"],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{environment:t},n)=>ot((e=>e.copyFormattedLinkToBlock),t,e)}),rt=(0,ce().Fw)({key:"paste",displayName:xe.pasteName,analyticsName:xe.pasteName.defaultMessage,validators:[q().p,(0,ne().A)(W().v),H().o,$().M],shortcuts:["paste"],closeParentMenu:!0,track:{actionName:"paste"},action:(e,{environment:t,lazyDependencies:{clipboardActions:n,formulasModule:o,markdownLinkifyIt:a,tinyMceMicrosoftWordPasteFilter:i}},r)=>{if(!r||!(0,ge().N)(r)||!n)return;const{serverCommitResult:s}=K().createAndCommit({userAction:"actionRegistry.paste",environment:t,canUndo:!0,perform:e=>{n.paste({environment:t,event:r,disableEmbedMenu:!0,transaction:e,onPasteFiles:n.pasteFilesForBlocks,formulasModule:o,markdownLinkifyIt:a,tinyMceMicrosoftWordPasteFilter:i})}});s.then(e)}}),st=(0,ce().Fw)({key:"move up",displayName:xe.moveUpName,analyticsName:xe.moveUpName.defaultMessage,validators:[q().p,R().c,(0,ne().A)(O().$)],shortcuts:["moveUp"],closeParentMenu:!0,action:({environment:e})=>{K().createAndCommit({userAction:"actionRegistry.moveUp",environment:e,canUndo:!0,perform:t=>{!async function(e){const t=u().BO({transaction:e.transaction,blocks:d().default.state.stores});t&&(v().td({environment:e.environment,stores:t}),await l().default.afterNextFlush(),m().BM({environment:e.environment}))}({environment:e,transaction:t})}})}}),ct=(0,ce().Fw)({key:"move down",displayName:xe.moveDownName,analyticsName:xe.moveDownName.defaultMessage,validators:[q().p,R().c,(0,ne().A)(O().$)],shortcuts:["moveDown"],closeParentMenu:!0,action:({environment:e})=>{K().createAndCommit({userAction:"actionRegistry.moveDown",environment:e,canUndo:!0,perform:t=>{!async function(e){const t=u().oJ({transaction:e.transaction,blocks:d().default.state.stores});t&&(v().td({environment:e.environment,stores:t}),await l().default.afterNextFlush(),m().BM({environment:e.environment}))}({environment:e,transaction:t})}})}}),lt=(0,ce().Fw)({key:"property visibility",displayName:xe.propertyVisibilityLabel,analyticsName:xe.propertyVisibilityLabel.defaultMessage,shortcuts:["togglePropertyVisibility"],validators:[q().p,(0,ne().A)(n(155963).K)],closeParentMenu:!0,action:e=>{const t=Object.values(me().default.state.open?ue().A6.state.pagePropertiesStoreMap:ue().Ep.state.pagePropertiesStoreMap),n=me().default.state.open?me().default.state.targetStore:b().default.state.mainEditorCurrentBlockStore;if(!n)return;const o=n.getAssociatedCollectionStore();if(!o)return;const a=t.every((e=>e.state.forceShowProperties)),i=(null==o?void 0:o.getNormalizedPropertyGroups())??[],r=i.every((e=>se().A.isPropertyGroupExpanded({groupId:e.id}))),s=!a||!r;for(const c of t)c.setState({...c.state,forceShowProperties:s});for(const c of i)se().A.setPropertyGroupExpandedOverride({groupId:c.id,override:s?"open":"closed"})}}),dt=(0,ce().Fw)({key:"enter",displayName:xe.enterName,analyticsName:xe.enterName.defaultMessage,validators:[q().p,(0,ne().A)(W().v)],shortcuts:["enter"],closeParentMenu:!0,action:({environment:e,blocks:t})=>{K().createAndCommit({userAction:"actionRegistry.enter",environment:e,canUndo:!0,perform:e=>{M().x7({blocks:t,transaction:e})}})}}),ut=(0,ce().Fw)({key:"activate",analyticsName:"Activate",displayName:void 0,validators:[q().p,function(e){return e.blocks.some((e=>Boolean(V().K.findBlockFromStoreWithMethod(e,"activate"))))}],shortcuts:["commandEnter"],closeParentMenu:!0,action:e=>M().Yf(e)}),mt=(0,ce().Fw)({key:"open tab",analyticsName:"open tab",displayName:void 0,validators:[function(e){if(1!==e.blocks.length)return!1;const t=e.blocks.at(0);if(!t)return!1;const o=t.getParentStore();return!(!o||o.table!==n(179034).ev)&&o.isType(i().xd.tab)}],shortcuts:["commandEnter"],closeParentMenu:!0,action:e=>M().AP(e)}),vt=(0,ce().Fw)({key:"toggle sidebar",analyticsName:"Toggle sidebar",displayName:void 0,validators:[(0,ne().A)((function(){return n(899677).default.state.open}))],shortcuts:["toggleSidebar"],closeParentMenu:!0,action:({environment:e})=>de().setExpand({environment:e,isExpanded:!n(749687).sidebarExpandedStore.state,from:"keyboard_shortcut",saveDetailsSidebarPreference:!0})}),pt=(0,ce().Fw)({key:"toggle update sidebar",analyticsName:"Toggle update sidebar",displayName:void 0,validators:[],shortcuts:["toggleUpdateSidebar"],closeParentMenu:!0,action:({environment:e})=>{if(me().default.state.open){const t=n(455994).A.getPanelState("peek"),o=me().default.state.targetStore,a=null==o?void 0:o.getAssociatedCollectionStore();if(!a)return;const i=a.getLayoutStore();if(!i)return;t.isOpen?(0,re().F)({environment:e,layoutStore:i,from:"keyboard_default",panelLocation:"peek"}):(0,re().j)({environment:e,layoutStore:i,from:"keyboard_default",panelLocation:"peek"})}else de().setUpdateExpand({environment:e,isExpanded:!(0,n(644914).Nk)(e),from:"keyboard_default",saveDetailsSidebarPreference:!0})}}),yt=(0,ce().Fw)({key:"open link annotation menu",displayName:xe.createLinkName,analyticsName:xe.createLinkName.defaultMessage,validators:[j().c,ie().T,function(){return!((0,Y().y_)(s().Ifu.User)||(0,Y().y_)(s().Ifu.Bot)||(0,Y().y_)(s().Ifu.Date)||(0,Y().y_)(s().Ifu.Page))},H().o,(0,ne().A)(n(9402).P)],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,action:()=>n(501666).fi({type:"focusOnly",focus:!0})}),ft=(0,ce().Fw)({key:"exit app",analyticsName:"Exit app",displayName:void 0,validators:[(0,ne().A)(G),n(875855).m],shortcuts:["backbutton"],closeParentMenu:!0,action:({environment:e})=>{if(e.mobileNative)if((0,n(993130).A)(e)){const{TabbedRouterStore:t}=e;"home"!==t.state.activeTab?n(537941).s({environment:e,tab:"home",navigationAction:"pop",navigationSource:"mobile-back-navigation"}):e.mobileNative.exitApp()}else e.mobileNative.exitApp()}}),gt=(0,ce().Fw)({key:"command left",analyticsName:"Go back",displayName:void 0,validators:[G,(0,ne().A)(j().c)],shortcuts:["commandLeft"],closeParentMenu:!0,action:(e,t)=>(0,N().a)(e.environment)}),kt=(0,ce().Fw)({key:"command right",analyticsName:"Go forward",displayName:void 0,validators:[z,(0,ne().A)(j().c)],shortcuts:["commandRight"],closeParentMenu:!0,action:e=>(0,S().s)(e.environment)}),Nt=(0,ce().Fw)({key:"go back",analyticsName:"Go back",displayName:void 0,validators:[G],shortcuts:["goBack","backbutton"],closeParentMenu:!0,action:({environment:e})=>(0,N().a)(e)}),ht=(0,ce().Fw)({key:"go forward",analyticsName:"Go forward",displayName:void 0,validators:[z],shortcuts:["goForward"],closeParentMenu:!0,action:e=>(0,S().s)(e.environment)}),bt=(0,ce().Fw)({key:"go up",analyticsName:"Go up",displayName:void 0,validators:[()=>function(){const e=b().default.state.mainEditorCurrentBlockStore;return!!e&&Boolean((0,h().N)(e,1))}()],shortcuts:["goUp"],closeParentMenu:!0,action:({environment:e})=>function(e){const t=b().default.state.mainEditorCurrentBlockStore;if(!t)return;const o=(0,h().N)(t,1);o&&k().uK({environment:e,store:n(148832).B.createChildStore(o,o.pointer),pageVisitSource:a().y8.Breadcrumb})}(e)}),St=(0,ce().Fw)({key:"open settings",analyticsName:"Open settings",displayName:void 0,validators:[Q().b,n(791117).u],shortcuts:["settings"],closeParentMenu:!0,action:e=>{n(209660).Ow()}}),Mt=(0,ce().Fw)({key:"navigate to notion ai page",analyticsName:"navigateToNotionAIPage",displayName:void 0,validators:[$().M,function(){return n(430483).zD.isAiEnabled()}],shortcuts:["navigateToNotionAIPage"],closeParentMenu:!0,action:({environment:e})=>{(0,n(577142).navigate)({environment:e,url:"/ai"})}}),At=(0,ce().Fw)({key:"new page",analyticsName:"New page",displayName:void 0,validators:[function(){const{sidebarSpaceStore:e}=b().default.state;return Boolean(e&&e.canEdit())},$().M,(0,oe().or)([Q().b,n(918871).w]),(0,ne().A)((function({environment:e}){return(0,n(266615).J)({environment:e})}))],shortcuts:["newPage"],closeParentMenu:!0,action:({environment:e})=>{(0,n(599412).M)({environment:e,from:"cmd_n"})}}),wt=(0,ce().Fw)({key:"turn into type",displayName:ce().AY.turnIntoName,analyticsName:ce().AY.turnIntoName.defaultMessage,validators:[q().p,(0,ne().A)(W().v),n(792609).Y,n(409076).p],shortcuts:["turnIntoType"],closeParentMenu:!0,track:{actionName:"turn_into"},action:async(e,{blocks:t,environment:a},r)=>{const s=await(0,n(855801).zQ)();if(!r||!(0,ge().k)(r))return;r.preventDefault();const c=parseInt(o()(r.keyCode)),l=i().zx[c],{serverCommitResult:d}=K().createAndCommit({userAction:"actionRegistry.turnIntoTypeViaKeyboard",environment:a,canUndo:!0,perform:e=>{s({environment:a,blocks:t,blockType:l,transaction:e})}});d.then(e)}}),Ft=[Ke({key:"toggle bold",displayName:xe.boldName,analyticsName:xe.boldName.defaultMessage,shortcuts:["toggleBold"],annotation:["b"]}),Ke({key:"toggle italics",displayName:xe.italicName,analyticsName:xe.italicName.defaultMessage,shortcuts:["toggleItalics"],annotation:["i"]}),Ke({key:"toggle strike",displayName:xe.strikeThroughName,analyticsName:xe.strikeThroughName.defaultMessage,shortcuts:["toggleStrike"],annotation:["s"]}),Ke({key:"toggle underline",displayName:xe.underlineName,analyticsName:xe.underlineName.defaultMessage,shortcuts:["toggleUnderline"],annotation:[s().Ifu.Underline]})],Pt=(0,ce().Fw)({key:"toggle dark mode",displayName:xe.darkModeName,analyticsName:xe.darkModeName.defaultMessage,validators:[],shortcuts:["toggleDarkMode"],closeParentMenu:!0,action:({environment:e})=>{const t="light"===e.ThemeStore.state.mode?"dark":"light";n(175320).C5(t)}}),_t=(0,ce().Fw)({key:"open peek view as page",displayName:xe.openAsPageName,analyticsName:xe.openAsPageName.defaultMessage,validators:[n(384937).G],shortcuts:["commandEnter"],closeParentMenu:!0,action:({environment:e})=>{me().default.peekTargetStore.state&&k().uK({environment:e,store:me().default.peekTargetStore.state,pageVisitSource:a().y8.Expand})}});function Bt(e){return e.actions.filter(Ie).map((t=>({...t,searchName:[e.title,t.displayName].filter(Boolean).join(" ")})))}const Tt=(0,ce().Fw)({key:"toggle qna in corner",displayName:xe.toggleQnAMessage,analyticsName:"toggleQnAPane",validators:[ee,(0,ne().A)(Z),...n(907487).J],shortcuts:["commandJ"],closeParentMenu:!0,action:async({environment:e})=>{const{RouterStore:t}=e,{route:o}=t.state;if("chat"===o.name)return;const{getIsChatSidebarOpen:a}=await Promise.resolve().then(n.bind(n,890754));if(a(e)){const{dismissChatSidebar:e}=await Promise.resolve().then(n.bind(n,118078));e()}else{const{showChatSidebar:t}=await Promise.resolve().then(n.bind(n,118078)),o=b().default.state.mainEditorCurrentBlockStore;o&&t({environment:e,store:o,chatSidebarRouteData:{isOpen:!0},source:"keyboard_shortcut"})}}}),Ct=[Fe,Pe,n(410767).z,...fe().yj.actions,fe().As,n(571157).i,dt,ut,ke().N,ke().S,mt,he().Sr,he().EC,Ue().Zm,Ue().Lc,Be().U,Be().H,pe().Im,pe().pG,(0,n(363019).F)("keyboard_shortcut"),De,Ve,Le,Je,je,We,Qe,et,$e,Ze,st,ct,tt,nt,rt,Ye,qe,Ge,ze,Tt,He,ye().gS,n(599364).k,ye().KV,yt,ft,Nt,ht,gt,kt,bt,Ne().tw,Ne().Yk,at,it,wt,he().NQ,he().ET,Xe,vt,pt,St,At,Pt,_t,lt,Oe,Re,le,Mt,...Ft,...Bt(n(843005).t3),...Bt(n(741043).kl)]},939555:(e,t,n)=>{n.d(t,{I:()=>a});var o=()=>n(765957);function a(e,t){if(function(e){return e===o().default.state.mainEditorCurrentBlockStore}(e)){const{RouterStore:e}=t,n=e.state.route;if("page"===n.name)return n.collectionViewId}}}}]);