"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[90638],{8540:(e,i,t)=>{t.d(i,{X:()=>o});var a=()=>t(166386),s=()=>t(152197),n=()=>t(985315);function o(){const e=(0,s().r)(),i=(0,n().g)({spaceId:e});if(i)return(0,a().e8)(i,"coupon")}},13966:(e,i,t)=>{t.d(i,{H:()=>a});const a=(0,t(340498).xh)("infoCircle",{default:{loader:()=>t.e(7457).then(t.bind(t,525884))},small:{loader:()=>t.e(7457).then(t.bind(t,395546))},fill:{loader:()=>t.e(7457).then(t.bind(t,879526))},fillSmall:{loader:()=>t.e(7457).then(t.bind(t,361173))}},["info","circle","information","help","details"])},30858:(e,i,t)=>{t.d(i,{HN:()=>d,Ki:()=>r,a7:()=>u,s1:()=>p,yX:()=>c});t(898992),t(737550),t(296540);var a=()=>t(491598),s=()=>t(166386),n=()=>t(69708),o=()=>t(765957),l=t(474848);function r(e){if(!e)return;const i=(0,s().b_)(e);return(0,l.jsx)(n().sA,{id:"coupon.duration.months",defaultMessage:"{formattedMonths} months",values:{formattedMonths:(0,l.jsx)(n().Gr,{value:i.months})}})}function d(e,i,t,s){return s&&(0,a().FV)(s.campaign,i)?s:t&&e===i&&(0,a().FV)(t.campaign,e)?t:void 0}function c(e,i,t){if(e&&(0,s().rM)(e)&&function(e,i,t){const s=(0,a().MN)(e.offer.campaign,i),n=!!t&&(0,a().sZ)(e.offer.campaign,t);return s&&n}(e,i,t))return(0,s().kd)(e)}function u(e){var i;const t=null===(i=o().default.state.currentUserSettingsStore)||void 0===i?void 0:i.getSettings();return((null==t?void 0:t.offer_dismissal_timestamps)??[]).some((i=>i.campaign===e))}function p(e){return(0,s().b_)(e).days}},71904:(e,i,t)=>{t.d(i,{y:()=>w});var a=t(296540),s=()=>t(107683),n=()=>t(49210),o=(t(898992),t(908872),()=>t(624119)),l=()=>t(59226),r=()=>t(56366),d=()=>t(401497),c=()=>t(699143),u=()=>t(493552),p=()=>t(292119),g=()=>t(177167),m=()=>t(69708),f=()=>t(901389),h=()=>t(802790),b=()=>t(347063),v=()=>t(460292),y=()=>t(972435),S=()=>t(765957),x=()=>t(370441),M=t(474848);const A=(0,m().YK)({createPaymentMethodFailed:{id:"spaceSubscriptionBilling.updatePaymentMethod.create.failed",defaultMessage:"We were unable to save your payment method. Please try again or try a different payment method."}});function P(e){const i=(0,l().X)("native_invoice_payment"),{currency:t,onAccept:s,unpaidInvoices:n}=e,d=(0,m().tz)(),u=x().useElementsOptions({type:"setup",currency:t}),p={defaultValues:{billingDetails:(0,r().K8)((()=>{const e=S().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])}},g=a.useCallback((async(e,i)=>{const{error:t}=await e.submit();if(t)return;const{error:a,paymentMethod:n}=await i.createPaymentMethod({elements:e});a?f().f1(y().A.formatMessage(A.createPaymentMethodFailed)):n&&s(n)}),[s]),h=n.length>0,v=n.reduce(((e,i)=>e+i.total),0),P=(0,a.useMemo)((()=>x().getStripe()),[]);return(0,M.jsx)(o().Elements,{stripe:P,options:u,children:(0,M.jsx)(o().ElementsConsumer,{children:({elements:e,stripe:t})=>{var a;return(0,M.jsx)(b().tf,{showDismissButton:!1,header:(0,M.jsx)(j,{isNativeInvoicePaymentEnabled:i,hasUnpaidInvoices:h}),footer:null,children:(0,M.jsxs)(c().Y1,{children:[i&&h?(0,M.jsx)(C,{}):null,(0,M.jsx)(o().PaymentElement,{options:p}),i&&h?(0,M.jsx)(I,{unpaidTotal:v,currencyCode:null===(a=n[0])||void 0===a?void 0:a.currencyCode,intl:d}):null,(0,M.jsx)(b().aO,{layout:"horizontal-right",primaryButtons:[{label:(0,M.jsx)(B,{isNativeInvoicePaymentEnabled:i,hasUnpaidInvoices:h}),onClick:async()=>{e&&t&&await g(e,t)}}],secondaryButtons:[{buttonType:"dismiss"}]})]})})}})})}function j(e){const{isNativeInvoicePaymentEnabled:i,hasUnpaidInvoices:t}=e;return i&&t?(0,M.jsx)(u().D,{styleKey:"Title/Semibold",colorVariant:"primary",children:(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.unpaid.title",defaultMessage:"Update payment method"})}):(0,M.jsx)(u().D,{styleKey:"Title-sm/Medium",colorVariant:"primary",children:(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.title",defaultMessage:"Change your payment method"})})}function C(){const e=(0,d().IS)((e=>({detailsHeader:{display:"flex",alignItems:"center",paddingBottom:"8px",justifyContent:"space-between"},detailsText:{color:e.text.secondary,textAlign:"start"}})),[]);return(0,M.jsxs)("div",{style:e.detailsHeader,children:[(0,M.jsx)(u().D,{styleKey:"Caption/Semibold",style:e.detailsText,children:(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.paymentDetails.header",defaultMessage:"Payment details"})}),(0,M.jsx)(v().Q,{iconGroup:g().x,variantName:"small",colorVariant:"tertiary"})]})}function I(e){const{unpaidTotal:i,currencyCode:t,intl:a}=e,s=(0,d().IS)((e=>({amount:{textAlign:"start"},divider:{padding:"16px 0px"},totalFooter:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"6px"},totalText:{color:e.text.secondary,textAlign:"start"}})),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(h().A,{size:1,style:s.divider}),(0,M.jsxs)("div",{style:s.totalFooter,children:[(0,M.jsx)(u().D,{styleKey:"Caption/Semibold",style:s.totalText,children:(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.invoiceTotal",defaultMessage:"Total unpaid invoices"})}),(0,M.jsx)(u().D,{styleKey:"Title/Semibold",colorVariant:"primary",style:s.amount,children:(0,M.jsx)(p().v,{cost:{amount:i,currencyCode:t},trailingZeroDisplay:"stripIfInteger",intl:a})})]})]})}function B(e){const{isNativeInvoicePaymentEnabled:i,hasUnpaidInvoices:t}=e;return i&&t?(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.updateAndPay",defaultMessage:"Update & pay"}):(0,M.jsx)(m().sA,{id:"paymentMethodModalContent.update",defaultMessage:"Update"})}async function w(e){return await n().T.showAsyncModal((i=>(0,M.jsx)(s().s,{isOpen:i.isOpen,onDismiss:i.onDismiss,onClosed:i.onClosed,animateSizeTransition:!1,areaConstraint:{width:{type:"fixed",length:500},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,M.jsx)(P,{currency:e.currencyCode,onAccept:i.resolve,unpaidInvoices:e.unpaidInvoices})})))}},83489:(e,i,t)=>{t.d(i,{H:()=>a});const a=(0,t(340498).xh)("infoCircle",{default:{loader:()=>t.e(29288).then(t.bind(t,829288))},small:{loader:()=>t.e(81438).then(t.bind(t,781438))},mini:{loader:()=>t.e(16742).then(t.bind(t,16742))},large:{loader:()=>t.e(29750).then(t.bind(t,29750))}})},115562:(e,i,t)=>{t.d(i,{W:()=>d});t(296540);var a=()=>t(819121),s=()=>t(401497),n=()=>t(451306),o=()=>t(73956),l=()=>t(340498),r=t(474848);function d(e){const{selectorSize:i="normal",...t}=e,{disabled:d,checked:c}=t,[u,p]=(0,a().A)(),g=function(e){const{checked:i,disabled:t,isFocusVisible:a,selectorSize:n}=e;return(0,s().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===n?15:11,height:"large"===n?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===n?2:1,transition:"background 100ms ease-out",...i?{boxShadow:`0 0 0 1.5px ${t?e.background.tertiaryTranslucent:e.blue.background.accentPrimary}`,background:t?e.background.tertiaryTranslucent:e.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${t?e.icon.quaternary:e.border.strong}`,background:e.background.primary},...a&&{boxShadow:e.buttonBlueFocusRing}},active:{background:i?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===n?18:void 0,height:"large"===n?18:void 0,...t?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.blue.text.inversePrimary,width:"large"===n?l().Ev.xs:l().Ev.xxs,height:"large"===n?l().Ev.xs:l().Ev.xxs,ariaHidden:!0}})),[n,i,t,a])}({checked:c,disabled:d,selectorSize:i,isFocusVisible:p});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:u,type:"checkbox",style:g.input,...t}),(0,r.jsx)("span",{...(0,n().AH)(g.root,d?{}:{pseudoActive:g.active}),children:c?(0,o().checkmarkFillSmallIcon)(g.icon):void 0})]})}},158894:(e,i,t)=>{t.r(i),t.d(i,{figmaIcon:()=>n,iconDefinition:()=>s});t(296540);var a=t(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"4 1 12 18",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_2493_100)",children:[(0,a.jsx)("path",{fill:"#1ABCFE",d:"M10 10a2.97 2.97 0 1 1 5.94 0A2.97 2.97 0 0 1 10 10"}),(0,a.jsx)("path",{fill:"#0ACF83",d:"M4.061 15.939a2.97 2.97 0 0 1 2.97-2.97H10v2.97a2.97 2.97 0 0 1-5.94 0"}),(0,a.jsx)("path",{fill:"#FF7262",d:"M10 1.092V7.03h2.97a2.97 2.97 0 1 0 0-5.94z"}),(0,a.jsx)("path",{fill:"#F24E1E",d:"M4.061 4.061a2.97 2.97 0 0 0 2.97 2.97H10V1.09H7.03a2.97 2.97 0 0 0-2.97 2.97"}),(0,a.jsx)("path",{fill:"#A259FF",d:"M4.061 10a2.97 2.97 0 0 0 2.97 2.97H10V7.03H7.03A2.97 2.97 0 0 0 4.06 10"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_2493_100",children:(0,a.jsx)("path",{fill:"#fff",d:"M4 1h12v18H4z"})})})]})},n=(0,t(340498).wt)("figma",s)},177167:(e,i,t)=>{t.d(i,{x:()=>a});const a=(0,t(340498).xh)("lockClosedFill",{default:{loader:()=>t.e(61466).then(t.bind(t,161466))},small:{loader:()=>t.e(6960).then(t.bind(t,106960))},mini:{loader:()=>t.e(26180).then(t.bind(t,26180))},large:{loader:()=>t.e(37636).then(t.bind(t,37636))}})},251111:(e,i,t)=>{t.d(i,{Z:()=>n});const a=/^\d{5}(-\d{4})?$/,s=/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] ?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i;function n(e){if(!e||!e.country)return!1;switch(e.country){case"US":return a.test(e.zipCode);case"CA":return s.test(e.zipCode);default:return!0}}},278597:(e,i,t)=>{t.d(i,{g:()=>B});t(581454);var a=t(296540),s=()=>t(59226),n=()=>t(726637),o=()=>t(662303),l=()=>t(484714),r=()=>t(401497),d=()=>t(869190),c=()=>t(69708),u=()=>t(27579),p=()=>t(8178),g=()=>t(729369),m=()=>t(930851),f=(t(944114),()=>t(631524));const h=(0,t(340498).xh)("clock",{default:{loader:()=>t.e(27616).then(t.bind(t,927616))},small:{loader:()=>t.e(3862).then(t.bind(t,403862))},mini:{loader:()=>t.e(74206).then(t.bind(t,874206))},large:{loader:()=>t.e(77742).then(t.bind(t,377742))}});var b=()=>t(167355),v=()=>t(802790),y=()=>t(460292),S=()=>t(125565),x=()=>t(517492),M=t(474848);const A=function(e){const{environment:i,events:s,isEmpty:l,upcomingInvoiceData:p,upcomingInvoiceUrl:g}=e,m=(0,r().IS)((e=>({cell:{paddingInlineEnd:12,height:48},tableBox:{tableLayout:"fixed"},charge:{color:e.text.secondary},status:{color:e.text.secondary},tooltip:{width:"216px"}})),[]),f=a.useCallback((e=>{var t;i.device.isMobileNative?null===(t=i.mobileNative)||void 0===t||t.openExternalBrowser(e):(0,u().L)({environment:i,url:e})}),[i]),h=(0,M.jsx)("div",{style:m.tooltip,children:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.tooltip",defaultMessage:"Your payment method was invalid for this past invoice. Please update your payment method via the Edit method button above."})}),b=[];if(p){const e=(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.upcomingInvoice",defaultMessage:"Upcoming invoice"}),i=(0,M.jsx)(x().v,{cost:{amount:p.total,currencyCode:p.currencyCode},trailingZeroDisplay:"stripIfInteger"});b.push({key:"upcoming",columns:[(0,M.jsx)(j,{formattedText:e},"upcoming"),(0,M.jsx)(j,{formattedText:i,style:m.charge},"upcoming"),(0,M.jsx)(j,{formattedText:(0,M.jsx)(M.Fragment,{children:"-"}),style:m.status},"upcoming"),(0,M.jsx)(C,{handleViewInvoice:()=>f(`${n().A.domainBaseUrl}${g}`)},"upcoming")]})}s.map((e=>{const i=(0,d().W_)(e.timestamp,"medium",o().locale),a=(0,M.jsx)(I,{event:e}),s="paid"!==e.status&&"processing"!==e.paymentStatus&&e.attempted,l=(0,M.jsx)(x().v,{cost:{amount:e.total,currencyCode:e.currencyCode},trailingZeroDisplay:"stripIfInteger"});b.push({key:e.id,columns:[(0,M.jsx)(j,{formattedText:i,paymentFailed:s},e.id),(0,M.jsx)(j,{formattedText:l,style:m.charge,paymentFailed:s},e.id),(0,M.jsx)(t(859428).A,{textWrap:!0,renderTooltip:()=>h,disableTooltip:!s,originGap:6,placement:"bottom",render:i=>(0,M.jsx)("div",{...i,children:(0,M.jsx)(j,{formattedText:a,style:m.status,paymentFailed:s},e.id)})},e.id),(0,M.jsx)(C,{handleViewInvoice:()=>f(`${n().A.domainBaseUrl}/invoice/${e.id}`)},e.id)]})}));const v=[{key:"date",header:(0,M.jsx)("div",{style:{fontSize:14},children:(0,M.jsx)(c().sA,{id:"invoicesSectionBillingTab.dateColumnLabel",defaultMessage:"Date"})}),style:{width:"54%",padding:"3px 5px"}},{key:"charge",header:(0,M.jsx)("div",{style:{fontSize:14},children:(0,M.jsx)(c().sA,{id:"invoicesSectionBillingTab.charge",defaultMessage:"Charge"})}),style:{width:"20%",padding:"3px 5px"}},{key:"status",header:(0,M.jsx)("div",{style:{fontSize:14},children:(0,M.jsx)(c().sA,{id:"invoicesSectionBillingTab.status",defaultMessage:"Status"})}),style:{width:"20%",padding:"3px 5px"}},{key:"view",header:(0,M.jsx)(M.Fragment,{}),style:{width:"6%",padding:"3px 5px"}}];return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(t(317182).A,{columns:v,rows:b,tableStyle:m.tableBox,cellStyle:m.cell}),l?(0,M.jsx)(P,{}):void 0]})};function P(){const e=(0,r().IS)((e=>({message:{textAlign:"center",marginTop:12,marginBottom:12,color:e.text.tertiary}})),[]);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(S().A,{style:e.message,children:(0,M.jsx)(c().sA,{id:"invoices.results.empty",defaultMessage:"You have no invoices in this workspace"})}),(0,M.jsx)(v().A,{size:1})]})}function j(e){const{formattedText:i,paymentFailed:t,style:a}=e,s=(0,r().IS)((e=>({row:{...a,padding:"3px 7px",...t&&{color:e.red.text.accentPrimary}}})),[a,t]);return(0,M.jsx)("div",{style:s.row,children:i})}function C(e){const{handleViewInvoice:i}=e,t=(0,r().IS)((()=>({view:{padding:"3px 7px"}})),[]);return(0,M.jsx)(f().p,{style:t.view,onClick:i,children:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceView.view",defaultMessage:"View"})})}function I({event:e}){const i=(0,r().IS)((e=>({pending:{color:e.yellow.icon.accentPrimary},icon:{marginInlineEnd:4},iconStatus:{display:"flex",alignItems:"center"}})),[]);return"paid"===e.status?e.total<0?(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.credited",defaultMessage:"Credited"}):(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.paid",defaultMessage:"Paid"}):"processing"===e.paymentStatus?(0,M.jsxs)("div",{style:{...i.iconStatus,...i.pending},children:[(0,M.jsx)("div",{style:i.icon,children:(0,M.jsx)(y().Q,{iconGroup:h,colorPalette:"yellow",colorVariant:"accentPrimary",variantName:"small"})}),(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.pending",defaultMessage:"Pending"})]}):e.attempted?(0,M.jsxs)("div",{style:i.iconStatus,children:[(0,M.jsx)("div",{style:i.icon,children:(0,M.jsx)(y().Q,{iconGroup:b().F,colorPalette:"red",colorVariant:"accentPrimary",variantName:"small"})}),(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.failedPayment",defaultMessage:"Failed payment"})]}):(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.invoiceStatus.due",defaultMessage:"Due"})}function B(e){const i=(0,s().X)("native_invoice_payment"),{spaceStore:t,events:a,upcomingInvoiceData:f}=e,h=(0,l().v3)(),b=(0,r().IS)((e=>({emptyList:{color:e.text.secondary,fontSize:14},header:{marginBottom:4,...i&&{borderBottom:0}},block:{marginTop:40}})),[i]),v=t.id,y=f?`/invoice/upcoming?spaceId=${v}`:void 0,S=0===a.length&&!y;return(0,M.jsxs)("div",{style:b.block,children:[(0,M.jsx)(p().A,{large:!0,divider:"full",style:b.header,children:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.invoices",defaultMessage:"Invoices"})}),i?(0,M.jsx)(A,{environment:h,events:a,isEmpty:S,upcomingInvoiceData:f,upcomingInvoiceUrl:y}):(0,M.jsxs)(M.Fragment,{children:[S?(0,M.jsx)("div",{style:b.emptyList,children:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBilling.invoicesSection.noInvoicesMessage",defaultMessage:"This workspace has no payments yet."})}):null,y?(0,M.jsx)(g().S,{mainLabel:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.upcomingInvoice",defaultMessage:"Upcoming invoice"}),button:{label:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.viewInvoice",defaultMessage:"View invoice"}),onClick:()=>{const e=`${n().A.domainBaseUrl}${y}`;var i;h.device.isMobileNative?null===(i=h.mobileNative)||void 0===i||i.openExternalBrowser(e):(0,u().L)({environment:h,url:e})}}}):null,a.map((e=>{const i=(0,d().W_)(e.timestamp,"long",o().locale);return(0,M.jsx)(g().S,{mainLabel:i,valueLabel:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.invoiceSummary",defaultMessage:"{invoiceStatus} · {formattedAmount}",values:{invoiceStatus:(0,M.jsx)(m().S,{invoice:e}),formattedAmount:(0,M.jsx)(x().v,{cost:{amount:e.total,currencyCode:e.currencyCode},trailingZeroDisplay:"stripIfInteger"})}}),button:{label:(0,M.jsx)(c().sA,{id:"spaceSubscriptionBillingV2.viewInvoice",defaultMessage:"View invoice"}),onClick:()=>{const i=`${n().A.domainBaseUrl}/invoice/${e.id}`;var t;h.device.isMobileNative?null===(t=h.mobileNative)||void 0===t||t.openExternalBrowser(i):(0,u().L)({environment:h,url:i})}}},e.id)}))]})]})}},292119:(e,i,t)=>{t.d(i,{v:()=>o});t(16280),t(296540);var a=()=>t(215087),s=()=>t(643819),n=t(474848);function o(e){return(0,n.jsx)(n.Fragment,{children:l(e)})}function l(e){const{cost:i,intl:t}=e,n=e.trailingZeroDisplay??"auto",o=e.currencySign??"accounting",l=s().W.fromValue(i),r=a().r[l.currencyCode];if(!r)throw new Error(`Unsupported currency code: ${l.currencyCode}`);let d=t.formatNumber(l.amount/Math.pow(10,r.minorUnitDigits),{style:"currency",currency:l.currencyCode,currencyDisplay:"symbol",currencySign:o});return"stripIfInteger"===n&&(d=d.replace(new RegExp(`[.,]0{${r.minorUnitDigits}}(\\s+.*)?$`),"$1")),d}},302995:(e,i,t)=>{t.r(i),t.d(i,{creditCardIcon:()=>n,iconDefinition:()=>s});t(296540);var a=t(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 15.25 11.75",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.5 11.031a.5.5 0 0 0-.5.5v1.219a.5.5 0 0 0 .5.5h2.011a.5.5 0 0 0 .5-.5v-1.219a.5.5 0 0 0-.5-.5z"}),(0,a.jsx)("path",{d:"M2.375 6.25c0-1.174.951-2.125 2.125-2.125h11c1.174 0 2.125.951 2.125 2.125v7.5a2.125 2.125 0 0 1-2.125 2.125h-11a2.125 2.125 0 0 1-2.125-2.125zM4.5 5.375a.875.875 0 0 0-.875.875v.825h12.75V6.25a.875.875 0 0 0-.875-.875zm-.875 8.375c0 .483.392.875.875.875h11a.875.875 0 0 0 .875-.875V8.175H3.625z"})]})},n=(0,t(340498).wt)("creditCard",s)},334992:(e,i,t)=>{t.d(i,{A:()=>o});var a=()=>t(56366),s=()=>t(762433),n=()=>t(324561);function o(e){const i=(0,a().K8)((()=>e.getMemberCountFromPublicSpaceData()),[e]),t=(0,n()._3)({spaceId:e.id}),o=(0,n().Q7)(e.id,t,i??0);return Boolean(!(0,s().Qx)(null==t?void 0:t.subscription)&&!(0,s().N8)(t)&&!(0,s().TB)(t)&&o>0)}},399995:(e,i,t)=>{t.d(i,{U:()=>c});t(16280);var a=()=>t(215087),s=()=>t(496414),n=()=>t(224701),o=()=>t(912396),l=()=>t(807778),r=()=>t(370441),d=()=>t(71904);async function c(e,i,t,c,u){const p=await r().getStripe();if(!p)throw new Error("Stripe is not available.");const g=await(0,d().y)({currencyCode:t,unpaidInvoices:c});if(g){s().m({message:o().DZ.updatingPaymentMethod}),await n().zA({environment:e,stripe:p,spaceStore:i,paymentMethodId:g.id}),s().V();const r=c.length;if((0,l().Ug)()&&r>0)for(const[l,d]of c.entries()){const c=u.formatNumber(d.total/Math.pow(10,a().r[t].minorUnitDigits),{style:"currency",currency:d.currencyCode,currencyDisplay:"symbol"});s().m({message:o().DZ.payingInvoice,interpolatedValues:{index:l+1,length:r,amount:c}}),await n().xj({environment:e,spaceStore:i,invoiceId:d.id,paymentMethodId:g.id}),s().V()}}}},408095:(e,i,t)=>{t.d(i,{qY:()=>C,r0:()=>A,lh:()=>B,dJ:()=>j,d9:()=>y,lY:()=>U,Fz:()=>E,yK:()=>w,ab:()=>O,tE:()=>P,X8:()=>S,$m:()=>b,QR:()=>x,P$:()=>v});var a=()=>t(876544),s=()=>t(686452),n=()=>t(158894),o=()=>t(564613),l=()=>t(407444),r=()=>t(74007),d=()=>t(888382),c=()=>t(295434),u=()=>t(979340),p=()=>t(69708),g=()=>t(232930);const m=t.p+"f6312fd4cd8217ce.png",f=t.p+"84cf2899a9948385.png",h=t.p+"a9c59c32b6df48a5.png",b=["free","plus","business","enterprise"],v=(0,p().YK)({advancedAIButtonTooltip:{id:"ProductLimit.advancedAIButtonTooltip",defaultMessage:"Upgrade to Business"},advancedAIButtonMemberTooltipPrimary:{id:"ProductLimit.advancedAIButtonMemberTooltipPrimary",defaultMessage:"Request access to Advanced AI features on the Business Plan"},advancedAIButtonMemberTooltipSecondary:{id:"ProductLimit.advancedAIButtonMemberTooltipSecondary",defaultMessage:"Get AI Meeting Notes, Enterprise Search, and Research Mode"},coreAIButtonTooltip:{id:"ProductLimit.coreAIButtonTooltip",defaultMessage:"Upgrade with the AI Add On to access Notion AI for Writer, Q&A and foundational AI features"},upgrade:{id:"ProductLimit.upgrade",defaultMessage:"Upgrade"},addToPlan:{id:"ProductLimit.addToPlan",defaultMessage:"Add to plan"},contactSalesSalesAssisted:{id:"ProductLimit.contactSalesSalesAssisted",defaultMessage:"Contact sales"},advancedAILabel:{id:"ProductLimit.advancedAILabel",defaultMessage:"Advanced Notion AI"},advancedAIUpsellDescription:{id:"ProductLimit.advancedAIUpsellDescription",defaultMessage:"Upgrade to search everywhere, automate meeting notes & more"},advancedAIDescription:{id:"ProductLimit.advancedAIDescription",defaultMessage:"Search everywhere, automate meeting notes & more"},coreAILabel:{id:"ProductLimit.coreAILabel",defaultMessage:"Notion AI"},aiLabel:{id:"ProductLimit.aiLabel",defaultMessage:"Notion AI"},coreAIDescription:{id:"ProductLimit.coreAIDescription",defaultMessage:"Upgrade to search everywhere, automate meeting notes & more"},activePlan:{id:"ProductLimit.activePlan",defaultMessage:"Active plan"},aiAddOnHeading:{id:"ProductLimit.aiAddOnLabel",defaultMessage:"Notion AI"},aiTierHeading:{id:"ProductLimit.aiTierLabel",defaultMessage:"Notion AI"},aiSettings:{id:"ProductLimit.aiSettings",defaultMessage:"Settings"},aiAddOnTooltip:{id:"ProductLimit.aiAddOnTooltip",defaultMessage:"Your workspace currently has access to Notion AI core features only. Upgrade to Business to get the full set of advanced features."},aiBusinessTierTooltip:{id:"ProductLimit.aiBusinessTierTooltip",defaultMessage:"Included with the Business Plan"},aiEnterpriseLimitedTierTooltip:{id:"ProductLimit.aiEnterpriseTierTooltip",defaultMessage:"Included with the Enterprise Limited Plan"},aiAddOnUsage:{id:"ProductLimit.aiAddOnUsage",defaultMessage:"{usedCount}/{totalCount} AI responses used"},aiAddedToPlan:{id:"ProductLimit.aiAddedToPlan",defaultMessage:"Added to plan"},aiIncludedInPlan:{id:"ProductLimit.aiIncludedInPlan",defaultMessage:"Included in plan"},otherPlans:{id:"ProductLimit.otherPlans",defaultMessage:"Other plans to consider"},teamBlocksLabel:{id:"ProductLimit.teamBlocksLabel",defaultMessage:"Team blocks"},teamBlocksUsage:{id:"ProductLimit.teamBlocksUsage",defaultMessage:"{usedCount}/{totalCount} team blocks used"},restrictions:{id:"ProductLimit.downgrade",defaultMessage:"Downgrade"},ctaPrice:{id:"SpaceSubscriptionPlans.productCta",defaultMessage:"From {money}/member per month"},ctaButtonLabel:{id:"SpaceSubscriptionPlans.productCtaButtonLabel",defaultMessage:"Upgrade"},unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"},includesFree:{id:"SpaceSubscriptionPlans.includes.free",defaultMessage:"Includes"},includesPlus:{id:"SpaceSubscriptionPlans.includes.plus",defaultMessage:"Everything in Free, and"},includesBusiness:{id:"SpaceSubscriptionPlans.includes.business",defaultMessage:"Everything in Plus, and"},includesEnterprise:{id:"SpaceSubscriptionPlans.includes.enterprise",defaultMessage:"Everything in Business, and"},seeAllPlans:{id:"SpaceSubscriptionPlans.seeAllPlans",defaultMessage:"See all plans"},allPlans:{id:"spaceSubscriptionPlans.allPlans.title",defaultMessage:"All plans"},salesAssistedDisabled:{id:"spaceSubscriptionPlans.referToSalesRep",defaultMessage:"Please contact your Notion account manager to make changes to your plan"},contactSales:{id:"SpaceSubscriptionPlans.contactSales",defaultMessage:"Contact Sales"},talkToSales:{id:"SpaceSubscriptionPlans.talkToSales",defaultMessage:"Talk to sales to learn more"}}),y=(0,p().YK)({free:{id:"ProductOverview.mayMoment.free.caption",defaultMessage:"Organize every corner of your work and life"},personal:{id:"ProductOverview.mayMoment.personal.caption",defaultMessage:"A place to plan and get organized, with a 1-member limit"},plus:{id:"ProductOverview.mayMoment.plus.caption",defaultMessage:"For small groups to plan and get organized"},business:{id:"ProductOverview.mayMoment.business.caption",defaultMessage:"The connected workspace with all-in-one AI"},student:{id:"ProductOverview.mayMoment.student.caption",defaultMessage:"For students & educators"},enterprise:{id:"ProductOverview.mayMoment.enterprise.caption",defaultMessage:"For organizations to operate with scalability, control & security"}}),S={free:v.includesFree,student:v.includesPlus,plus:v.includesPlus,personal:v.includesPlus,business:v.includesBusiness,enterprise:v.includesEnterprise},x=(0,p().YK)({summary:{id:"plansPage.highlightCards.summary",defaultMessage:"Summary"},highlights:{id:"plansPage.highlightCards.highlights",defaultMessage:"Highlights"},compareAllFeatures:{id:"plansPage.compareAllFeatures.button.label",defaultMessage:"Compare all features"},price:{id:"plansPage.price",defaultMessage:"{money} per member / month"},priceOnTrial:{id:"plansPage.price.onTrial",defaultMessage:"{money} per member / month until {date}"},billedAnnually:{id:"plansPage.billedAnnually",defaultMessage:"billed annually"},billedMonthly:{id:"plansPage.billedMonthly",defaultMessage:"billed monthly"},priceMonthly:{id:"plansPage.price.monthly",defaultMessage:"{money} billed monthly"}}),M=(0,p().YK)({free:{id:"plansPage.activePlan.free.description",defaultMessage:"For organizing every corner of your work and life"},student:{id:"plansPage.activePlan.student.description",defaultMessage:"For students & educators"},personal:{id:"plansPage.activePlan.personal.description",defaultMessage:"A place to plan and get organized, with a 1-member limit"},personalForIos:{id:"plansPage.activePlan.personal.ios.description",defaultMessage:"Purchased in-app, through Apple"},personalForAndroid:{id:"plansPage.activePlan.personal.android.description",defaultMessage:"Purchased in-app, through Google Play"},plus:{id:"plansPage.activePlan.plus.description.afterMayMoment",defaultMessage:"For small teams and professionals to work together"},business:{id:"plansPage.activePlan.business.description.afterMayMoment",defaultMessage:"The connected workspace with all-in-one AI"},businessTrial:{id:"plansPage.activePlan.business.description.trialAfterMayMoment",defaultMessage:"30 days of Notion AI and other Business features"},enterprise:{id:"plansPage.activePlan.enterprise.description.afterMayMoment",defaultMessage:"For organizations to operate with scalability, control & security"}}),A=(0,p().YK)({singlePlayerPlans:{id:"plansPage.activePlan.generic.tooltip",defaultMessage:"Your plan has a 1-member limit. Switch your plan to add more members."},iosPlans:{id:"plansPage.activePlan.personal.ios.tooltip",defaultMessage:"Your plan has a 1-member limit. You can cancel this plan through Apple Subscriptions, and then upgrade in Notion."},androidPlans:{id:"plansPage.activePlan.personal.android.tooltip",defaultMessage:"Your plan has a 1-member limit. You can cancel this plan through Google Play, and then upgrade in Notion."}}),P={label:u().v0.personalForIos,description:M.personalForIos,tooltip:A.iosPlans},j={label:u().v0.personalForAndroid,description:M.personalForAndroid,tooltip:A.androidPlans},C={free:{label:u().v0.free,description:M.free},student:{label:u().v0.educationPlus,description:M.student},personal:{label:u().v0.plus,description:M.personal,tooltip:A.singlePlayerPlans},plus:{label:u().v0.plus,description:M.plus},business:{label:u().v0.business,description:M.business},businessTrial:{label:u().v0.business,description:M.businessTrial},enterprise:{label:u().v0.enterprise,description:M.enterprise},enterprise_limited:{label:u().v0.enterpriseLimited,description:M.enterprise}},I=(0,p().YK)({description:{id:"plansPage.aiSection.description",defaultMessage:"Notion AI for Q&A, Autofill, Writer, and more"},descriptionV2:{id:"plansPage.aiSection.descriptionV2",defaultMessage:"Search, generate, analyze, and chat with Notion AI"},price:{id:"plansPage.aiSection.price",defaultMessage:"From {money} per member / month, billed annually"},added:{id:"plansPage.aiSection.added",defaultMessage:"Added"},mailAIDescription:{id:"plansPage.aiSection.mailAIDescription",defaultMessage:"Get AI-powered labels and writing for Notion Mail"}}),B={upgrade:v.upgrade,addToPlan:v.addToPlan,advancedAIHeading:v.advancedAILabel,advancedAIUpsellDescription:v.advancedAIUpsellDescription,advancedAIDescription:v.advancedAIDescription,advancedAIButtonTooltip:v.advancedAIButtonTooltip,advancedAIRequestButtonTooltipPrimary:v.advancedAIButtonMemberTooltipPrimary,advancedAIRequestButtonTooltipSecondary:v.advancedAIButtonMemberTooltipSecondary,coreAIHeading:v.coreAILabel,aiHeading:v.aiLabel,coreAIDescription:v.coreAIDescription,coreAIButtonTooltip:v.coreAIButtonTooltip,aiAddOnHeading:v.aiAddOnHeading,tierHeading:v.aiTierHeading,aiAddOnTooltip:v.aiAddOnTooltip,businessTierTooltip:v.aiBusinessTierTooltip,enterpriseLimitedTierTooltip:v.aiEnterpriseLimitedTierTooltip,description:I.description,descriptionV2:I.descriptionV2,mailAIDescription:I.mailAIDescription,planPrice:I.price,ctaMessage:v.addToPlan,ctaMessageSalesAssisted:v.contactSalesSalesAssisted,added:I.added,addedToPlan:v.aiAddedToPlan,includedInPlan:v.aiIncludedInPlan,settings:v.aiSettings,request:t(695689).P.request},w=(0,p().YK)({active:{id:"plansPage.highlightCards.badge.active",defaultMessage:"Active"},enterprise_limited:{id:"plansPage.highlightCards.badge.enterpriseLimited",defaultMessage:"Limited"},popular:{id:"plansPage.highlightCards.badge.popular",defaultMessage:"Popular"},best_value:{id:"plansPage.highlightCards.badge.bestValue",defaultMessage:"Best value"},recommended:{id:"plansPage.highlightCards.badge.recommended",defaultMessage:"Recommended"},free_trial:{id:"plansPage.highlightCards.badge.freeTrial",defaultMessage:"Free trial"},coming_soon:{id:"plansPage.highlightCards.badge.comingSoon",defaultMessage:"Coming soon"}}),D=(0,p().YK)({forms:{id:"plansPage.highlightCards.mayMoment.free.forms",defaultMessage:"Basic forms"},sites:{id:"plansPage.highlightCards.mayMoment.free.sites",defaultMessage:"Basic sites"},automations:{id:"plansPage.highlightCards.mayMoment.free.automations",defaultMessage:"Basic automations"},databases:{id:"plansPage.highlightCards.mayMoment.free.databases",defaultMessage:"Custom databases"},calendar:{id:"plansPage.highlightCards.mayMoment.free.calendar",defaultMessage:"Notion Calendar"},mail:{id:"plansPage.highlightCards.mayMoment.free.mail",defaultMessage:"Notion Mail"}}),T=(0,p().YK)({blocks:{id:"plansPage.highlightCards.mayMoment.plus.blocks",defaultMessage:"Unlimited blocks"},blocksTooltip:{id:"plansPage.highlightCards.mayMoment.plus.blocks.tooltip",defaultMessage:"Workspaces with 2+ members are limited to {blockLimitNumber} blocks on the Free plan"},charts:{id:"plansPage.highlightCards.mayMoment.plus.charts",defaultMessage:"Unlimited charts"},forms:{id:"plansPage.highlightCards.mayMoment.plus.forms",defaultMessage:"Custom forms"},sites:{id:"plansPage.highlightCards.mayMoment.plus.sites",defaultMessage:"Custom sites"},integrations:{id:"plansPage.highlightCards.mayMoment.plus.integrations",defaultMessage:"Basic integrations"},integrationsTooltip:{id:"plansPage.highlightCards.mayMoment.plus.integrations.tooltip",defaultMessage:"Embeds, previews, custom automations and database syncs"}}),k=(0,p().YK)({salesAssistedAIDescription:{id:"plansPage.highlightCards.mayMoment.salesAssisted.business.aiDescription",defaultMessage:"Contact Sales for Notion AI"}}),V=(0,p().YK)({aiIncluded:{id:"plansPage.highlightCards.mayMoment.business.aiIncluded",defaultMessage:"Notion AI included"},saml:{id:"plansPage.highlightCards.mayMoment.business.saml.sso",defaultMessage:"SAML SSO"},verifyPages:{id:"plansPage.highlightCards.mayMoment.business.verifyPages",defaultMessage:"Verify any page"},search:{id:"plansPage.highlightCards.mayMoment.business.search",defaultMessage:"Enterprise search"},searchTooltip:{id:"plansPage.highlightCards.mayMoment.business.search.tooltip",defaultMessage:"Get instant answers across your connected apps with Notion AI"},integrations:{id:"plansPage.highlightCards.mayMoment.business.integrations",defaultMessage:"Premium integrations"},integrationsTooltip:{id:"plansPage.highlightCards.mayMoment.business.integrations.tooltip",defaultMessage:"Embeds, previews, custom automations and database syncs"}}),L=(0,p().YK)({salesAssistedAIDescription:{id:"plansPage.highlightCards.mayMoment.salesAssisted.enterprise.aiDescription",defaultMessage:"Contact Sales for Notion AI"}}),_=(0,p().YK)({aiIncluded:{id:"plansPage.highlightCards.mayMoment.enterprise.aiIncluded",defaultMessage:"Notion AI included"},userProvisioning:{id:"plansPage.highlightCards.mayMoment.enterprise.userProvisioning",defaultMessage:"User provisioning"},auditLog:{id:"plansPage.highlightCards.mayMoment.enterprise.auditLog",defaultMessage:"Audit log"},security:{id:"plansPage.highlightCards.mayMoment.enterprise.security",defaultMessage:"Advanced security & controls"},search:{id:"plansPage.highlightCards.mayMoment.enterprise.search",defaultMessage:"Enterprise search"},searchTooltip:{id:"plansPage.highlightCards.mayMoment.enterprise.search.tooltip",defaultMessage:"Get instant answers across your connected apps with Notion AI"},integrations:{id:"plansPage.highlightCards.mayMoment.enterprise.integrations",defaultMessage:"Advanced integrations"},integrationsTooltip:{id:"plansPage.highlightCards.mayMoment.enterprise.integrations.tooltip",defaultMessage:"Embeds, previews, custom automations and database syncs"}}),F={integrations:(0,g().x)("guides.dataAndIntegrations"),enterpriseSearch:(0,g().x)("guides.aiConnectors")},O={student:u().v0.student,personal:u().v0.personal,free:u().v0.free,plus:u().v0.plus,business:u().v0.business,enterprise:u().v0.enterprise,enterprise_limited:u().v0.enterpriseLimited};function E({intl:e,isSalesAssisted:i,aiPurchasability:t}){let p,g;return p=i&&"none"===t.currentState.featureSet?[V.saml,V.verifyPages,{message:V.integrations,iconBar:{icons:[l().gmailIcon,n().figmaIcon,c().zendeskIcon,s().asanaIcon],followText:"+5"},multiLine:!0,tooltip:{imagePath:h,description:e.formatMessage(V.integrationsTooltip),link:F.integrations}},{message:k.salesAssistedAIDescription,multiLine:!0}]:[V.aiIncluded,V.saml,V.verifyPages,{message:V.search,iconBar:{icons:[d().slackIcon,r().googleDriveIcon,o().gitHubIcon,a().U],followText:"+4"},multiLine:!0,tooltip:{imagePath:m,description:e.formatMessage(V.searchTooltip),link:F.enterpriseSearch}},{message:V.integrations,iconBar:{icons:[l().gmailIcon,n().figmaIcon,c().zendeskIcon,s().asanaIcon],followText:"+5"},multiLine:!0,tooltip:{imagePath:h,description:e.formatMessage(V.integrationsTooltip),link:F.integrations}}],g=i&&"none"===t.currentState.featureSet?[_.userProvisioning,_.auditLog,{message:_.security,multiLine:!0},{message:_.integrations,tooltip:{imagePath:h,description:e.formatMessage(_.integrationsTooltip),link:F.integrations}},{message:L.salesAssistedAIDescription,multiLine:!0}]:[_.aiIncluded,_.userProvisioning,_.auditLog,{message:_.security,multiLine:!0},{message:_.search,iconBar:{icons:[d().slackIcon,r().googleDriveIcon,o().gitHubIcon,a().U],followText:"+4"},multiLine:!0,tooltip:{imagePath:f,description:e.formatMessage(_.searchTooltip),link:F.enterpriseSearch}},{message:_.integrations,tooltip:{imagePath:h,description:e.formatMessage(_.integrationsTooltip),link:F.integrations}}],{free:[D.forms,D.sites,D.automations,D.databases,D.calendar,D.mail],plus:[{message:T.blocks,tooltip:{description:e.formatMessage(T.blocksTooltip,{blockLimitNumber:(0,u().lP)()})}},T.charts,T.forms,T.sites,{message:T.integrations,iconBar:{icons:[d().slackIcon,r().googleDriveIcon,l().gmailIcon]},multiLine:!0,tooltip:{description:e.formatMessage(T.integrationsTooltip),link:F.integrations}}],business:p,enterprise:g}}function U({featureSet:e}){switch(e){case"core":return B.coreAIHeading;case"none":case"advanced":return B.advancedAIHeading;default:return e}}},450930:(e,i,t)=>{t.d(i,{B:()=>r});t(296540);var a=()=>t(401497),s=()=>t(252291),n=()=>t(721479),o=()=>t(859428),l=t(474848);function r(e){const{tooltipMessage:i,customContainerStyles:t,tooltipWidth:r,overlayContainerZIndex:d}=e,c=function(e){return(0,a().IS)((i=>({tooltip:{width:e??"300px"},tooltipIconContainer:{position:"absolute",marginInlineStart:4,marginTop:2}})),[e])}(r);return(0,l.jsx)(o().A,{placement:"right",style:c.tooltip,render:e=>(0,l.jsx)("span",{...e,style:{...c.tooltipIconContainer,...t},children:(0,l.jsx)(s().I,{icon:n().questionMarkCircleSmallIcon,size:"xs",colorVariant:"tertiary"})}),renderTooltip:()=>i,textWrap:!0,overlayContainerZIndex:d})}},469776:(e,i,t)=>{t.d(i,{S4:()=>l,am:()=>o,hv:()=>n});var a=()=>t(645873);const s={DowngradeModal:new(a().O2)("DowngradeModal",(async()=>Promise.all([t.e(99223),t.e(36556),t.e(55373),t.e(36192),t.e(87249),t.e(71621),t.e(88924),t.e(89296),t.e(9294),t.e(23455),t.e(78980),t.e(48779),t.e(10815)]).then(t.bind(t,174286)))),RemoveAddOnModal:new(a().O2)("RemoveAddOnModal",(async()=>Promise.all([t.e(78980),t.e(51466)]).then(t.bind(t,3031)))),DeletePaidWorkspaceModal:new(a().O2)("DeletePaidWorkspaceModal",(async()=>Promise.all([t.e(78980),t.e(98906)]).then(t.bind(t,876963))))},n=(0,a()._h)(s.DowngradeModal,(e=>e.DowngradeModal)),o=(0,a()._h)(s.RemoveAddOnModal,(e=>e.RemoveAddOnModal)),l=(0,a()._h)(s.DeletePaidWorkspaceModal,(e=>e.DeletePaidWorkspaceModal))},497215:(e,i,t)=>{t.d(i,{l:()=>l});t(296540);var a=()=>t(401497),s=()=>t(699143),n=()=>t(98126),o=t(474848);function l(e){const i=e.shouldShowSpinner,t=(0,a().IS)((()=>({hidden:{opacity:0,transition:"opacity 0.3s ease-in-out"},visible:{opacity:1,transition:"opacity 0.3s ease-in-out"}})),[]);return(0,o.jsx)(s().Y1,{width:"fill",height:"fill",padding:48,align:"center",style:i?t.visible:t.hidden,children:(0,o.jsx)(n().A,{legacySize:24})})}},504235:(e,i,t)=>{t.r(i),t.d(i,{BillingModalContent:()=>b,BillingSidebarButton:()=>V,canShowBilling:()=>k,showAddressModal:()=>N,showBilling:()=>T,showEmailModal:()=>Y,showPaymentMethodModal:()=>q().y,showVatIdModal:()=>G});var a=t(296540),s=()=>t(484714),n=()=>t(56366),o=()=>t(762433),l=()=>t(534177),r=()=>t(369955),d=()=>t(814431),c=()=>t(762299),u=()=>t(912396),p=()=>t(324561),g=()=>t(134217),m=()=>t(86089),f=()=>t(749240),h=t(474848);function b(e){const{displayMode:i}=e;(0,m().o)();const t=(0,s().v3)(),a=(0,r().L)(),b=null==a?void 0:a.id,v=(0,p()._3)({spaceId:null==a?void 0:a.id}),y=(0,n().K8)((()=>b?d().L.getData(t,{spaceId:b})??[]:[]),[t,b]),S=(0,n().O$)(f().subscriptionDataStoreInstance),x=(0,n().K8)((()=>{if(a)return c().A.getData(t,{spaceId:a.id})}),[a,t]);if(!a||!S||!v)return null;const M=(0,o().Fq)(v)||(0,l().O9)(v.paymentMethod),A=(0,g().BA)(S);return M&&A?(0,h.jsx)("div",{style:{padding:"phone"===i?16:32},children:(0,h.jsx)(u().Ay,{spaceStore:a,upcomingInvoiceData:x,customerData:A,billingData:v,billingEvents:y})}):null}var v=()=>t(718827),y=()=>t(252291),S=()=>t(302995),x=()=>t(69708),M=()=>t(490044),A=()=>t(252105),P=()=>t(49210),j=()=>t(107683),C=()=>t(497215),I=()=>t(581495);const B=(0,t(645873)._h)(t(671263).X,(e=>e.BillingModalContent));function w(e){const{isOpen:i,onClosed:t,onDismiss:a}=e;return(0,h.jsx)(j().s,{isOpen:i,onClosed:t,onDismiss:a,areaConstraint:{width:{type:"min",length:1e3},height:{type:"unlimited",scroll:"allow"}},render:({displayMode:e})=>(0,h.jsx)(I().Bg,{displayMode:e,title:(0,h.jsx)(x().sA,{defaultMessage:"Billing",id:"subscription.billing.title"}),children:(0,h.jsx)(B,{renderLoading:e=>(0,h.jsx)(C().l,{shouldShowSpinner:e}),displayMode:e})})})}let D=!1;async function T(e){const{environment:i,from:t}=e;if(!D){D=!0;try{A().qv(i,{from:t}),await P().T.showAsyncModalComponent(w),A().cJ(i)}finally{D=!1}}}function k(e){const{spaceStore:i,billingData:t}=e;return!(!i||!i.canAdmin())&&(!!t&&(!(0,o().et)(t)&&(!!(0,l().O9)(t.paymentMethod)||!!(0,o().Fq)(t))))}function V(){const e=(0,s().v3)(),i=(0,r().L)(),t=function(e){const{spaceStore:i,billingData:t}=e;return(0,n().K8)((()=>k({spaceStore:i,billingData:t})),[i,t])}({spaceStore:i,billingData:(0,p()._3)({spaceId:null==i?void 0:i.id})}),o=(0,a.useCallback)((()=>{T({environment:e,from:"mobile_sidebar"})}),[e]);return t?(0,h.jsx)(v().Ay,{onClick:o,children:(0,h.jsx)(M().A,{left:(0,h.jsx)(y().I,{icon:S().creditCardIcon,colorVariant:"secondary"}),disableMobileBorder:!0,children:(0,h.jsx)(x().sA,{id:"billingSidebarButton.title",defaultMessage:"Billing"})})}):null}var L=()=>t(624119),_=()=>t(699143),F=()=>t(493552),O=()=>t(251111),E=()=>t(347063),U=()=>t(876853),W=()=>t(370441),K=()=>t(332878);function R(e){const{defaultValue:i,onAccept:t}=e,[s,n]=(0,a.useState)(!1),[o,l]=(0,a.useState)(i??{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""}),r=(0,W().useElementsOptions)({type:"address"}),d=(0,a.useCallback)((()=>{o&&(0,O().Z)(o)&&(0,U().r)(o.name)?t(o):n(!0)}),[t,o]);return(0,h.jsx)(E().tf,{showDismissButton:!1,header:(0,h.jsx)(F().D,{styleKey:"Title-sm/Medium",colorVariant:"primary",children:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeYourAddressModal.title",defaultMessage:"Change your address"})}),footer:(0,h.jsx)(E().aO,{layout:"horizontal-right",primaryButtons:[{label:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeBillingAddressModal.updateButton.label",defaultMessage:"Update"}),onClick:d}],secondaryButtons:[{buttonType:"dismiss"}]}),children:(0,h.jsx)(L().Elements,{stripe:(0,W().getStripe)(),options:r,children:(0,h.jsxs)(_().Y1,{gap:7.5,padding:"0 2px",children:[(0,h.jsx)(K()._,{defaultValue:o,onChange:l}),s?(0,h.jsx)(F().D,{styleKey:"Caption/Regular",colorPalette:"red",colorVariant:"primary",children:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.address.invalidError",defaultMessage:"Your address is invalid. Please update your address so we can process your payment."})}):null]})})})}async function N(e){const{defaultValue:i}=e;return await P().T.showAsyncModal((e=>(0,h.jsx)(j().s,{isOpen:e.isOpen,onDismiss:e.onDismiss,onClosed:e.onClosed,animateSizeTransition:!1,areaConstraint:{width:{type:"fixed",length:500},height:{type:"unlimited",scroll:"allow"}},render:()=>(0,h.jsx)(R,{defaultValue:i,onAccept:e.resolve})})))}var z=()=>t(623580);function H(e){const{defaultValue:i,onAccept:t}=e,[s,n]=(0,a.useState)(i??""),o=(0,a.useCallback)((()=>t(s)),[t,s]);return(0,h.jsx)(E().tf,{showDismissButton:!1,header:(0,h.jsx)(F().D,{styleKey:"Title-sm/Medium",colorVariant:"primary",children:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeBillingEmailModal.title",defaultMessage:"Change billing email"})}),footer:(0,h.jsx)(E().aO,{layout:"horizontal-right",primaryButtons:[{label:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeBillingEmailModal.updateButton.label",defaultMessage:"Update"}),onClick:o}],secondaryButtons:[{buttonType:"dismiss"}]}),children:(0,h.jsx)(z().A,{focus:!0,selectAll:!0,value:s,onChange:e=>n(e.target.value),onSubmit:o})})}async function Y(e){const{defaultValue:i}=e;return await P().T.showAsyncModal((e=>(0,h.jsx)(j().s,{isOpen:e.isOpen,onDismiss:e.onDismiss,onClosed:e.onClosed,areaConstraint:{width:{type:"fixed",length:500}},render:()=>(0,h.jsx)(H,{defaultValue:i,onAccept:e.resolve})})))}var q=()=>t(71904);function $(e){const{defaultValue:i,onAccept:t}=e,[s,n]=(0,a.useState)(i??""),o=(0,a.useCallback)((()=>t(s)),[t,s]);return(0,h.jsx)(E().tf,{showDismissButton:!1,header:(0,h.jsx)(F().D,{styleKey:"Title-sm/Medium",colorVariant:"primary",children:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeVATIDModal.title",defaultMessage:"Change VAT/GST number"})}),footer:(0,h.jsx)(E().aO,{layout:"horizontal-right",primaryButtons:[{label:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeVATIDModal.updateButton.label",defaultMessage:"Update"}),onClick:o}],secondaryButtons:[{buttonType:"dismiss"}]}),children:(0,h.jsxs)(_().Y1,{width:"fill",gap:6,children:[(0,h.jsx)(z().A,{focus:!0,selectAll:!0,value:s,onChange:e=>n(e.target.value),onSubmit:o}),(0,h.jsx)(F().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:(0,h.jsx)(x().sA,{id:"spaceSubscriptionBillingV2.changeVATIDModal.subtitle",defaultMessage:"Please include your country code"})})]})})}async function G(e){const{defaultValue:i}=e;return await P().T.showAsyncModal((e=>(0,h.jsx)(j().s,{isOpen:e.isOpen,onDismiss:e.onDismiss,onClosed:e.onClosed,areaConstraint:{width:{type:"fixed",length:500}},render:()=>(0,h.jsx)($,{defaultValue:i,onAccept:e.resolve})})))}},505108:(e,i,t)=>{t.d(i,{a:()=>g});var a=t(296540),s=()=>t(401497),n=()=>t(699143),o=()=>t(493552),l=()=>t(534177),r=()=>t(284371),d=()=>t(819121),c=()=>t(451306),u=t(474848);function p(e){const{disabled:i,checked:t,selectorSize:a}=e,[n,o]=(0,d().A)(),l=function(e){const{checked:i,disabled:t,isFocusVisible:a,selectorSize:n}=e;return(0,s().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...i?{boxShadow:`0 0 0 1.5px ${t?e.background.tertiaryTranslucent:e.blue.background.accentPrimary}`,background:t?e.background.tertiaryTranslucent:e.blue.background.accentPrimary}:{boxShadow:`0 0 0 1.5px ${t?e.icon.quaternary:e.border.strong}`,background:e.background.primary},...a&&{boxShadow:e.buttonBlueFocusRing}},active:{background:i?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===n?14:18,height:"small"===n?14:18,...t?{pointerEvents:"none"}:{cursor:"pointer"}}})),[i,t,a,n])}({checked:t,disabled:i,isFocusVisible:o,selectorSize:a});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("input",{ref:n,type:"radio",style:l.input,className:"radio-button",...e}),(0,u.jsx)("span",{...(0,c().AH)("custom-radio-button",l.root,i?{}:{pseudoActive:l.active})})]})}const g=a.forwardRef((function({additionalContent:e,description:i,isDisabled:t,isSelected:o,label:l,name:d,onChange:c,width:p="fill",selectorSize:g="normal",selectAlignXAxis:h="left",selectAlignYAxis:b="center",selectType:v="checkbox",style:y,supportText:S,value:x,colorVariant:M,alignAdditionalContent:A,...P},j){const C=(0,a.useId)(),I=function(e){const{isSelected:i,isDisabled:t,selectAlignYAxis:a,alignAdditionalContent:n}=e;return(0,s().IS)((e=>{const s=i&&!t?e.blue.border.accentPrimary:e.border.primary;return{container:{display:"flex",alignItems:n??"center",gap:12,userSelect:"none",paddingTop:9,paddingInlineEnd:16,paddingBottom:10,paddingInlineStart:10,borderRadius:6,border:`1px solid ${s}`,...!t&&{cursor:"pointer"}},title:{fontWeight:r().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===a?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[i,t,a,n])}({isSelected:o,isDisabled:t,selectAlignYAxis:b,alignAdditionalContent:A}),B=(0,u.jsxs)(n().Y1,{direction:"horizontal",align:"top"===b?"top-left":"center-left",gap:12,width:p,children:[(0,u.jsx)("div",{style:I.selectorWrapper,children:(0,u.jsx)(f,{id:C,selectType:v,name:d,value:x,onChange:c,isSelected:o,selectorSize:g,isDisabled:t,...P})}),(0,u.jsx)(m,{colorVariant:M,description:i,label:l,selectorSize:g,supportText:S,isDisabled:t})]}),w=(0,u.jsxs)(n().Y1,{direction:"horizontal",align:"top"===b?"top-center":"center",gap:12,children:[(0,u.jsx)(m,{colorVariant:M,description:i,label:l,selectorSize:g,supportText:S,isDisabled:t}),(0,u.jsx)("div",{style:{...I.selectorWrapper,...I.rightAlignSelectorWrapper},children:(0,u.jsx)(f,{id:C,selectType:v,name:d,value:x,onChange:c,selectorSize:g,isSelected:o,isDisabled:t,...P})})]}),D=e?(0,u.jsx)("div",{style:I.additionalContentWrapper,children:e}):null;return(0,u.jsx)("label",{ref:j,style:{...I.container,...y},htmlFor:C,children:"left"===h?(0,u.jsxs)(u.Fragment,{children:[B,D]}):(0,u.jsxs)(u.Fragment,{children:[D,w]})})}));function m(e){const{description:i,label:t,supportText:a,selectorSize:s,isDisabled:r,colorVariant:d}=e;let c;return"large"===s?c="Page-Content/Text-Block":"normal"===s||void 0===s?c="Body-sm/Medium":"small"===s?c="Caption/Regular":(0,l().HB)(s),(0,u.jsxs)(n().Y1,{gap:4,children:[(0,u.jsxs)(n().Y1,{gap:2,children:[(0,u.jsx)(o().D,{styleKey:c,colorVariant:d||(r?"disabled":"primary"),children:t}),i?(0,u.jsx)(o().D,{styleKey:"Caption/Regular",colorVariant:r?"disabled":"secondary",children:i}):null]}),a?(0,u.jsx)(o().D,{styleKey:"Caption/Medium",colorVariant:"tertiary",children:a}):null]})}function f(e){const{selectType:i,selectorSize:a="normal",id:n,name:o,value:r,onChange:d,isSelected:c,isDisabled:g,...m}=e,f=(0,s().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(i){case"radio":return(0,u.jsx)(p,{id:n,name:o,value:r,onChange:d,checked:c,disabled:g,selectorSize:a,...m});case"checkbox":return(0,u.jsx)("div",{style:f.checkboxWrapper,children:(0,u.jsx)(t(115562).W,{id:n,name:o,value:r,onChange:d,checked:c,disabled:g,selectorSize:a,...m})});case"none":return null;default:(0,l().HB)(i)}}},551732:(e,i,t)=>{t.d(i,{X:()=>o});var a=()=>t(726637),s=()=>t(496603),n=()=>t(151059);function o(e,i,t){const o=n().A.getData(e,{spaceId:i,userId:e.currentUser.id}),l=!Boolean(null==o?void 0:o.domainIsAutogenerated),r=s().oE([l&&(null==o?void 0:o.domain),"invite",t]).join("/");return`${a().A.domainBaseUrl}/${r}`}},651390:(e,i,t)=>{t.d(i,{H:()=>n});var a=()=>t(484714),s=()=>t(56366);function n(e){const{billingInterval:i,priceStore:t,products:n}=e,o=(0,a().v3)();return(0,s().K8)((()=>{const e={};for(const a of n)e[a]=t.getPrice(o,(e=>e.product===a&&e.billingInterval===i));return e}),[i,o,t,n],{useDeepEqual:!0})}},674579:(e,i,t)=>{t.d(i,{Y:()=>s});var a=()=>t(401497);function s(){return(0,a().IS)((e=>({bulletList:{paddingInlineStart:0,marginBlock:"0px 0px",listStyleType:"none"},bulletItem:{display:"flex",minHeight:24,alignItems:"center"},bulletItemContent:{display:"flex",gap:4},bulletItemContentMultiLineExtra:{paddingTop:4,paddingBottom:4},bulletItemCheckmarkContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},bulletItemCheckmarkContainerMultiLineExtra:{alignItems:"flex-start",paddingTop:2,justifyContent:void 0},bulletItemCheckmark:{width:12,height:12,color:e.icon.secondary},coloredRow:{display:"flex",flexDirection:"row",gap:12,backgroundColor:e.background.secondary,borderRadius:2},column:{width:"100%",minWidth:150,paddingTop:10,paddingBottom:12},rowFeatureTitle:{display:"flex",alignItems:"center",gap:4,justifyContent:"flex-start"},featureDetailsStyle:{paddingTop:12},gridSectionTitle:{paddingInlineStart:12},gridSection:{display:"flex",flexDirection:"column",gap:42},row:{display:"flex",flexDirection:"row",gap:12},tooltip:{width:156},tooltipWithImageExtra:{paddingInlineStart:8,paddingInlineEnd:8,paddingTop:8,paddingBottom:6},lastRow:{borderBottom:`1px solid ${e.border.secondary}`},sidebar:{width:"100%",paddingTop:12,paddingBottom:12,maxWidth:118},titleSection:{paddingInlineStart:12}})),[])}},695689:(e,i,t)=>{t.d(i,{P:()=>a});const a=(0,t(69708).YK)({request:{id:"upgradeRequest.inAppRequests.request",defaultMessage:"Request"},pending:{id:"upgradeRequest.inAppRequests.requestPending",defaultMessage:"Pending"},approved:{id:"upgradeRequest.inAppRequests.requestApproved",defaultMessage:"Approved"},declined:{id:"upgradeRequest.inAppRequests.requestDeclined",defaultMessage:"Declined"},requestPendingTooltip:{id:"upgradeRequest.inAppRequests.requestPendingTooltip",defaultMessage:"You’ve already sent a request to your workspace owners"}})},729369:(e,i,t)=>{t.d(i,{S:()=>d});t(296540);var a=()=>t(484714),s=()=>t(401497),n=()=>t(406094),o=()=>t(493552),l=()=>t(859428),r=t(474848);function d(e){const{mainLabel:i,valueLabel:t,metadataLabel:s,bylineLabel:n,button:o}=e,{isMobile:l}=(0,a().Y0)(),d=u();return(0,r.jsxs)("div",{style:d.row,children:[(0,r.jsxs)("div",{style:{...d.labelArea,gap:t?6:0},children:[(0,r.jsx)("div",{style:d.mainLabel,children:i}),(0,r.jsx)("div",{style:d.valueLabel,children:l?s:t})]}),s&&!l?(0,r.jsxs)("div",{style:d.metadataAreaContainer,children:[(0,r.jsx)("div",{style:d.metadataLabel,children:s}),n?(0,r.jsx)("div",{style:d.bylineLabel,children:n}):void 0]}):null,o?(0,r.jsx)("div",{style:d.buttonArea,children:(0,r.jsx)(c,{button:o})}):null]})}function c(e){const{button:i}=e,{tooltip:t,onClick:a,tooltipWidth:s,customButtonStyles:d,customHoveredButtonStyles:c,customPressedButtonStyles:p,isDisabled:g}=i,m={size:"lg",style:{...u().button,...d},hoveredStyle:{...c},pressedStyle:{...p},children:(0,r.jsx)(o().D,{styleKey:"Body/Medium",children:i.label})};return t?(0,r.jsx)(l().A,{style:{width:s??void 0},textWrap:!0,renderTooltip:()=>t,placement:"bottom",alignment:"center",render:e=>(0,r.jsx)(n().A,{...m,...e,disabled:g,disabledFeedback:!0,onClick:a})}):(0,r.jsx)(n().A,{...m,onClick:a})}function u(){return(0,s().IS)((e=>({row:{display:"flex",alignItems:"center",gap:40,padding:"11px 0",borderBottom:`1px solid ${e.regularDividerColor}`},labelArea:{flex:1,display:"flex",flexDirection:"column",gap:6},mainLabel:{fontWeight:400,fontSize:14,lineHeight:"17px"},valueLabel:{fontWeight:400,fontSize:12,lineHeight:"14px",color:e.text.secondary},metadataLabel:{fontSize:12,lineHeight:"14px",textAlign:"end",color:e.text.secondary},bylineLabel:{fontSize:10,lineHeight:"14px",textAlign:"end",color:e.text.secondary},metadataAreaContainer:{display:"flex",flexDirection:"column",gap:4},buttonArea:{},button:{minWidth:144,borderRadius:"6px"}})),[])}},755195:(e,i,t)=>{t.d(i,{H4:()=>a().H,_7:()=>s()._});var a=()=>t(651390),s=()=>t(931783)},876853:(e,i,t)=>{t.d(i,{r:()=>s});var a=()=>t(422900);a();function s(e){return(0,a().transliterate)(e).trim().length>1}},909306:(e,i,t)=>{t.d(i,{Mb:()=>n,ze:()=>o});var a=()=>t(762433);const s={salesAssisted_hasAiWithPlusBusinessOrEnterprise:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},salesAssisted_bundledAi_enterprise:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0},salesAssisted_bundledAi_business:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0},salesAssisted_noAiWithoutPlusBusinessOrEnterprise:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}},mobile_hasAiAndPersonal:{currentState:{featureSet:"advanced",reason:"personal_ai"},upsell:void 0},mobile_hasPersonalNoAi:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"advanced"}},mobile_hasAiNoPersonal:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"personal",featureSet:"advanced"}},mobile_noAiNoPersonal:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}},student_hasAi:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}},student_noAi:{currentState:{featureSet:"none"},upsell:{product:"ai",featureSet:"core"}},business_hasAi:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},business_noAi:{currentState:{featureSet:"advanced",reason:"business"},upsell:void 0},enterprise_hasAi:{currentState:{featureSet:"advanced",reason:"ai_product"},upsell:void 0},enterprise_noAi:{currentState:{featureSet:"advanced",reason:"enterprise"},upsell:void 0},aiProductOnly:{currentState:{featureSet:"core",reason:"ai_product"},upsell:{product:"business",featureSet:"advanced"}},default_noProducts:{currentState:{featureSet:"none"},upsell:{product:"business",featureSet:"advanced"}}};function n({billingData:e}){const i=(0,a().YF)(e),t=(0,a().N8)(e),n=(0,a().eh)(e,"plus"),o=(0,a().eh)(e,"business"),l=(0,a().eh)(e,"enterprise"),r=(0,a().eh)(e,"ai"),d=(0,a().eh)(e,"student"),c=(0,a().eh)(e,"personal");return t?r&&(n||o||l)?s.salesAssisted_hasAiWithPlusBusinessOrEnterprise:e&&(0,a().PB)(e)?l?s.salesAssisted_bundledAi_enterprise:s.salesAssisted_bundledAi_business:s.salesAssisted_noAiWithoutPlusBusinessOrEnterprise:i?r&&c?s.mobile_hasAiAndPersonal:c&&!r?s.mobile_hasPersonalNoAi:r&&!c?s.mobile_hasAiNoPersonal:s.mobile_noAiNoPersonal:d?r?s.student_hasAi:s.student_noAi:o?r?s.business_hasAi:s.business_noAi:l?r?s.enterprise_hasAi:s.enterprise_noAi:r?s.aiProductOnly:s.default_noProducts}function o({billingData:e}){var i;return"ai"===(null===(i=n({billingData:e}))||void 0===i||null===(i=i.upsell)||void 0===i?void 0:i.product)}},911259:(e,i,t)=>{t.r(i),t.d(i,{arrowInCircleUpIcon:()=>n,iconDefinition:()=>s});t(296540);var a=t(474848);const s={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M13.042 9.554a.625.625 0 0 1-.884 0l-1.533-1.533v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 0 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"}),(0,a.jsx)("path",{d:"M17.625 10a7.625 7.625 0 1 1-15.25 0 7.625 7.625 0 0 1 15.25 0M10 16.375a6.375 6.375 0 1 0 0-12.75 6.375 6.375 0 0 0 0 12.75"})]})},n=(0,t(340498).wt)("arrowInCircleUp",s)},912396:(e,i,t)=>{t.d(i,{Ay:()=>Le,DZ:()=>we});t(944114),t(898992),t(354520),t(581454),t(737550);var a=t(296540),s=()=>t(662303),n=()=>t(484714),o=()=>t(852507),l=()=>t(56366),r=()=>t(401497),d=()=>t(929219),c=()=>t(699143),u=()=>t(718827),p=()=>t(493552),g=()=>t(484392),m=()=>t(869190),f=()=>t(909306),h=()=>t(762433),b=()=>t(47273),v=()=>t(952539),y=()=>t(491598),S=()=>t(166386),x=()=>t(979340),M=()=>t(816758),A=()=>t(69708),P=()=>t(821062),j=()=>t(534177),C=()=>t(252105),I=()=>t(901389),B=()=>t(209660),w=()=>t(859428),D=()=>t(125565),T=()=>t(843878),k=()=>t(8178),V=()=>t(232930),L=()=>t(365002),_=()=>t(152197),F=()=>t(369955),O=()=>t(562800),E=()=>t(765957),U=()=>t(404141),W=()=>t(224701),K=()=>t(944609),R=()=>t(504235),N=()=>t(399995),z=()=>t(72256),H=()=>t(647621),Y=()=>t(324561),q=()=>t(27716),$=()=>t(807778),G=()=>t(30858),Z=()=>t(10984),X=()=>t(8540),Q=()=>t(539412),J=()=>t(803025),ee=()=>t(334992),ie=()=>t(911964),te=()=>t(408095),ae=()=>t(805061),se=()=>t(981046),ne=()=>t(749240),oe=()=>t(153861),le=()=>t(278597),re=()=>t(729369),de=()=>t(469776),ce=()=>t(208993),ue=()=>t(13966),pe=()=>t(179030),ge=t(474848);const me="Learn more",fe={immediate:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.may13PackagingChanges.scheduledChanges.immediateMigration",defaultMessage:"{message}",values:{message:"On August 13, your price and subscription will migrate to a new price and subscription."}}),on_renewal:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.may13PackagingChanges.scheduledChanges.migrationOnRenewal",defaultMessage:"{message}",values:{message:"Starting August 13, your price and subscription will migrate to a new price and subscription upon your next renewal."}}),post_migration:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.may13PackagingChanges.scheduledChanges.postMigration",defaultMessage:"{message}",values:{message:"Your price and subscription will migrate to a new price and subscription upon your next renewal."}})};function he(e){const{legacyPriceData:i}=e;return(0,ge.jsx)(pe().l,{display:"inline",tint:"gray",iconGroup:ue().H,label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.may13PackagingChanges.banner.label",defaultMessage:"The {subscriptionTier} plan is changing",values:{subscriptionTier:(0,g().A)(i.tierForBanner)}}),description:fe[i.bannerType],actions:[{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.may13PackagingChanges.banner.learnMore.label",defaultMessage:"{message}",values:{message:me}}),onClick:()=>{window.open("https://www.notion.com/blog/notion-ai-for-work","_blank")}}]})}var be=()=>t(517492),ve=()=>t(83489);function ye({spaceId:e,billingData:i,scheduledChanges:t,periodEndDate:a}){const o=(0,A().tz)(),l=(0,n().v3)(),r=(0,m().eV)({value:a,preset:"medium",locale:s().locale}),d=o.formatList(t.filter(Boolean),{type:"conjunction",style:"narrow"});return(0,ge.jsx)(pe().l,{display:"inline",tint:"blue",iconGroup:ve().H,label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.scheduledChanges.pendingChanges.title",defaultMessage:"Pending changes scheduled for {date}",values:{date:r}}),description:d,actions:[{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.scheduledChanges.cancel.label",defaultMessage:"Cancel changes"}),onClick:()=>K().Yv({environment:l,billingData:i})}]})}var Se=()=>t(765411),xe=()=>t(167355),Me=()=>t(218275),Ae=()=>t(671812);function Pe(e){const{environment:i,spaceStore:t,currencyCode:a,unpaidInvoices:s,intl:n}=e,o=(0,Q().x9)(),l=(0,Q().jc)();return s.length<=0?null:(0,ge.jsx)(pe().l,{display:"inline",tint:"red",iconGroup:xe().F,label:(0,ge.jsx)(p().D,{styleKey:"Body/Regular",children:je(o)}),actions:[{label:Ce(o),icon:Me().arrowUpRightSquareSmallIcon,onClick:e=>{if(o){const i=(0,Ae().a)(l);i&&i(e)}else(0,N().U)(i,t,a??se().A.selectedCurrencyCode,s,n)}}]})}function je(e){return e?(0,ge.jsx)(A().sA,{defaultMessage:"Access to Notion is limited because we couldn’t process your last payment",id:"spaceSubscriptionBilling.unpaidInvoiceBanner.uncollectibleTitle"}):(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.unpaidInvoiceBanner.title",defaultMessage:"We were unable to process payment on one or more past invoices. Please update your payment method to retry on all unpaid invoices."})}function Ce(e){return e?(0,ge.jsx)(A().sA,{defaultMessage:"View unpaid invoice",id:"spaceSubscriptionBilling.unpaidInvoiceBanner.uncollectibleLabel"}):(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.unpaidInvoiceBanner.button.label",defaultMessage:"Update payment method"})}var Ie=()=>t(450930);const Be={marginBottom:4},we=(0,A().YK)({offline:{id:"spaceSubscriptionBillingV2.offline.message",defaultMessage:"Please go online to manage billing."},updatingPaymentMethod:{id:"subscriptionSettings.updatingPaymentMethodMessage",defaultMessage:"Updating your payment method…"},addCountryForVat:{id:"spaceSubscriptionBillingV2.vatId.missingCountry",defaultMessage:"To update your VAT/GST number, please update your billing address."},ineligibleCountryForVat:{id:"spaceSubscriptionBillingV2.vatId.vatNotRequired",defaultMessage:"A VAT/GST number is not required for your tax jurisdiction."},payingInvoice:{id:"spaceSubscriptionBillingV2.payingInvoiceMessage",defaultMessage:"Charging invoice {index} / {length} for {amount}..."}}),De=(0,A().YK)({planChargeStartsOn:{defaultMessage:"{planCharge} per {interval} · Starts on {date}",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.starts"},planChargeCancelsOn:{defaultMessage:"{planCharge} per {interval} · Cancels {date}",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.cancels"},planChargeRenewsOn:{defaultMessage:"{planCharge} per {interval} · Renews {date}",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.renews"},priceOnly:{defaultMessage:"{planCharge} per {interval}",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.priceOnly"},month:{defaultMessage:"month",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.monthInterval"},year:{defaultMessage:"year",id:"spaceSubscriptionBillingV2.priceAndRenewalDate.yearInterval"},renewalPriceChange:{defaultMessage:"*Renewal invoice at new price of {renewalPlanChargeDisplay} per {interval}",id:"spaceSubscriptionBillingV2.priceChange"}}),Te={student:{percent_off:x().v0.educationPlusPlan,seat_count:x().v0.educationPlusPlan},personal:{percent_off:x().v0.personalFree,seat_count:x().v0.personalFree},plus:{percent_off:x().v0.plusWithOfferPercentage,seat_count:x().v0.plusWithOfferSeats},business:{percent_off:x().v0.businessWithOffer,seat_count:x().v0.businessWithOfferSeats},enterprise:{percent_off:x().v0.enterpriseWithOffer,seat_count:x().v0.enterpriseWithOfferSeats},enterprise_limited:{percent_off:x().v0.enterpriseLimitedWithOffer,seat_count:x().v0.enterpriseLimitedWithOfferSeats}};function ke({product:e,intl:i,offer:t,offerEndDate:a}){if("free"===e)return null;if(t&&a&&"coupon"===t.type){const s=Te[e];if("percent_off"===t.discount.type)return i.formatMessage(s.percent_off,{date:a.toLocaleString(),percentage:(0,S().vk)(t,"whole_number")});if("seat_count"===t.discount.type)return i.formatMessage(s.seat_count,{date:a.toLocaleString(),seats:t.discount.seatCount});t.discount}return(0,x().u2)({product:e,intl:i})}function Ve({billedProduct:e,effectiveProduct:i,intl:t,salesStatus:a,offer:s,offerEndDate:n,billingData:o}){const l=ke({product:(0,Z().kg)({subscriptionTier:e,currentSubscriptionTier:e,salesStatus:a}),intl:t,offer:s,offerEndDate:n}),r=ke({product:(0,Z().kg)({subscriptionTier:i,currentSubscriptionTier:e,salesStatus:a}),intl:t,offer:s,offerEndDate:n});return"free"===e&&"free"===i?t.formatMessage(x().v0.free):"free"===e&&"free"!==i&&(0,h().TB)(o)?t.formatMessage({defaultMessage:"{effectiveProductMessage} trial",id:"planNameMessage.freePlanWithTrial"},{effectiveProductMessage:r}):e!==i?t.formatMessage({defaultMessage:"{billedProductMessage} + {effectiveProductMessage} Trial",id:"planNameMessage.planWithTrial"},{billedProductMessage:l,effectiveProductMessage:r}):l}function Le({spaceStore:e,customerData:i,upcomingInvoiceData:t,billingData:a,billingEvents:s}){const n=(0,A().tz)();return(0,l().O$)(d().e)&&a?(0,ge.jsx)(ei,{spaceStore:e,customerData:i,upcomingInvoiceData:t,billingData:a,billingEvents:s}):(0,ge.jsx)(T().Ay,{children:(0,ge.jsx)(D().A,{isSmall:!0,style:{textAlign:"center"},children:n.formatMessage(we.offline)})})}function _e({billingData:e}){var i;switch(null==e||null===(i=e.paymentMethod)||void 0===i?void 0:i.type){case"invoice":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.subscriptionSettingsSection.paymentMethod.value.achOrWireTransfer",defaultMessage:"ACH or Wire Transfer"});case"card":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethodType.creditCard",defaultMessage:"Credit card"});case"link":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethodType.link",defaultMessage:"Stripe Link"});case"sepa_debit":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethodType.sepaDebit",defaultMessage:"SEPA Direct Debit"});case"kakao_pay":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethodType.kakaoPay",defaultMessage:"Kakao Pay"});case void 0:return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.subscriptionSettingsSection.paymentMethod.value.none",defaultMessage:"None"});default:return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethodType.otherPaymentOptionLabel",defaultMessage:"Other"})}}function Fe({billingData:e}){const i=null==e?void 0:e.paymentMethod;switch(null==i?void 0:i.type){case"invoice":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.subscriptionSettingsSection.paymentMethod.value.achOrWireTransfer",defaultMessage:"ACH or Wire Transfer"});case"card":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethod.creditCard",defaultMessage:"{creditCardBrand} ending in {lastFourDigits}",values:{creditCardBrand:(0,g().A)(i.brand),lastFourDigits:i.last4}});case"sepa_debit":return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethod.sepaDebit",defaultMessage:"IBAN ending in {lastFourDigits}",values:{lastFourDigits:i.last4}});case void 0:return(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.subscriptionSettingsSection.paymentMethod.value.none",defaultMessage:"None"});default:return null}}function Oe({billingData:e}){return"month"===(0,h().q8)(e)?(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.subscriptionSettingsSection.billingInterval.value.monthly",defaultMessage:"Monthly"}):(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.subscriptionSettingsSection.billingInterval.value.yearly",defaultMessage:"Yearly"})}function Ee(){const e=(0,r().IS)((e=>({button:{color:e.blue.text.accentPrimary,background:e.blue.background.secondaryTranslucent,border:void 0},hovered:{background:(0,u().i)({color:e.blue.background.secondaryTranslucent,mode:e.mode})},pressed:{background:(0,u().yZ)({color:e.blue.background.secondaryTranslucent,mode:e.mode})}})),[]),i=(0,n().v3)(),t=(0,_().r)(),a=(0,Y()._3)({spaceId:t}),s=(0,h().TB)(a),o=(0,h().eh)(a,"ai");return s?null:(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.additionalFeatures",defaultMessage:"Additional features"}),metadataLabel:o?(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.upgradeAi",defaultMessage:"Notion AI responses"}):null,valueLabel:(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(A().sA,{defaultMessage:"Notion AI",id:"spaceSubscriptionUpgradeModal.orderSummary.ai.addOn"}),(0,ge.jsx)(Ie().B,{tooltipMessage:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.ai.description.tooltip",defaultMessage:"Notion AI for Q&A, Autofill, Writer, and more"}),customContainerStyles:{marginTop:0}})]}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBilling.addAi",defaultMessage:"Add AI"}),customButtonStyles:e.button,customHoveredButtonStyles:e.hovered,customPressedButtonStyles:e.pressed,onClick:()=>{C().QP(i,{from:"billing_page",for_subscription_tier:(0,h().AI)(a),addOnFeature:"ai"}),(0,ie().F)({environment:i,spaceStore:E().default.state.sidebarSpaceStore,billingData:a,product:"ai",from:"billing_page"})}}})}function Ue(e){const{addOn:i,billingData:t,spaceStore:a}=e,s=i.price.product;switch(s){case"ai":return(0,ge.jsx)(Ke,{addOn:{...i,price:{...i.price,product:s}},billingData:t});case"ai_credits_pack":return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.aiCreditsPack",defaultMessage:"AI Credits Pack"}),metadataLabel:(0,ge.jsx)(We,{addOn:i,billingData:t}),valueLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.aiCreditsPackValue",defaultMessage:"AI Credits Pack - {credits}",values:{credits:i.quantity}}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.aiCreditsPackButton",defaultMessage:"Manage AI Credits"}),onClick:()=>{B().Ow({currentTab:"ai"})}}});case"sites_custom_hostnames":return(0,ge.jsx)(Re,{addOn:{...i,price:{...i.price,product:s}},billingData:t,spaceStore:a});default:(0,j().HB)(s)}}function We(e){var i,t;const{addOn:n,billingData:o}=e,l=(0,A().tz)(),r=null===(i=(0,F().L)())||void 0===i?void 0:i.getSpaceId(),d=(0,X().X)(),c=a.useMemo((()=>{if(d&&(0,S().rM)(d))return d.offer}),[d]);if(!r)return null;const u=o.subscription,p=(0,h().AW)(o),g=(0,h().d$)(o),f=n.price.billingInterval,v=(0,h().Mr)(n.price.product),x=q().Ft(o,v),M=null==u||null===(t=u.currentPeriodEnd)||void 0===t?void 0:t.toMillis(),P=(0,h().i5)(o),j=n.price.unitAmount.amount,C=n.price.unitAmount.currencyCode,I=n.price.billingInterval,B=n.quantity,D=j*B,T=(0,ge.jsx)(be().v,{cost:{amount:D,currencyCode:C},trailingZeroDisplay:"stripIfInteger"});if(T&&I){const e=He(I,l);if(x)return(0,ge.jsx)(A().sA,{...De.planChargeCancelsOn,values:{planCharge:T,interval:e,date:(0,m().eV)({value:x,preset:"medium",locale:s().locale})}});if((0,y().QK)(c,g,f,n.price.product)){const i=(0,ge.jsx)(be().v,{cost:{amount:(0,S().oh)(c,B,j,"decimal_number"),currencyCode:C},trailingZeroDisplay:"stripIfInteger"});return(0,ge.jsx)(Ye,{intl:l,planCharge:T,discountedPlanCharge:i,intervalMessage:e})}if(P&&"free"===p)return(0,ge.jsx)(A().sA,{...De.planChargeStartsOn,values:{planCharge:T,interval:e,date:(0,m().eV)({value:P,preset:"medium",locale:s().locale})}});if(M){if("sites_custom_hostnames"===n.price.product){var k;const i=(0,b().yp)(null===(k=o.subscription)||void 0===k?void 0:k.pending,"sites_custom_hostnames"),t=i?i.price.unitAmount.amount*i.quantity:void 0;if(t&&t!==D)return(0,ge.jsx)(w().A,{textWrap:!0,renderTooltip:()=>(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.sitesRenewalCost",defaultMessage:"Price will update to {cost} per {interval} starting on {date}",values:{cost:(0,ge.jsx)(be().v,{cost:{amount:t,currencyCode:C},trailingZeroDisplay:"stripIfInteger"}),interval:e,date:(0,m().W_)(M,"medium",s().locale)}}),placement:"bottom",alignment:"center",render:i=>(0,ge.jsx)("div",{...i,children:(0,ge.jsx)(A().sA,{...De.planChargeRenewsOn,values:{planCharge:T,interval:e,date:(0,m().W_)(M,"medium",s().locale)}})})})}return(0,ge.jsx)(A().sA,{...De.planChargeRenewsOn,values:{planCharge:T,interval:e,date:(0,m().W_)(M,"medium",s().locale)}})}return(0,ge.jsx)(A().sA,{...De.priceOnly,values:{planCharge:T,interval:e}})}return null}function Ke(e){var i;const{billingData:t,addOn:s}=e,o=(0,n().v3)(),l=(0,A().tz)(),[r,d]=a.useState(!1),c=(0,X().X)(),u=(0,h().bO)(t),p=(0,L()._)(),g=(0,h().YF)(t);let m;u?m=l.formatMessage(H().Ks.paymentMethodUnverified):p?m=l.formatMessage(te().P$.salesAssistedDisabled):g&&(m=l.formatMessage(H().Ks.mixedSubscriptionRestriction));const b=q().Ft(t,s.price.product),v={label:b?(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.resubscribe",defaultMessage:"Resubscribe"}):(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.removeFromPlan",defaultMessage:"Remove from plan"}),onClick:async()=>b?(await K().Yv({environment:o,billingData:t}),C().$7(o,{type:"resubscription",plan_selected:"ai"}),null):(d(!0),C().$7(o,{type:"removal",plan_selected:"ai"}),null),tooltip:m,isDisabled:Boolean(m)},y=s.price.billingInterval,M=(0,h().d$)(t),P=(0,G().yX)(c,M,y),j=null==c?void 0:c.offer,I="advanced"===(0,f().Mb)({billingData:t}).currentState.featureSet?l.formatMessage(te().P$.advancedAILabel):P&&"coupon"===(null==j?void 0:j.type)&&"percent_off"===j.discount.type?l.formatMessage(x().v0.aiCoreWithOfferPercentage,{date:P.toLocaleString(),percentage:(0,S().vk)(j,"whole_number")}):P&&"coupon"===(null==j?void 0:j.type)&&"seat_count"===j.discount.type?l.formatMessage(x().v0.aiCoreWithOfferSeats,{date:P.toLocaleString(),seats:j.discount.seatCount}):(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.valueLabel.aiCore",defaultMessage:"Notion AI core"}),B=null==t||null===(i=t.subscription)||void 0===i||null===(i=i.currentPeriodEnd)||void 0===i?void 0:i.toMillis();return(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.additionalFeatures",defaultMessage:"Additional features"}),metadataLabel:p?void 0:(0,ge.jsx)(We,{addOn:s,billingData:t}),valueLabel:I,button:v}),r?(0,ge.jsx)(de().am,{currentPeriodEnd:B,isOpen:r,onClose:()=>d(!1)}):null]})}function Re(e){const{addOn:i,billingData:t,spaceStore:a}=e,s=(0,r().IS)((e=>({tooltipFirstLine:{whiteSpace:"nowrap",color:e.text.inversePrimary},tooltipSecondLine:{whiteSpace:"nowrap",color:e.text.inverseSecondary}})),[]),n={label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.manageDomainSitesAdmin",defaultMessage:"Manage Domain"}),onClick:()=>{B().Ow({currentTab:"sites"})},tooltip:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.button.SitesTooltip",defaultMessage:"<lineOne>Go to Sites tab to manage your custom domain</lineOne>{br}<lineTwo>Delete domain from sites tab to remove add-on</lineTwo>",values:{br:(0,ge.jsx)("br",{}),lineOne:e=>(0,ge.jsx)("span",{style:s.tooltipFirstLine,children:e}),lineTwo:e=>(0,ge.jsx)("span",{style:s.tooltipSecondLine,children:e})}})},o=(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.valueLabel.sitesCustomHostnames",defaultMessage:"Custom domain"}),(0,ge.jsx)(ii,{spaceStore:a})]});return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.additionalFeatures",defaultMessage:"Additional features"}),metadataLabel:(0,ge.jsx)(We,{addOn:i,billingData:t}),valueLabel:o,button:n})}function Ne(e){const{billingData:i,spaceStore:t}=e,s=(0,l().K8)((()=>(0,f().ze)({billingData:i})),[i]),n=(0,h().$d)(i);return(0,ge.jsxs)(ge.Fragment,{children:[s?(0,ge.jsx)(Ee,{}):null,n.map((e=>(0,ge.jsx)(a.Fragment,{children:(0,ge.jsx)(Ue,{billingData:i,addOn:e,spaceStore:t})},e.price.product)))]})}async function ze(e,i,t){const a=await(0,R().showAddressModal)({defaultValue:i});a&&((0,P().A)(a,i)||await W().yU({environment:t,spaceStore:e,address:a}))}function He(e,i){switch(e){case"month":return i.formatMessage(De.month);case"year":return i.formatMessage(De.year);default:(0,j().HB)(e)}}function Ye(e){const{intl:i,planCharge:t,discountedPlanCharge:a,intervalMessage:s}=e;return(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)("a",{style:{textDecorationLine:"line-through",marginInlineEnd:"4px"},children:t}),i.formatMessage(De.priceOnly,{planCharge:a,interval:s})]})}function qe({billingData:e}){var i,t;const n=(0,A().tz)(),o=(0,J().q)(),r="sales_assisted"===o,[d,c]=a.useState(!1),u=(0,l().K8)((()=>(0,oe().AE)()),[]),p=(0,h().AI)(e),g=(0,h().d$)(e),f=(0,h().AW)(e);let v=(0,h().kQ)(e,"plan");(0,h().TB)(e)&&!(0,h().HY)(e)&&(v=(0,h().KH)(e,"plan"));const y=null===(i=v)||void 0===i?void 0:i.price.unitAmount.amount,M=(0,_().r)(),P=(0,h().Ry)(e)??"USD",j=q().Ft(e,"plan"),C=(0,h().q8)(e),I=(0,X().X)();if(!M)return null;const B=(0,h().gv)({productType:"plan",billingData:e}),w="stripe"===(null==e?void 0:e.provider),D=y&&w&&B?(0,ge.jsx)(be().v,{cost:{amount:y*B,currencyCode:P},trailingZeroDisplay:"stripIfInteger"}):void 0,T=(0,G().yX)(I,g,C);let k=null,V=null;const L=null==e||null===(t=e.subscription)||void 0===t||null===(t=t.currentPeriodEnd)||void 0===t?void 0:t.toMillis();if(D&&C){const i=He(C,n),t=(0,h().i5)(e);if(j)k=n.formatMessage(De.planChargeCancelsOn,{planCharge:D,interval:i,date:(0,m().eV)({value:j,preset:"medium",locale:s().locale})});else if(I&&T&&y&&w&&B){const e=(0,ge.jsx)(be().v,{cost:{amount:(0,S().oh)(I.offer,B,y,"decimal_number"),currencyCode:P},trailingZeroDisplay:"stripIfInteger"});k=(0,ge.jsx)(Ye,{intl:n,planCharge:D,discountedPlanCharge:e,intervalMessage:i})}else if("free"===f&&t)k=n.formatMessage(De.planChargeStartsOn,{planCharge:D,interval:i,date:(0,m().eV)({value:t,preset:"medium",locale:s().locale})});else if(L){var F;k=n.formatMessage(De.planChargeRenewsOn,{planCharge:D,interval:i,date:(0,m().W_)(L,"medium",s().locale)});const a=(0,b().yp)(null===(F=e.subscription)||void 0===F?void 0:F.pending,"plan"),o=a?a.price.unitAmount.amount*a.quantity:void 0;if(t&&!e.paymentMethod&&(k=n.formatMessage(De.planChargeCancelsOn,{planCharge:D,interval:i,date:(0,m().eV)({value:t,preset:"medium",locale:s().locale})})),o&&y&&B&&o!==y*B){const e=(0,ge.jsx)(be().v,{cost:{amount:o,currencyCode:P},trailingZeroDisplay:"stripIfInteger"}),i=a?He(a.price.billingInterval,n):void 0;V=n.formatMessage(De.renewalPriceChange,{renewalPlanChargeDisplay:e,interval:i})}}else k=n.formatMessage(De.priceOnly,{planCharge:D,interval:i})}let O=null;return u?O=n.formatMessage(H().Ks.galaxyAppRestriction):r?O=n.formatMessage(te().P$.salesAssistedDisabled):null!=e&&e.subscription&&(q().HN(e)||Boolean(q().Ft(e,"plan")))?O=(0,ge.jsx)(ti,{title:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod.pendingPlanChangeTooltip",defaultMessage:"You have a plan update scheduled for {date}",values:{date:(0,m().eV)({value:e.subscription.currentPeriodEnd,preset:"medium",locale:s().locale})}}),description:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod.pendingChangeTooltipDescription",defaultMessage:"Use the banner above to cancel changes"})}):(0,h().YF)(e)&&(O=n.formatMessage(H().Ks.mixedSubscriptionRestriction)),(0,ge.jsxs)(ge.Fragment,{children:[(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.plan",defaultMessage:"Plan"}),metadataLabel:k,bylineLabel:V,valueLabel:"free"===p?n.formatMessage(x().v0.free):Ve({billedProduct:f,effectiveProduct:p,intl:n,salesStatus:o,offer:null==I?void 0:I.offer,offerEndDate:T,billingData:e}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.changePlan",defaultMessage:"Change plan"}),isDisabled:Boolean(O),tooltip:O,tooltipWidth:206,onClick:()=>c(!0)}}),d?(0,ge.jsx)(de().hv,{billingInterval:C??"month",billingData:e,currentPeriodEnd:L,salesStatus:o,isOpen:d,onClose:()=>c(!1),onClickManageGuests:()=>{U().A.setState({open:!0,openedFrom:"share_menu",currentTab:"members",defaultSubtab:void 0,highlightedSetting:void 0})},onRequestDowngrade:W().wX,onRequestUpgrade:ie().F}):null]})}function $e({billingData:e,intl:i}){const t=(0,n().v3)(),o=(0,L().Y)(e,ne().subscriptionDataStoreInstance),r=(0,a.useCallback)((()=>function(e,i){const t="year"===((0,h().q8)(i)??"year")?"month":"year";(0,z().o)(e,{desiredInterval:t,from:"billing_page",analyticsArgs:{from:"billing_page"}})}(t,e)),[t,e]),d=(0,h().bO)(e),c=(0,l().K8)((()=>(0,oe().AE)()),[]);if(!q().Yn(e))return null;let u;return c?u=i.formatMessage(H().Ks.galaxyAppRestriction):d?u=i.formatMessage(H().Ks.paymentMethodUnverified):o?u=(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod.salesAssistedTooltip",defaultMessage:"Please contact your Notion account manager to make changes to your plan"}):null!=e&&e.subscription&&(q().Sk(e)||Boolean((0,h().D_)(e)))?u=(0,ge.jsx)(ti,{title:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod.pendingChangeTooltip",defaultMessage:"You have a billing period update scheduled for {date}",values:{date:(0,m().eV)({value:e.subscription.currentPeriodEnd,preset:"medium",locale:s().locale})}}),description:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod.pendingChangeTooltipDescription",defaultMessage:"Use the banner above to cancel changes"})}):(0,h().YF)(e)&&(u=i.formatMessage(H().Ks.mixedSubscriptionRestriction)),(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.billingPeriod",defaultMessage:"Billing period"}),valueLabel:(0,ge.jsx)(Oe,{billingData:e}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editPeriod",defaultMessage:"Edit period"}),onClick:r,isDisabled:Boolean(u),tooltip:u,tooltipWidth:206}})}function Ge({billingData:e,spaceStore:i}){const t=(0,l().K8)((()=>i.getMemberCountFromPublicSpaceData()),[i]),a=(0,Y().Q7)(i.id,e,t??0);return(0,ge.jsx)(re().S,{metadataLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paidSeats.numberOfSeats",defaultMessage:"{numberOfSeats, plural, one {# seat} other {# seats}}",values:{numberOfSeats:a}}),mainLabel:(0,ge.jsxs)(c().Y1,{align:"center-left",direction:"horizontal",gap:4,children:[(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paidSeats",defaultMessage:"Paid seats"}),(0,ge.jsx)(ce().W,{tooltipWidth:215,tooltipTitle:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paidSeatsTooltip",defaultMessage:"The number of seats that your workspace is currently paying for."}),tooltipDescription:(0,ge.jsx)(A().sA,{id:"spaceSettings.people.peopleDashboard.clickToLearnMore",defaultMessage:"Click to learn more"}),buttonProps:{href:(0,V().x)("guides.billing")}})]}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.manageMembers",defaultMessage:"Manage members"}),onClick:()=>{B().Ow({currentTab:"members"})}}})}function Ze({billingData:e,spaceStore:i}){const t=(0,n().v3)();return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.billingEmail",defaultMessage:"Billing email"}),valueLabel:(null==e?void 0:e.email)??"",button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editEmail",defaultMessage:"Edit email"}),onClick:()=>async function(e,i,t){const a=await(0,R().showEmailModal)({defaultValue:null==i?void 0:i.email});a&&a!==(null==i?void 0:i.email)&&await W().nV({environment:t,spaceStore:e,billingEmail:a,from:"space_settings-billing_tab"})}(i,e,t)}})}function Xe({billingData:e,spaceStore:i,intl:t,unpaidInvoices:a}){const s=(0,n().v3)(),o=(0,l().K8)((()=>(0,h().Ry)(e)??se().A.selectedCurrencyCode),[e]),r=(0,h().bO)(e),d=(0,l().K8)((()=>(0,oe().AE)()),[]);return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentMethod",defaultMessage:"Payment method"}),valueLabel:(0,ge.jsx)(_e,{billingData:e}),metadataLabel:(0,ge.jsx)(Fe,{billingData:e}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editMethod",defaultMessage:"Edit method"}),onClick:()=>(0,N().U)(s,i,o,a,t),isDisabled:d||r,tooltip:d?t.formatMessage(H().Ks.galaxyAppRestriction):r?t.formatMessage(H().Ks.paymentMethodUnverified):void 0}})}function Qe({address:e,spaceStore:i}){const t=(0,n().v3)(),a=(0,A().tz)(),s=(0,l().K8)((()=>(0,oe().AE)()),[]);return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.billedTo",defaultMessage:"Billed to"}),valueLabel:(0,ge.jsx)(Se().q,{layout:"condensed",address:e}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editInformation",defaultMessage:"Edit information"}),onClick:()=>ze(i,e,t),isDisabled:s,tooltip:s?a.formatMessage(H().Ks.galaxyAppRestriction):void 0}})}function Je({customerData:e,spaceStore:i,billingData:t}){var a;const s=(0,n().v3)(),o=(0,A().tz)(),l=null==t||null===(a=t.address)||void 0===a?void 0:a.country,r=l?M().XH[l]:void 0;return(0,ge.jsx)(re().S,{mainLabel:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.vatGst",defaultMessage:"VAT/GST number"}),valueLabel:(0,ge.jsx)("div",{children:e.vatId||"-"}),button:{label:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.editNumber",defaultMessage:"Edit number"}),onClick:()=>async function(e,i,t,a,s){var n;const o=null==t||null===(n=t.address)||void 0===n?void 0:n.country;if(!o)return void I().f1(s.formatMessage(we.addCountryForVat));if(!M().XH[o])return void I().f1(s.formatMessage(we.ineligibleCountryForVat));const l=await(0,R().showVatIdModal)({defaultValue:i.vatId});l&&l!==i.vatId&&await W().sC({environment:a,spaceStore:e,vatId:l})}(i,e,t,s,o),isDisabled:!r,tooltip:r?null:o.formatMessage(l?we.ineligibleCountryForVat:we.addCountryForVat)}})}function ei({billingData:e,customerData:i,spaceStore:t,upcomingInvoiceData:a,billingEvents:s}){const r=(0,n().v3)(),d=(0,A().tz)(),{isMobile:u,isPhone:p}=(0,n().Y0)(),g=(0,ee().A)(t),m=(0,l().K8)((()=>(0,$().Ug)()),[]),f=(0,l().K8)((()=>ae().c.getData(r,{spaceId:t.id})),[r,t.id]),b=(0,l().K8)((()=>void 0!==(null==f?void 0:f.bannerType)),[f]),{scheduledChanges:y,periodEndDate:S}=(0,q().su)(e),x=function(e){const{scheduledChanges:i,periodEndDate:t}=(0,q().su)(e),a=(0,h().lQ)(e);return!(1===i.length&&a.items.some((e=>"business"===e.price.product||"enterprise"===e.price.product))&&(0,h().eh)(e,"ai")&&!a.items.some((e=>"ai"===e.price.product)))&&i.length>0&&null!==t}(e),M=(0,Q().x9)(),P=m||M,j=(0,v().bO)(e).map((e=>e.externalId)),C=s.filter((e=>j.includes(e.id))),I=(0,h().Ry)(e)??"USD",B=[];b&&null!=f&&f.bannerType&&B.push((0,ge.jsx)(he,{legacyPriceData:f})),x&&S&&B.push((0,ge.jsx)(ye,{spaceId:t.id,billingData:e,scheduledChanges:y,periodEndDate:S})),P&&B.push((0,ge.jsx)(Pe,{environment:r,spaceStore:t,currencyCode:I,unpaidInvoices:C,intl:d}));const w=B.length>0,D=(0,l().K8)((()=>"billing"===U().A.state.currentTab&&"address"===U().A.state.defaultSubtab),[]);return(0,o().w)((()=>{D&&async function(){await ze(t,null==e?void 0:e.address,r)}()})),(0,ge.jsxs)(T().Ay,{contentPaddingLeftRight:p?0:(0,T().AL)(u),contentPaddingTopBottom:p?0:u?18:36,children:[p?null:(0,ge.jsx)(k().A,{large:!0,divider:w?"none":"full",style:Be,children:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.billing",defaultMessage:"Billing"})}),w?(0,ge.jsx)(c().Y1,{direction:"vertical",gap:16,padding:"16px 0px 12px 0px",children:B}):null,(0,ge.jsx)(qe,{billingData:e}),(0,ge.jsx)(Ne,{billingData:e,spaceStore:t}),(0,ge.jsx)($e,{billingData:e,intl:d}),g?(0,ge.jsx)(Ge,{billingData:e,spaceStore:t}):void 0,(0,ge.jsx)("div",{style:{height:40,flexShrink:0}}),(0,ge.jsx)(k().A,{large:!0,divider:"full",style:Be,children:(0,ge.jsx)(A().sA,{id:"spaceSubscriptionBillingV2.paymentDetails",defaultMessage:"Payment details"})}),(0,ge.jsx)(Xe,{billingData:e,spaceStore:t,intl:d,unpaidInvoices:C}),(0,ge.jsx)(Qe,{spaceStore:t,address:null==e?void 0:e.address}),(0,ge.jsx)(Ze,{billingData:e,spaceStore:t}),(0,ge.jsx)(Je,{customerData:i,billingData:e,spaceStore:t}),(0,ge.jsx)(le().g,{spaceStore:t,events:s,upcomingInvoiceData:a})]})}function ii(e){const{spaceStore:i}=e,t=(0,l().K8)((()=>O().$o(i).filter((e=>"custom"===e.getDomainType())).map((e=>e.getDomainName()))),[i]);return(0,ge.jsx)(ge.Fragment,{children:t.map(((e,i)=>(0,ge.jsxs)("span",{children:[" · ",e]},i)))})}function ti({title:e,description:i}){return(0,ge.jsxs)(c().Y1,{gap:2,direction:"vertical",children:[(0,ge.jsx)(p().D,{styleKey:"Caption/Medium",colorVariant:"inversePrimary",children:e}),(0,ge.jsx)(p().D,{styleKey:"Caption/Regular",colorVariant:"inverseSecondary",children:i})]})}},930851:(e,i,t)=>{t.d(i,{S:()=>l,Z:()=>o});t(296540);var a=()=>t(69708),s=()=>t(534177),n=t(474848);function o(e){switch(e.status){case"paid":return e.total<0?"credited":"paid";case"upcoming":return"upcoming";case"void":return"void";default:return"processing"===e.paymentStatus?"processing":e.attempted?"failed":"due"}}function l(e){const{invoice:i}=e,t=o(i);switch(t){case"paid":return(0,n.jsx)(a().sA,{id:"invoice.status.paid",defaultMessage:"Paid"});case"credited":return(0,n.jsx)(a().sA,{id:"invoice.status.credited",defaultMessage:"Credited"});case"upcoming":return(0,n.jsx)(a().sA,{id:"invoice.status.upcoming",defaultMessage:"Upcoming - not due yet"});case"processing":return(0,n.jsx)(a().sA,{id:"invoice.status.processing",defaultMessage:"Processing"});case"failed":return(0,n.jsx)(a().sA,{id:"invoice.status.failed",defaultMessage:"Failed"});case"due":return(0,n.jsx)(a().sA,{id:"invoice.status.due",defaultMessage:"Due"});case"void":return(0,n.jsx)(a().sA,{id:"invoice.status.void",defaultMessage:"Void"});default:return(0,s().HB)(t)}}},931783:(e,i,t)=>{t.d(i,{_:()=>o});var a=()=>t(484714),s=()=>t(56366),n=()=>t(252105);function o(e){const{asyncPrice:i}=e,t=(0,a().v3)();return(0,s().K8)((()=>{if(i&&i.isLoaded&&i.result)return n().m4(t,{externalId:i.result.externalId}),i.result.getMonthlyUnitCost().toMoneyValue()}),[i,t])}},934068:(e,i,t)=>{t.d(i,{$G:()=>r,Hj:()=>d,Nh:()=>f,V9:()=>u,WL:()=>l,bf:()=>m,cv:()=>g,nS:()=>c,tz:()=>p});t(581454);var a=()=>t(906745),s=()=>t(534177),n=()=>t(869190),o=()=>t(323063);const l=30,r=5;function d(e,i){var t;return void 0!==(null===(t=e.subscription)||void 0===t?void 0:t.trialEnd)&&"reset_and_invoice"===i.subscription.type}function c(e,i,t){return e?(0,n().W_)(e.toMillis(),t??"long",i):void 0}function u(e,i){const t=a().c9.fromMillis(e.endDateMs);return(i??a().c9.now())>t}function p(e,i,t){const s=a().c9.fromMillis(e.endDateMs),n=t??a().c9.now();return n<s&&s.diff(n).as("days")<=i}function g(e,i,t,s,n="USD",r=l,d=a().c9.now()){return{items:i.map((i=>({price:(0,o().vk)(e,{product:i,interval:t,currency:n}),quantity:s}))),trialEnd:d.plus({days:r})}}function m(e){return"business_cc_14d_personal"===e}function f(e){return(0,s().Xk)(e,"plus")&&(0,s().Xk)(e,"ai")}},944609:(e,i,t)=>{t.d(i,{Yv:()=>p,VA:()=>m,sg:()=>g});var a=()=>t(762433),s=()=>t(491598),n=()=>t(901389),o=()=>t(496414),l=()=>t(471995),r=()=>t(765957),d=()=>t(27716);const c=(0,t(69708).YK)({cancellingTrial:{defaultMessage:"Cancelling your trial.",id:"cancelTrial.error.message"},cancellationConfirmationMessage:{defaultMessage:"Are you sure you want to cancel your trial?",id:"cancelTrial.confirmation.message"},yes:{defaultMessage:"Yes, cancel my trial",id:"cancelTrial.yes.confirmation.message"}});var u=()=>t(224701);async function p(e){var i;const{environment:t,billingData:s}=e,o=r().default.state.sidebarSpaceStore;if(!o)return;if(null===(i=s.subscription)||void 0===i||!i.pending)return n().f1((0,d().e9)());if(!o)return n().f1((0,d().e9)());const c=(0,a().PP)(s);await u().nV({environment:t,from:"space_settings-billing_tab",spaceStore:o,desiredState:c}),l().D6({label:(0,d().MA)()})}function g(e,i){return!!i&&!(0,s().d$)(i.campaign,e)}async function m(e){const i=r().default.state.sidebarSpaceStore;i&&(o().m({message:c.cancellingTrial}),await u().nV({environment:e,spaceStore:i,from:"space_settings-plans_tab",desiredState:{items:[],trialEnd:void 0}}),o().V())}},985315:(e,i,t)=>{t.d(i,{g:()=>o});var a=()=>t(484714),s=()=>t(56366),n=()=>t(126410);function o({spaceId:e}){const i=(0,a().v3)();return(0,s().K8)((()=>{if(e)return n().A.getData(i,{spaceId:e})}),[i,e])}}}]);