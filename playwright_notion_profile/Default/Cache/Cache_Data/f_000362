"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[39438],{5580:(e,t,n)=>{n.d(t,{n:()=>a});var o=()=>n(56366),i=()=>n(209199),s=()=>n(765957);function a(){return(0,o().K8)((()=>{var e;const t=(null===(e=s().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)??i().q;return(0,i().o_)(t)}),[])}},22634:(e,t,n)=>{n.d(t,{O:()=>s});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.42 3.97 12.16 12.06",directional:!0,svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"m5.492 4.158 5.4 5.4a.625.625 0 0 1 0 .884l-5.4 5.4a.625.625 0 1 1-.884-.884L9.566 10 4.608 5.042a.625.625 0 1 1 .884-.884"}),(0,o.jsx)("path",{d:"m16.392 10.442-5.4 5.4a.625.625 0 0 1-.884-.884L15.066 10l-4.958-4.958a.625.625 0 0 1 .884-.884l5.4 5.4a.625.625 0 0 1 0 .884"})]})},s=(0,n(340498).wt)("arrowChevronDoubleForward",i)},58180:(e,t,n)=>{n.d(t,{E:()=>i});var o=()=>n(310526);function i(e,t){var n;if(!t)return!1;if(!(0,o().U)(t))return!1;const i=null===(n=e.getTopLevelAncestorBlockStore())||void 0===n?void 0:n.id;return!!i&&!!t.getPrivatePageIds().includes(i)}},89956:(e,t,n)=>{n.d(t,{p:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.46 2.46 11.08 11.08",svg:(0,n(474848).jsx)("path",{d:"M3.088 2.463a.625.625 0 0 0-.625.625v4a.625.625 0 1 0 1.25 0V4.597l3.045 3.045a.625.625 0 0 0 .884-.884L4.597 3.713h2.49a.625.625 0 1 0 0-1.25zM9.244 8.36a.625.625 0 0 0-.883.884l3.042 3.043H8.912a.625.625 0 1 0 0 1.25h4c.345 0 .625-.28.625-.625v-4a.625.625 0 0 0-1.25 0v2.491z"})},i=(0,n(340498).wt)("arrowExpandDiagonalSmall",o)},200688:(e,t,n)=>{n.d(t,{B:()=>l,S:()=>r});n(898992),n(354520);var o=()=>n(56366),i=()=>n(774733),s=()=>n(655236),a=()=>n(645873);function r(e,t){const{value:n}=(0,a().fJ)(i().commentsDependency);return(0,o().K8)((()=>e&&n?n.discussionHelpers.getDiscussionsForSidebar({blockStore:e,currentUserId:e.userId,ignoreAfterTime:t??Date.now()}).filter((e=>e.isDefined()&&e.getCommentPointers().length>0)):[]),[n,e,t])}function l({navigableBlockStore:e}){const t=r(e);return(0,o().K8)((()=>t.filter((t=>(0,s().s)({discussionStore:t,navigableBlockStore:e})))),[t,e])}},204263:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(69708),i=n(474848);const s=function(){const e=(0,o().tz)(),t=(0,n(484714).v3)(),s=(0,o().YK)({helpTitle:{defaultMessage:"Learn about tasks",id:"myTasks.helpTooltip.title"}}),a=(0,n(863059).gQ)();return(0,i.jsx)(n(859428).A,{placement:"bottom",renderTooltip:t=>e.formatMessage(s.helpTitle),render:o=>(0,i.jsx)(n(285790).A,{icon:n(406533).questionMarkCircleIcon,iconStyle:a.icon,ariaLabel:e.formatMessage(s.helpTitle),style:{width:a.iconButton.width,height:a.iconButton.height},onClick:e=>{e.preventDefault(),(0,n(27579).L)({environment:t,url:n(696746).hI,targetSelf:!1})},...o})})}},277201:(e,t,n)=>{n.d(t,{I:()=>x,i:()=>w});var o=n(296540),i=()=>n(726637),s=()=>n(484714),a=()=>n(56366),r=()=>n(401497),l=()=>n(75435),d=()=>n(387964),c=()=>n(340498),u=()=>n(69708),p=()=>n(180252),g=()=>n(38337),m=()=>n(869562),f=()=>n(749687),v=()=>n(145214),S=()=>n(285790),b=()=>n(35392),y=()=>n(859428),h=n(474848);function x(e){const t=(0,s().v3)(),n=(0,s().Y0)(),o=(0,u().tz)(),i=(0,a().O$)(f().sidebarMouseEnteredStore),r=(0,a().O$)(l().b),c=(0,a().O$)((0,p().$o)(t)),g=o.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),v=(!n.isElectronMac||!c)&&!r&&i;return(0,h.jsx)(w,{isVisible:v,icon:d().S,caption:g,onClick:()=>{m().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const k={width:c().Ev.lg,height:c().Ev.lg,fill:"inherit"};function w(e){const t=(0,s().Y0)(),n=(0,r().IS)((e=>({keyboardShortcut:{color:e.text.inverseSecondary},button:{fill:e.icon.secondary}})),[]),a=(0,o.useMemo)((()=>({position:"relative",marginInlineStart:10,...i().A.isMobile&&{height:"100%"},...n.button,...e.style})),[e.style,n.button]);return e.isVisible?(0,h.jsx)(y().A,{renderTooltip:()=>(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:e.caption}),e.keyboardShortcutName?(0,h.jsx)(b().A,{style:n.keyboardShortcut,name:e.keyboardShortcutName}):void 0]}),originGap:6,placement:t.isElectron?"right":"bottom",render:t=>(0,h.jsx)(v().A,{tag:S().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:a,hoveredStyle:e.hoveredStyle,iconStyle:k,onClick:e.onClick,className:g().P7S,...t})}):null}},361946:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(69708),s=()=>n(645302),a=()=>n(712505),r=n(474848);const l=function(e){const{store:t,shouldShowMoveToMenu:l,iconStyle:d,style:c}=e,u=(0,n(484714).v3)(),p=(0,i().tz)(),g=(0,n(56366).K8)((()=>(0,n(492414).Ay)({store:t,fullyQualified:!1,pageVisitSource:n(584262).y8.Expand})),[t]),m=(0,n(401497).IS)((e=>({keyboardShortcut:{color:e.text.inverseSecondary},iconButtonWrapper:{height:24}})),[]),f=(0,o.useCallback)((()=>{var e,t,n;s().uO(u,{isNewPage:l,peek_mode:a().default.state.mode,from:"topbar_button",target_page_id:null===(e=a().default.peekTargetStore.state)||void 0===e?void 0:e.id}),s().Zh(u,{peek_mode:a().default.state.mode,from:"topbar_open_as_page_button",target_page_id:null===(t=a().default.peekTargetStore.state)||void 0===t?void 0:t.id,target_parent_id:null===(n=a().default.peekTargetStore.state)||void 0===n?void 0:n.getParentId()})}),[u,l]);return(0,r.jsx)(n(859428).A,{renderTooltip:()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:(0,r.jsx)(i().sA,{defaultMessage:"Open in full page",id:"peekTopbar.navigateToPage.tooltip"})}),(0,r.jsx)(n(35392).A,{style:m.keyboardShortcut,name:"commandEnter"})]}),render:t=>(0,r.jsx)("div",{style:m.iconButtonWrapper,children:(0,r.jsx)(n(285790).A,{...t,icon:n(89956).p,iconStyle:{width:16,height:16,...d},hasBackground:e.hasBackground,href:g,onClick:f,ariaLabel:p.formatMessage({id:"peekTopbar.navigateToPage.tooltip",defaultMessage:"Open in full page"}),style:c})})})}},378941:(e,t,n)=>{n.d(t,{J7:()=>u,XC:()=>g,hs:()=>p});n(898992),n(354520),n(581454);var o=()=>n(165358),i=()=>n(792071),s=()=>n(277816),a=()=>n(798880),r=()=>n(229833),l=()=>n(534177),d=()=>n(559506),c=()=>n(547222);function u({trustedDomainIds:e,spaceStore:t}){return e.map((e=>{const n=c().L.createChildStore(t,{table:s().A,id:e,spaceId:t.id});if(n.canRead())return n})).filter(l().O9)}async function p({environment:e,spaceId:t,currentUserId:n,organizationId:i}){const s=await d().callApi({eventName:"getTrustedDomainsNumberOfMembers",environment:e,data:{spaceId:t,organizationId:i},userId:n});return"failed"===s.type?(o().rateLimitedLog({from:"trustedDomainHelpers",level:"error",type:"getTrustedDomainsNumberOfMembersForSpaceFailed",spaceId:t,actor:n?{type:"user",id:n,table:a().oo}:void 0,error:(0,r().convertErrorToLog)(s.error)}),[]):s.data.results}async function g({environment:e,spaceId:t}){const n=await d().callApi({eventName:"getTrustedDomainsForSpace",environment:e,data:{spaceId:t}});if("success"!==n.type)return[];return n.data.results.filter((e=>e.domain_link_sharing_enabled)).map((e=>i().Bj6.fromValue(s().A,e)))}},387964:(e,t,n)=>{n.d(t,{S:()=>s});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,o.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},s=(0,n(340498).wt)("arrowChevronDoubleBackward",i)},462113:(e,t,n)=>{n.d(t,{A:()=>g});var o=n(296540),i=()=>n(484714),s=()=>n(56366),a=()=>n(401497),r=()=>n(340498),l=()=>n(69708),d=()=>n(285790),c=()=>n(859428),u=n(474848);const p=(0,l().YK)({edit:{id:"FormEmbedActionButtons.edit",defaultMessage:"Edit form"},copyLink:{id:"FormEmbedActionButtons.link",defaultMessage:"Copy link to form"},copiedLink:{id:"FormTopbarActionButtons.copiedLinkToForm.tooltip",defaultMessage:"Copied"}}),g=function(e){const t=(0,i().v3)(),g=(0,l().tz)(),m=(0,a().DP)(),f=(0,o.useRef)(null),{isMobile:v}=(0,i().Y0)(),{formBlockStore:S,inPeekMode:b}=e,y=(0,s().O$)(n(765957).AppStoreSidebarSpaceViewStore),h=(0,s().K8)((()=>!!y&&(0,n(245128).A)({spaceViewStore:y,pageId:S.id})),[y,S]),x=(0,a().IS)((e=>{const t=b?r().Ev.sm:r().Ev.default;return{actionButtonStyle:{width:b?24:32,height:b?"auto":28,marginInlineStart:b?0:4,marginInlineEnd:0},actionIconStyle:{width:t,height:t,fill:b?e.icon.secondary:e.icon.primary}}}),[b]),[k,w]=(0,o.useState)(!1),T=(0,s().K8)((()=>S.getIsFormPublic()),[S]),I=(0,s().K8)((()=>{var e;return!T&&!v&&(t.currentUser.id===S.getCreatedById()&&Boolean(null===(e=S.getFormBlockParentBlockStore())||void 0===e?void 0:e.canEditCollection()))}),[t.currentUser.id,v,S,T]),j=(0,o.useMemo)((()=>async()=>{w(!0);const e=(0,n(465741).px)(S);(await n(884107).R.clipboardActions.load()).copyString({stringValue:e,environment:t,copiedMessage:v?n(614787).l.copiedLinkToForm:void 0}),setTimeout((()=>{w(!1)}),1e3)}),[S,t,v]);function B(){const e=S.getFormBlockParentBlockStore();var o;e&&n(857783).uK({environment:t,store:e,collectionViewId:null===(o=S.getParentStore())||void 0===o?void 0:o.id,pageVisitSource:n(584262).y8.FormInternalPage})}const C=(0,u.jsxs)(u.Fragment,{children:[I?(0,u.jsx)(c().A,{renderTooltip:()=>(0,u.jsx)(u.Fragment,{children:g.formatMessage(p.edit)}),render:e=>(0,u.jsx)(d().A,{...e,style:{...x.actionButtonStyle,marginInlineEnd:void 0},icon:n(105819).pencilLineIcon,iconStyle:x.actionIconStyle,ariaLabel:g.formatMessage(p.edit),onClick:B})}):void 0,(0,u.jsx)(c().A,{originGap:t.device.isElectronWindows?10:void 0,forceVisibleState:!!k||void 0,renderTooltip:()=>(0,u.jsx)(l().sA,{...k?p.copiedLink:p.copyLink}),render:e=>(0,u.jsx)(d().A,{...e,style:x.actionButtonStyle,icon:n(742852).linkIcon,iconStyle:x.actionIconStyle,ariaLabel:g.formatMessage(p.copyLink),onClick:j})}),T?void 0:(0,u.jsx)(n(487146).TopbarFavoriteButton,{store:S,useDefaultTooltipPlacement:!0,iconStyle:{...x.actionIconStyle,fill:h?m.topbarFavorite:x.actionIconStyle.fill},buttonStyle:x.actionButtonStyle,spaceViewStore:y}),b?(0,u.jsx)(n(361946).A,{store:S,shouldShowMoveToMenu:!1,hasBackground:!0,iconStyle:x.actionIconStyle,style:{width:24}}):void 0]});return b?(0,u.jsx)("div",{ref:f,children:(0,u.jsx)(n(886025).Y,{align:"right",containerRef:f,height:28,style:{position:"absolute",borderRadius:1,marginTop:6,marginInlineEnd:10},children:C})}):C}},465505:(e,t,n)=>{n.d(t,{P:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.55 16.45",svg:(0,n(474848).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},i=(0,n(340498).wt)("cube",o)},473975:(e,t,n)=>{n.r(t),n.d(t,{DiscussionFormat:()=>B,anyDiscussionCommentsLoading:()=>z,commentComparator:()=>_,discussionLocationToDiscussionFormat:()=>R,formatFileSize:()=>$,getAndSortCommentStoresByTime:()=>L,getDiscussions:()=>D,getDiscussionsForSidebar:()=>E,getFirstComment:()=>F,getIcon:()=>j,getLatestRelevantComment:()=>C,getSetOfUsersInDiscussions:()=>N,hasCommentChanged:()=>W,inputIsEmpty:()=>O,isCommentAllEmojis:()=>Z,lineClampForCommentCount:()=>M,sortDiscussionStoresByLatestComment:()=>U});n(898992),n(354520),n(803949),n(581454),n(737550);var o=()=>n(764880);n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"1.79 1.87 16.47 15.5",svg:(0,n(474848).jsx)("path",{d:"M9.66 1.977a.63.63 0 0 1 .785.08l2.647 2.647.08.097a.626.626 0 0 1-.866.867l-.098-.08-1.579-1.58v6.95l6.018 3.475-.577-2.155a.626.626 0 0 1 1.207-.324l.97 3.615.019.121a.625.625 0 0 1-.462.645l-3.614.967a.625.625 0 0 1-.325-1.207l2.158-.579-6.015-3.472-5.97 3.55 2.165.55.118.043a.626.626 0 0 1-.301 1.188l-.125-.02-3.627-.922a.625.625 0 0 1-.451-.76l.921-3.626a.625.625 0 0 1 1.212.308L3.4 14.52l5.98-3.554V4.008L7.8 5.588l-.099.08a.626.626 0 0 1-.786-.964l2.647-2.647z"})},s=(0,n(340498).wt)("arrow3D",i);var a=()=>n(300985),r=()=>n(575157),l=()=>n(177148),d=()=>n(251254),c=()=>n(11356),u=()=>n(435644),p=()=>n(421559),g=()=>n(973231),m=()=>n(578717),f=()=>n(916813),v=()=>n(630417),S=()=>n(811563),b=()=>n(201980),y=()=>n(496603),h=()=>n(534177),x=()=>n(939768),k=()=>n(299545),w=()=>n(448291);const T=()=>n(43371),I={doc:r().D,docx:r().D,pages:r().D,md:r().D,txt:r().D,rtf:r().D,xls:p().T,xlsx:p().T,csv:p().T,tsv:p().T,ods:p().T,pdf:n(199103).H,pptx:c().G,ppt:c().G,zip:m().p,br:m().p,bz2:m().p,gz:m().p,"7z":m().p,dmg:m().p,pkg:m().p,jar:m().p,rar:m().p,tar:m().p,xar:m().p,stl:s,obj:s,fbx:s,amf:s,iges:s,mp3:g().$,m4a:g().$,wav:g().$,aac:g().$,ogg:g().$,flac:g().$,alac:g().$,wma:g().$,mp4:d().C,m4v:d().C,gifv:d().C,webm:d().C,mkv:d().C,mov:d().C,qt:d().C,avi:d().C,wmv:d().C,asf:d().C,flv:d().C,f4v:d().C,mpeg:d().C,amv:d().C,exe:n(465505).P,otf:u().a,ttf:u().a,woff:u().a,eof:u().a,py:a().Z,java:a().Z,js:a().Z,ts:a().Z,tsx:a().Z,c:a().Z,h:a().Z,cpp:a().Z,go:a().Z,rs:a().Z,css:a().Z,php:a().Z,swift:a().Z,kt:a().Z,lua:a().Z,m:a().Z,bash_profile:a().Z,bashrc:a().Z,zshrc:a().Z,vimrc:a().Z,vim:a().Z};function j(e){const t=function(e){if(!e)return"";const{pathname:t}=x().qg(e);if(!t)return"";const n=t.split(".");return n[n.length-1]}(e).toLowerCase();return I[t]??l().Y}let B=function(e){return e[e.Menu=0]="Menu",e[e.Page=1]="Page",e[e.Sidebar=2]="Sidebar",e[e.Margin=3]="Margin",e[e.Unfurl=4]="Unfurl",e}({});function C({recordStore:e,currentUserId:t,timestamp:n}){return K({recordStore:e,currentUserId:t,timestamp:n})||F(e)}const P=6,A=3;function M(e){return e>1?A:P}function D(e){return e?k().Bw(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0}):[]}function E({blockStore:e,currentUserId:t,ignoreAfterTime:n}){if(!e)return[];const o=k().Bw(e,{recursivelyLoadAllDiscussions:!0,includeLoadingDiscussions:!0,includePropertyDiscussions:!0}),i=new Map;return o.forEach((e=>{const o=C({recordStore:e,currentUserId:t,timestamp:n});i.set(e.id,o)})),o.sort(((e,t)=>{const n=i.get(e.id),o=i.get(t.id);return null!=n&&n.isDefined()?null!=o&&o.isDefined()?-(n.getCreatedTime()-o.getCreatedTime()):1:-1}))}function _(e,t){return e&&e.isDefined()?t&&t.isDefined()?e.getCreatedTime()-t.getCreatedTime():1:-1}function L(e){return k().wc(e).sort(((e,t)=>_(e,t)))}function F(e){return L(e)[0]}function V(e){return K({recordStore:e,currentUserId:void 0})}function K({recordStore:e,currentUserId:t,timestamp:n}){const o=k().wc(e).filter((e=>n?e.isDefined()&&e.getCreatedTime()<n:e.isDefined())).sort(((e,t)=>_(e,t)));return o[o.length-1]}function U(e){return e.sort(((e,t)=>_(V(e),V(t))))}function O(e){const t=e.state.textStore.getValue(),n=(e.state.files??[]).length>0,o=t&&t.length>0;return!n&&!o}function W(e,t){const n=e.state.textStore.getValue(),o=e.state.files;if(!t)return n&&0!==n.length||o&&o.length>0;const i=k().gp(t).getValue();return!y().n4(i,n)||function(e,t){const n=e.state.files,o=k().dd(t);if(o.length!==n.length)return!0;return o.some(((e,t)=>e.id!==n[t].id))}(e,t)}function z(e){if(e.some((e=>!e.isReady())))return!0;return!!e.map((e=>k().wc(e))).flat().some((e=>!e.isReady()||!e.getCreatedTime()))}function R(e){switch(e){case"block_menu":case"ai_reject_all_suggestions":case"reply_menu_mentions_comments":case"reply_menu_all_updates":case"reply_menu_archive":case"reply_menu_updates_sidebar":case"updates_menu_mentions_comments":case"updates_menu_all_updates":case"updates_menu_archive":return B.Menu;case"page_discussion":case"feed_item_top_level_discussion":return B.Page;case"updates_sidebar":return B.Sidebar;case"margin_comments":case"new_discussions_sheet":return B.Margin;case"comment_unfurl":return B.Unfurl;default:(0,h().HB)(e)}}function N(e){return y().hS(y().qI(e,(e=>k().wc(e).map((e=>({store:e,pointer:e.getCreatedByPointer()}))))),(e=>{var t;return null===(t=e.pointer)||void 0===t?void 0:t.id})).filter((e=>(0,h().O9)(e.pointer))).map((({store:e,pointer:t})=>(0,w().JQ)({parentStore:e,pointer:t}))).map((e=>e.getModel())).filter(h().O9).map((e=>e instanceof S().F?(0,o().A7)(e):e instanceof v().Hj?(0,o().qt)(e):e instanceof f().T?(0,o().Mq)(e):void(0,h().HB)(e))).filter(h().O9)}function Z(e){for(const n of e){if(!n.length)return!1;if(!n[1]||!n[1].some(b().nNl)){var t;const e=n[0].trim(),o=T()();if((null===(t=e.match(o))||void 0===t?void 0:t.join(""))!==e)return!1}}return!0}function $(e){return((null==e?void 0:e.match(/[0-9.]+|[a-z]+/gi))??[]).join(" ")}},487146:(e,t,n)=>{n.r(t),n.d(t,{TopbarFavoriteButton:()=>I});var o=n(296540),i=()=>n(314529),s=()=>n(484714),a=()=>n(56366),r=()=>n(401497),l=()=>n(877788),d=()=>n(773126),c=()=>n(69708),u=()=>n(778417),p=()=>n(231297),g=()=>n(38337),m=()=>n(245128),f=()=>n(303742),v=()=>n(565414),S=()=>n(765957),b=()=>n(285790),y=()=>n(35392),h=()=>n(859428),x=()=>n(978578),k=()=>n(863059),w=n(474848);const T=(0,c().YK)({isBookmarkedMessage:{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle"},isNotBookmarkedMessage:{defaultMessage:"Favorite",id:"topbar.favoriteButton.title"},isBookmarkedTooltip:{defaultMessage:"Remove from your favorites",id:"topbar.favoriteButton.activeTooltip1"},isNotBookmarkedTooltip:{defaultMessage:"Add to your favorites",id:"topbar.favoriteButton.tooltip1"}});function I({spaceViewStore:e,store:t,iconStyle:n,buttonStyle:y,showKeyboardShortcut:I,useDefaultTooltipPlacement:B,isTablet:C}){const P=(0,s().v3)(),A=(0,c().tz)(),M=(0,a().K8)((()=>{const e=S().default.state.sidebarSpaceViewStore;return(0,f().o)(e)}),[]),D=(0,a().K8)((()=>!!e&&(0,m().A)({spaceViewStore:e,pageId:t.id})),[e,t]),E=D?d().F:l().w,_=(0,o.useMemo)((()=>D?()=>function(e,t,n){if(!n)return;u().IU({environment:t}),(0,i().DO_NOT_USE_trackLegacy)(t,"unbookmark",{from:"topbar"}),p().createAndCommit({userAction:"TopbarFavoriteButton.handleUnbookmarkClick",environment:t,canUndo:!0,perform:t=>{(0,v().x)({spaceViewStore:n,store:e,transaction:t})}})}(t,P,e):()=>function(e,t,n){if(!n)return;u().IU({environment:t}),(0,i().DO_NOT_USE_trackLegacy)(t,"bookmark",{from:"topbar"}),p().createAndCommit({userAction:"TopbarFavoriteButton.handleBookmarkClick",environment:t,canUndo:!0,perform:t=>{(0,v().I)({spaceViewStore:n,store:e,transaction:t})}})}(t,P,e)),[D,t,P,e]),L=(0,k().gQ)(),F=(0,r().IS)((e=>({icon:{...C?L.tabletIcon:L.icon,...D?{fill:e.topbarFavorite}:void 0,...n},button:{...L.iconButton,...y}})),[L.icon,L.tabletIcon,L.iconButton,D,n,y,C]),V=(0,r().IS)((e=>({iconContainer:(0,x().aD)(e).iconContainer})),[]);return M?null:(0,w.jsx)(h().A,{placement:B?void 0:"bottom",originGap:P.device.isElectronWindows?10:void 0,renderTooltip:()=>(0,w.jsx)(j,{isBookmarked:D,showKeyboardShortcut:I}),render:e=>(0,w.jsx)(b().A,{...e,className:g().ZEs,icon:E,style:C?V.iconContainer:F.button,iconStyle:F.icon,onClick:_,ariaLabel:A.formatMessage(D?T.isBookmarkedMessage:T.isNotBookmarkedMessage)})})}function j({isBookmarked:e,showKeyboardShortcut:t}){const n=(0,r().DP)();return(0,w.jsxs)("div",{style:{textAlign:"center"},children:[(0,w.jsx)("div",{children:(0,w.jsx)(c().sA,{...e?T.isBookmarkedTooltip:T.isNotBookmarkedTooltip})}),t?(0,w.jsx)(y().A,{style:{color:n.text.inverseSecondary},name:"toggleFavorite"}):void 0]})}},488134:(e,t,n)=>{n.d(t,{n:()=>s});var o=()=>n(645873);const i={TopbarLayoutInfoButton:new(o().O2)("TopbarLayoutInfoButton",(async()=>n.e(2597).then(n.bind(n,555801))))},s=(0,o()._h)(i.TopbarLayoutInfoButton,(e=>e.TopbarLayoutInfoButton))},490287:(e,t,n)=>{n.d(t,{Yj:()=>v,bQ:()=>S,ju:()=>f,oo:()=>b});var o=()=>n(484714),i=()=>n(56366),s=()=>n(774733),a=()=>n(473975),r=()=>n(947682),l=()=>n(764172),d=()=>n(329443),c=()=>n(359941),u=()=>n(58180),p=()=>n(311337),g=()=>n(77246),m=()=>n(645873);function f(e){const{blockStore:t,spaceViewStore:n}=e;return(0,i().K8)((()=>(0,r().shouldShowTopbarMoreButton)({blockType:t.getType(),systemBlockType:t.getSystemBlockTypeStore().getValue(),isGuestPrivatePage:(0,u().E)(t,n)})),[t,n])}function v(e){const{blockStore:t}=e,{value:n}=(0,m().fJ)(s().commentsDependency),o=(0,i().K8)((()=>{if(!n)return 0;return(0,a().getDiscussions)(t).length}),[n,t]);return(0,i().K8)((()=>(0,l().xG)({blockType:t.getType(),systemBlockType:t.getSystemBlockTypeStore().getValue(),discussionCount:o,isDraftPage:t.isDraft(),isCollectionViewPageWithContent:t.isCollectionViewPageWithContent()})),[t,o])}function S(e){const{blockStore:t}=e,n=(0,o().v3)(),s=(0,i().K8)((()=>(0,p().y)(n)),[n]);return(0,i().K8)((()=>(0,r().shouldShowTopbarPresence)({canEditPage:t.canEdit(),blockType:t.getType(),systemBlockType:t.getSystemBlockTypeStore().getValue(),isTeamPost:t.isTeamPost(),userIsViewingAsPublicShareLink:s})),[t,s])}function b(e){const{spaceStore:t,blockStore:n,spaceViewStore:s}=e,a=(0,o().v3)(),l=(0,i().K8)((()=>t?!t.canEdit():void 0),[t]),m=(0,c().V)({spaceStore:t}),f=(0,i().K8)((()=>Boolean((0,d().qb)(a,n))),[a,n]),v=(0,i().K8)((()=>(0,p().y)(a)),[a]);return(0,i().K8)((()=>{var e;const o=null===(e=g().Uv.getStateForBlock(n.id))||void 0===e?void 0:e.mode,i=!!t&&t.id!==n.getSpaceId(),a=!!s&&(0,u().E)(n,s);return(0,r().shouldShowTopbarShareMenu)({isSpaceGuest:l,canEditPage:n.canEdit(),blockType:n.getType(),systemBlockType:n.getSystemBlockTypeStore().getValue(),isTranslated:"translate_locked"===o,isCrossSpaceBlock:i,shouldShowPeopleCollection:m,hasPermissionViaPublicAccess:f,isPublicShareLink:v,isGuestPrivatePage:a})}),[n,t,f,m,l,v,s])}},514799:(e,t,n)=>{n.d(t,{H:()=>r});var o=()=>n(484714),i=()=>n(56366),s=()=>n(185078),a=()=>n(910302);function r(e){const{detectedLanguage:t,canSuggestInConfidence:n}=function(e){const{pageStore:t,enabled:n,forceUpdate:s=!1}=e,r=(0,o().v3)();return(0,i().K8)((()=>n&&t?a().bY({pageStore:t,environment:r,enabled:n,forceUpdate:s}):{detectedLanguage:void 0,canSuggestInConfidence:!1}),[t,r,n,s])}(e);return t&&!(0,s().cE)(t)?{detectedLanguage:void 0,canSuggestInConfidence:!1}:{detectedLanguage:t,canSuggestInConfidence:n}}},545340:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{trustedDomainPointers:[],enabledTrustedEmailDomains:[],trustedDomains:[],lastEmitData:{value:-1,spaceId:void 0}}}getForSpace(e){if(!e)return;const{enabledTrustedEmailDomains:t,trustedDomainPointers:n,trustedDomains:o,lastEmitData:i}=this.state;return i.spaceId===e.id?{enabledTrustedEmailDomains:t,trustedDomainPointers:n,trustedDomains:o}:void 0}shouldRefetchTrustedDomains({currentSpaceId:e,emitValue:t}){const{spaceId:n,value:o}=this.state.lastEmitData;return e!==n||t!==o}}const i=o},586252:(e,t,n)=>{n.d(t,{V:()=>m});var o=n(296540),i=()=>n(564884),s=()=>n(484714),a=()=>n(56366),r=()=>n(591779),l=()=>n(185078),d=()=>n(5580),c=()=>n(514799);var u=()=>n(765957),p=()=>n(430483),g=()=>n(77246);function m(e){const t=(0,s().v3)(),n=(0,a().K8)((()=>{var t;return null===(t=g().Uv.getStateForBlock(e.id))||void 0===t?void 0:t.mode}),[e]),m=(0,a().K8)((()=>p().zD.isFullPageTranslateEnabled()),[]),f=(0,a().K8)((()=>{const e=u().default.state.currentUserSettingsStore;return!!e&&void 0===e.getSettingsStore().getKeyStore("ai_page_translation_dismissed_at").getValue()}),[]),v=m&&f,{detectedPageLanguage:S,suggestedPageTranslationLanguage:b,canSuggestInConfidence:y}=function(e){const{pageStore:t,enabled:n}=e,{detectedLanguage:o,canSuggestInConfidence:i}=(0,c().H)({pageStore:t,enabled:n}),s=(0,d().n)();return o&&o!==s&&(0,l().FM)(s)?{detectedPageLanguage:o,suggestedPageTranslationLanguage:s,canSuggestInConfidence:i}:{detectedPageLanguage:void 0,suggestedPageTranslationLanguage:void 0,canSuggestInConfidence:!1}}({pageStore:e,enabled:v}),[h,x]=(0,o.useState)(!1);(0,r().ZC)(e.id)!==e.id&&h&&x(!1);const k=Boolean(y&&!h&&v&&b&&(void 0===n||"default"===n));return(0,o.useEffect)((()=>{k&&S&&b&&function({environment:e,detectedLanguage:t,suggestedLanguage:n}){(0,i().u)({environment:e,event:{eventName:"suggested_page_translation",eventProperties:{detected_language:t,suggested_language:n}}})}({environment:t,detectedLanguage:S,suggestedLanguage:b})}),[k]),{suggestTranslation:k,detectedPageLanguage:S,suggestedPageTranslationLanguage:b,setTranslationSuggestionDismissed:x}}},614787:(e,t,n)=>{n.d(t,{l:()=>o});const o=(0,n(69708).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},657982:(e,t,n)=>{n.d(t,{Z6:()=>s,rN:()=>a});var o=()=>n(645873);const i={translation:new(o().O2)("translation",(()=>Promise.all([n.e(42660),n.e(31842),n.e(25700),n.e(53641),n.e(3773),n.e(8340)]).then(n.bind(n,136768)))),TranslateBanner:new(o().O2)("TranslateBanner",(async()=>await Promise.all([n.e(42660),n.e(31842),n.e(25700),n.e(53641),n.e(3773)]).then(n.bind(n,151985))))},s=(0,o()._h)(i.translation,(e=>e.TopbarAmbientSuggestTranslateButton)),a=(0,o()._h)(i.TranslateBanner,(e=>e.TranslateBanner))},706965:(e,t,n)=>{n.d(t,{A:()=>S});n(296540);var o=()=>n(56366),i=()=>n(401497),s=()=>n(764880),a=()=>n(310442),r=()=>n(824862),l=()=>n(798880),d=()=>n(69708),c=()=>n(534177),u=()=>n(284371),p=()=>n(43972),g=()=>n(972435),m=()=>n(907514),f=()=>n(646736),v=n(474848);function S(e){const{store:t}=e,n=(0,i().DP)(),S=(0,o().K8)((()=>t.getCreatedTime()),[t]),b=(0,o().K8)((()=>t.getLastEditedTime()),[t]),y=(0,o().K8)((()=>{const e=t.getCreatedByPointer();if(e)return(0,s().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),h=(0,o().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return(0,s().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),x=(0,o().K8)((()=>{const e=t.getSpaceStore();if(!e)return!1;const n=null==y?void 0:y.asActor;if(!n)return!1;const o=n.table;switch(o){case l().oo:return(0,f().dp)(e,n.id).isMember();case r().GP:return(0,f().Ts)(e,n.id).isMember();case a().yj:return!1;default:(0,c().HB)(o)}}),[t,y]),k=S?(0,m().nl)(S,{useCompactFormat:!0,useLowercase:!0}):"",w=b?(0,m().nl)(b,{useLowercase:!0,useCompactFormat:!0}):"";if(!(b?(0,m().nl)(b,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):""))return null;const T={display:"flex",gap:4,color:n.text.inverseSecondary,height:16,fontSize:12},I={size:14,style:{marginInlineEnd:2}},j=g().A.getIntl();return(0,v.jsxs)(v.Fragment,{children:[(e=>{let t;if(null!=h&&h.asActor)t=(0,v.jsx)(d().sA,{defaultMessage:"Edited by {editor} {timestamp}",id:"pagePropertiesHeader.editedBy.label",values:{editor:(0,v.jsx)("span",{style:{fontWeight:u().Wy.medium,color:n.text.inversePrimary},children:(0,v.jsxs)("span",{style:{display:"flex"},children:[e?void 0:(0,p().w)({actor:h,...I}),(0,s().lR)(j,h)]})}),timestamp:w}});else{if(!w)return;o=w,t=(0,v.jsx)(d().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:o}})}var o;return(0,v.jsx)("div",{style:{...T,marginTop:3,marginBottom:3},children:t})})(e.compactFormat),(e=>{let t;if(null!=y&&y.asActor&&x)t=(0,v.jsx)(d().sA,{id:"pagePropertiesHeader.createdBy.label",defaultMessage:"Created by {creator} {timestamp}",values:{creator:(0,v.jsx)("span",{style:{fontWeight:u().Wy.medium,color:n.text.inversePrimary},children:(0,v.jsxs)("span",{style:{display:"flex"},children:[e?void 0:(0,p().w)({actor:y,...I}),(0,s().lR)(j,y)]})}),timestamp:k}});else{if(!k)return;t=(0,v.jsx)(d().sA,{id:"pagePropertiesHeader.created.label",defaultMessage:"Created {timestamp}",values:{timestamp:k}})}return(0,v.jsx)("div",{style:{...T,marginBottom:4},children:t})})(e.compactFormat)]})}},716883:(e,t,n)=>{n.d(t,{y:()=>D});var o=n(296540),i=()=>n(484714),s=()=>n(56366),a=()=>n(401497),r=()=>n(252291),l=()=>n(19238),d=()=>n(631524),c=()=>n(493552),u=()=>n(29037),p=()=>n(69708),g=(n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),()=>n(165358)),m=()=>n(921997),f=()=>n(821062),v=()=>n(720665),S=()=>n(671593),b=()=>n(128295),y=()=>n(941541),h=()=>n(638681);const x=h().object({required:{state:h().object({required:{completedRecords:h().number(),status:h().literals("failure","pending","running","success"),timestamp:h().number(),totalRecords:h().number()},optional:{}})},optional:{}});function k(e){const t=(0,i().v3)(),[n,a]=(0,o.useState)({}),r=(0,s().K8)((()=>function(e){var t;if(!e.isDefined())return;const n=[];n.push(...(null===(t=e.getFormat())||void 0===t?void 0:t.duplication_job_ids)||[]);for(const o of(0,b().mG)(e))"team"!==o.table&&"collection"!==o.table&&n.push(...o.getFormat().duplication_job_ids||[]);return(0,v().sb)(n)}(e)),[e]),l=(0,o.useRef)({});(0,o.useEffect)((()=>{void 0!==r&&function({duplicationJobIds:e,jobSubscriptionMap:t,setJobStateMap:n,environment:o}){const i=new Set(e);for(const[s,a]of Object.entries(t))i.has(s)||y().Ay.removeListener({key:(0,m().B5)(s),subscriptionId:a},o),delete t[s];for(const s of e){if(t[s])continue;const e=(0,m().B5)(s),i=y().Ay.addListener(e,void 0,(({value:e})=>{var t;const o=null===(t=(0,S().Qq)(x,e))||void 0===t?void 0:t.state;o?n((e=>{const t=e[s];return t&&"unknown"!==t.status&&t.timestamp&&t.timestamp>o.timestamp?e:{...e,[s]:o}})):(0,g().log)({from:"useDuplicationStatus",level:"error",type:"invalid_job_state",data:{miscDataToConvertToString:e}})}),void 0,o);i?t[s]=i.subscriptionId:(0,g().log)({from:"useDuplicationStatus",level:"error",type:"failed_to_add_listener",data:{miscDataToConvertToString:{jobId:s}}})}}({duplicationJobIds:r,jobSubscriptionMap:l.current,environment:t,setJobStateMap:a})}),[r,t,l]),(0,o.useEffect)((()=>{const e=l.current;return()=>{for(const[n,o]of Object.entries(e))y().Ay.removeListener({key:(0,m().B5)(n),subscriptionId:o},t)}}),[l,t]);const d=(0,o.useMemo)((()=>!(0,f().A)(new Set(Object.keys(n)),new Set(r))),[n,r]);if(r&&d){const e={};for(const t of r)e[t]=n[t]||{status:"unknown"};a(e)}return void 0===r?void 0:function(e){if(0===Object.keys(e).length)return{status:"none"};let t=0,n=0,o=!0;for(const i of Object.values(e))"success"!==i.status&&"failure"!==i.status&&(o=!1),"unknown"!==i.status&&(t+="success"===i.status||"failure"===i.status?i.completedRecords:i.totalRecords,n+=i.completedRecords);return o?{status:"complete"}:{status:"duplicating",progressPercentage:0===t?0:Math.min(Math.floor(100*n/t),99)}}(n)}var w=()=>n(745766),T=()=>n(907514),I=()=>n(869562),j=()=>n(737230),B=()=>n(706965),C=()=>n(859428),P=n(474848);const A=150,M=3e3;function D(e){const{store:t,isExpanded:n,isWindowSmall:i,isElectron:s,isShowingTabBar:r,style:l,testOverrideStatus:d}=e,u=(0,a().IS)((()=>({container:{display:"flex",alignItems:"center",whiteSpace:"nowrap"}})),[]),[p,g]=(0,o.useState)("none"),[m,f]=(0,o.useState)("none"),v=k(t),{status:S,progressPercentage:b}=d??v??{};return(0,o.useEffect)((function(){let e;return n?g("none"):i?(g("hidden"),e=setTimeout((()=>{g("none")}),A)):(g("hidden"),e=setTimeout((()=>{g("visible")}),A)),()=>clearTimeout(e)}),[n,i]),(0,o.useEffect)((function(){let e;const t=S;return t&&"none"!==t?"duplicating"===t?f("visible"):"complete"===t&&(f("visible"),e=setTimeout((()=>{f("hidden"),e=setTimeout((()=>{f("none")}),A)}),M)):f("none"),()=>clearTimeout(e)}),[S]),S?(0,P.jsx)(c().D,{colorPalette:"gray",colorVariant:"tertiary",styleKey:"Body/Regular",style:{...u.container,...l},children:"none"===m?(0,P.jsx)(E,{visibility:p,children:(0,P.jsx)(L,{store:t,isElectron:s,isShowingTabBar:r})}):(0,P.jsx)(E,{visibility:m,children:(0,P.jsx)(_,{status:S,progressPercentage:b})})}):null}function E({visibility:e,children:t}){const n=(0,a().IS)((()=>({container:{display:"none"===e?"none":"flex",opacity:"visible"===e?1:0,transition:`opacity ${A}ms linear`,alignItems:"center",whiteSpace:"nowrap"}})),[e]);return(0,P.jsx)("div",{style:n.container,children:t})}function _({status:e,progressPercentage:t=0}){const n=(0,a().IS)((()=>({container:{display:"flex",alignItems:"center",gap:6}})),[]);return"none"===e?null:"duplicating"===e?(0,P.jsxs)("div",{style:n.container,children:[(0,P.jsx)(p().sA,{defaultMessage:"Duplicating",id:"pageFreshnessMetadata.duplicating"}),(0,P.jsx)(l().E,{progressPercentage:t,size:12}),(0,P.jsx)(p().sA,{defaultMessage:"{progressPercentage}%",id:"pageFreshnessMetadata.duplicating.progress",values:{progressPercentage:t}})]}):(0,P.jsxs)("div",{style:n.container,children:[(0,P.jsx)(r().I,{icon:u().checkmarkIcon,colorPalette:"gray",colorVariant:"tertiary"}),(0,P.jsx)(p().sA,{defaultMessage:"Duplicated",id:"pageFreshnessMetadata.duplicated"})]})}function L({store:e,isElectron:t,isShowingTabBar:n}){const a=(0,s().K8)((()=>e.getLastEditedTime()),[e]),r=(0,i().v3)(),l=a?(0,T().nl)(a,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):"",c=(0,o.useCallback)((()=>{I().handleSidebarButtonClick(r,e,j().tF.Updates,"topbar"),j().Ay.setState({...j().Ay.state,updatesSubTab:j().VE.Updates})}),[r,e]);return l?(0,P.jsx)("div",{style:{display:"flex",flexFlow:"wrap"},children:(0,P.jsx)(C().A,{placement:"bottom",alignment:"start",renderTooltip:()=>(0,P.jsx)(B().A,{store:e,compactFormat:!0}),render:e=>(0,P.jsx)(d().p,{...e,onClick:c,colorPalette:"gray",colorVariant:"tertiary",style:{...(0,w().g)({noDrag:t&&!n})},children:(0,P.jsx)(p().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:l}})})})}):null}},726360:(e,t,n)=>{n.d(t,{H:()=>s,U:()=>i});var o=n(296540);const i=(0,o.createContext)(new(n(545340).A));function s(){return(0,o.useContext)(i)}i.displayName="TrustedDomainsContext"},764172:(e,t,n)=>{n.d(t,{Ay:()=>b,xG:()=>y});var o=n(296540),i=()=>n(726637),s=()=>n(56366),a=()=>n(401497),r=()=>n(700500),l=()=>n(90023),d=()=>n(69708),c=()=>n(100622),u=()=>n(774733),p=()=>n(116008),g=()=>n(644914),m=()=>n(712505),f=n(474848);const v=(0,d().YK)({updates:{id:"topbar.commentsButton.title",defaultMessage:"Comments"},closeDiscussions:{defaultMessage:"Close all discussions",id:"topbar.commentsButton.closeSidebarTooltip"},openDiscussions:{defaultMessage:"View all discussions",id:"topbar.commentsButton.openSidebarTooltip"},unreadDiscussionsPopupMessage:{defaultMessage:"View all new discussions",id:"topbar.commentsButton.openDiscussionsPopupTooltip"}});function S(){const e=i().A.isMobile,{dot:t}=(0,a().IS)((t=>({dot:{position:"absolute",top:e?0:1.8,insetInlineEnd:e?12:5.5,height:11,width:11,border:`2px solid ${t.whiteButtonBackground}`,borderRadius:12,background:c().Tj.red,pointerEvents:"none"}})),[e]);return(0,f.jsx)("div",{style:t})}const b=function({blockStore:e,unreadDiscussionsPopupStore:t}){const i=(0,n(200688).B)({navigableBlockStore:e}),a=(0,d().tz)(),r=(0,n(484714).v3)(),l=i.length>0,{value:c}=(0,n(645873).fJ)(u().commentsDependency),{isSidebarCommentsTabExpanded:b,isSidebarUpdatesExpanded:y}=(0,s().K8)((()=>({isSidebarCommentsTabExpanded:g().me(r),isSidebarUpdatesExpanded:g().Nk(r)})),[r]),h=(0,s().K8)((()=>{const e=m().default.state.open;return n(455994).A.getPanelState(e?"peek":"mainPage").isOpen}),[]),x=(0,s().K8)((()=>(n(555776).A.state.isActivelyComposing||p().A.hasContent())&&p().A.isDraftCommentOnValidSelection()&&p().A.ifPropertyCommentShouldDisplay()),[]),k=(0,n(863059).gQ)(),w=!y,T=(0,s().K8)((()=>t.state.open),[t]),I=(0,o.useCallback)((()=>{var o;const i=null==c||null===(o=c.discussionHelpers)||void 0===o?void 0:o.getDiscussions,s=!!i&&i(e).length>0,a=p().A.state.open;(0,n(564884).u)({environment:r,event:{eventName:"topbar_comments_menu_click",eventProperties:{has_discussions:s,has_unread_indicator:l||a}}}),w?T?t.reset():T||t.setState({open:!0}):(t.reset(),n(869562).handleSidebarButtonClick(r,e,n(737230).tF.Comments,"topbar"))}),[r,e,c,w,l,T,t]),j=b?a.formatMessage(v.closeDiscussions):w?a.formatMessage(v.unreadDiscussionsPopupMessage):a.formatMessage(v.openDiscussions),B=l||x,C=(0,f.jsx)(n(859428).A,{placement:"bottom",renderTooltip:()=>(0,f.jsx)("div",{style:{textAlign:"center"},children:j}),render:e=>(0,f.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,f.jsx)(n(285790).A,{...e,icon:n(49621).h,iconStyle:k.icon,onClick:I,style:k.iconButton,ariaLabel:a.formatMessage(v.updates),hovered:b&&!h&&!m().default.state.open||T,className:n(38337).rm}),B?(0,f.jsx)(S,{}):void 0]})});return(0,f.jsx)(n(406699).A,{buttonPopupStore:t,render:()=>(0,f.jsx)(u().j9,{blockStore:e,unreadDiscussionsPopupStore:t}),popupType:n(417392).nl.Popup,renderOrigin:()=>C,placementToOrigin:"bottom",alignmentToOrigin:"end",originGap:8})};function y(e){const{blockType:t,systemBlockType:n,discussionCount:o,isDraftPage:i,isCollectionViewPageWithContent:s}=e;if(!t)return!1;const a=t!==r().xd.form,d=(0,l().SF)(n),c=o>0,u=t===r().xd.collectionView||t===r().xd.collectionViewPage;return a&&d&&c&&(!u||s)&&!i}},773126:(e,t,n)=>{n.d(t,{F:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.4 2.39 15.2 14.52",svg:(0,n(474848).jsx)("path",{d:"M10.594 2.83a.625.625 0 0 0-1.188 0L7.899 7.468H3.025a.625.625 0 0 0-.367 1.13L6.6 11.462l-1.506 4.636a.625.625 0 0 0 .962.699L10 13.932l3.943 2.865a.625.625 0 0 0 .962-.699L13.4 11.462l3.943-2.865a.625.625 0 0 0-.367-1.13H12.1z"})},i=(0,n(340498).wt)("starFill",o)},783423:(e,t,n)=>{n.d(t,{M:()=>s});var o=()=>n(645873);const i=new(o().O2)("topbarStopSuggestModeButton",(async()=>await Promise.all([n.e(75134),n.e(99223),n.e(9304),n.e(9773),n.e(36556),n.e(40537),n.e(55373),n.e(36192),n.e(71562),n.e(96346),n.e(44711),n.e(53321),n.e(90825),n.e(16471),n.e(37353),n.e(29151),n.e(87248),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(67539),n.e(42838),n.e(22900),n.e(27634),n.e(85128),n.e(49889),n.e(20108),n.e(95555),n.e(87249),n.e(71621),n.e(92845),n.e(56369),n.e(2411),n.e(89296),n.e(46414),n.e(9294),n.e(11676),n.e(91256),n.e(40563),n.e(67494),n.e(44584),n.e(53141),n.e(4422),n.e(4330),n.e(55162),n.e(71003),n.e(55753),n.e(28866),n.e(22001),n.e(71386),n.e(4351),n.e(6331),n.e(69144),n.e(42660),n.e(55997),n.e(40828),n.e(12341),n.e(96402),n.e(84166),n.e(70359),n.e(29595),n.e(16448),n.e(10442),n.e(16434),n.e(45769),n.e(46080),n.e(75902),n.e(99809),n.e(58636),n.e(78405),n.e(33675),n.e(74562),n.e(47160),n.e(37384),n.e(91598),n.e(48046),n.e(3259),n.e(13955),n.e(42056),n.e(3165),n.e(76677),n.e(31842),n.e(43223),n.e(45147),n.e(15517),n.e(94995),n.e(98339),n.e(55639),n.e(1966),n.e(35738),n.e(6642),n.e(55776),n.e(51444),n.e(21727),n.e(58209),n.e(13297),n.e(4802),n.e(65197),n.e(81768),n.e(94300),n.e(62032),n.e(72122),n.e(32487),n.e(28058),n.e(90638),n.e(75422),n.e(97859),n.e(50856),n.e(65014),n.e(49175),n.e(36359),n.e(2752),n.e(11571),n.e(92924),n.e(42525),n.e(25204),n.e(52273),n.e(52986),n.e(45732),n.e(46817),n.e(70442),n.e(28656),n.e(37160),n.e(30443),n.e(9426),n.e(76690),n.e(63248),n.e(39457),n.e(21912),n.e(80668),n.e(12507),n.e(6626),n.e(26497),n.e(61016),n.e(91629),n.e(61858),n.e(63053),n.e(34399),n.e(89379),n.e(34974),n.e(75332),n.e(95103),n.e(75681)]).then(n.bind(n,271459)))),s=(0,o()._h)(i,(e=>e.TopbarStopSuggestModeButton))},813401:(e,t,n)=>{n.d(t,{E:()=>s});var o=()=>n(645873);const i=new(o().O2)("topbarShareButton",(async()=>await Promise.all([n.e(75134),n.e(99223),n.e(9304),n.e(9773),n.e(36556),n.e(40537),n.e(55373),n.e(36192),n.e(71562),n.e(96346),n.e(44711),n.e(53321),n.e(90825),n.e(16471),n.e(37353),n.e(29151),n.e(87248),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(67539),n.e(42838),n.e(22900),n.e(27634),n.e(85128),n.e(49889),n.e(20108),n.e(95555),n.e(87249),n.e(71621),n.e(92845),n.e(56369),n.e(2411),n.e(89296),n.e(46414),n.e(9294),n.e(11676),n.e(91256),n.e(40563),n.e(67494),n.e(44584),n.e(53141),n.e(4422),n.e(4330),n.e(55162),n.e(71003),n.e(55753),n.e(28866),n.e(22001),n.e(71386),n.e(4351),n.e(6331),n.e(69144),n.e(42660),n.e(55997),n.e(40828),n.e(12341),n.e(96402),n.e(84166),n.e(70359),n.e(29595),n.e(16448),n.e(10442),n.e(16434),n.e(45769),n.e(46080),n.e(75902),n.e(99809),n.e(58636),n.e(78405),n.e(33675),n.e(74562),n.e(47160),n.e(37384),n.e(91598),n.e(48046),n.e(3259),n.e(13955),n.e(42056),n.e(3165),n.e(76677),n.e(31842),n.e(43223),n.e(45147),n.e(15517),n.e(94995),n.e(98339),n.e(55639),n.e(1966),n.e(35738),n.e(6642),n.e(55776),n.e(51444),n.e(21727),n.e(58209),n.e(13297),n.e(4802),n.e(65197),n.e(81768),n.e(94300),n.e(62032),n.e(72122),n.e(32487),n.e(28058),n.e(90638),n.e(75422),n.e(97859),n.e(50856),n.e(65014),n.e(49175),n.e(36359),n.e(2752),n.e(11571),n.e(92924),n.e(42525),n.e(25204),n.e(52273),n.e(52986),n.e(45732),n.e(46817),n.e(70442),n.e(28656),n.e(37160),n.e(30443),n.e(9426),n.e(76690),n.e(63248),n.e(39457),n.e(21912),n.e(80668),n.e(12507),n.e(6626),n.e(26497),n.e(61016),n.e(91629),n.e(61858),n.e(63053),n.e(34399),n.e(89379),n.e(34974),n.e(75332),n.e(95103),n.e(75681)]).then(n.bind(n,136805)))),s=(0,o()._h)(i,(e=>e.TopbarShareButton))},869609:(e,t,n)=>{n.d(t,{u:()=>s});var o=()=>n(645873);const i=new(o().O2)("topbarMoreButton",(async()=>await Promise.all([n.e(75134),n.e(99223),n.e(9304),n.e(9773),n.e(36556),n.e(40537),n.e(55373),n.e(36192),n.e(71562),n.e(96346),n.e(44711),n.e(53321),n.e(90825),n.e(16471),n.e(37353),n.e(29151),n.e(87248),n.e(62475),n.e(3151),n.e(98629),n.e(58550),n.e(67539),n.e(42838),n.e(22900),n.e(27634),n.e(85128),n.e(49889),n.e(20108),n.e(95555),n.e(87249),n.e(71621),n.e(92845),n.e(56369),n.e(2411),n.e(89296),n.e(46414),n.e(9294),n.e(11676),n.e(91256),n.e(40563),n.e(67494),n.e(44584),n.e(53141),n.e(4422),n.e(4330),n.e(55162),n.e(71003),n.e(55753),n.e(28866),n.e(22001),n.e(71386),n.e(4351),n.e(6331),n.e(69144),n.e(42660),n.e(55997),n.e(40828),n.e(12341),n.e(96402),n.e(84166),n.e(70359),n.e(29595),n.e(16448),n.e(10442),n.e(16434),n.e(45769),n.e(46080),n.e(75902),n.e(99809),n.e(58636),n.e(78405),n.e(33675),n.e(74562),n.e(47160),n.e(37384),n.e(91598),n.e(48046),n.e(3259),n.e(13955),n.e(42056),n.e(3165),n.e(76677),n.e(31842),n.e(43223),n.e(45147),n.e(15517),n.e(94995),n.e(98339),n.e(55639),n.e(1966),n.e(35738),n.e(6642),n.e(55776),n.e(51444),n.e(21727),n.e(58209),n.e(13297),n.e(4802),n.e(65197),n.e(81768),n.e(94300),n.e(62032),n.e(72122),n.e(32487),n.e(28058),n.e(90638),n.e(75422),n.e(97859),n.e(50856),n.e(65014),n.e(49175),n.e(36359),n.e(2752),n.e(11571),n.e(92924),n.e(42525),n.e(25204),n.e(52273),n.e(52986),n.e(45732),n.e(46817),n.e(70442),n.e(28656),n.e(37160),n.e(30443),n.e(9426),n.e(76690),n.e(63248),n.e(39457),n.e(21912),n.e(80668),n.e(12507),n.e(6626),n.e(26497),n.e(61016),n.e(91629),n.e(61858),n.e(63053),n.e(34399),n.e(89379),n.e(34974),n.e(75332),n.e(95103),n.e(75681)]).then(n.bind(n,905246)))),s=(0,o()._h)(i,(e=>e.TopbarMoreButton))},886025:(e,t,n)=>{n.d(t,{J:()=>g,Y:()=>p});var o=n(296540),i=()=>n(59226),s=()=>n(484714),a=()=>n(401497),r=()=>n(451306),l=()=>n(236030),d=()=>n(971003),c=n(474848);const u=4;function p(e){const{children:t,align:n,sticky:p,style:g}=e,m=(0,s().WS)(),f=(0,i().X)("title_property_peek_button_redesign"),{property:v}=(0,o.useContext)(d().L8),S=(0,a().IS)((t=>{const o=e.height||24,i=m?l().Um:l().tt;return{buttonWrapperStyle:{display:"flex",justifyContent:"right"===n?"end":"start",position:"absolute",top:(i-o)/2,insetInlineEnd:0,insetInlineStart:0,zIndex:2,margin:`0 ${u}px`,pointerEvents:"none",...g},innerWrapperStyle:{position:"relative",display:"flex",pointerEvents:"auto",background:f&&m&&"title"===v?void 0:t.background.elevated,padding:"2px",height:o,boxShadow:f&&m&&"title"===v?void 0:t.shadowSM,borderRadius:6,...f&&m&&{width:48,height:48,alignItems:"center",justifyContent:"center",marginTop:-12,marginInlineEnd:-8,borderRadius:0}},stickyStyle:{position:"sticky",insetInlineEnd:u},buttonHitBoxStyle:{position:"absolute",top:10,bottom:10,insetInlineStart:10,insetInlineEnd:10,zIndex:-1,background:t.background.elevated,boxShadow:t.shadowSM,borderRadius:"50%",pointerEvents:"auto"}}}),[n,m,e.height,g,f,v]);return t?(0,c.jsx)("div",{style:S.buttonWrapperStyle,children:(0,c.jsxs)("div",{...(0,r().AH)(S.innerWrapperStyle,p&&S.stickyStyle),className:"quickActionContainer",children:[f&&m&&"title"===v?(0,c.jsx)("div",{style:S.buttonHitBoxStyle}):void 0,t]})}):null}function g(e){const{surface:t,align:n}=e;switch(t){case"table":return(0,c.jsx)(y,{...e,align:n??"right"});case"property_module":case"page":return(0,c.jsx)(f,{...e,align:n??"right"});case"compact_page":return(0,c.jsx)(v,{...e,align:n??"right"});case"board":return(0,c.jsx)(m,{...e,align:n??"right"});case"gallery":return(0,c.jsx)(S,{...e,align:n??"right"});case"list":return(0,c.jsx)(b,{...e,align:n??"right"});default:return(0,c.jsx)(p,{...e,align:n??"right"})}}function m(e){const t=(0,a().IS)((()=>({buttonWrapperStyle:{top:0,...e.style}})),[e.style]);return(0,c.jsx)(p,{...e,style:t.buttonWrapperStyle})}function f(e){const{propertyModule:t}=(0,o.useContext)(d().L8),n=(0,a().IS)((()=>({buttonWrapperStyle:{top:t&&"style"in t&&"large"===t.style?10:5,...e.style}})),[t,e.style]);return(0,c.jsx)(p,{...e,style:n.buttonWrapperStyle})}function v(e){const t=(0,a().IS)((()=>({buttonWrapperStyle:{top:"unset",...e.style}})),[e.style]);return(0,c.jsx)(p,{...e,style:t.buttonWrapperStyle})}function S(e){const t=(0,a().IS)((()=>({buttonWrapperStyle:{top:-1,...e.style}})),[e.style]);return(0,c.jsx)(p,{...e,style:t.buttonWrapperStyle})}function b(e){const t=(0,a().IS)((()=>({buttonWrapperStyle:{position:void 0,margin:0,...e.style}})),[e.style]);return(0,c.jsx)(p,{...e,style:t.buttonWrapperStyle})}function y(e){const{align:t="right"}=e,{isMobile:n}=(0,s().Y0)(),{shouldWrap:i,propertyFormat:r}=(0,o.useContext)(d().L8),l=null==r?void 0:r.width,g=(0,o.useMemo)((()=>l&&l<=32?u-4:l&&l<50?u-2:u),[l]),m=(0,a().IS)((()=>({buttonWrapperStyle:{...e.style,...n&&i?{position:"sticky",float:t,marginInlineEnd:0,marginInlineStart:2,insetInlineEnd:g}:{margin:`0 ${g}px`}}})),[t,g,n,e.style,i]);return(0,c.jsx)(p,{...e,style:m.buttonWrapperStyle,sticky:!0})}},947682:(e,t,n)=>{n.r(t),n.d(t,{TopbarActionButtons:()=>Ie,shouldShowTopbarMoreButton:()=>Ce,shouldShowTopbarPresence:()=>Be,shouldShowTopbarShareMenu:()=>je});var o=n(296540),i=()=>n(59226),s=()=>n(726637),a=()=>n(484714),r=()=>n(56366),l=()=>n(401497),d=()=>n(75435),c=()=>n(700500),u=()=>n(90023),p=()=>n(22634),g=()=>n(175947),m=()=>n(69708),f=()=>n(534177),v=()=>n(890754),S=()=>n(590027),b=()=>n(462113),y=()=>n(835066),h=()=>n(594251),x=()=>n(869609),k=()=>n(813401),w=()=>n(783423),T=()=>n(454305),I=()=>n(964345),j=()=>n(180252),B=()=>n(635462),C=()=>n(38337),P=()=>n(891078),A=()=>n(490287),M=()=>n(204263),D=()=>n(696746),E=()=>n(58180),_=()=>n(311337),L=()=>n(869562),F=()=>n(644914),V=()=>n(737230),K=()=>n(765957),U=()=>n(77246),O=()=>n(548821),W=()=>n(566009),z=()=>n(795179),R=()=>n(538233),N=()=>n(657982),Z=(n(581454),()=>n(921997)),$=()=>n(277816),H=()=>n(941541),G=()=>n(545340),Y=()=>n(378941);function q({spaceId:e,trustedDomainsStore:t,trustedDomains:n,value:o}){const i=n.map((t=>({table:$().A,id:t.id,spaceId:e}))),s=n.map((e=>e.getEmailDomain()));t.setState({trustedDomainPointers:i,enabledTrustedEmailDomains:s,trustedDomains:n,lastEmitData:{value:o,spaceId:e}})}var J=()=>n(726360),Q=(n(18107),n(967357),()=>n(929219)),X=()=>n(252291),ee=()=>n(631524),te=()=>n(187174),ne=()=>n(529099),oe=()=>n(179034),ie=()=>n(96689),se=()=>n(234459),ae=()=>n(615234),re=()=>n(559506),le=()=>n(118078),de=()=>n(859428),ce=()=>n(796977),ue=()=>n(990402),pe=n(474848);const ge=(0,m().YK)({openAgent:{id:"workflows.topbar.agentButton.openAgent",defaultMessage:"Chat with Notion AI"}});function me(e){const t=(0,a().v3)(),n=(0,m().tz)(),i=(0,l().IS)((()=>({button:{height:28,width:"auto",paddingTop:0,paddingInlineEnd:8,paddingBottom:0,paddingInlineStart:6,display:"flex",alignItems:"center",justifyContent:"center",gap:6},text:{fontSize:14}})),[]),s=(0,r().K8)((()=>{const{sidebarSpaceStore:t}=K().default.state;if(t)return e.store?{table:oe().ev,id:e.store.pointer.id,spaceId:t.id}:{table:ie().NX,id:t.id,spaceId:t.id}}),[e.store]),[{value:d}]=(0,te().Yb)((async()=>{const{sidebarSpaceStore:n}=K().default.state;if(!s||!Q().A.state.online||!n)return;const o=await re().callApi({eventName:"getInferenceTranscriptsForUser",environment:t,data:{threadParentPointer:s}});if("failed"===o.type)return;const i=o.data.transcripts.at(0);if(!i)return;const a=ce().E.createChildStore(e.store,{table:se().To,id:i.id,spaceId:n.id});await a.load();const r=a.getMessageStores().at(-1);if(!r)return;await r.load();return r.getCreatedTime()>Date.now()-ae().Xb?a.id:void 0}),[s,t,e.store]),c=(0,o.useCallback)((()=>{(0,le().showChatSidebar)({environment:t,store:e.store,chatSidebarRouteData:d?{isOpen:!0,threadId:d}:{isOpen:!0,isNewThread:!0}})}),[t,e.store,d]);return(0,r().K8)((()=>(0,ue().G)(e.store)),[e.store])?(0,pe.jsx)(de().A,{placement:"bottom",originGap:t.device.isElectronWindows?10:void 0,renderTooltip:()=>(0,pe.jsx)(m().sA,{...ge.openAgent}),render:e=>(0,pe.jsxs)(ee().p,{...e,onClick:c,style:i.button,"aria-label":n.formatMessage(ge.openAgent),children:[(0,pe.jsx)(X().I,{icon:ne().aiFaceIcon,size:"lg"}),(0,pe.jsx)("span",{style:i.text,children:"Chat"})]})}):null}var fe=()=>n(716883),ve=()=>n(764172),Se=()=>n(965833),be=()=>n(487146),ye=()=>n(488134),he=()=>n(126126),xe=()=>n(277201),ke=()=>n(586252),we=()=>n(863059);const Te=5;function Ie(e){const t=(0,a().v3)(),{device:n}=t,s=(0,m().tz)(),{store:c}=e,u=(0,i().X)("top_corner_agent_entry_point"),f=(0,r().K8)((()=>S().MU.state.chatSidebarMode),[]),$=(0,r().K8)((()=>(0,v().getIsChatSidebarOpen)(t)),[t]),Q=(0,r().K8)((()=>c.canEdit()),[c]),[X,ee]=(0,r().$y)(void 0,T().A),[te,ne]=(0,o.useState)(!1),oe=(0,r().K8)((()=>(0,B().s)(c.id)),[c.id]),{spaceStore:ie,spaceViewStore:se,pageVisitStore:ae,presenceStore:re}=(0,r().K8)((()=>({spaceStore:K().default.state.sidebarSpaceStore,spaceViewStore:K().default.state.sidebarSpaceViewStore,pageVisitStore:K().default.state.pageVisitStore,presenceStore:K().default.state.presenceStore})),[]),le=(0,r().K8)((()=>{var e;return null===(e=U().Uv.getStateForBlock(c.id))||void 0===e?void 0:e.mode}),[c.id]),de=(0,r().K8)((()=>(0,D().Nh)(c.id)),[c.id]),ce=(0,r().K8)((()=>(0,_().y)(t)),[t]),{isTeamPost:ue,isFormBlock:ge,isPageBlock:Ie,isEOIPBlock:je}=(0,r().K8)((()=>({isTeamPost:c.isTeamPost(),isFormBlock:c.isFormBlock(),isPageBlock:c.isPageBlock(),isEOIPBlock:c.isExternalObjectInstancePageBlockStore()})),[c]),Be=(0,r().K8)((()=>(0,F().Nk)(t)),[t]),Ce=(0,r().K8)((()=>(0,y().xK)(t,!1)<1150),[t]),Pe=(0,A().oo)({blockStore:c,spaceStore:ie,spaceViewStore:se});(0,o.useEffect)((()=>{ne(!Be)}),[Be]);const{canShowUpdateSidebarUnexpander:Ae,shouldShowUpdateSidebarUnexpander:Me}=(0,r().K8)((()=>{const e=!te&&Be;return{canShowUpdateSidebarUnexpander:e,shouldShowUpdateSidebarUnexpander:e&&(V().Ay.state.mouseEntered||X.mouseEntered)}}),[te,Be,X]),De=(0,r().K8)((()=>Ae?V().Ay.state.width:void 0),[Ae]),{sidebarExpanded:Ee,sidebarIsAnimating:_e}=(0,r().K8)((()=>({sidebarExpanded:V().Ay.state.expanded,sidebarIsAnimating:V().Ay.state.isAnimating})),[]),Le=(0,r().O$)((0,j().$o)(t)),Fe=(0,A().Yj)({blockStore:c}),Ve=(0,r().O$)(I().gZ),{suggestTranslation:Ke,suggestedPageTranslationLanguage:Ue,detectedPageLanguage:Oe,setTranslationSuggestionDismissed:We}=(0,ke().V)(c),ze=(0,A().bQ)({blockStore:c}),Re=(0,A().ju)({blockStore:c,spaceViewStore:se}),Ne=!n.isMobile&&(Ie||je)&&!ge,Ze=(0,r().O$)(d().b),$e=(0,P().i0)(c),He=function({spaceId:e}){const t=(0,a().v3)(),[n]=(0,o.useState)(new(G().A));return(0,o.useEffect)((()=>{if(!e)return;(0,Y().XC)({environment:t,spaceId:e}).then((t=>q({spaceId:e,trustedDomainsStore:n,trustedDomains:t,value:0})));const o=H().Ay.addListener((0,Z()._i)({spaceId:e}),void 0,(async({value:o})=>{if(n.shouldRefetchTrustedDomains({currentSpaceId:e,emitValue:o})){const i=await(0,Y().XC)({environment:t,spaceId:e});q({spaceId:e,trustedDomainsStore:n,trustedDomains:i,value:o})}}),void 0,t);return()=>{o&&H().Ay.removeListener(o,t)}}),[t,e,n]),n}({spaceId:null==ie?void 0:ie.id}),Ge=(0,r().K8)((()=>(0,E().E)(c,se)),[c,se]),Ye=(0,we().Nq)(),qe=(0,l().IS)((e=>({actionButtonsWrapStyle:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",paddingInlineEnd:n.isMobile?4:0,paddingInlineStart:Ye,width:De,justifyContent:"space-between",zIndex:101,height:g().ek(t.device.isElectronMac),opacity:Le?0:1,transition:`\n\t\t\t\t\topacity ${Se().L}ms,\n\t\t\t\t\tcolor ${Se().L}ms\n\t\t\t\t`},rightButtonsContainer:{display:"flex",alignItems:"center"},pageFreshnessContainer:Pe?{}:{marginInlineEnd:12},agentDivider:{width:1,height:20,margin:"0 8px",backgroundColor:e.border.primary}})),[n.isMobile,Ye,De,t.device.isElectronMac,Le,Pe]);if(e.isInvalidPage)return null;const Je=(!n.isElectronMac||!Le)&&Ae&&(n.isElectron||Me)&&!_e;return(0,pe.jsx)(J().U.Provider,{value:He,children:(0,pe.jsxs)("div",{style:qe.actionButtonsWrapStyle,onMouseMove:()=>{ee({...X,mouseEntered:!0})},onMouseLeave:()=>{ee({...X,mouseEntered:!1})},className:C()._6K,children:[Je?(0,pe.jsx)(xe().i,{isVisible:Je,icon:p().O,caption:s.formatMessage({defaultMessage:"Close panel",id:"updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:()=>{ne(!0),L().setUpdateExpand({environment:t,isExpanded:!1,from:"close_for_space",saveDetailsSidebarPreference:!0})},keyboardShortcutName:"toggleUpdateSidebar"}):(0,pe.jsx)("div",{}),(0,pe.jsxs)("div",{style:qe.rightButtonsContainer,children:[Ue&&Oe?(0,pe.jsx)(N().Z6,{store:c,isVisible:Ke,setTranslationSuggestionDismissed:()=>We(!0),suggestedPageTranslationLanguage:Ue,detectedPageLanguage:Oe}):void 0,(0,pe.jsx)(w().M,{store:c,isVisible:"suggest"===le&&!ge}),de||ge||Ve||Ke||"suggest"===le?void 0:(0,pe.jsx)(fe().y,{store:c,isExpanded:Be,isWindowSmall:Ce,isElectron:n.isElectron,style:qe.pageFreshnessContainer,isShowingTabBar:Ze}),ze&&Q&&!ue&&ae&&re&&!ge&&!ce?(0,pe.jsx)(he().Ay,{rootStore:c,pageVisitStore:ae,presenceStore:re,maxUsers:Ee?Te:void 0}):void 0,Pe?(0,pe.jsx)(k().E,{store:c,buttonPopupStore:R().A}):void 0,Ne?(0,pe.jsx)(ye().n,{blockStore:c,buttonPopupStore:W().A,pageViewBlockContext:O().Rr.Frame}):void 0,Fe?(0,pe.jsx)(ve().Ay,{blockStore:c,unreadDiscussionsPopupStore:h().Z}):void 0,$e||ge||"translate_locked"===le?void 0:(0,pe.jsx)(be().TopbarFavoriteButton,{store:c,spaceViewStore:se}),oe?(0,pe.jsx)(M().A,{}):void 0,ge&&!Ge?(0,pe.jsx)(b().A,{formBlockStore:c,inPeekMode:!1}):void 0,Re?(0,pe.jsx)(x().u,{store:c,buttonPopupStore:z().A}):void 0,u&&"sidebar"===f&&!$?(0,pe.jsxs)(pe.Fragment,{children:[(0,pe.jsx)("div",{style:qe.agentDivider}),(0,pe.jsx)(me,{store:c})]}):void 0]})]})})}function je(e){const{isSpaceGuest:t,canEditPage:n,blockType:o,systemBlockType:i,isTranslated:a,shouldShowPeopleCollection:r,isCrossSpaceBlock:l,hasPermissionViaPublicAccess:d,isPublicShareLink:p,isGuestPrivatePage:g}=e;if(!o)return!1;if(s().A.isAdminMode)return!0;const m=o!==c().xd.form,v=(0,u().Oz)(i,r);let S=!0;return(0,f().O9)(t)&&(S=!t||n),!g&&(m&&v&&(S&&!d||p)&&!l&&!a)}function Be(e){const{blockType:t,systemBlockType:n,canEditPage:o,isTeamPost:i,userIsViewingAsPublicShareLink:s}=e;if(!t)return!1;const a=t!==c().xd.form,r=(0,u().D7)(n);return o&&a&&r&&!i&&!s}function Ce(e){const{blockType:t,systemBlockType:n,isGuestPrivatePage:o}=e;if(!t)return!1;if(o)return!1;const i=t!==c().xd.form,s=(0,u().dy)(n);return i&&s}},978578:(e,t,n)=>{n.d(t,{MS:()=>r,aD:()=>a,bu:()=>s,uO:()=>i,uZ:()=>l});var o=()=>n(911988);function i(e=!0,t=!1){return{flex:1,marginInlineStart:e?0:8,overflow:"hidden",marginInlineEnd:t?16:8,whiteSpace:"nowrap",height:"100%",minWidth:0,maxWidth:"100%",textOverflow:"ellipsis"}}const s=36;function a(e){return{iconStyle:{height:26,width:26,fill:e.icon.primary},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginInlineEnd:14,color:e.icon.secondary,width:26},redesignedIconStyle:{height:24,width:24,fill:e.icon.primary},redesignedCircleIconContainer:{background:e.background.primary,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:18,width:s,height:s},redesignedCoverPhotoIconContainer:{background:e.background.primary,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:18,width:s,height:s,boxShadow:"0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0px 14px 28px -6px rgba(0, 0, 0, 0.10)"}}}function r(e){const{WindowSizeStore:t}=e;return{marginTop:t.state.paddingTop,paddingInlineStart:t.getSafePaddingLeftPx(0),paddingInlineEnd:t.getSafePaddingRightPx(0)}}function l(e,t=o().s1,n=!0){const i=1/(window.devicePixelRatio||1);return{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",height:t,boxShadow:n?`0 ${i}px 0 ${e.regularDividerColor}`:"none",background:e.background.primary,transition:"box-shadow 300ms",WebkitUserSelect:"none",cursor:"pointer"}}},990402:(e,t,n)=>{n.d(t,{G:()=>s,m:()=>i});var o=()=>n(46986);function i(e){return e.canEdit()&&(0,o().re)()}function s(e){return e.canEdit()&&!e.isSystemBlock()&&(0,o().re)()}}}]);