"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[91629],{297780:(e,i,t)=>{t.d(i,{A:()=>d});var n=t.n(t(32485)),a=(t(296540),()=>t(484714)),o=()=>t(553965),s=()=>t(623580),r=t(474848);const d=function({readOnly:e,onClick:i,style:o,tokens:s,value:d,onRemoveLastToken:u,onChange:f,onSubmit:g,onBlur:p,overflowHorizontally:x,focus:v,type:y,placeholder:h,errorOutline:A,inputStyle:S,inputElementAttributes:b}){const j=(0,t(401497).DP)(),D=(0,a().v3)(),{device:k}=D;return(0,r.jsxs)("div",{className:e?void 0:n()({"notion-focusable-within":!0,"notion-focusable-within-error-outline":A}),onClick:i,style:k.isMobile?c(j,o):l(j,o),children:[x?(0,r.jsx)("div",{style:{display:"flex",flexShrink:0},children:s}):s,(0,r.jsx)(m,{tokens:s,value:d,onRemoveLastToken:u,onChange:f,onSubmit:g,onBlur:p,focus:v,readOnly:e,type:y,placeholder:h,inputStyle:S,inputElementAttributes:b})]})};function l(e,i){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",minHeight:32,boxShadow:e.inputBoxShadow,background:e.inputBackground,borderRadius:4,fontSize:14,cursor:"text",overflow:"hidden",padding:"7px 9px 0px",...i}}function c(e,i){return{...l(e,i),fontSize:14,padding:"7px 10px 0"}}const u={flexGrow:1,flexShrink:1,flexBasis:60,minWidth:60,width:"auto",lineHeight:"20px"};function m({tokens:e,value:i,onRemoveLastToken:t,onChange:n,onSubmit:d,onBlur:l,focus:c,readOnly:m,type:f,placeholder:g,inputStyle:p,inputElementAttributes:x}){const v=(0,a().v3)(),{device:y}=v,h=0===e.length;return(0,r.jsx)(s().A,{format:s().C.Transparent,...(0,o().A)({onKeyDown:e=>function(e,i,t){"Backspace"===e.key&&0===i.length&&t()}(e,i,t)},{onChange:n}),value:i,onSubmit:d,onBlur:l,focus:c,style:{...u,margin:y.isMobile?"0 8px 8px 0":"0 6px 6px 0"},readOnly:m,inputStyle:{height:18,...p},size:1,type:f,placeholder:h?g:"",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,inputElementAttributes:x})}},366208:(e,i,t)=>{t.d(i,{A$:()=>o,Ay:()=>r});t(296540);var n=()=>t(881690),a=t(474848);const o={Success:"success",Pending:"pending",Failure:"failure"};const s={display:"flex",justifyContent:"center",alignItems:"baseline"},r=function({status:e,value:i,renderTooltip:r,...d}){const l=(0,t(401497).DP)(),c={[o.Success]:l.statusTokenBackground.green,[o.Pending]:l.statusTokenBackground.yellow,[o.Failure]:l.statusTokenBackground.red},u={[o.Success]:l.statusTokenIndicator.green,[o.Pending]:l.statusTokenIndicator.yellow,[o.Failure]:l.statusTokenIndicator.red},m={[o.Success]:l.statusTokenText.green,[o.Pending]:l.statusTokenText.yellow,[o.Failure]:l.statusTokenText.red};return r?(0,a.jsx)(n().A,{...d,backgroundColor:c[e],color:m[e],value:(0,a.jsx)(t(859428).A,{placement:"bottom",alignment:"start",renderTooltip:r,render:t=>(0,a.jsxs)("div",{style:s,...t,children:[(0,a.jsx)("div",{style:{background:u[e],width:8,height:8,borderRadius:"100%",marginInlineEnd:4}}),i]})})}):(0,a.jsx)(n().A,{...d,backgroundColor:c[e],color:m[e],value:(0,a.jsxs)("div",{style:s,children:[(0,a.jsx)("div",{style:{background:u[e],width:8,height:8,borderRadius:"100%",marginInlineEnd:4}}),i]})})}},375243:(e,i,t)=>{t.d(i,{Jd:()=>T,d9:()=>I,Ay:()=>_,W0:()=>E,vv:()=>z,xF:()=>L,Rf:()=>B});t(944114),t(581454);var n=t(296540),a=()=>t(401497),o=()=>t(160432),s=()=>t(493552),r=()=>t(69708),d=()=>t(534177),l=()=>t(901389),c=()=>t(641300),u=()=>t(760217),m=()=>t(125565),f=()=>t(314529),g=()=>t(559506),p=()=>t(661461),x=()=>t(662303),v=()=>t(284371),y=t(474848);const h=(0,r().YK)({samlConfigSubtitle:{id:"verifyDomainModal.addNewDomain.samlConfig.subtitle",defaultMessage:"Users with a verified domain can log in {br}using SAML SSO."},integrationSubtitle:{id:"verifyDomainModal.addNewDomain.integration.subtitle",defaultMessage:"Link preview integrations must verify {br}domains before they are published."}});const A=function({handleAddNewDomain:e,loading:i,verificationType:s}){const[l,c]=(0,n.useState)(""),u=!Boolean(l),f=(0,n.useCallback)((e=>{c(e.target.value)}),[]),g=(0,a().IS)((()=>({title:{fontFamily:v().vc(x().locale).sans,fontSize:17,fontWeight:500,lineHeight:"24px",textAlign:"center",marginBottom:8},subtitle:{fontFamily:v().vc(x().locale).sans,fontSize:14,fontWeight:400,lineHeight:"19px",textAlign:"center"},input:{marginTop:22,marginBottom:14},button:{width:"100%",opacity:u?.5:1}})),[u]);let p;switch(s){case"integration":p=h.integrationSubtitle;break;case"saml_config":p=h.samlConfigSubtitle;break;default:(0,d().HB)(s)}return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(m().A,{style:g.title,children:(0,y.jsx)(r().sA,{id:"verifyDomainModal.addNewDomain.title",defaultMessage:"Add new domain"})}),(0,y.jsx)(m().A,{style:g.subtitle,isMultiline:!0,children:(0,y.jsx)(r().sA,{...p,values:{br:(0,y.jsx)("br",{})}})}),(0,y.jsx)(t(623580).A,{value:l,style:g.input,placeholder:"notion.so",onChange:f}),(0,y.jsx)(o().A,{colorPalette:"blue",onClick:()=>e(l),style:g.button,size:"lg",disabled:u,children:i?(0,y.jsx)(t(98126).k,{}):(0,y.jsx)(r().sA,{id:"verifyDomainModal.addNewDomain.next",defaultMessage:"Next"})})]})};var S=()=>t(406094);const b=function({domain:e,isExpired:i,onClose:t}){const o=(0,a().IS)((e=>({title:{fontFamily:v().vc(x().locale).sans,fontSize:17,fontWeight:500,lineHeight:"24px",textAlign:"center",marginBottom:8},subtitle:{fontFamily:v().vc(x().locale).sans,fontSize:14,fontWeight:400,lineHeight:"19px",textAlign:"center",marginBottom:22}})),[]);return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(m().A,{style:o.title,isMultiline:!0,children:(0,y.jsx)(r().sA,{id:"verifyDomainModal.invalidDomain.title",defaultMessage:"Unable to verify {domain}",values:{domain:e}})}),(0,y.jsx)(m().A,{style:o.subtitle,isMultiline:!0,children:i?(0,y.jsx)(r().sA,{id:"verifyDomainModal.invalidDomain.expired",defaultMessage:"The code for this domain’s verification has expired."}):(0,y.jsx)(r().sA,{id:"verifyDomainModal.invalidDomain.invalid",defaultMessage:"You are unable to verify this domain because it has already been verified by another workspace."})}),(0,y.jsx)(S().A,{size:"lg",onClick:t,style:{width:"100%"},children:(0,y.jsx)(r().sA,{id:"verifyDomainModal.invalidDomain.okay",defaultMessage:"OK"})})]})},j=(0,r().YK)({samlConfigSubtitle:{id:"verifyDomainModal.verifiedDomain.samlConfig.subtitle",defaultMessage:"Users are able to use this email domain to{br}log in using SAML SSO."},integrationSubtitle:{id:"verifyDomainModal.verifiedDomain.integration.subtitle",defaultMessage:"This integration can unfurl URLs containing this domain."}});const D=function({domain:e,onClose:i,verificationType:t}){const o=(0,a().IS)((()=>({title:{fontFamily:v().vc(x().locale).sans,fontSize:17,fontWeight:500,lineHeight:"24px",textAlign:"center",marginBottom:8},subtitle:{fontFamily:v().vc(x().locale).sans,fontSize:14,fontWeight:400,lineHeight:"19px",textAlign:"center",marginBottom:22}})),[]);let s;switch(t){case"saml_config":s=j.samlConfigSubtitle;break;case"integration":s=j.integrationSubtitle;break;default:(0,d().HB)(t)}return(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(m().A,{style:o.title,isMultiline:!0,children:(0,y.jsx)(r().sA,{id:"verifyDomainModal.verifiedDomain.title",defaultMessage:"Successfully verified {domain}",values:{domain:e}})}),(0,y.jsx)(m().A,{style:o.subtitle,isMultiline:!0,children:(0,y.jsx)(r().sA,{...s,values:{br:(0,y.jsx)("br",{})}})}),(0,y.jsx)(S().A,{size:"lg",onClick:i,style:{width:"100%"},children:(0,y.jsx)(r().sA,{id:"verifyDomainModal.verifiedDomain.okay",defaultMessage:"OK"})})]})};const k=function(e){const i=(0,t(484714).v3)(),o=(0,r().tz)(),s=(0,a().DP)(),[c,u]=(0,t(56366).$y)(e.store,t(543649).A),{verificationType:m,verificationTargetId:x,refreshDomains:v}=e,h=(0,n.useCallback)((()=>{u((e=>({...e,loading:!1,modalOpen:!1})))}),[u]),S=(0,n.useCallback)((async e=>{u((e=>({...e,loading:!0})));const n="integration"===m?{type:m,integrationId:x,domain:e}:{type:m,spaceId:x,domain:e},a=await g().callApi({eventName:"createDomainVerificationCode",environment:i,data:n});if("success"===a.type){v(),(0,f().DO_NOT_USE_trackLegacy)(i,"domain_verification_domain_added",{type:m});const e=a.data.domainVerification,n=(0,t(486345).pl)(e);u((e=>({...e,domainVerification:n,loading:!1})))}else l().f1((0,p().H)(o,a)),u((e=>({...e,loading:!1})))}),[i,u,x,v,m,o]),j=(0,n.useCallback)((async e=>{u((e=>({...e,loading:!0})));const t=await g().callApi({eventName:"verifyDomain",environment:i,data:{verificationId:e.id}});if((0,f().DO_NOT_USE_trackLegacy)(i,"domain_verification_verification_attempted",{type:m}),"success"===t.type){v(),(0,f().DO_NOT_USE_trackLegacy)(i,"domain_verification_domain_verified",{type:m});const t={type:"verified",domain:e.domain};u((e=>({...e,domainVerification:t,loading:!1})))}else l().f1((0,p().H)(o,t)),u((e=>({...e,loading:!1})))}),[i,o,u,v,m]),k=(0,n.useCallback)((()=>{if(!c.domainVerification)return(0,y.jsx)(A,{handleAddNewDomain:S,loading:c.loading,verificationType:m});switch(c.domainVerification.type){case"invalid":return(0,y.jsx)(b,{domain:c.domainVerification.domain,isExpired:Date.now()>c.domainVerification.expiresAt,onClose:h});case"unverified":return(0,y.jsx)(t(437594).ZQ,{handleVerifyDomain:j,domainVerification:c.domainVerification,loading:c.loading});case"verified":return(0,y.jsx)(D,{domain:c.domainVerification.domain,onClose:h,verificationType:m});default:(0,d().HB)(c.domainVerification)}}),[c.domainVerification,c.loading,j,S,h,m]);return(0,y.jsx)(t(676007).a,{open:c.modalOpen,preventHideChildrenWhileOpening:!0,onDismiss:h,render:()=>(0,y.jsx)("div",{style:{background:s.popoverBackground,width:410,padding:24,borderRadius:4},children:k()})})};var w=()=>t(366208);const M=[{id:"domain",headerTitle:(0,y.jsx)(r().sA,{id:"domainVerificationTable.table.header.domain",defaultMessage:"Domain"}),renderCell:e=>(0,y.jsx)(m().A,{children:e.domain}),widthData:{width:100},sortable:!1},{id:"status",headerTitle:(0,y.jsx)(r().sA,{id:"domainVerificationTable.table.header.status",defaultMessage:"Status"}),renderCell:e=>(0,y.jsx)(I,{status:e.status}),widthData:{width:100},sortable:!1},{id:"actions",headerTitle:null,renderCell:e=>(0,y.jsx)(V,{onShowDetails:e.onShowDetails,onRemove:e.onRemove}),widthData:{width:20},sortable:!1}],C=(0,r().YK)({verifiedSAMLWarning:{defaultMessage:"Deleting this domain will prevent others with this email from logging in using SAML SSO.",id:"domainVerificationInput.securitySAMLSettings.emailDomainsSection.removeDomain.description"},verifiedIntegrationsWarning:{defaultMessage:"Deleting this domain will prevent integrations from unfurling urls that contain this domain.",id:"domainVerificationInput.myIntegrations.emailDomainsSection.removeDomain.description"},unverifiedDomainWarning:{defaultMessage:"Deleting this domain will restart its verification process. A new verification code will be generated for this domain in the next verification attempt.",id:"domainVerificationInput.securitySAMLSettings.emailDomainsSection.removeDomain.pending.description"}});function T(){return(0,y.jsx)(m().A,{isSmall:!0,style:{marginTop:15,marginBottom:40,textAlign:"center"},children:(0,y.jsx)(r().sA,{id:"securitySAMLSettings.emailDomainsSection.emptyTable",defaultMessage:"No domains configured."})})}function I({status:e}){const i=(0,a().IS)((i=>{const t={[w().A$.Success]:i.statusTokenBackground.green,[w().A$.Pending]:i.statusTokenBackground.yellow,[w().A$.Failure]:i.statusTokenBackground.red},n={[w().A$.Success]:i.statusTokenIndicator.green,[w().A$.Pending]:i.statusTokenIndicator.yellow,[w().A$.Failure]:i.statusTokenIndicator.red},a={[w().A$.Success]:i.statusTokenText.green,[w().A$.Pending]:i.statusTokenText.yellow,[w().A$.Failure]:i.statusTokenText.red};return{container:{background:t[e],color:a[e],display:"flex",justifyContent:"center",alignItems:"center",gap:6,borderRadius:18,height:20,paddingInlineStart:7,paddingInlineEnd:9},dot:{background:n[e],width:8,height:8,borderRadius:"100%"}}}),[e]);return(0,y.jsxs)("div",{style:i.container,children:[(0,y.jsx)("div",{style:i.dot}),(0,y.jsx)(s().D,{styleKey:"Body/Medium",children:L(e)})]})}function V({onShowDetails:e,onRemove:i}){const n=B(),a=[];return e&&a.push({key:"details",action:()=>e(),render:e=>(0,y.jsx)(u().A,{...e,style:n.menuItem,focused:!1,icon:(0,t(738418).G)(n.menuIcon),title:(0,y.jsx)(r().sA,{defaultMessage:"View details",id:"securitySAMLSettings.emailDomainsSection.details"}),caption:(0,y.jsx)(r().sA,{defaultMessage:"See more information about the state of this domain verification record.",id:"securitySAMLSettings.emailDomainsSection.detailsCaption"}),shouldWrapCaption:!0})}),i&&a.push({key:"remove",action:()=>i(),render:e=>(0,y.jsx)(u().A,{...e,style:n.menuItem,focused:!1,icon:(0,t(236262).trashIcon)(n.menuIcon),title:(0,y.jsx)(r().sA,{defaultMessage:"Remove domain",id:"securitySAMLSettings.emailDomainsSection.remove"}),caption:(0,y.jsx)(r().sA,{defaultMessage:"Delete this domain verification record.",id:"securitySAMLSettings.emailDomainsSection.removeCaption"}),shouldWrapCaption:!0})}),0===a.length?null:(0,y.jsx)(t(75491).ED,{hideDropdownIcon:!0,title:(0,t(30626)._)(n.primaryIcon),items:a})}function B(){return(0,a().IS)((e=>({primaryIcon:{width:14,height:14,color:e.icon.secondary,fill:"currentColor"},menuItem:{width:250},menuIcon:{width:14,height:14,color:e.icon.primary,fill:"currentColor"}})),[])}function L(e){switch(e){case w().A$.Success:return(0,y.jsx)(r().sA,{defaultMessage:"Verified",id:"domainVerificationInput.emailDomainsSection.statusToken.verified"});case w().A$.Pending:return(0,y.jsx)(r().sA,{defaultMessage:"Pending",id:"domainVerificationInput.emailDomainsSection.statusToken.pending"});case w().A$.Failure:return(0,y.jsx)(r().sA,{defaultMessage:"Failed",id:"domainVerificationInput.emailDomainsSection.statusToken.failed"});default:(0,d().HB)(e)}}function z(e){return{domain:e,status:w().A$.Success,data:{type:"verified",domain:e}}}function E(e){return Date.now()>e.expiresAt||Boolean(e.invalidatedAt)?{domain:e.domain,status:w().A$.Failure,data:{type:"invalid",id:e.id,domain:e.domain,verificationCode:e.verificationCode,createdAt:e.createdAt,expiresAt:e.expiresAt,invalidatedAt:e.invalidatedAt}}:{domain:e.domain,status:w().A$.Pending,data:{type:"unverified",id:e.id,domain:e.domain,verificationCode:e.verificationCode,createdAt:e.createdAt,expiresAt:e.expiresAt,invalidatedAt:e.invalidatedAt}}}const _=function(e){const{disabled:i,domains:t,domainVerificationStore:s,verificationType:u,verificationTargetId:m,refreshDomains:f,onRemoveDomain:g,onClickAddDomain:p,renderOverrideAddDomainButton:x}=e,v=(0,a().IS)((e=>(0,c().rC)({columnRenderInfo:M,theme:e,containerMarginTop:0})),[]);function h(){i||(p&&p(),s.setState({domainVerification:void 0,loading:!1,modalOpen:!0}))}async function A(e,i){let t;if(i===w().A$.Failure)return void g(e);i===w().A$.Pending?t=C.unverifiedDomainWarning:i===w().A$.Success?t="saml_config"===u?C.verifiedSAMLWarning:C.verifiedIntegrationsWarning:(0,d().HB)(i);const{accept:n}=await l().Gh(function(e){return{mode:"wide",message:(0,y.jsx)(r().sA,{defaultMessage:"Delete this domain?",id:"domainVerificationInput.emailDomainsSection.removeDomain.message"}),description:(0,y.jsx)(r().sA,{...e}),acceptLabel:(0,y.jsx)(r().sA,{id:"domainVerificationInput.emailDomainsSection.removeDomain.accept",defaultMessage:"Delete domain"}),cancelLabel:(0,y.jsx)(r().sA,{id:"domainVerificationInput.emailDomainsSection.removeDomain.cancel",defaultMessage:"Cancel"})}}(t));n&&g(e)}const S=t.map((({domain:e,status:t,data:n})=>({id:"verified"===n.type?e:n.id,isClickable:!1,domain:e,status:t,onShowDetails:i?void 0:()=>function(e){i||s.setState({domainVerification:e,loading:!1,modalOpen:!0})}(n),onRemove:i?void 0:()=>A(n,t)})));return(0,y.jsxs)(n.Fragment,{children:[x?x(h):(0,y.jsx)(o().A,{colorPalette:"blue",size:"lg",disabled:i,onClick:h,style:{margin:"4px 0px 16px",width:"fit-content"},children:(0,y.jsx)(r().sA,{defaultMessage:"Add domain",id:"securitySAMLSettings.emailDomainsSection.addDomain"})}),(0,y.jsx)(c().WE,{hideHeaderRowPadding:!0,showRowBorders:!0,columnRenderInfo:M,rows:S,styles:v,renderNoRowsComponent:()=>(0,y.jsx)(T,{})}),(0,y.jsx)(k,{store:s,verificationTargetId:m,verificationType:u,refreshDomains:f})]})}},437594:(e,i,t)=>{t.d(i,{KS:()=>D,ZQ:()=>j,bi:()=>w,vr:()=>M});var n=t(296540),a=()=>t(662303),o=()=>t(484714),s=()=>t(401497),r=()=>t(396896),d=()=>t(98126),l=()=>t(406094),c=()=>t(631524),u=()=>t(536583),m=()=>t(69708),f=()=>t(284371),g=()=>t(720665),p=()=>t(884107),x=()=>t(907514),v=()=>t(285790),y=()=>t(903706),h=()=>t(859428),A=()=>t(125565),S=()=>t(101919),b=t(474848);function j({handleVerifyDomain:e,domainVerification:i,loading:t}){const o=(0,s().IS)((e=>({title:{fontFamily:f().vc(a().locale).sans,fontSize:17,fontWeight:500,lineHeight:"24px",textAlign:"center",marginBottom:8},subtitle:{fontFamily:f().vc(a().locale).sans,fontSize:14,fontWeight:400,lineHeight:"19px",textAlign:"center"},list:{fontSize:14,lineHeight:"19px"}})),[]);return(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(A().A,{style:o.title,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.title",defaultMessage:"Verify your domain"})}),(0,b.jsx)(A().A,{style:o.subtitle,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.subtitle",defaultMessage:"Follow these steps to finalize verification."})}),(0,b.jsxs)(r().VP,{marginTop:24,gap:24,children:[(0,b.jsxs)(r().VP,{gap:12,children:[(0,b.jsx)(w,{domainVerification:i}),(0,b.jsx)(D,{domainVerification:i})]}),(0,b.jsx)(M,{listStyles:o.list})]}),(0,b.jsx)(l().A,{size:"lg",style:{width:"100%"},onClick:()=>e(i),disabled:t,children:t?(0,b.jsx)(d().k,{}):(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.verify",defaultMessage:"Verify domain"})})]})}function D({domainVerification:e}){const i=(0,o().v3)();return(0,b.jsx)(k,{value:e.domain,handleCopyLink:async function(){const t=await p().R.clipboardActions.load();t.copyString({environment:i,stringValue:e.domain,copiedMessage:t.clipboardMessages.copiedLinkToClipboard})},label:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.domainLabel",defaultMessage:"Domain"})})}function k({value:e,handleCopyLink:i,disabled:t,label:n}){const o=(0,m().tz)().formatMessage(C.copy),d=(0,s().IS)((e=>({container:{display:"flex",background:e.background.elevated,padding:2,boxShadow:e.shadowSM,borderRadius:6},buttonStyle:{height:20,width:20},input:{fontFamily:f().vc(a().locale).mono,textOverflow:"ellipsis"}})),[]);return(0,b.jsxs)(r().VP,{gap:0,children:[(0,b.jsx)(S().A,{children:n}),(0,b.jsx)(y().A,{value:e,readOnly:!0,inputStyle:d.input,right:(0,b.jsx)(h().A,{renderTooltip:()=>o,render:e=>(0,b.jsx)("div",{style:d.container,...e,children:(0,b.jsx)(v().A,{onClick:i,ariaLabel:o,hasBackground:!0,icon:u().d,colorVariant:"secondary",showShadow:!1,style:d.buttonStyle})})})})]})}function w({domainVerification:e,containerStyles:i,regenerateCode:t}){const a=(0,o().v3)(),[d,l]=(0,n.useState)(!1),u=e.expiresAt-Date.now()<2*g().pT,v=e.expiresAt<Date.now(),y=(0,s().IS)((e=>({expiresSoonText:{color:"dark"===e.mode?e.palette.yellow[700]:e.palette.yellow[500]},expiredText:{color:"dark"===e.mode?e.palette.red[700]:e.palette.red[500]},regenerateButton:{fontWeight:f().Wy.medium}})),[]);return(0,b.jsx)("div",{style:i,children:(0,b.jsxs)(r().VP,{gap:4,children:[(0,b.jsx)(k,{label:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.verificationCodeLabel",defaultMessage:"Verification code"}),value:`notion-domain-verification=${e.verificationCode}`,handleCopyLink:async function(){const i=await p().R.clipboardActions.load();i.copyString({environment:a,stringValue:`notion-domain-verification=${e.verificationCode}`,copiedMessage:i.clipboardMessages.copiedLinkToClipboard})},disabled:v}),(0,b.jsxs)(r().fI,{alignItems:"center",justifyContent:"space-between",children:[v?(0,b.jsx)(A().A,{style:y.expiredText,isSmall:!0,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.verificationCodeExpired",defaultMessage:"This verification code expired on {expirationDate}",values:{expirationDate:(0,x().DG)(e.expiresAt)}})}):(0,b.jsx)(A().A,{style:u?y.expiresSoonText:void 0,isSmall:!0,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.verificationCodeExpiresAt",defaultMessage:"This verification code expires on {timeLeft}",values:{timeLeft:(0,x().DG)(e.expiresAt)}})}),v&&t?(0,b.jsx)(c().p,{colorPalette:"blue",size:"xs",style:y.regenerateButton,onClick:async()=>{l(!0),await t(e),l(!1)},disabled:d,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.regenerateButton",defaultMessage:"Regenerate"})}):void 0]})]})})}function M({listStyles:e}){const i=(0,s().IS)((()=>({list:{paddingInlineStart:22,margin:0},listItem:{fontFamily:f().vc(a().locale).sans,fontWeight:400,marginBottom:12}})),[]);return(0,b.jsxs)("ol",{style:{...i.list,...e},children:[(0,b.jsx)("li",{style:i.listItem,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.instructionsDNS",defaultMessage:"Go to the DNS settings for your domain host."})}),(0,b.jsx)("li",{style:i.listItem,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.instructionsTXT",defaultMessage:"Create a TXT record and paste the verification code."})}),(0,b.jsx)("li",{style:i.listItem,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.instructionsHangTight",defaultMessage:"This update usually takes a few minutes but may take up to 72 hours to complete."})}),(0,b.jsx)("li",{style:i.listItem,children:(0,b.jsx)(m().sA,{id:"verifyDomainModal.verifyExistingDomain.instructionsVerify",defaultMessage:"Click “Verify domain” to confirm once your DNS record is updated."})})]})}const C=(0,m().YK)({copy:{defaultMessage:"Copy to Clipboard",id:"verifyDomainModal.verifyExistingDomain.copyButton.copyToClipboard"}})},486345:(e,i,t)=>{t.d(i,{pl:()=>s,sy:()=>o});var n=()=>t(792071),a=()=>t(926397);function o(e){return"invalid"===e.type||"unverified"===e.type}function s(e){const i=n().Bj6.fromValue(a().Hx,e);return{type:i.verified_at?"verified":"unverified",id:i.id,domain:i.domain,verificationCode:i.verification_code,createdAt:i.created_at,expiresAt:i.expires_at,invalidatedAt:i.getInfo().invalidated_at}}},505776:(e,i,t)=>{t.d(i,{A:()=>a});class n extends(()=>t(757695))().Store{constructor(...e){super(...e),this.updatePreviewState=e=>{this.update((i=>({...i,previewCanvasState:e(i.previewCanvasState)})))}}getInitialState(){return{chart:void 0,responsiveChartOptions:void 0,previewCanvasState:void 0,exportBackgroundColor:"gradient"}}}const a=n},543649:(e,i,t)=>{t.d(i,{A:()=>a});class n extends(()=>t(757695))().Store{getInitialState(){return{modalOpen:!1,loading:!1,domainVerification:void 0}}}const a=n},615927:(e,i,t)=>{t.d(i,{Ay:()=>c,P6:()=>l,l1:()=>d});t(296540);var n=()=>t(401497),a=()=>t(718827),o=()=>t(406094),s=()=>t(284371),r=t(474848);const d=16;function l(e){const i=(0,n().IS)((()=>({button:{display:"inline",padding:"1px 2px",borderRadius:3,textDecoration:"underline"}})),[]);return(0,r.jsx)(a().Ay,{style:i.button,onClick:e.onClick,children:e.children})}const c=function(e){const{title:i,description:t,icon:a,style:l,titleStyle:c,buttonText:u,buttonOnClick:m,buttonIcon:f,secondaryButtonText:g,secondaryButtonOnClick:p}=e,x=(0,n().IS)((e=>({wrapper:{minHeight:250,height:1,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:d,...l},title:{fontSize:17,fontWeight:s().Wy.medium,color:e.text.tertiary,textAlign:"center",marginBottom:-2,...c},description:{margin:"0 auto",textAlign:"center",fontSize:14,color:e.text.tertiary},button:{marginTop:12,fontSize:14,fontWeight:s().Wy.medium,color:e.text.primary}})),[l,c]);return(0,r.jsxs)("div",{style:x.wrapper,children:[a,(0,r.jsx)("div",{style:x.title,children:i}),t?(0,r.jsx)("div",{style:x.description,children:t}):void 0,u?(0,r.jsx)(o().A,{size:"lg",onClick:m,style:x.button,iconLeading:f?{icon:f,size:"xs"}:void 0,children:u}):void 0,g?(0,r.jsx)(o().A,{size:"lg",onClick:p,style:x.button,children:g}):void 0]})}}}]);