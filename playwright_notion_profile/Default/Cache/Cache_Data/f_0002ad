"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[23455,29802,31061,33336],{10123:(e,t,o)=>{o.d(t,{A:()=>n});var a=()=>o(570551);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function n(e){(0,a().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===i(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},12314:(e,t,o)=>{o.d(t,{rD:()=>u,tl:()=>p,qo:()=>b,x2:()=>m,QB:()=>f,gE:()=>g,sf:()=>c,pO:()=>d,vP:()=>l});var a=()=>o(645873),i=()=>o(56366),n=()=>o(131448),r=()=>o(717250),s=()=>o(481411);function l(){return(0,i().K8)((()=>n().default.isVisible(r().l)&&"topbar_more_button"===s().k.state.currentStep),[])}function d(){return(0,i().K8)((()=>n().default.isVisible(r().l)&&"available_offline_item"===s().k.state.currentStep),[])}const c=new(a().O2)("offlineOnboarding",(()=>Promise.all([o.e(75134),o.e(44711),o.e(53321),o.e(15499)]).then(o.bind(o,821508)))),u=(0,a()._h)(c,(e=>e.MaybeOfflineModeLaunchModal)),p=(0,a()._h)(c,(e=>e.OfflineModeLaunchModal)),m=(0,a()._h)(c,(e=>e.OfflineModeSidebarCallout)),g=(0,a()._h)(c,(e=>e.OfflinePagesListener)),f=(0,a()._h)(c,(e=>e.OfflineModeTopbarTooltip)),b=(0,a()._h)(c,(e=>e.OfflineModeMenuItemTooltip))},51493:(e,t,o)=>{o.d(t,{q:()=>n,y:()=>r});var a=()=>o(564884),i=()=>o(534177);function n(e){const{environment:t,blockStore:o,update:n}=e,r=function(e){switch(e){case"add":return"page_verification_enabled";case"update":return"page_verification_edited";case"remove":return"page_verification_disabled";default:(0,i().HB)(e)}}(n.metadata.action),s=o.id,l=o.getAssociatedCollectionId(),d=o.getSpaceId(),c=n.metadata.entrypoint;let u=l?"db":"non_db";if(l){const e=o.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(u="wiki")}"page_verification_enabled"===r&&(0,a().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:n.metadata.expiration??void 0,expiration_date:n.metadata.expiration_date??void 0}}}),"page_verification_edited"===r&&(0,a().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:n.metadata.expiration??void 0,expiration_date:n.metadata.expiration_date??void 0}}}),"page_verification_disabled"===r&&(0,a().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d}}})}function r(e){const{environment:t,blockStore:o,entrypoint:i,action:n}=e,r=o.id,s=o.getAssociatedCollectionId(),l=o.getSpaceId();let d=s?"db":"non_db";if(s){const e=o.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(d="wiki")}(0,a().u)({environment:t,event:{eventName:"page_verification_owner_edited",eventProperties:{entrypoint:i,page_type:d,action:n,page_id:r,collection_id:s,space_id:l}}})}},55334:(e,t,o)=>{o.d(t,{BS:()=>r,HL:()=>i,_i:()=>n,jz:()=>l,nK:()=>s});var a=()=>o(757695);const i=a().Store.createValue({open:!1,openedFrom:void 0},{name:"BusinessTrialStartModalStore"}),n=a().Store.createValue({open:!1,openedFrom:void 0,recentPageStores:[],verifiedPageStores:[],teamStores:[],workspaceUserStores:[],connectedApps:[],numAiMeetingMinutes:0,modalState:"initial"},{name:"BusinessTrialEndingModalStore"}),r=a().Store.createValue({open:!1,openedFrom:void 0,connectedApps:[],teamStores:[],pageStores:[],onSecondaryButtonClick:void 0},{name:"BusinessTrialLossAversionModalStore"}),s=a().Store.createValue({open:!1,openedFrom:void 0,onSecondaryButtonClick:void 0},{name:"BusinessOfferLossAversionModalStore"}),l=a().Store.createValue({open:!1,connectedApps:[],teamStores:[],pageStores:[]},{name:"BusinessTrialExplorePlanModalStore"})},63728:(e,t,o)=>{o.d(t,{l:()=>i});class a extends(()=>o(757695))().Store{getInitialState(){return null}}const i=new a},66323:(e,t,o)=>{o.d(t,{b:()=>l,h:()=>d});var a=()=>o(713998),i=()=>o(798880),n=()=>o(931075),r=()=>o(319975),s=()=>o(231297);function l(e){const{environment:t,blockStore:o,verificationValue:l}=e,d=o.getPropertyStore(n()._e.Verification),c=(0,a().j2)(l),u=o.getPropertyStore(n()._e.Owner),p=t.currentUser.id,m=p?{table:i().oo,id:p}:void 0;s().createAndCommit({userAction:"PageAddVerificationButton.verifyPage",environment:t,canUndo:!0,perform:e=>{r().R9({environment:t,store:d,value:c,transaction:e}),m&&s().applyOperation({transaction:e,store:u,operation:{path:u.path,pointer:u.pointer,command:"addPersonAfter",args:{pointer:m}}})}})}function d(e){const{environment:t,blockStore:o,verificationValue:i}=e,l=o.getPropertyStore(n()._e.Verification),d=(0,a().j2)(i);s().createAndCommit({userAction:"PageVerificationBadge.updatePageVerification",environment:t,canUndo:!0,perform:e=>{r().R9({environment:t,store:l,value:d,transaction:e})}})}},68913:(e,t,o)=>{o.r(t),o.d(t,{alarmIcon:()=>n,iconDefinition:()=>i});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"1.91 0.78 16.18 16.85",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.791 1.886a.625.625 0 1 0-.801-.96L2.138 3.31a.625.625 0 1 0 .802.96zm4.834 3.839a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 0 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,a.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0M14.13 1.006a.625.625 0 0 0 .079.88l2.851 2.383a.625.625 0 1 0 .802-.96L15.01.927a.625.625 0 0 0-.88.079"})]})},n=(0,o(340498).wt)("alarm",i)},90244:(e,t,o)=>{o.d(t,{O:()=>n});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"0.73 3.36 18.53 13.28",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M13.004 6.123a3.588 3.588 0 0 1 6.175.032.624.624 0 1 1-1.079.63 2.338 2.338 0 0 0-4.024-.02L9.264 14.8l3.682.596a.626.626 0 0 1-.2 1.235l-4.591-.744a.625.625 0 0 1-.436-.939zm-8.269 6.688a.625.625 0 1 1 0 1.25H1.36a.625.625 0 0 1 0-1.25zM6.079 9.53a.625.625 0 0 1 0 1.25H1.36a.625.625 0 0 1 0-1.25z"}),(0,a.jsx)("path",{d:"M14.146 8.918a1.061 1.061 0 1 1 2.095.34 1.061 1.061 0 0 1-2.095-.34m-5.59-.906a1.061 1.061 0 1 1 2.095.34 1.061 1.061 0 0 1-2.095-.34M5.235 6.249a.625.625 0 1 1 0 1.25H1.36a.625.625 0 0 1 0-1.25zm2.188-1.974a3.59 3.59 0 0 1 5.104.325.625.625 0 0 1-.944.82 2.34 2.34 0 0 0-3.326-.213.625.625 0 0 1-.834-.932"})]})},n=(0,o(340498).wt)("aiDescription",i)},91511:(e,t,o)=>{o.d(t,{w:()=>f});o(898992),o(672577),o(581454);var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(496603),s=()=>o(955930),l=()=>o(439264),d=()=>o(765957),c=()=>o(929450),u=()=>o(846955),p=()=>o(923455),m=()=>o(754527),g=o(474848);function f({teams:e,reorderable:t,onNavigate:o,id:f,teamOutlinerType:b,shouldPersistToggleState:v,from:h}){const y=(0,i().v3)(),S=(0,p().Rx)(),_=(0,n().O$)(d().AppStoreSidebarSpaceViewStore),w=(0,n().K8)((()=>e.map((e=>e.id))),[e]),k=(0,n().K8)((()=>r().pY(e,"id")),[e]),[x,M]=(0,a.useState)({});(0,a.useEffect)((()=>{(null==S?void 0:S.spaceId)&&M((e=>c().s({teamIds:w,oldState:e,spaceId:S.spaceId,userId:S.userId})))}),[null==S?void 0:S.spaceId,null==S?void 0:S.userId,w]);const C=(0,n().K8)((()=>{const e=u().default.state.initialTeamStoreId;return w.find((t=>t===e))??r().$1(w)}),[w]);return S?(0,g.jsx)(l().Ay,{id:f,direction:"vertical",keys:w,disabled:!t||S.isCached,hoverCursorStyleOverride:"pointer",renderKey:e=>x[e]&&(0,g.jsx)(m().Q,{initialToggleState:v?void 0:"hidden",shouldPersistToggleState:Boolean(v),teamStore:k[e],sidebarState:S,isLastTeam:r().HV(w)===e,teamOutlinerType:b,customToggleStore:x[e],onNavigate:o,sidebarTourStep:C===e?"prebuilt_templates":void 0,from:h},e),onDrop:(e,t)=>{_&&s().br({environment:y,currentSpaceViewStore:_,orderedTeamIds:e,userAction:"SidebarOutliner.SidebarOutliner",isExplicitUserAction:!0,dropArgs:t})}}):null}},97065:(e,t,o)=>{o.d(t,{DH:()=>n});var a=()=>o(61844);const i=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function n(e){return i.includes(e)||a().FN.includes(e)}},97835:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,inviteMemberIcon:()=>n});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.68 2.37 15.82 17.13",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h5.845a4.6 4.6 0 0 1-.28-1.25H5.85c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54.761-1.488 2.672-2.626 5.007-2.626.83 0 1.605.144 2.294.395.269-.364.59-.688.952-.96A7.9 7.9 0 0 0 10 11.63"}),(0,a.jsx)("path",{d:"M16 19.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7m2.594-3.469a.625.625 0 0 0-.625-.625h-1.375v-1.375a.625.625 0 0 0-1.25 0v1.375h-1.375a.625.625 0 0 0 0 1.25h1.375v1.375a.625.625 0 1 0 1.25 0v-1.375h1.375c.345 0 .625-.28.625-.625"})]})},n=(0,o(340498).wt)("inviteMember",i)},112799:(e,t,o)=>{o.d(t,{a:()=>l,E:()=>s});o(16280);var a=o(296540),i=()=>o(484714),n=(o(898992),o(672577),()=>o(427704));n().GJ.downloadMac,n().GJ.downloadMacUniversal,n().GJ.downloadMacIntel,n().GJ.downloadMacAppleSilicon,n().GJ.downloadWindows,n().GJ.downloadWindowsArm;const r=[{route:n().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:n().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:n().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:n().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:n().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:n().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function s(){const e=(0,a.useRef)(null),t=(0,i().Y0)();return(0,a.useEffect)((()=>{l(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function l(e){var t;if(!("userAgentData"in navigator))return e.isMac?n().GJ.downloadMacUniversal:n().GJ.downloadWindows;const o=navigator.userAgentData,a=await(null==o||null===(t=o.getHighEntropyValues)||void 0===t?void 0:t.call(o,["architecture"])),i=function(e,t){const o=function(e=""){const t=e.toLowerCase();return t.startsWith("arm")?"arm":t.startsWith("x86")||"intel"===t?"x86":null}(e);if(!o||"mac"!==t&&"windows"!==t)return null;const a=r.find((e=>e.architecture===o&&e.operatingSystem===t));return(null==a?void 0:a.route)||null}(null==a?void 0:a.architecture,e.os);return i||null}},115240:(e,t,o)=>{o.d(t,{U:()=>n});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 15.02 16.77",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h4.923a4.8 4.8 0 0 1-.789-1.25H6.25a.875.875 0 0 1-.875-.875v-11c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v5.252a5 5 0 0 1 1.25.132V4.5a2.125 2.125 0 0 0-2.125-2.125z"}),(0,a.jsx)("path",{d:"M7.25 5.2a.55.55 0 0 0 0 1.1h5.5a.55.55 0 0 0 0-1.1zM6.7 8.25a.55.55 0 0 1 .55-.55h5.5a.55.55 0 0 1 0 1.1h-5.5a.55.55 0 0 1-.55-.55m11 8.357a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 1 0 .94-.823zM12.376 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},n=(0,o(340498).wt)("docTextMagnifyingGlass",i)},120251:(e,t,o)=>{o.d(t,{k:()=>a});const a=(0,o(340498).xh)("xMark",{default:{loader:()=>o.e(14344).then(o.bind(o,599813))},small:{loader:()=>o.e(14344).then(o.bind(o,995847))},fill:{loader:()=>o.e(14344).then(o.bind(o,297813))},fillSmall:{loader:()=>o.e(14344).then(o.bind(o,563692))}},["close","cross","delete","remove","cancel"])},121510:(e,t,o)=>{o.d(t,{S:()=>n,e:()=>i});o(898992),o(354520),o(430670);var a=()=>o(56366);function i(e){return(0,a().K8)((()=>e?{shared:(e.getSharedPages()??[]).filter((e=>e.isPageBlock())),private:(e.getPrivatePageStores()??[]).filter((e=>e.isPageBlock()))}:{shared:[],private:[]}),[e])}function n(e){return(0,a().K8)((()=>e.flatMap((e=>e.getTeamPageStores())).filter((e=>e.isPageBlock()))),[e])}},124749:(e,t,o)=>{o.d(t,{$:()=>n});var a=()=>o(56366);const i=new(o(496506).ComputedStore)((()=>o(765957).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function n(){return(0,a().O$)(i)}},141486:(e,t,o)=>{o.r(t),o.d(t,{default:()=>m});var a=o(296540),i=()=>o(484714),n=()=>o(792485),r=()=>o(69708),s=()=>o(264879),l=()=>o(691298),d=()=>o(963248),c=o(474848);function u(e,t){const{title:i,sectionTitle:n,showSectionTitle:s}=e,l=(0,o(401497).IS)((e=>({title:{marginInlineEnd:6},sectionTitle:{color:e.text.tertiary,marginInlineEnd:6}})),[]),d=(0,a.useCallback)((e=>{const a=s?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{style:l.title,children:(0,c.jsx)(r().sA,{...i})}),(0,c.jsx)("span",{style:l.sectionTitle,children:"·"}),(0,c.jsx)("span",{style:l.sectionTitle,children:n})]}):(0,c.jsx)(r().sA,{...i});return(0,c.jsx)(o(760217).A,{...e,ref:t,title:a,icon:(0,c.jsx)(o(252291).I,{icon:o(345016).C})})}),[t,i,n,s,l.title,l.sectionTitle]);return(0,c.jsx)(o(662971).A,{...e,title:(0,c.jsx)(r().sA,{...i}),disableDefaultClick:!0,renderOrigin:d,renderExtension:(t,o)=>(0,c.jsx)(p,{popupEvents:t,extensionParent:o,...e})})}function p(e){var t;const{popupEvents:o,extensionParent:r,blocksToTransform:u,onAccept:p,...m}=e,g=(0,i().v3)(),[f,b]=(0,a.useState)(""),v=null===(t=(0,n().S)())||void 0===t?void 0:t.spaceStore;return(0,l().A)({shouldPreserveTextSelection:!0,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,c.jsx)(d().v8,{...m,blocksToMove:u,isAddTo:!0,isCreateIn:!0,isTurnIntoPage:!0,parentBlockId:void 0,onAccept:async e=>{p&&p(),r.close(),await s().zz(g,{createInValue:e,blocksToTransform:u,spaceStore:v})},onCancel:r.close,autocompleteQuery:f,onAutocompleteQueryChange:b,onMouseEnter:o.onMouseEnter,desktopWidth:400})}const m=a.forwardRef(u)},159026:(e,t,o)=>{o.d(t,{Ay:()=>r,NJ:()=>a,d5:()=>i});o(898992),o(354520),o(581454),o(737550);let a=function(e){return e.unselected="unselected",e.workspace_member="workspace_member",e.request_workspace_member="request_workspace_member",e.page_guest="page_guest",e.closed="closed",e}({}),i=function(e){return e[e.closed=0]="closed",e[e.share_page=1]="share_page",e[e.share_workspace=2]="share_workspace",e[e.request_workspace=3]="request_workspace",e}({});class n extends(()=>o(757695))().Store{getInitialState(){return{inviteStage:i.closed,selection:a.workspace_member,order:[a.workspace_member,a.page_guest],invitedUsers:[],invitedEmailToUserIdMap:{},flowId:o(206267).JW()}}startWorkspaceInvite(){this.setState({...this.state,inviteStage:i.share_workspace,order:[a.workspace_member,a.page_guest],selection:a.workspace_member})}startRequestMembership(){this.setState({...this.state,inviteStage:i.request_workspace,order:[a.request_workspace_member,a.page_guest],selection:a.request_workspace_member})}hasGuests(){return this.state.invitedUsers.some((e=>e.isGuest))}getGuestEmails(){return this.state.invitedUsers.filter((e=>e.isGuest)).map((e=>e.email))}}const r=n},162342:(e,t,o)=>{o.d(t,{W$:()=>s,fR:()=>n,iv:()=>r});var a=()=>o(228814),i=()=>o(846199);function n(e){i().A.setState({open:!0,...e})}function r(){i().A.setState({open:!1})}function s(e){a().A.setState({open:!0,...e})}},173614:(e,t,o)=>{o.d(t,{c:()=>i});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.12 3.02 15.83 14.46",svg:(0,o(474848).jsx)("path",{d:"M7.662 5.794a2.77 2.77 0 1 1-5.538 0 2.77 2.77 0 0 1 5.538 0m-1.25 0a1.52 1.52 0 1 0-3.038 0 1.52 1.52 0 0 0 3.038 0m2.498-.55a.55.55 0 1 0 0 1.1h.098a.55.55 0 0 0 0-1.1zm2.053 0a.55.55 0 0 0 0 1.1h.098a.55.55 0 1 0 0-1.1zm2.603 4.329a.55.55 0 1 0-.952-.552l-.049.085a.55.55 0 1 0 .952.55zm-6.208-.552a.55.55 0 0 0-.952.552l.049.084a.55.55 0 0 0 .951-.551zm5.182 2.324a.55.55 0 0 0-.953-.552l-.048.085a.55.55 0 0 0 .951.551zm-4.156-.551a.55.55 0 0 0-.952.55l.05.085a.55.55 0 1 0 .951-.551zm6.722-2.231a2.77 2.77 0 1 0 0-5.538 2.77 2.77 0 0 0 0 5.538m0-1.25a1.52 1.52 0 1 1 0-3.038 1.52 1.52 0 0 1 0 3.038m-2.337 7.343a2.77 2.77 0 1 1-5.539 0 2.77 2.77 0 0 1 5.539 0m-1.25 0a1.52 1.52 0 1 0-3.039 0 1.52 1.52 0 0 0 3.039 0"})},i=(0,o(340498).wt)("integration",a)},182183:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,notionTintableIcon:()=>i});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.76 1.39 16.47 17.17",svg:(0,o(474848).jsx)("path",{d:"M12.32 1.437c1.17-.1 1.47-.032 2.205.501l3.039 2.136c.5.367.668.467.668.867v11.715c0 .734-.267 1.168-1.202 1.234l-11.055.667c-.702.034-1.036-.066-1.404-.533L2.333 15.12c-.4-.534-.567-.934-.567-1.401V3.306c0-.6.267-1.101 1.035-1.168zm4.241 3.871-10.854.634c-.4.034-.534.235-.534.668v9.945c0 .535.267.735.868.702l10.388-.601c.6-.033.668-.401.668-.835V5.942c0-.433-.167-.667-.536-.634m-1.134 1.836c.066.3 0 .601-.301.635l-.501.1v7.342c-.434.233-.835.367-1.169.367-.534 0-.668-.168-1.068-.668L9.113 9.78v4.973l1.036.233c0 .008-.005.6-.836.6l-2.303.135c-.067-.134 0-.468.233-.535l.602-.167V8.446L7.01 8.38c-.067-.3.1-.734.567-.768l2.472-.166 3.407 5.206V8.046l-.868-.1c-.067-.367.2-.635.534-.668zm-2.705-4.772-9.153.668c-.333.033-.4.2-.267.333l1.303 1.035c.534.433.735.4 1.737.333l9.452-.567c.2 0 .034-.2-.033-.233l-1.57-1.136c-.301-.233-.702-.5-1.47-.433"})},i=(0,o(340498).wt)("notionTintable",a)},194188:(e,t,o)=>{function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>a})},196459:(e,t,o)=>{o.d(t,{O:()=>C});o(898992),o(354520),o(737550);var a=()=>o(906745),i=o(296540),n=()=>o(59226),r=()=>o(484714),s=()=>o(56366),l=()=>o(604995),d=()=>o(187174),c=()=>o(496603),u=()=>o(534177),p=()=>o(767525),m=()=>o(838924),g=()=>o(765957),f=()=>o(32254);o(823215);function b(e){if(0===e.length)return!0;const t=e[0];return e.every((e=>void 0!==e&&e===t))}var v=()=>o(705295),h=()=>o(90857),y=()=>o(614016),S=()=>o(823115),_=()=>o(377515),w=()=>o(379560),k=()=>o(677169),x=()=>o(541808);const M=1e4;function C(e){var t;const o=(0,r().v3)(),C=(0,k().m)(),j=(0,n().X)("default_calendar_to_utc"),{timeZone:B}=(0,p().mn)(),P=j?(0,l().lW)(B):B,D=(0,m().s5)(),{connectedAccounts:N,disconnectedAccounts:R}=(0,x().B)(),[O,E]=i.useState(0),[L,F]=i.useState(!0),V=(0,i.useMemo)((()=>(0,c().sg)((()=>{E((e=>e+1)),F(!1),setTimeout((()=>F(!0)),M)}),1e3,{leading:!0,trailing:!1})),[]),{currentSpaceViewStore:K,currentSpaceStore:U}=(0,s().K8)((()=>({currentSpaceViewStore:g().default.state.sidebarSpaceViewStore,currentSpaceStore:g().default.state.sidebarSpaceStore})),[]),W=(0,s().K8)((()=>void 0!==w().A.getHomeCalendarStateForSpaceView()),[]),z=(0,s().K8)((()=>{var e,t;const{botSpaceId:a,botUserId:i}=C,n=null==K?void 0:K.getSpaceId(),r=null==K?void 0:K.getUserId(),s=null==U?void 0:U.id,l=null===(e=g().default.state.currentUserStore)||void 0===e?void 0:e.id,d=null===(t=o.currentUser)||void 0===t?void 0:t.id;return b([a,n,s])&&b([i,r,l,d])}),[C,null==U?void 0:U.id,K,null===(t=o.currentUser)||void 0===t?void 0:t.id]),G=i.useRef(void 0),[Y]=(0,d().Yb)((async()=>{const e=C.botId;if(!z||!K)return"appNotSynced";if(!e)return C.loading||(0,f().F8)(),"noConnectedBot";const t=await(0,f().qq)({environment:o,sidebarSpaceViewStore:K,botId:e,forceRefetch:!1,timeRange:(0,y().M)(),reason:{reason:"foreground_load"}}),a=!G.current,i=G.current&&(G.current.spaceViewId!==K.id||G.current.botId!==e);switch("skipped"===t&&(a||i)&&A({environment:o,sidebarSpaceViewStore:K,botId:e,forceRefetch:!0,timeRange:(0,y().M)(),updateMethod:"replace",reason:{reason:"background_load"}}),G.current={spaceViewId:K.id,botId:e},t){case"success":case"skipped":return"loadCompleted";case"failure":return"loadError";default:(0,u().HB)(t)}}),[z,C.botId,C.loading,K,o,O]),{days:q,numDaysWithEvents:H}=(0,s().K8)((()=>{const t=C.botId;if(!t||"resolved"!==Y.status||!W||!K)return{days:[],numDaysWithEvents:0};const{timeMin:o,timeMax:i}=(0,y().iI)(),n=(0,h().g2)({events:w().A.getEvents(),calendars:w().A.getCalendarMap(),startDate:a().c9.fromMillis(o,{zone:P}),endDateInclusive:a().c9.fromMillis(i,{zone:P}),getCalendarVisibility:e=>(0,_().Pj)({spaceViewStore:K,botId:t,calendar:e}),eventFilters:{all_day_events:(0,v().En)("all_day_events",e),events_without_participants:(0,v().En)("events_without_participants",e),events_without_location:(0,v().En)("events_without_location",e)},timeZone:P});let r=0;return{days:n.filter((e=>{const t=e.allDayEvents.length>0||e.timedEvents.length>0;return t&&r++,t||(0,S().cK)(e.date,D)})),numDaysWithEvents:r}}),[C.botId,Y.status,W,K,D,P,e]),$=function({botIdState:e,eventsLoadingState:t,isEventsDataAvailable:o,numDaysWithEvents:a,connectedAccounts:i,disconnectedAccounts:n}){const r=i.filter((e=>T(e)||I(e))),s=n.filter((e=>T(e)||I(e)));return e.loading||"resolved"!==t.status&&"rejected"!==t.status||"resolved"===t.status&&"noConnectedBot"===t.value&&!e.loading&&void 0!==e.botId||"resolved"===t.status&&"loadCompleted"===t.value&&!o||"resolved"===t.status&&"appNotSynced"===t.value?"loading":!e.loading&&!e.botId||0===r.length&&0===s.length?"signedOut":0===i.filter(T).length&&n.filter(T).length>0?n.filter(T).some((e=>"missingScopes"===e.authorizationStatus))?"missingScopes":"disconnectedAccount":"rejected"===t.status||"resolved"===t.status&&"loadError"===t.value?"loadError":0===a?"noEvents":"events"}({botIdState:C,eventsLoadingState:Y,isEventsDataAvailable:W,numDaysWithEvents:H,connectedAccounts:N,disconnectedAccounts:R});return{isRetryEventLoadingEnabled:L,retryEventLoading:V,displayState:$,eventsLoadingState:Y,days:q}}function T({provider:e}){return"google"===e}function I({provider:e}){return"icloud"===e}const A=(0,c().sg)(f().qq,1e4,{leading:!0,trailing:!0})},228814:(e,t,o)=>{o.d(t,{A:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialEndModalStore"})},261505:(e,t,o)=>{o.r(t),o.d(t,{closeBusinessOfferLossAversionModal:()=>x,closeBusinessTrialEndingModal:()=>S,closeBusinessTrialExplorePlanModal:()=>C,closeBusinessTrialLossAversionModal:()=>w,closeBusinessTrialStartModal:()=>v,createBusinessTrial:()=>T,determineMessageEligibility:()=>j,determineShouldShowTrialEndingModal:()=>B,getBusinessTrialUsingOffersReceived:()=>I,getTrialNudgeMessageKeyForDayWithOffer:()=>A,openBusinessOfferLossAversionModal:()=>k,openBusinessTrialEndingModal:()=>h,openBusinessTrialExplorePlanModal:()=>M,openBusinessTrialLossAversionModal:()=>_,openBusinessTrialStartModal:()=>b,updateBusinessTrialEndingModalState:()=>y});o(16280);var a=()=>o(906745),i=()=>o(386164),n=()=>o(762433),r=()=>o(323063),s=()=>o(166386),l=()=>o(61844),d=()=>o(934068),c=()=>o(559506),u=()=>o(848701),p=()=>o(30858),m=()=>o(55334),g=()=>o(981046),f=()=>o(348046);function b(e){m().HL.setState({open:!0,...e})}function v(){m().HL.update((e=>({...e,open:!1})))}function h(e){m()._i.update((()=>({modalState:"initial",...e,open:!0})))}function y(e){m()._i.update((t=>({...t,modalState:e})))}function S(){m()._i.update((e=>({...e,open:!1,modalState:"initial"})))}function _(e){m().BS.setState({...e,open:!0})}function w(){m().BS.update((e=>({...e,open:!1})))}function k(e){m().nK.setState({...e,open:!0})}function x(){m().nK.update((e=>({...e,open:!1})))}function M(e){m().jz.setState({open:!0,...e})}function C(){m().jz.update((e=>({...e,open:!1})))}async function T(e){var t;const{billingData:o,environment:i,spaceStore:n,from:s,memberCount:l,prices:d,offerToApply:c}=e;if(!(n&&s&&o&&void 0!==l&&c))return{success:!1,error:"Invalid arguments"};const u=e.nowForTesting??a().c9.now(),m=l,b={product:"business",interval:"month",currency:g().A.state.selectedCurrencyCode??"USD"},v=(0,r().vk)(d,b),h=(0,r().vH)({items:(null===(t=o.subscription)||void 0===t?void 0:t.items)??[],trialEnd:u.plus({days:(0,p().s1)(c)})},{price:v,quantity:m}),y=c.campaign;try{return await(0,f().updateSubscription)({environment:i,spaceStore:n,from:s,desiredState:h,trialData:{id:y,from:s}}),{success:!0,error:void 0}}catch(S){return{success:!1,error:S instanceof Error?S.message:void 0}}}async function I(e){const{billingData:t,environment:o,spaceStore:a}=e,r=a.getSpaceId();if(!t||!(0,n().TB)(t)||!a.canAdmin())return;const s=await c().callApi({eventName:"getCustomerOffersReceived",environment:o,data:{spaceId:r},headers:(0,i().WS)({cellId:void 0,spaceId:r})});return"failed"!==s.type?(0,l().Jd)(s.data):void 0}async function A(e){const{currentTrialDayElapsed:t,environment:o,billingData:a,spaceStore:i}=e,r=await I({environment:o,billingData:a,spaceStore:i});if(!r)return!1;const l=(0,s().b_)(r.offer).days;if(!l)return!1;const d=(0,u().tk)({daysElapsed:t,trialLength:l,trialCampaign:r.offer.campaign});if(!d)return!1;if(!(0,s().Vm)(r))return!1;const c=(0,n().DS)(a),p=(0,s().Si)(r,c);return("onboardingIntro"!==d||0!==p||"onboarding"===(null==r?void 0:r.entrypoint))&&p===t}async function j(e,t){const{billingData:o,environment:a,spaceStore:i}=t;if(!o)return!1;const r=(0,n().DS)(o),l=await I({environment:a,billingData:o,spaceStore:i});if(!l)return!1;const d=(0,s().Vm)(l);if(!d)return!1;const c=Math.floor(r.startOf("day").diff(d.startOf("day"),"days").days),p=(0,u().BF)(e,(0,s().b_)(l.offer).days);return("onboardingIntro"!==e||0!==c||"onboarding"===(null==l?void 0:l.entrypoint))&&c===p}function B(e){const{billingData:t,businessTrialOffer:o,spaceViewSettings:i}=e,{business_trial_ending_modal_last_shown_at:r}=i??{};if(!t)return!1;const l=(0,n().DS)(t);if(function(e,t){if(!e)return!1;const o=a().c9.fromMillis(e);return o.startOf("day").equals(t.startOf("day"))}(r,l))return!1;if("business"===(0,n().AW)(t)||"enterprise"===(0,n().AW)(t))return!1;if(!o)return!1;if((0,u().od)(o,l,i))return!1;if((0,u().z2)({billingData:t})||void 0===o)return!1;if((0,s().nb)(o))return!1;const c=o.offer.duration.days;return void 0!==c&&((0,d().tz)(o,(0,u().rE)(c),l)||(0,u().XF)(o,l)||(0,d().V9)(o,l))}},279047:(e,t,o)=>{o.d(t,{A:()=>d});var a=o(296540),i=()=>o(56366),n=()=>o(401497),r=()=>o(141333),s=o(474848);const l=4;function d({scrollerStore:e,type:t,dividerColor:o,errorMargin:d=l}){const c=(0,i().K8)((()=>e.state.elementRef),[e]),u=(0,r().Xg)(c),p=(0,r().CR)(c),m=(0,r().sj)(c),g=(0,r().yE)(c),f=(0,r().o7)(c),b=(0,r().HJ)(c),v=(0,a.useMemo)((()=>{if(!e)return!1;switch(t){case"top":return Math.round(g)>d;case"bottom":return Math.abs(Math.round(g)-(p-f))>d;case"left":return Math.round(m)>d;case"right":return Math.abs(Math.round(m)-(u-b))>d}}),[e,t,d,u,p,m,g,f,b]),h="left"===t||"right"===t,y=(0,n().IS)((e=>({divider:{flexShrink:0,boxShadow:v?h?`1px 0 0 ${o??e.regularDividerColor}`:`0 1px 0 ${o??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...h?{width:1,height:"100%",marginInlineStart:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[h,v,o]);return(0,s.jsx)("div",{style:y.divider})}},281303:(e,t,o)=>{o.d(t,{a:()=>d});o(898992),o(354520);var a=o(296540),i=()=>o(56366),n=()=>o(496603),r=()=>o(470928),s=()=>o(287351),l=()=>o(121510);function d(e){const{shared:t,private:o}=(0,l().e)(e),d=(0,n().hS)([...t,...o],"id"),c=(0,s().U)(),u=(0,l().S)(c),p=(0,a.useMemo)((()=>[...d,...u]),[d,u]);return(0,i().K8)((()=>e?p.filter((e=>"verified"===(0,r().i1)(e).type)):[]),[p,e])}},287351:(e,t,o)=>{o.d(t,{U:()=>i});var a=()=>o(923455);function i(){const e=(0,a().Rx)();return(null==e?void 0:e.userJoinedTeamsStores)??[]}},288856:(e,t,o)=>{o.d(t,{p:()=>n});var a=()=>o(564884),i=()=>o(242422);function n(e){const{environment:t,from:o}=e;i().default.logEvent("download_desktop_app_from_notion",o),(0,a().u)({environment:t,event:{eventName:"download_desktop_app_from_notion",eventProperties:{from:o}}})}},295418:(e,t,o)=>{o.d(t,{o:()=>s});var a=o(296540),i=()=>o(285790),n=o(474848);function r({active:e,icon:t,iconSize:a,label:r,onClick:s,onMouseEnter:l,caption:d},c){const u=(0,o(401497).IS)((e=>({button:{width:"28px",height:"28px"},buttonWithCaption:{height:"28px"},icon:{width:`${a}px`,height:`${a}px`}})),[a]),p=o=>(0,n.jsx)(i().A,{...o,icon:t,ariaLabel:r,style:u.button,iconStyle:u.icon,colorVariant:e?"primary":"secondary",onClick:s,ref:c,onMouseEnter:e=>{var t;null==l||l(e),null==o||null===(t=o.onMouseEnter)||void 0===t||t.call(o,e)}});return r?d?(0,n.jsx)(i().A,{icon:t,caption:d,ariaLabel:r,style:u.buttonWithCaption,iconStyle:u.icon,colorVariant:e?"primary":"secondary",onClick:s,ref:c,onMouseEnter:e=>{null==l||l(e)}}):(0,n.jsx)(o(859428).A,{renderTooltip:()=>r,render:e=>p(e),placement:"top"}):p()}const s=(0,a.forwardRef)(r)},296060:(e,t,o)=>{o.d(t,{H:()=>i,a:()=>n});var a=o(296540);const i={panelState:void 0,view:"notionHomeTile"},n=(0,a.createContext)(i);n.displayName="CalendarAnalyticsContext"},317025:(e,t,o)=>{o.d(t,{$D:()=>c,c3:()=>u,qU:()=>d});o(296540);var a=()=>o(69708),i=()=>o(134696),n=()=>o(701763),r=()=>o(496414),s=()=>o(471995),l=o(474848);function d(e){n().CW(e,{type:"request"}),i().vX(e,{type:"request",from:"settings_modal"})}function c(){const e=(0,a().YK)({invitingMembers:{id:"sidebarFooter.inviteMember.loadingMessage",defaultMessage:"Updating…"}});r().m({message:e.invitingMembers})}function u(e,t){r().V();const o=e?(0,l.jsx)(a().sA,{id:"sidebarFooter.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,l.jsx)(a().sA,{id:"sidebarFooter.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});s().D6({label:o})}},338931:(e,t,o)=>{o.d(t,{Gj:()=>d,RN:()=>f,_X:()=>b,sR:()=>m,vZ:()=>c,xy:()=>h,y6:()=>g});o(944114),o(898992),o(823215),o(354520),o(672577);var a=()=>o(906745),i=()=>o(726637),n=()=>o(761940),r=()=>o(651784),s=()=>o(179034),l=()=>o(148832);function d(e){const t=a().c9.fromMillis(e.startUnixTimestampMS),o=e.endUnixTimestampMS?a().c9.fromMillis(e.endUnixTimestampMS):void 0,i=a().c9.fromMillis(e.startOfWeekUnixTimestampMS),n=a().c9.fromMillis(e.endOfWeekUnixTimestampMS),r=t.startOf("day"),s=a().c9.max(i,r),l=Math.ceil(s.diff(i,"days").get("days"));let d=1;if(o){const e=o.endOf("day"),t=a().c9.min(n,e);d=Math.ceil(t.diff(s,"days").get("days"))}return{start:t,end:o,startOfWeek:i,endOfWeek:n,startColumn:l,columnCount:d}}function c(e){const t=(e.attendees||[]).filter((e=>!e.self&&!e.resource));return e.hasParticipants&&t.length>0&&t.every((e=>"declined"===e.responseStatus))}const u={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:15},p={upcomingMinsThreshold:10,startingMinsThreshold:5,startedMinsThreshold:5},m={upcomingMinsThreshold:10,startingMinsThreshold:15,startedMinsThreshold:15};function g(e){const{events:t,accounts:o,thresholds:i=u,filters:r}=e,s=t.filter((e=>{if(!e.conferencing)return!1;const t=o.find((t=>t.id===e.accountId));return!(null==t||!t.email)&&(!!(0,n().Ko)(e,t.email)&&(!function(e){if("declined"===e)return!0;return!1}(e.responseStatus??"declined")&&!e.isAllDay))}));if(0===s.length)return[];const{upcomingMinsThreshold:l,startingMinsThreshold:d,startedMinsThreshold:c}=i,p=[],m=[],g=[],f=[],b=[];for(const n of s){if(n.isAllDay)continue;const e=v(n),t=a().c9.now();if(null!=r&&r.excludeEventsOnDifferentDays){if(a().c9.now().setZone(e.start.zone).toISODate()!==e.start.toISODate())continue}const o=e.start.diff(t,"minutes").minutes;if(o>=0&&o<=l)p.push(n);else if(o<0){const a=-o;a>0&&a<=d?g.push(n):a>d&&a<=c?f.push(n):e.contains(t)&&m.push(n)}else b.push(n)}m.sort(((e,t)=>{const o=a().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone});return a().c9.fromISO(t.start.dateTime,{zone:t.start.timeZone}).diff(o).toMillis()}));return[...p,...g,...f,...null!=r&&r.excludeInProgressEvents?[]:m,...null!=r&&r.excludeUpcomingLaterEvents?[]:b]}function f(e,t){return g({events:e,accounts:t,thresholds:u,filters:void 0})[0]}function b(e,t){return g({events:e,accounts:t,thresholds:p,filters:{excludeUpcomingLaterEvents:!0}})[0]}function v(e){const t=a().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone}),o=a().c9.fromISO(e.end.dateTime,{zone:e.end.timeZone});return a().IX.fromDateTimes(t,o)}function h(e){const{environment:t,spaceStore:o}=e;let a=e.fileUrl;if(!o)return;const n=(0,r().parseRoute)({url:a,isMobile:t.device.isMobile,baseUrl:i().A.domainBaseUrl,publicDomainName:i().A.publicDomainName,protocol:i().A.protocol,currentUrl:window.location.href}),d="page"===n.name?n.blockId:void 0;if(!d)return;const c=l().B.createChildStore(o,{table:s().ev,id:d});return c.load(),c}},345578:(e,t,o)=>{o.d(t,{A:()=>l});o(296540);var a=()=>o(252291),i=()=>o(449552),n=()=>o(69708),r=()=>o(859428),s=o(474848);function l(){return(0,s.jsx)(r().A,{textWrap:!0,style:{width:210},placement:"bottom",renderTooltip:()=>(0,s.jsx)(n().sA,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>(0,s.jsx)("div",{...e,style:{alignContent:"center"},children:(0,s.jsx)(a().I,{icon:i().g,size:"sm",colorVariant:"secondary"})})})}},369251:(e,t,o)=>{o.d(t,{A:()=>_,k:()=>S});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(406094),l=()=>o(160432),d=()=>o(69708),c=()=>o(284371),u=()=>o(134696),p=()=>o(559506),m=()=>o(471995),g=()=>o(665381),f=()=>o(765957),b=()=>o(159026),v=()=>o(805751),h=()=>o(623580),y=o(474848);function S(e){const t=(0,i().v3)(),{onDismiss:o}=e,[S,_]=(0,a.useState)(""),w=(0,d().tz)(),k=(0,r().IS)((()=>({container:{padding:20,width:350,paddingBottom:15},title:{fontWeight:c().Wy.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),x=(0,n().O$)(f().AppStoreSidebarSpaceStore),M=(0,n().K8)((()=>x?(0,g().G)(t,x):"workspace"),[t,x]);return(0,y.jsxs)("div",{style:k.container,children:[(0,y.jsx)("div",{style:k.title,children:(0,y.jsx)(d().sA,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to {workspaceName}",values:{workspaceName:M}})}),(0,y.jsxs)(v().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,y.jsx)(h().A,{style:k.input,textarea:!0,value:S,placeholder:w.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{_(e.target.value)}}),(0,y.jsx)(l().A,{colorPalette:"blue",size:"lg",style:k.button,onClick:()=>{const{currentUser:e}=t;e&&e.id&&x&&(u().RH(t,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:S.length,invite_space_role_selection:b().NJ.request_workspace_member,from:"sidebar_guest_request"}),p().callApi({eventName:"requestAccess",environment:t,data:{type:"actor-to-space",forActorId:e.id,spaceId:x.id,message:S,attributes:{origin_id:x.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{m().D6({label:(0,y.jsx)(d().sA,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{m().D6({label:(0,y.jsx)(d().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),_(""),o())},children:(0,y.jsx)(d().sA,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,y.jsx)(s().A,{size:"lg",style:k.button,onClick:()=>{_(""),o()},children:(0,y.jsx)(d().sA,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const _=function(e){const t=(0,i().v3)(),[n,s]=(0,a.useState)(!1),{origin:l}=e,d=(0,r().IS)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,y.jsx)(o(433876).A,{modalStyle:d.modalStyle,open:n,origin:(0,y.jsx)("div",{onClick:()=>{o(701763).cK(t),s(!0)},children:l}),onDismiss:()=>s(!1),renderContent:()=>(0,y.jsx)(S,{onDismiss:()=>s(!1)})})}},371513:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.62 3.62 16.75 12.75",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M16.25 3.625c1.174 0 2.125.951 2.125 2.125v8.5a2.125 2.125 0 0 1-2.125 2.125H3.75a2.125 2.125 0 0 1-2.125-2.125v-8.5c0-1.174.951-2.125 2.125-2.125zm-12.5 1.25a.875.875 0 0 0-.875.875v8.5c0 .483.392.875.875.875h2.7V4.875zm3.8 10.25h8.7a.875.875 0 0 0 .875-.875v-8.5a.875.875 0 0 0-.875-.875h-8.7z"})},i=(0,o(340498).wt)("sidebarLeft",a)},382302:(e,t,o)=>{o.d(t,{G:()=>i,_:()=>a});const a=.7,i=1},388601:(e,t,o)=>{o.d(t,{W:()=>b,o:()=>f});var a=o(296540),i=()=>o(59226),n=()=>o(484714),r=()=>o(56366),s=()=>o(401497),l=()=>o(396301),d=()=>o(310526),c=()=>o(765957),u=()=>o(620149),p=()=>o(994269),m=()=>o(26942),g=o(474848);function f(e){const{state:t,sidebarState:o,onNavigate:f,additionalOutlinerProps:b,id:v,isHeaderless:h,from:y,explicitChildStores:S}=e,_=(0,r().O$)(c().AppStoreSidebarSpaceStore),w=(0,r().O$)(c().AppStoreSidebarSpaceViewStore),k=(0,n().v3)(),{isMobile:x,isTablet:M}=(0,n().Y0)(),C=(0,r().K8)((()=>!u().l.state),[]),T=(0,r().K8)((()=>(null==_?void 0:_.canEdit())&&C),[_,C]),I=(0,r().K8)((()=>(0,d().U)(w)),[w]),A=t,j="shared"===A.type&&(null==o?void 0:o.showCrossWorkspaceGuestPagesPrototype),B=(0,i().X)("team_feed_as_any_other_db"),P=(0,r().K8)((()=>S||(o?(0,l().o_)({typeWithTeam:A,sidebarState:o,teamFeedAsAnyOtherDBEnabled:B}):void 0)),[S,o,A,B]),D=(0,r().K8)((()=>{if(w&&_&&!j)return(0,l().rE)({spaceStore:_,spaceViewStore:w,typeWithTeam:A})}),[_,w,j,A]),N=(0,a.useCallback)((e=>{(0,l().xy)({environment:k,store:e,type:A.type}),null==f||f()}),[k,f,A]),R=(0,s().IS)((()=>({outliner:{display:"block"},outlinerItem:{paddingTop:5,paddingBottom:M?3.5:5,paddingInlineStart:"team"===A.type?16:8,...x&&"team"===A.type?{paddingInlineStart:m().ph+m().RD}:void 0}})),[x,A.type,M]);return P?(0,g.jsx)(p().A,{from:y,type:A.type,disabled:!T&&!I,itemDepth:0,childStores:P,parentStore:D,style:R.outliner,itemStyle:R.outlinerItem,onNavigate:N,id:v,"aria-labelledby":e["aria-labelledby"],isHeaderless:h,...b}):null}const b=a.memo((e=>{const{type:t,sidebarState:o,contentsAriaId:i,labelAriaId:n,isHeaderless:r,explicitChildStores:s}=e,l=(0,a.useMemo)((()=>({type:t})),[t]);return(0,g.jsx)(f,{state:l,sidebarState:o,id:i,"aria-labelledby":n,isHeaderless:r,from:"main_sidebar",explicitChildStores:s})}));b.displayName="MemoizedTopLevelSidebarOutliner"},392998:(e,t,o)=>{o.d(t,{A:()=>r});var a=()=>o(194188),i=()=>o(10123),n=()=>o(570551);function r(e,t){(0,n().A)(2,arguments);var o=(0,i().A)(e),r=(0,a().A)(t);return isNaN(r)?new Date(NaN):r?(o.setDate(o.getDate()+r),o):o}},403733:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightDownSmallIcon:()=>i,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,o(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},i=(0,o(340498).wt)("arrowStraightDownSmall",a)},404802:(e,t,o)=>{o.d(t,{$$:()=>r,D9:()=>s});var a=()=>o(534177),i=()=>o(130382),n=()=>o(762433);function r(e){return"business_trial_non_conversion"===e}function s(e){const t=function(e){const{offerCampaign:t,space:o,offerMetadata:r,billingData:s}=e;if("business_trial_non_conversion"===t){const e=null==o?void 0:o.getSetting("biz_offer_aversion_rejected_time");if(!e)return{isEligible:!1,ineligibleReasons:[{reason:"No record of rejecting initial business offer."}]};const t=(0,n().DS)(s).toMillis(),a=(0,i().Mn)(e,t),l=r.post_biz_trial_coupon_eligible_days,d=l-a;return d<=0?{isEligible:!1,ineligibleReasons:[{reason:"Time limit has passed for offer.",extra:{daysSinceOfferStarted:a,totalEligibleDays:l,daysLeft:d}}]}:{isEligible:!0,daysRemaining:d}}(0,a().HB)(t)}(e);return t.isEligible?t.daysRemaining??null:null}},409865:(e,t,o)=>{o.d(t,{I:()=>a});const a=(0,o(340498).xh)("arrowStraightRight",{default:{loader:()=>o.e(29136).then(o.bind(o,940563))},small:{loader:()=>o.e(29136).then(o.bind(o,569397))},fill:{loader:()=>o.e(29136).then(o.bind(o,123423))},fillSmall:{loader:()=>o.e(29136).then(o.bind(o,160438))}},["arrow","right","direction","next","forward"])},413855:(e,t,o)=>{o.r(t),o.d(t,{SidebarCard:()=>$i,SidebarFooter:()=>Gi,SidebarSectionWithPopup:()=>qi,SidebarSwitcherMultiAccountPopup:()=>X().Ay,SidebarTeamBrowserContent:()=>$,TourTutorialContent:()=>Hi().I});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(69708),l=()=>o(946141),d=()=>o(778417),c=()=>o(805751),u=()=>o(623580),p=()=>o(765957),m=(o(581454),()=>o(690825)),g=()=>o(59226),f=()=>o(150669),b=()=>o(718827),v=()=>o(252291),h=()=>o(591779),y=()=>o(863330),S=()=>o(687646),_=()=>o(946065),w=()=>o(854150),k=()=>o(778078),x=()=>o(284371),M=()=>o(719147),C=()=>o(519618),T=()=>o(629875),I=()=>o(490044),A=()=>o(789550),j=()=>o(159588),B=()=>o(37433),P=()=>o(435761),D=()=>o(781312),N=()=>o(892736),R=()=>o(95758),O=()=>o(848237),E=()=>o(754527),L=()=>o(91511),F=()=>o(923455),V=o(474848);const K=10;function U({team:e,spaceStore:t,sidebarState:o,teamOutlinerType:a}){const r=(0,i().v3)(),s=(0,g().X)("virtualize_team_browser"),l=(0,n().K8)((()=>{const o=R().h.createChildStore(t,{table:w().yK,id:e.id});return s?(0,N().x)({store:o,environment:r,name:e.title,icon:e.icon,cachedTeamPagesStores:[]}):o}),[e.id,r,e.icon,e.title,t,s]);return(0,V.jsx)(E().Q,{initialToggleState:"hidden",teamStore:l,sidebarState:o,isLastTeam:!1,shouldPersistToggleState:!1,teamOutlinerType:a,from:"secondary_sidebar"})}function W({teams:e,teamOutlinerType:t,sidebarState:o,moreTeamsClicked:a,toggleMoreTeamsClicked:i,spaceStore:n}){const r=H();if(!o)return null;const l=e.length-K,d=a||l<2,c=d?e:e.slice(0,K);return(0,V.jsxs)("div",{children:[c.map((e=>(0,V.jsx)(U,{team:e,spaceStore:n,sidebarState:o,teamOutlinerType:t},e.id))),d?null:(0,V.jsx)(b().Ay,{onClick:()=>{i((e=>!e))},style:r.sidebarItemButtonStyle,hoveredStyle:r.hoveredButton,children:(0,V.jsx)(I().A,{isBottomItem:!0,children:(0,V.jsx)(s().sA,{defaultMessage:"{numTeams} more teamspaces...",id:"teamBrowserOutliner.moreTeamsButton",values:{numTeams:l}})})})]})}function z(){return 50}function G({teams:e,teamOutlinerType:t,sidebarState:o,spaceStore:i,scrollMargin:r}){const s=(0,a.useContext)(A().R),l=(0,n().K8)((()=>{var e;return null==s||null===(e=s.verticalScroller)||void 0===e?void 0:e.getStore().state.element}),[s]),d=(0,m().Te)({count:e.length,getScrollElement:()=>(null==l?void 0:l.deref())??null,estimateSize:z,overscan:10,scrollMargin:r});if(!o)return null;const c=d.getVirtualItems();return(0,V.jsx)("div",{style:{height:`${d.getTotalSize()}px`,width:"100%",position:"relative"},children:c.map((a=>{const n=e[a.index];return(0,V.jsx)("div",{"data-index":a.index,ref:d.measureElement,style:{position:"absolute",top:0,insetInlineStart:0,width:"100%",transform:`translateY(${a.start-d.options.scrollMargin}px)`},children:(0,V.jsx)(U,{team:n,spaceStore:i,sidebarState:o,teamOutlinerType:t})},a.key.toString())}))})}function Y({teams:e,teamOutlinerType:t,sidebarState:o,moreTeamsClicked:a,toggleMoreTeamsClicked:i,spaceStore:n,scrollMargin:r}){return(0,g().X)("virtualize_team_browser")?(0,V.jsx)(G,{teams:e,teamOutlinerType:t,sidebarState:o,spaceStore:n,scrollMargin:r}):(0,V.jsx)(W,{teams:e,teamOutlinerType:t,sidebarState:o,moreTeamsClicked:a,toggleMoreTeamsClicked:i,spaceStore:n})}function q({searchQuery:e,onClearSearchQueryClicked:t}){const o=(0,F().Rx)(),r=(0,n().O$)(p().AppStoreSidebarSpaceStore),l=(0,n().O$)(p().AppStoreSidebarSpaceViewStore),d=(0,i().v3)(),{teams:c}=(0,P().LN)({spaceStore:r}),u=(0,P().gc)({spaceStore:r,teams:c}).map((e=>e.store)),m=(0,g().X)("virtualize_team_browser"),{teams:w}=(0,P().T3)({spaceStore:r,canTruncateRecordMap:m,sort:"memberCount"}),x=(0,a.useMemo)((()=>[...w].sort(((e,t)=>{var o,a;return((null===(o=t.membershipSummary)||void 0===o?void 0:o.membersIncludingOwnersCount)??0)-((null===(a=e.membershipSummary)||void 0===a?void 0:a.membersIncludingOwnersCount)??0)}))),[w]),A=(0,n().uB)(void 0,f().A),j=e.trim(),N=(0,h().lW)(j,200,((e,t)=>e===t)),R=(0,n().K8)((()=>{if(""!==N)return(0,k().Ay)(N,[...c,...x],(e=>e.title??""))}),[c,N,x]),E=(0,n().K8)((()=>(0,B().sx)({environment:d,spaceStore:r})),[r,d]),[K,U]=(0,a.useState)(!1),[W,z]=(0,D().y)(),G=H();if(!r||!l||!o)return null;if(""!==N&&""!==j&&0===(null==R?void 0:R.length))return(0,V.jsxs)("div",{style:G.noFilterResultsContainer,children:[(0,S().k)(G.noFilterResultsIcon),(0,V.jsx)("div",{style:G.noFilterResultsTitle,children:(0,V.jsx)(s().sA,{id:"teamBrowserOutliner.noFilterResults.title",defaultMessage:"No results"})}),(0,V.jsx)("div",{style:G.noFilterResultsDescription,children:(0,V.jsx)(s().sA,{id:"teamBrowserOutliner.noFilterResults.description",defaultMessage:"Try again or <linkbutton>clear search</linkbutton>",values:{linkbutton:e=>(0,V.jsx)(M().A,{onClick:t,children:e})}})})]});const q=""!==N&&""!==j,$={shouldPersistToggleState:!1,spaceStore:r,spaceViewStore:l,showAddButton:!1};return(0,V.jsx)(C().d,{scrollerStore:A,scrollerStyle:G.scroller,children:q?(0,V.jsx)(T().Ay,{...$,type:_().GU,from:"main_sidebar",sectionLabel:(0,V.jsx)(s().sA,{defaultMessage:"Search results",id:"teamBrowserOutliner.searchResultsLabel"}),renderSidebar:()=>(0,V.jsx)(Y,{teams:R??[],teamOutlinerType:_().GU,sidebarState:o,moreTeamsClicked:K,toggleMoreTeamsClicked:U,spaceStore:r,scrollMargin:0})}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{ref:W,children:(0,V.jsx)(T().Ay,{...$,type:_().zt,from:"main_sidebar",labelTooltip:(0,V.jsx)(s().sA,{defaultMessage:"Teamspaces you have joined",id:"teamBrowserOutliner.joinedTeamsSection.tooltip"}),sectionLabel:(0,V.jsx)(s().sA,{defaultMessage:"Your teamspaces",id:"teamBrowserOutliner.joinedTeamsLabel"}),renderSidebar:({contentsAriaId:e})=>(0,V.jsx)(L().w,{teams:u,reorderable:!0,id:e,teamOutlinerType:_().zt,from:"secondary_sidebar"})})}),(0,V.jsx)(T().Ay,{...$,type:_().AX,from:"main_sidebar",labelTooltip:(0,V.jsx)(s().sA,{defaultMessage:"Teamspaces you can join",id:"teamBrowserOutliner.unjoinedTeamsSection.tooltip"}),sectionLabel:(0,V.jsx)(s().sA,{defaultMessage:"More teamspaces",id:"teamBrowserOutliner.unjoinedTeamsLabel"}),renderSidebar:()=>0===w.length?E?(0,V.jsx)(b().Ay,{onClick:()=>O().vn("browse_teams"),style:G.sidebarItemButtonStyle,children:(0,V.jsx)(I().A,{left:(0,V.jsx)(v().I,{icon:y().plusSmallIcon,size:"sm",colorVariant:"secondary"}),children:(0,V.jsx)(s().sA,{defaultMessage:"New teamspace",id:"teamBrowserOutliner.createTeamspaceButton"})})}):(0,V.jsx)("div",{style:G.noUnjoinedTeamsContainer,children:(0,V.jsx)(s().sA,{id:"teamBrowserOutliner.noUnjoinedTeams",defaultMessage:"No teamspaces to join"})}):(0,V.jsx)(Y,{teams:w,teamOutlinerType:_().AX,sidebarState:o,moreTeamsClicked:K,toggleMoreTeamsClicked:U,spaceStore:r,scrollMargin:z})})]})})}function H(){return(0,r().IS)((e=>({scroller:{height:"100%",paddingBottom:60,paddingInlineStart:8,paddingInlineEnd:8},noUnjoinedTeamsContainer:{marginInlineStart:15,...x().RC,fontSize:x().J.UIRegular.desktop},noFilterResultsContainer:{display:"flex",flexDirection:"column",padding:15,height:"100%",alignItems:"center",justifyContent:"center"},noFilterResultsTitle:{color:e.text.secondary,fontSize:x().J.UIRegular.desktop},noFilterResultsDescription:{color:e.text.secondary,fontSize:x().J.UIRegular.desktop,fontWeight:x().Wy.regular},noFilterResultsIcon:{width:30,height:30,marginBottom:10},sidebarItemButtonStyle:j().hG,hoveredButton:{background:e.sidebarItemSelectedBackground}})),[])}function $(){const e=(0,i().v3)(),t=(0,n().O$)(p().AppStoreSidebarSpaceStore),o=(0,n().O$)(p().AppStoreSidebarSpaceViewStore),[s,d]=(0,a.useState)(""),c=(0,a.useCallback)((e=>d(e)),[]),u=(0,a.useCallback)((()=>{l().ED(e,{from:"empty_results_reset_link"}),d("")}),[e]),m=(0,a.useCallback)((()=>{l().ED(e,{from:"search_input"}),d("")}),[e]),g=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},outlinerContainer:{overflow:"hidden",flexGrow:1}})),[]);return t&&o?(0,V.jsxs)("div",{style:g.container,children:[(0,V.jsx)(J,{onChange:c,searchQuery:s,onClearButtonClicked:m}),(0,V.jsx)("div",{style:g.outlinerContainer,children:(0,V.jsx)(q,{searchQuery:s,onClearSearchQueryClicked:u})})]}):null}function J({onChange:e,searchQuery:t,onClearButtonClicked:o}){const n=(0,i().v3)(),l=(0,s().tz)(),[p,m]=(0,a.useState)(!0),g=(0,r().IS)((e=>({input:{borderRadius:6,height:28,backgroundColor:e.whiteButtonBackground},inputWrapper:{paddingTop:4,paddingBottom:12,paddingInlineStart:16,paddingInlineEnd:16}})),[]),f=(0,a.useCallback)((t=>e(t.target.value)),[e]),b=(0,a.useCallback)((()=>m(!1)),[]),v=(0,a.useCallback)((()=>{d().IU({environment:n}),m(!0)}),[n]),h=l.formatMessage({defaultMessage:"Search teamspaces...",id:"sidebarTeamBrowserHeader.searchFilter.placeholderWithoutSpaceName"});return(0,V.jsx)(c().A,{debugName:"SidebarTeamBrowserHeader",capture:p,allowEsc:!0,children:(0,V.jsx)("div",{style:g.inputWrapper,children:(0,V.jsx)(u().A,{placeholder:h,focusInitial:!0,showClearButton:!0,style:g.input,value:t,onChange:f,onBlur:b,onFocus:v,onClearButtonClick:o})})})}var X=()=>o(511480),Z=()=>o(248140),Q=()=>o(279047),ee=()=>o(347930),te=()=>o(300789),oe=()=>o(317025),ae=()=>o(645873);const ie={BackToWorkspaceCallout:new(ae().O2)("BackToWorkspaceCallout",(async()=>o.e(21056).then(o.bind(o,230433))))},ne=(0,ae()._h)(ie.BackToWorkspaceCallout,(e=>e.BackToWorkspaceCallout));var re=()=>o(303742),se=(o(898992),o(354520),()=>o(848538)),le=()=>o(436856);var de=()=>o(635219),ce=()=>o(406999),ue=()=>o(620149),pe=()=>o(324561),me=()=>o(382302),ge=()=>o(668721);var fe=()=>o(152197),be=()=>o(134217),ve=()=>o(749240);var he=()=>o(21140),ye=()=>o(187174),Se=()=>o(534177),_e=()=>o(559506);var we=()=>o(644914),ke=()=>o(30537),xe=()=>o(285790),Me=()=>o(417392),Ce=()=>o(972435),Te=()=>o(320260),Ie=()=>o(481887),Ae=()=>o(749687);const je={calendar:(0,s().YK)({title:{id:"sidebar.appSwitcher.calendar.openTooltip",defaultMessage:"Open Notion Calendar"},subtitle:{id:"sidebar.appSwitcher.calendar.openTooltip.subtitle",defaultMessage:"Manage your personal life and work all in one place"},alt:{id:"sidebar.appSwitcher.calendar.openTooltip.alt",defaultMessage:"Notion Calendar promotional image"}}),mail:(0,s().YK)({title:{id:"sidebar.appSwitcher.mail.tooltip",defaultMessage:"Open Notion Mail"},subtitle:{id:"sidebar.appSwitcher.mail.openTooltip.subtitle",defaultMessage:"The self-organizing inbox, with everything you love about Notion"},alt:{id:"sidebar.appSwitcher.mail.openTooltip.alt",defaultMessage:"Notion Mail promotional image"}}),notionDesktopOpen:(0,s().YK)({title:{id:"sidebar.appSwitcher.desktopOpen.tooltip",defaultMessage:"Open in Notion for Desktop"},subtitle:{id:"sidebar.appSwitcher.desktop.openTooltip.subtitle",defaultMessage:"Load pages 50% faster, offline mode, AI meeting notes, and more"},alt:{id:"sidebar.appSwitcher.desktop.openTooltip.alt",defaultMessage:"Notion Application Icon with a paper airplane behind"}}),notionDesktopDownload:(0,s().YK)({title:{id:"sidebar.appSwitcher.desktopDownload.tooltip",defaultMessage:"Download Notion for Desktop"},subtitle:{id:"sidebar.appSwitcher.desktop.openTooltip.subtitle",defaultMessage:"Load pages 50% faster, offline mode, AI meeting notes, and more"},alt:{id:"sidebar.appSwitcher.desktop.openTooltip.alt",defaultMessage:"Notion Application Icon with a paper airplane behind"}})},Be={style:{transformOrigin:"50% bottom"},animationConfig:{duration:50,delay:0,timingFunction:"cubic-bezier(0.6, 0, 0.02, 1)"}};var Pe=()=>o(295418);const De=new(ae().O2)("CalendarAgendaView",(async()=>await Promise.all([o.e(65741),o.e(61533),o.e(50462)]).then(o.bind(o,730782)))),Ne=(0,ae()._h)(De,(e=>e.CalendarAgendaView));function Re(e){return(0,V.jsx)(Te().y,{style:e})}const Oe=(0,s().YK)({openTooltip:{id:"sidebar.appSwitcher.calendar.openTooltip",defaultMessage:"Open Notion Calendar"},exploreTooltip:{id:"sidebar.appSwitcher.calendar.exploreTooltip",defaultMessage:"Explore Notion Calendar"}});function Ee(e,t){const s=(0,n().O$)(Ae().sidebarWidthStore),l=(0,a.useRef)(null),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),m=(0,a.useRef)(),g=(0,a.useRef)(),f=(0,a.useCallback)((e=>{"function"==typeof t?t(e):t&&(t.current=e),l.current=e}),[t]),b=(0,i().v3)(),v=(0,o(464412).X)(),h=v?Oe.openTooltip:Oe.exploreTooltip,{onIconClick:y}=e,S=(0,a.useCallback)((()=>{y(),o(40970).uX(b),v?(0,o(645200).Op)({environment:b,spaceStore:void 0,collectionViewStore:void 0,from:"appSwitcher"}):(o(694498).A.setState({signupCtaAttribution:"appSwitcher"}),te().UW(b,"notion_calendar_launch_promo"))}),[b,v,y]),_=(0,n().K8)((()=>(0,o(583238).mX)()),[]),{days:w,eventsLoadingState:k,displayState:x}=(0,o(196459).O)("personal_home"),M={panelState:(0,o(658082).oM)(x),view:"notionAgendaView"},C=(0,r().IS)((()=>({button:{width:"28px",height:"28px"},icon:{width:20,height:20},popup:{display:"flex",flexDirection:"column",width:s-24+"px",maxHeight:"276px",minWidth:"376px",overflow:"visible",marginBottom:"10px"}})),[s]);if((0,a.useEffect)((()=>()=>{m.current&&(cancelAnimationFrame(m.current),m.current=void 0)}),[]),!_||"rejected"===k.status)return(0,V.jsx)(Pe().o,{ref:f,icon:Re,iconSize:20,label:_?Ce().A.formatMessage(h):void 0,onClick:S,onMouseEnter:e.showCalendarUpsellPopover});function T(){if(e.canShowCustomPopover){if(m.current&&(cancelAnimationFrame(m.current),m.current=void 0),e.hideUpsellPopover(),!g.current){const{panelState:e}=M;"connected_with_events"!==e&&"connected_no_events"!==e||(g.current=setTimeout((()=>(0,Ie().qL)({environment:b,calendarPanelContext:(0,Ie().sp)(M)})),200))}c(!0)}}function I(){g.current&&(clearTimeout(g.current),g.current=void 0),m.current=requestAnimationFrame((()=>{c(!1),p(!1)}))}return(0,V.jsx)(o(296060).a.Provider,{value:M,children:(0,V.jsx)(Me().Ay,{preventCaptureEsc:!0,forceInitialInbound:!0,disableDarkOverlayBackground:!0,trapFocus:!1,preventScaleTransition:!1,preventOpacityTransition:!1,popupWrapStyle:C.popup,disableMouseCapture:!0,open:d,popupType:ke().n.Popup,onAnimationEnd:()=>p(d),alignmentToOrigin:"center",placementToOrigin:"top",viewportPadding:6,originGap:6,style:Be.style,animationConfig:Be.animationConfig,render:()=>(0,V.jsx)(Ne,{iconRef:l,openAnimationEnded:u,isLoading:"resolved"!==k.status,days:w,onMouseOver:T,onMouseLeave:I}),origin:(0,V.jsx)(xe().A,{ref:f,style:C.button,iconStyle:C.icon,icon:Re,ariaLabel:Ce().A.formatMessage(h),onClick:S,onMouseEnter:T,onMouseLeave:I})})})}const Le=(0,a.forwardRef)(Ee);o(16280);var Fe=()=>o(564884),Ve=()=>o(242422),Ke=()=>o(449412),Ue=()=>o(391657),We=()=>o(131448),ze=()=>o(560198),Ge=()=>o(493552),Ye=()=>o(148307),qe=()=>o(8741),He=()=>o(995847),$e=()=>o(425946),Je=()=>o(100622),Xe=()=>o(710149),Ze=()=>o(478184);const Qe={calendar:(0,Ze().j)(Ye().A.images.connectedApps.accountCreationUpsellTooltip.calendar),mail:(0,Ze().j)(Ye().A.images.connectedApps.accountCreationUpsellTooltip.mail),notionDesktopOpen:(0,Ze().j)(Ye().A.images.connectedApps.accountCreationUpsellTooltip.notionDesktopOpen),notionDesktopDownload:(0,Ze().j)(Ye().A.images.connectedApps.accountCreationUpsellTooltip.notionDesktopDownload)};function et({calendarElement:e,mailElement:t,notionDesktopElement:o,hoveredAppTarget:i,imageFailedToLoad:n,setImageFailedToLoad:l,inAppCalloutHandlers:d,isAppTargetLoading:c}){const u=(0,Je().O4)({theme:"dark"}),p=(0,s().tz)(),[m,g]=(0,a.useState)(!1),f=Boolean(d);let h,y;switch(i){case"calendar":y=null==e?void 0:e.getBoundingClientRect();break;case"mail":y=null==t?void 0:t.getBoundingClientRect();break;case"notionDesktopOpen":case"notionDesktopDownload":y=null==o?void 0:o.getBoundingClientRect();break;default:y=void 0}y&&(h=y.left+1);const S=(0,r().IS)((e=>({container:{cursor:f?"pointer":"default",display:"flex",flexDirection:"column",padding:"4px",borderRadius:"10px",gap:"4px",background:u.background.accentPrimary,boxShadow:u.shadowMD},closeButton:{position:"absolute",top:"10px",insetInlineEnd:"10px",borderRadius:"12px",background:e.background.tertiaryTranslucent,backdropFilter:"blur(16px)"},closeButtonHovered:{background:(0,b().i)({color:e.background.tertiaryTranslucent,mode:e.mode})},closeButtonIcon:{fill:e.icon.primary},img:{borderStartStartRadius:8,borderStartEndRadius:8,borderEndEndRadius:4,borderEndStartRadius:4,width:"218px",height:"146px"},titleWrapper:{display:"flex",gap:"2px",alignItems:"center"},openIcon:{fill:m?u.icon.primary:u.icon.tertiary},text:{padding:"8px 10px",display:"flex",flexDirection:"column",alignSelf:"stretch",gap:"2px"},loadingText:{height:14,borderRadius:4,width:"100%",marginBottom:3},subtitle:{paddingBottom:"3px"},rectangle:void 0===h?{display:"none"}:{background:u.background.accentPrimary,transform:`translateX(${h}px) rotate(-45deg)`,borderRadius:"0px 2px",width:"14px",height:"14px",position:"absolute",bottom:"-7px",insetInlineStart:"0px",transition:"transform 100ms",transitionTimingFunction:Be.animationConfig.timingFunction,transformOrigin:"center",..."dark"===e.mode?{boxShadow:u.shadowMD,clipPath:"polygon(-1px 1px, -1px 15px, 13px 15px, 13px 1px)"}:{}}})),[h,u,m,f]),_=je[i],w=n?void 0:Qe[i],k=n?$e().M:(0,Ze().L)(Ye().A.images.connectedApps.accountCreationUpsellTooltip[i]["1XPng"]);return(0,V.jsx)(ze().wX,{mode:"dark",children:(0,V.jsxs)("div",{style:S.container,onMouseOver:()=>g(!0),onMouseOut:()=>g(!1),onClick:()=>null==d?void 0:d.onClick(),role:"button",tabIndex:-1,children:[(0,V.jsx)("img",{style:S.img,src:k,alt:p.formatMessage(_.alt),srcSet:w,onError:()=>l(!0)}),f?(0,V.jsx)(xe().A,{style:S.closeButton,hoveredStyle:S.closeButtonHovered,iconStyle:S.closeButtonIcon,ariaLabel:p.formatMessage({id:"dismiss_connected_app_upsell_popover",defaultMessage:"Close promotional tooltip for calendar or mail app buttons"}),icon:He().xMarkSmallIcon,onClick:e=>{e.stopPropagation(),null==d||d.onDismiss()}}):null,(0,V.jsxs)("div",{style:S.text,children:[(0,V.jsxs)("div",{style:S.titleWrapper,children:[c===i?(0,V.jsx)(Xe().A,{style:{...S.loadingText,width:"80%"}}):(0,V.jsx)(Ge().D,{styleKey:"Body-sm/Medium",colorVariant:"primary",children:(0,V.jsx)(s().sA,{..._.title})}),f?(0,V.jsx)(v().I,{icon:qe().arrowDiagonalUpRightSmallIcon,size:"sm",style:S.openIcon}):null]}),(0,V.jsx)("div",{style:S.subtitle,children:c===i?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Xe().A,{style:S.loadingText}),(0,V.jsx)(Xe().A,{style:S.loadingText})]}):(0,V.jsx)(Ge().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:(0,V.jsx)(s().sA,{..._.subtitle})})})]}),(0,V.jsx)("div",{style:S.rectangle})]})})}const tt="notion_mail_launch_2_callout",ot="notion_calendar_existing_user_activation_callout",at="notion_desktop_app_existing_user_callout";function it({children:e}){const t=(0,i().v3)(),[o,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(null),[c,u]=(0,a.useState)(null),[p,m]=(0,a.useState)(void 0),[g,f]=(0,a.useState)(!1),[b,v]=(0,a.useState)({current:void 0,previous:void 0});const{forcedCalloutPopover:h,inAppCalloutHandlers:y,onIconClick:S}=function({calendarElement:e,mailElement:t,notionDesktopElement:o}){const r=(0,i().v3)(),{forcedCalloutPopover:s,inAppCalloutMessage:l}=(0,n().K8)((()=>{const e=We().default.state.messages.get(ot);if(e)return{forcedCalloutPopover:"calendar",inAppCalloutMessage:e};const t=We().default.state.messages.get(tt);if(t)return{forcedCalloutPopover:"mail",inAppCalloutMessage:t};const o=We().default.state.messages.get(at);return o?{forcedCalloutPopover:"notionDesktopDownload",inAppCalloutMessage:o}:{forcedCalloutPopover:void 0,inAppCalloutMessage:void 0}}),[]);let d;switch((0,a.useEffect)((()=>{if(!l)return;if(!Ae().sidebarExpandedStore.state)return Ke().Fg(new Error("AppSwitcherUpsellPopoverManager: in-app callout message requested, but sidebar is closed."),{data:{inAppCalloutMessage:l}}),void te().OX(r,l);const e=new AbortController;return Ae().sidebarExpandedStore.waitUntil((()=>!Ae().sidebarExpandedStore.state),{signal:e.signal}).then((()=>{s&&te().OX(r,l)})).catch((()=>{})),()=>{e.abort()}}),[s,r,l]),s){case"calendar":d=e;break;case"mail":d=t;break;case"notionDesktopDownload":d=o}(0,a.useEffect)((()=>{d?d.focus():s&&(We().default.removeMessage(s),Ke().Fg(new Error("AppSwitcherUpsellPopoverManager: forced callout popover requested, but no target app element found."),{data:{forcedCalloutPopover:s}}))}),[s,d]);const{onClick:c,onDismiss:u}=(0,Ue().r)(l&&{message:l}),p=(0,a.useMemo)((()=>{if(s)return{onClick:()=>{var e;null===(e=d)||void 0===e||e.click(),te().OX(r,l)},onDismiss:u}}),[s,d,u,r,l]),m=(0,a.useCallback)((e=>{e===s&&(c(),te().OX(r,l))}),[s,c,r,l]);return{forcedCalloutPopover:s,inAppCalloutHandlers:p,onIconClick:m}}({calendarElement:o,mailElement:l,notionDesktopElement:c}),_=h??b.current,w=h??b.previous,k=Boolean(o),x=Boolean(l),M=Boolean(c),C={calendar:s,mail:d,notion:u},T=(0,n().K8)((()=>({calendar:k,mail:x&&Ve().default.checkGate({gateName:"connected_apps_upsell--mail"}),notionDesktopOpen:M&&Ve().default.checkGate({gateName:"adoption_desktop_appswitcher_entrypoint"}),notionDesktopDownload:M&&Ve().default.checkGate({gateName:"adoption_desktop_appswitcher_entrypoint"})})),[k,x,M]),I=(0,r().IS)((()=>({setupUpsell:{display:"flex",flexDirection:"column",width:"226px",overflow:"visible",boxShadow:"none"}})),[]),A=Boolean(_&&T[_]);return(0,a.useEffect)((()=>{if(h)return;const e=setTimeout((()=>{_&&A&&(0,Fe().u)({environment:t,event:{eventName:"connected_apps_app_switcher_upsell_presented",eventProperties:{app_target:_}}})}),200);return()=>{clearTimeout(e)}}),[_,t,A,h]),(0,V.jsx)(Me().Ay,{preventCaptureEsc:!0,suppressOriginContext:!0,forceInitialInbound:!0,disableDarkOverlayBackground:!0,disableMouseCapture:!0,trapFocus:!1,preventScaleTransition:!1,preventOpacityTransition:!1,preventSlideUpTransition:!1,open:Boolean(_),popupType:ke().n.Popup,alignmentToOrigin:"start",placementToOrigin:"top",viewportPadding:6,originGap:6,style:Be.style,animationConfig:Be.animationConfig,popupWrapStyle:I.setupUpsell,render:()=>w&&T[w]&&(0,V.jsx)(et,{inAppCalloutHandlers:y,imageFailedToLoad:g,setImageFailedToLoad:f,calendarElement:o,mailElement:l,notionDesktopElement:c,hoveredAppTarget:w,isAppTargetLoading:p}),origin:e({setElement:C,setTargetApplication:function(e){v((t=>({current:e,previous:e??t.current}))),e&&f(!1)},setLoading:m,onIconClick:S,canShowCustomPopover:!Boolean(h)})})}var nt=()=>o(402673),rt=()=>o(802149);function st(){const[e,t]=(0,a.useState)((0,rt().HU)()?"true":"not-yet-known"),[o,n]=(0,a.useState)(!0),[r,s]=(0,a.useState)(!1),l=(0,i().v3)(),d=(0,a.useRef)(!1),c=(0,a.useCallback)((()=>{n(!0)}),[]),u=(0,g().X)("connected_apps_upsell--mail")&&o&&"true"!==e,p=(0,a.useCallback)((async()=>{if(!u)return;if(r)return;s(!0);const e=await async function({environment:e}){try{const t=await _e().callApi({eventName:"getIsMailUser",environment:e,data:{}});if("success"===t.type)return t.data.isMailUser}catch(t){return}}({environment:l});s(!1),void 0!==e&&(t(e?"true":"false"),n(!1),e&&(0,rt().L_)(),window.removeEventListener("blur",c),window.addEventListener("blur",c,{once:!0}))}),[u,r,l,c]);return(0,a.useEffect)((()=>{if(!u)return;if(d.current)return;d.current=!0;(0,nt().$)((()=>{p()}),2e3)}),[p,u]),(0,a.useEffect)((()=>()=>{window.removeEventListener("blur",c)}),[c]),{isMailUser:e,checkMailUser:p}}var lt=()=>o(778450),dt=()=>o(577142),ct=()=>o(767877),ut=()=>o(471995),pt=()=>o(104012);var mt=()=>o(597755),gt=()=>o(112799),ft=()=>o(288856);const bt=(0,s().YK)({notOpeningPrompt:{id:"openInDesktopApp.notOpeningPrompt",defaultMessage:"Not opening?"},downloadDesktopApp:{id:"openInDesktopApp.downloadDesktopApp",defaultMessage:"Downloading Notion for Desktop. Already have the app?"}});async function vt(e){const{environment:t,from:o,isRegistered:a,alwaysAttemptOpenNativeApp:i}=e,n=(0,mt().P)(window.location.href);a?((0,Fe().u)({environment:t,event:{eventName:"open_desktop_app_from_notion",eventProperties:{from:o,always_attempt_open_native_app:i}}}),(0,ct().e)({environment:t,url:n}),function(e){const{item:t,downloadDesktopCallback:o}=e;ut().D6({...t,right:(0,V.jsx)(pt().jj,{downloadDesktopCallback:o})})}({item:{label:Ce().A.formatMessage(bt.notOpeningPrompt),durationMs:1e4},downloadDesktopCallback:()=>{ht({environment:t,from:"appSwitcher"})}})):await ht({environment:t,from:"appSwitcher"})}async function ht(e){const{environment:t,from:o}=e,a=await(0,gt().a)(t.device);a&&((0,ft().p)({environment:t,from:o}),(0,dt().navigate)({environment:t,url:a,openInNew:"tab"}),ut().Sy(),function(e){const{item:t,openDesktopCallback:o}=e;ut().D6({...t,right:(0,V.jsx)(pt().zn,{openDesktopCallback:o})})}({item:{label:Ce().A.formatMessage(bt.downloadDesktopApp),durationMs:1e4},openDesktopCallback:()=>{vt({environment:t,from:"appSwitcher",isRegistered:!0})}}))}const yt=(0,s().YK)({tooltip:{id:"desktopAppSwitcher.tooltip",defaultMessage:"Get the desktop app"}});function St(e,t){const{showDesktopUpsellPopover:r}=e,l=(0,i().v3)(),d=(0,n().O$)(o(63728).l),c=(0,a.useRef)(null),u=(0,o(93583).A)(t,c),p=(0,s().tz)(),m=(0,a.useCallback)((async e=>{if(null!==d)r({isRegistered:d});else{r({isRegistered:!1,isLoading:!0});const e=await(0,lt().e)(l);c.current&&c.current.matches(":hover")&&r({isRegistered:e,isLoading:!1})}}),[r,l,d]),g=(0,a.useCallback)((async()=>{let e=d;(0,Fe().u)({environment:l,event:{eventName:"click_desktop_sidebar_link",eventProperties:{}}}),null===e&&(e=await(0,lt().e)(l)),vt({environment:l,from:"appSwitcher",isRegistered:Boolean(e)})}),[l,d]);return(0,V.jsx)(Pe().o,{label:e.shouldShowDefaultTooltip?p.formatMessage(yt.tooltip):void 0,ref:u,icon:o(182183).notionTintableIcon,iconSize:17,onClick:g,onMouseEnter:m})}const _t=(0,a.forwardRef)(St);var wt=()=>o(406533),kt=()=>o(148024),xt=()=>o(406699),Mt=()=>o(682759),Ct=()=>o(735824),Tt=()=>o(51367),It=()=>o(432229),At=()=>o(612900);const jt=(0,s().YK)({title:{defaultMessage:"Guides have moved",id:"GuidesMovedTooltip.title"},body:{defaultMessage:"Find them and other helpful Notion resources in the help menu.",id:"GuidesMovedTooltip.body"}});function Bt({children:e,shouldShow:t}){const o=(0,i().v3)(),n=(0,s().tz)(),l=(0,a.useRef)(null),[d,c]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=l.current;if(!e)return;const t=new IntersectionObserver((([e])=>{c(e.isIntersecting)}));return t.observe(e),()=>t.disconnect()}),[t]);const u=(0,a.useCallback)((()=>l.current),[]),p=(0,Ct().r)({getElement:t?u:void 0}),m=t&&Boolean(p)&&d;(0,a.useEffect)((()=>{m&&(0,Tt().DL)(o,{callout_key:"sidebar_documentation_link_moved_tooltip",placement_key:"Tooltip"})}),[o,m]);const g=(0,a.useCallback)((()=>{te().a(o,"sidebar_documentation_link_moved_tooltip"),(0,Tt().Sq)(o,{callout_key:"sidebar_documentation_link_moved_tooltip",placement_key:"Tooltip",dismiss_type:"tooltip_dismiss"})}),[o]),f=(0,a.useCallback)((e=>{(0,Tt().Y5)(o,{callout_key:"sidebar_documentation_link_moved_tooltip",placement_key:"Tooltip",click_type:"primary_cta"}),te().a(o,"sidebar_documentation_link_moved_tooltip")}),[o]),b=(0,r().IS)((()=>({buttonWrapper:{position:"relative",height:28},buttonHaloWrapper:{position:"absolute",insetInlineStart:0,display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"}})),[]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{style:b.buttonWrapper,children:[t?(0,V.jsx)("div",{style:b.buttonHaloWrapper,children:(0,V.jsx)(At().u,{shape:"circle",size:18,children:(0,V.jsx)("div",{})})}):null,(0,V.jsx)("div",{role:"button",tabIndex:0,ref:l,onClick:f,children:e})]}),t?(0,V.jsx)(Me().Ay,{popupType:Me().nl.Popup,open:m,originRect:p,placementToOrigin:"left",alignmentToOrigin:"center",originGap:12,preventCaptureEsc:!0,preventPointerEvents:!1,enableOutsideClickDismiss:!1,trapFocus:!1,disableContentScroll:!1,disableMouseCapture:!0,render:()=>(0,V.jsx)(It().P,{title:n.formatMessage(jt.title),body:n.formatMessage(jt.body),icon:Mt().s,onDismiss:g})}):null]})}var Pt=()=>o(240562),Dt=()=>o(732797),Nt=()=>o(833813),Rt=()=>o(869562);const Ot=new(o(463830).A),Et=(0,s().YK)({caption:{id:"sidebar.appSwitcher.help.caption",defaultMessage:"Help"},tooltip:{id:"sidebar.appSwitcher.help.tooltip",defaultMessage:"Help, contact, more..."}});function Lt(){var e;const t=(0,i().v3)(),o=(0,s().tz)(),{isPhone:r,isTablet:l}=(0,i().Y0)(),d=(0,F().Rx)(),c=(null===(e=t.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone())||!1,u="labeled_icon"===(null==d?void 0:d.documentationLinkLocation),m=(0,a.useCallback)((async()=>{await(0,te().HH)(t,"sidebar_documentation_link_moved_tooltip")&&!(0,we().KB)(t)&&Rt().setExpand({environment:t,isExpanded:!0,from:"sidebar_documentation_link_moved_tooltip",saveDetailsSidebarPreference:!0})}),[t]),g=(0,n().K8)((()=>{var e;const t=null===(e=p().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getSettings();return(null==t?void 0:t.sidebar_documentation_link_first_seen_at)&&!(0,Nt().G)(t)}),[]);(0,a.useEffect)((()=>{g&&m()}),[g,m]);const f=(0,n().K8)((()=>We().default.isVisible("sidebar_documentation_link_moved_tooltip")&&(0,we().KB)(t)&&!Ae().sidebarAnimatingStore.state),[t]);return(0,V.jsx)(Bt,{shouldShow:f,children:(0,V.jsx)(xt().A,{buttonPopupStore:l?Dt().A:Ot,hidesMobileNativeBottomBar:c,preventSlideUpTransition:c,popupType:l?xt().z.BottomSheet:r?xt().z.SlideUp:xt().z.Popup,bottomSheetInitialState:l?"half":"full",onClick:()=>{l||Dt().A.setState({...Dt().A.state,open:!0}),kt().VX(t,{from:"appswitcher"})},onClose:()=>{l||Dt().A.setState({...Dt().A.state,open:!1})},alignmentToOrigin:"end",placementToOrigin:"top",originGap:4,renderOrigin:e=>(0,V.jsx)(Pe().o,{icon:wt().questionMarkCircleIcon,iconSize:20,label:o.formatMessage(Et.tooltip),caption:u?o.formatMessage(Et.caption):void 0,...e}),render:()=>(0,V.jsx)(Pt().p,{fromForAnalytics:"appswitcher"})})})}function Ft(e,t){const n=(0,i().v3)(),r=(0,s().tz)(),{onIconClick:l}=e,d=(0,a.useCallback)((()=>{l(),function(e){(0,Fe().u)({environment:e,event:{eventName:"click_mail_sidebar_link",eventProperties:{}}})}(n),(0,o(838824).Z)({environment:n,from:"appSwitcher"})}),[n,l]);return(0,V.jsx)(Pe().o,{label:"false"!==e.isMailUser?r.formatMessage(je.mail.title):void 0,ref:t,icon:o(333461).F,iconSize:20,onClick:d,onMouseEnter:"false"===e.isMailUser?e.showMailUpsellPopover:void 0})}const Vt=(0,a.forwardRef)(Ft),Kt=new(ae().O2)("MWNAppSwitcherItem",(async()=>await o.e(27372).then(o.bind(o,773080)))),Ut=(0,ae()._h)(Kt,(e=>e.MWNAppSwitcherItem));function Wt({}){const{isTablet:e,desktopTargetPlatform:t,isDesktopBrowser:o}=(0,i().Y0)(),a=(0,i().v3)(),{isMailUser:s,checkMailUser:l}=st(),d=(0,g().X)("adoption_desktop_appswitcher_entrypoint"),c=(0,n().O$)(p().AppStoreSidebarSpaceStore),u="msStore"===t,m=(0,n().K8)((()=>(0,we().mM)(a,c)),[a,c]),{isNotionMailDisabled:f}=function(e){const{environment:t}=e,[{status:o,error:a,value:i}]=(0,ye().Yb)((async()=>{const e=await _e().callApi({eventName:"getEmailDomainSettings",environment:t,data:{}});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,Se().HB)(e)}),[t]);return{loading:"pending"===o||"idle"===o,error:a,isNotionMailDisabled:Boolean(null==i?void 0:i.settings.disable_notion_mail)}}({environment:a}),b=(0,g().X)("mwn_announcement_modal_2025"),v=!f&&!u,h=!(!o||!d)||void 0,y=(0,r().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e?"13px 16px":"10px 12px",boxSizing:"border-box"},appContainer:{display:"flex",alignItems:"center",gap:4}})),[e]);return(0,V.jsx)(it,{children:({setElement:e,onIconClick:t,setTargetApplication:o,setLoading:a,canShowCustomPopover:i})=>(0,V.jsxs)("div",{style:y.container,onMouseEnter:l,children:[(0,V.jsxs)("div",{style:y.appContainer,onMouseLeave:()=>o(void 0),children:[h?(0,V.jsx)(_t,{ref:e.notion,showDesktopUpsellPopover:({isRegistered:e,isLoading:t})=>{o(e?"notionDesktopOpen":"notionDesktopDownload"),a(t?"notionDesktopDownload":void 0)},shouldShowDefaultTooltip:!1}):void 0,m?(0,V.jsx)(Le,{ref:e.calendar,showCalendarUpsellPopover:()=>o("calendar"),hideUpsellPopover:()=>o(void 0),onIconClick:()=>t("calendar"),canShowCustomPopover:i}):void 0,v?(0,V.jsx)(Vt,{ref:e.mail,isMailUser:s,showMailUpsellPopover:()=>o("mail"),onIconClick:()=>t("mail")}):void 0]}),(0,V.jsxs)(he().Ye,{children:[b?(0,V.jsx)(Ut,{}):void 0,(0,V.jsx)(Lt,{})]})]})})}var zt=()=>o(832257),Gt=()=>o(917629),Yt=()=>o(650829),qt=()=>o(312788),Ht=()=>o(123423),$t=()=>o(427704),Jt=()=>o(314529);var Xt=()=>o(755199),Zt=()=>o(861243);const Qt=(0,s().YK)({title:{defaultMessage:"Student orgs get our free Plus plan here",id:"sidebar.studentPlanPrompt.title"},body:{defaultMessage:"Get access to premium features and add unlimited members in your student org workspace.",id:"sidebar.studentPlanPrompt.body"},cta:{defaultMessage:"Apply now",id:"sidebar.studentPlanPrompt.cta"}});function eo(){const{navigate:e}=(0,a.useContext)(qt().E),t=(0,s().tz)(),o=(0,i().v3)(),n=(0,a.useCallback)((()=>{!function(e){(0,Jt().DO_NOT_USE_trackLegacy)(e,"click_sidebar_student_org_promo")}(o),e({environment:o,url:$t().JZ.studentGroupSignup,openInNew:"tab"})}),[o,e]),r=(0,a.useCallback)((()=>{Xt().gV(o)}),[o]);return(0,V.jsx)(Zt().Y,{messageKey:"student_org_prompt",title:t.formatMessage(Qt.title),body:t.formatMessage(Qt.body),buttons:[{text:t.formatMessage(Qt.cta),rightIcon:Ht().arrowStraightRightFillIcon,onClick:n}],onDismiss:r})}var to=()=>o(403733),oo=()=>o(340498);const ao=(0,s().YK)({title:{id:"ai_meeting_notes_app_download.title",defaultMessage:"AI Meeting Notes, better on the Notion app"},body:{id:"ai_meeting_notes_app_download.body",defaultMessage:"Capture all sides of video calls and get notifications to start transcribing as meetings begin"},cta:{id:"ai_meeting_notes_app_download.cta",defaultMessage:"Download Notion app"}});function io(){const{navigate:e}=(0,a.useContext)(qt().E),t=(0,i().v3)(),o=(0,s().tz)(),n=(0,r().IS)((e=>({iconStyles:{width:oo().Ev.xs,height:oo().Ev.xs,fill:e.icon.primary}})),[]),l=(0,gt().E)(),d=(0,a.useCallback)((()=>{l.current&&e({environment:t,url:l.current,openInNew:"tab"})}),[t,l,e]),c=(0,a.useCallback)((()=>{d(),te().a(t,"ai_meeting_notes_browser_summary_app_download")}),[t,d]);return(0,V.jsx)(Zt().Y,{messageKey:"ai_meeting_notes_browser_summary_app_download",title:o.formatMessage(ao.title),body:o.formatMessage(ao.body),buttons:[{text:o.formatMessage(ao.cta),onClick:c,leftIcon:()=>(0,to().arrowStraightDownSmallIcon)(n.iconStyles)}]})}var no=()=>o(911964);const ro=(0,s().YK)({title:{id:"businessUpgradeOfferSidebarAnnouncement.title",defaultMessage:"Get the full Notion AI experience"},body:{id:"businessUpgradeOfferSidebarAnnouncement.body",defaultMessage:"Meeting Notes, Enterprise Search, Research Mode and more. Upgrade near your current price."},cta:{id:"businessUpgradeOfferSidebarAnnouncement.upgradeAction",defaultMessage:"Redeem now"}});function so(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,n().O$)(p().AppStoreSidebarSpaceStore),r=(0,pe()._3)({spaceId:null==o?void 0:o.id}),l=(0,a.useCallback)((()=>{(0,no().F)({environment:e,spaceStore:o,billingData:r,product:"business",from:"plus_ai_to_business_upgrade_offer_sidebar"}),te().a(e,"plus_ai_to_business_upgrade_offer_sidebar")}),[e,o,r]);return(0,V.jsx)(Zt().Y,{messageKey:"plus_ai_to_business_upgrade_offer_sidebar",title:t.formatMessage(ro.title),body:t.formatMessage(ro.body),imageSources:{light:Ye().A.images.pricing.light.rocketPng,dark:Ye().A.images.pricing.dark.rocketPng},buttons:[{text:t.formatMessage(ro.cta),onClick:l,rightIcon:Ht().arrowStraightRightFillIcon}]})}const lo=(0,s().YK)({titleWindows:{id:"desktop_download_sidebar.title.windows",defaultMessage:"Try Notion for Windows"},titleMac:{id:"desktop_download_sidebar.title.mac",defaultMessage:"Try Notion for Mac"},titleDefault:{id:"desktop_download_sidebar.title.desktop",defaultMessage:"Try Notion for Desktop"},bodyCopyPerformance:{id:"desktop_download_sidebar.body.copy_performance",defaultMessage:"Get up to 30% faster loading time with the Notion desktop app."},cta:{id:"desktop_download_sidebar.cta",defaultMessage:"Get the app"}});function co(){const{navigate:e}=(0,a.useContext)(qt().E),t=(0,i().v3)(),o=(0,i().Y0)(),n=(0,s().tz)(),l=(0,r().IS)((e=>({iconStyles:{width:oo().Ev.xs,height:oo().Ev.xs,fill:e.icon.primary}})),[]),d=o.isWindows?lo.titleWindows:o.isMac?lo.titleMac:lo.titleDefault,c=lo.bodyCopyPerformance,u=(0,gt().E)(),p=(0,a.useCallback)((()=>{u.current&&e({environment:t,url:u.current,openInNew:"tab"})}),[t,u,e]),m=(0,a.useCallback)((()=>{p(),te().a(t,"desktop_download_sidebar")}),[t,p]);return(0,V.jsx)(Zt().Y,{messageKey:"desktop_download_sidebar",title:n.formatMessage(d),body:n.formatMessage(c),buttons:[{text:n.formatMessage(lo.cta),onClick:m,leftIcon:()=>(0,to().arrowStraightDownSmallIcon)(l.iconStyles)}]})}var uo=()=>o(991249);const po=(0,s().YK)({title:{id:"resurrectionOfferSidebarAnnouncement.title",defaultMessage:"Work smarter"},body:{id:"resurrectionOfferSidebarAnnouncement.body",defaultMessage:"Unlimited content, charts and more. Get Plus at 50% off for 3 months."},cta:{id:"resurrectionOfferSidebarAnnouncement.upgradeAction",defaultMessage:"Redeem now"}});function mo(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,a.useCallback)((()=>{uo().K(e,{from:"resurrection_offer_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}),te().a(e,"resurrection_offer_sidebar")}),[e]);return(0,V.jsx)(Zt().Y,{messageKey:"resurrection_offer_sidebar",title:t.formatMessage(po.title),body:t.formatMessage(po.body),imageSources:{light:Ye().A.images.pricing.light.rocketPng,dark:Ye().A.images.pricing.dark.rocketPng},buttons:[{text:t.formatMessage(po.cta),onClick:o,rightIcon:Ht().arrowStraightRightFillIcon}]})}o(944114);var go=()=>o(782215),fo=()=>o(832895);function bo(e){const{message:t}=e,o=(0,i().v3)(),n=(0,a.useCallback)((()=>{t.props.buttonLink?window.open(t.props.buttonLink):t.props.action&&(0,go().W)({action:t.props.action,environment:o,metadata:t.props.metadata})}),[t,o]),r=[];return t.props.buttonText&&r.push({text:t.props.buttonText,rightIcon:Ht().arrowStraightRightFillIcon,onClick:n}),(0,V.jsx)(fo().Ue,{children:(0,V.jsx)(Ue().g,{message:t,title:t.props.title,body:t.props.body,buttons:r,imageSources:t.props.imageUrl?{light:t.props.imageUrl,dark:t.props.imageUrlDarkMode??t.props.imageUrl}:void 0})})}const vo=(0,s().YK)({title:{defaultMessage:"Startups get up to 6 months free of Plus and AI",id:"callouts.startupSidebarCallout.title"},body:{defaultMessage:"Get access to premium features and add unlimited members in your student org workspace.",id:"callouts.startupSidebarCallout.body"},cta:{defaultMessage:"Apply now",id:"callouts.startupSidebarCallout.cta"}});function ho(){const{navigate:e}=(0,a.useContext)(qt().E),t=(0,s().tz)(),o=(0,i().v3)(),n=(0,a.useCallback)((()=>{e({environment:o,url:$t().JZ.startupsApplication,openInNew:"tab"})}),[o,e]);return(0,V.jsx)(Zt().Y,{messageKey:"startup_sidebar_footer",title:t.formatMessage(vo.title),body:t.formatMessage(vo.body),buttons:[{text:t.formatMessage(vo.cta),rightIcon:Ht().arrowStraightRightFillIcon,onClick:n}]})}var yo=()=>o(165358),So=()=>o(940563),_o=()=>o(477293),wo=()=>o(215152);const ko=(0,s().YK)({titleV1:{id:"try_notion_for_work_sidebar_callout_revamped.v1.title",defaultMessage:"Keep work and personal life separate"},contentV1:{id:"try_notion_for_work_sidebar_callout_revamped.v1.content",defaultMessage:"Add your work email to create a space just for work. Switch accounts anytime."},titleV2:{id:"try_notion_for_work_sidebar_callout_revamped.v2.title",defaultMessage:"Using Notion for work is easy"},contentV2:{id:"try_notion_for_work_sidebar_callout_revamped.v2.content",defaultMessage:"Add your work email to create a space just for work. Switch accounts anytime."},titleV3:{id:"try_notion_for_work_sidebar_callout_revamped.v3.title",defaultMessage:"Try a workspace made for work"},contentV3:{id:"try_notion_for_work_sidebar_callout_revamped.v3.content",defaultMessage:"Add your work email to unlock a space with project and meeting tools."},cta:{id:"try_notion_for_work_sidebar_callout_revamped.cta",defaultMessage:"Add your work account"}});function xo(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,r().IS)((e=>({iconStyles:{width:oo().Ev.xs,height:oo().Ev.xs,fill:e.icon.primary}})),[]),n=(0,_o().r)("b2c2b_sidebar_callout_flow"),l=(0,a.useMemo)((()=>{switch(n){case"copy1":return t.formatMessage(ko.titleV1);case"copy2":return t.formatMessage(ko.titleV2);case"copy3":return t.formatMessage(ko.titleV3);default:return yo().log({data:{miscDataToConvertToString:{message:"Control group should not be shown"}},from:"TryNotionForWorkSidebarCallout",level:"error",type:"renderCalloutTitle"}),""}}),[n,t]),d=(0,a.useMemo)((()=>{switch(n){case"copy1":return t.formatMessage(ko.contentV1);case"copy2":return t.formatMessage(ko.contentV2);case"copy3":return t.formatMessage(ko.contentV3);default:return yo().log({data:{miscDataToConvertToString:{message:"Control group should not be shown"}},from:"TryNotionForWorkSidebarCallout",level:"error",type:"renderCalloutContent"}),""}}),[n,t]),c=(0,a.useCallback)((()=>{(0,rt().P1)("notion_for_work"),wo().B.setState({open:!0,isTryNotionForWork:!0}),te().a(e,"try_notion_for_work_sidebar_callout_revamped")}),[e]);return(0,V.jsx)(Zt().Y,{messageKey:"try_notion_for_work_sidebar_callout_revamped",imageSources:{light:Ye().A.images.sidebar.menLyingDownReadingPng,dark:Ye().A.images.sidebar.menLyingDownReadingDarkModePng},imageHeight:40,imageMarginLeft:8,imageMarginTop:4,title:l,body:d,buttons:[{text:t.formatMessage(ko.cta),onClick:c,rightIcon:()=>(0,So().arrowStraightRightIcon)(o.iconStyles)}]})}var Mo=()=>o(97835),Co=()=>o(134696),To=()=>o(369955),Io=()=>o(766343),Ao=()=>o(478873);const jo=(0,s().YK)({title:{defaultMessage:"Invite members",id:"inviteMembersNudge.message"},body:{defaultMessage:"Collaborate with your team.",id:"inviteMembersNudge.body"}});function Bo({permissionsInviteStore:e}){const t=(0,s().tz)(),o=(0,i().v3)(),r=(0,To().L)(),{canShowInviteMembers:l,canRequestMembers:d}=(0,n().K8)((()=>(0,Ao().Y)(r)),[r]),c=(0,a.useCallback)((()=>{r&&l&&e&&(r.canEditMembership()&&(null==e||e.setState({...e.state,modalOpen:!0}),Co().vX(o,{type:"invite",from:"sidebar_footer"})),d&&(Io().A.open(),Co().vX(o,{type:"request",from:"sidebar_footer"})))}),[o,d,r,e,l]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(Zt().Y,{messageKey:"invite_members_sidebar_callout",icon:Mo().inviteMemberIcon,title:t.formatMessage(jo.title),body:t.formatMessage(jo.body),onClick:c}),r&&e?(0,V.jsx)(ee().H,{targetStore:r,spaceStore:r,permissionsInviteStore:e,membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,origin:(0,V.jsx)("div",{}),upgradeButtonName:"space_permission_settings",analyticsFrom:"sidebar_footer_invite_button",onInviteClick:oe().$D,onInviteComplete:oe().c3}):void 0]})}var Po=()=>o(12314),Do=()=>o(582094),No=()=>o(209660),Ro=()=>o(957599);const Oo=(0,s().YK)({title:{id:"collaboration_callout.title",defaultMessage:"Find friends to collaborate with"},body:{id:"collaboration_callout.body",defaultMessage:"Import your contacts to start collaborating with your friends."},cta:{id:"collaboration_callout.ctaImportContacts",defaultMessage:"Import contacts"}});function Eo(){const e=(0,s().tz)(),t=(0,a.useCallback)((()=>{No().Ow({currentTab:"members",subtab:"members"}),Ro().F.openImportDropdown({shouldAddMembers:!1})}),[]);return(0,V.jsx)(Zt().Y,{messageKey:"collaboration_callout",title:e.formatMessage(Oo.title),body:e.formatMessage(Oo.body),icon:Do().personCropCircleBadgePlusIcon,buttons:[{text:e.formatMessage(Oo.cta),onClick:t,rightIcon:Ht().arrowStraightRightFillIcon}]})}var Lo=()=>o(920495),Fo=()=>o(755362),Vo=()=>o(1130);const Ko=(0,s().YK)({title:{id:"sidebar.createPagePanel.title",defaultMessage:"Create a new page"},body:{id:"sidebar.createPagePanel.description",defaultMessage:"Start from scratch with a blank page."},cta:{id:"sidebar.createPagePanel.button",defaultMessage:"New page"}});function Uo(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,a.useCallback)((async()=>{await async function(e){const{environment:t,panelType:o}=e;(0,Fo().e)(t,{panel_type:o,action_type:"create"}),await Vo().startOnboarding(t,{type:"create-or-join",source:"public_share_link"})}({environment:e,panelType:"create_page"})}),[e]);return(0,V.jsx)(Zt().Y,{messageKey:"anyone_with_the_link_sidebar_callout",title:t.formatMessage(Ko.title),body:t.formatMessage(Ko.body),icon:Lo().n,buttons:[{text:t.formatMessage(Ko.cta),onClick:o,rightIcon:Ht().arrowStraightRightFillIcon}]})}var Wo=()=>o(604995),zo=()=>o(529099),Go=()=>o(231297),Yo=()=>o(807778),qo=()=>o(450930);function Ho(e,t,o){if(o){if("warning"===t){if("settings"===e)return{disableWarningNotificationInSettings:!0,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate};if("sidebar"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:!0,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate}}if("limit_reached"===t){if("settings"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:!0,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate};if("sidebar"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:!0,expirationDate:o.expirationDate}}}return{disableWarningNotificationInSettings:"warning"===t&&"settings"===e,disableWarningNotificationInSidebar:"warning"===t&&"sidebar"===e,disableLimitNotificationInSettings:"limit_reached"===t&&"settings"===e,disableLimitNotificationInSidebar:"limit_reached"===t&&"sidebar"===e,expirationDate:(0,Wo().K1)({date:Date.now(),daysToAdd:7})}}const $o=function(e){const t=(0,i().v3)(),l=(0,s().tz)(),d=t.currentUser.id,c=(0,n().K8)((()=>(0,Yo().up)(t)),[t]),u=(0,fe().r)(),m=(0,o(329304)._X)({name:"ai_usage",spaceId:u,userId:d,amount:"unknown"}),{canUserRequestUpgrade:g,openModal:f,userHasPendingRequest:b}=(0,o(270812).E)({type:"feature",featureAvailability:m,entrypoint:"ai_limit_nudge_sidebar",analyticsEntrypoint:"ai_limit_nudge_sidebar",isOptimisticUpsell:!1});(0,a.useEffect)((()=>{Tt().DL(t,{callout_key:"ai_limit_nudge",placement_key:"SidebarFooter"})}),[t]);const v=(0,r().IS)((e=>({requestedIcon:{color:e.icon.tertiary,width:16,height:16}})),[]);if(!d)return null;const h=c&&g,y=c&&b;if("settings"===e.source)return null;if(void 0===m||(0,o(985529).e2)(m))return null;const S=m.limit.current,_="unlimited"===m.limit.total?0:m.limit.total,w=_?Number(S/_):0;if(w<me()._)return null;const k=w>=me().G?"limit_reached":"warning",x=function(e,t){return"warning"===e?t.formatMessage({id:"addOnLimitUsage.approachingAiLimitDescription",defaultMessage:"You're actively using AI. Upgrade to get to ideas and answers, faster"}):t.formatMessage({id:"addOnLimitUsage.reachedAiLimitDescription",defaultMessage:"You're out of free responses"})}(k,l),M=function(e){return e?(0,V.jsx)(s().sA,{id:"addOnLimitUsage.requestedAiLimitTooltip",defaultMessage:"You’ve already requested Notion AI to your workspace owner."}):null}(y),C=l.formatMessage({id:"spaceSettings.sidebar.addOnUpgradeLink",defaultMessage:"Notion AI"}),T=function(e,t,o,a){if(a)return t.formatMessage({id:"addOnLimitUsage.hasAlreadyRequested",defaultMessage:"Requested"});if(o)return t.formatMessage({id:"addOnLimitUsage.requestAiCta",defaultMessage:"Request Notion AI"});return"warning"===e?t.formatMessage({id:"addOnLimitUsage.approachingLimitCta",defaultMessage:"Unlock Notion AI"}):t.formatMessage({id:"addOnLimitUsage.reachedLimitCta",defaultMessage:"Upgrade now"})}(k,l,h,y);return(0,V.jsx)(Zt().Y,{messageKey:"ai_limit_nudge",title:C,body:(0,V.jsxs)(V.Fragment,{children:[x,M?(0,V.jsx)(qo().B,{tooltipMessage:M,tooltipWidth:"250px"}):null]}),icon:zo().aiFaceIcon,onDismiss:()=>function(e,t,o){var a;const{currentUserSettingsStore:i}=p().default.state;if(!i)return;const n={addOnLimitNotifications:Ho(t,o,null===(a=i.getSettings())||void 0===a?void 0:a.addOnLimitNotifications)};Go().createAndCommit({userAction:"addOnLimitNotifications.ai.markNotificationAsDismissed",environment:e,canUndo:!0,perform:e=>{Xt().mJ({transaction:e,userSettingsStore:i,data:n})}}),te().a(e,"ai_limit_nudge"),Tt().Sq(e,{callout_key:"ai_limit_nudge",dismiss_type:"sidebar_dismiss",placement_key:"SidebarFooter"})}(t,e.source,k),buttons:[{text:T,onClick:()=>function(e,t,o,a,i){o?i():uo().K(e,{from:"sidebar"===t?"ai_limit_sidebar":"ai_limit_settings",upsell:a});Tt().Y5(e,{callout_key:"ai_limit_nudge",click_type:"primary_cta",placement_key:"SidebarFooter"})}(t,e.source,h,m.upsell,f),rightIcon:y?void 0:Ht().arrowStraightRightFillIcon,leftIcon:y?()=>(0,o(209969).checkmarkCircleFillIcon)(v.requestedIcon):void 0,disabled:y}]})};var Jo=()=>o(916833),Xo=()=>o(725340),Zo=()=>o(859428);function Qo(e){return(0,V.jsx)(fo().Ue,{children:(0,V.jsx)(fo().wY,{...e})})}var ea=()=>o(699143),ta=()=>o(406094),oa=()=>o(460292),aa=()=>o(78901),ia=()=>o(120303);function na(e){const{title:t,description:o,cta:a,onClick:i,onDismiss:n,icon:s,iconStyle:l,progressFilledColor:d,progressPercent:c,isButtonDisabled:u,iconGroup:p,iconColorPalette:m,iconColorVariant:g}=e,f=(0,r().IS)((e=>({button:{width:"100%",border:`1px solid ${e.border.primary}`,borderRadius:6},buttonContainer:{width:"100%"},cardContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:12,paddingInlineEnd:14,paddingBottom:20,paddingInlineStart:14,gap:8,borderTop:`1px solid ${e.state.hover}`},contentWrapper:{display:"flex",padding:"0px 6px",flexDirection:"column",alignItems:"flex-start",gap:12,width:"100%"},cta:{textDecoration:"underline"},dismissButton:{position:"relative",top:0,insetInlineEnd:0,insetInlineStart:4,background:"none"},filledBar:{color:e.icon.tertiary},icon:{width:16,color:e.icon.secondary},unfilledBar:{color:e.background.tertiaryTranslucent}})),[]),b=void 0!==c;return(0,V.jsxs)("div",{style:f.cardContainer,children:[(0,V.jsxs)(ea().Y1,{direction:"horizontal",gap:"auto",align:"center",padding:"0px 0px 0px 2px",children:[s?s({...f.icon,...l}):null,p?(0,V.jsx)(oa().Q,{iconGroup:p,variantName:"large",colorPalette:m,colorVariant:g}):null,void 0!==n?(0,V.jsx)(ia().R,{onClick:n,style:f.dismissButton}):void 0]}),(0,V.jsxs)("div",{style:f.contentWrapper,children:[(0,V.jsxs)(ea().Y1,{gap:b?8:4,children:[(0,V.jsx)(Ge().D,{styleKey:"Body/Medium",colorVariant:"primary",children:t}),b?(0,V.jsx)(aa().z,{percentage:100*c,height:6,filledColor:d??f.filledBar.color,unfilledColor:f.unfilledBar.color}):void 0,(0,V.jsx)(Ge().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:o})]}),(0,V.jsx)("div",{style:f.buttonContainer,children:(0,V.jsx)(ta().A,{size:"lg",onClick:i,disabled:u,disabledFeedback:u,style:f.button,children:(0,V.jsx)(Ge().D,{styleKey:"Body-sm/Medium",colorVariant:"primary",children:a})})})]})]})}var ra=()=>o(647621),sa=()=>o(979340);function la(){const e=(0,i().v3)();return(0,n().K8)((()=>{var t;const o=null===(t=p().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,a=ve().subscriptionDataStoreInstance.state;return a&&o?{blockUsage:be().hr(e,a,o),percentageUsed:be().Bl(e,a,o)}:void 0}),[e])}function da(){const e=(0,i().v3)(),t=(0,fe().r)();return(0,n().K8)((()=>{const o=ve().subscriptionDataStoreInstance.state;return!!t&&(!!o&&be().z8(e,o,t))}),[e,t])}const ca=function(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,r().IS)((e=>({tooltip:{width:"210px"}})),[]),l=(0,n().K8)((()=>(0,Yo().Km)(e)),[e]),d=da(),c=(0,n().K8)((()=>be().qc(ve().subscriptionDataStoreInstance.state)),[]),u=la();(0,a.useEffect)((()=>{Tt().DL(e,{callout_key:"block_limit_nudge",placement_key:"SidebarFooter"})}),[e]);const p=(0,a.useCallback)((()=>{c?(uo().K(e,{from:"block_limit_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}),Tt().Y5(e,{callout_key:"block_limit_nudge",variant:"approaching_block_limit",click_type:"primary_cta",placement_key:"SidebarFooter"})):No().Ow({currentTab:"members"})}),[e,c]),m=c?t.formatMessage(ra().XZ.reachedBlockLimitCta):t.formatMessage(ra().XZ.reachedBlockLimitCtaForMembers);return d?l?(0,V.jsx)(Zo().A,{placement:"right",style:o.tooltip,render:e=>(0,V.jsx)("span",{...e,children:(0,V.jsx)(Qo,{title:t.formatMessage(ra().xc.approachingBlockLimitTitle),body:t.formatMessage(ra().xc.approachingBlockLimitDescription),icon:Xo().U,iconColor:"yellow",buttons:[{text:m,rightIcon:Ht().arrowStraightRightFillIcon,onClick:p}]})}),renderTooltip:()=>t.formatMessage(ra().xc.approachingBlockLimitTooltip),textWrap:!0}):(0,V.jsx)(na,{title:t.formatMessage(ra().XZ.approachingBlockLimitTitle),description:(0,V.jsxs)(V.Fragment,{children:[t.formatMessage(ra().XZ.approachingBlockLimitDescription),(0,V.jsx)(qo().B,{tooltipMessage:t.formatMessage(ra().XZ.approachingBlockLimitTooltip,{percentageUsed:(0,V.jsx)(s().Gr,{value:u.percentageUsed,style:"percent",maximumSignificantDigits:2,maximumFractionDigits:0})})})]}),cta:c?(0,V.jsx)(s().sA,{id:"spaceSettings.sidebar.button.upgrade",defaultMessage:"Upgrade plan"}):(0,V.jsx)(s().sA,{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"}),iconGroup:Jo().z,iconColorPalette:"blue",iconColorVariant:"tertiary",onClick:p}):null};const ua=function(){const e=(0,i().v3)(),t=(0,To().L)(),l=(0,s().tz)(),d=(0,r().IS)((e=>({tooltip:{width:"210px"},tooltipDescription:{color:e.text.inverseSecondary}})),[]),c=(0,n().K8)((()=>t&&(0,o(665381).G)(e,t)),[e,t]),u=(0,n().K8)((()=>(0,Yo().Km)(e)),[e]),p=(0,n().K8)((()=>(0,Yo().Mh)(e)),[e]),m=(0,n().K8)((()=>(0,Yo().PK)()),[]),g=(0,n().K8)((()=>be().qc(ve().subscriptionDataStoreInstance.state)),[]),f=p&&m>0,b=(0,a.useCallback)((()=>{g&&!f?uo().K(e,{from:"block_limit_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}):No().Ow({currentTab:"members"})}),[e,g,f]);if(!c)return null;const v=g?f?l.formatMessage(ra().XZ.manageMembersCta):l.formatMessage(ra().XZ.reachedBlockLimitCta):l.formatMessage(ra().XZ.reachedBlockLimitCtaForMembers);if(u){const e=f?l.formatMessage(ra().xc.enteringGracePeriodTooltip):l.formatMessage(ra().xc.afterGracePeriodTooltip),t=f?l.formatMessage(ra().xc.enteringGracePeriodTooltipSubtitle):null,{notificationTitle:o,notificationDescription:a}=function(e){const{intl:t,inGracePeriod:o,remainingDays:a,spaceName:i}=e;return{notificationTitle:o?t.formatMessage(ra().xc.enteringGracePeriodTitle,{dayCount:a}):t.formatMessage(ra().xc.afterGracePeriodTitle),notificationDescription:o?t.formatMessage(ra().xc.enteringGracePeriodDescription,{spaceName:i}):t.formatMessage(ra().xc.afterGracePeriodDescription)}}({intl:l,inGracePeriod:f,remainingDays:m,spaceName:c});return(0,V.jsx)(Zo().A,{placement:"right",style:d.tooltip,render:e=>(0,V.jsx)("span",{...e,children:(0,V.jsx)(Qo,{title:o,body:a,icon:Xo().U,iconColor:f?"yellow":"red",buttons:[{text:v,rightIcon:Ht().arrowStraightRightFillIcon,onClick:b}]})}),renderTooltip:()=>(0,V.jsxs)(V.Fragment,{children:[e,(0,V.jsx)("div",{style:d.tooltipDescription,children:t})]}),textWrap:!0})}return(0,V.jsx)(na,{title:l.formatMessage(ra().XZ.reachedBlockLimitTitle),description:(0,V.jsxs)(V.Fragment,{children:[l.formatMessage(ra().XZ.reachedBlockLimitDescription,{spaceName:c}),(0,V.jsx)(qo().B,{tooltipMessage:l.formatMessage(ra().XZ.reachedBlockLimitTooltip)})]}),cta:g?l.formatMessage(ra().XZ.reachedBlockLimitCta):(0,V.jsx)(s().sA,{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"}),iconGroup:Jo().z,iconColorPalette:"red",iconColorVariant:"tertiary",onClick:b})};var pa=()=>o(852507),ma=()=>o(68913),ga=()=>o(569397),fa=()=>o(762433),ba=()=>o(61844),va=()=>o(261505),ha=()=>o(848701),ya=()=>o(985315);function Sa(){const e=(0,i().v3)(),t=(0,s().tz)(),o=(0,fe().r)(),n=(0,pe()._3)({spaceId:o}),l=(0,ya().g)({spaceId:o}),d=(0,ba().Jd)(l),c=(0,ha().z2)({billingData:n}),u=c?_a.autoConverting:_a.notAutoConverting,p=(0,sa().u2)({product:(0,fa().AI)(n),intl:t}),m=(0,sa().u2)({product:(0,fa().AW)(n),intl:t}),g=(0,r().IS)((e=>({iconStyle:{width:oo().Ev.xs,height:oo().Ev.xs,fill:e.icon.primary}})),[]);(0,pa().w)((()=>{void 0!==f&&void 0!==b&&(0,Fe().u)({environment:e,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:f,days_remaining:b}}})}));const f=null==d?void 0:d.offer.duration.days,b=(0,ha().UP)(n),v=0===b?t.formatMessage(u.titleLastDay,{plan:p}):t.formatMessage(u.title,{days:b}),h=0===b?t.formatMessage(u.bodyLastDay,{plan:p}):t.formatMessage(u.body,{plan:c?p:m}),y=(0,a.useCallback)((()=>{void 0!==f&&void 0!==b&&(0,Fe().u)({environment:e,event:{eventName:"trial_sidebar_cta_clicked",eventProperties:{trial_length:f,days_remaining:b}}}),c?No().Ow({openedFrom:"self_serve_business_trial_ending_soon_nudge",currentTab:"plans"}):(0,va().openBusinessTrialEndingModal)({openedFrom:"self_serve_business_trial_ending_soon_nudge"})}),[b,e,c,f]),S=(0,a.useCallback)((()=>{(0,Fe().u)({environment:e,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{trial_length:f,days_remaining:b}}}),(0,te().a)(e,"business_trial_ending_soon")}),[b,e,f]);return(0,V.jsx)(Qo,{iconColor:"orange",icon:ma().alarmIcon,body:h,title:v,onDismiss:c?S:void 0,buttons:[{text:t.formatMessage(u.cta,{plan:p}),rightIcon:()=>(0,ga().arrowStraightRightSmallIcon)(g.iconStyle),onClick:y}]})}const _a={notAutoConverting:(0,s().YK)({title:{id:"selfServeBusinessTrialEndingSoonNudge.title",defaultMessage:"{days, plural, one {# day} other {# days}} left in your free Business trial"},titleLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.titleLastDay",defaultMessage:"Today is the last day of your {plan} trial"},body:{id:"selfServeBusinessTrialEndingSoonNudge.body",defaultMessage:"If you choose not to upgrade, you’ll be on a {plan} plan with limited usage of Notion"},bodyLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.bodyLastDay",defaultMessage:"If you choose not to upgrade, you’ll be on a {plan} plan with limited usage of Notion"},cta:{id:"selfServeBusinessTrialEndingSoonNudge.cta",defaultMessage:"Keep using {plan}"}}),autoConverting:(0,s().YK)({title:{id:"selfServeBusinessTrialEndingSoonNudge.title",defaultMessage:"{days, plural, one {# day} other {# days}} left in your free Business trial"},titleLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.titleLastDay",defaultMessage:"Today is the last day of your {plan} trial"},body:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.body",defaultMessage:"Your workspace will be automatically upgraded to {plan} at the end of the trial. If you’d like to make changes, visit our plans page"},bodyLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.bodyLastDay",defaultMessage:"You’ll be automatically on the {plan} plan when your trial ends. If you’d like to make changes, visit our plans page"},cta:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.cta",defaultMessage:"Manage plan"}})};var wa=()=>o(584262),ka=()=>o(536095),xa=()=>o(579975),Ma=()=>o(90244),Ca=()=>o(257545),Ta=()=>o(818541),Ia=()=>o(115240),Aa=()=>o(546703),ja=()=>o(38679),Ba=()=>o(35588),Pa=()=>o(173614),Da=()=>o(821983),Na=()=>o(471095),Ra=()=>o(166386),Oa=()=>o(939768),Ea=()=>o(222299),La=()=>o(295173),Fa=()=>o(533336),Va=()=>o(841946),Ka=()=>o(846955),Ua=()=>o(46986),Wa=()=>o(317053),za=()=>o(30858),Ga=(o(803949),o(440961)),Ya=()=>o(416504),qa=()=>o(911676),Ha=()=>o(798880),$a=()=>o(44729),Ja=()=>o(384944),Xa=()=>o(185544),Za=()=>o(66323),Qa=()=>o(51493);const ei=90;function ti(){const e=(0,i().v3)(),t=(0,s().tz)();return(0,a.useCallback)((({spaceStore:o,spaceViewStore:a})=>{var i;const{performResult:n}=Go().createAndCommit({userAction:"selfServeBusinessTrialsExplorePlanModal.createTestVerifiedPage",environment:e,canUndo:!0,perform:i=>{const n=Xa().IT({environment:e,spaceStore:o,spaceViewStore:a,parent:"private",prepend:!0,transaction:i,title:t.formatMessage({id:"selfServeBusinessTrialsExplorePlanModal.testVerifiedPageTitle",defaultMessage:"Try out Page Verification"})}),r=function(e){return[{type:"text",format:{block_color:"gray"},title:e.formatMessage({id:"testVerifiedPage.title",defaultMessage:"👋 This page was created for you to explore Notion’s Page Verification feature."})},{type:"sub_sub_header",title:e.formatMessage({id:"testVerifiedPage.pageVerificationDescription.header",defaultMessage:"What’s Page Verification?"})},{type:"text",title:e.formatMessage({id:"testVerifiedPage.pageVerificationDescription.text",defaultMessage:"Page Verification helps your team identify trusted, up-to-date information by adding a “verified” badge to important pages. This badge is visible in mentions, search, and Q&A, making verified content easy to spot. Admins can track verified pages in Settings for better oversight and compliance⁠⁠. We’ve marked this page as ‘verified’ so that you can see what it would look like."})},{type:"sub_sub_header",title:e.formatMessage({id:"testVerifiedPage.howItWorks.header",defaultMessage:"How does it work?"})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step1",defaultMessage:"Open a page for which you have {canEdit} access or {fullAccess}."},{canEdit:(0,V.jsx)("code",{children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.howItWorks.step1.canEditCode",defaultMessage:"Can edit"})}),fullAccess:(0,V.jsx)("code",{children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.howItWorks.step1.fullAccess",defaultMessage:"Full access"})})})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step2",defaultMessage:"Hover over the page name."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step3",defaultMessage:"Select {verify}."},{verify:(0,V.jsx)("code",{children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.howItWorks.step3.verify",defaultMessage:"Verify"})})})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step4",defaultMessage:"Choose whether you want to verify the page until a specific time or indefinitely."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step5",defaultMessage:"A blue verification icon will appear next to the page name across your workspace."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step6",defaultMessage:"Workspace members will be able to see verified pages in {settings} > {verifiedPages}."},{settings:(0,V.jsx)("code",{children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.howItWorks.step6.settings",defaultMessage:"Settings"})}),verifiedPages:(0,V.jsx)("code",{children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.howItWorks.step6.verifiedPages",defaultMessage:"Verified pages"})})})},{type:"text",title:""},{type:"text",format:{block_color:"gray"},title:e.formatMessage({id:"testVerifiedPage.learnMore",defaultMessage:"👉 You can learn more about verification in the {link}."},{link:(0,V.jsx)("a",{href:"https://www.notion.com/help/wikis-and-verified-pages#:~:text=verify%20the%20page.-,Verify%20individual%20pages%20in%20your%20workspace,-Note%3A%20This",children:(0,V.jsx)(s().sA,{id:"testVerifiedPage.learnMore.link",defaultMessage:"Help Center"})})})}]}(t).map((o=>{const a=document.createElement("div");"string"==typeof o.title?a.setHTMLUnsafe(o.title):a.setHTMLUnsafe(o.title.map((e=>{if("string"==typeof e)return e;const o=document.createElement("div");return Ga.render((0,V.jsx)(s().Dk,{locale:t.locale,children:e}),o),o.innerHTML})).join(""));const r=(0,qa().Hw)({window,node:a,stripText:!0,stripSurroundingWhitespace:!0,emojiData:{positionalEmojiData:{},emojiByCategory:{},emojiByColorRaw:{},emojiByName:{},emojiToShortname:{}}});return Ja().Wv({environment:e,inMemoryRecordCache:n.inMemoryRecordCache,transaction:i,type:o.type,format:o.format,properties:{title:r}})}));return r.forEach((e=>{$a().NI({parentStore:n,childStore:e,transaction:i})})),n}}),r=Wo().ah((0,Ya().P)()),l={range:{start:r,end:r.plus({days:ei})},option:`${ei}d`},{range:d,option:c}=l,u=null===(i=e.currentUser)||void 0===i?void 0:i.id;if(!u)return;const p={table:Ha().oo,id:u},m=d?Wo().C6.toPersistedDateTimeRange(d):Wo().C6.toPersistedDateTime(r.toMillis());(0,Fe().u)({environment:e,event:{eventName:"page_verification_edited",eventProperties:{entrypoint:"self_serve_business_trial_explore_modal",page_type:"wiki",page_id:n.id,collection_id:n.getAssociatedCollectionId(),space_id:o.id,expiration:c}}}),Ve().default.logEvent("verification_update","add");const g={value:[p,m],metadata:{action:"add",entrypoint:"self_serve_business_trial_explore_modal",expiration:c,expiration_date:d?d.end.toMillis():void 0}};return Za().h({environment:e,blockStore:n,verificationValue:g.value}),(0,Qa().q)({environment:e,blockStore:n,update:g}),n}),[e,t])}var oi=()=>o(281303);const ai={onboardingIntro:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.onboardingIntro.title",defaultMessage:"Welcome to Notion Business"},description:{id:"selfServeBusinessTrialNudge.onboardingIntro.description",defaultMessage:"Try our most loved team features on the Business plan, free for {days} days"},cta:{id:"selfServeBusinessTrialNudge.intro.cta",defaultMessage:"Learn more"}}),intro:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.intro.title",defaultMessage:"Get the most out of your {days} day Business trial"},description:{id:"selfServeBusinessTrialNudge.intro.description",defaultMessage:"Access Notion AI to create, ask about, and refine ideas faster — all in Notion"},cta:{id:"selfServeBusinessTrialNudge.intro.cta",defaultMessage:"Learn more"}}),inviteMembers:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.inviteMembers.title",defaultMessage:"Maximize your creation and collaboration in Notion"},description:{id:"selfServeBusinessTrialNudge.inviteMembers.description",defaultMessage:"Make sure to invite team members to get the most out of Notion Business"},cta:{id:"selfServeBusinessTrialNudge.inviteMembers.cta",defaultMessage:"Invite members"}}),connectWorkspace:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.connectWorkspace.title",defaultMessage:"Connect your workspace"},description:{id:"selfServeBusinessTrialNudge.connectWorkspace.description",defaultMessage:"Stay in Notion. Link Slack, GitHub & more to ask, create, and refine — all in one place"},cta:{id:"selfServeBusinessTrialNudge.connectWorkspace.cta",defaultMessage:"Set up now"}}),createTeamspaces:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.createTeamspaces.title",defaultMessage:"Your team, your space"},description:{id:"selfServeBusinessTrialNudge.createTeamspaces.description",defaultMessage:"Use private hubs for confidential collaboration"},cta:{id:"selfServeBusinessTrialNudge.createTeamspaces.cta",defaultMessage:"Create a teamspace"}}),verifyPages:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.verifyPages.title",defaultMessage:"Create trusted docs"},description:{id:"selfServeBusinessTrialNudge.verifyPages.description",defaultMessage:"Verify your pages and help teammates find accurate content"},cta:{id:"selfServeBusinessTrialNudge.verifyPages.cta",defaultMessage:"Try it out"}}),samlSSO:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.samlSSO.title",defaultMessage:"Streamline access and security with SAML SSO"},description:{id:"selfServeBusinessTrialNudge.samlSSO.description",defaultMessage:"Use one login across all of your tools. Verify a domain to get started"},cta:{id:"selfServeBusinessTrialNudge.samlSSO.cta",defaultMessage:"Configure now"}}),storeRecords:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.storeRecords.title",defaultMessage:"Safely store your records"},description:{id:"selfServeBusinessTrialNudge.storeRecords.description",defaultMessage:"Buy the right plan for your org - get easier exports, extended history and more on the Business plan"},cta:{id:"selfServeBusinessTrialNudge.storeRecords.cta",defaultMessage:"More on Notion Business"}}),notionAi:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.notionAi.title",defaultMessage:"Chat with Notion AI"},description:{id:"selfServeBusinessTrialNudge.notionAi.description",defaultMessage:"Search, draft, or just ask for help - use AI to do what you wanted to, faster"},cta:{id:"selfServeBusinessTrialNudge.notionAi.cta",defaultMessage:"Try Notion AI"}}),aiMeetingNotes:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.aiMeetingNotes.title",defaultMessage:"Try AI Meeting Notes"},description:{id:"selfServeBusinessTrialNudge.aiMeetingNotes.description",defaultMessage:"Full transcription plus smart summaries and action items for instant follow‑through"},cta:{id:"selfServeBusinessTrialNudge.aiMeetingNotes.cta",defaultMessage:"Try Meeting Notes"}}),aiSearch:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.aiSearch.title",defaultMessage:"Use Notion AI to search across apps"},description:{id:"selfServeBusinessTrialNudge.aiSearch.description",defaultMessage:"Connect Slack, GitHub & more to get all your answers in one place"},cta:{id:"selfServeBusinessTrialNudge.aiSearch.cta",defaultMessage:"Set up now"}}),aiResearchMode:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.aiResearchMode.title",defaultMessage:"Use AI Research Mode to run a deep dive for you"},description:{id:"selfServeBusinessTrialNudge.aiResearchMode.description",defaultMessage:"Multi‑step research pulls from pages, databases, and connected tools"},cta:{id:"selfServeBusinessTrialNudge.aiResearchMode.cta",defaultMessage:"Try Research Mode"}}),aiBuildIt:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.aiBuildIt.title",defaultMessage:"Let AI build it for you"},description:{id:"selfServeBusinessTrialNudge.aiBuildIt.description",defaultMessage:"Describe your perfect setup and Notion AI will build it for you"},cta:{id:"selfServeBusinessTrialNudge.aiBuildIt.cta",defaultMessage:"Try Notion AI"}})};function ii({permissionsInviteStore:e}){const{navigate:t}=(0,a.useContext)(qt().E),o=(0,s().tz)(),r=(0,i().v3)(),l=(0,To().L)(),d=(0,n().O$)(p().AppStoreSidebarSpaceViewStore),c=(0,pe()._3)({spaceId:null==l?void 0:l.id}),u=(0,ya().g)({spaceId:null==l?void 0:l.id}),m=(0,ba().Jd)(u),g=(0,fa().DS)(c),f=(0,ha().J)(u),{trialLength:b,daysElapsed:v,daysRemaining:h,trialCampaign:y}=(0,a.useMemo)((()=>{if(!m)return{trialLength:void 0,daysElapsed:void 0,daysRemaining:void 0,trialCampaign:void 0};const e=(0,za().s1)(m.offer),t=(0,Ra().Si)(m,g);if(!(0,Se().O9)(t))return{trialLength:void 0,daysElapsed:void 0,daysRemaining:void 0,trialCampaign:void 0};return{trialLength:e,daysElapsed:t,daysRemaining:e-t,trialCampaign:m.offer.campaign}}),[m,g]),S=(0,a.useMemo)((()=>({onboardingIntro:{imageSources:{light:Ye().A.images.pricing.original.businessPng,dark:Ye().A.images.pricing.original.businessPng}},intro:{icon:Ba()._,iconColor:"orange"},inviteMembers:{icon:Aa().r},connectWorkspace:{icon:Ta().V},createTeamspaces:{icon:Na().i},verifyPages:{icon:Ca().badgeCheckFillIcon,iconColor:"blue"},samlSSO:{icon:Da().keyFillIcon},storeRecords:{icon:Ia().U},notionAi:{icon:zo().aiFaceIcon},aiMeetingNotes:{icon:Ma().O},aiSearch:{icon:Pa().c},aiResearchMode:{icon:ja().P},aiBuildIt:{icon:xa().V}})),[]);(0,pa().w)((()=>{(0,Se().O9)(b)&&(0,Se().O9)(h)&&(0,Fe().u)({environment:r,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:b,days_remaining:h}}})}));const _=(0,a.useMemo)((()=>{if(f&&void 0!==v)return(0,ha().tk)({daysElapsed:v,trialLength:b,trialCampaign:y})}),[f,v,b,y]),w=(0,a.useCallback)((({fireEvent:e=!0}={})=>{if(e&&(0,Fe().u)({environment:r,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{}}}),void 0!==v){const e=`business_trial_nudge_d${v}`;e in Va().z&&te().$Z(r,e)}}),[v,r]),k=(0,oi().a)(d),x=function(){const e=(0,n().O$)(p().AppStoreCurrentUserSettingsStore),t=(0,n().K8)((()=>{var t;return null==e||null===(t=e.getSettings())||void 0===t?void 0:t.page_verification_tooltip_dismissed_at}),[e]);return Boolean(t)}(),M=ti(),C=(0,a.useCallback)((()=>{if(!l||!d)return void No().Ow({currentTab:"verified_pages"});if(void 0!==k&&Boolean(k.length))return void No().Ow({currentTab:"verified_pages"});const e=M({spaceStore:l,spaceViewStore:d});e&&(Ea().Yf({blocks:[e],environment:r,pageVisitSource:wa().y8.VerifiedPagesSettings}),x||Ka().default.setState({type:"verify_page",step:"verify_page"}))}),[M,k,r,x,l,d]),T=(0,Ua().i7)(),I=(0,a.useCallback)((()=>{switch(void 0!==b&&void 0!==h&&(0,Fe().u)({environment:r,event:{eventName:"trial_sidebar_cta_clicked",eventProperties:{trial_length:b,days_remaining:h}}}),_){case"onboardingIntro":case"intro":(0,va().openBusinessTrialExplorePlanModal)({openedFrom:"self_serve_business_trial_nudge"});break;case"inviteMembers":null==e||e.update((e=>({...e,modalOpen:!0}))),(0,Fe().u)({environment:r,event:{eventName:"open_invite_members_modal",eventProperties:{from:"trial_sidebar_footer",type:"invite"}}});break;case"connectWorkspace":No().Ow({currentTab:"ai"});break;case"createTeamspaces":(0,O().vn)("self_serve_business_trial_nudge");break;case"verifyPages":C();break;case"samlSSO":No().Ow({currentTab:"identity_provisioning"});break;case"storeRecords":window.open("https://www.notion.com/pricing","_blank");break;case"notionAi":T&&La().openNewAgentSidebarFromMainBlock({environment:r});break;case"aiMeetingNotes":(0,Fa().createAndNavigateToTranscriptionBlock)({environment:r,from:"self_serve_business_trial_nudge",title:"new_page"});break;case"aiSearch":No().Ow({currentTab:"connected_apps"});break;case"aiResearchMode":const o=(0,Oa().Gm)({url:"/chat",query:{targetConfig:"researcher",from:"self_serve_business_trial_nudge",origin:"aifw"}});t({environment:r,url:o});break;case"aiBuildIt":(0,Wa().openSelectedTemplateOnboardingModalForInAppFlows)({parentStore:l,template:ka().XK,environment:r,aiPrompt:void 0,origin:"self_serve_business_trial_nudge",version:"build_with_ai",autoSubmit:!1})}w({fireEvent:!1})}),[b,h,_,w,r,e,C,T,l,t]);return m&&_?(0,V.jsx)(Qo,{iconColor:S[_].iconColor,icon:S[_].icon,imageSources:S[_].imageSources,imageHeight:36,onDismiss:w,title:o.formatMessage(ai[_].title,{days:b}),body:o.formatMessage(ai[_].description,{days:b}),buttons:[{text:o.formatMessage(ai[_].cta),rightIcon:ga().arrowStraightRightSmallIcon,onClick:I}]}):null}var ni=()=>o(25729),ri=()=>o(252105),si=()=>o(296798);function li({upsellVariant:e}){const t=(0,i().v3)(),o=e,n=(0,a.useCallback)((()=>{ri().QP(t,{from:"sidebar_upgrade_nudge"}),No().Ow({currentTab:"plans",openedFrom:"upsell",upsellType:"sidebar_upgrade_nudge"})}),[t]),l=(0,r().IS)((e=>({buttonHover:{opacity:1,background:e.background.secondary,transition:"background 100ms ease-out"},tooltipDescription:{color:e.text.inverseSecondary},nudgeContainerWithAppSwitcher:{display:"flex",alignItems:"center",padding:"12px 8px",paddingBottom:"0px"},nudgeButton:{alignItems:"center",display:"flex",borderRadius:"6px",width:"100%"}})),[]);return"none"===o?null:(0,V.jsx)("div",{style:l.nudgeContainerWithAppSwitcher,children:(0,V.jsx)(ea().Y1,{children:"upgrade"===o?(0,V.jsx)(Zo().A,{renderTooltip:()=>(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(s().sA,{id:"upgradeNudge.tooltip.title",defaultMessage:"Do more with Notion"}),(0,V.jsx)("div",{style:l.tooltipDescription,children:(0,V.jsx)(s().sA,{id:"upgradeNudge.tooltip.description",defaultMessage:"Upgrade to access premium features"})})]}),originGap:6,placement:"right",render:e=>(0,V.jsx)(si().A,{...e,style:l.nudgeButton,hoveredStyle:l.buttonHover,onClick:n,children:(0,V.jsx)(I().A,{left:(0,V.jsx)(oa().Q,{iconGroup:ni().k,variantName:"fill",colorVariant:"secondary"}),disableMobileBorder:!0,children:(0,V.jsx)(s().sA,{id:"upgradeNudge.upsellMessage.upgradePlan",defaultMessage:"Upgrade plan"})})})}):null})})}var di=()=>o(970236),ci=()=>o(181088),ui=()=>o(404802),pi=()=>o(683274),mi=()=>o(523036);const gi="post_business_trial_coupon_callout";function fi(e){const{calloutKey:t}=e,o=(0,s().tz)(),l=(0,i().v3)(),d=(0,To().L)(),c=(0,pe()._3)({spaceId:null==d?void 0:d.id}),u=(0,mi().R)(gi),p=(0,n().K8)((()=>Ve().default.getConfig({configName:"offers_metadata"})),[]),m=(0,n().K8)((()=>u&&d&&(0,ui().$$)(u.campaign)?(0,ui().D9)({offerCampaign:u.campaign,offerMetadata:p,space:d.getModel(),billingData:c}):null),[u,p,d,c]);(0,pa().w)((()=>{Tt().DL(l,{callout_key:t,placement_key:"SidebarFooter"})}));const g=(0,a.useCallback)((()=>{(0,no().F)({environment:l,spaceStore:d,billingData:c,product:"business",from:gi,offer:(0,Ra().Pz)(null==u?void 0:u.campaign)}),Tt().Y5(l,{callout_key:t,click_type:"primary_cta",placement_key:"SidebarFooter"})}),[l,d,c,t,u]),f=(0,r().IS)((()=>({badge:{marginInlineStart:0,alignSelf:"flex-start"}})),[]);return(0,V.jsx)(pi().l,{messageKey:t,title:o.formatMessage(bi.title),imageUrl:Ye().A.images.characterAiLaptopPng,body:o.formatMessage(bi.description),badge:(0,V.jsx)(di().E,{content:(0,V.jsxs)(he().Ye,{gap:2,children:[(0,V.jsx)(v().I,{size:"xs",icon:ci().clockSmallIcon,colorPalette:"blue",colorVariant:"secondary"}),m?o.formatMessage(bi.badgeWithDaysLeft,{daysLeft:m}):o.formatMessage(bi.badge)]}),color:"blue",style:f.badge}),button:{text:o.formatMessage(bi.buttonText),onClick:g}})}const bi=(0,s().YK)({badgeWithDaysLeft:{id:"postBusinessTrialCouponCallout.badge",defaultMessage:" {daysLeft, plural, one {# day left} other {# days left}}"},badge:{id:"postBusinessTrialCouponCallout.badge_no_days_left",defaultMessage:"Limited time offer"},title:{id:"postBusinessTrialCouponCallout.title",defaultMessage:"Save 50% when you return to Notion Business"},description:{id:"postBusinessTrialCouponCallout.description",defaultMessage:"You still have time to unlock the power of Notion AI to summarize documents, draft content, and automate tasks."},buttonText:{id:"postBusinessTrialCouponCallout.upgradeButton",defaultMessage:"Claim offer"}});const vi=(0,s().YK)({title:{id:"SidebarUpgradeNudge.title",defaultMessage:"Do more with Notion"},description:{id:"SidebarUpgradeNudge.description",defaultMessage:"Upgrade for access to premium features."},cta:{id:"SidebarUpgradeNudge.cta",defaultMessage:"View plans"}});const hi=function(){const e=(0,i().v3)(),t=(0,s().tz)();return(0,a.useEffect)((()=>{Tt().DL(e,{callout_key:"sidebar_upgrade_nudge",placement_key:"SidebarFooter"})}),[e]),(0,V.jsx)(na,{title:t.formatMessage(vi.title),description:t.formatMessage(vi.description),cta:t.formatMessage(vi.cta),icon:o(71805).arrowInCircleUpSmallIcon,onClick:()=>function(e){ri().QP(e,{from:"sidebar_upgrade_nudge"}),No().Ow({openedFrom:"upsell",upsellType:"sidebar_upgrade_nudge",currentTab:"plans"}),Tt().Y5(e,{callout_key:"sidebar_upgrade_nudge",click_type:"primary_cta",placement_key:"SidebarFooter"})}(e),onDismiss:()=>function(e){ri().u4(e,{name:"sidebar_upgrade_nudge_dismiss"});const{currentUserSettingsStore:t}=p().default.state;if(!t)return;Go().createAndCommit({userAction:"sidebarUpgradeNudge.markNotificationAsDismissed",environment:e,canUndo:!0,perform:e=>{Xt().mJ({transaction:e,userSettingsStore:t,data:{dismissed_sidebar_upgrade_nudge:!0}})}}),te().a(e,"sidebar_upgrade_nudge"),Tt().Sq(e,{callout_key:"sidebar_upgrade_nudge",dismiss_type:"sidebar_dismiss",placement_key:"SidebarFooter"})}(e)})};var yi=()=>o(907917),Si=()=>o(775916);var _i=()=>o(97065);var wi=()=>o(821062),ki=()=>o(162342);const xi=(0,s().YK)({learnMore:{id:"onboardingReverseTrialSidebar.button.learnMore",defaultMessage:"Learn more"},title:{id:"onboardingReverseTrialSidebar.title",defaultMessage:"Your {planName} trial starts today"},titleDaysAgo:{id:"onboardingReverseTrialSidebar.title.daysAgo",defaultMessage:"Your {planName} trial started {daysAgo, plural, one {{daysAgo} day ago} other {{daysAgo} days ago}}"},bodyPlusWithAi:{id:"onboardingReverseTrialSidebar.body.plusWithAi",defaultMessage:"Try our most loved features on the Plus plan with Core AI, free for {trialLength} days"},body:{id:"onboardingReverseTrialSidebar.body",defaultMessage:"Try our most loved team features on the {planName} plan, free for {trialLength} days"},titleMpPlusWithAi:{id:"onboardingReverseTrialSidebar.title.mp.plusWithAi",defaultMessage:"Free {planName}"},bodyMpPlusWithAi:{id:"onboardingReverseTrialSidebar.body.mp.plusWithAi",defaultMessage:"We’ve given you free access to Plus and core Notion AI features"},titleMp:{id:"onboardingReverseTrialSidebar.title.mp",defaultMessage:"Free {planName} for your team"},bodyMp:{id:"onboardingReverseTrialSidebar.body.mp",defaultMessage:"We’ve given you free access to {planName} with all of Notion’s best collaboration features"}});function Mi(){const e=(0,s().tz)(),t=(0,i().v3)(),o=(0,Si().p)();(0,pa().l)((()=>{o&&Tt().DL(t,{callout_key:"onboarding_reverse_trial_sidebar",placement_key:"SidebarFooter"})}));const n=(0,a.useCallback)((()=>{(0,ki().fR)({openedFrom:"onboarding_sidebar"}),Tt().Y5(t,{callout_key:"onboarding_reverse_trial_sidebar",click_type:"primary_cta",placement_key:"SidebarFooter"})}),[t]);if(!o||"trial"!==o.offer.type||!(0,Ra().rM)(o))return null;const r=(0,sa().R$)({products:o.offer.products,intl:e}),{title:l,description:d}=function({claimedTrial:e,planName:t,intl:o}){const a=(0,Ra().ER)(e),i=(0,Ra().b_)(e.offer).get("days"),n=i-a,r="trial"===e.offer.type?e.offer.products:[],s=(0,wi().A)(r,["plus","ai"]);return["onboarding","admin_tool"].includes(e.entrypoint)?{title:0===n?o.formatMessage(xi.title,{planName:t}):o.formatMessage(xi.titleDaysAgo,{planName:t,daysAgo:n}),description:s?o.formatMessage(xi.bodyPlusWithAi,{trialLength:i}):o.formatMessage(xi.body,{planName:t,trialLength:i})}:s?{title:o.formatMessage(xi.titleMpPlusWithAi,{planName:t}),description:o.formatMessage(xi.bodyMpPlusWithAi)}:{title:o.formatMessage(xi.titleMp,{planName:t}),description:o.formatMessage(xi.bodyMp,{planName:t})}}({claimedTrial:o,planName:r,intl:e});return(0,V.jsx)(Zt().Y,{messageKey:"onboarding_reverse_trial_sidebar",imageSources:{light:Ye().A.images.pricing.timedTrialGiftboxTransparentPng,dark:Ye().A.images.pricing.timedTrialGiftboxTransparentPng},title:l,body:d,buttons:[{text:e.formatMessage(xi.learnMore),rightIcon:Ht().arrowStraightRightFillIcon,onClick:n}]})}var Ci=()=>o(274570);function Ti(){const e=(0,s().tz)(),t=(0,i().v3)(),o=(0,Si().p)(),n=(0,Ra().i)(o);(0,pa().l)((()=>{o&&Tt().DL(t,{callout_key:"post_reverse_trial_sidebar",placement_key:"SidebarFooter"})}));const r=(0,a.useCallback)((()=>{uo().K(t,{from:"post_reverse_trial_sidebar",upsell:{type:"product",product:n??"plus",limit:{type:"none"},trialability:"none"}}),Tt().Y5(t,{callout_key:"post_reverse_trial_sidebar",click_type:"primary_cta",placement_key:"SidebarFooter"})}),[t,n]);return(0,V.jsx)(Zt().Y,{messageKey:"post_reverse_trial_sidebar",title:e.formatMessage({id:"postReverseTrialSidebar.title",defaultMessage:"{hasPlan, select, true {Your free {plan} trial ended} other {Your free trial ended}}"},{hasPlan:Boolean(n),plan:(0,sa().u2)({product:n??"plus",intl:e})}),body:e.formatMessage({id:"postReverseTrialSidebar.body",defaultMessage:"This workspace is now on the free version of Notion"}),buttons:[{text:e.formatMessage({id:"postReverseTrialSidebar.button.upgrade",defaultMessage:"Upgrade"}),rightIcon:Ht().arrowStraightRightFillIcon,onClick:r}],icon:Ci().clockIcon,iconColor:"orange"})}const Ii={viewBox:"0 0 20 20",fittedViewBox:"0.07 2.65 19.85 13.34",svg:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("path",{d:"M6.802 3.759a.625.625 0 1 0-.804-.958l-1.49 1.25a.625.625 0 1 0 .804.958zm7.2-.958a.625.625 0 0 0-.804.958l1.49 1.25a.625.625 0 1 0 .804-.958zm3.976 2.255a.55.55 0 0 1 .746.222A9.9 9.9 0 0 1 19.92 10a9.76 9.76 0 0 1-1.155 4.65.55.55 0 0 1-.97-.52A8.66 8.66 0 0 0 18.82 10a8.8 8.8 0 0 0-1.064-4.198.55.55 0 0 1 .222-.746"}),(0,V.jsx)("path",{d:"M17.003 6.208a.55.55 0 1 0-.966.524c.528.973.833 2.094.833 3.268a6.76 6.76 0 0 1-.795 3.211.55.55 0 0 0 .97.518A7.86 7.86 0 0 0 17.97 10a7.95 7.95 0 0 0-.967-3.792M2.022 5.056a.55.55 0 0 1 .222.746A8.8 8.8 0 0 0 1.18 10c0 1.518.367 2.9 1.025 4.13a.55.55 0 0 1-.97.52A9.76 9.76 0 0 1 .08 10c0-1.704.434-3.314 1.196-4.722a.55.55 0 0 1 .746-.222"}),(0,V.jsx)("path",{d:"M3.964 6.732a.55.55 0 1 0-.967-.524A7.95 7.95 0 0 0 2.03 10c0 1.362.333 2.62.925 3.73a.55.55 0 0 0 .97-.519A6.76 6.76 0 0 1 3.13 10c0-1.174.305-2.295.834-3.268m6.661-.072a.625.625 0 0 0-1.25 0v2.715H7.19a.625.625 0 0 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,V.jsx)("path",{d:"M3.905 10A6.096 6.096 0 0 1 10 3.905 6.096 6.096 0 0 1 16.095 10a6.096 6.096 0 0 1-12.19 0M10 5.155A4.846 4.846 0 0 0 5.155 10a4.846 4.846 0 0 0 9.69 0A4.846 4.846 0 0 0 10 5.155"})]})},Ai=(0,oo().wt)("alarmVibrating",Ii);var ji=()=>o(857353);function Bi({claimedTrial:e,billingData:t,permissionsInviteStore:o}){const r=(0,fa().DS)(t),l=(0,Ra().ER)(e,r),d=(0,Ra().b_)(e.offer).as("days"),c=(0,Ra().i)(e),u=a.useMemo((()=>"trial"===e.offer.type?e.offer.products:[]),[e.offer]),m=(0,Ra().Kp)(e).includes("ai"),g=d>30,f=(0,s().tz)(),b=(0,i().v3)(),v=(0,ji().q)("trial_sidebar_footer",o),h=a.useCallback((()=>{(0,Rt().toggleAISidebar)(b)}),[b]),y=(0,n().O$)(p().AppStoreCurrentUserSettingsStore);(0,pa().w)((()=>{(0,Fe().u)({environment:b,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:d,days_remaining:l}}})}));const S=(0,n().K8)((()=>{var e;return Boolean(null==y||null===(e=y.getSettings())||void 0===e?void 0:e.reverse_trial_sidebar_alert_dismissed_at)}),[y]),_=a.useCallback((()=>{y&&((0,Fe().u)({environment:b,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{}}}),Go().createAndCommit({userAction:"ReverseTrialSidebarAlert.handleDismiss",environment:b,canUndo:!0,perform:e=>{Xt().mJ({transaction:e,userSettingsStore:y,data:{reverse_trial_sidebar_alert_dismissed_at:Date.now()}})}}))}),[y,b]),w=a.useMemo((()=>{const e=Math.ceil(d/2),t=(0,sa().R$)({products:u,intl:f}),o={title:m?f.formatMessage({id:"reverseTrialSidebarAlert.daysLeft.noTrialName",defaultMessage:"{daysRemaining, plural, one {{daysRemaining} day left in your trial} other {{daysRemaining} days left in your trial}}"},{daysRemaining:l}):f.formatMessage({id:"reverseTrialSidebarAlert.daysLeft",defaultMessage:"{daysRemaining, plural, one {{daysRemaining} day left in your {plan} trial} other {{daysRemaining} days left in your {plan} trial}}"},{daysRemaining:l,plan:t}),body:f.formatMessage({id:"reverseTrialSidebarAlert.freePlan.body",defaultMessage:"If you choose not to upgrade, you'll be on a free plan with limited usage of Notion"}),icon:ma().alarmIcon,iconColor:"orange",buttons:[{text:f.formatMessage({id:"reverseTrialSidebarAlert.upgradeAction",defaultMessage:"Keep using {plan}"},{plan:t}),onClick:()=>(0,uo().K)(b,{from:"timed_trial_sidebar",upsell:{type:"product",product:c,limit:{type:"none"},trialability:"none"}}),rightIcon:Ht().arrowStraightRightFillIcon}]};return 0===l?{...o,title:f.formatMessage({id:"reverseTrialSidebarAlert.lastDay",defaultMessage:"Today is the last day of your {plan} plan trial"},{plan:t}),icon:Ci().clockIcon,buttons:[{...o.buttons[0],onClick:()=>(0,ki().W$)({openedFrom:"sidebar",trialPlan:c})}]}:l<=2?{...o,icon:Ai,buttons:[{...o.buttons[0],onClick:()=>(0,ki().W$)({openedFrom:"sidebar",trialPlan:c})}]}:l<=4?o:g||l>e?void 0:m?{...o,body:f.formatMessage({id:"reverseTrialSidebarAlert.coreAi.useQna",defaultMessage:"Get instant answers from all your pages, databases, and knowledge"}),onDismiss:_,buttons:[{text:f.formatMessage({id:"reverseTrialSidebarAlert.useQna.action",defaultMessage:"Search with AI"}),onClick:h,rightIcon:Ht().arrowStraightRightFillIcon}]}:{...o,body:f.formatMessage({id:"reverseTrialSidebarAlert.inviteMembers.title",defaultMessage:"Make sure to invite team members and get the most out of Notion {plan}"},{plan:t}),onDismiss:_,buttons:[{text:f.formatMessage({id:"reverseTrialSidebarAlert.inviteMembers.action",defaultMessage:"Invite members"}),onClick:v,rightIcon:Ht().arrowStraightRightFillIcon}]}}),[l,b,_,v,h,m,f,g,d,c,u]);return!w||S&&l>4?null:(0,V.jsx)(fo().Ue,{children:(0,V.jsx)(fo().wY,{...w})})}var Pi=()=>o(559926),Di=()=>o(522094),Ni=()=>o(160475);const Ri=(0,s().YK)({title:{id:"import_data_prompt.title",defaultMessage:"Try out data import!"},body:{id:"import_data_prompt.body",defaultMessage:"Use data from another platform to launch your next project in Notion."},buttonText:{id:"import_data_prompt.buttonText",defaultMessage:"Get started"}});function Oi(){const e=(0,i().v3)(),t=(0,s().tz)();(0,pa().w)((()=>{(0,Ni().t)({environment:e,action:"view",from:"import_sidebar_announcement"})}));const o=(0,a.useCallback)((()=>{const t=Di().A.getOrCreateFlowId();Pi().kY(e,{from:"import_sidebar_announcement",flowId:t}),No().Ow({currentTab:"imports",openedFrom:"import_sidebar_announcement"}),(0,Ni().t)({environment:e,action:"click",from:"import_sidebar_announcement"}),te().a(e,"import_data_prompt")}),[e]);return(0,V.jsx)(Zt().Y,{messageKey:"import_data_prompt",title:t.formatMessage(Ri.title),body:t.formatMessage(Ri.body),imageHeight:28,imageSources:{light:Ye().A.images.onboarding.useCaseImportLightPng,dark:Ye().A.images.onboarding.useCaseImportDarkPng},buttons:[{text:t.formatMessage(Ri.buttonText),rightIcon:Ht().arrowStraightRightFillIcon,onClick:o}],onDismiss:()=>{(0,Ni().t)({environment:e,action:"dismiss",from:"import_sidebar_announcement"})}})}var Ei=()=>o(73337),Li=()=>o(179034),Fi=()=>o(148832),Vi=()=>o(541801),Ki=()=>o(373444);const Ui=(0,s().YK)({title:{id:"sidebar.onboardingWorkflowTemplate.title",defaultMessage:"Finish where you left off"},body:{id:"sidebar.onboardingWorkflowTemplate.description",defaultMessage:"Set up your database to stay organized"},cta:{id:"sidebar.onboardingWorkflowTemplate.button",defaultMessage:"Continue building"}});function Wi(){const e=(0,i().v3)(),[t,o]=(0,a.useState)(null),r=(0,s().tz)(),l=(0,fe().r)(),d=(0,n().K8)((()=>{var e,t;const{currentUserSettingsStore:o}=p().default.state;if(!o)return[];const a=(null===(e=o.getSettings())||void 0===e?void 0:e.onboarding_workflow_template_blocks)||{},i=null===(t=p().AppStoreSidebarSpaceStore.state)||void 0===t?void 0:t.id;return i&&null!=a&&a[i]?a[i]:[]}),[]),c=null==d?void 0:d[0];(0,a.useEffect)((()=>{if(c){const t=new(Fi().B)(e,{table:Li().ev,id:c,spaceId:l||void 0});o(t),t.load()}}),[e,c,l]);const u=(0,n().K8)((()=>{if(!t)return;const e=t.getFormat();return"workflow_template_placeholder"===e.collection_view_sub_type&&e.placeholder_workflow_template_id&&t.isCollectionView()?{collectionTemplateId:e.placeholder_workflow_template_id,collectionViewBlockStore:t}:void 0}),[t]),m=(0,a.useCallback)((async()=>{if(!u)return;const{collectionTemplateId:t,collectionViewBlockStore:o}=u,{getCollectionTemplateFromId:a}=await Vi().tA.load(),i=a(t);if(!i)throw new Error("Collection template not found");const{onNavigateToPlaceholderWorkflowTemplateBlock:n}=await Ki().O.load();n({environment:e,collectionTemplate:i,collectionViewBlockStore:o}),te().a(e,"onboarding_workflow_template_callout"),Xt().pr(e,{entryPoint:"onboarding_workflow_template_sidebar_announcement"})}),[e,u]);return(0,V.jsx)(Zt().Y,{messageKey:"onboarding_workflow_template_callout",title:r.formatMessage(Ui.title),body:r.formatMessage(Ui.body),icon:Ei().P,buttons:[{text:r.formatMessage(Ui.cta),onClick:m,rightIcon:Ht().arrowStraightRightFillIcon}],onDismiss:()=>{Xt().pr(e,{entryPoint:"onboarding_workflow_template_sidebar_announcement"})}})}function zi({billingData:e,permissionsInviteStore:t}){const o=(0,fe().r)(),a=(0,Si().p)(),r=function(e,t){const o=(0,n().K8)((()=>{var e;return Boolean(null===(e=p().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.reverse_trial_sidebar_alert_dismissed_at)}),[]),a=(0,fa().DS)(e),i=(0,fa().i5)(e);if(!t||!i||i<a)return!1;if((0,ba().tX)([t]))return!1;if(!(0,_i().DH)(t.offer.campaign)||null!=e&&e.paymentMethod)return!1;const r=(0,Ra().ER)(t,a),s=(0,Ra().b_)(t.offer).as("days");return!(r>Math.ceil(s/2))&&(o&&r>4?null:!(r<0))}(e,a),s=(0,n().K8)((()=>We().default.getMessagesForPlacement("SidebarFooter")),[]),l=(0,yi().w)(o),d=function(){const e=(0,i().v3)(),t=da(),o=la(),a=o&&o.blockUsage>0,r=o&&o.percentageUsed>=be().eF,s=(0,n().K8)((()=>{var e;return Boolean(null===(e=p().default.state.sidebarSpaceStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.reach_block_limit_time)}),[]),l=(0,n().K8)((()=>s&&(0,Yo().Km)(e)&&(0,Yo().PK)()<=0),[s,e]);return t&&a&&(r||l)}();return(0,n().K8)((()=>r&&a?{type:"footer",component:()=>(0,V.jsx)(Bi,{claimedTrial:a,billingData:e,permissionsInviteStore:t})}:d?{type:"footer",component:()=>(0,V.jsx)(ua,{})}:s.length>0?function(e,t){if("static"===e.type){const o=(0,Gt().h2)(e.key);if(!o)throw new Error(`Invalid static message key: ${e.key}`);switch(o){case"anyone_with_the_link_sidebar_callout":return{type:"card",component:()=>(0,V.jsx)(Uo,{})};case"startup_sidebar_footer":return{type:"card",component:()=>(0,V.jsx)(ho,{})};case"sidebar_upgrade_nudge":return{type:"footer",component:()=>(0,V.jsx)(hi,{})};case"ai_limit_nudge":return{type:"footer",component:()=>(0,V.jsx)($o,{source:"sidebar"})};case"resurrection_offer_sidebar":return{type:"card",component:()=>(0,V.jsx)(mo,{})};case"plus_ai_to_business_upgrade_offer_sidebar":return{type:"card",component:()=>(0,V.jsx)(so,{})};case"block_limit_nudge":return{type:"footer",component:()=>(0,V.jsx)(ca,{})};case"student_org_prompt":return{type:"card",component:()=>(0,V.jsx)(eo,{})};case"desktop_download_sidebar":return{type:"card",component:()=>(0,V.jsx)(co,{})};case"ai_meeting_notes_browser_summary_app_download":return{type:"card",component:()=>(0,V.jsx)(io,{})};case"post_reverse_trial_sidebar":return{type:"card",component:()=>(0,V.jsx)(Ti,{})};case"onboarding_reverse_trial_sidebar":return{type:"card",component:()=>(0,V.jsx)(Mi,{})};case"ai_connector_outlook_sidebar_notification":return{type:"card",component:()=>(0,V.jsx)(Yt().LazyAIConnectorSidebarNotification,{connector:"outlook"})};case"import_data_prompt":return{type:"card",component:()=>(0,V.jsx)(Oi,{})};case"collaboration_callout":return{type:"card",component:()=>(0,V.jsx)(Eo,{})};case"business_trial_nudge_d0":case"business_trial_nudge_d1":case"business_trial_nudge_d3":case"business_trial_nudge_d5":case"business_trial_nudge_d8":case"business_trial_nudge_d11":case"business_trial_nudge_d14":case"business_trial_nudge_d17":case"business_trial_nudge_d20":case"business_trial_nudge_d2":case"business_trial_nudge_d6":case"business_trial_nudge_d10":return{type:"footer",component:()=>(0,V.jsx)(ii,{permissionsInviteStore:t})};case"business_coupon_eligibility_midpoint_callout":case"business_coupon_eligibility_final_callout":return{type:"card",component:()=>(0,V.jsx)(fi,{calloutKey:o})};case"business_trial_ending_soon":return{type:"card",component:()=>(0,V.jsx)(Sa,{})};case"onboarding_workflow_template_callout":return{type:"card",component:()=>(0,V.jsx)(Wi,{})};case"try_notion_for_work_sidebar_callout_revamped":return{type:"card",component:()=>(0,V.jsx)(xo,{})};case"offline_mode_sidebar_callout":return{type:"card",component:()=>(0,V.jsx)(Po().x2,{})};case"invite_members_sidebar_callout":return{type:"card",component:()=>(0,V.jsx)(Bo,{permissionsInviteStore:t})}}}else if("sidebar"===e.type){const t=e;return{type:"card",component:()=>(0,V.jsx)(bo,{message:t})}}return}(s[0],t):"upgrade"===l?{type:"footer",component:()=>(0,V.jsx)(li,{upsellVariant:l})}:{type:"footer",component:()=>null}),[r,a,d,s,l,t,e])}function Gi({scrollerStore:e}){const{canEditSpace:t,currentUserRootStore:o,sidebarSpaceStore:s,sidebarSpaceViewStore:l}=(0,n().K8)((()=>{var e;return{canEditSpace:(null===(e=p().default.state.sidebarSpaceStore)||void 0===e?void 0:e.canEdit())??!1,currentUserRootStore:p().default.state.currentUserRootStore,sidebarSpaceStore:p().default.state.sidebarSpaceStore,sidebarSpaceViewStore:p().default.state.sidebarSpaceViewStore}}),[]),d=(0,n().K8)((()=>(0,re().o)(l)&&o&&function({userRootStore:e,n:t}){return e.getSpaceViewStores().map((t=>le().V.createChildStore(t,(0,se().i1)({userId:e.id,spaceId:t.getSpaceId()})).isMember())).filter(Boolean).length===t}({userRootStore:o,n:1})),[l,o]),{previousSpaceId:c,previousSpaceViewId:u}=(0,n().K8)((()=>({previousSpaceId:de().o.getState().spaceId,previousSpaceViewId:de().o.getState().spaceViewId})),[]),m=(0,i().v3)(),g=(0,n().O$)(ue().l),f=(0,n().K8)((()=>Z().A.state.ready),[]),b=(0,a.useMemo)((()=>(0,ce().nc)()),[]),v=(0,n().K8)((()=>b.state.modalOpen),[b]);!function(){const e=(0,i().v3)(),t=(0,n().K8)((()=>{const e=ge().A.state,t=null==e?void 0:e.isEligible;if(e&&t)return e.spaceUsage/e.spaceLimit}),[]);(0,a.useEffect)((()=>{t&&t>=me()._&&te().HH(e,"ai_limit_nudge",{skipDefaultRules:["SeenExpirationRule","MinimumAccountAgeRule"]})}),[e,t])}(),function(){const e=(0,i().v3)(),t=(0,fe().r)(),o=(0,n().K8)((()=>!!t&&!e.device.isMobile&&ve().subscriptionDataStoreInstance.state&&(0,be().cG)(ve().subscriptionDataStoreInstance.state)&&(0,be().z8)(e,ve().subscriptionDataStoreInstance.state,t)),[e,t]);(0,a.useEffect)((()=>{o&&te().HH(e,"block_limit_nudge")}),[e,o])}(),(0,a.useEffect)((()=>{te().HH(m,"invite_members_sidebar_callout",{skipDefaultRules:["MinimumAccountAgeRule","SeenExpirationRule"]}),te().HH(m,"collaboration_callout"),te().HH(m,"anyone_with_the_link_sidebar_callout",{skipDefaultRules:["MinimumAccountAgeRule"]})}),[m]);const h=zi({billingData:(0,pe()._3)({spaceId:null==s?void 0:s.id}),permissionsInviteStore:b}),y=(0,r().IS)((e=>{const t={display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto"};return{footer:t,canViewOnlyFooter:{...t,padding:14,boxShadow:`0 -1px 0 ${e.regularDividerColor}`},createWorkspaceButton:{marginTop:8,marginInlineStart:-8}}}),[]);return f&&o&&!g?t?(0,V.jsxs)("div",{style:y.footer,children:[(0,V.jsx)(Q().A,{type:"bottom",scrollerStore:e}),"footer"===(null==h?void 0:h.type)?h.component():void 0,(0,V.jsx)(Wt,{}),v&&s?(0,V.jsx)(ee().H,{targetStore:s,spaceStore:s,permissionsInviteStore:b,origin:(0,V.jsx)(V.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:oe().$D,onInviteComplete:oe().c3,analyticsFrom:"sidebar_footer_invite_button"}):null]}):d&&c&&u?(0,V.jsx)(ne,{previousSpaceId:c,previousSpaceViewId:u}):(0,V.jsx)(zt().C,{sidebarSpaceStore:s,sidebarSpaceViewStore:l}):(0,V.jsx)(V.Fragment,{})}var Yi=()=>o(998109);function qi(e){const{type:t,content:o,spacePlan:a}=e;return"team"===a&&"teams"===t?(0,V.jsx)(Yi().n,{step:"teamspaces",children:o}):"team"===a&&"private"===t?(0,V.jsx)(Yi().n,{step:"private",children:o}):o}var Hi=()=>o(734164);function $i(e){const t=(0,r().IS)((()=>({container:{position:"sticky",bottom:0,marginTop:"auto"}})),[]),o=(0,To().L)(),i=(0,a.useMemo)((()=>(0,ce().nc)()),[]),n=zi({billingData:(0,pe()._3)({spaceId:null==o?void 0:o.id}),permissionsInviteStore:i});return(0,V.jsx)("div",{style:t.container,children:"card"===(null==n?void 0:n.type)?null==n?void 0:n.component():void 0})}},430102:(e,t,o)=>{o.d(t,{I:()=>p});var a=o(296540),i=()=>o(401497),n=()=>o(718827),r=()=>o(606712),s=()=>o(150161),l=()=>o(854705),d=()=>o(100622),c=()=>o(859428),u=o(474848);const p=a.memo(a.forwardRef((function(e,t){const{style:o,color:a,title:n,onClick:r,onDropdownClick:l,mainButtonTooltip:d,dropdownTooltip:c,iconLeading:p,iconStyle:f,mainButtonStyle:b,isLoading:v,className:h,disabled:y,disableDropdown:S,size:_,variant:w="solid"}=e,k=(0,i().IS)((e=>{const t=(0,s().qq)({size:_,isButtonGapEnabled:!1});return{wrap:{position:"relative",display:"inline-flex",flexShrink:0,borderRadius:6,overflow:"hidden",height:t.height,...o},border:{position:"absolute",pointerEvents:"none",border:"outline"===w?`1px solid ${e.outlineButtonBorder}`:void 0,borderRadius:t.borderRadius,top:0,insetInlineStart:0,insetInlineEnd:0,bottom:0}}}),[_,w,o]);return(0,u.jsxs)("div",{style:k.wrap,className:h,children:[(0,u.jsx)(m,{ref:t,color:a,disabled:y,iconLeading:p,iconStyle:f,isLoading:v,mainButtonStyle:b,mainButtonTooltip:d,onClick:r,title:n,variant:w}),(0,u.jsx)(g,{ref:t,color:a,disabled:S,dropdownTooltip:c,isLoading:v,onDropdownClick:l,variant:w}),(0,u.jsx)("div",{style:k.border})]})}))),m=a.memo(a.forwardRef((function(e,t){const{mainButtonTooltip:a,onClick:r,disabled:l,isLoading:p,iconLeading:m,title:g,color:v,variant:h,mainButtonStyle:y,iconStyle:S,size:_}=e,w=(0,i().IS)((e=>{const t=(0,s().qq)({size:_,isButtonGapEnabled:!1}),a=b({color:v,variant:h,theme:e});return{mainButton:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderStartStartRadius:6,borderEndStartRadius:6,paddingInlineStart:t.paddingInlineStart,paddingInlineEnd:t.paddingInlineEnd,fontSize:t.fontSize,fontWeight:o(284371).Wy.medium,...a.default,...y},icon:{width:12,marginInlineEnd:6,fill:f(v,h,{outline:a.default.color,solid:{blue:d().Tj.white,black:d().Tj.white,orange:e.palette.orange[400]}}),...S},buttonHoveredStyle:a.hovered,buttonPressedStyle:a.pressed}}),[v,S,y,_,h]);return a?(0,u.jsx)(c().A,{renderTooltip:()=>a,render:e=>(0,u.jsxs)(n().Ay,{ref:t,style:w.mainButton,onClick:r,disabled:l,disabledFeedback:!0,hoveredStyle:w.buttonHoveredStyle,pressedStyle:w.buttonPressedStyle,...e,children:[m?m(w.icon):null,g]})}):(0,u.jsxs)(n().Ay,{ref:t,style:w.mainButton,onClick:r,disabled:l||p,disabledFeedback:!0,hoveredStyle:w.buttonHoveredStyle,pressedStyle:w.buttonPressedStyle,children:[p?(0,u.jsx)(o(98126).A,{style:{marginInlineEnd:4}}):null,m?m(w.icon):null,g]})}))),g=a.memo(a.forwardRef((function(e,t){const{disableDropdown:r,disabled:p,dropdownTooltip:m,onDropdownClick:g,isLoading:v,size:h,color:y,variant:S}=e,{isMobile:_}=(0,o(484714).Y0)(),w=(0,i().IS)((e=>{const t=(0,s().qq)({size:h,isButtonGapEnabled:!1}),a=b({color:y,variant:S,theme:e});return{dropdownButton:{display:"flex",alignItems:"center",justifyContent:"center",width:_?28:24,alignSelf:"stretch",borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,boxShadow:"outline"===S||"blue"===y||"black"===y?`inset 1px 0 0 ${e.darkDividerColor}`:"orange"===y?`${e.palette.orange["dark"===e.mode?200:100]} 1px 0 0 inset`:(0,o(534177).HB)(y),...a.default},dropdownButtonIcon:{width:o(340498).Ev.sm,marginTop:2,fill:f(y,S,{outline:a.default.color,solid:{blue:d().Tj.white,black:d().Tj.white,orange:e.palette.orange["dark"===e.mode?500:400]}})},buttonHoveredStyle:a.hovered,buttonPressedStyle:a.pressed}}),[y,_,h,S]),k=(0,a.useCallback)((e=>(0,u.jsx)(n().Ay,{ref:t,style:w.dropdownButton,onClick:g,disabledFeedback:!0,hoveredStyle:w.buttonHoveredStyle,pressedStyle:w.buttonPressedStyle,...e,children:(0,l().arrowChevronSingleDownFillSmallIcon)(w.dropdownButtonIcon)})),[g,t,w.buttonHoveredStyle,w.buttonPressedStyle,w.dropdownButton,w.dropdownButtonIcon]),x=(0,a.useCallback)((()=>m),[m]);return r||p?null:m?(0,u.jsx)(c().A,{renderTooltip:x,render:k}):(0,u.jsx)(n().Ay,{ref:t,style:w.dropdownButton,onClick:g,disabledFeedback:!0,hoveredStyle:w.buttonHoveredStyle,pressedStyle:w.buttonPressedStyle,disabled:v,children:(0,l().arrowChevronSingleDownFillSmallIcon)(w.dropdownButtonIcon)})})));function f(e,t,o){return"object"!=typeof o[t]?o[t]:o[t][e]}function b(e){const{color:t,variant:o,theme:a}=e;return{default:{background:f(t,o,{outline:void 0,solid:{blue:a.blue.background.accentPrimary,black:a.background.accentPrimary,orange:a.orange.background.secondaryTranslucent}}),color:f(t,o,{outline:{blue:a.blue.text.accentPrimary,black:a.text.primary,orange:a.orange.text.accentPrimary},solid:{blue:a.blue.text.inversePrimary,black:a.text.inversePrimary,orange:a.orange.text.accentPrimary}})},hovered:{background:f(t,o,{outline:{blue:a.blue.background.secondaryTranslucent,black:a.gray.background.secondaryTranslucent,orange:a.orange.background.secondaryTranslucent},solid:{blue:(0,r().R)({color:a.blue.background.accentPrimary,mode:a.mode}),black:(0,r().R)({color:a.background.accentPrimary,mode:"dark"}),orange:(0,r().R)({color:a.orange.background.secondaryTranslucent,mode:a.mode})}})},pressed:{background:f(t,o,{outline:{blue:(0,r().y)({color:a.blue.background.secondaryTranslucent,mode:a.mode}),black:(0,r().y)({color:a.gray.background.secondaryTranslucent,mode:a.mode}),orange:(0,r().y)({color:a.orange.background.secondaryTranslucent,mode:a.mode})},solid:{blue:(0,r().y)({color:a.blue.background.accentPrimary,mode:a.mode}),black:(0,r().y)({color:a.background.accentPrimary,mode:"dark"}),orange:(0,r().y)({color:a.orange.background.secondaryTranslucent,mode:a.mode})}})}}}},432229:(e,t,o)=>{o.d(t,{P:()=>M});o(581454),o(296540);var a=()=>o(560198),i=()=>o(401497),n=()=>o(699143),r=()=>o(718827),s=()=>o(252291),l=()=>o(406094),d=()=>o(631524),c=()=>o(493552),u=()=>o(995847),p=()=>o(460292),m=o(474848);function g(e){const t=(0,i().IS)((e=>({background:{position:"absolute",top:8,insetInlineEnd:8,width:24,height:24,borderRadius:"100%",background:e.background.accentPrimary},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},hovered:{background:e.buttonHoveredBackground},pressed:{background:e.buttonPressedBackground}})),[]);return(0,m.jsx)("div",{style:t.background,children:(0,m.jsx)(r().Ay,{onClick:e.onClick,style:t.button,hoveredStyle:t.hovered,pressedStyle:t.pressed,children:(0,m.jsx)(s().I,{icon:u().xMarkSmallIcon,size:"sm",colorVariant:"primary"})})})}function f(e){const{text:t,onClick:o}=e,a=(0,i().IS)((e=>({button:{height:28,padding:"0 8px",borderRadius:6,borderWidth:1,borderColor:e.border.primary,borderStyle:"solid"}})),[]);return(0,m.jsx)(l().A,{size:"lg",onClick:o,style:a.button,children:(0,m.jsx)(c().D,{styleKey:"Caption/Medium",colorVariant:"primary",children:t})})}function b(e){const{text:t,onClick:o}=e;return(0,m.jsx)(d().p,{onClick:o,children:(0,m.jsx)(c().D,{styleKey:"Caption/Medium",colorVariant:"secondary",children:t})})}function v(e){const{text:t,onClick:o}=e,a=(0,i().IS)((()=>({button:{height:28,padding:"4px 8px"}})),[]);return(0,m.jsx)(l().A,{size:"lg",onClick:o,style:a.button,children:(0,m.jsx)(c().D,{styleKey:"Caption/Medium",colorVariant:"primary",children:t})})}function h(e){const{button:t}=e;return(0,m.jsx)(v,{...t})}function y(e){const{primary:t,secondary:o}=e;return(0,m.jsxs)(n().Y1,{direction:"horizontal",gap:8,align:"center-left",children:[(0,m.jsx)(f,{...t}),o?(0,m.jsx)(b,{...o}):void 0]})}function S(e){const{primary:t}=e;return(0,m.jsx)(n().Y1,{direction:"horizontal",gap:8,align:"center-right",children:(0,m.jsx)(f,{...t})})}function _(e){const{numDots:t,activeDot:o}=e,a=(0,i().IS)((e=>({dot:{width:6,height:6,borderRadius:"100%",background:e.icon.quaternary},active:{background:e.icon.primary}})),[]),r=new Array(t).fill(0).map(((e,t)=>{const i=t===o?{...a.dot,...a.active}:a.dot;return(0,m.jsx)("div",{style:i},t)}));return(0,m.jsx)(n().Y1,{direction:"horizontal",gap:8,children:r})}function w(e){const{button:t,numStages:o,stage:a}=e;return(0,m.jsxs)(n().Y1,{direction:"horizontal",gap:"auto",align:"center",children:[(0,m.jsx)(_,{numDots:o,activeDot:a}),(0,m.jsx)(f,{...t})]})}function k(e){const{alt:t,src:o,type:a}=e,n=(0,i().IS)((()=>({media:{width:"100%",height:"auto",borderRadius:2}})),[]);return"image"===a?(0,m.jsx)("img",{src:o,style:n.media,alt:t}):(0,m.jsx)("video",{title:t,src:o,style:n.media,autoPlay:!0,playsInline:!0,muted:!0,loop:!0,controls:!1})}function x(e){const{onDismiss:t,buttonsProps:o,icon:a,title:r,media:s,body:l,badge:d}=e,u=(0,i().IS)((e=>({card:{borderWidth:1,borderColor:e.border.secondary,borderStyle:"solid",background:e.background.accentPrimary,backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",padding:12,width:280},title:{paddingInlineEnd:24},icon:{paddingBottom:2}})),[]);let f,b,v,_,x;if(o)switch(o.type){case"carousel":f=(0,m.jsx)(w,{...o});break;case"full-width":f=(0,m.jsx)(h,{...o});break;case"left-aligned":f=(0,m.jsx)(y,{...o});break;case"right-aligned":f=(0,m.jsx)(S,{...o})}return a&&(b=(0,m.jsx)(p().Q,{iconGroup:a,variantName:"small",colorVariant:"primary",style:u.icon})),r&&(v=(0,m.jsx)("div",{style:u.title,children:(0,m.jsxs)(c().D,{styleKey:"Caption/Semibold",colorVariant:"inversePrimary",children:[r,d]})})),l&&(_=(0,m.jsx)(c().D,{styleKey:"Caption/Regular",colorVariant:"primary",children:l})),s&&(x=(0,m.jsx)(k,{...s})),(0,m.jsxs)(n().Y1,{style:u.card,borderRadius:8,gap:8,children:[(0,m.jsxs)(n().Y1,{gap:2,children:[b,v,_]}),x,f,(0,m.jsx)(g,{onClick:t})]})}function M(e){return(0,m.jsx)(a().wX,{mode:"dark",children:(0,m.jsx)(x,{...e})})}},450930:(e,t,o)=>{o.d(t,{B:()=>l});o(296540);var a=()=>o(401497),i=()=>o(252291),n=()=>o(721479),r=()=>o(859428),s=o(474848);function l(e){const{tooltipMessage:t,customContainerStyles:o,tooltipWidth:l,overlayContainerZIndex:d}=e,c=function(e){return(0,a().IS)((t=>({tooltip:{width:e??"300px"},tooltipIconContainer:{position:"absolute",marginInlineStart:4,marginTop:2}})),[e])}(l);return(0,s.jsx)(r().A,{placement:"right",style:c.tooltip,render:e=>(0,s.jsx)("span",{...e,style:{...c.tooltipIconContainer,...o},children:(0,s.jsx)(i().I,{icon:n().questionMarkCircleSmallIcon,size:"xs",colorVariant:"tertiary"})}),renderTooltip:()=>t,textWrap:!0,overlayContainerZIndex:d})}},464412:(e,t,o)=>{o.d(t,{X:()=>l});var a=()=>o(59226),i=()=>o(56366),n=()=>o(686070),r=()=>o(583238),s=()=>o(765957);function l(){const e=(0,i().K8)((()=>(0,r().mX)()),[]),t=(0,i().K8)((()=>s().default.state.sidebarSpaceStore&&(0,n().d)({spaceStore:s().default.state.sidebarSpaceStore})),[]),o=(0,a().X)("notion_calendar_launch_modal");return e||t||!o}},465505:(e,t,o)=>{o.d(t,{P:()=>i});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.55 16.45",svg:(0,o(474848).jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l6.65-3.67c.2-.11.323-.32.323-.547V6.069a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zm6.65 9.414v-6.434l5.4-2.98v6.435zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"})},i=(0,o(340498).wt)("cube",a)},478873:(e,t,o)=>{o.d(t,{Y:()=>n});var a=()=>o(47373),i=()=>o(272509);function n(e){if(!e||(0,i().I)(e))return{canShowInviteMembers:!1,canRequestMembers:!1};const t=!e.canEditMembership()&&!e.getDisableMembershipRequests()&&(0,a().x3)();return{canShowInviteMembers:e.canEditMembership()||t,canRequestMembers:t}}},479349:(e,t,o)=>{o.d(t,{cT:()=>x,Jf:()=>M});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(757695),s=()=>o(51260),l=()=>o(765957),d=()=>o(961581),c=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(581454),()=>o(892736)),u=()=>o(58212),p=()=>o(842677),m=()=>o(564884),g=()=>o(553737);const f="1.3.0";class b{constructor(e){this.storageKeyPrefix="notion-sidebar-",this.store=new(g().Ay)({namespace:g().Bq,important:!1,trackingType:"performance"}),this.loggingEnabled=Math.random()<o(242422).default.getConfigKey("sidebar_cache_logging_config","sample_rate"),this.environment=e}async get(e){try{await this.store.waitUntilReady();const t=this.storageKeyPrefix+e,{duration:o,result:a}=v((()=>this.store.get(t)));return a?a.version!==f?(this.logRead({duration:o,status:"stale",result:a}),void this.clear(e)):(this.logRead({duration:o,status:"success",result:a}),a):void this.logRead({duration:o,status:"missing"})}catch(t){return void this.logRead({status:"failure"})}}set(e,t){try{const o=this.storageKeyPrefix+e,{duration:a}=v((()=>this.store.set(o,t)));this.logWrite({duration:a,status:"success",result:t})}catch(o){this.logWrite({status:"failure",result:t})}}clear(e){try{const t=this.storageKeyPrefix+e;this.store.remove(t)}catch(t){}}logRead({duration:e,status:t,result:o}){this.loggingEnabled&&(0,m().u)({environment:this.environment,event:{eventName:"sidebar.cache_access_attempt",eventProperties:{time:e,type:"read",status:t,size_kb:o&&"object"==typeof o?this.calculateSizeKb(o):0,source:"local_storage"}}})}logWrite({duration:e,status:t,result:o}){this.loggingEnabled&&(0,m().u)({environment:this.environment,event:{eventName:"sidebar.cache_access_attempt",eventProperties:{time:e,type:"write",status:t,size_kb:this.calculateSizeKb(o),source:"local_storage"}}})}calculateSizeKb(e){try{const t=JSON.stringify(e),o=new Blob([t]).size;return Math.round(o/1024)}catch{return 0}}}function v(e){const t=performance.now(),o=e();return{duration:Math.round(performance.now()-t),result:o}}function h(e,t){return`sidebar-state-${e}-${t}`}function y(e,t){const o=p().RecordStores.createUniqueRootStore(t,e.pointer);return void 0!==e.title||void 0!==e.icon?o.createFastRenderBlockStore(e.title??[],e.icon):o}function S(e){const t=e.isDefined()?e.getTitleValue():[],o=e.isDefined()?e.getIcon():void 0,a=null==o?void 0:o.icon;return{pointer:e.pointer,title:t,icon:a}}function _(e){const t=e.isDefined()?e.getName():"",o=e.isDefined()?e.getRawIcon():void 0,a=e.isDefined()?e.getTeamPagesStores():[];return{pointer:e.pointer,name:t,icon:o,pages:a.map(S)}}function w(e){const t=e.isDefined()?e.getData():void 0,o=null==t?void 0:t.name,a=null==t?void 0:t.icon;return{pointer:e.pointer,title:o,icon:a}}const k=new class{constructor(){this.cache=void 0,this.pendingResults=new Map,this.results=new Map,this.cachedThisSession=new Set,this.disabledCacheKeys=new Set}getCache(e){return this.cache||(this.cache=new b(e)),this.cache}getCachedSidebarStateResult(e,t){const o=`${e}:${t}`;if(!this.disabledCacheKeys.has(o))return this.results.get(o)}async getCachedSidebarState(e,t,o){const a=`${e}:${t}`;if(this.disabledCacheKeys.has(a))return;if(this.results.has(a))return this.results.get(a);if(this.pendingResults.has(a))return this.pendingResults.get(a);const i=this.readFromStorage(e,t,o).then((e=>{if(!this.disabledCacheKeys.has(a))return this.results.set(a,e),e})).catch((()=>{}));return this.pendingResults.set(a,i),i}async readFromStorage(e,t,o){const a=h(e,t),i=await this.getCache(o).get(a);if(i)try{return function(e,t){return{isCached:!0,spaceViewId:e.spaceViewId,spaceId:e.spaceId,spaceName:e.spaceName,userId:e.userId,isMember:e.isMember,isPersonalSpace:e.isPersonalSpace,showBookmarksSection:e.showBookmarksSection,showWorkspaceSection:e.showWorkspaceSection,showSharedSection:e.showSharedSection,showPrivateSection:e.showPrivateSection,showChatsSection:e.showChatsSection,showSharedOverflowButton:e.showSharedOverflowButton,showPrivateOverflowButton:e.showPrivateOverflowButton,showOnlyPrivateSection:e.showOnlyPrivateSection,shownSidebarSectionCount:e.shownSidebarSectionCount,showTeamsOverflowButton:e.showTeamsOverflowButton,stickTemplateItemsToBottom:e.stickTemplateItemsToBottom,showTeamSection:e.showTeamSection,showCrossWorkspaceGuestPagesPrototype:e.showCrossWorkspaceGuestPagesPrototype,showEmptySharedSection:e.showEmptySharedSection,documentationLinkLocation:e.documentationLinkLocation,allSharedPagesStores:[],allPrivatePagesStores:[],userJoinedTeamsStores:[],visibleSharedPagesStores:e.visibleSharedPagesStores.map((e=>y(e,t))),visiblePrivatePagesStores:e.visiblePrivatePagesStores.map((e=>y(e,t))),bookmarkedPagesStores:e.bookmarkedPagesStores.map((e=>y(e,t))),workspacePagesStores:e.workspacePagesStores.map((e=>y(e,t))),visibleTeamsStores:e.visibleTeamsStores.map((e=>function(e,t){const o=p().RecordStores.createUniqueRootStore(t,e.pointer);if(void 0!==e.name||void 0!==e.icon||e.pages.length>0)return(0,c().x)({store:o,environment:t,name:e.name??"",icon:e.icon,cachedTeamPagesStores:e.pages.map((e=>y(e,t)))});return o}(e,t))),visibleWorkflowStores:e.visibleWorkflowStores.map((e=>function(e,t){const o=p().RecordStores.createUniqueRootStore(t,e.pointer);if(void 0!==e.title||void 0!==e.icon)return(0,u().J)({store:o,environment:t,name:e.title??"",icon:e.icon});return o}(e,t))),isTeamContentReady:!0,userSharedPagesForSpaceHasLoaded:!0,sidebarOrder:e.sidebarOrder}}(i,o)}catch(n){return void this.getCache(o).clear(a)}}cacheSidebarState({spaceId:e,userId:t,sidebarState:o,environment:a}){const i=h(e,t),n=`${e}:${t}`;var r;if(!this.cachedThisSession.has(n))try{const e={spaceViewId:(r=o).spaceViewId,spaceId:r.spaceId,spaceName:r.spaceName,userId:r.userId,isMember:r.isMember,isPersonalSpace:r.isPersonalSpace,showBookmarksSection:r.showBookmarksSection,showWorkspaceSection:r.showWorkspaceSection,showSharedSection:r.showSharedSection,showPrivateSection:r.showPrivateSection,showChatsSection:r.showChatsSection,showSharedOverflowButton:r.showSharedOverflowButton,showPrivateOverflowButton:r.showPrivateOverflowButton,showOnlyPrivateSection:r.showOnlyPrivateSection,shownSidebarSectionCount:r.shownSidebarSectionCount,showTeamsOverflowButton:r.showTeamsOverflowButton,stickTemplateItemsToBottom:r.stickTemplateItemsToBottom,showTeamSection:r.showTeamSection,showCrossWorkspaceGuestPagesPrototype:r.showCrossWorkspaceGuestPagesPrototype,showEmptySharedSection:r.showEmptySharedSection,documentationLinkLocation:r.documentationLinkLocation,visibleSharedPagesStores:r.visibleSharedPagesStores.map(S),visiblePrivatePagesStores:r.visiblePrivatePagesStores.map(S),bookmarkedPagesStores:r.bookmarkedPagesStores.map(S),workspacePagesStores:r.workspacePagesStores.map(S),visibleTeamsStores:r.visibleTeamsStores.map(_),visibleWorkflowStores:r.visibleWorkflowStores.map(w),sidebarOrder:r.sidebarOrder,cachedAt:Date.now(),version:f};this.getCache(a).set(i,e),this.cachedThisSession.add(n)}catch(s){}}disableCache({spaceId:e,userId:t}){const o=`${e}:${t}`;this.disabledCacheKeys.has(o)||(this.disabledCacheKeys.add(o),this.pendingResults.delete(o),this.results.delete(o))}isCacheDisabled(e,t){const o=`${e}:${t}`;return this.disabledCacheKeys.has(o)}clearCachedSidebarState({spaceId:e,userId:t,environment:o}){const a=h(e,t),i=`${e}:${t}`;this.getCache(o).clear(a),this.pendingResults.delete(i),this.results.delete(i)}};function x({isFreshStateReady:e,userId:t,spaceId:o}){const{enableSidebarStateCache:n}=(0,s().b8)(t),[l]=(0,a.useState)((()=>r().Store.createValue(n&&t&&o?k.getCachedSidebarStateResult(o,t):void 0,{name:"cachedSidebarStateStore"})));(0,a.useEffect)((()=>{n&&e&&t&&o&&k.disableCache({spaceId:o,userId:t})}),[n,e,t,o]);const d=(0,i().v3)();return(0,a.useEffect)((()=>{n&&t&&o&&!k.isCacheDisabled(o,t)&&k.getCachedSidebarState(o,t,d).then((e=>l.setState(e)))}),[t,o,d,n,l]),l}function M({sidebarState:e}){const t=(0,i().v3)(),{userId:o,spaceId:r,isInitialPageRenderCompleted:c}=(0,n().K8)((()=>{var e,t;return{userId:null===(e=l().default.state.currentUserStore)||void 0===e?void 0:e.id,spaceId:null===(t=l().default.state.sidebarSpaceStore)||void 0===t?void 0:t.id,isInitialPageRenderCompleted:d().A.state.initialRenderCompleted}}),[]),{enableSidebarStateCache:u}=(0,s().b8)(o);(0,a.useEffect)((()=>{o&&r&&null!=e&&e.userSharedPagesForSpaceHasLoaded&&e.isTeamContentReady&&!e.isCached&&c&&(u?k.cacheSidebarState({spaceId:r,userId:o,sidebarState:e,environment:t}):k.clearCachedSidebarState({spaceId:r,userId:o,environment:t}))}),[o,r,c,e,u,t])}},481411:(e,t,o)=>{o.d(t,{k:()=>n});const a=["topbar_more_button","available_offline_item"];class i extends(()=>o(757695))().Store{getInitialState(){return{currentStep:a[0],numSteps:a.length}}nextStep(){const e=a.indexOf(this.state.currentStep);e>=this.state.numSteps-1||this.setState({...this.state,currentStep:a[e+1]})}reset(){super.reset()}}const n=new i},497222:(e,t,o)=>{o.d(t,{A:()=>m});o(296540);var a=()=>o(804773),i=()=>o(401497),n=()=>o(252291),r=()=>o(906380),s=()=>o(30626),l=()=>o(284371),d=()=>o(760217),c=()=>o(612900),u=()=>o(700251),p=o(474848);function m(e){const{icon:t,iconStyle:o,title:m,caption:g,right:f,rightStyle:b,isRed:v,isGray:h,isOrange:y,onClick:S,onMouseDown:_,onMouseEnter:w,onMouseLeave:k,disabled:x,showChevron:M,chevronStyle:C,rotateChevron:T,showDragHandle:I,focused:A,textWrapperStyle:j,shouldWrapCaption:B,desktopIconStyle:P,buttonStyle:D,desktopTitleStyle:N,source:R,menuListItemProps:O,isPulsing:E}=e,L=(0,u().y$)(),F=(0,i().IS)((e=>({style:{...(e=>h?{color:e.text.secondary,fill:e.icon.secondary}:y?{color:e.orange.icon.accentPrimary,fill:e.orange.icon.accentPrimary}:{color:e.text.primary,fill:e.icon.primary})(e),opacity:x?.4:void 0,...D},leftIconStyle:{width:L,height:L,...t===s()._&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:x?e.text.primary:e.text.tertiary,fill:x?e.icon.primary:e.icon.tertiary,flexShrink:0,...b},rightChevronStyle:{marginInlineStart:"tableHeaderMenu"===R?0:6,transition:"transform 200ms ease-in-out",...T&&{transform:"rotate(90deg)"},...C}})),[h,y,x,o,t,C,b,D,L,T,R]),{itemRef:V,isTabbable:K,onKeyDown:U,onFocus:W}=(0,a().e)(),z=(0,p.jsx)(d().A,{ref:V,role:"menuitem",icon:null==t?void 0:t(F.leftIconStyle),focused:A||!1,disabled:x,title:m,caption:g,shouldWrapCaption:B,desktopTitleStyle:{flexGrow:1,flexShrink:1,...N},onKeyDown:U,onFocus:W,disallowTabbing:!K,showDragHandle:I,buttonStyle:F.style,rightStyle:F.rightStyle,isRedOnHover:v,ignoreLocalHoverState:!!x||void 0,right:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...l().RC,display:"flex"},children:f}),!x&&M?(0,p.jsx)(n().I,{icon:r().arrowChevronSingleRightSmallIcon,size:"sm",colorVariant:"tableHeaderMenu"===R?"secondary":"tertiary",style:F.rightChevronStyle}):null]}),onClick:S,onMouseDown:_,onMouseEnter:w,onMouseLeave:k,textWrapperStyle:j,desktopIconStyle:P,reducedPadding:e.reducedPadding,...O});return E?(0,p.jsx)(c().u,{borderRadius:6,shape:"square",children:z}):z}},519618:(e,t,o)=>{o.d(t,{d:()=>h});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(611648),l=()=>o(779315),d=()=>o(620689),c=()=>o(923455),u=()=>o(765957),p=()=>o(714818),m=()=>o(712505),g=()=>o(279047),f=()=>o(2143),b=()=>o(13679),v=o(474848);function h({children:e,scrollerStore:t,scrollerStyle:o}){const h=(0,n().O$)(u().AppStoreSidebarSpaceStore),y=(0,c().Rx)(),{isTablet:S}=(0,i().Y0)(),_=(0,i().v3)(),w=(0,n().K8)((()=>m().default.isCenterPeekOpen()||p().A.state.open),[]),k=(0,r().IS)((()=>({scroller:{paddingTop:6,flexGrow:1,...o}})),[o]),x=(0,a.useCallback)((e=>{l().A.SidebarScroller=e}),[]);return y?h?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(g().A,{type:"top",scrollerStore:t}),(0,v.jsx)(b().A,{store:h,droppable:!0,disableRectangularSelection:!0,disableEditNearestBlock:!0,disable:w,render:({selectableEvents:o})=>(0,v.jsx)(f().H,{type:s().A.Y,store:t,style:k.scroller,ref:x,preventType:S?d().u5(_):void 0,...o,children:e},y.spaceViewId)})]}):(0,v.jsx)(f().H,{type:s().A.Y,store:t,style:k.scroller,ref:x,preventType:void 0,children:e},y.spaceViewId):null}},533336:(e,t,o)=>{o.r(t),o.d(t,{appendTranscriptionBlockToPage:()=>P,createAndNavigateToTranscriptionBlock:()=>N,createTranscriptionBlock:()=>R,navigateToTranscriptionBlock:()=>D});o(944114),o(898992),o(354520);var a=()=>o(906745),i=()=>o(584262),n=()=>o(700500),r=()=>o(597777),s=()=>o(604995),l=()=>o(416504),d=()=>o(201980),c=()=>o(534177),u=()=>o(557281),p=()=>o(669548),m=()=>o(44729),g=()=>o(579627),f=()=>o(857783),b=()=>o(281948),v=()=>o(185544),h=()=>o(319975),y=()=>o(231297),S=()=>o(87017),_=()=>o(495506),w=(o(672577),()=>o(379560)),k=()=>o(338931);var x=()=>o(211716),M=()=>o(972435),C=()=>o(812109),T=()=>o(765957),I=()=>o(148832),A=()=>o(543665),j=()=>o(711207);const B=(0,o(69708).YK)({newPage:{id:"transcriptionCreateActions.newPage.title",defaultMessage:"Try AI Meeting Notes "}});function P(e){const{environment:t,from:o}=e;y().createAndCommit({userAction:"transcriptionCreateActions.appendTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{(0,S().insertBlockBelow)({environment:t,createBlockItem:_().ry[n().xd.transcription],analyticsFrom:o??"quick_templates",selection:[],transaction:e})}})}function D(e){const{environment:t,origin:o,peekMode:a,blockStore:i,pageVisitSource:n}=e;a?b().VU({environment:t,openInNew:void 0,store:i,peekMode:a,pageVisitSource:n,resultsStore:void 0,collectionContextStore:void 0}):f().uK({environment:t,store:i,visitType:x().ig.Link,pageVisitSource:n,origin:o})}function N(e){const{environment:t,from:o,title:a,origin:n,parent:r,calendarEvent:s,peekMode:l,sharedNote:d,pageVisitSource:c=i().y8.Create}=e;let u;if(u=R(d?{environment:t,from:o,title:a,parent:r,calendarEvent:s,sharedNote:d}:{environment:t,from:o,title:a,parent:r,calendarEvent:s}),u)return D({environment:t,blockStore:u.pageStore,pageVisitSource:c,origin:n,peekMode:l}),u.transcriptionBlockStore}function R(e){const{environment:t,from:o,title:i,parent:f,calendarEvent:b,sharedNote:S}=e,x=T().default.state.sidebarSpaceStore,P=T().default.state.sidebarSpaceViewStore;if(!x||!P)return;const{performResult:D}=y().createAndCommit({userAction:"transcriptionCreateActions.createTranscriptionBlock",environment:t,canUndo:!1,perform:e=>{var y;const C=null===(y=T().default.state.sidebarSpaceViewStore)||void 0===y||null===(y=y.getSettings())||void 0===y||null===(y=y.default_meeting_notes_location)||void 0===y?void 0:y.collection,D="private"===f||"none"===f||"collection"===(null==f?void 0:f.table)||!f,N=D?v().IT({environment:t,spaceStore:x,spaceViewStore:P,parent:f??C??"private",transaction:e}):I().B.createChildStore(P,f);if(!N.isType(n().xd.page))return;if(S){const o=[];for(const e of b.attendees??[])e.notionUserId&&o.push({type:"user_permission",role:"editor",user_id:e.notionUserId});o.length&&g().zP({environment:t,store:N,permissionItems:o,transaction:e})}if(D){const o=function(e,t){var o,i,n;let u,p;switch(e){case"title_with_event":let e;if(t){const{startTime:o}=j().Wm(t);e={summary:t.summary,startDateTime:o}}else e=function(){const e=w().A.getEvents(),t=w().A.getCurrentAccounts();if(!e||0===e.length)return;const o=e.filter((e=>!e.isAllDay&&a().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone}).toISODate()===a().c9.now().toISODate())),i=(0,k().y6)({events:o,accounts:t,thresholds:void 0,filters:void 0}).find((e=>{const t=e.attendees??[];return!(e.isAllDay||"accepted"!==e.responseStatus||!e.summary||t.length<1)}));if(null!=i&&i.summary&&!i.isAllDay){const e=a().c9.fromISO(i.start.dateTime,{zone:i.start.timeZone});return{summary:i.summary,startDateTime:e}}}();u=null!==(o=e)&&void 0!==o&&o.summary?[`${e.summary} `]:void 0,p=null===(i=e)||void 0===i?void 0:i.startDateTime;break;case"new_page":u=[M().A.getIntl().formatMessage(B.newPage)];break;default:u=void 0,p=void 0}const m=(0,l().P)();p=(null===(n=p)||void 0===n?void 0:n.setZone(m))??a().c9.now();const g=[u,d().wmz(d().Ww9({type:"datetime",start_date:p.toFormat(s().tr),start_time:p.toFormat(r().GE),time_zone:m,date_format:"relative"}),[[d().BQP.Bold]])].filter(c().O9);return g}(i,b),n=N.getBlockTitleStore();h().yr({environment:t,store:n,tokens:o,transaction:e,index:0})}else if(C){const a=A().m.createChildStore(x,C);if(a){const i=a.getDefaultTemplatePageStore();i&&u().n5({title:"template",environment:t,store:N,templateStore:i,isKeyboard:!1,isCreateIn:!1,transaction:e,from:o})}}const R=_().ry.transcription,O=p().w({environment:t,transaction:e,inMemoryRecordCache:x.inMemoryRecordCache,from:o,selection:[],spaceId:x.id,createBlockItem:R});return b&&(j().Ud({blockStore:O,event:b,transaction:e,environment:t}),j().bk({blockStore:O,event:b,transaction:e,environment:t})),m().Ti({childStore:O,parentStore:N,transaction:e}),{createdTranscriptionBlock:O,createdPage:N}}});return D?(w().A.updateStateForSidebarSpaceView((e=>{const t=D.createdTranscriptionBlock.pointer;return e&&b?(e.events.append((0,C().z)(b),{...b,blockAttachments:[t,...b.blockAttachments??[]]},{keepOrdering:!0}),e):e})),{transcriptionBlockStore:D.createdTranscriptionBlock,pageStore:D.createdPage}):void 0}},541808:(e,t,o)=>{o.d(t,{B:()=>r});var a=()=>o(56366),i=()=>o(496603),n=()=>o(379560);function r(){return(0,a().K8)((()=>{var e;const t=i().$z((null===(e=n().A.getHomeCalendarStateForSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(({authorized:e})=>String(e)));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[],{useDeepEqual:!0})}},569397:(e,t,o)=>{o.r(t),o.d(t,{arrowStraightRightSmallIcon:()=>i,iconDefinition:()=>a});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.05 11.76 9.9",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M9.372 3.238a.625.625 0 1 0-.884.884l3.253 3.253H2.75a.625.625 0 0 0 0 1.25h8.991l-3.253 3.253a.625.625 0 0 0 .884.884l4.32-4.32a.625.625 0 0 0 0-.884z"})},i=(0,o(340498).wt)("arrowStraightRightSmall",a)},570551:(e,t,o)=>{function a(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>a})},582094:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,personCropCircleBadgePlusIcon:()=>n});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"0.5 2.37 17.12 17.13",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 5.992 7.45q.197-.587.228-1.23a6.4 6.4 0 0 0 4.454-.62c-.547-1.049-1.697-1.789-3.05-1.789a3.55 3.55 0 0 0-1.739.45q-.241-.587-.626-1.081A4.8 4.8 0 0 1 10 12.561c1.754 0 3.298.934 4.087 2.332A6.375 6.375 0 1 0 3.78 11.406q-.643.032-1.23.227A7.7 7.7 0 0 1 2.375 10"}),(0,a.jsx)("path",{d:"M4 12.5a3.5 3.5 0 0 0-1.137.189A3.502 3.502 0 0 0 4 19.5a3.5 3.5 0 1 0 0-7m-2.594 3.531c0-.345.28-.625.625-.625h1.375v-1.375a.625.625 0 0 1 1.25 0v1.375h1.375a.625.625 0 0 1 0 1.25H4.656v1.375a.625.625 0 1 1-1.25 0v-1.375H2.031a.625.625 0 0 1-.625-.625m6.349-9.862C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})]})},n=(0,o(340498).wt)("personCropCircleBadgePlus",i)},606982:(e,t,o)=>{o.d(t,{A:()=>n});var a=()=>o(10123),i=()=>o(570551);function n(e,t){(0,i().A)(2,arguments);var o=(0,a().A)(e),n=(0,a().A)(t),r=o.getTime()-n.getTime();return r<0?-1:r>0?1:r}},610101:(e,t,o)=>{o.d(t,{A:()=>i});class a extends(()=>o(757695))().Store{getInitialState(){return!1}}const i=new a},647621:(e,t,o)=>{o.d(t,{Ks:()=>i,XZ:()=>n,xc:()=>r});var a=()=>o(69708);const i=(0,a().YK)({paymentMethodUnverified:{id:"subscriptions.paymentMethodUnverified",defaultMessage:"Your payment is being processed. Please try again when your payment has completed."},otherPaymentMethod:{id:"subscriptions.otherPaymentMethod",defaultMessage:"Other"},adminOnlyAction:{id:"subscriptions.adminOnlyAction",defaultMessage:"Only workspace owners can perform this action."},iosSubscriptionRestriction:{id:"subscriptions.iosSubscriptionRestriction",defaultMessage:"You’re currently subscribed through an in-app purchase with Apple. To change your subscription, cancel your subscription with Apple first."},androidSubscriptionRestriction:{id:"subscriptions.androidSubscriptionRestriction",defaultMessage:"You’re currently subscribed through an in-app purchase with Google. To change your subscription, cancel your subscription with Google first."},mixedSubscriptionRestriction:{id:"subscriptions.mixedSubscriptionRestriction",defaultMessage:"You’re currently subscribed through Notion and an in-app purchase. To change your subscription, cancel your subscription with your mobile app store first."},galaxyAppRestriction:{id:"subscriptions.galaxyAppRestriction",defaultMessage:"This action is currently not available on the Samsung Galaxy app."}}),n=(0,a().YK)({trialTitle:{id:"nudges.trial.title",defaultMessage:"Notion for collaboration"},trialDescription:{id:"nudges.trial.description",defaultMessage:"Get 14 days of unlimited content creation with others"},trialCta:{id:"nudges.trial.cta",defaultMessage:"Try it for free"},trialTooltip:{id:"nudges.trial.tooltip",defaultMessage:"Use Notion as much as you want, with as many people as you like. You’ll receive a reminder when your trial is ending, and can cancel anytime."},approachingBlockLimitTitle:{id:"nudges.approachingBlockLimit.title",defaultMessage:"Upgrade to go unlimited"},approachingBlockLimitDescription:{id:"nudges.approachingBlockLimit.description",defaultMessage:"Continue using Notion to collaborate with others"},approachingBlockLimitTooltip:{id:"nudges.approachingBlockLimit.tooltip",defaultMessage:"You’re reaching the maximum number of free blocks given on your plan ({percentageUsed}). You won’t be able to create more content unless you upgrade to the Plus plan."},reachedBlockLimitTitle:{id:"nudges.reachedBlockLimit.title",defaultMessage:"Keep using Notion"},reachedBlockLimitDescription:{id:"nudges.reachedBlockLimit.description",defaultMessage:"{spaceName} has used 100% of the free blocks in the workspace"},manageMembersCta:{id:"nudges.manageMembers.cta",defaultMessage:"Manage members"},reachedBlockLimitCta:{id:"nudges.reachedBlockLimit.cta",defaultMessage:"Upgrade plan"},reachedBlockLimitCtaForMembers:{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"},reachedBlockLimitTooltip:{id:"nudges.reachedBlockLimit.tooltip",defaultMessage:"You’ve reached the maximum number of free blocks for your plan (100%). You won’t be able to create more content unless you upgrade to the Plus plan."}}),r=(0,a().YK)({enteringMultiplayerTitle:{id:"blockLimit.enteringMultiplayer.title",defaultMessage:"Collaborate in Notion"},enteringMultiplayerDescription:{id:"blockLimit.enteringMultiplayer.description",defaultMessage:"You have 1,000 blocks to create content with your team"},enteringMultiplayerLearnMore:{id:"blockLimit.enteringMultiplayer.learnMore",defaultMessage:"Learn more"},approachingBlockLimitTitle:{id:"blockLimit.approachingBlockLimit.title",defaultMessage:"Running out of free blocks"},approachingBlockLimitDescription:{id:"blockLimit.approachingBlockLimit.description",defaultMessage:"You’ve used most of this workspace’s 1,000 free blocks"},approachingBlockLimitTooltip:{id:"blockLimit.approachingBlockLimit.tooltip",defaultMessage:"You won’t be able to create new content unless you upgrade to a paid plan"},enteringGracePeriodTitle:{id:"blockLimit.enteringGracePeriod.title",defaultMessage:"{dayCount, plural, one {1 day} other {{dayCount} days}} left to upgrade"},enteringGracePeriodDescription:{id:"blockLimit.enteringGracePeriod.description",defaultMessage:"This workspace is out of free blocks for you and your team"},enteringGracePeriodTooltip:{id:"blockLimit.enteringGracePeriod.tooltip",defaultMessage:"Notion is free & unlimited for workspaces with 1 member"},enteringGracePeriodTooltipSubtitle:{id:"blockLimit.enteringGracePeriod.tooltipDescription",defaultMessage:"You can manage members via the People tab in settings"},afterGracePeriodTitle:{id:"blockLimit.afterGracePeriod.title",defaultMessage:"Keep using Notion"},afterGracePeriodDescription:{id:"blockLimit.afterGracePeriod.description",defaultMessage:"You’ve used all of this workspace’s free blocks"},afterGracePeriodTooltip:{id:"blockLimit.afterGracePeriod.tooltip",defaultMessage:"You can only create new content when you upgrade your plan"},toastUpgradeTitle:{id:"blockLimit.toastUpgrade.title",defaultMessage:"Upgrade to add content"},toastUpgradeDescription:{id:"blockLimit.toastUpgrade.description",defaultMessage:"Upgrade to continue creating and collaborating on Notion"},blockOptionsDescription:{id:"blockLimit.blockOptions.description",defaultMessage:"Upgrade your plan to continue creating and collaborating on Notion"},upgradeCta:{id:"blockLimit.upgradeCta",defaultMessage:"Upgrade plan"},slashMenuTitle:{id:"blockLimit.slashMenuTitle",defaultMessage:"Upgrade to add content to your workspace"}})},677169:(e,t,o)=>{o.d(t,{f:()=>c,m:()=>d});o(898992),o(354520),o(672577),o(737550);var a=o(296540),i=()=>o(242422),n=()=>o(56366),r=()=>o(617871),s=()=>o(765957),l=()=>o(53137);function d(){const e=(0,a.useRef)(void 0);return(0,n().K8)((()=>{if(void 0===e.current){if(!i().default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};e.current=i().default.checkGate({gateName:"calendar_home_tile_caching"})}return e.current?c():function(){var e,t,o;const a=l().A.bots.state.filter((e=>e.integration_id===r().io)),i=null===(e=s().default.state.sidebarSpaceViewStore)||void 0===e?void 0:e.getSelectedCalendarBotId(),n=!l().A.state.loaded||!(null!==(t=s().default.state.sidebarSpaceViewStore)&&void 0!==t&&t.isReady()),{spaceId:d,userId:c}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},u=null===(o=a[0])||void 0===o?void 0:o.id;if(!i)return{loading:n,botId:u,botSpaceId:d,botUserId:c};const p=a.find((e=>e.id===i));return{loading:n,botId:(null==p?void 0:p.id)??u,botSpaceId:d,botUserId:c}}()}),[])}function c(){var e;const{sidebarSpaceViewStore:t}=s().default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const o=t.getSelectedCalendarBotId();if(o&&!l().A.state.loaded)return{loading:!1,botId:o,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:a,userId:i}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},n=l().A.bots.state.filter((e=>e.integration_id===r().io)),d=null===(e=n[0])||void 0===e?void 0:e.id,c=o&&n.some((e=>e.id===o))?o:d;return{loading:!l().A.state.loaded||l().A.state.loading,botId:c,botSpaceId:a,botUserId:i}}},687646:(e,t,o)=>{o.d(t,{k:()=>i});o(296540);var a=o(474848);const i=(0,o(340498).wt)("searchInPage",{viewBox:"0 0 12 14",svg:(0,a.jsx)("path",{d:"M2.877 13.365h6.24c.63 0 1.104-.164 1.424-.492.32-.324.48-.8.48-1.43V6.13c0-.274-.015-.504-.046-.691a1.531 1.531 0 00-.182-.522 2.185 2.185 0 00-.387-.498l-3.07-3.123a2.11 2.11 0 00-.48-.38 1.528 1.528 0 00-.51-.183A3.464 3.464 0 005.7.68H2.877c-.629 0-1.104.164-1.424.492-.32.324-.48.8-.48 1.43v8.841c0 .633.16 1.112.48 1.436.32.324.795.486 1.424.486zm.094-1.154c-.282 0-.492-.072-.633-.217-.14-.144-.211-.351-.211-.621V2.678c0-.27.07-.479.21-.627.142-.149.354-.223.64-.223h2.496V5.04c0 .418.101.73.304.938.207.207.52.31.938.31h3.158v5.086c0 .27-.07.477-.21.621-.142.145-.354.217-.64.217H2.971zm3.855-6.938c-.12 0-.209-.027-.263-.082-.051-.054-.077-.142-.077-.263V1.986l3.229 3.287H6.826z"})})},711207:(e,t,o)=>{o.d(t,{FP:()=>p,Mh:()=>v,Ud:()=>f,Wm:()=>m,_p:()=>h,bk:()=>g,uJ:()=>b});o(944114),o(898992),o(354520),o(581454);var a=()=>o(906745),i=()=>o(534177),n=()=>o(559506),r=()=>o(896628),s=()=>o(319975),l=()=>o(749804),d=()=>o(231297),c=()=>o(321032),u=()=>o(379560);function p(e){var t;const{environment:o,store:a}=e,i=null===(t=a.getFormat())||void 0===t?void 0:t.transcription_calendar_event;i&&d().createAndCommit({userAction:"transcriptionCalendarActions.dismissCalendarSharingSuggestion",environment:o,canUndo:!0,perform:e=>{r().zA({stores:[a],update:{transcription_calendar_event:{...i,has_dismissed_sharing:!0}},transaction:e})}})}function m(e){return{startTime:e.isAllDay?a().c9.fromISO(e.start.date):a().c9.fromISO(e.start.dateTime,{zone:e.start.timeZone}),endTime:e.isAllDay?a().c9.fromISO(e.end.date):a().c9.fromISO(e.end.dateTime,{zone:e.end.timeZone})}}function g(e){const{blockStore:t,event:o,transaction:a,environment:i}=e,n=t.getTitleStore();n&&(s().jQ({environment:i,store:n,transaction:a,selection:{startIndex:0,endIndex:1/0},updateSelection:!1}),o.summary&&s().yr({environment:i,store:n,index:0,tokens:[[o.summary]],transaction:a}))}function f(e){var t,o;const{blockStore:a,event:n,attendeeIds:s,transaction:l,environment:d}=e,{startTime:c,endTime:u}=m(n),p=s??(null===(t=n.attendees)||void 0===t?void 0:t.map((e=>e.notionUserId)).filter(i().O9))??[],g=null===(o=d.currentUser)||void 0===o?void 0:o.id;g&&!p.includes(g)&&p.push(g),r().zA({stores:[a],update:{transcription_calendar_event:{uid:n.uid,startTime:c.toISO(),endTime:u.toISO(),attendeeIds:p}},transaction:l})}async function b(e){var t;const{environment:o,blockStore:i,event:n,source:s}=e,p=n.isAllDay?a().c9.fromISO(n.start.date):a().c9.fromISO(n.start.dateTime,{zone:n.start.timeZone}),m=n.isAllDay?a().c9.fromISO(n.end.date):a().c9.fromISO(n.end.dateTime,{zone:n.end.timeZone}),b=h({environment:o,event:n});d().createAndCommit({userAction:"transcriptionCalendarActions.addCalendarEventToTranscriptionBlock",environment:o,canUndo:!0,perform:e=>{r().zA({stores:[i],update:{transcription_calendar_event:{uid:n.uid,startTime:p.toISO(),endTime:m.toISO(),attendeeIds:[]}},transaction:e}),g({blockStore:i,event:n,transaction:e,environment:o})}}),(0,l().I)({environment:o});const v=await b;d().createAndCommit({userAction:"transcriptionCalendarActions.addCalendarAttendeesToTranscriptionBlock",environment:o,canUndo:!0,perform:e=>{f({blockStore:i,event:n,attendeeIds:v.map((e=>e.id)),transaction:e,environment:o})}});const y=null===(t=u().A.getHomeCalendarStateForSpaceView())||void 0===t?void 0:t.botId;y&&(0,c().R)(o,{botId:y,payload:{type:"track",payload:{event:"transcriptionBlockCalendarEventAdded",eventId:n.uid,source:s}}})}function v(e){const{environment:t,blockStore:o}=e;d().createAndCommit({userAction:"transcriptionCalendarActions.removeCalendarEventFromTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{const a=o.getTitleStore();a&&s().jQ({environment:t,store:a,transaction:e,selection:{startIndex:0,endIndex:1/0}}),r().zA({stores:[o],update:{transcription_calendar_event:void 0},transaction:e})}}),(0,l().I)({environment:t})}async function h(e){var t;const{environment:o,event:a}=e,r=(null===(t=a.attendees)||void 0===t?void 0:t.map((e=>e.email)).filter(i().O9))??[];if(0===r.length)return[];const s=await n().callApi({eventName:"findUsers",environment:o,data:{emails:r}});return"success"!==s.type?[]:s.data.values.map((e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.value})).filter(i().O9)}},717250:(e,t,o)=>{o.d(t,{l:()=>a});const a="offline_mode_education_tooltip"},725340:(e,t,o)=>{o.d(t,{U:()=>n});o(296540);var a=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 17.28 16.45",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.801-1.546a4.6 4.6 0 0 1-.713-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,a.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.815-3.897 3.5 3.5 0 0 1-5.815 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 0 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},n=(0,o(340498).wt)("blockLimit",i)},734164:(e,t,o)=>{o.d(t,{I:()=>U,G:()=>W});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(401497),s=()=>o(779315),l=()=>o(100622),d=()=>o(496603),c=()=>o(620689),u=()=>o(906745),p=()=>o(69708),m=()=>o(231297),g=()=>o(755199),f=()=>o(765957),b=()=>o(191197),v=()=>o(846955),h=o(474848);const y=function({type:e,step:t,trackingFrom:n,onDismiss:s,style:l,onNextButtonClick:d,onPrevButtonClick:c,...u}){const p=(0,r().IS)((e=>({tooltipStyle:{marginInlineStart:6,...l}})),[l]),m=(0,i().v3)(),g=a.useRef(!1),[f,y,S]=(0,o(875464).Jg)(e,t);a.useEffect((()=>{g.current||(g.current=!0,b().i(m,{from:n}))}),[m,n]);const _=a.useCallback((()=>{var t,o;(null==d||d(),null===S)?(null===(t=(o=v().default.state).onCompleteOrClose)||void 0===t||t.call(o),v().default.setState({type:"inactive"})):v().default.setState({...v().default.state,type:e,step:S})}),[e,S,d]),w=a.useCallback((()=>{y&&(v().default.setState({...v().default.state,type:e,step:y}),null==c||c())}),[e,y,c]),k=a.useCallback((()=>{var e,t;null==s||s(),null===(e=(t=v().default.state).onCompleteOrClose)||void 0===e||e.call(t),v().default.setState({type:"inactive"}),b().z(m,{from:n})}),[m,s,n]);return(0,h.jsx)(o(953006).k,{pointerDotSize:0,pointerLength:0,style:p.tooltipStyle,headerStyle:{display:"block"},onCloseClick:k,numSteps:f.length,currStepIndex:f.indexOf(t),onPrimaryButtonClick:_,onSkipButtonClick:k,onBackButtonClick:y?w:void 0,...u})};function S({type:e,contentRef:t}){const o=(0,i().v3)(),n=a.useCallback((()=>function(e){const{currentUserSettingsStore:t}=f().default.state;if(!t)return;v().default.setState({type:"inactive"}),m().createAndCommit({userAction:"PageVerificationTourTooltip.markPageVerificationTooltipAsSeen",environment:e,canUndo:!0,perform:e=>{g().mJ({userSettingsStore:t,transaction:e,data:{page_verification_tooltip_dismissed_at:u().c9.now().toMillis()}})}})}(o)),[o]),s=(0,r().IS)((()=>({tooltipStyle:{marginTop:4,width:280}})),[]);return(0,h.jsx)(y,{placementToOrigin:"bottom",alignmentToOrigin:"center",origin:t,style:s.tooltipStyle,header:(0,h.jsx)(p().sA,{id:"PageVerificationTourTooltip.header",defaultMessage:"Verified docs you can trust"}),content:(0,h.jsx)(p().sA,{id:"PageVerificationTourTooltip.content",defaultMessage:"Mark any Notion page as verified, so team members find up-to-date into. Hover above the page title to add this badge to any page."}),type:e,onDismiss:n,skipButtonContent:null,finalButtonContent:(0,h.jsx)(p().sA,{id:"PageVerificationTourTooltip.tryItNowButton",defaultMessage:"Try it now"}),onNextButtonClick:n,step:"verify_page",trackingFrom:"sidebar_tour_home"})}var _=()=>o(465505),w=()=>o(133043),k=()=>o(471095),x=()=>o(116089),M=()=>o(371513),C=()=>o(11356),T=()=>o(737693),I=()=>o(300755),A=()=>o(806638),j=()=>o(694874);function B(e){const{style:t}=e,o=(0,r().IS)((e=>({tooltipStyle:{marginInlineStart:6,...t}})),[t]);return(0,h.jsx)(y,{...e,style:o.tooltipStyle,placementToOrigin:"right",alignmentToOrigin:"start"})}const P={width:20,height:20,marginBottom:8};function D({type:e,contentRef:t}){return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,_().P)(P),(0,h.jsx)(p().sA,{id:"TeamCreatorWelcomeTooltip.header",defaultMessage:"Welcome to your workspace"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorWelcomeTooltip.content",defaultMessage:"A workspace is a virtual home to create, organize, and share content"}),skipButtonContent:(0,h.jsx)(p().sA,{id:"TeamCreatorWelcomeTooltip.skipButton",defaultMessage:"Skip"}),style:{width:300},type:e,step:"welcome",trackingFrom:"sidebar_tour_welcome"})}function N({type:e,contentRef:t}){return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,M().b)(P),(0,h.jsx)(p().sA,{id:"TeamCreatorActionsTooltip.header",defaultMessage:"Get around with your sidebar"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorActionsTooltip.content",defaultMessage:"Jump to pages, keep track of work, and access workspace settings"}),style:{width:300,marginInlineStart:4},type:e,step:"actions",trackingFrom:"sidebar_tour_actions"})}function R({type:e,contentRef:t}){return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,T().V)(P),(0,h.jsx)(p().sA,{id:"TeamCreatorTeamspacesTooltip.header.workflow_templates",defaultMessage:"Set up your team’s workflows"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorTeamspacesTooltip.content.workflow_templates",defaultMessage:"Based on what you told us earlier, we’ve set up some templates to help you get started"}),style:{width:300,marginInlineStart:12},type:e,step:"teamspaces",trackingFrom:"sidebar_tour_teamspaces",skipButtonContent:null})}function O({type:e,contentRef:t}){return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,C().G)(P),(0,h.jsx)(p().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.header",defaultMessage:"Setups to get started"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.content",defaultMessage:"Get your team started with these ready-to-use, customizable templates"}),style:{width:300},type:e,step:"prebuilt_templates",trackingFrom:"sidebar_tour_prebuilt_templates"})}function E({type:e,contentRef:t}){return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,k().i)({height:16,width:16,marginBottom:8}),(0,h.jsx)(p().sA,{id:"TeamCreatorPrivateTooltip.header",defaultMessage:"Draft in private"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorPrivateTooltip.content",defaultMessage:"A space for anything you want to work on individually before sharing with others, like notes or tasks"}),style:{width:300,marginInlineStart:12},type:e,step:"private",trackingFrom:"sidebar_tour_private"})}function L({type:e,contentRef:t}){return(0,h.jsx)(y,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,x().x)({height:16,width:16,marginBottom:8}),(0,h.jsx)(p().sA,{id:"TeamCreatorAIAssistantTooltip.header",defaultMessage:"Knowledge, answers, ideas with AI"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorAIAssistantTooltip.content",defaultMessage:"More help is always just a click away"}),type:e,style:{width:300,marginInlineEnd:8},step:"ai_assistant",trackingFrom:"sidebar_tour_ai_assistant",placementToOrigin:"left",alignmentToOrigin:"center"})}function F({type:e,contentRef:t}){const o=(0,i().v3)();return(0,h.jsx)(B,{origin:t,header:(0,h.jsxs)(h.Fragment,{children:[(0,I().templatesFillIcon)(P),(0,h.jsx)(p().sA,{id:"TeamCreatorExploreTemplatesTooltip.header",defaultMessage:"Build anything with templates"})]}),content:(0,h.jsx)(p().sA,{id:"TeamCreatorExploreTemplatesTooltip.content",defaultMessage:"Explore thousands of templates handpicked by our editorial team"}),style:{width:300,marginInlineStart:12},type:e,step:"explore_templates",trackingFrom:"sidebar_tour_explore_templates",onNextButtonClick:()=>{"explore_community_templates"!==v().default.state.type&&"explore_template_marketplace"!==v().default.state.type||(0,A().P)({environment:o})}})}function V({type:e,contentRef:t}){const o=(0,i().v3)(),n=a.useCallback((()=>(0,j().tL)(o)),[o]);return(0,h.jsx)(B,{origin:t,style:{width:300,marginInlineStart:12},header:(0,h.jsxs)(h.Fragment,{children:[(0,w().P)(P),(0,h.jsx)(p().sA,{id:"HomeAvailableTooltip.header",defaultMessage:"Your work now has a Home!"})]}),content:(0,h.jsx)(p().sA,{id:"HomeAvailableTooltip.content",defaultMessage:"Jump back into recent projects, docs, and notes. It’s all here"}),type:e,onDismiss:n,hideActions:!0,step:"home",trackingFrom:"sidebar_tour_home"})}const K=(0,o(645873)._h)(o(579372).C,(e=>e.DatabaseOnboardingTourtip));function U({contentRef:e,step:t,showSidebarOverlays:o,onNextButtonClick:r,onBackButtonClick:l,tutorialMetadata:d}){const u=(0,n().O$)(v().default),p=(0,i().v3)();if(a.useEffect((()=>{(0,v().tourIsActiveInSidebarStep)(v().default.state)&&e.current&&"inactive"!==u.type&&u.step===t&&c().hT({element:e.current,environment:p,scrollerContext:{verticalScroller:s().A.SidebarScroller,horizontalScroller:void 0},vertical:{reveal:"closest"},horizontal:void 0})}),[p,u,t,e]),"inactive"===u.type||u.step!==t)return null;const m={type:u.type,contentRef:e,onNextButtonClick:r,onBackButtonClick:l,tutorialMetadata:d};let g,f=!1;switch(t){case"welcome":g=(0,h.jsx)(D,{...m});break;case"actions":g=(0,h.jsx)(N,{...m});break;case"teamspaces":g=(0,h.jsx)(R,{...m});break;case"prebuilt_templates":g=(0,h.jsx)(O,{...m});break;case"private":g=(0,h.jsx)(E,{...m});break;case"explore_templates":g=(0,h.jsx)(F,{...m});break;case"home":g=(0,h.jsx)(V,{...m}),f=!0;break;case"ai_assistant":g=(0,h.jsx)(L,{...m});break;case"verify_page":g=(0,h.jsx)(S,{...m});break;case"database_onboarding_status_property_tooltip":g=(0,h.jsx)(K,{...m,tutorialStepId:"database_onboarding_status_property_tooltip"});break;case"database_onboarding_add_property_tooltip":g=(0,h.jsx)(K,{...m,tutorialStepId:"database_onboarding_add_property_tooltip"});break;case"database_onboarding_database_page_tooltip":g=(0,h.jsx)(K,{...m,tutorialStepId:"database_onboarding_database_page_tooltip"});break;case"database_onboarding_board_view_tooltip":g=(0,h.jsx)(K,{...m,tutorialStepId:"database_onboarding_board_view_tooltip"});break;default:g=null}return(0,h.jsxs)(h.Fragment,{children:[o?(0,h.jsx)(W,{contentRef:e,allowClickthrough:f}):void 0,g]})}function W({contentRef:e,allowClickthrough:t}){const[o,i]=a.useState(null);a.useEffect((()=>{var t;const o=d().sg((()=>{var t;i((null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())||null)}),50,{leading:!0}),a=new ResizeObserver(o),n=null===(t=s().A.SidebarScroller)||void 0===t?void 0:t.getNode();return n&&a.observe(n),window.addEventListener("resize",o),()=>{a.disconnect(),window.removeEventListener("resize",o)}}),[e]);const n=t?"none":void 0,c=(0,r().IS)((e=>({highlight:{position:"absolute",top:o?o.top:0,insetInlineStart:4,height:o?o.height:0,width:"calc(100% - 8px)",background:"dark"===e.mode?l().IF.whiteWithAlpha(.05):l().IF.blackWithAlpha(.05),boxShadow:e.buttonBlueFocusRing,borderRadius:4,pointerEvents:n},topOpacityLayer:{position:"absolute",top:0,height:o?o.top-4:0,width:"100%",zIndex:999,background:e.background.secondary,opacity:.6},bottomOpacityLayer:{position:"absolute",top:o?o.top+o.height+4:void 0,height:o?"100vh":0,width:"100%",zIndex:999,background:e.background.secondary,opacity:.6},interactionGuard:{position:"absolute",top:0,height:o?"100vh":0,width:"100%",zIndex:999,pointerEvents:n}})),[o,n]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{style:c.highlight}),(0,h.jsx)("div",{style:c.bottomOpacityLayer}),(0,h.jsx)("div",{style:c.topOpacityLayer}),(0,h.jsx)("div",{style:c.interactionGuard})]})}},753721:(e,t,o)=>{o.d(t,{X:()=>n});var a=()=>o(56366),i=()=>o(961581);function n(){return(0,a().K8)((()=>i().A.state.initialRenderCompleted),[])}},754527:(e,t,o)=>{o.d(t,{Q:()=>S});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(581454);var a=o(296540),i=()=>o(59226),n=()=>o(726637),r=()=>o(484714),s=()=>o(790748),l=()=>o(56366),d=()=>o(854150),c=()=>o(69708),u=()=>o(629875),p=()=>o(867920),m=()=>o(885987),g=()=>o(765957),f=()=>o(633892),b=()=>o(998109),v=()=>o(768148),h=()=>o(962877),y=o(474848);function S({teamStore:e,sidebarState:t,isLastTeam:o,initialToggleState:a,shouldPersistToggleState:S,customToggleStore:w,teamOutlinerType:k,onNavigate:x,sidebarTourStep:M,from:C}){const{currentSpaceStore:T,currentSpaceViewStore:I}=(0,l().K8)((()=>{const{sidebarSpaceStore:e,sidebarSpaceViewStore:t}=g().default.state;return{currentSpaceStore:e,currentSpaceViewStore:t}}),[]),A=(0,l().uB)(void 0,f().A),j=w??A;(0,s().b)(m().u,(()=>({teamId:e.id,setIsOpen:e=>j.update((t=>({...t,isHidden:!e})))})),[e,j]);const B=(0,i().X)("team_feed_as_any_other_db"),P=(0,l().K8)((()=>e.getTeamPagesStores(B)),[e,B]),D=(0,r().v3)(),N=(0,l().K8)((()=>{const t=g().default.state.mainEditorCurrentBlockStore,o=(null==t?void 0:t.getParentTable())===d().yK&&(null==t?void 0:t.getParentId())===e.id;return!n().A.isMobile&&o&&j.state.isHidden}),[e.id,j]),R=(0,l().K8)((()=>N||(0,p().G)({teamStore:e,environment:D})),[D,N,e]);return(0,y.jsx)(u().Ay,{type:"team",from:"main_sidebar",outlinerToggleButtonStore:j,forceHoveredButtonStyle:N,initialToggleState:a,shouldPersistToggleState:S,teamHeaderLabel:(0,y.jsx)(v().j,{teamStore:e,withSelectedStyle:R}),teamStore:e,spaceStore:T,spaceViewStore:I,showAddButton:!1,isLastTeam:o,teamOutlinerType:k,labelTooltip:(0,y.jsx)(c().sA,{defaultMessage:"One of your teams",id:"sidebar.teamSection.tooltip"}),marginBottomOverrideWhenExpanded:n().A.isMobile?0:16,marginBottomOverrideWhenCollapsed:n().A.isMobile?0:1,renderSidebar:({labelAriaId:o,contentsAriaId:a})=>{if(!e)return;const i=new Set(P.map((e=>e.id))),n=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(_,{teamSectionType:k,sidebarState:t,teamStore:e,onNavigate:x,labelAriaId:o,contentsAriaId:a,from:C}),(0,y.jsx)(h().c,{numTeamPages:i.size,teamStore:e,currentSpaceStore:T})]});return M?(0,y.jsx)(b().n,{step:M,children:n}):n}})}const _=a.memo((function(e){const{teamSectionType:t,teamStore:i,sidebarState:n,contentsAriaId:r,onNavigate:s,labelAriaId:l,from:d}=e,c=(0,a.useMemo)((()=>({type:"team",teamSectionType:t,teamStore:i})),[t,i]),u=(0,a.useMemo)((()=>({id:r,"aria-labelledby":l})),[r,l]);return(0,y.jsx)(o(388601).o,{state:c,sidebarState:n,onNavigate:s,additionalOutlinerProps:u,from:d})}))},766343:(e,t,o)=>{o.d(t,{A:()=>i});class a extends(()=>o(757695))().Store{getInitialState(){return{open:!1,focus:"none"}}open(){this.setState({open:!0,focus:"none"})}close(){this.setState({open:!1,focus:"none"})}}const i=new a},768148:(e,t,o)=>{o.d(t,{j:()=>u});o(296540);var a=()=>o(726637),i=()=>o(56366),n=()=>o(401497),r=()=>o(493552),s=()=>o(284371),l=()=>o(37433),d=()=>o(345578),c=o(474848);function u({teamStore:e,withSelectedStyle:t,style:o,shouldUseStyledText:u}){const p=(0,i().K8)((()=>{var t;return{teamName:e.getName()??"",shouldShowLock:(0,l().tM)(null==e||null===(t=e.getSettingsStore())||void 0===t?void 0:t.getValue())}}),[e]),m=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden",gap:6},labelText:{...s().RC,color:t?e.text.primary:e.darkTextColor,fontWeight:s().Wy.medium,fontSize:a().A.isMobile?s().J.UIRegular.mobile:s().J.UIRegular.desktop,...o}})),[t,o]);return p?(0,c.jsxs)("div",{style:m.container,children:[u?(0,c.jsx)(r().D,{styleKey:"Body/Regular",colorVariant:"primary",children:p.teamName}):(0,c.jsx)("div",{style:m.labelText,children:p.teamName}),p.shouldShowLock?(0,c.jsx)(d().A,{}):void 0]}):null}},775916:(e,t,o)=>{o.d(t,{p:()=>r});var a=()=>o(166386),i=()=>o(152197),n=()=>o(985315);function r(){const e=(0,i().r)(),t=(0,n().g)({spaceId:e});if(t)return(0,a().e8)(t,"trial")}},778450:(e,t,o)=>{o.d(t,{e:()=>r});var a=()=>o(165358),i=()=>o(559506),n=()=>o(63728);async function r(e){if(null!==n().l.state)return n().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const o=await i().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===o.type)return a().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:o.error}),!1;const r=o.data.isRegistered||Boolean(o.data.isRegistered30Day);return n().l.setState(r),r}},781312:(e,t,o)=>{o.d(t,{y:()=>r});var a=o(296540),i=()=>o(56366),n=()=>o(472090);function r(){const[e,t]=(0,a.useState)(0),[o]=(0,a.useState)((()=>new(n().E))),r=(0,a.createRef)();return(0,a.useEffect)((()=>{if(r.current)return o.observe(r.current),()=>{o.destroy()}}),[r,o]),(0,i().K8)((()=>{e!==o.rect.state.height&&t(o.rect.state.height)}),[e,o.rect]),[r,e]}},811558:(e,t,o)=>{var a=o(746518),i=o(439928),n=o(225397),r=Array;a({target:"Array",proto:!0},{with:function(e,t){return i(n(this),r,e,t)}})},821983:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,keyFillIcon:()=>i});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"5.31 1.92 9.37 16.15",svg:(0,o(474848).jsx)("path",{d:"M12.02 10.83a.3.3 0 0 0 .062-.023 4.684 4.684 0 1 0-4.164 0q.03.014.062.023v5.225c0 .086.034.169.095.23L9.77 17.98a.325.325 0 0 0 .46 0l1.695-1.695a.325.325 0 0 0 0-.46l-1.465-1.466 1.465-1.465a.33.33 0 0 0 .095-.23zM10 6.67a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})},i=(0,o(340498).wt)("keyFill",a)},832257:(e,t,o)=>{o.d(t,{C:()=>K,X:()=>z});var a=o(296540),i=()=>o(564884),n=()=>o(484714),r=()=>o(56366),s=()=>o(401497),l=()=>o(718827),d=()=>o(406094),c=()=>o(631524),u=()=>o(493552),p=()=>o(187174),m=o(474848);const g={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.25",svg:(0,m.jsx)("path",{d:"M8.758 2.476a7.7 7.7 0 0 1 2.484 0 .625.625 0 1 1-.202 1.233 6.4 6.4 0 0 0-2.08 0 .625.625 0 0 1-.202-1.233m4.812 1.469a.625.625 0 0 1 .872-.143 7.7 7.7 0 0 1 1.756 1.756.625.625 0 1 1-1.015.729 6.4 6.4 0 0 0-1.47-1.47.625.625 0 0 1-.143-.872m-7.283.872a.625.625 0 0 0-.73-1.015 7.7 7.7 0 0 0-1.755 1.756.625.625 0 1 0 1.015.729 6.4 6.4 0 0 1 1.47-1.47m10.519 3.425a.625.625 0 0 1 .718.516 7.7 7.7 0 0 1 0 2.484.625.625 0 0 1-1.233-.202 6.4 6.4 0 0 0 0-2.08.625.625 0 0 1 .515-.718M3.71 8.96a.625.625 0 0 0-1.234-.202 7.7 7.7 0 0 0 0 2.484.625.625 0 1 0 1.233-.202 6.4 6.4 0 0 1 0-2.08m12.346 4.61c.28.201.344.592.143.872a8 8 0 0 1-.625.762l-.006.007A7.6 7.6 0 0 1 10 17.625a7.6 7.6 0 0 1-4.434-1.42l-.008-.007a7.7 7.7 0 0 1-1.756-1.756.625.625 0 0 1 1.015-.729q.241.336.523.637l.006.006q.267.286.567.537C6.702 13.495 8.246 12.56 10 12.56s3.298.934 4.087 2.332a6.4 6.4 0 0 0 1.096-1.18.625.625 0 0 1 .872-.143m-8.3-7.4C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346"})},f=(0,o(340498).wt)("personCropCircleDashedFill",g);var b=()=>o(120251),v=()=>o(69708),h=()=>o(559506),y=()=>o(384944),S=()=>o(231297),_=()=>o(460292),w=()=>o(369251),k=()=>o(21140),x=()=>o(1130),M=()=>o(303742),C=()=>o(978510),T=()=>o(799836),I=()=>o(553700),A=()=>o(373009),j=()=>o(409865),B=()=>o(765957);const P=(0,v().YK)({finishSetup:{id:"sidebar.externalPagesNoWorkspaceCallout.titlePersonal",defaultMessage:"Finish setup"},bodyFinishSetup:{id:"sidebar.externalPagesNoWorkspaceCallout.bodyPersonal",defaultMessage:"Set up your first workspace in order to start creating pages and collaborating"},ctaFinishSetup:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaPersonal",defaultMessage:"Continue"},titleGetAccess:{id:"sidebar.externalPagesNoWorkspaceCallout.titleWork",defaultMessage:"Get full access"},bodyGetAccess:{id:"sidebar.externalPagesNoWorkspaceCallout.bodyWork",defaultMessage:"Join this workspace as a full member to use teamspaces"},requestMembership:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaWork",defaultMessage:"Request membership"},bodyCreateOrJoinSpace:{id:"sidebar.externalPagesNoWorkspaceCallout.bodyWorkJoinSpace",defaultMessage:"Create or join a workspace to see more pages and unlock more features"},ctaCreateOrJoinSpace:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaWorkJoinSpace",defaultMessage:"Create or join workspace"},pending:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaWorkPending",defaultMessage:"Requested membership"},ctaJoinSpaceSecondary:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaJoinSpaceSecondary",defaultMessage:"Or create a new workspace"},ctaCreateSpace:{id:"sidebar.externalPagesNoWorkspaceCallout.ctaCreateSpace",defaultMessage:"Create a workspace"}});function D(){const e=(0,n().v3)(),t=(0,r().O$)(B().AppStoreSidebarSpaceStore),{userType:o}=(0,C().R)(),{isEligibleForGuestMembershipRequest:a,isEligibleForGuestMembershipRequestStatus:i}=z({sidebarSpaceStore:t,environment:e}),s=E(),[{value:l}]=(0,T().P)({environment:e,skipServerFetch:!1}),d=Boolean(null==l?void 0:l.hasJoinableSpaces),{title:c,body:p,primaryCta:g,secondaryCta:f}=function(e){const{type:t,isEligibleForGuestMembershipRequest:o,hasJoinableSpaces:a,isPending:i}=e;if("work"===t)return o?{title:P.titleGetAccess,body:P.bodyGetAccess,primaryCta:(0,m.jsx)(R,{isPending:i}),secondaryCta:(0,m.jsx)(N,{hasJoinableSpaces:a,isSecondary:!0})}:{title:P.titleGetAccess,body:P.bodyCreateOrJoinSpace,primaryCta:(0,m.jsx)(N,{hasJoinableSpaces:a}),secondaryCta:null};return{title:P.finishSetup,body:P.bodyFinishSetup,primaryCta:(0,m.jsx)(O,{}),secondaryCta:null}}({type:o,isEligibleForGuestMembershipRequest:a,hasJoinableSpaces:d,isPending:"pending"===i});return(0,m.jsxs)("div",{style:s.container,children:[(0,m.jsx)(I().Y,{progressColor:"blue",progressPercentage:33,size:"default"}),(0,m.jsxs)("div",{style:s.content,children:[(0,m.jsxs)("div",{style:s.titleAndBody,children:[(0,m.jsx)(u().D,{styleKey:"Caption/Semibold",colorVariant:"primary",children:(0,m.jsx)(v().sA,{...c})}),(0,m.jsx)(u().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:(0,m.jsx)(v().sA,{...p})})]}),(0,m.jsxs)("div",{style:s.ctas,children:[g,f]})]})]})}function N(e){const{hasJoinableSpaces:t,isSecondary:o}=e,i=(0,n().v3)(),r=(0,a.useCallback)((async()=>{await x().createOrJoinSpace(i,"external_pages_no_workspace_callout")}),[i]);return o?(0,m.jsx)(c().p,{onClick:r,children:(0,m.jsx)(u().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:(0,m.jsx)(v().sA,{...P.ctaJoinSpaceSecondary})})}):(0,m.jsx)(A().E,{colorPalette:"blue",onClick:r,children:(0,m.jsx)(u().D,{styleKey:"Caption/Semibold",colorPalette:"blue",children:t?(0,m.jsx)(v().sA,{...P.ctaCreateOrJoinSpace}):(0,m.jsx)(v().sA,{...P.ctaCreateSpace})})})}function R({isPending:e}){return e?(0,m.jsx)(A().E,{disabled:!0,children:(0,m.jsx)(u().D,{styleKey:"Caption/Semibold",children:(0,m.jsx)(v().sA,{...P.pending})})}):(0,m.jsx)(w().A,{origin:(0,m.jsx)(A().E,{colorPalette:"blue",children:(0,m.jsx)(u().D,{styleKey:"Caption/Semibold",colorPalette:"blue",children:(0,m.jsx)(v().sA,{...P.requestMembership})})})})}function O(){const e=E(),t=(0,n().v3)(),o=(0,a.useCallback)((async()=>{await x().createOrJoinSpace(t,"external_pages_no_workspace_callout")}),[t]);return(0,m.jsxs)(c().p,{style:e.continueButton,onClick:o,children:[(0,m.jsx)(u().D,{styleKey:"Caption/Semibold",children:(0,m.jsx)(v().sA,{...P.ctaFinishSetup})}),(0,m.jsx)(_().Q,{style:e.continueButtonIcon,colorVariant:"secondary",variantName:"default",iconGroup:j().I})]})}function E(){return(0,s().IS)((e=>({container:{display:"flex",gap:4,background:e.background.elevated,borderRadius:8,padding:12,margin:12},icon:{height:24,width:24},content:{display:"flex",flexDirection:"column",gap:10},titleAndBody:{display:"flex",flexDirection:"column",gap:4},ctas:{display:"flex",flexDirection:"column",gap:4},continueButton:{paddingInlineStart:0,gap:4},continueButtonIcon:{height:16,width:16}})),[])}var L=()=>o(311337),F=()=>o(134217),V=()=>o(515512);function K({sidebarSpaceStore:e,sidebarSpaceViewStore:t}){const o=(0,n().v3)(),a=(0,V().Q)(),{isEligibleForGuestMembershipRequest:i,isEligibleForGuestMembershipRequestStatus:s}=z({sidebarSpaceStore:e,environment:o}),l=(0,r().K8)((()=>{var t;const o=null===(t=B().default.state.currentUserSettingsStore)||void 0===t||null===(t=t.getSettings())||void 0===t?void 0:t.guest_sidebar_membership_request_popup_dismissed;return!!e&&Boolean(null==o?void 0:o.includes(null==e?void 0:e.id))}),[e]),{showNoWorkspaceExperience:d}=(0,C().R)(),c=(0,r().K8)((()=>!!(0,M().o)(t)||(!(!a&&!l&&"pending"!==s)||(0,L().y)(o))),[a,l,s,o,t]),[{value:u}]=(0,T().P)({environment:o,skipServerFetch:c}),p=Boolean(null==u?void 0:u.hasJoinableSpaces);return d?(0,m.jsx)(D,{}):c?null:(0,m.jsx)(W,{sidebarSpaceStore:e,isEligibleForGuestMembershipRequest:i,hasJoinableSpaces:p})}const U=(0,v().YK)({createOnlyDescription:{defaultMessage:"To unlock all of Notion’s features, try creating your own workspace",id:"sidebar.guestPopup.createOnlyDescription"},joinDescription:{defaultMessage:"Join as member to collaborate",id:"sidebar.guestPopup.joinOrCreateDescription"},createWorkspaceCTA:{defaultMessage:"Create workspace",id:"sidebar.guestPopup.createWorkspaceCTA"},requestMembershipCTA:{defaultMessage:"Request membership",id:"sidebar.guestPopup.requestMembershipCTA"},createOrJoinWorkspaceCTA:{defaultMessage:"Join or create workspace",id:"sidebar.guestPopup.createOrJoinWorkspaceCTA"},pendingRequestCTA:{defaultMessage:"Membership requested",id:"sidebar.guestPopup.pendingRequestCTA"},pendingRequestDescription:{defaultMessage:"In the meantime, start creating pages",id:"sidebar.guestPopup.pendingRequestDescription"}});function W({sidebarSpaceStore:e,isEligibleForGuestMembershipRequest:t,hasJoinableSpaces:o}){const p=(0,n().v3)(),g=(0,r().K8)((()=>{var e;return"guest_with_private_pages"===(null===(e=B().default.state.sidebarSpaceViewStore)||void 0===e?void 0:e.getGuestExperience())}),[]),h=(0,s().IS)((e=>({iconRow:{marginBottom:10},personCircleDashedIcon:{width:20,height:20,color:e.icon.secondary},guestPopupCard:{padding:14,borderRadius:8,marginTop:"auto",marginInlineEnd:8,marginBottom:8,marginInlineStart:8,background:e.background.elevated,border:`1px solid ${e.border.secondary}`},primaryButton:{width:"100%",height:"inherit",justifyContent:"center",padding:8,marginTop:8,whiteSpace:"normal",textAlign:"center",background:e.blue.background.secondaryTranslucent,color:e.blue.text.accentPrimary},secondaryButton:{width:"100%",height:"inherit",justifyContent:"center",padding:8,marginTop:4,whiteSpace:"normal",textAlign:"center",color:e.text.primary}})),[]),M=(0,a.useCallback)((()=>{x().createOrJoinSpace(p,"guest_popup")}),[p]),C=(0,a.useCallback)((()=>(0,m.jsx)(d().A,{style:h.secondaryButton,disabled:!0,children:(0,m.jsx)(u().D,{styleKey:"Caption/Medium",children:(0,m.jsx)(v().sA,{...U.pendingRequestCTA})})})),[h.secondaryButton]),T=(0,a.useCallback)((()=>e?(0,m.jsx)(w().A,{origin:(0,m.jsx)(c().p,{style:h.primaryButton,children:(0,m.jsx)(u().D,{styleKey:"Caption/Medium",children:(0,m.jsx)(v().sA,{...U.requestMembershipCTA})})})}):null),[e,h.primaryButton]),I=(0,a.useCallback)((({cta:e,isPrimary:t})=>(0,m.jsx)(d().A,{onClick:M,style:t?h.primaryButton:h.secondaryButton,children:(0,m.jsx)(u().D,{styleKey:"Caption/Medium",children:(0,m.jsx)(v().sA,{...e})})})),[M,h.primaryButton,h.secondaryButton]),A=Boolean(t),j=Boolean(o),P=Boolean(!o);let D,N;g?(D=U.pendingRequestDescription,N=(0,m.jsx)(C,{})):A&&j?(D=U.joinDescription,N=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{}),(0,m.jsx)(I,{cta:U.createOrJoinWorkspaceCTA,isPrimary:!1})]})):A&&P?(D=U.joinDescription,N=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(T,{}),(0,m.jsx)(I,{cta:U.createWorkspaceCTA,isPrimary:!1})]})):!A&&j?(D=U.joinDescription,N=(0,m.jsx)(I,{cta:U.createOrJoinWorkspaceCTA,isPrimary:!0})):!A&&P&&(D=U.createOnlyDescription,N=(0,m.jsx)(I,{cta:U.createWorkspaceCTA,isPrimary:!0}));const R=(0,a.useCallback)((()=>{const{sidebarSpaceStore:e,currentUserSettingsStore:t}=B().default.state;e&&t&&((0,i().u)({environment:p,event:{eventName:"guest_membership_popup_dismissed",eventProperties:{request_membership:A,create_workspace:P,create_or_join_workspace:j}}}),function(e,t,o){var a;const i=((null===(a=t.getSettings())||void 0===a?void 0:a.guest_sidebar_membership_request_popup_dismissed)||[]).concat(o);S().createAndCommit({environment:e,userAction:"GuestSidebarFooter.dismissGuestMembershipRequestPopup",canUndo:!1,perform:e=>{y().zv({store:t,data:{settings:{...t.getSettings(),guest_sidebar_membership_request_popup_dismissed:i}},transaction:e})}})}(p,t,e.id))}),[p,A,P,j]);return(0,m.jsxs)(k().wt,{style:h.guestPopupCard,children:[(0,m.jsxs)(k().Ye,{justifyContent:"space-between",style:h.iconRow,children:[f(h.personCircleDashedIcon),(0,m.jsx)(l().Ay,{onClick:R,children:(0,m.jsx)(_().Q,{iconGroup:b().k,variantName:"small",colorVariant:"secondary"})})]}),(0,m.jsx)(u().D,{styleKey:"Caption/Regular",colorVariant:"primary",children:(0,m.jsx)(v().sA,{defaultMessage:"Explore more of Notion",id:"sidebar.guestPopup.title"})}),(0,m.jsx)(u().D,{styleKey:"Caption/Regular",colorVariant:"secondary",children:(0,m.jsx)(v().sA,{...D})}),N]})}function z({sidebarSpaceStore:e,environment:t}){const[{value:o,status:a}]=(0,p().Yb)((async()=>{if(!e)return!1;if(!(0,F().dW)())return!1;const o=await h().callApi({eventName:"isEligibleForGuestMembershipRequest",environment:t,data:{spaceId:e.id}});return"failed"!==o.type&&o.data.isEligible}),[e,t]);return{isEligibleForGuestMembershipRequest:o,isEligibleForGuestMembershipRequestStatus:a}}},846199:(e,t,o)=>{o.d(t,{A:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialInfoModalStore"})},848701:(e,t,o)=>{o.d(t,{BF:()=>u,J:()=>f,UP:()=>m,XF:()=>g,cn:()=>b,od:()=>p,rE:()=>v,t3:()=>y,tY:()=>S,tk:()=>c,z2:()=>h});o(16280);var a=()=>o(906745),i=()=>o(762433),n=()=>o(166386),r=()=>o(61844),s=()=>o(934068),l=()=>o(534177),d=()=>o(783033);function c(e){const{daysElapsed:t,trialLength:o,trialCampaign:a}=e;let i;switch(o){case 30:i=d().sC;break;case 14:i=(0,s().bf)(a)?d().H2:d().kl;break;default:throw new Error(`Unsupported trial length: ${o}`)}if(t in i)return i[t]}function u(e,t){let o;switch(t){case 30:o=d().yE;break;case 14:o=d().lr;break;default:throw new Error(`Unsupported trial length: ${t}`)}return o[e]}function p(e,t,o){const{business_trial_ending_modal_shown_times:i,business_trial_ending_modal_last_shown_at:n}=o??{};if(!(0,s().V9)(e,t))return!1;if(void 0===n||void 0===i)return!1;if(n>0){if(t.diff(a().c9.fromMillis(n),"days").days>=d().ls)return!1}return(i??0)>=d().TY}function m(e,t=(0,i().DS)(e)){if(!e)return;const o=(0,i().i5)(e);return o?Math.ceil(null==o?void 0:o.diff(t,"days").days):void 0}function g(e,t){const o=a().c9.fromMillis(e.endDateMs);return(t??a().c9.now()).hasSame(o,"day")}function f(e){const t=(0,r().Jd)(e);if(t)return(0,n().Vm)(t)}function b(e){const t=(0,r().Jd)(e);if(t)return(0,n().kd)(t)}function v(e){if(!(e in d().Tu))throw new Error(`Unknown trial length: ${e}`);return d().Tu[e]}function h({billingData:e}){if(!(0,i().TB)(e))return!1;const t="admin"===(null==e?void 0:e.type)&&(0,l().O9)(null==e?void 0:e.paymentMethod);return!(0,i().HY)(e)&&t}function y(e){return(0,l().Xk)(["mwn_stacked_business_trial_14d","mwn_business_reverse_14d"],e)}function S(e){return(0,l().Xk)(["multi_search_scope_menu","ai_workspace_settings_connector_cards","business_trial_ai_connectors_upsell"],e)}},851775:(e,t,o)=>{o.d(t,{A:()=>r});var a=()=>o(194188),i=()=>o(10123),n=()=>o(570551);function r(e,t){(0,n().A)(2,arguments);var o=(0,i().A)(e),r=(0,a().A)(t),s=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(s,r,15),d.setHours(0,0,0,0);var c=function(e){(0,n().A)(1,arguments);var t=(0,i().A)(e),o=t.getFullYear(),a=t.getMonth(),r=new Date(0);return r.setFullYear(o,a+1,0),r.setHours(0,0,0,0),r.getDate()}(d);return o.setMonth(r,Math.min(l,c)),o}},857353:(e,t,o)=>{o.d(t,{q:()=>u});var a=o(296540),i=()=>o(484714),n=()=>o(56366),r=()=>o(134696),s=()=>o(47373),l=()=>o(272509),d=()=>o(369955),c=()=>o(766343);function u(e,t){const o=(0,i().v3)(),u=(0,d().L)(),{showMembersButton:p,canRequestMembers:m}=(0,n().K8)((()=>{if(!u||(0,l().I)(u)||!t)return{showMembersButton:!1,canRequestMembers:!1};const e=!u.canEditMembership()&&!u.getDisableMembershipRequests()&&(0,s().x3)();return{showMembersButton:u.canEditMembership()||e,canRequestMembers:e}}),[u,t]);return(0,a.useCallback)((()=>{u&&p&&(u.canEditMembership()&&(null==t||t.setState({...t.state,modalOpen:!0}),r().vX(o,{type:"invite",from:e})),m&&(c().A.open(),r().vX(o,{type:"request",from:e})))}),[u,p,m,t,o,e])}},885987:(e,t,o)=>{o.d(t,{u:()=>i});o(944114),o(898992),o(803949);class a extends(()=>o(965828))().O{findTeamOutlinerItemsFromId(e){const t=[];return this.forEach((o=>{o.teamId===e&&t.push(o)})),t}}const i=new a},894074:(e,t,o)=>{o.d(t,{A:()=>l});var a=()=>o(10123),i=()=>o(851775),n=()=>o(194188),r=()=>o(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,r().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,a().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,i().A)(o,t.month)),null!=t.date&&o.setDate((0,n().A)(t.date)),null!=t.hours&&o.setHours((0,n().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,n().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,n().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,n().A)(t.milliseconds)),o)}},907917:(e,t,o)=>{o.d(t,{w:()=>l,x:()=>s});var a=()=>o(762433),i=()=>o(979340),n=()=>o(240865),r=()=>o(324561);function s(e){const{billingData:t,memberCount:o}=e,n=(0,a().AI)(t),r=(0,i().dL)(n),s=(0,i().sP)(n);return r&&o<5?"invite":r?"upgrade":o<5&&!s?"invite":"none"}function l(e){const t=(0,r().lh)({spaceId:e}),o=(0,n().V)()??1;return t?s({billingData:t,memberCount:o}):"none"}},923455:(e,t,o)=>{o.d(t,{Lp:()=>f,Rx:()=>v,a$:()=>b});var a=o(296540),i=()=>o(59226),n=()=>o(484714),r=()=>o(56366),s=()=>o(753721),l=()=>o(765957),d=()=>o(82648),c=()=>o(126397),u=()=>o(479349),p=o(474848);const m=(0,a.createContext)(null);m.displayName="SidebarStateContext";const g=2e4;function f({children:e}){const t=(0,n().v3)(),o=(0,c().r)(t),[f,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=setTimeout((()=>{b(!0)}),g);return()=>{clearTimeout(e)}}),[]);const{currentUserId:v,spaceId:h,isFreshStateReady:y}=(0,r().K8)((()=>{var e,t,a,i,n;null!==(e=l().default.state.currentUserStore)&&void 0!==e&&e.id&&null!==(t=l().default.state.sidebarSpaceStore)&&void 0!==t&&t.id&&(0,d().yd)("user_and_space_stores_loaded");const r=o.state,s=Boolean((null===(a=l().default.state.sidebarSpaceStore)||void 0===a?void 0:a.id)&&(null==r?void 0:r.userSharedPagesForSpaceHasLoaded)&&r.isTeamContentReady);return{currentUserId:null===(i=l().default.state.currentUserStore)||void 0===i?void 0:i.id,spaceId:null===(n=l().default.state.sidebarSpaceStore)||void 0===n?void 0:n.id,isFreshStateReady:s}}),[o]),S=(0,i().X)("enable_greedy_sidebar_initial_render"),_=(0,s().X)(),w=(0,u().cT)({isFreshStateReady:y,userId:v,spaceId:h}),k=(0,r().K8)((()=>{const e=null==w?void 0:w.state;return Boolean(v===(null==e?void 0:e.userId)&&h===(null==e?void 0:e.spaceId))}),[w,v,h]),x=Boolean(k&&(_||S)&&!y&&!f);return(0,p.jsx)(m.Provider,{value:x?w:o,children:e})}function b(){const e=(0,a.useContext)(m),t=(0,n().v3)(),o=(0,c().r)(t);return e??o}function v(){return(0,r().O$)(b())}},934068:(e,t,o)=>{o.d(t,{$G:()=>l,Hj:()=>d,Nh:()=>f,V9:()=>u,WL:()=>s,bf:()=>g,cv:()=>m,nS:()=>c,tz:()=>p});o(581454);var a=()=>o(906745),i=()=>o(534177),n=()=>o(869190),r=()=>o(323063);const s=30,l=5;function d(e,t){var o;return void 0!==(null===(o=e.subscription)||void 0===o?void 0:o.trialEnd)&&"reset_and_invoice"===t.subscription.type}function c(e,t,o){return e?(0,n().W_)(e.toMillis(),o??"long",t):void 0}function u(e,t){const o=a().c9.fromMillis(e.endDateMs);return(t??a().c9.now())>o}function p(e,t,o){const i=a().c9.fromMillis(e.endDateMs),n=o??a().c9.now();return n<i&&i.diff(n).as("days")<=t}function m(e,t,o,i,n="USD",l=s,d=a().c9.now()){return{items:t.map((t=>({price:(0,r().vk)(e,{product:t,interval:o,currency:n}),quantity:i}))),trialEnd:d.plus({days:l})}}function g(e){return"business_cc_14d_personal"===e}function f(e){return(0,i().Xk)(e,"plus")&&(0,i().Xk)(e,"ai")}},957599:(e,t,o)=>{o.d(t,{F:()=>i});class a extends(()=>o(757695))().Store{getInitialState(){return{forceImportDropdownOpen:!1,shouldAddMembers:!0}}closeImportDropdown(){this.setState({forceImportDropdownOpen:!1,shouldAddMembers:!0})}openImportDropdown(e){this.setState({forceImportDropdownOpen:!0,shouldAddMembers:e.shouldAddMembers})}}const i=new a},985315:(e,t,o)=>{o.d(t,{g:()=>r});var a=()=>o(484714),i=()=>o(56366),n=()=>o(126410);function r({spaceId:e}){const t=(0,a().v3)();return(0,i().K8)((()=>{if(e)return n().A.getData(t,{spaceId:e})}),[t,e])}}}]);