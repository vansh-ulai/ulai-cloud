"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92924],{92924:(e,t,n)=>{n.d(t,{i:()=>he});var r=n(296540),l=()=>n(56366),i=()=>n(401497),o=()=>n(493552),a=()=>n(669647),s=()=>n(913454),d=(n(898992),n(354520),n(672577),n(581454),()=>n(521381)),c=()=>n(784892),p=()=>n(534177),u=()=>n(399762),h=n(474848);const m=6;function x({flushRight:e,hasShadow:t,style:n,children:r}){const l=(0,i().IS)((r=>{const l=(null==n?void 0:n.borderRadius)??4;return{card:{display:"flex",flexDirection:"column",gap:3,marginBottom:t?5:4,padding:m,paddingInlineEnd:e?0:m,borderRadius:l,borderStartEndRadius:e?0:l,borderEndEndRadius:e?0:l,...t?{boxShadow:r.shadowXS,boxShadowRight:e?0:void 0}:{border:`1px solid ${r.border.secondary}`,borderInlineEndWidth:e?0:1},...n}}}),[e,t,n]);return(0,h.jsx)("div",{style:l.card,children:r})}function y({style:e}){const t=(0,i().IS)((t=>({textSkeleton:{width:"60%",height:10,backgroundColor:t.gray.background.secondaryTranslucent,borderRadius:6,...e}})),[e]);return(0,h.jsx)("div",{style:t.textSkeleton})}function f(e){return(0,h.jsx)("div",{children:"status"===e.type?(0,h.jsx)(u().q,{value:e.value,color:e.color,format:c().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:e.color}):(0,h.jsx)(u().O,{format:c().NY.ExtremeSmall,value:e.value,color:e.color,showRemoveButton:!1,isSingle:!0})})}function g({index:e}){const t=(0,r.useCallback)((e=>({height:5,...e&&{width:e}})),[]);return 0===e?(0,h.jsxs)("div",{children:[(0,h.jsx)(x,{children:(0,h.jsx)(y,{style:t()})}),(0,h.jsx)(x,{style:{height:"30px"},children:(0,h.jsx)(y,{style:t("80%")})})]}):1===e?(0,h.jsxs)("div",{children:[(0,h.jsxs)(x,{children:[(0,h.jsx)(y,{style:t("100%")}),(0,h.jsx)(y,{style:t()})]}),(0,h.jsx)(x,{children:(0,h.jsx)(y,{style:t()})})]}):(0,h.jsx)("div",{children:(0,h.jsx)(x,{children:(0,h.jsx)(y,{style:t()})})})}const v={type:"select",columns:[]};var w=()=>n(148307),j=()=>n(559273),b=()=>n(972435);const S=6,I=20,T=(0,n(69708).YK)({sunday:{id:"workflowTemplatesOnboarding.calendarThumbnail.sunday",defaultMessage:"Sun"},monday:{id:"workflowTemplatesOnboarding.calendarThumbnail.monday",defaultMessage:"Mon"},tuesday:{id:"workflowTemplatesOnboarding.calendarThumbnail.tuesday",defaultMessage:"Tue"}}),k=[{label:b().A.formatMessage(T.sunday)},{label:b().A.formatMessage(T.monday)},{label:b().A.formatMessage(T.tuesday)},{label:""}];function C(e){const{index:t,flushRight:n}=e,r=(0,i().IS)((e=>({container:{padding:S,paddingInlineEnd:n?0:S,border:`1px solid ${e.border.secondary}`,borderInlineEnd:0,borderBottom:0,borderStartStartRadius:0===t?3:0}})),[t,n]);return(0,h.jsx)("div",{style:r.container,children:(0,h.jsx)(R,{...e})})}function R(e){const{index:t,flushRight:n}=e,l=(0,i().IS)((e=>({skeleton:{width:"100%",height:5,borderRadius:I,borderStartEndRadius:n?0:I,borderEndEndRadius:n?0:I},avatarRow:{display:"flex",alignItems:"center",gap:4},avatarWrapper:{width:12,height:12,flexShrink:0,borderRadius:"100%",border:`0.5px solid ${e.border.secondary}`,overflow:"hidden"},avatar:{width:"100%",height:"100%"}})),[n]),o=(0,r.useMemo)((()=>({hasShadow:!0,style:{borderRadius:3},...e})),[e]);return t%3==0?(0,h.jsx)(x,{...o,children:(0,h.jsx)(y,{style:l.skeleton})}):t%2==0?(0,h.jsxs)(x,{...o,children:[(0,h.jsx)(y,{style:l.skeleton}),(0,h.jsxs)("div",{style:l.avatarRow,children:[(0,h.jsx)("div",{style:l.avatarWrapper,children:(0,h.jsx)(j().A,{src:w().A.images.workflowTemplates.previewAvatar1Png,style:l.avatar})}),(0,h.jsx)(y,{style:l.skeleton})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{...o,children:(0,h.jsx)(y,{style:l.skeleton})}),(0,h.jsx)(x,{...o,children:(0,h.jsx)(y,{style:l.skeleton})})]})}const _=.7;function E({type:e}){const t=(0,i().IS)((e=>{const t=e.gray.background.primaryTranslucent;return{container:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:84,height:48+2*_,backgroundColor:"light"===e.mode?e.background.secondary:e.boardItemDefaultBackground,borderRadius:4,overflow:"hidden",border:`${_}px solid ${e.border.secondary}`},image:{overflow:"hidden",flexGrow:1,flexShrink:1,borderStartStartRadius:4,borderStartEndRadius:4},caption:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:16+_,flexShrink:0,backgroundColor:"light"===e.mode?e.white:e.cardBackground,borderTop:`${_}px solid ${e.border.secondary}`,paddingInlineStart:6},captionText:{backgroundColor:t,borderRadius:20,width:35,height:5},shapeFill:{fill:t,backgroundColor:t}}}),[]);let n;return"circle"===e?n=(0,h.jsx)(V,{fillStyle:t.shapeFill}):"rectangle"===e?n=(0,h.jsx)(M,{fillStyle:t.shapeFill}):"triangle"===e&&(n=(0,h.jsx)($,{fillStyle:t.shapeFill})),(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)("div",{style:t.image,children:n}),(0,h.jsx)("div",{style:t.caption,children:(0,h.jsx)("div",{style:t.captionText})})]})}const A=58;function V({fillStyle:e}){const t=(0,i().IS)((t=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},circle:{position:"absolute",insetInlineStart:`calc(50% - ${A/2}px)`,top:"30%",width:A,height:A,borderRadius:"100%",backgroundColor:e.backgroundColor}})),[e]);return(0,h.jsx)("div",{style:t.container,children:(0,h.jsx)("div",{style:t.circle})})}function $({fillStyle:e}){const t=(0,i().IS)((t=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",width:"100%",height:"100%"},pyramidsContainer:{fill:e.fill}})),[e]);return(0,h.jsx)("div",{style:t.container,children:(0,h.jsx)("div",{style:t.pyramidsContainer,children:(0,h.jsxs)("svg",{viewBox:"0 0 84 23",children:[(0,h.jsx)("defs",{children:(0,h.jsxs)("clipPath",{id:"shape",children:[(0,h.jsx)("rect",{x:"-25.4688",y:"57.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 -25.4688 57.5312)"}),(0,h.jsx)("rect",{x:"3.53125",y:"50.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 3.53125 50.5312)"})]})}),(0,h.jsx)("g",{clipPath:"url(#shape)",children:(0,h.jsx)("rect",{width:"100%",height:"100%"})})]})})})}function M({fillStyle:e}){const t=(0,i().IS)((t=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},rectangle:{position:"absolute",top:10,insetInlineEnd:10,insetInlineStart:10,bottom:0,borderStartStartRadius:1,borderStartEndRadius:1,backgroundColor:e.backgroundColor}})),[e]);return(0,h.jsx)("div",{style:t.container,children:(0,h.jsx)("div",{style:t.rectangle})})}n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);var B=()=>n(466934),P=()=>n(489242),W=()=>n(496603);const z=3,D={templateId:"name",type:"property",value:{name:"Name",type:"title"}};function O({properties:e,collectionViewTemplate:t}){return e.map((e=>{if("status"!==e.value.type)return e;const n=function({propertyTemplate:e,collectionViewTemplate:t}){const n=e.templateId,r=K(t),l=F(t);return r.find((e=>n===l[e.property]))}({propertyTemplate:e,collectionViewTemplate:t});return"checkbox"===(null==n?void 0:n.statusShowAs)?{...e,value:{...e.value,type:"checkbox"}}:e}))}function N({userCustomizations:e,collectionViewTemplate:t}){const n=(0,s().getPropertyTemplates)(e.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template))),r=function({collectionViewTemplate:e}){const t=F(e),n=K(e),r=new Set;for(const l of n){const e=t[l.property];l.visible&&r.add(e)}return r}({collectionViewTemplate:t});return[n.find(P().eP)??D,...n.filter(B().QT).filter((e=>!(0,P().eP)(e))).filter((e=>r.has(e.templateId)))]}function K(e){var t,n,r,l,i,o;switch(e.value.type){case"table":return(null===(t=e.value.format)||void 0===t?void 0:t.table_properties)??[];case"list":return(null===(n=e.value.format)||void 0===n?void 0:n.list_properties)??[];case"gallery":return(null===(r=e.value.format)||void 0===r?void 0:r.gallery_properties)??[];case"board":return(null===(l=e.value.format)||void 0===l?void 0:l.board_properties)??[];case"calendar":return(null===(i=e.value.format)||void 0===i?void 0:i.calendar_properties)??[];case"timeline":return(null===(o=e.value.format)||void 0===o?void 0:o.timeline_properties)??[];case"page":case"chart":case"form_editor":case"feed":case"map":case"chat":case"custom":case"dashboard":return[];default:(0,p().HB)(e.value.type)}}function F({dependencyMap:e}){const t={};for(const[n,r]of(0,p().WP)(e??{})){const e=(0,a().lS)(n);e&&(t[e]=r)}return t}function Y(e){const t=e.options;return null!=t&&t.length?Array.from({length:z}).map(((e,n)=>{const r=n%t.length;return t[r]})):[]}var q=()=>n(729108);const G=[!0,!1,!1];function H({rowIndex:e,style:t}){return(0,h.jsx)(q().S,{checked:G[e]??!1,disabled:!0,size:10,style:t})}const Q=5;function U(e){const t=function(e){return 60+(2*(e+3)+43)%(e%5+2)*5}(e);return{width:`${t}%`,maxWidth:"80%",height:Q}}const X=[30,45,35,40];function J({index:e,offset:t}){return{width:X[(e+t)%X.length],height:Q}}const L=[{avatarSrc:w().A.images.workflowTemplates.previewAvatar1Png,name:""},{avatarSrc:w().A.images.workflowTemplates.previewAvatar2Png,name:""},{avatarSrc:w().A.images.workflowTemplates.previewAvatar3Png,name:""}];function Z(e){const t=(0,i().IS)((t=>({container:{display:"flex",alignItems:"center",width:"100%",gap:4,...e.containerStyle},avatarWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:12,height:12,boxSizing:"content-box",borderRadius:"100%",overflow:"hidden",border:`1px solid ${t.border.secondary}`,flexShrink:0},avatarImage:{width:"100%",height:"100%",borderRadius:"100%"}})),[e.containerStyle]),n=L[e.index%L.length];return(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)("div",{style:t.avatarWrapper,children:(0,h.jsx)(j().A,{src:n.avatarSrc,style:t.avatarImage})}),e.showNameSkeleton?(0,h.jsx)(y,{style:U(e.index)}):null]})}function ee({rowIndex:e,propertySchema:t}){const n=Y(t),r=n[e%n.length];return r?"status"===t.type?(0,h.jsx)(u().q,{value:r.value,color:r.color,format:c().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:r.color}):(0,h.jsx)(u().O,{format:c().NY.ExtremeSmall,value:r.value,color:r.color,showRemoveButton:!1,isSingle:!0}):null}const te=18,ne=Object.freeze(new Set(["title","select","person","multi_select","status","checkbox"]));function re(e){return(0,p().y$)(ne,e.value.type)}function le({propertyTemplates:e,rowIndex:t,containerStyle:n}){return(0,h.jsx)("div",{style:{display:"flex",gap:4,height:te,alignItems:"center",overflow:"hidden",...n},children:e.map((e=>(0,h.jsx)(oe,{property:e,index:t},e.templateId)))})}const ie=[117,136,128];function oe({property:e,index:t}){const n=(0,i().IS)((()=>{const e={display:"flex",overflow:"hidden"};return{textSkeleton:{...e,height:5,width:ie[t]??ie[0],minWidth:25,maxWidth:"80%"},checkbox:{...e,flexShrink:0},person:{...e,width:"unset",flexShrink:0}}}),[t]);switch(e.value.type){case"title":return(0,h.jsx)(y,{style:n.textSkeleton});case"checkbox":return(0,h.jsx)(H,{rowIndex:t,style:n.checkbox});case"status":case"select":case"multi_select":return(0,h.jsx)(ee,{rowIndex:t,propertySchema:e.value});case"person":return(0,h.jsx)(Z,{index:t,showNameSkeleton:!1,containerStyle:n.person});default:return null}}function ae({propertySchema:e,columnIndex:t,rowIndex:n,templateIndex:r}){const l=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%"}})),[]);return(0,h.jsx)("div",{style:l.container,children:(0,h.jsx)(se,{propertySchema:e,columnIndex:t,rowIndex:(n+r)%3})})}function se({propertySchema:e,columnIndex:t,rowIndex:n}){switch(e.type){case"number":return(0,h.jsx)(y,{style:J({index:n,offset:t})});case"text":case"title":return(0,h.jsx)(y,{style:U(n)});case"select":case"multi_select":case"status":return(0,h.jsx)(ee,{rowIndex:n,propertySchema:e});case"created_time":case"last_edited_time":case"last_visited_time":case"date":return(0,h.jsx)(y,{style:{width:"70%",maxWidth:"70%",height:Q}});case"created_by":case"last_edited_by":case"person":return(0,h.jsx)(Z,{index:n,showNameSkeleton:!0});case"checkbox":return(0,h.jsx)(H,{rowIndex:n});default:return null}}const de=r.memo(ae);function ce({template:e,viewTemplate:t,index:r}){const a=(0,l().K8)((()=>N({userCustomizations:(0,B().ET)({template:e}),collectionViewTemplate:t}).splice(0,3)),[e,t]),s=(0,i().IS)((e=>({table:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(4, 20px)"},tableCell:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingTop:1,marginBottom:-1,borderBottom:`1px solid ${e.border.secondary}`,paddingInlineStart:4,paddingInlineEnd:8},propertyTitle:{fontSize:9,...n(284371).RC}})),[]);return(0,h.jsxs)("div",{style:s.table,children:[a.map((e=>(0,h.jsx)("div",{style:s.tableCell,children:(0,h.jsx)(o().D,{styleKey:"Caption/Regular",colorVariant:"secondary",style:s.propertyTitle,children:e.value.name})},`header-${e.templateId}`))),Array.from({length:3}).map(((e,t)=>a.map(((e,n)=>(0,h.jsx)("div",{style:s.tableCell,children:(0,h.jsx)(de,{propertySchema:e.value,rowIndex:t,columnIndex:n,templateIndex:r})},`row-${t}-${e.templateId}`)))))]})}const pe={table:ce,gallery:function({template:e,index:t}){const n=(0,i().IS)((e=>({container:{display:"flex",gap:6,overflow:"hidden",height:"100%",width:"fit-content",marginTop:8,marginBottom:6,marginInlineStart:4}})),[]);return(0,h.jsxs)("div",{style:n.container,children:[(0,h.jsx)(E,{type:"circle"}),(0,h.jsx)(E,{type:"triangle"}),(0,h.jsx)(E,{type:"rectangle"})]})},board:function({viewTemplate:e}){const t=function(e){return(0,l().K8)((()=>{var t,n;const r=(null===(t=e.value.format)||void 0===t||null===(t=t.board_columns)||void 0===t?void 0:t.map((e=>"string"==typeof e.value.value?e.value.value:void 0)).filter(p().O9))??[],l=null===(n=e.value.format)||void 0===n?void 0:n.board_columns_by,{dependencyMap:i}=e;if(!l||!i)return v;const o=i[`property:${l.property}`];if(!o)return v;let a;try{a=s().globalWorkflowTemplates.fromIdOfType({templateId:o,type:"property"})}catch(c){return v}return(0,d().V)(a)?{type:a.value.type,columns:r.length>0?r.map((e=>{var t;return null===(t=a.value.options)||void 0===t?void 0:t.find((t=>t.value===e))})).filter(p().O9):a.value.options??[]}:v}),[e])}(e),n=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:6,paddingTop:8,paddingInlineEnd:8,paddingInlineStart:4},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6}})),[]),o=(0,r.useMemo)((()=>t.columns.slice(0,3)),[t]);return(0,h.jsxs)("div",{style:n.container,children:[(0,h.jsx)("div",{style:n.grid,children:o.map((e=>(0,h.jsx)(f,{id:e.id,value:e.value,color:e.color,type:t.type},e.id)))}),(0,h.jsx)("div",{style:n.grid,children:o.map(((e,t)=>(0,h.jsx)(g,{index:t},e.id)))})]})},calendar:function(){const e=(0,i().IS)((e=>({container:{paddingTop:8,paddingInlineStart:4,display:"grid",gridTemplateColumns:`repeat(${k.length-1}, 1fr) 0.33fr`},columnTitle:{textAlign:"center",fontSize:9,lineHeight:1,color:e.text.secondary,paddingBottom:3}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[k.map(((t,n)=>(0,h.jsx)("div",{style:e.columnTitle,children:t.label},n))),Array.from({length:k.length}).map(((e,t)=>(0,h.jsx)(C,{index:t,flushRight:t===k.length-1},t)))]})},list:function({template:e,viewTemplate:t}){const n=(0,l().K8)((()=>{const n=function({propertyTemplates:e,collectionViewTemplate:t}){var n;const r=null===(n=e.find((e=>"title"===e.value.type)))||void 0===n?void 0:n.templateId,l={...F(t),...r&&{title:r}},i=K(t),o=new Map(i.map(((e,t)=>[l[e.property],t])));return(0,W().Ul)(e,(e=>{const t=o.get(e.templateId);return void 0===t?1/0:t}))}({propertyTemplates:N({userCustomizations:(0,B().ET)({template:e}),collectionViewTemplate:t}).filter(re),collectionViewTemplate:t}),r=O({properties:n,collectionViewTemplate:t});return l=r,(0,W().hS)(l,(e=>(0,d().V)(e)?"select":e.value.type));var l}),[e,t]),o=n.findIndex((e=>"title"===e.value.type)),a=(0,r.useMemo)((()=>n.slice(0,o+1)),[n,o]),s=(0,r.useMemo)((()=>n.slice(o+1)),[n,o]),c=(0,i().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:0,marginTop:6},row:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:6,overflow:"hidden",height:te,width:"100%",paddingInlineEnd:8,paddingInlineStart:4},leftPropertyValues:{flexShrink:1},rightPropertyValues:{justifyContent:"flex-end",flexShrink:0}})),[]);return(0,h.jsx)("div",{style:c.container,children:Array.from({length:3}).map(((e,t)=>(0,h.jsxs)("div",{style:c.row,children:[(0,h.jsx)(le,{propertyTemplates:a,rowIndex:t,containerStyle:c.leftPropertyValues}),(0,h.jsx)(le,{propertyTemplates:s,rowIndex:t,containerStyle:c.rightPropertyValues})]},t)))})}},ue=ce,he=r.memo((function({template:e,index:t,templateColor:r}){const d=e.value.targetCollection.name,c=(0,i().IS)((e=>({container:{display:"flex",flexDirection:"column",paddingTop:12,paddingInlineStart:12,backgroundColor:e[r].background.elevated},header:{display:"flex",alignItems:"center",gap:4,marginInlineStart:4}})),[r]),p=(0,l().K8)((()=>{const t=(0,n(663077).A6)(e,s().globalWorkflowTemplates);return t.length>0?t[0]:s().globalWorkflowTemplates.fromIdOfType({templateId:n(536095).Gs,type:"collection_view"})}),[e]),u=(0,a().QE)(p.value.type)?pe[p.value.type]:ue;return(0,h.jsxs)("div",{style:c.container,children:[(0,h.jsxs)("div",{style:c.header,children:[(0,h.jsx)(n(902842).z,{template:e,size:12}),(0,h.jsx)(o().D,{styleKey:"Caption/Medium",children:d})]}),(0,h.jsx)(u,{template:e,viewTemplate:p,index:t})]})}))}}]);