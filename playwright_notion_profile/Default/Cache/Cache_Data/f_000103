"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55639],{6744:(e,t,n)=>{n.d(t,{B:()=>a});n(18107),n(967357);var o=()=>n(733539);function a(){return Boolean(o().default.state.undoStack.at(-1))}},9402:(e,t,n)=>{n.d(t,{P:()=>a});n(898992),n(737550);var o=()=>n(507395);function a(e){return!!(0,o().q)()||e.blocks.some((e=>e.pathIsDead()))}},21869:(e,t,n)=>{n.d(t,{s:()=>a});var o=()=>n(314529);function a(e,t){(0,o().DO_NOT_USE_trackLegacy)(e,"rich_text_menu_click",t)}},22913:(e,t,n)=>{n.d(t,{H:()=>d,U:()=>c});var o=()=>n(859384),a=()=>n(446290),i=()=>n(440902),l=()=>n(598101),s=()=>n(10521);const r=(0,n(69708).YK)({renameName:{id:"action.rename.name",defaultMessage:"Rename"}}),c=(0,s().Fw)({key:"rename page",displayName:r.renameName,analyticsName:r.renameName.defaultMessage,svg:o().M,validators:[n(730107).I,n(788436).X,i().v,n(49533)._,(0,l().A)(n(868673).a),(0,l().A)(n(606376).l),(0,l().A)(n(59411).k),(0,l().A)(a().d),(0,l().A)((0,n(419286).X)(n(700500).xd.externalObjectInstancePage)),(0,l().A)(n(467294).P),(0,l().A)(n(401665).I),(0,l().A)(n(395763).i),(0,l().A)(n(339425).o),(0,l().A)(n(340814).v),(0,l().A)(n(234347)._)],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:o}=e;if(t.length>0)return n(898286).U({blockStore:t[0],originRect:o})}}),d=(0,s().Fw)({key:"rename file",displayName:r.renameName,analyticsName:r.renameName.defaultMessage,svg:o().M,validators:[n(80257).k,i().v,n(158658).p,(0,l().A)(a().d),(0,l().A)((0,n(389456).B)("table"))],shortcuts:["rename"],closeParentMenu:!0,action:e=>{const{blocks:t,originRect:o}=e;if(t.length>0)return n(569577).H({blockStore:t[0],originRect:o})}})},30549:(e,t,n)=>{n.d(t,{G:()=>a});var o=()=>n(747135);function a(){const e=(0,o().F)();return Boolean(null==e?void 0:e.getAssociatedCollectionStore())}},45214:(e,t,n)=>{n.d(t,{l:()=>a});var o=()=>n(700500);function a(e){if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isType(o().xd.collectionView)}return!1}},49533:(e,t,n)=>{n.d(t,{_:()=>o});n(898992),n(823215);function o(e){return e.blocks.every((e=>e.isNavigableBlock()))}},80257:(e,t,n)=>{n.d(t,{k:()=>a});n(18107),n(967357);var o=()=>n(700500);function a(e){if(e.blocks){const t=e.blocks.at(0);return Boolean(t&&t.isDefined()&&t.getType()===o().xd.file&&t.getProperties().source)}return!1}},116057:(e,t,n)=>{n.d(t,{M:()=>a});n(898992),n(823215);var o=()=>n(329443);function a(e){const{environment:t}=e;return e.blocks.every((e=>o().MI({environment:t,blockStore:e})))}},155963:(e,t,n)=>{function o(e){if(e.blocks&&1===e.blocks.length){const[t]=e.blocks;return t.isCollectionView()}return!1}n.d(t,{K:()=>o})},162301:(e,t,n)=>{n.d(t,{gS:()=>m,KV:()=>u});n(898992),n(737550);var o=()=>n(929219),a=()=>n(529099);const i={text:!0,bulleted_list:!0,numbered_list:!0,quote:!0,to_do:!0,header:!0,sub_header:!0,sub_sub_header:!0,callout:!0,toggle:!0,table:!0,equation:!0,code:!0,file:!0,pdf:!0,image:!0};var l=()=>n(907487),s=()=>n(10521);const r=[...l().X,e=>{const{blocks:t}=e;return t.some((e=>{const t=e.getType();return void 0!==t&&(!!(n(430483).zD.isAttachmentUploadEnabledForUser()||"pdf"!==t&&"file"!==t&&"image"!==t)&&i[t])}))}],c=(0,n(69708).YK)({blockSelectionCompletionName:{id:"action.blockSelectionCompletionName.name",defaultMessage:"Ask AI"},writeWithAiName:{id:"action.writeWithAI.name",defaultMessage:"Write with AI"}});async function d(e){const{environment:t,blocks:o}=e,a=await Promise.resolve().then(n.bind(n,650829)),i=await a.assistantDependency.load();if(i.assistantActions.isSelectionValidAttachmentSelection(o)){const e=n(555102).bX.getState();if(!e)return;return void i.agentActions.openAgentSidebarFromAttachmentBlockSelection({environment:t,selectedAttachmentStore:o[0],inferenceContext:e})}const{aiDependency:l}=await Promise.resolve().then(n.bind(n,662453));(await l.load()).completionInitialPromptActions.toggleInitialPrompt({from:"block_action_menu",environment:t})}const u=(0,s().Fw)({key:"block selection completion",displayName:c.blockSelectionCompletionName,analyticsName:c.blockSelectionCompletionName.defaultMessage,svg:a().aiFaceIcon,shortcuts:["commandJ"],validators:r,hideFromSlashActionMenu:!0,closeParentMenu:!0,action:async(e,t)=>{const{environment:o,blocks:a}=e;n(726637).A.isMobile?window.requestAnimationFrame((()=>{setTimeout((()=>{n(778417).td({environment:o,stores:a}),d({environment:o,blocks:a})}),0)})):await d({environment:o,blocks:a})},disabled:()=>!o().A.state.online,renderTooltip:()=>n(972435).A.formatMessage(s().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),m=(0,s().Fw)({key:"ai prompt menu",analyticsName:"ai_prompt_menu",displayName:void 0,validators:[...l().X,n(590081).O],shortcuts:["commandJ"],closeParentMenu:!0,action:async({environment:e})=>{const{aiDependency:t}=await Promise.resolve().then(n.bind(n,662453));(await t.load()).completionInitialPromptActions.toggleInitialPrompt({from:"keyboard_shortcut",environment:e})}});(0,s().Fw)({key:"write with ai",analyticsName:"write with AI",displayName:c.writeWithAiName,validators:l().X,shortcuts:["commandJ"],closeParentMenu:!0,svg:e=>(0,a().aiFaceIcon)(e),action:async({environment:e})=>{const{aiDependency:t}=await Promise.resolve().then(n.bind(n,662453));(await t.load()).completionInitialPromptActions.toggleInitialPrompt({from:"slash_menu",environment:e})}})},198365:(e,t,n)=>{n.d(t,{w:()=>o});n(18107),n(967357);function o(e){const t=e.blocks.at(0);return Boolean(null==t?void 0:t.isType("image"))}},201004:(e,t,n)=>{n.d(t,{p:()=>o});n(18107),n(967357);function o(e){const t=e.blocks.at(0);return void 0!==t&&t.isPageBlock()}},209416:(e,t,n)=>{n.d(t,{a:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.37 0.99 16.23 16.63",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.728 4.015H4.5a.875.875 0 0 0-.875.875v7.5l.005.09a.875.875 0 0 0 .87.784h1.813a.625.625 0 0 1 .625.626v1.838l3.034-2.334a.63.63 0 0 1 .38-.13H15.5l.09-.004a.875.875 0 0 0 .78-.78l.005-.09V6.089l1.247-1.248.003.049v7.5l-.01.216a2.126 2.126 0 0 1-2.115 1.909h-4.935l-3.872 2.977a.625.625 0 0 1-1.005-.495v-2.482H4.5l-.217-.011a2.126 2.126 0 0 1-1.908-2.114v-7.5c0-1.174.951-2.125 2.125-2.125h9.48z"}),(0,o.jsx)("path",{d:"M17.294 1.223a.77.77 0 0 1 1.084 0 .77.77 0 0 1 0 1.083v.012l-7.986 7.987a.87.87 0 0 1-.387.232l-.916.283c-.18.065-.361-.116-.31-.31l.284-.915a1.1 1.1 0 0 1 .232-.387z"})]})},i=(0,n(340498).wt)("commentPencil",a)},222958:(e,t,n)=>{n.d(t,{d:()=>i});var o=()=>n(696746),a=()=>n(486674);function i(){const e=(0,a().a)();return(0,o().lU)(e)}},234347:(e,t,n)=>{n.d(t,{_:()=>o});n(18107),n(967357);function o(e){const t=e.blocks.at(0);return Boolean(null==t?void 0:t.isPeopleCollectionViewPage())}},306113:(e,t,n)=>{n.d(t,{I:()=>a});n(18107),n(967357);var o=()=>n(700500);function a(e){if(e.blocks){const t=e.blocks.at(0);return Boolean((null==t?void 0:t.isType(o().Ib))&&t.getProperties())}return!1}},333344:(e,t,n)=>{n.d(t,{P:()=>i});var o=()=>n(765957),a=()=>n(272509);function i(e){const t=o().default.state.sidebarSpaceStore;return(0,a().I)(t)}},333799:(e,t,n)=>{n.d(t,{Q:()=>o});n(898992),n(823215);function o(e){return e.blocks.every((e=>{if(!e.isCollectionView())return!1;const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isExternallyImportedAndSyncedCollection()}))}},340814:(e,t,n)=>{n.d(t,{v:()=>o});n(18107),n(967357);function o(e){const t=e.blocks.at(0);return Boolean(null==t?void 0:t.isPersonProfile())}},348895:(e,t,n)=>{n.d(t,{m:()=>l});var o=()=>n(700500),a=()=>n(179034),i=()=>n(148832);function l(e){if(!e)return!1;if(!e.isType(o().xd.alias))return!1;const t=e.getAliasTargetStore();return Boolean((null==t?void 0:t.isTable(a().ev))&&t instanceof i().B&&t.isType(o().xd.form))}},363019:(e,t,n)=>{n.d(t,{F:()=>f});var o=()=>n(209416),a=()=>n(473227),i=()=>n(930545),l=()=>n(859398),s=()=>n(275143),r=()=>n(375308),c=()=>n(775584),d=()=>n(440902),u=()=>n(598101),m=()=>n(422155),p=()=>n(792609),g=()=>n(202786),v=()=>n(10521);const y=(0,n(69708).YK)({suggestName:{id:"action.suggest.name",defaultMessage:"Suggest edits"}});function f(e){return(0,v().Fw)({key:"suggest",displayName:y.suggestName,analyticsName:y.suggestName.defaultMessage,svg:o().a,hideFromSlashActionMenu:!0,validators:[(0,u().A)(c().F),l().$,(0,u().A)(r().v),p().Y,i()._h,i().bn,(0,m().or)([d().v,g().T]),(0,u().A)(s().y)],shortcuts:["suggest"],closeParentMenu:!0,action:({blocks:t,environment:n})=>{t[0]&&a().tf({environment:n,navigableBlockStore:t[0],mode:"suggest",location:e})}})}},384937:(e,t,n)=>{n.d(t,{G:()=>a});var o=()=>n(747100);function a(e){return o().Gb()}},389456:(e,t,n)=>{n.d(t,{B:()=>a});n(898992),n(823215);var o=()=>n(799832);function a(e,t=!0){return n=>n.blocks.every((n=>{const a=(0,o().U)(n,t),i=null==a?void 0:a.collectionViewStore();return(null==i?void 0:i.getType())===e}))}},393138:(e,t,n)=>{n.d(t,{P:()=>i});n(898992),n(823215);var o=()=>n(486674),a=()=>n(389456);function i(e){return e.blocks.every((()=>!function(){const e=(0,o().a)();return null==e?void 0:e.isCollectionViewPageWithContent()}()||(0,a().B)("page",!1)(e)))}},409076:(e,t,n)=>{n.d(t,{p:()=>i});n(898992),n(823215);var o=()=>n(700500),a=()=>n(519831);function i(e){return e.blocks.every((e=>{const t=e.getModel(),n=e.getRecordStoreUIParent();return Boolean(t&&t.isType(o().Si)&&t.getType()!==o().xd.transclusionContainer&&e.getParentTable()!==a().Vl&&n&&n.id===e.getParentId())}))}},410767:(e,t,n)=>{n.d(t,{z:()=>m});n(18107),n(967357),n(296540);var o=()=>n(700500),a=()=>n(236262),i=()=>n(69708),l=()=>n(574357);n(898992),n(823215);function s(e){if(n(620149).l.state)return!1;if((0,n(507395).q)())return!1;if(e.publicEditMode){const t=e.publicEditMode.permission;return"edit"===t||"comment"===t}return e.blocks.every((e=>"suggest"===n(77246).Uv.getMode(e)&&(!e.pathIsDead()&&(!(0,n(337567).dL)(e)&&e.canComment()))))}var r=()=>n(598101),c=()=>n(422155),d=()=>n(10521),u=n(474848);const m=(0,d().Fw)({key:"delete block",displayName:d().AY.deleteName,analyticsName:d().AY.deleteName.defaultMessage,closeParentMenu:!0,svg:a().trashIcon,shortcuts:["delete","backspace"],validators:[(0,c().or)([(0,l().U)([function(e){return e.blocks.every((e=>{const t=e.getRecordStoreUIParent();return Boolean(t&&e.isDefined()&&e.getParentId()!==t.id)}))},n(125591).e]),(0,l().U)([(0,c().or)([n(929409).S,s]),(0,r().A)(n(776594).x)])]),(0,c().or)([n(158658).p,s]),(0,r().A)((0,l().U)([n(49533)._,s])),(0,r().A)(n(375308).v),(0,r().A)((function(e){var t;const a=null===(t=n(765957).default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id,i=e.blocks.at(0);if(i){const e=i.getType(),t=i.getFormat(),n=i.id;return Boolean(n===a&&(0,o().Db)(e,t))}return!1})),(0,r().A)(n(37402).P),(0,r().A)((0,n(419286).X)(o().xd.externalObjectInstancePage)),(0,r().A)(n(467294).P),n(73330).z,(0,r().A)(n(745658).r),(0,c().or)([n(201004).p,n(155963).K,(0,r().A)((0,n(389456).B)("feed"))])],render:(e,{blocks:t},{styles:o})=>{const l=(0,n(609256).d)(t.at(0));return(0,u.jsx)(n(575143).A,{...e,...o,isRed:!0,svg:a().trashIcon,title:(0,u.jsx)(i().sA,{...d().AY.deleteName}),shortcut:"delete",disabled:l,disabledFeedback:l,tooltipText:l?(0,u.jsx)(i().sA,{...d().AY.cannotDeleteBlockTooltip}):void 0})},track:{actionName:"delete"},action:async(e,{blocks:t,environment:o},a)=>{await n(391214).Af({environment:o,blocks:t,shouldCheckSuggestEdit:!0,callback:e})}})},411960:(e,t,n)=>{n.d(t,{P:()=>a});n(898992),n(672577);var o=()=>n(77246);function a(e){return void 0!==e.blocks.find((e=>(0,o().Or)(o().Uv.getMode(e))))}},414479:(e,t,n)=>{n.d(t,{c:()=>a});n(898992),n(823215);var o=()=>n(18387);function a(e){const t=(0,o().Z)();return!!t&&e.blocks.every((e=>t.uiContains(e)&&t.id!==e.id))}},418731:(e,t,n)=>{n.d(t,{C:()=>a});n(898992),n(823215);var o=()=>n(182106);function a(e){return e.blocks.every((e=>Boolean(o().A.findOutlinerItemFromStore(e))))}},422155:(e,t,n)=>{n.d(t,{or:()=>o});n(898992),n(737550);function o(e){return t=>e.some((e=>e(t)))}},426716:(e,t,n)=>{n.d(t,{$:()=>i});n(898992),n(823215);var o=()=>n(148832),a=()=>n(913530);function i(e){return e.blocks.every((e=>{var t;return Boolean(null===(t=e.recordStoreUIParentStore)||void 0===t?void 0:t.findRecordStoreUIAncestor((e=>e instanceof a().p||e instanceof o().B&&e.isCollectionView())).ancestor)}))}},426928:(e,t,n)=>{n.d(t,{ET:()=>L,NQ:()=>z,kf:()=>w,Sr:()=>B,YO:()=>D,Wq:()=>U,EC:()=>x});var o=()=>n(929219),a=()=>n(584262),i=()=>n(179034),l=()=>n(343666),s=()=>n(222299),r=()=>n(281948),c=()=>n(577142),d=(n(898992),n(737550),()=>n(90023));function u(e){return!e.blocks.some((e=>{const t=null==e?void 0:e.getSystemBlockTypeStore().getValue();return(0,d().mi)(t)}))}var m=()=>n(401665),p=()=>n(775584),g=()=>n(440902),v=()=>n(598101),y=()=>n(384937),f=()=>n(492414),k=()=>n(972435),b=()=>n(968913),h=()=>n(765957),A=()=>n(712505),S=()=>n(10521);const N=(0,n(69708).YK)({openInFullPage:{id:"action.navigation.openInFullPage",defaultMessage:"Open in full page"},openInSidePeek:{id:"action.navigation.openInSidePeek",defaultMessage:"Open in side peek"},openInNewTab:{id:"action.openInNewTab.name",defaultMessage:"Open in new tab"},openInNewWindow:{id:"action.openInNewWindow.name",defaultMessage:"Open in new window"},openInFullPageShort:{id:"action.navigation.openInFullPageShort",defaultMessage:"Full page"},openInSidePeekShort:{id:"action.navigation.openInSidePeekShort",defaultMessage:"Side peek"},openInNewTabShort:{id:"action.openInNewTab.nameShort",defaultMessage:"New tab"},openInNewWindowShort:{id:"action.openInNewWindow.nameShort",defaultMessage:"New window"}});function w(e){var t;const n=e.blocks[0];if(!n)return!1;if(null!==(t=n.getModel())&&void 0!==t&&t.isNavigableBlock())return!0;if(n.isType("alias")){var o;const e=null===(o=n.getAliasTargetStore())||void 0===o?void 0:o.getModel();if((null==e?void 0:e.table)===i().ev&&null!=e&&e.isNavigableBlock())return!0}return!1}function T(e){return A().default.isSidePeekOpen()}const M=P(!1),I=P(!0);function P(e){return(0,S().Ls)({key:"open in full page",displayName:e?N.openInFullPageShort:N.openInFullPage,analyticsName:e?N.openInFullPageShort.defaultMessage:N.openInFullPage.defaultMessage,svg:n(419942).o,validators:[g().v,w,T],closeParentMenu:!0,action:e=>{const t=e.blocks[0],n=t.getAliasTargetStore()??t;if(n.table===l().SN)return;const o=(0,f().Ay)({store:n,pageVisitSource:a().y8.LinkInPage});(0,c().navigate)({environment:e.environment,url:o})},disabled:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return!t&&!a},renderTooltip:()=>k().A.formatMessage(S().AY.unavailableOfflineTooltip),disableTooltip:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return t||a}})}const x=_(!1),C=_(!0);function _(e){return(0,S().Fw)({key:"open side peek",displayName:e?N.openInSidePeekShort:N.openInSidePeek,analyticsName:e?N.openInSidePeekShort.defaultMessage:N.openInSidePeek.defaultMessage,svg:n(177256).A,shortcuts:["openInSidePeek"],validators:[g().v,w,(0,v().A)(p().F),u,(0,v().A)(n(222958).d),(0,v().A)(n(381895).k)],closeParentMenu:!0,action:e=>{var t,o,i;const{route:s}=e.environment.RouterStore.state,r="chat"===s.name;let d;"team"===s.name&&(d=s.teamId);if(!(null===(t=h().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)&&!r&&void 0===d)return;const u=e.blocks[0],m=u.getAliasTargetStore()??u;if(m.table===l().SN)return;const p=null===(o=(0,n(651784).OB)(s))||void 0===o?void 0:o.chatThreadId,g=r?(0,n(172385).EY)({currentRoute:s,pageId:u.id,pageVisitSource:a().y8.AIChat,scrollToBlockId:void 0,isMobile:Boolean(n(726637).A.isMobile)}):void 0!==d?(0,n(120739).a)({teamId:d,peekInfo:{peekViewBlockId:u.id,peekMode:"s"},spaceId:null===(i=h().default.state.sidebarSpaceStore)||void 0===i?void 0:i.id}):(0,f().Ay)({store:m,openInSidePeek:!0,peekViewBlockId:m.id,peekMode:"s",pageVisitSource:a().y8.PeekOpen,chatThreadId:p});(0,c().navigate)({environment:e.environment,url:g})},disabled:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return!t&&!a},renderTooltip:()=>k().A.formatMessage(S().AY.unavailableOfflineTooltip),disableTooltip:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return t||a}})}const B=Y(!1),F=Y(!0);function Y(e){return(0,S().Fw)({key:"navigate to page in new tab",analyticsName:"Navigate to page in new tab",displayName:e?N.openInNewTabShort:N.openInNewTab,svg:n(955363).arrowDiagonalUpRightIcon,validators:[g().v,w,(0,v().A)(p().F),(0,v().A)(m().I)],shortcuts:["commandShiftEnter"],closeParentMenu:!0,action:({blocks:e,environment:t})=>{if(e[0].isType("alias")){var n;const o=e[0];if(!(null===(n=h().default.state.mainEditorCurrentBlockStore)||void 0===n?void 0:n.id))return;const i=o.getAliasTargetStore()??o;if(i.table===l().SN)return;s().Yf({environment:t,blocks:[i],openInNew:"tab",pageVisitSource:a().y8.LinkInPage})}else s().Yf({environment:t,blocks:e,openInNew:"tab",pageVisitSource:a().y8.LinkInPage})},disabled:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return!t&&!a},renderTooltip:()=>k().A.formatMessage(S().AY.unavailableOfflineTooltip),disableTooltip:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return t||a}})}const R=j(!1);function j(e){return(0,S().Ls)({key:"navigate to page in new window",analyticsName:"Navigate to page in new window",displayName:e?N.openInNewWindowShort:N.openInNewWindow,svg:n(808764).U,validators:[g().v,n(49533)._,n(733637).i,(0,v().A)(n(45214).l),(0,v().A)(p().F),(0,v().A)(m().I)],closeParentMenu:!0,action:({blocks:e,environment:t})=>{s().Yf({environment:t,blocks:e,openInNew:"window",pageVisitSource:a().y8.LinkInPage})},disabled:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return!t&&!a},renderTooltip:()=>k().A.formatMessage(S().AY.unavailableOfflineTooltip),disableTooltip:e=>{const t=o().A.state.online,n=e.blocks[0].id,a=(0,b().Bd)(n);return t||a}})}const U=[F,j(!0),I,C],D=[B,R,M,x],z=(0,S().Fw)({key:"go up one page",analyticsName:"Go up one page",displayName:void 0,validators:[y().G],shortcuts:["peekUp"],closeParentMenu:!0,action:()=>r().NQ()}),L=(0,S().Fw)({key:"go down one page",analyticsName:"Go down one page",displayName:void 0,validators:[y().G],shortcuts:["peekDown"],closeParentMenu:!0,action:()=>r().ET()})},440902:(e,t,n)=>{function o(e){return e.blocks&&1===e.blocks.length}n.d(t,{v:()=>o})},453237:(e,t,n)=>{n.d(t,{a:()=>o});n(18107),n(967357);function o(e){var t;const n=e.blocks.at(0);return Boolean((null==n?void 0:n.isCollectionView())&&((null===(t=n.getCollectionStores())||void 0===t?void 0:t.length)??0)>0)}},460995:(e,t,n)=>{n.d(t,{A:()=>o});n(898992),n(737550);function o(e){return e.blocks.some((e=>e.isCollectionViewPageWithContent()))}},491073:(e,t,n)=>{n.d(t,{Ay:()=>p,Kc:()=>u,Nc:()=>d,Yr:()=>c});var o=n(296540),a=()=>n(401497),i=()=>n(100622),l=()=>n(284371),s=()=>n(760217),r=n(474848);function c(e,t){return`inset 0 0 0 ${t?"2px":"1px"} ${e}`}function d(e,t,n){"dark"!==n.mode&&t||"default"!==e&&"default_background"!==e||(e="gray");const o=i().Ld[e];return o?n[o].border[t?"strong":"primaryTranslucent"]:n.text.primary}function u(e){const{color:t,selected:n,isHovered:o,overrideStyles:s}=e,u=(0,i().Cg)(t),m=(0,a().IS)((e=>{const a=(0,i().k5)(t,e),r=d(t,n??!1,e);return{icon:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:26,height:26,textAlign:"center",padding:8,margin:0,fontSize:16,borderRadius:6,fontWeight:l().Wy.medium,boxShadow:c(r,n||o),...a,...s}}}),[t,o,s,n]);return(0,r.jsx)("div",{style:m.icon,"aria-hidden":"true",children:u?"":"A"})}function m(e,t){const[i,l]=(0,o.useState)(!1),{color:c,overrideDisplayName:d,right:m,shortcuts:p,selected:g,shouldShowUpdatedColorPicker:v,desktopTitleStyle:y,iconStyle:f,itemMarginLeft:k,itemMarginRight:b,desktopIconStyle:h,rightStyle:A}=e,S=d||n(972435).A.formatMessage((0,n(27178).qo)(c)),N=!n(726637).A.isMobile&&p&&p[0],w=(0,a().IS)((e=>v?{tooltipStyle:{display:"inline-block",width:30,padding:0,lineHeight:1},desktopStyleIcon:{position:"absolute"},buttonStyle:{display:"inline-block",width:"100%",height:"100%",margin:0,padding:2,position:"relative"},menuItemStyle:{margin:0,padding:0,gap:0,minHeight:26},disableButtonStyleHoverOrPressed:{background:"transparent"},shortcut:{}}:{shortcut:{color:e.text.tertiary,fontSize:12,whiteSpace:"nowrap"},tooltipStyle:{},desktopStyleIcon:{},buttonStyle:{},menuItemStyle:{},disableButtonStyleHoverOrPressed:{}}),[v]),T=(0,o.useCallback)((()=>(0,r.jsx)(u,{color:c,selected:g,isHovered:i,overrideStyles:f})),[c,i,g,f]);return v?(0,r.jsx)(n(859428).A,{renderTooltip:()=>(0,r.jsx)("div",{children:S}),render:n=>(0,r.jsx)("div",{style:{...w.tooltipStyle},...n,onMouseEnter:e=>{var t;l(!0),null===(t=n.onMouseEnter)||void 0===t||t.call(n,e)},onMouseLeave:e=>{var t;l(!1),null===(t=n.onMouseLeave)||void 0===t||t.call(n,e)},children:(0,r.jsx)(s().A,{...e,ref:t,icon:T(),style:w.menuItemStyle,itemMarginLeft:k,itemMarginRight:b,hoveredStyle:w.disableButtonStyleHoverOrPressed,pressedStyle:w.disableButtonStyleHoverOrPressed,desktopIconStyle:h||w.desktopStyleIcon,right:m,buttonStyle:w.buttonStyle,desktopTitleStyle:y,rightStyle:A})})}):(0,r.jsx)(s().A,{...e,ref:t,title:S,icon:T(),dontShrinkRight:!0,isChecked:g&&!(m||N),right:m||N&&(0,r.jsx)(n(35392).A,{name:N,style:w.shortcut}),itemMarginLeft:k,itemMarginRight:b,desktopIconStyle:h,desktopTitleStyle:y,rightStyle:A})}const p=o.forwardRef(m)},571157:(e,t,n)=>{n.d(t,{i:()=>i});n(18107),n(967357),n(898992),n(823215);var o=()=>n(598101);const a=(0,n(69708).YK)({fullScreenName:{id:"action.fullScreen.name",defaultMessage:"Full screen"}}),i=(0,n(10521).Fw)({key:"full screen",displayName:a.fullScreenName,analyticsName:a.fullScreenName.defaultMessage,svg:n(261403).R,validators:[n(440902).v,n(306113).I,function(e){return e.blocks.every((e=>{const t=n(129522).K.findBlockFromStoreWithMethod(e,"canRenderFullScreen");return Boolean(t&&t.canRenderFullScreen())}))},(0,o().A)(n(664767).c),(0,o().A)(n(918871).w)],shortcuts:["space"],closeParentMenu:!0,track:{actionName:"full_screen"},action:(e,{environment:t,blocks:o},a)=>{const i=o.at(0);i&&n(391214).iy({environment:t,blockStore:i,callback:e})}})},574357:(e,t,n)=>{n.d(t,{U:()=>o});n(898992),n(823215);function o(e){return t=>e.every((e=>e(t)))}},590081:(e,t,n)=>{n.d(t,{O:()=>i});n(898992),n(823215);var o=()=>n(242422),a=()=>n(700500);function i(e){return e.blocks.every((e=>{const t=e.getType(),n=e.getFormat();return o().default.checkGate({gateName:"action_bar_reskin"})?(0,a().dY)(t,n):(0,a().Db)(t,n)&&!(0,a().$I)(t)}))}},599364:(e,t,n)=>{n.d(t,{k:()=>m,o:()=>u});var o=()=>n(165358),a=()=>n(742852),i=()=>n(514779),l=()=>n(395763),s=()=>n(49533),r=()=>n(440902),c=()=>n(598101),d=()=>n(10521);const u=(0,d().Ls)({key:"copy link to page",displayName:d().AY.copyLinkNavigableTypeName,analyticsName:d().AY.copyLinkNavigableTypeName.defaultMessage,svg:a().linkIcon,validators:[i().M,r().v,s()._,(0,c().A)(l().i),(0,c().A)(n(339425).o)],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{lazyDependencies:t,environment:n,blocks:a},i)=>{const{clipboardActions:l}=t;l?l.copyLinkToBlock({environment:n,blockStore:a[0],callback:e}):o().log({data:{miscDataToConvertToString:{actionKey:"copy link to page"}},from:"copyActionRegistry",level:"info",type:"lazyDependencies:missingClipboardActions"})}}),m=(0,d().Fw)({key:"copy link to block",displayName:d().AY.copyLinkName,analyticsName:d().AY.copyLinkName.defaultMessage,svg:a().linkIcon,shortcuts:["copyLinkToBlock"],validators:[i().M,r().v,(0,c().A)(s()._),(0,c().A)(l().i),(0,c().A)(n(871306).b),(0,c().A)(n(416433).I)],closeParentMenu:!0,track:{actionName:"copy_block_link"},action:(e,{lazyDependencies:t,environment:n,blocks:a},i)=>{const{clipboardActions:l}=t;l?l.copyLinkToBlock({environment:n,blockStore:a[0],callback:e}):o().log({data:{miscDataToConvertToString:{actionKey:"copy link to block"}},from:"copyActionRegistry",level:"info",type:"lazyDependencies:missingClipboardActions"})}})},606376:(e,t,n)=>{n.d(t,{l:()=>o});n(898992),n(737550);function o(e){return e.blocks.length>0&&e.blocks.some((e=>e.isLocked()))}},609256:(e,t,n)=>{function o(e){if(!e)return!1;const t=e.getFormat();if(!t)return!1;const n=t.marketplace_listing_id;return!!n&&n.length>0}n.d(t,{d:()=>o})},611357:(e,t,n)=>{n.d(t,{Lc:()=>g,Zm:()=>p});var o=()=>n(663640),a=(n(898992),n(672577),()=>n(129522)),i=()=>n(840790);async function l(e){const{environment:t,store:o}=e;if(!o.isTransclusionType())throw new(n(416845).yI)("Unknown transclusion type");const l=o.getRecordStoreUIParent();let s;if(s="transclusion_reference"===o.getType()?o.getTransclusionReferenceTargetStore():o,!l||!(0,n(299545).iU)(l)||!s)return;const r=function(e){return a().K.find((t=>t.getBlockStore()===e))}(s);if(!r)return;if("transclusion_container"===o.getType()){if(!(await r.confirmUnsyncTransclusionContainer()))return}else if(!(await r.confirmUnsyncTransclusionReference()))return;const c=(0,n(357625).UT)(t,n(526088).K,{block:{id:o.pointer.id,spaceId:(0,n(161479).e)(o.pointer.spaceId)}},{spaceIds:[]});"transclusion_reference"===o.getType()&&i().A.addUnsyncingBlockId(o.id);for await(const a of c)n(973647).Q.isSuccess(a)&&("started"===a.value.status||"succeeded"===a.value.status||("failed"===a.value.status?i().A.removeUnsyncingBlockId(o.id):(0,n(534177).HB)(a.value.status)))}var s=()=>n(158658),r=(n(18107),n(967357),()=>n(700500)),c=()=>n(337567);var d=()=>n(440902),u=()=>n(10521);const m=(0,n(69708).YK)({unsyncTransclusionReferenceName:{id:"action.unsyncTransclusionReference.name",defaultMessage:"Unsync"},unsyncTransclusionReferenceFuzzySearch:{id:"action.unsyncTransclusionReference.fuzzySearchKeywords",defaultMessage:"Unsync ungroup"},unsyncTransclusionContainerName:{id:"action.unsyncTransclusionContainerName.name",defaultMessage:"Unsync all"},unsyncTransclusionContainerFuzzySearch:{id:"action.unsyncTransclusionContainer.fuzzySearchKeywords",defaultMessage:"Unsync all ungroup"}}),p=(0,u().Fw)({key:"unsyncTransclusionReference",displayName:m.unsyncTransclusionReferenceName,analyticsName:m.unsyncTransclusionReferenceName.defaultMessage,fuzzySearchKeywords:m.unsyncTransclusionReferenceFuzzySearch,svg:o().i,validators:[s().p,function(e){if(e.blocks){const t=e.blocks.at(0);if(!t)return!1;if(t.pathIsDead())return!1;if((0,c().dL)(t))return!1;if(t.getType()===r().xd.transclusionReference){const e=t.getTransclusionReferenceTargetStore();return Boolean(e&&e.canEdit())}return!1}return!1},d().v],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{l({environment:e.environment,store:e.blocks[0]})}}),g=(0,u().Fw)({key:"unsyncTransclusionContainer",displayName:m.unsyncTransclusionContainerName,analyticsName:m.unsyncTransclusionContainerName.defaultMessage,fuzzySearchKeywords:m.unsyncTransclusionContainerFuzzySearch,svg:o().i,validators:[s().p,function(e){if(e.blocks){const t=e.blocks.at(0);return!!t&&(!t.pathIsDead()&&(!(0,c().dL)(t)&&t.getType()===r().xd.transclusionContainer))}return!1},d().v],shortcuts:["ungroup"],closeParentMenu:!0,action:e=>{l({environment:e.environment,store:e.blocks[0]})}})},638616:(e,t,n)=>{n.d(t,{W:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.12 3.72 15.76 12.16",directional:!0,svg:(0,n(474848).jsx)("path",{d:"M3.375 12A2.625 2.625 0 0 0 6 14.625h1.42a.625.625 0 1 1 0 1.25H6a3.875 3.875 0 0 1 0-7.75h9.741l-3.333-3.333a.625.625 0 0 1 .884-.884l4.4 4.4a.625.625 0 0 1 0 .884l-4.4 4.4a.625.625 0 0 1-.884-.884l3.333-3.333H6A2.625 2.625 0 0 0 3.375 12"})},a=(0,n(340498).wt)("arrowUTurnUpRight",o)},663640:(e,t,n)=>{n.d(t,{i:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"0.12 2.37 19.76 15.26",svg:(0,n(474848).jsx)("path",{d:"m4.897 3.085-.122-.142a.625.625 0 1 0-.95.814l.755.88A7.6 7.6 0 0 0 2.375 10v1.151L1.188 9.964a.625.625 0 1 0-.884.884l2.254 2.254c.244.244.64.244.884 0l2.254-2.254a.625.625 0 1 0-.884-.884l-1.187 1.187V10a6.35 6.35 0 0 1 1.772-4.41l8.258 9.634A6.35 6.35 0 0 1 10 16.375a6.35 6.35 0 0 1-4.338-1.703.625.625 0 0 0-.85.915A7.6 7.6 0 0 0 10 17.626a7.6 7.6 0 0 0 4.472-1.448l.754.88a.625.625 0 0 0 1.041-.67L4.989 3.228a.6.6 0 0 1-.093-.144M16.22 14.411A7.6 7.6 0 0 0 17.625 10V8.849l1.187 1.187a.625.625 0 1 0 .884-.884l-2.254-2.254a.625.625 0 0 0-.884 0l-2.254 2.254a.625.625 0 1 0 .884.884l1.187-1.187V10a6.35 6.35 0 0 1-.998 3.427zM7.435 4.162A6.35 6.35 0 0 1 10 3.625c1.676 0 3.2.646 4.338 1.703a.625.625 0 1 0 .85-.916A7.6 7.6 0 0 0 10 2.375a7.6 7.6 0 0 0-3.409.802z"})},a=(0,n(340498).wt)("arrowCircleLoopSlash",o)},664767:(e,t,n)=>{n.d(t,{c:()=>a});var o=()=>n(693202);function a(){return"editing"===o().default.state.mode}},730107:(e,t,n)=>{n.d(t,{I:()=>a});var o=()=>n(726637);function a(){return!o().A.isMobile}},733637:(e,t,n)=>{function o({environment:{device:e}}){return e.isNative}n.d(t,{i:()=>o})},741043:(e,t,n)=>{n.d(t,{J1:()=>C,nd:()=>_,Rw:()=>U,DX:()=>x,II:()=>I,qW:()=>P,qC:()=>B,kl:()=>j});n(581454),n(296540);var o=()=>n(100622),a=()=>n(496603),i=()=>n(896628),l=()=>n(906590),s=()=>n(750627),r=()=>n(231297),c=()=>n(491073),d=()=>n(89924),u=()=>n(418731),m=()=>n(158658),p=(n(898992),n(823215),()=>n(700500)),g=()=>n(519831);function v(e){return e.blocks.every((e=>{const t=null==e?void 0:e.getModel();return Boolean((null==t?void 0:t.isType(p().hc))&&e.getParentTable()!==g().Vl)}))}var y=()=>n(393138),f=()=>n(375308),k=()=>n(598101),b=()=>n(27178),h=()=>n(299545),A=()=>n(792609),S=()=>n(77272),N=()=>n(148832),w=()=>n(10521),T=n(474848);const M=(0,n(69708).YK)({lastUsedHighlightTitle:{id:"action.lastUsedHighlight.title",defaultMessage:"Last used"},lastUsedHighlightKeywords:{id:"action.lastUsedHighlight.fuzzySearchKeywords",defaultMessage:"Color last used"},highlightName:{id:"action.highlight.name",defaultMessage:"Highlight"}});function I(e){const{itemRenderer:t}=e;return(0,w().gy)({key:"text color actions",title:w().AY.colorSection,render:e=>(0,T.jsx)(d().A,{...e}),actions:o().N.map((e=>Y({blockColor:e,itemRenderer:t})))})}const P=I({itemRenderer:e=>{const{color:t,overrideDisplayName:n,selected:o}=e;return(0,T.jsx)(c().Ay,{...e.menuListItemProps,color:t,overrideDisplayName:n,selected:o})}});function x(e){const{itemRenderer:t}=e;return(0,w().gy)({key:"background color actions",title:w().AY.backgroundSection,overrideSearchTitle:w().AY.backgroundSectionKeywords,render:e=>(0,T.jsx)(d().A,{...e}),actions:o().AQ.map((e=>Y({blockColor:e,itemRenderer:t})))})}const C=x({itemRenderer:e=>{const{color:t,overrideDisplayName:n,selected:o}=e;return(0,T.jsx)(c().Ay,{...e.menuListItemProps,color:t,overrideDisplayName:n,selected:o})}}),_=(0,w().gy)({key:"background color selection actions",title:w().AY.backgroundSection,overrideSearchTitle:w().AY.backgroundSectionKeywords,render:e=>(0,T.jsx)(d().A,{...e}),actions:o().AQ.map((e=>R(e)))}),B=(0,w().gy)({key:"text color selection actions",title:w().AY.colorSection,render:e=>(0,T.jsx)(d().A,{...e}),actions:o().N.map((e=>R(e)))});function F(){return[m().p,(0,k().A)(f().v),A().Y,v,(0,k().A)(u().C),y().P]}function Y(e){const{blockColor:t,overrideKey:n,overrideDisplayName:c,itemRenderer:d}=e,u=c||(0,b().qo)(t),m=(0,w().Ls)({key:`color ${n||t}`,displayName:u,analyticsName:u.defaultMessage,analyticsActionType:"change_block_color",fuzzySearchKeywords:(0,w().Mf)(t),validators:F(),track:{actionName:"set_color"},action:(e,{blocks:n,environment:c},d)=>{l().Q(t);const{serverCommitResult:u}=r().createAndCommit({userAction:"actionRegistry.createBlockColorAction",environment:c,canUndo:!0,perform:e=>{if(1===n.length&&n[0].isFirstBlockInCalloutV2Block()){const e=n[0].getParentStore();e instanceof N().B&&(n=[e])}(0,o().Cg)(t)||(s().Vd({environment:c,annotationKey:"hb",blocks:n,transaction:e}),s().Vd({environment:c,annotationKey:"hf",blocks:n,transaction:e}),i().zA({stores:a().qI(n,(e=>(0,h().zo)({blockStore:e,transclusionReferences:"omit",childPages:"omit"}))),update:{block_color:void 0},transaction:e})),i().zA({stores:n,update:{block_color:t},transaction:e})}});u.then(e)},closeParentMenu:!0,render:(e,{blocks:n})=>{const o=t===(n.length>0?n[0].getFormat().block_color:"default");return d({menuListItemProps:e,color:t,selected:o,overrideDisplayName:m.displayName})},nativeImageReference:({environment:e})=>(0,w().Kg)(e,t,n)});return m}function R(e,t,o){const a=o||(0,b().qo)(e),i=(0,w().Ls)({key:`color ${t||e}`,displayName:a,analyticsName:a.defaultMessage,fuzzySearchKeywords:(0,w().Mf)(e),validators:F(),action:async({blocks:t,environment:o})=>{n(986260).shouldPreserveExistingSelection(o)&&await n(978848).A.clearNativeActionMenuAndRestoreSelectionIfNecessary(),l().Q(e),s().po({environment:o,annotation:["h",e]}),(0,n(21869).s)(o,{action:"h",color:e})},closeParentMenu:!0,render:t=>(0,T.jsx)(c().Ay,{...t,color:e,overrideDisplayName:i.displayName}),nativeImageReference:({environment:n})=>(0,w().Kg)(n,e,t)});return i}const j=(0,w().gy)({key:"toggle last highlight",title:M.lastUsedHighlightTitle,overrideSearchTitle:M.lastUsedHighlightKeywords,render:e=>(0,T.jsx)(d().A,{...e}),actions:[(0,w().Fw)({key:"toggle highlight action",displayName:M.highlightName,analyticsName:M.highlightName.defaultMessage,validators:F(),shortcuts:["toggleHighlight"],closeParentMenu:!0,track:{actionName:"set_color"},action:(e,{environment:t,blocks:n},o)=>{const l=S().A.getMostRecentlyUsedColor(),{serverCommitResult:s}=r().createAndCommit({userAction:"actionRegistry.toggleLastUsedHighlight",environment:t,canUndo:!0,perform:e=>{const t=a().Si(n.map((e=>{const t=e.getFormat();return t&&t.block_color===l})))?void 0:l;i().zA({stores:n,update:{block_color:t},transaction:e})}});s.then(e)},render:e=>{const t=S().A.getMostRecentlyUsedColor();return(0,T.jsx)(c().Ay,{...e,color:t,shortcuts:["toggleHighlight"]})}})]}),U=(0,n(12956).u)({key:"color section",displayName:w().AY.colorName,analyticsName:w().AY.colorName.defaultMessage,svg:n(933152).M,validators:F(),subActions:()=>[j,P,C]})},747135:(e,t,n)=>{n.d(t,{F:()=>s});var o=()=>n(765957),a=()=>n(878423),i=()=>n(712505),l=()=>n(342);function s(){var e;const t=i().default.state,n=t.open?t.targetStore:o().default.state.mainEditorCurrentBlockStore,s=null===(e=a().A.state.caches[l().oB])||void 0===e?void 0:e.inMemoryRecordCache;return s?null==n?void 0:n.clone(s):n}},772186:(e,t,n)=>{function o(e){return e.blocks&&e.blocks.length>1}n.d(t,{F:()=>o})},774411:(e,t,n)=>{n.d(t,{kl:()=>L,nK:()=>U,yj:()=>D,lb:()=>K,J8:()=>V,TR:()=>z,As:()=>j});n(296540);var o=()=>n(929219),a=()=>n(584262),i=()=>n(764781),l=()=>n(857783),s=()=>n(89924),r=()=>n(855801),c=()=>n(213477),d=()=>n(574357),u=()=>n(776594),m=()=>n(418731),p=()=>n(467276),g=()=>n(158658),v=()=>n(116057),y=()=>n(125591),f=()=>n(9402),k=()=>n(460995),b=()=>n(339425),h=()=>n(333799),A=()=>n(333344),S=()=>n(375308);function N(e){return!(0,n(73330).z)(e)}var w=()=>n(49533),T=()=>n(440902),M=()=>n(453237),I=()=>n(598101),P=()=>n(422155),x=()=>n(211716),C=()=>n(972435),_=()=>n(765957),B=()=>n(50764),F=()=>n(12956),Y=()=>n(10521),R=n(474848);const j=(0,Y().Fw)({key:"duplicate",displayName:Y().AY.duplicateName,analyticsName:Y().AY.duplicateName.defaultMessage,svg:i().V,validators:[y().e,(0,I().A)(u().x),(0,I().A)(p().p),(0,I().A)(n(467294).P),(0,P().or)([m().C,(0,I().A)(S().v)]),(0,P().or)([(0,I().A)(M().a),k().A]),(0,I().A)(n(745658).r),...Y().uo],shortcuts:["duplicate"],closeParentMenu:!0,track:{actionName:"duplicate"},action:async(e,{blocks:t,environment:n},o)=>{const a=await r().VI.selectableBlockActions.load();await a.duplicateBlocksWithMaybeConfirmation({environment:n,blocks:t,event:o,callback:e,from:"duplicate_action_registry"})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),U=(0,F().u)({key:"duplicateCollection",displayName:Y().AY.duplicateName,analyticsName:Y().AY.duplicateName.defaultMessage,svg:i().V,width:275,validators:[y().e,(0,I().A)(u().x),(0,I().A)(p().p),(0,P().or)([m().C,(0,I().A)(S().v)]),(0,d().U)([M().a,(0,I().A)(k().A)]),(0,I().A)(h().Q),...Y().uo],subActions:()=>[{key:"collection duplication options",render:e=>(0,R.jsx)(s().A,{...e}),actions:D.actions}]}),D=(0,Y().gy)({key:"duplicate collection actions",title:Y().AY.duplicateName,render:e=>(0,R.jsx)(s().A,{...e}),actions:[(0,Y().Fw)({key:"duplicate with data",displayName:Y().AY.duplicateCollectionWithDataName,analyticsName:"duplicate_with_data",validators:[(0,I().A)(f().P),(0,I().A)(S().v),...Y().uo],shortcuts:["duplicate"],closeParentMenu:!0,track:{actionName:"duplicate"},action:async(e,{blocks:t,environment:n},o)=>{const a=await r().VI.selectableBlockActions.load();await a.duplicateBlocksWithMaybeConfirmation({environment:n,blocks:t,duplicateOnlyCollectionSchema:!1,event:o,callback:e,from:"duplicate_action_registry"})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),(0,Y().Fw)({key:"duplicate schema only",displayName:Y().AY.duplicateCollectionSchemaOnlyName,analyticsName:"duplicate_schema_only",validators:[(0,I().A)(f().P),(0,I().A)(S().v),...Y().uo],shortcuts:["duplicateSchema"],closeParentMenu:!0,track:{actionName:"duplicate"},action:async(e,{blocks:t,environment:n},o)=>{const a=await r().VI.selectableBlockActions.load();await a.duplicateBlocksWithMaybeConfirmation({environment:n,blocks:t,duplicateOnlyCollectionSchema:!0,event:o,callback:e,from:"duplicate_action_registry"})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online})]}),z=(0,Y().Fw)({key:"duplicate",displayName:Y().AY.duplicateName,analyticsName:Y().AY.duplicateName.defaultMessage,svg:i().V,validators:[T().v,v().M,(0,P().or)([(0,I().A)(n(30549).G),n(787281).U]),(0,P().or)([(0,I().A)(M().a),k().A]),...Y().uo,(0,I().A)(b().o)],shortcuts:["duplicate"],closeParentMenu:!0,track:{actionName:"duplicate"},action:(e,{blocks:t,environment:n},o)=>{E(t,n,{callback:e,useDuplicateSubtreeFlow:!0})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),L=(0,F().u)({key:"duplicateCollection",displayName:Y().AY.duplicateName,analyticsName:Y().AY.duplicateName.defaultMessage,svg:i().V,width:275,validators:[T().v,v().M,(0,I().A)(h().Q),(0,d().U)([M().a,(0,I().A)(k().A)]),...Y().uo],subActions:()=>[{key:"collection duplication options",render:e=>(0,R.jsx)(s().A,{...e}),actions:O.actions}]}),O=(0,Y().gy)({key:"duplicate collection actions",title:Y().AY.duplicateName,render:e=>(0,R.jsx)(s().A,{...e}),actions:[(0,Y().Fw)({key:"duplicate with data",displayName:Y().AY.duplicateCollectionWithDataName,analyticsName:"duplicate_with_data",validators:[(0,I().A)(f().P)],shortcuts:["duplicate"],closeParentMenu:!0,track:{actionName:"duplicate"},action:(e,{blocks:t,environment:n},o)=>{E(t,n,{duplicateOnlyCollectionSchema:!1,useDuplicateSubtreeFlow:!0,callback:e})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),(0,Y().Fw)({key:"duplicate schema only",displayName:Y().AY.duplicateCollectionSchemaOnlyName,analyticsName:"duplicate_schema_only",validators:[(0,I().A)(f().P)],shortcuts:["duplicateSchema"],closeParentMenu:!0,track:{actionName:"duplicate"},action:(e,{blocks:t,environment:n},o)=>{E(t,n,{duplicateOnlyCollectionSchema:!0,useDuplicateSubtreeFlow:!0,callback:e})},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online})]}),V=(0,Y().Ls)({key:"duplicate into private",displayName:Y().AY.duplicateToPrivateName,analyticsName:Y().AY.duplicateToPrivateName.defaultMessage,svg:i().V,validators:[(0,I().A)(u().x),w()._,g().p,(0,I().A)(A().P),(0,P().or)([p().p,(0,I().A)(v().M),N]),(0,P().or)([(0,I().A)(M().a),k().A]),(0,I().A)(b().o)],closeParentMenu:!0,action:async({blocks:e,environment:t},n)=>{await W(e,t,void 0,n)},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),K=(0,F().u)({key:"duplicate collection to private",displayName:Y().AY.duplicateToPrivateName,analyticsName:Y().AY.duplicateToPrivateName.defaultMessage,svg:i().V,width:275,validators:[(0,I().A)(u().x),w()._,g().p,(0,I().A)(A().P),(0,P().or)([p().p,(0,I().A)(v().M),N]),(0,d().U)([M().a,(0,I().A)(k().A)]),(0,I().A)(b().o)],subActions:()=>[{key:"collection duplication options",render:e=>(0,R.jsx)(s().A,{...e}),actions:H.actions}]}),H=(0,Y().gy)({key:"duplicate collection to private actions",title:Y().AY.duplicateName,render:e=>(0,R.jsx)(s().A,{...e}),actions:[(0,Y().Ls)({key:"duplicate with data",displayName:Y().AY.duplicateCollectionWithDataName,analyticsName:"duplicate_with_data",validators:[],closeParentMenu:!0,action:async({blocks:e,environment:t})=>{await W(e,t,!1)},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online}),(0,Y().Ls)({key:"duplicate schema only",displayName:Y().AY.duplicateCollectionSchemaOnlyName,analyticsName:"duplicate_schema_only",validators:[],closeParentMenu:!0,action:async({blocks:e,environment:t})=>{await W(e,t,!0)},disabled:()=>!o().A.state.online,renderTooltip:()=>C().A.formatMessage(Y().AY.unavailableOfflineTooltip),disableTooltip:()=>o().A.state.online})]});function E(e,t,o){if(!(0,B().E)(t))return;const i=e[0].getParentStore();if("block"!==(null==i?void 0:i.table)&&"team"!==(null==i?void 0:i.table)&&"space"!==(null==i?void 0:i.table))return;const s=(0,n(966152).LT)(i),{callback:r,duplicateOnlyCollectionSchema:d,useDuplicateSubtreeFlow:u}=o??{};(0,c().hh)({environment:t,sourceBlocks:e,destination:s,from:"duplicate_action_registry",options:{duplicateOnlyCollectionSchema:d,addCopyName:!0,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0},skipUserFacingMessages:!1,useDuplicateSubtreeFlow:u,listener:e=>{"page_navigable"===e.type&&l().uK({environment:t,store:e.navigableBlockStore,visitType:x().ig.Default,pageVisitSource:a().y8.Duplicate})}}).then((e=>{n(973647).Q.isSuccess(e)&&(null==r||r())}))}async function W(e,t,o,i){if(!(0,B().E)(t))return;const s=_().default.state.sidebarSpaceStore,r=_().default.state.sidebarSpaceViewStore;s&&r&&await(0,c().hh)({environment:t,sourceBlocks:e,destination:{type:"space",parent:(0,n(96689).n2)(s.id)},from:"fork_page",options:{duplicateOnlyCollectionSchema:o,addCopyName:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!0},skipUserFacingMessages:!1,useDuplicateSubtreeFlow:!0,listener:e=>{"page_navigable"===e.type&&l().uK({environment:t,store:e.navigableBlockStore,visitType:x().ig.Default,pageVisitSource:a().y8.Duplicate})}})}},775584:(e,t,n)=>{n.d(t,{F:()=>a});var o=()=>n(726637);function a(){return Boolean(o().A.isMobile)}},776594:(e,t,n)=>{n.d(t,{x:()=>a});n(898992),n(823215);var o=()=>n(182106);function a(e){return e.blocks.every((e=>{const t=o().A.findOutlinerItemFromStore(e);return Boolean(t&&t.isTopLevelItem&&"bookmarks"===t.type)}))}},781286:(e,t,n)=>{n.d(t,{J6:()=>c,PA:()=>u,Uc:()=>d,hv:()=>r});var o=()=>n(896628),a=()=>n(319975),i=()=>n(231297),l=()=>n(129522),s=()=>n(958163);function r(e){const{store:t}=e,n=t.getImageHyperlink()||"",o="placeholder"!==n?n:void 0,a=l().K.getRect(t);s().A.setState({open:!0,url:"",type:"image",selectionRect:a,store:t,imageHyperlink:o,focusLinkInput:!0,trapFocus:!0})}function c(){s().A.setState({open:!1,type:"image"})}function d(e){const{url:t,transaction:n}=e,i=s().A.state;if(!i.open)return;const l=a().bS(t);o().zA({stores:[i.store],update:{image_hyperlink:l},transaction:n}),s().A.setState({...i,imageHyperlink:l,url:""})}function u(e){const t=s().A.state;t.open&&(i().createAndCommit({userAction:"imageHyperlink.unlinkImage",environment:e,canUndo:!0,perform:e=>{o().zA({stores:[t.store],update:{image_hyperlink:null},transaction:e})}}),s().A.reset())}},787281:(e,t,n)=>{n.d(t,{U:()=>o});n(898992),n(737550);function o(e){return e.blocks.some((e=>e.isAssociatedCollectionAPageTree()))}},789183:(e,t,n)=>{n.d(t,{R5:()=>T,pG:()=>w,Im:()=>N});n(18107),n(967357);var o=()=>n(700500);n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"0.87 5.97 18.25 8.05",svg:(0,n(474848).jsx)("path",{d:"m5.58 11.757.685 1.855a.625.625 0 0 0 1.172-.434L4.985 6.544a.863.863 0 0 0-1.62 0l-2.45 6.634a.625.625 0 0 0 1.172.434l.686-1.855zm-.463-1.25H3.234l.941-2.548zm4.26-4.527c.345 0 .625.28.625.625v6.165h3.147a.625.625 0 1 1 0 1.25H9.377a.625.625 0 0 1-.625-.625v-6.79c0-.345.28-.625.625-.625m3.147.625c0-.345.28-.625.625-.625h5.35a.625.625 0 1 1 0 1.25h-2.05v6.165a.625.625 0 0 1-1.25 0V7.23h-2.05a.625.625 0 0 1-.625-.625"})},i=(0,n(340498).wt)("textAlt",a);var l=()=>n(441467),s=()=>n(730307),r=()=>n(930545),c=()=>n(158658),d=()=>n(921333);var u=()=>n(375308),m=()=>n(440902),p=()=>n(419286),g=()=>n(598101),v=()=>n(422155),y=()=>n(231722),f=()=>n(481292),k=()=>n(792002),b=()=>n(129522),h=()=>n(693202),A=()=>n(10521);const S=(0,n(69708).YK)({commentName:{id:"action.comment.name",defaultMessage:"Comment"},captionName:{id:"action.caption.name",defaultMessage:"Caption"},altTextName:{id:"action.altText.name",defaultMessage:"Alt text"},reactName:{id:"action.react.name",defaultMessage:"React"}}),N=(0,A().Fw)({key:"comment",displayName:S.commentName,analyticsName:S.commentName.defaultMessage,svg:n(49621).h,hideFromSlashActionMenu:!0,validators:[r().zp],shortcuts:["comment"],closeParentMenu:!0,action:({blocks:e,environment:t,lazyDependencies:{formulasModule:a}})=>{const i=e[0],r=null==i?void 0:i.getModel();if(i){const e="editing"===h().default.state.mode&&h().default.state.multiSelection;if(e&&!(0,f().k)(e)&&(e.start.store.id===i.id||null!=r&&r.isType("table")&&"properties"===e.start.store.path[0]&&e.start.store.path[1]&&(i.getFormatStore().getKeyStore("table_block_column_order").getValue()??[]).includes(String(e.start.store.path[1]))))l().hN({environment:t,blockStore:i,multiSelection:e,formulasModule:a});else if(i.isDefined()&&null!=r&&r.isType(o().uP)){const e=i.getTitleStore(),n=e&&(0,k().s6)(e);if(e&&n&&n.endIndex>0){const o={startIndex:0,endIndex:n.endIndex};l().hN({environment:t,blockStore:i,multiSelection:(0,y().$U)({store:e,selection:o}),rect:b().K.getRect(i),formulasModule:a})}}else if(i.getAssociatedCollectionStore()){var c;const e=n(299545).oC(i,{recursivelyLoadAllDiscussions:!1}),o=n(57618).A.findBlockPropertyValue(i,"title"),a=null==o||null===(c=o.getNode())||void 0===c?void 0:c.getBoundingClientRect();e>0?n(182641).B4({environment:t,blockStore:i,shouldFocusDiscussion:!0,analyticsFrom:"db_page_comments",rect:a,recursivelyLoadAllDiscussions:!1}):(0,s().l)({environment:t,blockStore:i,rect:a})}else(0,s().l)({environment:t,blockStore:i})}}}),w=(0,A().Fw)({key:"caption",displayName:S.captionName,analyticsName:S.captionName.defaultMessage,svg:n(6030).W,validators:[c().p,(0,g().A)(u().v),m().v,function(e){if(e.blocks){var t;const n=e.blocks.at(0);return Boolean(null==n||null===(t=n.getModel())||void 0===t?void 0:t.isType(o().IA))}return!1},(0,v().or)([(0,d().i)("source"),(0,d().i)("link"),(0,p().X)("code")])],shortcuts:["caption"],closeParentMenu:!0,track:{actionName:"init_edit_caption"},action:(e,{blocks:t},o)=>{const a=t.at(0);a&&(n(391214).pG(a),e())}}),T=(0,A().Ls)({key:"alt text",displayName:S.altTextName,analyticsName:S.altTextName.defaultMessage,svg:i,validators:[m().v,(0,p().X)(o().xd.image),(0,d().i)("source"),(0,v().or)([(0,d().i)("alt_text"),(0,n(574357).U)([c().p,(0,g().A)(u().v)])])],closeParentMenu:!0,track:{actionName:"init_edit_alt_text"},action:(e,{blocks:t,environment:o},a)=>{const i=t.at(0);i&&((0,n(580050).a)({environment:o,blockStore:i,entrypoint:"block_menu"}),e())}});(0,A().Fw)({key:"react",displayName:S.reactName,analyticsName:S.reactName.defaultMessage,svg:n(546703).r,validators:[c().p,(0,g().A)(u().v),n(792609).Y,(0,g().A)(n(49533)._),r().bn,(0,v().or)([m().v,n(202786).T]),(0,g().A)(n(275143).y),(0,n(963335).S)("block_reactions")],shortcuts:["react"],closeParentMenu:!0,action:({blocks:e,environment:t,lazyDependencies:{formulasModule:a}})=>{const i=e[0],s=null==i?void 0:i.getModel();if(i){const e="editing"===h().default.state.mode&&h().default.state.multiSelection;if(e&&!(0,f().k)(e)&&(e.start.store.id===i.id||null!=s&&s.isType("table")&&"properties"===e.start.store.path[0]&&e.start.store.path[1]&&(i.getFormatStore().getKeyStore("table_block_column_order").getValue()??[]).includes(String(e.start.store.path[1]))))l().of({environment:t,blockStore:i,multiSelection:e,formulasModule:a});else if(i.isDefined()&&null!=s&&s.isType(o().uP)){const e=i.getTitleStore(),n=e&&(0,k().s6)(e);if(e&&n&&n.endIndex>0){const o={startIndex:0,endIndex:n.endIndex};l().of({environment:t,blockStore:i,multiSelection:(0,y().$U)({store:e,selection:o}),rect:b().K.getRect(i),formulasModule:a})}}else(0,n(517288).O)({environment:t,blockStore:i,formulasModule:a})}}})},808764:(e,t,n)=>{n.d(t,{U:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 15.25 11.75",svg:(0,n(474848).jsx)("path",{d:"M2.375 6.25c0-1.174.951-2.125 2.125-2.125h11c1.174 0 2.125.951 2.125 2.125v7.5a2.125 2.125 0 0 1-2.125 2.125h-11a2.125 2.125 0 0 1-2.125-2.125zm1.25 7.5c0 .483.392.875.875.875h11a.875.875 0 0 0 .875-.875V7.5H3.625zm1.008-7.316a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25m2.625-.625a.625.625 0 1 0-1.25 0 .625.625 0 0 0 1.25 0m1.375.625a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})},a=(0,n(340498).wt)("browser",o)},809210:(e,t,n)=>{n.d(t,{f:()=>a});n(18107),n(967357);var o=()=>n(733539);function a(){return Boolean(o().default.state.redoStack.at(-1))}},843005:(e,t,n)=>{n.d(t,{c5:()=>R,kR:()=>C,sp:()=>Y,DZ:()=>I,t3:()=>_});n(18107),n(967357),n(581454),n(296540);var o=()=>n(700500),a=()=>n(496603),i=()=>n(534177),l=()=>n(231297),s=()=>n(938346),r=()=>n(89924),c=()=>n(645873);const d=new(c().O2)("NewPageInMenu",(async()=>Promise.all([n.e(75134),n.e(99223),n.e(58795),n.e(9773),n.e(36556),n.e(40537),n.e(55373),n.e(36192),n.e(71562),n.e(96346),n.e(44711),n.e(53321),n.e(90825),n.e(77213),n.e(16471),n.e(37353),n.e(9603),n.e(44560),n.e(29151),n.e(87248),n.e(97959),n.e(87249),n.e(71621),n.e(88924),n.e(92845),n.e(56369),n.e(5834),n.e(48486),n.e(2411),n.e(89296),n.e(46414),n.e(9294),n.e(11676),n.e(91256),n.e(40563),n.e(67494),n.e(44584),n.e(53141),n.e(4422),n.e(4330),n.e(55162),n.e(71003),n.e(55753),n.e(28866),n.e(22001),n.e(71386),n.e(4351),n.e(6331),n.e(69144),n.e(42660),n.e(55997),n.e(40828),n.e(62579),n.e(12341),n.e(14163),n.e(14310),n.e(96402),n.e(84166),n.e(70359),n.e(14529),n.e(25770),n.e(29595),n.e(16448),n.e(10442),n.e(16434),n.e(45769),n.e(46080),n.e(75902),n.e(99809),n.e(58636),n.e(78405),n.e(33675),n.e(74562),n.e(37384),n.e(91598),n.e(32254),n.e(48046),n.e(13955),n.e(45147),n.e(65197),n.e(29875),n.e(75104),n.e(62032),n.e(26942),n.e(82215),n.e(63248),n.e(38019),n.e(23057),n.e(31061)]).then(n.bind(n,141486)))),u=(0,c().jQ)(d,(e=>e.default));var m=()=>n(855801),p=()=>n(574357),g=()=>n(409076),v=()=>n(158658),y=()=>n(664767),f=()=>n(633207),k=()=>n(772186),b=()=>n(517947),h=()=>n(598101),A=()=>n(495506),S=()=>n(792609),N=()=>n(202786),w=()=>n(10521),T=n(474848);const M={column_list:!0,transclusion_container:!0},I=(0,n(69708).YK)({turnIntoSection:{id:"action.section.turnInto",defaultMessage:"Turn into"},newPageInName:{id:"action.pageIn.name",defaultMessage:"Page in"},turnIntoMention:{id:"action.turnIntoMention",defaultMessage:"Turn into mention"}}),P=(0,w().Ls)({key:"new page in section",displayName:I.newPageInName,analyticsName:I.newPageInName.defaultMessage,closeParentMenu:!0,svg:n(177148).Y,hideFromSlashActionMenu:!0,validators:[v().p,(0,h().A)(n(375308).v),(0,h().A)((0,n(419286).X)("page")),(0,h().A)(n(918871).w),S().Y,g().p],render:(e,t,n)=>{const{onFocus:o,onAccept:a,extendItemTitle:i,sectionTitle:l}=n;return(0,T.jsx)(u,{...e,title:I.newPageInName,sectionTitle:l??"",showSectionTitle:Boolean(i),blocksToTransform:t.blocks,onFocus:o,onAccept:a?()=>a(P,t,void 0):void 0})},action:e=>{}});function x(){const e=(0,i().uv)(o().Si),t=e.findIndex((e=>"page"===e)),n=e.map((e=>B(e))),a=Object.values(o().sh).map((e=>B(e)));return[...n.slice(0,t+1),P,...n.slice(t+1),...a]}function C(){return(0,w().gy)({key:"turn into actions",title:I.turnIntoSection,render:e=>(0,T.jsx)(r().A,{...e}),actions:x()})}const _=C();function B(e){const t=A().ry[e],n=M[e];return{key:`turn into ${e}`,displayName:t.displayName,analyticsName:t.analyticsName,analyticsActionType:"turn_block_into",searchName:t.searchName,validators:a().oE([v().p,n?void 0:g().p,S().Y,"transclusion_container"===e?(0,p().U)([(0,h().A)(f().u),F]):void 0,"slide"===e?b().Q:void 0,(0,o().ZK)(e)?e=>1===e.blocks.length:void 0,(0,o().nH)(e)?e=>!1:void 0,"column_list"===e?e=>{if(!e.blocks)return!1;const t=e.blocks.length;if(t<2||t>5)return!1;const n=e.blocks[0].getParentBlockStore();if(!n)return!1;const o=e.blocks.map((e=>{const t=e.getParentBlockStore();return(null==t?void 0:t.id)!==n.id?-1:n.getRenderableContentIds().indexOf(e.id)}));for(let a=0;a<o.length;a++)if(a>0&&o[a-1]+1!==o[a])return!1;return!0}:void 0,(0,o().D)(e)?()=>!0:void 0,"mermaid_code_block"===e?()=>!1:void 0]),shortcuts:"transclusion_container"===e?["group"]:void 0,closeParentMenu:!0,action:(0,w().G9)("turn_into",(async(t,{environment:n,blocks:o})=>{const a=await(0,m().zQ)(),{serverCommitResult:i}=l().createAndCommit({userAction:`actionRegistry.turnIntoAction.${e}`,environment:n,canUndo:!0,perform:t=>{a({environment:n,blocks:o,blockType:e,transaction:t})}});i.then(t)})),render:(e,n,o)=>{const{extendItemTitle:a,sectionTitle:i,styles:l}=o,r=Y(n,t);return(0,T.jsx)(s().Ay,{...e,...t,title:t.displayName,format:s().og.TurnInto,selected:r,showSectionTitle:Boolean(a),sectionTitle:i??"",desktopTitleStyle:null==l?void 0:l.desktopTitleStyle})},nativeImageReference:()=>(0,w().eW)({thumbnail:t.mobileNativeThumbnail?t.mobileNativeThumbnail():t.thumbnail})}}function F(e){return!(0,N().T)()||(0,y().c)()&&(0,k().F)(e)}function Y(e,t){const n=e.blocks[0];if(!n)return!1;const o=n.getType()===t.blockType;if(o&&("header"===t.blockType||"sub_header"===t.blockType||"sub_sub_header"===t.blockType)){const e=n.getFormat().toggleable;return!(e&&!t.key.includes("toggle"))&&!(!e&&t.key.includes("toggle"))}return o}const R=(0,w().Ls)({key:"turn to mention",displayName:I.turnIntoMention,analyticsName:I.turnIntoMention.defaultMessage,validators:[v().p,n(871306).b],closeParentMenu:!0,svg:n(3284).arrowSquarePathUpDownIcon,action:({blocks:e,environment:t})=>{const a=e.at(0);null!=a&&a.isType(o().xd.alias)&&n(62287).Ff(t,a)}})},859398:(e,t,n)=>{n.d(t,{$:()=>s});n(898992),n(823215);var o=()=>n(337567),a=()=>n(620149),i=()=>n(507395),l=()=>n(411960);function s(e){if(a().l.state)return!1;if((0,i().q)())return!1;if(e.publicEditMode){const t=e.publicEditMode.permission;return"edit"===t||"comment"===t}return!(0,l().P)(e)&&e.blocks.every((e=>!e.pathIsDead()&&(!(0,o().dL)(e)&&e.canComment())))}},868673:(e,t,n)=>{n.d(t,{a:()=>i});n(18107),n(967357);var o=()=>n(747100),a=()=>n(712505);function i(e){var t;const n=e.blocks.at(0);return Boolean(o().Gb()&&(null==n?void 0:n.id)===(null===(t=a().default.peekTargetStore.state)||void 0===t?void 0:t.id))}},871306:(e,t,n)=>{n.d(t,{b:()=>a});n(18107),n(967357);var o=()=>n(348895);function a(e){const t=e.blocks.at(0);return(0,o().m)(t)}},893306:(e,t,n)=>{n.d(t,{N:()=>v,S:()=>y});n(18107),n(967357),n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.5 2.5 15.5 15.5",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.61 3.61a3.776 3.776 0 0 1 5.34 0l.367.368a3.776 3.776 0 0 1 0 5.34l-.715.715a4.6 4.6 0 0 0-1.67-.098l1.502-1.501a2.526 2.526 0 0 0 0-3.572l-.368-.367a2.526 2.526 0 0 0-3.572 0L9.641 6.347a.625.625 0 1 1-.883-.883zm-.675 10.323-1.5 1.5a2.525 2.525 0 0 1-3.573 0l-.367-.367a2.526 2.526 0 0 1 0-3.572l1.853-1.853a.625.625 0 1 0-.884-.884L3.61 10.61a3.776 3.776 0 0 0 0 5.34l.367.367a3.776 3.776 0 0 0 5.34 0l.715-.715a4.6 4.6 0 0 1-.098-1.67"}),(0,o.jsx)("path",{d:"M12.98 7.833a.625.625 0 1 0-.885-.884l-5.448 5.448a.625.625 0 0 0 .884.884zM14.5 18a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7m1.969-4.094h-1.375v-1.375a.625.625 0 0 0-1.25 0v1.375h-1.375a.625.625 0 0 0 0 1.25h1.375v1.375a.625.625 0 1 0 1.25 0v-1.375h1.375a.625.625 0 0 0 0-1.25"})]})},i=(0,n(340498).wt)("linkBadgePlus",a);var l=()=>n(158658);function s(e){const t=e.blocks.at(0);return Boolean(null==t?void 0:t.getFormat().image_hyperlink)}var r=()=>n(198365),c=()=>n(375308),d=()=>n(440902),u=()=>n(598101),m=()=>n(781286),p=()=>n(10521);const g=(0,n(69708).YK)({addImageHyperlink:{id:"action.addImageHyperlink",defaultMessage:"Add link to image"},editImageHyperlink:{id:"action.editImageHyperlink",defaultMessage:"Edit link to image"}}),v=(0,p().Fw)({key:"link image",displayName:g.addImageHyperlink,analyticsName:g.addImageHyperlink.defaultMessage,svg:i,validators:[l().p,d().v,r().w,(0,u().A)(c().v),(0,u().A)(s)],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,track:{actionName:"init_edit_link"},action:(e,{blocks:t},n)=>{const o=t.at(0);o&&(m().hv({store:o}),e())}}),y=(0,p().Fw)({key:"link image",displayName:g.editImageHyperlink,analyticsName:g.editImageHyperlink.defaultMessage,svg:n(742852).linkIcon,validators:[l().p,d().v,r().w,(0,u().A)(c().v),s],shortcuts:["openLinkMenuOrOpenSearch"],closeParentMenu:!0,track:{actionName:"init_edit_link"},action:(e,{blocks:t},n)=>{const o=t.at(0);o&&(m().hv({store:o}),e())}})},906590:(e,t,n)=>{n.d(t,{Q:()=>i});n(898992),n(354520);var o=()=>n(77272),a=()=>n(850213);function i(e){const t=o().A.state.recentlyUsedColors.filter((t=>t!==e));t.unshift(e),t.length>5&&t.pop(),o().A.state.recentlyUsedColors=t,a().A.setState([...t])}},918871:(e,t,n)=>{function o({environment:{device:e}}){return e.isMobileNative}n.d(t,{w:()=>o})},921333:(e,t,n)=>{n.d(t,{i:()=>o});n(18107),n(967357);function o(e){return t=>{if(t.blocks){const n=t.blocks.at(0);return Boolean(null==n?void 0:n.getProperties()[e])}return!1}}},929084:(e,t,n)=>{function o({environment:{device:e}}){return e.isElectron}n.d(t,{b:()=>o})},929409:(e,t,n)=>{n.d(t,{S:()=>r});n(898992),n(823215),n(354520);var o=()=>n(68263),a=()=>n(329443),i=()=>n(310526),l=()=>n(765957),s=()=>n(620149);function r({environment:e,publicEditMode:t,blocks:n}){if(s().l.state)return!1;const{id:r}=e.currentUser;if(!r)return!1;if(a().QT(t))return!1;const c=l().default.state.sidebarSpaceViewStore;return n.every((t=>(0,a().A$)({userId:r,store:t}).filter((({type:e,role:n})=>{if(!n)return!1;const a=t.isCollectionView()||t.isTemplate()?o().lg(n):o().p2(n);return"public_permission"!==e&&a})).length>0&&(a().MI({environment:e,blockStore:t})||t.isTopLevelPrivatePage()&&(0,i().U)(c))))}},933152:(e,t,n)=>{n.d(t,{M:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.74 2.66 14.98 14.67",svg:(0,n(474848).jsx)("path",{d:"M5.606 2.669a1.55 1.55 0 0 0-1.55 1.55v.379l-.069-.004h-.693a.55.55 0 0 0 0 1.1h.693l.069-.004v.379c0 .856.694 1.55 1.55 1.55h8.787a1.55 1.55 0 0 0 1.55-1.55v-.375h.3c.208 0 .376.168.376.375v2.023a.375.375 0 0 1-.375.375h-5.32c-.814 0-1.474.66-1.474 1.475v.592a1.55 1.55 0 0 0-1.463 1.547v3.7c0 .856.694 1.55 1.55 1.55h.925a1.55 1.55 0 0 0 1.55-1.55v-3.7a1.55 1.55 0 0 0-1.462-1.547v-.592c0-.207.168-.375.375-.375h5.319c.814 0 1.475-.66 1.475-1.475V6.069c0-.815-.66-1.475-1.475-1.475h-.3v-.375a1.55 1.55 0 0 0-1.55-1.55zm-.3 1.55a.3.3 0 0 1 .3-.3h8.787a.3.3 0 0 1 .3.3v1.85a.3.3 0 0 1-.3.3H5.606a.3.3 0 0 1-.3-.3zm3.931 7.862a.3.3 0 0 1 .3-.3h.925a.3.3 0 0 1 .3.3v3.7a.3.3 0 0 1-.3.3h-.925a.3.3 0 0 1-.3-.3z"})},a=(0,n(340498).wt)("blockColor",o)},938346:(e,t,n)=>{n.d(t,{Ay:()=>A,og:()=>y});var o=n(296540),a=()=>n(56366),i=()=>n(401497),l=()=>n(425946),s=()=>n(100622),r=()=>n(478184),c=()=>n(502438),d=()=>n(301948),u=()=>n(13898),m=()=>n(559273),p=()=>n(515918),g=n(474848);const v=o.lazy((()=>Promise.all([n.e(4330),n.e(18653)]).then(n.bind(n,553666)).then((e=>({default:e.PremiumFeatureBadgeWrapper})))));let y=function(e){return e[e.Insert=0]="Insert",e[e.TurnInto=1]="TurnInto",e}({});function f(e){const{thumbnail:t,iconSize:n}=e,o=(0,i().IS)((e=>({simplifiedThumbnail:{display:"block",width:n,height:n,flexGrow:0,flexShrink:0,background:s().Tj.white}})),[n]),a=(0,r().L)(t)||l().M;return(0,g.jsx)(m().A,{src:a,style:o.simplifiedThumbnail})}function k(e,t){const l=(0,n(484714).v3)(),s="dark"===(0,i().eP)(),{description:d,format:u,selected:m,title:p,sectionTitle:v,showSectionTitle:k,thumbnail:b,tooltipPhoto:A,thumbnailPadding:S,isDisabled:N,disabledTooltipMessage:w,shortcut:T,icon:M,desktopTitleStyle:I,blockType:P,integrationId:x}=e,C=u===y.Insert,_=(0,a().K8)((()=>!!N&&N({environment:l,blocks:c().default.state.stores,publicEditMode:void 0})),[l,N]),B=(0,a().K8)((()=>{if(w)return w({environment:l,blocks:c().default.state.stores,publicEditMode:void 0})}),[l,w]),F=(0,a().K8)((()=>{if(x&&"collection_view"===P)return(0,n(462853).l)(x)}),[x,P]),Y=(0,i().IS)((e=>({titleDiv:{display:"flex",alignItems:"center"},shortcut:{color:e.text.tertiary,fontSize:12,whiteSpace:"nowrap",paddingInlineEnd:2},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center"},icon:{width:20,height:20,fill:e.icon.primary},title:{marginInlineEnd:6},sectionTitle:{color:e.text.tertiary,marginInlineEnd:6,...n(284371).RC}})),[20,6]),R=(0,o.useCallback)((()=>(0,g.jsx)(f,{isInsertFormat:C,iconSize:20,thumbnailPadding:S,thumbnail:b})),[b,S,C,20]),{badge:j,...U}=e,D=C&&Boolean(T),z=void 0!==M,L=Boolean(m&&!C),[{value:O}]=(0,n(187174).Yb)((async()=>{const{assistantDependency:e}=await Promise.resolve().then(n.bind(n,650829));return(await e.load()).AssistantFeatureGateStore}),[]),V=(0,a().K8)((()=>{if("ai_block"===P){return(null==O?void 0:O.isAiBlockConfigurationMenuEnabledForUser())??!1?"new":"ai"}return"function"==typeof j?j():j}),[O,P,j]),K=(0,o.useCallback)((e=>(0,g.jsx)(n(760217).A,{...(0,n(553965).A)(e||{},U),desktopTitleStyle:I,ref:t,isChecked:L,right:D?(0,g.jsx)("span",{style:Y.shortcut,children:T}):void 0,title:(0,g.jsxs)("div",{style:Y.titleDiv,children:[k?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("span",{style:Y.title,children:p}),(0,g.jsx)("span",{style:Y.sectionTitle,children:""}),(0,g.jsx)("span",{style:Y.sectionTitle,children:v})]}):(0,g.jsx)("span",{style:Y.title,children:p}),(0,g.jsx)(h,{featureName:F,badgeOverride:V,showCheck:L})]}),icon:z?(0,g.jsx)("div",{style:Y.iconContainer,children:M(s)(Y.icon)}):R(),disabled:_,disabledFeedback:_})),[U,t,L,Y.titleDiv,Y.iconContainer,Y.icon,p,Y.title,R,_,z,M,Y.shortcut,T,D,k,v,Y.sectionTitle,s,I,F,V]),H=(0,o.useCallback)((()=>{if(_&&B)return(0,g.jsx)("div",{children:B});const e=A?(0,r().L)(A):void 0;return(0,g.jsx)(n(103448).A,{imageURL:e,imageWidth:140,imageHeight:100,caption:d})}),[_,A,d,B]);return n(726637).A.isMobile?K():(0,g.jsx)(n(859428).A,{renderTooltip:H,placement:"right",delayThreshold:0,render:e=>K(e)})}function b({badgeOverride:e,showCheck:t}){return t?null:(0,g.jsxs)(g.Fragment,{children:["new"===e?(0,g.jsx)(p().A,{style:{marginInlineStart:0}}):null,"beta"===e?(0,g.jsx)(u().A,{}):null,"alpha"===e?(0,g.jsx)(d().A,{}):null]})}function h({featureName:e,badgeOverride:t,showCheck:n}){return e?(0,g.jsx)(o.Suspense,{fallback:(0,g.jsx)(b,{badgeOverride:t,showCheck:n}),children:(0,g.jsx)(v,{featureName:e,badgeOverride:t,showCheck:n})}):(0,g.jsx)(b,{badgeOverride:t,showCheck:n})}const A=o.forwardRef(k)},963335:(e,t,n)=>{n.d(t,{S:()=>a});var o=()=>n(242422);function a(e,t,n){return()=>o().default.checkGate({gateName:e,disableExposureLogging:t,enableEventTrailLogging:n})}}}]);